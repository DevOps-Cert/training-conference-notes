/*
 bytebuffer.js (c) 2015 Daniel Wirtz <dcode@dcode.io>
 Backing buffer: ArrayBuffer, Accessor: Uint8Array
 Released under the Apache License, Version 2.0
 see: https://github.com/dcodeIO/bytebuffer.js for details
 Modernizr 3.0.0pre (Custom Build) | MIT

 lodash 3.10.1 (Custom Build) <https://lodash.com/>
 Build: `lodash modern -d -o ./index.js`
 Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 Available under MIT license <https://lodash.com/license>
 long.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 Released under the Apache License, Version 2.0
 see: https://github.com/dcodeIO/long.js for details
 protobuf.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 Released under the Apache License, Version 2.0
 see: https://github.com/dcodeIO/protobuf.js for details
 Modernizr 3.0.0pre (Custom Build) | MIT


 Regression.JS - Regression functions for javascript
 http://tom-alexander.github.com/regression-js/

 copyright(c) 2013 Tom Alexander
 Licensed under the MIT license.

*/
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,l,f){if(f.get||f.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[l]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,l,f,c){if(l){f=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in f||(f[e]={});f=f[e]}a=a[a.length-1];c=f[a];l=l(c);l!=c&&null!=l&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:l})}};$jscomp.polyfill("Object.setPrototypeOf",function(a){return a?a:"object"!=typeof"".__proto__?null:function(a,f){a.__proto__=f;if(a.__proto__!==f)throw new TypeError(a+" is not extensible");return a}},"es6","es5");
$jscomp.findInternal=function(a,l,f){a instanceof String&&(a=String(a));for(var c=a.length,e=0;e<c;e++){var h=a[e];if(l.call(f,h,e,a))return{i:e,v:h}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).v}},"es6-impl","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;
$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.arrayIterator=function(a){var l=0;return $jscomp.iteratorPrototype(function(){return l<a.length?{done:!1,value:a[l++]}:{done:!0}})};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(a,l){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var f=0,c={next:function(){if(f<a.length){var e=f++;return{value:l(e,a[e]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
$jscomp.owns=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,f){for(var c=1;c<arguments.length;c++){var e=arguments[c];if(e)for(var h in e)$jscomp.owns(e,h)&&(a[h]=e[h])}return a}},"es6-impl","es3");
$jscomp.checkStringArgs=function(a,l,f){if(null==a)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(l instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,f){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,f||0)}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,f){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var e=c.length,h=a.length;f=Math.max(0,Math.min(f|0,c.length));for(var b=0;b<h&&f<e;)if(c[f++]!=a[b++])return!1;return b>=h}},"es6-impl","es3");$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var l=a[Symbol.iterator];return l?l.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill("WeakMap",function(a){function l(a){$jscomp.owns(a,c)||$jscomp.defineProperty(a,c,{value:{}})}function f(a){var b=Object[a];b&&(Object[a]=function(a){l(a);return b(a)})}if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),c=Object.seal({}),d=new a([[b,2],[c,3]]);if(2!=d.get(b)||3!=d.get(c))return!1;d.delete(b);d.set(c,4);return!d.has(b)&&4==d.get(c)}catch(n){return!1}}())return a;var c="$jscomp_hidden_"+Math.random().toString().substring(2);f("freeze");f("preventExtensions");
f("seal");var e=0,h=function(a){this.id_=(e+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};h.prototype.set=function(a,k){l(a);if(!$jscomp.owns(a,c))throw Error("WeakMap key fail: "+a);a[c][this.id_]=k;return this};h.prototype.get=function(a){return $jscomp.owns(a,c)?a[c][this.id_]:void 0};h.prototype.has=function(a){return $jscomp.owns(a,c)&&$jscomp.owns(a[c],this.id_)};h.prototype.delete=
function(a){return $jscomp.owns(a,c)&&$jscomp.owns(a[c],this.id_)?delete a[c][this.id_]:!1};return h},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_MAP=!1;
$jscomp.polyfill("Map",function(a){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([[b,"s"]]));if("s"!=c.get(b)||1!=c.size||c.get({x:4})||c.set({x:4},"t")!=c||2!=c.size)return!1;var n=c.entries(),m=n.next();if(m.done||m.value[0]!=b||"s"!=m.value[1])return!1;m=n.next();return m.done||4!=m.value[0].x||"t"!=m.value[1]||!n.next().done?!1:!0}catch(q){return!1}}())return a;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var l=new WeakMap,f=function(a){this.data_={};this.head_=h();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};f.prototype.set=function(a,b){var d=c(this,a);d.list||(d.list=this.data_[d.id]=[]);d.entry?d.entry.value=b:(d.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},d.list.push(d.entry),this.head_.previous.next=d.entry,this.head_.previous=d.entry,this.size++);return this};f.prototype.delete=
function(a){a=c(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};f.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=h();this.size=0};f.prototype.has=function(a){return!!c(this,a).entry};f.prototype.get=function(a){return(a=c(this,a).entry)&&a.value};f.prototype.entries=function(){return e(this,function(a){return[a.key,
a.value]})};f.prototype.keys=function(){return e(this,function(a){return a.key})};f.prototype.values=function(){return e(this,function(a){return a.value})};f.prototype.forEach=function(a,b){for(var c=this.entries(),d;!(d=c.next()).done;)d=d.value,a.call(b,d[1],d[0],this)};f.prototype[Symbol.iterator]=f.prototype.entries;var c=function(a,c){var d;d=c&&typeof c;"object"==d||"function"==d?l.has(c)?d=l.get(c):(d=""+ ++b,l.set(c,d)):d="p_"+c;var m=a.data_[d];if(m&&$jscomp.owns(a.data_,d))for(a=0;a<m.length;a++){var k=
m[a];if(c!==c&&k.key!==k.key||c===k.key)return{id:d,list:m,index:a,entry:k}}return{id:d,list:m,index:-1,entry:void 0}},e=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},h=function(){var a={};return a.previous=a.next=a.head=a},b=0;return f},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,f){return f})}},"es6","es3");$jscomp.polyfill("Math.sign",function(a){return a?a:function(a){a=Number(a);return 0===a||isNaN(a)?a:0<a?1:-1}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.copyWithin",function(a){return a?a:function(a,f,c){var e=this.length;a=Number(a);f=Number(f);c=Number(null!=c?c:e);if(a<f)for(c=Math.min(c,e);f<c;)f in this?this[a++]=this[f++]:(delete this[a++],f++);else for(c=Math.min(c,e+f-a),a+=c-f;c>f;)--c in this?this[--a]=this[c]:delete this[a];return this}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.entries",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,f){return[a,f]})}},"es6-impl","es3");$jscomp.polyfill("Array.from",function(a){return a?a:function(a,f,c){$jscomp.initSymbolIterator();f=null!=f?f:function(a){return a};var e=[],h=a[Symbol.iterator];if("function"==typeof h)for(a=h.call(a);!(h=a.next()).done;)e.push(f.call(c,h.value));else for(var h=a.length,b=0;b<h;b++)e.push(f.call(c,a[b]));return e}},"es6-impl","es3");
$jscomp.polyfill("Math.expm1",function(a){return a?a:function(a){a=Number(a);if(.25>a&&-.25<a){for(var f=a,c=1,e=a,h=0;h!=e;)f*=a/++c,e=(h=e)+f;return e}return Math.exp(a)-1}},"es6-impl","es3");$jscomp.polyfill("Math.log1p",function(a){return a?a:function(a){a=Number(a);if(.25>a&&-.25<a){for(var f=a,c=1,e=a,h=0,b=1;h!=e;)f*=a,b*=-1,e=(h=e)+b*f/++c;return e}return Math.log(1+a)}},"es6-impl","es3");
$jscomp.polyfill("Object.getOwnPropertySymbols",function(a){return a?a:function(){return[]}},"es6-impl","es5");$jscomp.polyfill("Object.is",function(a){return a?a:function(a,f){return a===f?0!==a||1/a===1/f:a!==a&&f!==f}},"es6-impl","es3");$jscomp.polyfill("Array.of",function(a){return a?a:function(a){return Array.from(arguments)}},"es6-impl","es3");$jscomp.polyfill("Math.acosh",function(a){return a?a:function(a){a=Number(a);return Math.log(a+Math.sqrt(a*a-1))}},"es6-impl","es3");
$jscomp.polyfill("Math.asinh",function(a){return a?a:function(a){a=Number(a);if(0===a)return a;var f=Math.log(Math.abs(a)+Math.sqrt(a*a+1));return 0>a?-f:f}},"es6-impl","es3");$jscomp.polyfill("Math.atanh",function(a){if(a)return a;var l=Math.log1p;return function(a){a=Number(a);return(l(a)-l(-a))/2}},"es6-impl","es3");
$jscomp.polyfill("Math.imul",function(a){return a?a:function(a,f){a=Number(a);f=Number(f);var c=a&65535,e=f&65535;return c*e+((a>>>16&65535)*e+c*(f>>>16&65535)<<16>>>0)|0}},"es6-impl","es3");$jscomp.polyfill("Math.sinh",function(a){if(a)return a;var l=Math.exp;return function(a){a=Number(a);return 0===a?a:(l(a)-l(-a))/2}},"es6-impl","es3");
$jscomp.polyfill("Reflect.defineProperty",function(a){return a?a:function(a,f,c){try{Object.defineProperty(a,f,c);var e=Object.getOwnPropertyDescriptor(a,f);return e?e.configurable===(c.configurable||!1)&&e.enumerable===(c.enumerable||!1)&&("value"in e?e.value===c.value&&e.writable===(c.writable||!1):e.get===c.get&&e.set===c.set):!1}catch(h){return!1}}},"es6","es5");
$jscomp.polyfill("String.fromCodePoint",function(a){return a?a:function(a){for(var f="",c=0;c<arguments.length;c++){var e=Number(arguments[c]);if(0>e||1114111<e||e!==Math.floor(e))throw new RangeError("invalid_code_point "+e);65535>=e?f+=String.fromCharCode(e):(e-=65536,f+=String.fromCharCode(e>>>10&1023|55296),f+=String.fromCharCode(e&1023|56320))}return f}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,f){var c=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===f&&(f=c.length);f=Math.max(0,Math.min(f|0,c.length));for(var e=a.length;0<e&&0<f;)if(c[--f]!=a[--e])return!1;return 0>=e}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.findIndex",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).i}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.repeat",function(a){return a?a:function(a){var f=$jscomp.checkStringArgs(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var c="";a;)if(a&1&&(c+=f),a>>>=1)f+=f;return c}},"es6-impl","es3");
(function e$$0(l,f,c){function e(b,d){if(!f[b]){if(!l[b]){var n="function"==typeof require&&require;if(!d&&n)return n(b,!0);if(h)return h(b,!0);d=Error("Cannot find module '"+b+"'");throw d.code="MODULE_NOT_FOUND",d;}d=f[b]={exports:{}};l[b][0].call(d.exports,function(c){var d=l[b][1][c];return e(d?d:c)},d,d.exports,e$$0,l,f,c)}return f[b].exports}for(var h="function"==typeof require&&require,b=0;b<c.length;b++)e(c[b]);return e})({1:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}
f=a("jquery");var e=c(f);f=a("../acl/WorkspaceAcl");var h=c(f);a=a("../acl/WorkspacePermissions");var b=c(a);l.exports={fetchPermissions:function(a){return this.fetchPermissionLevel(function(){this.getPermissionLevel()===b.default.MANAGE?this.fetchWorkspaceAcl(a):a&&a.call(this)})},fetchPermissionLevel:function(a){var c=this.getAclObjectType();return e.default.ajax({url:"/acl/"+this.getAclObjectType()+"/"+this.getAclObjectId()+"/list",type:"GET",context:this,success:function(d){this.set({permissionLevel:b.default.actionsToPermission(d,
c)});a&&a.call(this)},error:function(a,b){"abort"!==b&&(a=this?this.getAclObjectId():"",console.error("failed to fetch permissions for node "+a))}})},fetchWorkspaceAcl:function(a){(new h.default({id:this.getAclObjectId(),name:this.getName(),model:this})).fetch({success:function(b){this.set({workspaceAcl:b});a&&a.call(this,b)}.bind(this)})},getPermissionLevel:function(){return this.get("permissionLevel")?this.get("permissionLevel"):b.default.NONE},permissionsHaveBeenFetched:function(){return!!this.get("permissionLevel")},
canView:function(){return b.default.canView(this.getPermissionLevel())},canEdit:function(){return b.default.canEdit(this.getPermissionLevel())},canManage:function(){return b.default.canManage(this.getPermissionLevel())},canAttach:function(){return b.default.canAttach(this.getPermissionLevel())},canRestart:function(){return b.default.canRestart(this.getPermissionLevel())},canCreateClusters:function(){return b.default.canCreateClusters(this.getPermissionLevel())},canRun:function(){return b.default.canRun(this.getPermissionLevel())}}},
{"../acl/WorkspaceAcl":9,"../acl/WorkspacePermissions":10,jquery:819}],2:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,g){if(!(a instanceof g))throw new TypeError("Cannot call a class as a function");}function h(a,g){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!==typeof g&&"function"!==typeof g?a:g}function b(a,g){if("function"!==typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+
typeof g);a.prototype=Object.create(g&&g.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?Object.setPrototypeOf(a,g):a.__proto__=g)}Object.defineProperty(f,"__esModule",{value:!0});f.AclControl=f.AclSettingsView=void 0;var k=function(){function a(a,g){for(var b=0;b<g.length;b++){var c=g[b];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(g,b,c){b&&a(g.prototype,b);c&&
a(g,c);return g}}();l=a("react");var d=c(l);l=a("classnames");var n=c(l),m=a("../acl/AclUtils.jsx");l=a("../acl/WorkspacePermissions");var q=c(l);l=a("../filetree/WorkspaceConstants");var w=c(l);l=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx");var p=c(l);l=a("../ui_building_blocks/icons/IconsForType");var r=c(l),t=a("../ui_building_blocks/Tooltip.jsx"),u=a("../urls/DbGuideUrls");l=a("../urls/DbGuideLinks");var y=c(l),A=a("../urls/ResourceUrls");f.AclSettingsView=function(a){function c(){e(this,
c);var a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));a.turnSpinnerOff=a.turnSpinnerOff.bind(a);a.turnSpinnerOn=a.turnSpinnerOn.bind(a);a.state={showSpinner:!1};return a}b(c,a);k(c,[{key:"onToggleSuccess",value:function(a,g){window.settings&&(window.settings[a]=g)}},{key:"turnSpinnerOn",value:function(){this.setState({showSpinner:!0})}},{key:"turnSpinnerOff",value:function(){this.setState({showSpinner:!1})}},{key:"render",value:function(){var a=this,b=d.default.createElement("ul",null,
d.default.createElement("li",null,"Note: When cluster ACLs are enabled, only the job owner/creator can edit or run a job."),d.default.createElement("li",null,"If running jobs via the REST API: Before enabling cluster ACLs, users should ensure that the API user is identical to the job owner/creator. This will ensure seamless continued operation. Job access controls will be available soon.")),c=[d.default.createElement("p",null,"When cluster access control is enabled, admins will still have attach, restart and manage permissions on existing clusters, as well as the ability to create clusters."),
d.default.createElement("p",null,"When cluster access control is disabled, all users will have permissions to create clusters, as well as attach to, restart, and manage existing clusters."),d.default.createElement("p",null,"Note: When cluster ACLs are enabled, only the job owner/creator can edit or run a job."),d.default.createElement("p",null,"If running jobs via the REST API: Before enabling cluster ACLs, users should ensure that the API user is identical to the job owner/creator. This will ensure seamless continued operation. Job access controls will be available soon.")],
n=[d.default.createElement("p",null,"When workspace access control is enabled, items in each user's home directory in",d.default.createElement("b",null," /",w.default.UserFolderName)," will become private. Existing top-level items will remain shared with all users, but new top-level items will be private by default."),d.default.createElement("p",null,"When workspace access control is disabled, all items in the workspace will be accessible to all users.")],k=[d.default.createElement("p",null,"When mount point access control is enabled, mount points can be made private. Existing mount points will remain shared with all users, but new mount points will be private by default."),
d.default.createElement("p",null,"When mount point access control is disabled, all items in the workspace will be accessible to all users.")],v=d.default.createElement("img",{className:"load-spinner",src:A.ResourceUrls.getResourceUrl("img/spinner.svg")}),h=function(g){return a.cluster=g},e=function(g){return a.mount=g};return d.default.createElement("div",{className:"acl-settings-wrapper"},this.state.showSpinner?v:null,d.default.createElement(g,{ref:function(g){return a.workspace=g},aclsAvailable:window.settings&&
window.settings.enableWorkspaceAcls,additionalDescriptionElements:n,basicDescription:"Enabling Workspace Access Control will allow users to control who can view, edit, and run notebooks in their workspace.",enabled:window.settings&&window.settings.enableWorkspaceAclsConfig,configWindowSetting:"enableWorkspaceAclsConfig",controlType:q.default.WORKSPACE_TYPE,title:"Workspace Access Control",turnSpinnerOn:this.turnSpinnerOn,turnSpinnerOff:this.turnSpinnerOff,onToggleSuccess:this.onToggleSuccess}),m.AclUtils.clusterAclsFeatureFlag()?
d.default.createElement(g,{ref:h,aclsAvailable:m.AclUtils.clusterAclsAvailable(),additionalDescriptionElements:c,additionalConfirmTextElem:b,basicDescription:"Enabling Cluster Access Control will allow users to control who can attach to, restart, and manage (resize/delete) clusters that they create. It also allows control of who can create clusters.",enabled:m.AclUtils.clusterAclsEnabled(),configWindowSetting:"enableClusterAclsConfig",controlType:q.default.CLUSTER_TYPE,title:"Cluster Access Control",
turnSpinnerOn:this.turnSpinnerOn,turnSpinnerOff:this.turnSpinnerOff,onToggleSuccess:this.onToggleSuccess}):null,m.AclUtils.mountPointAclsFeatureFlag()?d.default.createElement(g,{ref:e,aclsAvailable:m.AclUtils.mountPointAclsAvailable(),additionalDescriptionElements:k,basicDescription:"Enabling Mount Point Access Control will allow users to control who can access data within mount points provided on clusters.",enabled:m.AclUtils.mountPointAclsEnabled(),configWindowSetting:"enableMountPointAclsConfig",
controlType:q.default.MOUNTPOINT_TYPE,title:"Mount Point Access Control",onToggleSuccess:this.onToggleSuccess}):null)}}]);return c}(d.default.Component);var g=f.AclControl=function(a){function g(a){e(this,g);a=h(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,a));a.toggleExpandState=a.toggleExpandState.bind(a);a.onClickToggle=a.onClickToggle.bind(a);a.state={enabled:a.props.enabled,expandedText:!1,submitting:!1};return a}b(g,a);k(g,[{key:"toggleSuccess",value:function(){var a=!this.state.enabled;
this.props.turnSpinnerOff&&this.props.turnSpinnerOff();this.props.onToggleSuccess(this.props.configWindowSetting,a);this.setState({submitting:!1,enabled:a})}},{key:"toggleError",value:function(){this.props.turnSpinnerOff&&this.props.turnSpinnerOff();p.default.alert("Error while updating Access Control config, please try again later.");this.setState({submitting:!1})}},{key:"onClickToggle",value:function(){var a=this,g=!this.state.enabled&&this.props.controlType===q.default.CLUSTER_TYPE,b=this.state.enabled?
d.default.createElement("p",null,"Are you sure you want to ",d.default.createElement("b",null,"disable")," ",this.props.title,"?"):d.default.createElement("p",null,"Are you sure you want to ",d.default.createElement("b",null,"enable")," ",this.props.title,"?");!this.state.enabled&&this.props.additionalConfirmTextElem&&(b=d.default.createElement("span",null,b,this.props.additionalConfirmTextElem));p.default.confirm({message:b,confirmButton:"Confirm",cancelButton:"Cancel",confirm:function(){a.props.turnSpinnerOn&&
a.props.turnSpinnerOn();a.setState({submitting:!0});m.AclUtils.toggleAclSetting(a.props.controlType,a.state.enabled,a.toggleSuccess.bind(a),a.toggleError.bind(a))},cancel:function(){g&&window.recordEvent("aclClusterEnableCancel")}})}},{key:"toggleExpandState",value:function(){this.setState({expandedText:!this.state.expandedText})}},{key:"renderInfo",value:function(){var a=this,g=void 0,g=this.props.controlType===q.default.CLUSTER_TYPE?u.DbGuideUrls.getDbGuideUrl(y.default.ACL_CLUSTERS_URL):u.DbGuideUrls.getDbGuideUrl(y.default.ACL_WORKSPACE_URL);
return this.props.aclsAvailable?d.default.createElement("div",{ref:function(g){return a.info=g}},d.default.createElement("p",null,this.props.basicDescription),this.props.additionalDescriptionElements,d.default.createElement("p",null,"See the ",d.default.createElement("a",{target:"_blank",href:g},"Databricks Guide")," to learn more.")):d.default.createElement("div",{ref:function(g){return a.upgrade=g}},d.default.createElement("p",null,t.Tooltip.getGenericUpgradeElement("To enable "+this.props.title)),
d.default.createElement("p",null,this.props.basicDescription),d.default.createElement("p",null,"See the ",d.default.createElement("a",{target:"_blank",href:g},"Databricks Guide")," to learn more."))}},{key:"getButton",value:function(a,g,b){var c=this,m=(0,n.default)({btn:!0,"btn-danger":"Disable"===a,"btn-primary":"Enable"===a,disabled:!g});return d.default.createElement("button",{ref:function(a){return c.toggle=a},onClick:g?this.onClickToggle:null,className:m,"data-action":g?b:null},a)}},{key:"render",
value:function(){var a=this,g=void 0,b=void 0,c=this.state.expandedText?"chevronDown":"chevronRight";this.props.aclsAvailable?this.state.enabled?(g="Enabled",b=this.getButton("Disable",!this.state.submitting,"disable-"+this.props.controlType+"-acls")):(g="Disabled",b=this.getButton("Enable",!this.state.submitting,"enable-"+this.props.controlType+"-acls")):(g="Disabled",b=null);return d.default.createElement("div",{className:this.props.controlType+"-acl-settings acl-settings-control"},d.default.createElement("h1",
null,this.props.title,": ",d.default.createElement("b",{"data-status":g},g)),b,d.default.createElement("a",{ref:function(g){return a.expand=g},className:"expand",onClick:this.toggleExpandState},"What this means",d.default.createElement("i",{className:"fa fa-"+r.default[c]})),this.state.expandedText?this.renderInfo():null)}}]);return g}(d.default.Component);g.propTypes={aclsAvailable:d.default.PropTypes.bool.isRequired,basicDescription:d.default.PropTypes.string.isRequired,configWindowSetting:d.default.PropTypes.string.isRequired,
controlType:d.default.PropTypes.string.isRequired,enabled:d.default.PropTypes.bool.isRequired,title:d.default.PropTypes.string.isRequired,additionalDescriptionElements:d.default.PropTypes.array,additionalConfirmTextElem:d.default.PropTypes.node,turnSpinnerOff:d.default.PropTypes.func,turnSpinnerOn:d.default.PropTypes.func,onToggleSuccess:d.default.PropTypes.func}},{"../acl/AclUtils.jsx":3,"../acl/WorkspacePermissions":10,"../filetree/WorkspaceConstants":75,"../ui_building_blocks/Tooltip.jsx":294,
"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../ui_building_blocks/icons/IconsForType":304,"../urls/DbGuideLinks":320,"../urls/DbGuideUrls":321,"../urls/ResourceUrls":322,classnames:411,react:1001}],3:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.AclUtils=void 0;var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,n){c&&
a(b.prototype,c);n&&a(b,n);return b}}(),e=(l=a("jquery"))&&l.__esModule?l:{default:l},h=(a=a("../acl/WorkspacePermissions"))&&a.__esModule?a:{default:a};f.AclUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"clusterAclsEnabled",value:function(){return window.settings.enableClusterAclsByTier&&window.settings.enableClusterAcls&&window.settings.enableClusterAclsConfig}},{key:"clusterAclsAvailable",value:function(){return window.settings.enableClusterAclsByTier&&
window.settings.enableClusterAcls}},{key:"clusterAclsAvailableWithTierUpgrade",value:function(){return window.settings.enableClusterAcls&&!window.settings.enableClusterAclsByTier}},{key:"clusterAclsFeatureFlag",value:function(){return window.settings&&window.settings.enableClusterAcls}},{key:"couldEnableClusterAcls",value:function(){return window.settings.enableClusterAclsByTier&&window.settings.enableClusterAcls&&!window.settings.enableClusterAclsConfig}},{key:"mountPointAclsEnabled",value:function(){return window.settings.enableMountAclService&&
window.settings.enableMountAcls&&window.settings.enableMountAclsConfig}},{key:"mountPointAclsAvailable",value:function(){return window.settings.enableMountAclService&&window.settings.enableMountAcls}},{key:"mountPointAclsFeatureFlag",value:function(){return!1}},{key:"toggleAclSetting",value:function(a,b,c,m){if(a===h.default.WORKSPACE_TYPE)window.recordEvent("aclToggle",{aclState:b});else if(a===h.default.CLUSTER_TYPE)window.recordEvent("aclToggle",{aclStateClusters:b});else if(a===h.default.MOUNTPOINT_TYPE)window.recordEvent("aclToggle",
{aclStateMountPoint:b});else throw Error("unknown aclType in AclSettingsView: "+a);e.default.ajax({type:"POST",url:"/acl/"+a+"/config",data:JSON.stringify({enableAclsConfig:!b}),success:function(a){return c(a)},error:function(){return m()}})}},{key:"fetchPermissions",value:function(a,b,c){if(Array.isArray(a))if(0===a.length)console.error("List of ids passed to AclUtils.fetchPermissions is empty");else return e.default.ajax({url:"/acl/"+b+"/list",type:"GET",data:{ids:a},success:function(a){c&&c(a)},
error:function(){console.error('failed to fetch permissions for type "'+b+'", id in '+a)}});else console.error("AclUtils.fetchPermissions takes a list of aclObject ids")}},{key:"fetchAndSetPermissions",value:function(b,c,n){if(Array.isArray(b))if(0===b.length)console.error("List of models passed to AclUtils.fetchAndSetPermissions is empty");else{var d=b.map(function(a){return a.getAclObjectId()});return a.fetchPermissions(d,c,function(a){b.forEach(function(b){var d=a[b.getAclObjectId()];b.set({permissionLevel:h.default.actionsToPermission(d,
c)})});n&&n(a)})}else console.error("AclUtils.fetchAndSetPermissions takes a list of models")}},{key:"bulkFetchEffectivePermissions",value:function(a,b,c){if(Array.isArray(a))if(0===a.length)console.error("List of ids passed to AclUtils.bulkFetchEffectivePermissions is empty");else return e.default.ajax({url:"/acl/"+b+"/listEffective",type:"GET",data:{ids:a},success:function(a){c&&c(a)},error:function(){console.error('failed to fetch permissions for type "'+b+'", id in '+a)}});else console.error("AclUtils.bulkFetchEffectivePermissions takes a list of aclObject ids")}},
{key:"canAttach",value:function(a,b){return h.default.toUsageTags(a[b]).aclAttach}}]);return a}()},{"../acl/WorkspacePermissions":10,jquery:819}],4:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){a=a.toLowerCase();b=b.toLowerCase();return h.default.isEmpty(a)||-1===b.indexOf(a)?!1:!0}f=a("underscore");var h=c(f);f=a("react");var b=c(f);f=a("classnames");var k=c(f);f=a("../acl/PermissionSelection.jsx");var d=c(f);f=a("../acl/WorkspacePermissions");var n=c(f),m=a("../ui_building_blocks/Tooltip.jsx");
a=b.default.createClass({displayName:"AddPermissionView",propTypes:{permissions:b.default.PropTypes.array.isRequired,setPermission:b.default.PropTypes.func.isRequired,onAddPermission:b.default.PropTypes.func.isRequired,nodeType:b.default.PropTypes.string.isRequired},getInitialState:function(){return{inputValue:"",permissionToAdd:n.default.getInitialPermissionToAdd(this.props.nodeType),showSuggestions:!1,selectedUserPerm:null,focusIndex:-1,selectableUsers:this.getSelectableUsers()}},componentWillReceiveProps:function(a){this.setState({selectableUsers:this.getSelectableUsers(a)})},
onSelectionChange:function(a){this.setState({permissionToAdd:a})},focusPrevious:function(){var a=this.state.focusIndex,b=this.state.selectableUsers.length-1;0<a?this.setFocusIndex(a-1):this.setFocusIndex(b);this.scrollFocusedItemIntoView()},focusNext:function(){var a=this.state.focusIndex;a<this.state.selectableUsers.length-1?this.setFocusIndex(a+1):this.setFocusIndex(0);this.scrollFocusedItemIntoView()},setFocusIndex:function(a){var b=this.state.selectableUsers[a].user.username,c=this.refs.input;
this.setState({focusIndex:a,inputValue:b,selectedUserPerm:this.findUserperm(b)});h.default.defer(function(){c.select()})},scrollFocusedItemIntoView:function(a){var b=this;h.default.defer(function(){if(b.isMounted()){var c=h.default.isNumber(a)?a:b.state.focusIndex;(c=b.refs["selection-list-"+c])&&c.scrollIntoView(!1)}})},onKeyDown:function(a){if(13===a.keyCode)a.preventDefault(),this.submit();else if(38===a.keyCode||a.shiftKey&&9===a.keyCode)a.preventDefault(),this.focusPrevious();else if(40===a.keyCode||
9===a.keyCode)a.preventDefault(),this.focusNext()},findUserperm:function(a){return h.default.find(this.props.permissions,function(b){return b.user.username.toLowerCase()===a.toLowerCase()||b.user.fullName.toLowerCase()===a.toLowerCase()})},handleInputChange:function(a){a=a.target.value.substr(0,48);this.setState({inputValue:a,selectedUserPerm:this.findUserperm(a),showSuggestions:!0,focusIndex:-1,selectableUsers:this.getSelectableUsers(null,a)});this.scrollFocusedItemIntoView(0)},submit:function(a){if(a=
a&&a.user?a:this.state.selectedUserPerm)this.props.setPermission(a.user.id,n.default.toActions(this.state.permissionToAdd,this.props.nodeType)),this.setState({inputValue:"",showSuggestions:!1,selectedUserPerm:null,focusIndex:-1}),this.props.onAddPermission(a)},toggleSuggestions:function(a){a.preventDefault();this.state.showSuggestions?this.refs.input.blur():this.refs.input.focus()},onInputBlur:function(){this.setState({showSuggestions:!1})},onInputFocus:function(){this.setState({showSuggestions:!0})},
onListItemClicked:function(a){this.setState({selectedUserPerm:a,inputValue:a.user.username})},_getInputValue:function(a){var b=a;void 0===a&&(b=this.state?this.state.inputValue:"");return b},getSelectableUsers:function(a,b){var c=this._getInputValue(b),d=[],m=void 0;a=(a?a.permissions:this.props.permissions).sort(function(a,b){return"group"===a.user.kind&&"user"===b.user.kind?-1:"user"===a.user.kind&&"group"===b.user.kind?1:a.user.fullName.toLowerCase().localeCompare(b.user.fullName.toLowerCase())});
a.forEach(function(a,b){c?(e(c,a.user.fullName)||e(c,a.user.username))&&d.push(a):"users"===a.user.username&&"group"===a.user.kind&&(m=b)});if(!h.default.isEmpty(c)&&0<d.length)return d;m&&(b=a.splice(m,1)[0],a.unshift(b));return a},render:function(){var a=this.state.selectedUserPerm,c=h.default.map(this.state.selectableUsers,function(c,d){var m=d===this.state.focusIndex,m=(0,k.default)({selected:a&&c.user.id===a.user.id,focused:m}),n=h.default.bind(this.onListItemClicked,this,c);return b.default.createElement("li",
{"data-user":c.user.username,ref:"selection-list-"+d,className:m,onMouseDown:n},b.default.createElement("span",{className:"user-fullname"},c.user.fullName),b.default.createElement("span",null,"(",c.user.username,")"))},this),n=h.default.isEmpty(a)?b.default.createElement("a",{className:"btn","data-action":"add",disabled:!0},"Add"):b.default.createElement("a",{className:"btn btn-primary","data-action":"add",onClick:this.submit},"Add"),c=0<this.state.selectableUsers.length?b.default.createElement("div",
{className:"select-user"},b.default.createElement("input",{ref:"input",className:"username-input",onKeyDown:this.onKeyDown,value:this.state.inputValue,onBlur:this.onInputBlur,onFocus:this.onInputFocus,onChange:this.handleInputChange}),b.default.createElement("span",{className:"auto-complete-btn",onMouseDown:this.toggleSuggestions},"\u25be"),b.default.createElement("div",{className:"auto-complete-list"+(this.state.showSuggestions?" visible":"")},b.default.createElement("ul",null,c))):b.default.createElement(m.Tooltip,
{text:"There are no more users or groups to add."},b.default.createElement("div",{className:"select-user select-user-tooltip"},b.default.createElement("input",{ref:"input",className:"username-input",disabled:!0}),b.default.createElement("span",{className:"auto-complete-btn"},"\u25be")));return b.default.createElement("div",{className:"add-user"},c,n,b.default.createElement(d.default,{principalName:"Users",nodeType:this.props.nodeType,currentPermission:this.state.permissionToAdd,onChange:this.onSelectionChange,
showPermissionDescriptions:!0,hideNoPermissionsOption:!0}))}});l.exports=a},{"../acl/PermissionSelection.jsx":8,"../acl/WorkspacePermissions":10,"../ui_building_blocks/Tooltip.jsx":294,classnames:411,react:1001,underscore:1021}],5:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("react");var h=c(f);f=a("../acl/PermissionList.jsx");var b=c(f);f=a("../acl/WorkspaceAcl");f=c(f);var k=a("../acl/WorkspacePermissions"),d=c(k),k=a("../ui_building_blocks/dialogs/ReactModal.jsx"),
n=c(k);a=a("../ui_building_blocks/dialogs/ReactModalUtils");var m=c(a);a=h.default.createClass({displayName:"MovePermissionPreview",propTypes:{workspaceAcl:h.default.PropTypes.instanceOf(f.default).isRequired,previewWorkspaceAcl:h.default.PropTypes.instanceOf(f.default).isRequired,onConfirm:h.default.PropTypes.func},_confirm:function(){if(this.props.onConfirm)this.props.onConfirm();this._destroyModal()},_destroyModal:function(){m.default.destroyModal()},_getFooter:function(){return h.default.createElement("div",
null,h.default.createElement("a",{className:"btn",onClick:this._destroyModal},"Cancel"),h.default.createElement("a",{className:"btn btn-primary confirm-button",onClick:this._confirm},"Confirm and Move"))},_setAffectedUsers:function(a,b){var c=this.props.workspaceAcl.get("model").getAclObjectType();e.default.each(a,function(a){var m=a.user.id,n=e.default.find(b,function(a){return a.user.id===m}),k=d.default.getCurrentPermission(a,c),q=d.default.getCurrentPermission(n,c);k!==q&&m!==window.settings.userId?
(a.affected=!0,n.affected=!0):(a.affected=!1,n.affected=!1)})},render:function(){var a=this.props.workspaceAcl.currentPermissions(),c=this.props.previewWorkspaceAcl.currentPermissions();this._setAffectedUsers(a,c);var a=e.default.filter(a,function(a){return a.affected}),c=e.default.filter(c,function(a){return a.affected}),d=h.default.createElement("h4",null,"Permissions changes after moving:",h.default.createElement("p",{className:"title"},this.props.workspaceAcl.get("name"))),a=h.default.createElement("div",
{className:"preview-lists-wrapper"},h.default.createElement("div",{className:"permission-list current"},h.default.createElement("p",{className:"user-list-title"},"Current Permissions:"),h.default.createElement(b.default,{ref:"userList",permissions:a,node:this.props.workspaceAcl.get("model"),viewOnly:!0})),h.default.createElement("div",{className:"permission-list after"},h.default.createElement("p",{className:"user-list-title"},"Permissions after move:"),h.default.createElement(b.default,{ref:"userList",
permissions:c,node:this.props.previewWorkspaceAcl.get("model"),viewOnly:!0})));return h.default.createElement(n.default,{modalName:"workspace-acl",classes:"move-preview",header:d,body:a,footer:this._getFooter()})}});l.exports=a},{"../acl/PermissionList.jsx":7,"../acl/WorkspaceAcl":9,"../acl/WorkspacePermissions":10,"../ui_building_blocks/dialogs/ReactModal.jsx":299,"../ui_building_blocks/dialogs/ReactModalUtils":300,react:1001,underscore:1021}],6:[function(a,l,f){function c(a){return a&&a.__esModule?
a:{default:a}}f=a("underscore");var e=c(f);f=a("react");var h=c(f);f=a("../acl/PermissionList.jsx");var b=c(f);f=a("../acl/AddPermissionView.jsx");var k=c(f);f=a("../acl/WorkspaceAcl");f=c(f);var d=a("../acl/WorkspacePermissions"),n=c(d),d=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),m=c(d),d=a("../ui_building_blocks/dialogs/ReactModal.jsx"),q=c(d);a=a("../ui_building_blocks/dialogs/ReactModalUtils");var w=c(a);a=h.default.createClass({displayName:"PermissionEditView",propTypes:{workspaceAcl:h.default.PropTypes.instanceOf(f.default).isRequired},
getInitialState:function(){return{currentPermissions:this.props.workspaceAcl.currentPermissions(),loading:!1}},componentDidMount:function(){this.props.workspaceAcl.on("change",this.forceUpdate.bind(this,null),this)},componentWillUnmount:function(){this.props.workspaceAcl.off(null,null,this)},_confirm:function(){var a=this;if(this.props.workspaceAcl.hasChanges()){window.recordEvent("aclChange",{aclChangeOrigin:"PermissionEditView"});var b=function(){a.props.workspaceAcl.commit({sync:!0,success:a._destroyModal,
error:a._showError});a.setState({loading:!0})};this.props.workspaceAcl.hasRemovedManagePermission()?m.default.confirm({messageHTML:"<p>You are removing your <b>"+n.default.MANAGE+"</b> permission on this item and you won't be able to view or change permissions on this  item any more. Are you sure you want to continue?</p>",confirmButton:"Yes, Remove my manage permission",cancelButton:"No, Cancel",confirm:b}):b()}},_showError:function(a){this.setState({loading:!1});console.error(a)},_cancel:function(){this.props.workspaceAcl.resetAllChanges();
this._destroyModal()},_destroyModal:function(){w.default.destroyModal()},_getFooter:function(a){var b=a?h.default.createElement("a",{className:"btn btn-primary confirm-button","data-action":"save",onClick:this._confirm},"Save Changes"):h.default.createElement("a",{className:"btn btn-primary confirm-button","data-action":"done",onClick:this._destroyModal},"Done");a=a?h.default.createElement("a",{className:"btn","data-action":"cancel",onClick:this._cancel},"Cancel"):null;return h.default.createElement("div",
null,a,b)},render:function(){var a=this.props.workspaceAcl,b=a.hasChanges(),a=h.default.createElement("h4",null,"Permission Settings for:",h.default.createElement("p",{className:"title"},a.get("model").getName())),c=h.default.createElement(p,{workspaceAcl:this.props.workspaceAcl}),b=this._getFooter(b);return h.default.createElement(q.default,{modalName:"workspace-acl",header:a,body:c,footer:b})}});var p=h.default.createClass({displayName:"PermissionEditBody",propTypes:{workspaceAcl:h.default.PropTypes.instanceOf(f.default).isRequired},
onAddPermission:function(a){var b=this;e.default.defer(function(){b.isMounted()&&b.refs.userList.refs[a.user.id]&&b.refs.userList.refs[a.user.id].scrollIntoView(!1)})},render:function(){var a=this.props.workspaceAcl,c=a.get("model"),d=a.hasChanges(),m=a.currentPermissions(),q=e.default.filter(m,function(a){return!e.default.isEmpty(a.permission)}),m=e.default.filter(m,function(a){return e.default.isEmpty(a.permission)}),d=d?h.default.createElement("span",{className:"save-changes-hint"},"You have made changes that you need to save"):
null,a=a.setPermission.bind(a);return h.default.createElement("div",null,h.default.createElement("p",{className:"user-list-title"},"Who has access: ",d),h.default.createElement(b.default,{ref:"userList",permissions:q,setPermission:a,node:c}),h.default.createElement("p",{className:"add-user-title"},"Add Users and Groups:"),h.default.createElement(k.default,{permissions:m,setPermission:a,onAddPermission:this.onAddPermission,nodeType:n.default.getNodeType(c)}))}});l.exports.PermissionEditBody=p;l.exports.PermissionEditView=
a},{"../acl/AddPermissionView.jsx":4,"../acl/PermissionList.jsx":7,"../acl/WorkspaceAcl":9,"../acl/WorkspacePermissions":10,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/dialogs/ReactModal.jsx":299,"../ui_building_blocks/dialogs/ReactModalUtils":300,react:1001,underscore:1021}],7:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("react");var h=c(f);f=a("classnames");var b=c(f);f=a("../acl/PermissionSelection.jsx");
var k=c(f);f=a("../acl/WorkspacePermissions");var d=c(f);a=a("../filetree/NavFunc.jsx");var n=c(a);a=h.default.createClass({displayName:"PermissionList",propTypes:{permissions:h.default.PropTypes.array.isRequired,setPermission:h.default.PropTypes.func,node:h.default.PropTypes.object,viewOnly:h.default.PropTypes.bool},getDefaultProps:function(){return{viewOnly:!1,setPermission:function(){}}},setPermission:function(a,b){this.props.setPermission(a,d.default.toActions(b,this.props.node.getAclObjectType()))},
clearPermission:function(a){this.props.setPermission(a,[])},_getSortedPermissions:function(){return e.default.sortBy(this.props.permissions,function(a){var b=a.user.fullName.trim();return a.affected?b.toUpperCase():b.toLowerCase()})},_getCurrentPermission:function(a,b){return d.default.getCurrentPermission(a,b.getAclObjectType())},_getInheritedPermission:function(a,b){return d.default.getInheritedPermission(a,b)},_getInheritedSourceIds:function(a,b){return d.default.getInheritedSourceIds(a,b)},render:function(){var a=
this._getSortedPermissions();return h.default.createElement("div",{className:"acl-user-list"},e.default.map(a,function(a){var c="group"===a.user.kind?"fa-users":"fa-user",m="group"===a.user.kind?"group":a.user.username,q=(0,b.default)({"acl-user":!0,changed:a.changed||a.affected}),t=this.props.node,u=this._getInheritedPermission(a,t),y=u!==d.default.NONE,f=0===t.id&&"group"===a.user.kind&&"admins"===a.user.username,g=n.default.isHomeFolderForUser(t,a.user.id),f=f||g||this.props.viewOnly,g=this.clearPermission.bind(this,
a.user.id),y=y||f?null:h.default.createElement("div",{className:"acl-user-control"},h.default.createElement("a",{"data-action":"remove",onClick:g},h.default.createElement("i",{className:"fa fa-times"})));return h.default.createElement("div",{className:q,"data-user":a.user.username,key:a.user.id,ref:a.user.id},h.default.createElement("div",{ref:"acl-user-name",className:"acl-user-name",title:a.user.username},h.default.createElement("i",{className:"fa fa-fw "+c})," ",a.user.fullName,h.default.createElement("span",
{ref:"user-email",className:"user-email"},"(",m,")")),h.default.createElement("div",{className:"acl-user-permission"},h.default.createElement(k.default,{ref:"permission-selection",principalName:a.user.fullName,nodeType:d.default.getNodeType(t),currentPermission:this._getCurrentPermission(a,t),inheritedPermission:u,inheritedSourceIds:this._getInheritedSourceIds(a,t),onChange:e.default.partial(this.setPermission,a.user.id),disabled:f})),y)},this))}});l.exports=a},{"../acl/PermissionSelection.jsx":8,
"../acl/WorkspacePermissions":10,"../filetree/NavFunc.jsx":72,classnames:411,react:1001,underscore:1021}],8:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("react");var h=c(f);f=a("../acl/WorkspacePermissions");var b=c(f),k=a("../ui_building_blocks/Tooltip.jsx"),d=a("../urls/DbGuideUrls");a=a("../urls/DbGuideLinks");var n=c(a);a=h.default.createClass({displayName:"PermissionSelection",propTypes:{principalName:h.default.PropTypes.string,nodeType:h.default.PropTypes.string,
inheritedPermission:h.default.PropTypes.string,inheritedSourceIds:h.default.PropTypes.array,currentPermission:h.default.PropTypes.string.isRequired,onChange:h.default.PropTypes.func.isRequired,disabled:h.default.PropTypes.bool,showPermissionDescriptions:h.default.PropTypes.bool,hideNoPermissionsOption:h.default.PropTypes.bool},getDefaultProps:function(){return{inheritedPermission:b.default.NONE,inheritedSourceIds:[]}},getInitialState:function(){return{value:this.props.currentPermission}},componentWillReceiveProps:function(a){this.setState({value:a.currentPermission})},
onChange:function(a){a=a.target.value;this.setState({value:a});this.props.onChange(a)},getAllPermissions:function(){return this.props.nodeType===b.default.CLUSTER_TYPE?b.default.ALL_CLUSTER_PERMISSIONS:this.props.nodeType===b.default.IAM_ROLE_TYPE?b.default.ALL_IAM_ROLE_PERMISSIONS:b.default.ALL_WORKSPACE_PERMISSIONS},getAllPermissionsWithoutNone:function(){return e.default.filter(this.getAllPermissions(),function(a){return a!==b.default.NONE})},getPermissionOptions:function(){var a=e.default.clone(this.getAllPermissions());
this.props.hideNoPermissionsOption&&(a=e.default.clone(this.getAllPermissionsWithoutNone()));if(this.props.inheritedPermission!==b.default.NONE)for(;0<a.length&&a[0]!==this.props.inheritedPermission;)a.shift();return e.default.map(a,function(a){return h.default.createElement("option",{key:a,value:a},a)})},render:function(){var a=[],c=this.getAllPermissionsWithoutNone();if(1>=c.length)return h.default.createElement("div",null);if(this.props.showPermissionDescriptions){for(var w in c)if(c.hasOwnProperty(w)){var p=
c[w];a.push(h.default.createElement("span",{key:p},h.default.createElement("i",null,p)," - ",b.default.permissionToDescription(p,this.props.nodeType,this.props.principalName),h.default.createElement("span",{key:w},h.default.createElement("br",null),h.default.createElement("br",null))))}c=d.DbGuideUrls.getDbGuideUrl(n.default.ACL_WORKSPACE_URL);a.push(h.default.createElement("span",{key:"link"},"See the ",h.default.createElement("a",{target:"_blank",href:c},"Databricks Guide")," to learn more."))}c=
e.default.filter(this.props.inheritedSourceIds,function(a){return a.type!==b.default.CLUSTER_ROOT_TYPE});0<c.length&&(c=e.default.map(c,function(a){a=b.default.getDisplayNameForAclObjectid(a);return h.default.createElement("i",null,a)}),1<c.length&&(w=c.pop(),1<c.length&&(c=e.default.flatten(e.default.map(c,function(a){return[a,", "]}))),c.push(" and ",w)),this.props.disabled?a.push(h.default.createElement("span",{key:"disabled:"+c},"Some permissions are inherited from ",c,". To remove these permissions, change the permissions of these folders first.")):
a.push(h.default.createElement("span",{key:"inherited:"+c},"Some permissions cannot be removed because they are inherited from ",c,". To remove these permissions, change the permissions of these folders first.")));c=null;0<a.length&&(c=h.default.createElement(k.Tooltip,{text:a},h.default.createElement("i",{className:"fa fa-question-circle help-icon"})));return h.default.createElement("div",{className:"permission-selection"},h.default.createElement("select",{ref:"selector",value:this.state.value,onChange:this.onChange,
disabled:this.props.disabled?!0:null},this.getPermissionOptions()),c)}});l.exports=a},{"../acl/WorkspacePermissions":10,"../ui_building_blocks/Tooltip.jsx":294,"../urls/DbGuideLinks":320,"../urls/DbGuideUrls":321,react:1001,underscore:1021}],9:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("backbone");f=c(f);var h=a("underscore"),b=c(h),h=a("../acl/WorkspacePermissions"),k=c(h),d=a("../user_platform/BrowserUtils");f.default.$=e.default;a=f.default.Model.extend({urlRoot:"/acl",
url:function(){var a=this.get("model").getAclObjectType(),b=this.get("model").getAclObjectId();return this.get("moveTargetId")?this.urlRoot+"/"+a+"/"+b+"/moveEffective/"+this.get("moveTargetId"):this.urlRoot+"/"+a+"/"+b+"/listEffective"},aclId:function(){return{type:this.get("model").getAclObjectType(),id:this.get("model").getAclObjectId()}},defaults:{id:null,moveTargetId:null,permissions:[],changes:{}},initialize:function(a){if(!a.model)throw Error("WorkspaceAcl created without an model");if(!a.model.getAclObjectType)throw Error("WorkspaceAcl model does not have getAclObjectType()");
if(!a.model.getAclObjectId)throw Error("WorkspaceAcl model does not have getAclObjectId()");},_addAclId:function(a,c){return b.default.find(a,function(a){return b.default.isEqual(a,c)})?a:a.concat([c])},_removeAclId:function(a,c){return b.default.filter(a,function(a){return!b.default.isEqual(a,c)})},_mergePermissions:function(a,c){var d=[];b.default.each(k.default.ALL_ACTIONS,function(m){var n=b.default.contains(c,m),k=b.default.find(a,function(a){return a.permission===m}),h=!b.default.isUndefined(k),
q=void 0;if(n||h)n&&!h?d.push({permission:m,sourceIds:[this.aclId()]}):n&&h?(q=this._addAclId(k.sourceIds,this.aclId()),d.push({permission:m,sourceIds:q})):(q=this._removeAclId(k.sourceIds,this.aclId()),0<q.length&&d.push({permission:m,sourceIds:q}))},this);return d},currentPermissions:function(){return b.default.map(this.get("permissions"),function(a){var c=a.user.id,c=this.get("changes")[c];return b.default.isNull(c)||b.default.isUndefined(c)?{user:a.user,permission:a.permission,changed:!1}:{user:a.user,
permission:this._mergePermissions(a.permission,c),changed:!0}},this)},setPermission:function(a,c){var m=b.default.clone(this.get("changes"));m[String(a)]=c;this.set({changes:m});c=k.default.toUsageTags(c);c.changeType="set";c.aclUserId=String(a);window.recordEvent("aclChange",d.BrowserUtils.getMeasurementTags(c))},resetChanges:function(a){a=b.default.omit(this.get("changes"),String(a));this.set({changes:a})},resetAllChanges:function(){this.set({changes:{}});window.recordEvent("aclChange",d.BrowserUtils.getMeasurementTags({changeType:"reset"}))},
hasChanges:function(){return!b.default.isEmpty(this.get("changes"))},hasRemovedManagePermission:function(){if(window.settings&&window.settings.isAdmin)return!1;var a=this.getUserCurrentPermission(),b=this.getUsersGroupCurrentPermission();return a!==k.default.MANAGE&&b!==k.default.MANAGE},commit:function(a){var b=this.get("model").getAclObjectType(),c=this.get("model").getAclObjectId(),n=this,k={type:"set",permissions:this.get("changes")};window.recordEvent("aclChange",d.BrowserUtils.getMeasurementTags({changeType:"save"}),
JSON.stringify(this.get("changes")));return e.default.ajax({type:"POST",url:this.urlRoot+"/"+b+"/"+c,data:JSON.stringify(k),success:function(){a.sync&&(n.set({changes:{}}),n.fetch());a.success&&a.success()},error:function(){a.error&&a.error()}})},isEqual:function(a,c){function d(a){a=b.default.map(a,function(a){return{userId:a.user.id,permissions:k.default.getCurrentPermission(a,m)}});return b.default.sortBy(a,function(a){return a.userId})}c=c||{};var m=this.get("model").getAclObjectType(),n=d(this.currentPermissions()),
h=d(a.currentPermissions());c.ignoreCurrentUser&&function(){var a=window.settings&&window.settings.userId,c=function(b){return b.userId===a};n=b.default.reject(n,c);h=b.default.reject(h,c)}();return b.default.isEqual(n,h)},_findCurrentPermission:function(a){var c=this.currentPermissions();return b.default.find(c,function(b){return b.user.username===a})},getUsersGroupCurrentPermission:function(){return k.default.getCurrentPermission(this._findCurrentPermission("users"),this.get("model").getAclObjectType())},
getUserCurrentPermission:function(){if(window.settings)return k.default.getCurrentPermission(this._findCurrentPermission(window.settings.user),this.get("model").getAclObjectType())},userHasPermission:function(a,c){var d=!1,m=b.default.find(this.currentPermissions(),function(b){return b.user.id===a.id});m&&m.permission.forEach(function(a){a.permission===c&&(d=!0)});return d}});l.exports=a},{"../acl/WorkspacePermissions":10,"../user_platform/BrowserUtils":344,backbone:407,jquery:819,underscore:1021}],
10:[function(a,l,f){var c=(f=a("underscore"))&&f.__esModule?f:{default:f},e={"No Permissions":[],"Can Read":["read"],"Can Run":["read","execute"],"Can Edit":["read","execute","modify"],"Can Manage":"read execute modify create remove modify_permissions".split(" ")},h={"No Permissions":[],"Can Attach To":["attach"],"Can Restart":["attach","restart"],"Can Manage":["attach","restart","*"]},b={"No Permissions":[],"Can Use IAM Role":["instance_profile_use"]};f={"Can Read":"can view and comment on notebooks in the folder",
"Can Run":"can view, comment, attach/detach, and run commands in notebooks in the folder","Can Edit":"can view, comment, attach/detach, run commands, and edit notebooks in the folder"};f["Can Manage"]=f["Can Edit"]+", and can create, delete, and change permissions of items in the folder";var k={shell:{"No Permissions":"has no permissions","Can Read":"can view and comment on the notebook","Can Run":"can view, comment, attach/detach, and run commands in the notebook","Can Edit":"can view, comment, attach/detach, run commands, and edit the notebook",
"Can Manage":"can view, comment, attach/detach, run commands, edit, and change permissions of the notebook"},folder:f,cluster:{"No Permissions":"has no permissions","Can Attach To":"can attach to cluster","Can Restart":"can attach to and restart cluster","Can Manage":"can attach to, restart, delete, resize cluster"}},d=function(a){return c.default.contains(a,"*")?"Can Manage":c.default.contains(a,"job_create")?"Can Create Jobs":"No Permissions"},n=function(a,b){if("cluster"===b)return c.default.contains(a,
"*")||c.default.contains(a,"modify_permissions")?"Can Manage":c.default.contains(a,"attach")&&!c.default.contains(a,"restart")?"Can Attach To":c.default.contains(a,"restart")?"Can Restart":"No Permissions";if("cluster_root"===b)return c.default.contains(a,"*")?"Can Manage":c.default.contains(a,"cluster_create")?"Can Create Clusters":"No Permissions";if("workspace"===b||"job"===b)return c.default.contains(a,"*")||c.default.contains(a,"modify_permissions")?"Can Manage":c.default.contains(a,"modify")?
"Can Edit":c.default.contains(a,"execute")?"Can Run":c.default.contains(a,"read")?"Can Read":"No Permissions";if("job_root"===b)return d(a);if("instance-profiles"===b)return c.default.contains(a,"instance_profile_use")?"Can Use IAM Role":"No Permissions";throw Error("unknown nodeType: "+b);};l.exports={ReadAction:"read",ExecuteAction:"execute",ModifyAction:"modify",CreateAction:"create",RemoveAction:"remove",ClusterCreateAction:"cluster_create",AttachAction:"attach",RestartAction:"restart",JobCreateAction:"job_create",
InstanceProfileUseAction:"instance_profile_use",ModifyPermissionsAction:"modify_permissions",AllAction:"*",WORKSPACE_TYPE:"workspace",CLUSTER_ROOT_TYPE:"cluster_root",CLUSTER_TYPE:"cluster",MOUNTPOINT_TYPE:"mount",JOB_TYPE:"job",JOB_ROOT_TYPE:"job_root",IAM_ROLE_TYPE:"instance-profiles",IAM_ROOT_TYPE:"instance-profiles_root",NONE:"No Permissions",VIEW:"Can Read",RUN:"Can Run",EDIT:"Can Edit",ATTACH:"Can Attach To",RESTART:"Can Restart",CREATE_CLUSTERS:"Can Create Clusters",CREATE_JOBS:"Can Create Jobs",
USE_ROLE:"Can Use IAM Role",MANAGE:"Can Manage",ALL_ACTIONS:"read execute modify create remove cluster_create attach restart instance_profile_use modify_permissions *".split(" "),ALL_WORKSPACE_PERMISSIONS:["No Permissions","Can Read","Can Run","Can Edit","Can Manage"],ALL_CLUSTER_PERMISSIONS:["No Permissions","Can Attach To","Can Restart","Can Manage"],ALL_IAM_ROLE_PERMISSIONS:["Can Use IAM Role"],CLUSTER_CREATE_ACTION:"cluster_create",getCurrentPermission:function(a,b){a=a?c.default.map(a.permission,
function(a){return a.permission}):[];return n(a,b)},getInheritedPermission:function(a,b){a=c.default.filter(a.permission,function(a){return!c.default.isUndefined(c.default.find(a.sourceIds,function(a){return a.type!==b.getAclObjectType()||a.id!==b.getAclObjectId()}))});a=c.default.map(a,function(a){return a.permission});return n(a,b.getAclObjectType())},getInheritedSourceIds:function(a,b){a=c.default.map(a.permission,function(a){return a.sourceIds});a=c.default.filter(c.default.flatten(a),function(a){return a.type!==
b.getAclObjectType()||a.id!==b.getAclObjectId()});return c.default.uniq(a,function(a){return a.type+":"+a.id})},getDisplayNameForAclObjectid:function(b){var c=a("../filetree/NavFunc.jsx");if("workspace"===b.type)return b=c.getFullPath(b.id),"/"===b&&(b="Workspace Root: /"),b;if("cluster"===b.type)return(b=window.clusterList.findWhere({clusterId:b.id}))?b.get("clusterName"):"???";if("cluster_root"===b.type)return"All Clusters";throw Error("unknown acl object id type: ",b.type);},actionsToPermission:n,
actionsToPermissionJobRoot:d,getNodeType:function(a){return"cluster"===a.getAclObjectType()||"cluster_root"===a.getAclObjectType()||"instance-profiles"===a.getAclObjectType()||"instance-profiles_root"===a.getAclObjectType()?a.getAclObjectType():a.get("type")},getInitialPermissionToAdd:function(a){var b="Can Read";"cluster"===a?b="Can Attach To":"instance-profiles"===a&&(b="Can Use IAM Role");return b},permissionToDescription:function(a,b,c){c=void 0===c?"Users":c;var d=k[b];if(d&&d[a])return c+" "+
d[a]+".";console.error("unknown permission "+a+" for nodeType "+b)},toActions:function(a,c){return"cluster"===c?h[a]:"instance-profiles"===c?b[a]:e[a]},canView:function(a){return"Can Read"===a||"Can Run"===a||"Can Edit"===a||"Can Manage"===a},canRun:function(a){return"Can Run"===a||"Can Edit"===a||"Can Manage"===a},canEdit:function(a){return"Can Edit"===a||"Can Manage"===a},canManage:function(a){return"Can Manage"===a},canAttach:function(a){return"Can Attach To"===a||"Can Restart"===a||"Can Manage"===
a},canRestart:function(a){return"Can Restart"===a||"Can Manage"===a},canCreateClusters:function(a){return"Can Create Clusters"===a||"Can Manage"===a},canUseRole:function(a){return"Can Use IAM Role"===a},toUsageTags:function(a){return{aclRead:c.default.contains(a,"read"),aclExecute:c.default.contains(a,"execute"),aclModify:c.default.contains(a,"modify"),aclCreate:c.default.contains(a,"create"),aclRemove:c.default.contains(a,"remove"),aclClusterCreate:c.default.contains(a,"cluster_create"),aclAttach:c.default.contains(a,
"attach"),aclRestart:c.default.contains(a,"restart"),aclUseRole:c.default.contains(a,"instance_profile_use"),aclModifyPermissions:c.default.contains(a,"modify_permissions"),aclAllPermissions:c.default.contains(a,"*")}},parsePermissionError:function(a){return(a=a.match(/(.+) does not have (.+) permissions on (.+). Please contact/))?{username:a[1],permission:a[2],path:a[3]}:null},JOB_CREATE_CLUSTER_WARNING:"Warning: You do not have permissions to create clusters. This job will fail if run on a new cluster. To create new clusters, please ask your administrator for permission.",
NO_VIEW_PERMISSIONS_WARNING:"You do not have permissions to view this. Please contact your administrator."}},{"../filetree/NavFunc.jsx":72,underscore:1021}],11:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(){var a=(0,m.default)("#user-menu"),g=(0,m.default)("#topbar .tb-button-user");g.click(function(){a.is(":visible")?(a.hide(),g.removeClass("active")):(a.show(),g.addClass("active"))});(0,m.default)(document).click(function(b){a.is(":visible")&&0===(0,m.default)(b.target).closest(".tb-button-user").length&&
0===(0,m.default)(b.target).closest(".no-close-user-menu").length&&(a.hide(),g.removeClass("active"))});var b=p.default.createFactory(R.UserMenuView)({user:window.settings.user,currentOrg:window.settings.orgId,availableWorkspaces:window.settings.availableWorkspaces,enableAccounts:window.settings.accounts,isAccountOwner:window.settings.accounts});window.userMenu=r.default.render(b,a[0])}function h(){(0,m.default)(document).click(function(){w.default.each((0,m.default)("div.filebrowser-context-menu:not(.table-dropdown)"),
function(a){(0,m.default)(a).is(":visible")&&((0,m.default)(a).hide(),(0,m.default)("#filebrowser-popup .dropdown.active").removeClass("active"))})})}function b(){var a=(0,m.default)("#help-menu"),g=(0,m.default)("#topbar .tb-button-help");a.addClass("newhelp");var b=p.default.createFactory(G.default)({topLevelFolders:window.fileBrowserView.topLevelFolders,hideFunc:function(){a.hide();g.removeClass("active")},closeFileBrowserFunc:function(){window.fileBrowserView.toggleFileBrowser(!1,!0,!0,!1)},navigateFunc:function(a){window.router.navigate(a,
{trigger:!0})},enableFullTextSearch:window.settings.enableFullTextSearch,searchPlaceholder:"Search guide & forum",enableSparkDocsSearch:window.settings.enableSparkDocsSearch,sparkDocsSearchGoogleCx:window.settings.sparkDocsSearchGoogleCx,useStaticGuide:window.settings.useStaticGuide}),c=r.default.render(b,a[0]);g.click(function(){a.is(":visible")?(a.hide(),c.onHide(),g.removeClass("active")):(a.show(),c.onShow(),g.addClass("active"))});(0,m.default)(document).click(function(b){a.is(":visible")&&0===
(0,m.default)(b.target).closest(".tb-button-help").length&&0===(0,m.default)(b.target).closest("#help-menu").length&&(a.hide(),c.onHide(),g.removeClass("active"))})}function k(){var a=p.default.createFactory(P.default)({router:window.router,reactRouter:window.reactRouter,fileBrowser:window.fileBrowserView,fileTree:window.fileBrowserView.fileTree,treeCollection:window.treeCollection,tables:window.tableList,enableThirdPartyApplicationsUI:window.settings.enableThirdPartyApplicationsUI,enableElasticSparkUI:window.settings.enableElasticSparkUI,
recentViewRoutes:window.router.recentViewRoutes,enableCssTransitions:window.settings.enableCssTransitions});window.sidebar=r.default.render(a,document.getElementById("sidebar"))}function d(){function a(){null!==c&&(clearTimeout(c),c=null);c=setTimeout(function(){(0,m.default)(".tb-status").addClass("xhr-pending");c=null},1500)}var c=null,d=0;window.settings.enableOrgSwitcherUI&&window.history.replaceState(null,null,"/?o="+window.settings.orgId+location.hash);window.settings.enableSessionIdleDetection&&
Q.IdleIndicator.default.start(window.settings.sessionIdleTimeout&&0<window.settings.sessionIdleTimeout?function(){window.location="/login.html"}:null,window.settings.sessionIdleTimeout);window.prefs=new x.default("global");window.console&&(window.settings.enableDebugUI||window.prefs.get("consoleDebug")?!1!==window.prefs.get("consoleDebug")?window.console.info("[DEBUG] To hide log messages, run window.prefs.set('consoleDebug', false);"):(window.console.info("[DEBUG] To show log messages, run window.prefs.set('consoleDebug', true);"),
window.console.log=function(){},window.console.info=function(){},window.console.debug=function(){},window.console.warn=function(){}):(window.console.log=function(){},window.console.info=function(){},window.console.debug=function(){},window.console.warn=function(){}));m.default.ajaxPrefilter(function(a){a.beforeSend=function(a){a.setRequestHeader("X-CSRF-Token",window.settings.csrfToken);try{var g=ba.BrowserUtils.getMeasurementTags();a.setRequestHeader("X-Databricks-Attribution-Tags",encodeURIComponent(JSON.stringify(g)));
a.setRequestHeader("X-Databricks-Org-Id",window.settings.orgId.toString())}catch(Ea){console.error("Could not send tags with xhr",Ea)}};a.error&&function(){var g=a.error;a.error=function(a,b,c){var d=a.getResponseHeader("X-Databricks-Reason-Phrase");a&&d&&(a.statusText=d);g(a,b,d||c)}}()});q.default.ajax=function(g){I.Counter.incrementCounter("xhr");"application/json"===g.contentType&&(g.contentType="application/json; charset=UTF-8");"GET"!==g.type&&function(){var b=g.complete;g.complete=function(){--d;
void 0!==b&&b.apply(this,arguments);null!==c&&(clearTimeout(c),c=null);(0,m.default)(".tb-status").removeClass("xhr-pending")};d+=1;a()}();g.beforeSend=function(a){a.setRequestHeader("X-CSRF-Token",window.settings.csrfToken)};return"GET"!==g.type||g.skipRequestQueue?m.default.ajaxQueue(g):m.default.ajax(g)};T.MacUtils.disableMacHistoryScroll();window.router=new A.default;window.reactRouter=new y.default;window.publishMode=!1;window.activeView=null;window.activeFragment=null;window.shellSessionHash=
{};window.applicationList=new t.default;window.settings.enableThirdPartyApplicationsUI&&window.applicationList.autoUpdate();window.conn=new K.default(function(a){"dashboard"===a.type&&(a=F.default.prototype.parse(a));var g=window.treeCollection.get(a.id);switch(a.deltaEvent){case "resetSidebar":window.settings.enableLazySidebar||M.default.confirm({message:"New client version required. Reload the page to continue.",confirmButton:"Reload page",cancelButton:"Close",confirm:function(){window.location.reload(!0)}});
window.fileBrowserView.invalidateLoadedDirectories();break;case "full":g?g.set(a):window.treeCollection.add(a);break;case "create":window.treeCollection.add(a);break;case "update":void 0===g?a.wasMoveUpdate?window.treeCollection.add(a):console.warn("Updating already removed item (probably deleted on client)."):g.set(a);break;case "delete":window.treeCollection.remove(a);break;default:console.error("Invalid delta event for item",a)}});window.conn.onConnect(function(){(0,m.default)(".tb-status").removeClass("server-offline")});
window.conn.onDisconnect(function(){(0,m.default)(".tb-status").addClass("server-offline")});window.conn.wsClient.onConnect(function(){(0,m.default)(".tb-status").removeClass("ws-disconnected")});window.conn.wsClient.onDisconnect(function(){(0,m.default)(".tb-status").addClass("ws-disconnected");window.settings.enableWebappSharding&&window.conn.scheduleHealthCheck()});window.conn.onBannerUpdate(function(a){a?((0,m.default)(".tb-status").addClass("banner"),(0,m.default)(".tb-status-msg-banner").html(a)):
((0,m.default)(".tb-status").removeClass("banner"),(0,m.default)(".tb-status-msg-banner").html(""))});window.recordUsage=w.default.bind(window.conn.loggerClient.recordUsage,window.conn.loggerClient);window.recordEvent=w.default.bind(window.conn.loggerClient.recordEvent,window.conn.loggerClient);window.recordDebugEvent=w.default.bind(window.conn.loggerClient.recordDebugEvent,window.conn.loggerClient);(0,U.initLogDebugFlags)();window.onhashchange=function(a){window.recordEvent("browserHashChange",{newUrl:a.newURL,
oldUrl:a.oldURL})};window.oops=function(a,g,b){g=g||"";var c=(0,m.default)("<a href=''>send us a copy</a>");c.attr("href","mailto:bugreport@databricks.com?subject=error report&body=Hi, I found this error:%0D%0A%0D%0A"+encodeURIComponent(a)+".%0D%0A%0D%0AYou're welcome.");a="Oops! Please "+c[0].outerHTML+" of the following trace:<br><br><pre style='max-height: 500px; overflow: hidden'>"+O.StringRenderers.htmlEscape(a)+"</pre>"+g;b?M.default.confirm({messageHTML:a,confirmButton:"Reload page",cancelButton:"Close",
confirm:function(){window.location.reload(!0)}}):M.default.alert(a,!0,"Close")};window.onerror=function(a){var g=arguments;(0,m.default)(".tb-status").hasClass("error")||function(){(0,m.default)(".tb-status").addClass("error");var b=a.stack||JSON.stringify(g),c="";a.stack||(c="<br>See the developer console for more information about this error.");var d=function(a){a&&a.preventDefault();window.oops(b,c,!0)};(0,m.default)(".tb-status-msg-error").html("Internal error: <a href=#>report</a>");(0,m.default)(".tb-status-msg-error a").click(d);
window.recordEvent("jsException",null,b);d()}()};window.conn.onInternalError(window.onerror);window.conn.start();window.clusterList=new u.default([],{deltaPublisherRoot:window.settings.clusterPublisherRootId});window.clusterList.autoUpdate();window.tableList=new g.default([],{deltaPublisherRoot:window.settings.tablesPublisherRootId,model:Y.default,comparator:function(a){return a.get("name")}});window.tableList.startWatching();window.treeCollection=new v.default;window.fileBrowserView=new z.default({el:(0,
m.default)("#filebrowser-popup .filebrowser"),model:window.treeCollection,tables:window.tableList});window.treeCollection.on("remove",function(a){var g=a.get("viewRoute")||a.get("type")+"/"+a.get("id");window.fragmentToView.hasOwnProperty(g)&&B.default.removeView(window.fragmentToView[g]);delete window.shellSessionHash[a.get("id")]});window.tableList.on("remove",function(a){a=a.get("viewRoute");window.fragmentToView.hasOwnProperty(a)&&B.default.removeView(window.fragmentToView[a])});window.alertBox=
function(a){M.default.alert(a,!0,"Close")};window.onbeforeunload=function(){if(0<d)return"You have unsaved changes."};window.settings.enablePresenceUI&&(new L.default({model:J.default,el:(0,m.default)("span.tb-status-presence")})).render();window.settings.enableDebugUI&&(0,m.default)("#debugHelper").show();e();h();b();k();setInterval(function(){0<window.numKeystrokes&&(window.recordUsage("browserKeystrokes",window.numKeystrokes),window.numKeystrokes=0)},1E4);q.default.history.start();window.settings.enableFeedback&&
ca.FeedbackUtils.setupFeedbackWidget(window.settings.useDevTierFeedbackWidget,window.settings.feedbackEmail||"feedback@databricks.com",window.settings.dbcForumURL||"https://forums.databricks.com")}function n(a){var g=(0,m.default)("<div/>").appendTo((0,m.default)("body"));a=p.default.createFactory(D.LoginOrgSelectionView)({availableWorkspaces:a,selectFunc:function(a,b){window.settings.orgId===a?(b(),r.default.unmountComponentAtNode(g[0]),g.remove(),d()):ba.BrowserUtils.getSettings(a,function(){b();
r.default.unmountComponentAtNode(g[0]);g.remove();d()})}});r.default.render(a,g[0])}a("babel-polyfill");l=a("jquery");var m=c(l);l=a("backbone");var q=c(l);l=a("underscore");var w=c(l);l=a("react");var p=c(l);l=a("react-dom");var r=c(l);l=a("./js_polyfill/Console.js");f=a("./applications/ApplicationList");var t=c(f);f=a("./clusters/ClusterList");var u=c(f);f=a("./controllers/ReactRouter.jsx");var y=c(f);f=a("./controllers/Router.jsx");var A=c(f);f=a("./delta_receiver/CollectionDeltaReceiver");var g=
c(f);f=a("./filebrowser/TreeNodeCollection");var v=c(f);f=a("./filebrowser/FileBrowserView");var z=c(f);f=a("./filetree/NavFunc.jsx");var B=c(f);f=a("./help_menu/HelpMenuView.jsx");var G=c(f);f=a("./local_storage/LocalUserPreference");var x=c(f),D=a("./login/LoginOrgSelectionView.jsx"),E=a("./login/LoginUtils.jsx");f=a("./notebook/dashboards/Dashboard");var F=c(f);f=a("./presence/Presence");var J=c(f);f=a("./presence/PresenceView");var L=c(f),I=a("./requests/Counter");f=a("./requests/MultiplexConnection");
var K=c(f);f=a("./requests/RequestUtils.jsx");var N=a("./sidebar/Sidebar.jsx"),P=c(N),N=a("./tables/Table"),Y=c(N),N=a("./ui_building_blocks/dialogs/DeprecatedDialogBox"),M=c(N),O=a("./ui_building_blocks/text/StringRenderers"),Q=a("./user_activity/IdleIndicator.jsx"),U=a("./user_activity/UsageLogging"),R=a("./user_menu/UserMenuView.jsx"),ba=a("./user_platform/BrowserUtils"),T=a("./user_platform/MacUtils"),ca=a("./user_platform/FeedbackUtils.jsx");a("../lib/jquery-ui-bundle");a("../lib/jquery.ajaxQueue");
a("../lib/bootstrap");l.Console.polyfillWindow(window);q.default.$=m.default;window.fragmentToView={};window.nextViewId=0;window.viewIdtoView={};window.viewIdToFragment={};window.testMode=!1;window.numKeystrokes=0;(0,m.default)(document).keypress(function(){window.numKeystrokes+=1});ba.BrowserUtils.disableBackspace();(0,f.enableRequestPerfMetrics)((0,m.default)(document));(0,m.default)(function(){if(window.localStorage)try{window.localStorage.setItem("login",Date().toString())}catch(aa){console.error("Error storing to local storage")}var a=
E.LoginUtils.getParams(),g=null;a.o&&(g=a.o);ba.BrowserUtils.getSettings(g,function(){var a=window.settings.availableWorkspaces.filter(function(a){return!a.needsConfirmation});null===g&&1<a.length?n(a):d()})});q.default.emulateHTTP=!1;q.default.emulateJSON=!1},{"../lib/bootstrap":383,"../lib/jquery-ui-bundle":402,"../lib/jquery.ajaxQueue":403,"./applications/ApplicationList":15,"./clusters/ClusterList":32,"./controllers/ReactRouter.jsx":59,"./controllers/Router.jsx":60,"./delta_receiver/CollectionDeltaReceiver":62,
"./filebrowser/FileBrowserView":66,"./filebrowser/TreeNodeCollection":69,"./filetree/NavFunc.jsx":72,"./help_menu/HelpMenuView.jsx":84,"./js_polyfill/Console.js":103,"./local_storage/LocalUserPreference":128,"./login/LoginOrgSelectionView.jsx":129,"./login/LoginUtils.jsx":130,"./notebook/dashboards/Dashboard":207,"./presence/Presence":224,"./presence/PresenceView":225,"./requests/Counter":227,"./requests/MultiplexConnection":228,"./requests/RequestUtils.jsx":231,"./sidebar/Sidebar.jsx":246,"./tables/Table":260,
"./ui_building_blocks/dialogs/DeprecatedDialogBox":297,"./ui_building_blocks/text/StringRenderers":317,"./user_activity/IdleIndicator.jsx":323,"./user_activity/UsageLogging":324,"./user_menu/UserMenuView.jsx":336,"./user_platform/BrowserUtils":344,"./user_platform/FeedbackUtils.jsx":346,"./user_platform/MacUtils":347,"babel-polyfill":406,backbone:407,jquery:819,react:1001,"react-dom":865,underscore:1021}],12:[function(a,l,f){a=a("backbone");a=(a&&a.__esModule?a:{default:a}).default.Model.extend({defaults:{applicationInstName:"",
applicationType:"",id:"",uiUrl:"",state:"",session:""},parse:function(a){if(a){var c=a.applicationInfo;return{applicationInstName:c.applicationInstName,applicationType:c.applicationType.value,id:c.id,logo:c.logo,uiUrl:c.instance?c.instance.uiUrl:"",state:c.state.state.value,hostname:c.instance?c.instance.uiUrl:"",session:a.session}}return{}},url:function(){return"/appui/"+this.get("id")}});l.exports=a},{backbone:407}],13:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");
var e=c(f);f=a("backbone");f=c(f);a=a("../templates/appUITemplate.html");var h=c(a);a=f.default.View.extend({setIframeHeight:function(){var a=(0,e.default)("#content .app-iframe:first"),c=1+a.outerHeight(!0)-a.height()+(0,e.default)("#content .app-iframe-auth:first").outerHeight(!0);a.height((0,e.default)("#content").height()-c)},initialize:function(){this.model.fetch();this.name="App UI";var a=this;this.listenTo(this.model,"change",this.render);(0,e.default)(window).resize(function(){a.setIframeHeight()});
(0,e.default)(window).on("message",function(b){var c=b.originalEvent.data,n=a.model.get("session"),m=a.model.get("applicationInstName")+"-appproxy-"+window.location.hostname,k=window.location.protocol+"//"+m+(window.location.port?":"+window.location.port:"");b.originalEvent.origin===k&&("loaded"===c?b.originalEvent.source.postMessage(n+"|"+m,k):"session_ready"===c&&(0,e.default)("#content .app-iframe:first").attr("src",k))})},render:function(){var a=this.model.get("applicationInstName");if(""!==a){var c=
this.model.get("logo");(0,e.default)("#topbar .tb-title").text(c);a=window.location.protocol+"//"+a+"-appproxy-"+window.location.host+"/lib/dbc_set_cookie.html";this.$el.html((0,h.default)({cookieUrl:a}));this.setIframeHeight()}}});l.exports=a},{"../templates/appUITemplate.html":264,backbone:407,jquery:819}],14:[function(a,l,f){a=a("backbone");a=(a&&a.__esModule?a:{default:a}).default.Model.extend({defaults:{applicationInstName:"",applicationType:"",driver:""},parse:function(a){return a?{applicationInstName:a.applicationInstName,
applicationType:a.applicationType.value,id:a.id,driver:"#setting/appui/"+a.id,state:a.state.state.value}:{}},urlRoot:"/applications",isValid:function(){return""!==this.get("applicationInstName")}});l.exports=a},{backbone:407}],15:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("backbone");f=c(f);a=a("../applications/Application");a=c(a);a=f.default.Collection.extend({model:a.default,url:"/applications",activeApplications:function(){return this.where({state:"Running"})},
autoUpdate:function(){var a=this;setInterval(e.default.throttle(function(){a.fetch()},5E3),1E3)}});l.exports=a},{"../applications/Application":14,backbone:407,underscore:1021}],16:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("backbone");f=c(f);var e=a("../applications/Application"),h=c(e),e=a("../applications/ApplicationView"),b=c(e),e=a("../templates/applicationsView.html"),k=c(e);a=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var d=c(a);a=f.default.View.extend({tagName:"div",
className:"applications-list",markPageAsBeta:!0,events:{"click #application-add-button":"onApplicationAdd"},initialize:function(){this.name="Applications";this.collection=window.applicationList;this.listenTo(this.collection,"add",this.render);this.listenTo(this.collection,"reset",this.render);this.listenTo(this.collection,"remove",this.render);this.render()},onApplicationAdd:function(){var a=this;d.default.custom({title:"New Application",controls:[{controlType:"text",message:"",id:"newApplicationFeedback"},
{controlType:"input",id:"newApplicationName",type:"text",label:"Name",placeholder:"My Application",required:!0,validate:function(a){return""!==a}},{controlType:"select",id:"newApplicationType",label:"Type",class:"type",options:["Zoomdata","PanTera"]}],confirm:function(b){var c=b.find("#newApplicationType"),d=b.find("#newApplicationName"),m=b.find("#newApplicationFeedback"),n={applicationInstName:d.val(),applicationType:c.val()};m.text("Your application is being created...");(new h.default(n)).save({},
{error:function(a,b){m.text("Impossible to create a application called '"+n.applicationInstName+"' : "+b.statusText)},success:function(){b.remove();a.$el.find("#application-view-new-indicator").fadeIn("fast")}});a.collection.fetch()},cancel:function(){}},null,!0)},render:function(){this.$el.html((0,k.default)({}));var a=this.$("#applications-table");this.collection.each(function(c){c=new b.default({model:c});a.append(c.render().el)},this)}});l.exports=a},{"../applications/Application":14,"../applications/ApplicationView":17,
"../templates/applicationsView.html":266,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,backbone:407}],17:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("backbone");f=c(f);var e=a("../templates/applicationTemplate.html"),h=c(e);a=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var b=c(a);a=f.default.View.extend({initialize:function(){this.listenTo(this.model,"change",this.render)},tagName:"tr",events:{"click .remove-button":"onRemoveApplication","click .restart-button":"onRestartApplication"},
onRemoveApplication:function(){var a=this.model.get("applicationInstName"),c=this;b.default.confirm({message:"Are you sure you want to terminate the "+a+" application?",confirm:function(){c.model.attributes.state="Terminating";c.model.save({remove:!0},{patch:!0});c.render()}})},onRestartApplication:function(){var a=this.model.get("applicationInstName"),c=this;b.default.confirm({message:"Are you sure you want to restart "+a+"?",confirm:function(){c.model.save({restart:!0},{patch:!0})}})},render:function(){var a=
this.model.get("applicationInstName"),b=this.model.get("applicationType");this.$el.html((0,h.default)({applicationInstName:a,applicationType:b,applicationLogo:b+".png",driver:this.model.get("driver"),state:this.model.get("state")}));var a=this.model.get("state").toLowerCase(),b=!1,c=null,m=null,q=!1;switch(a){case "pending":c="#ddf";break;case "terminating":c="#f37752";m="#fff";break;case "local":break;case "running":q=b=!0;break;case "error":q=b=!0;break;case "restarting":b=!0;break;default:console.warn("unknown application state: "+
a)}window.settings.applications||(b=!1);c&&this.$el.find("td").css("background-color",c);m&&(this.$el.find("td").css("color",m),this.$el.find("a").css("color","#005580"));this.$el.find(".remove-button").css("display",b?"initial":"none");this.$el.find(".restart-button").css("display",q?"initial":"none");return this}});l.exports=a},{"../templates/applicationTemplate.html":265,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,backbone:407}],18:[function(a,l,f){function c(a){return a&&a.__esModule?
a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.AdvancedSettings=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||
!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("lodash");var b=c(l);l=a("react");var k=c(l),d=a("../clusters/AwsSettings.jsx"),n=a("../clusters/SshSettings.jsx");l=a("../clusters/ReactSparkConfElement.jsx");var m=c(l),q=a("../clusters/aws_tags/AwsTagList.jsx"),w=a("../clusters/aws_tags/AwsTagListViewConstants"),p=a("../clusters/Common.jsx"),r=a("../ui_building_blocks/TabsView.jsx");a=f.AdvancedSettings=
function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.onChangeAws=a.onChangeAws.bind(a);a.onChangeSparkConf=a.onChangeSparkConf.bind(a);a.onChangeTags=a.onChangeTags.bind(a);a.onChangeSshKey=a.onChangeSshKey.bind(a);a.toggleAdvancedSettings=
a.toggleAdvancedSettings.bind(a);a.state={showAdvancedSettings:!0,sparkConf:a.props.defaultSparkConf,sshKey:a.props.defaultSshKey,zoneId:a.props.defaultZoneId,nodeTypeId:a.props.defaultNodeType,driverNodeTypeId:a.props.defaultDriverNodeTypeId,spotBidPrice:a.props.defaultSpotBid,ebsVolumeType:a.props.ebsVolumeType,ebsVolumeCount:a.props.ebsVolumeCount,ebsVolumeSize:a.props.ebsVolumeSize,instanceProfileArn:a.props.instanceProfileArn,customTags:a.props.customTags};return a}e(c,a);h(c,[{key:"componentWillReceiveProps",
value:function(a){a.defaultNodeType!==this.state.nodeTypeId&&this.setState({nodeTypeId:a.defaultNodeType});a.defaultDriverNodeTypeId!==this.state.defaultDriverNodeTypeId&&this.setState({driverNodeTypeId:a.defaultDriverNodeTypeId})}},{key:"toggleAdvancedSettings",value:function(){this.setState({showAdvancedSettings:!this.state.showAdvancedSettings});this.state.showAdvancedSettings||window.recordEvent("clusterCreateClick",{clusterCreateElementClicked:"createClusterAdvSettingsOpen"})}},{key:"onChangeSparkConf",
value:function(a){this.setStateAndReportChange({sparkConf:a})}},{key:"onChangeAws",value:function(a){var b={};Object.keys(this.state).forEach(function(g){g in a&&(b[g]=a[g])});this.setStateAndReportChange(b)}},{key:"onChangeTags",value:function(a){this.setStateAndReportChange({customTags:a.customTags})}},{key:"onChangeSshKey",value:function(a){this.setStateAndReportChange({sshKey:a})}},{key:"setStateAndReportChange",value:function(a){this.setState(a);this.props.onChange(Object.assign({},{zoneId:this.state.zoneId,
nodeTypeId:this.state.nodeTypeId,driverNodeTypeId:this.state.driverNodeTypeId||this.props.defaultNodeType,sparkConf:this.state.sparkConf,spotBidPrice:this.state.spotBidPrice,sshKey:this.state.sshKey,ebsVolumeType:this.state.ebsVolumeType,ebsVolumeCount:this.state.ebsVolumeCount,ebsVolumeSize:this.state.ebsVolumeSize,instanceProfileArn:this.state.instanceProfileArn,customTags:this.state.customTags},a))}},{key:"getNodeTypes",value:function(){return this.props.nodeTypes?this.props.nodeTypes:[]}},{key:"doNodeTypesSupportTags",
value:function(a,c){var g=this;return 2===b.default.filter(a,function(a){return p.ClusterUtil.getNodeType(a||g.props.defaultNodeType,c).support_cluster_tags}).length}},{key:"renderTagsTab",value:function(){var a=this,b=!this.doNodeTypesSupportTags([this.state.nodeTypeId,this.state.driverNodeTypeId],this.props.nodeTypes);return k.default.createElement(r.Panel,{key:"tags",title:"Tags",name:"tags",disabled:b,tooltipText:w.AwsTagListViewConstants.DISABLED_TOOLTIP_TEXT},k.default.createElement(q.AwsTagList,
{ref:function(g){return a.tags=g},editable:!0,customTags:this.state.customTags,onChange:this.onChangeTags}))}},{key:"renderSshTab",value:function(){return k.default.createElement(r.Panel,{key:"ssh",title:"SSH",name:"ssh"},k.default.createElement(n.SshSettings,{ref:"sshSettings",defaultSshKeyBlob:this.state.sshKey,onChange:this.onChangeSshKey}))}},{key:"renderTabs",value:function(){var a=this;return k.default.createElement(r.Tabs,null,k.default.createElement(r.Panel,{key:"aws",title:"AWS",name:"aws"},
k.default.createElement(d.AwsSettings,{ref:function(b){return a.aws=b},enableAZ:this.props.enableAZ,enableNodeType:this.props.enableNodeType,defaultZoneId:this.state.zoneId,defaultNodeType:this.state.nodeTypeId,defaultDriverNodeTypeId:this.state.driverNodeTypeId,zoneInfos:this.props.zoneInfos,nodeTypes:this.getNodeTypes(),onChange:this.onChangeAws,hideSpotBidPrice:this.props.hideSpotBidPrice,spotBidPrice:this.state.spotBidPrice,ebsVolumeType:this.props.ebsVolumeType,ebsVolumeCount:this.props.ebsVolumeCount,
ebsVolumeSize:this.props.ebsVolumeSize,numWorkers:this.props.numWorkers,minWorkers:this.props.minWorkers,maxWorkers:this.props.maxWorkers,restrictedClusterCreation:this.props.restrictedClusterCreation,showEBSVolumes:this.props.showEBSVolumes,gpuWorkloadIsSelected:this.props.gpuWorkloadIsSelected,showInstanceProfiles:this.props.showInstanceProfiles,instanceProfileArn:this.props.instanceProfileArn})),k.default.createElement(r.Panel,{key:"spark",title:"Spark",name:"spark"},k.default.createElement(m.default,
{ref:function(b){return a.sparkConf=b},defaultSparkConfBlob:m.default.makeSparkConfString(this.state.sparkConf),onChange:this.onChangeSparkConf})),this.props.renderTags?this.renderTagsTab():null,this.props.renderSsh?this.renderSshTab():null)}},{key:"render",value:function(){var a,b=null;this.state.showAdvancedSettings?(a=k.default.createElement("div",null,k.default.createElement("i",{className:"fa fa-angle-double-up"})," Hide advanced settings"),b=this.renderTabs()):a=k.default.createElement("div",
null,k.default.createElement("i",{className:"fa fa-angle-double-down"})," Show advanced settings");return k.default.createElement("div",{className:"create-advanced"},k.default.createElement("a",{ref:"toggleAdvancedSettings",onClick:this.toggleAdvancedSettings,className:"advanced-settings-link"},a),b)}}]);return c}(k.default.Component);a.propTypes={onChange:k.default.PropTypes.func.isRequired,hideSpotBidPrice:k.default.PropTypes.bool.isRequired,defaultSpotBid:k.default.PropTypes.number.isRequired,
enableAZ:k.default.PropTypes.bool,enableNodeType:k.default.PropTypes.bool,defaultZoneId:k.default.PropTypes.string.isRequired,defaultNodeType:k.default.PropTypes.string.isRequired,defaultSparkConf:k.default.PropTypes.object.isRequired,defaultDriverNodeTypeId:k.default.PropTypes.string.isRequired,defaultSshKey:k.default.PropTypes.array,renderSsh:k.default.PropTypes.bool,renderTags:k.default.PropTypes.bool,zoneInfos:k.default.PropTypes.array.isRequired,nodeTypes:k.default.PropTypes.array.isRequired,
ebsVolumeType:k.default.PropTypes.string,ebsVolumeCount:k.default.PropTypes.oneOfType([k.default.PropTypes.string,k.default.PropTypes.number]),ebsVolumeSize:k.default.PropTypes.oneOfType([k.default.PropTypes.string,k.default.PropTypes.number]),toggleAdvSettingsCallback:k.default.PropTypes.func,restrictedClusterCreation:k.default.PropTypes.bool,numWorkers:k.default.PropTypes.number,minWorkers:k.default.PropTypes.number,maxWorkers:k.default.PropTypes.number,showEBSVolumes:k.default.PropTypes.bool,gpuWorkloadIsSelected:k.default.PropTypes.bool,
showInstanceProfiles:k.default.PropTypes.bool,instanceProfileArn:k.default.PropTypes.string,customTags:k.default.PropTypes.array};a.defaultProps={defaultSparkConf:"",defaultSshKey:[],enableAZ:!0,enableNodeType:!0,restrictedClusterCreation:!1,gpuWorkloadIsSelected:!1,customTags:[]}},{"../clusters/AwsSettings.jsx":20,"../clusters/Common.jsx":35,"../clusters/ReactSparkConfElement.jsx":46,"../clusters/SshSettings.jsx":52,"../clusters/aws_tags/AwsTagList.jsx":54,"../clusters/aws_tags/AwsTagListViewConstants":55,
"../ui_building_blocks/TabsView.jsx":293,lodash:842,react:1001}],19:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});
f.AutoScaleCheckbox=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("react");var b=c(l),k=a("../forms/ReactFormElements.jsx");l=a("../ui_building_blocks/icons/IconsForType");var d=c(l),n=a("../ui_building_blocks/Tooltip.jsx"),m=a("../urls/DbGuideUrls");a=a("../urls/DbGuideLinks");var q=c(a);
f=f.AutoScaleCheckbox=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.onChange=a.onChange.bind(a);return a}e(c,a);h(c,[{key:"getTooltipText",value:function(){var a="A cluster that automatically scales between the minimum and maximum number of nodes, based on load. ";
this.props.showHybridMessaging&&(a+="The on-demand size determines the number of on-demand nodes; the rest of the nodes in the cluster will attempt to be on spot. The driver will be on demand. ");this.props.showWarning&&(a="Autoscaling works best with Spark 1.6.2+ / Spark 2.0. ");return b.default.createElement("span",null,a,b.default.createElement("a",{href:m.DbGuideUrls.getDbGuideUrl(q.default.CLUSTER_AUTOSCALING_URL)},"Learn more"))}},{key:"onChange",value:function(a){if(this.props.onChange)this.props.onChange(a)}},
{key:"render",value:function(){var a;a=this.props.enableAutoScale?this.getTooltipText():n.Tooltip.getGenericUpgradeElement("To enable cluster auto scaling");var c=this.props.showWarning?d.default.warning:d.default.hint;return b.default.createElement("div",{className:"auto-scale-checkbox"},b.default.createElement(k.LabeledCheckbox,{ref:"autoScaleCheckbox",checkboxID:"autoScaleCheckbox",defaultChecked:this.props.defaultChecked,disabled:!this.props.enableAutoScale||this.props.disabled,labelClassName:this.props.enableAutoScale?
null:"disabled",label:"Enable Autoscaling (beta)",checkboxClassName:"control-field auto-scale-input",onChange:this.onChange}),b.default.createElement("div",{className:"auto-scale-tooltip"},b.default.createElement(n.Tooltip,{text:a},b.default.createElement("i",{className:"fa fa-"+c}))))}}]);return c}(b.default.Component);f.propTypes={defaultChecked:b.default.PropTypes.bool,enableAutoScale:b.default.PropTypes.bool,showHybridMessaging:b.default.PropTypes.bool,onChange:b.default.PropTypes.func,disabled:b.default.PropTypes.bool,
showWarning:b.default.PropTypes.bool};f.defaultProps={enableAutoScale:!0,showHybridMessaging:!1,disabled:!1,showWarning:!1}},{"../forms/ReactFormElements.jsx":81,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/icons/IconsForType":304,"../urls/DbGuideLinks":320,"../urls/DbGuideUrls":321,react:1001}],20:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,g){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||
"object"!==typeof g&&"function"!==typeof g?a:g}function h(a,g){if("function"!==typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);a.prototype=Object.create(g&&g.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?Object.setPrototypeOf(a,g):a.__proto__=g)}Object.defineProperty(f,"__esModule",{value:!0});f.AwsSettings=void 0;var b=function(){function a(a,g){for(var b=0;b<g.length;b++){var c=g[b];
c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(g,b,c){b&&a(g.prototype,b);c&&a(g,c);return g}}();l=a("jquery");var k=c(l);l=a("lodash");var d=c(l);l=a("react");var n=c(l),m=a("../clusters/Common.jsx"),q=a("../clusters/InstanceProfileElements.jsx"),w=a("../clusters/EBSVolumeFields.jsx"),p=a("../clusters/EBSVolumeUtils.jsx"),r=a("../forms/ReactFormElements.jsx"),t=a("../proto"),u=a("../requests/ProtoApi");l=a("../ui_building_blocks/dropdowns/DropdownMenuView.jsx");
var y=c(l),A=a("../user_menu/iam_roles/IamRolesUtils.jsx"),g=n.default.createElement("i",{className:"fa fa-check"}),v=n.default.createElement("i",{className:"fa fa-sort"});a=f.AwsSettings=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=e(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a._onZoneChange=a._onZoneChange.bind(a);a._onInstanceProfileChange=a._onInstanceProfileChange.bind(a);a._setSelectedNode=a._setSelectedNode.bind(a);
a._setSelectedDriver=a._setSelectedDriver.bind(a);a._onSpotBidPriceChange=a._onSpotBidPriceChange.bind(a);a._onSpotBidPriceBlur=a._onSpotBidPriceBlur.bind(a);a._toggleNodeDropdown=a._toggleNodeDropdown.bind(a);a._toggleDriverDropdown=a._toggleDriverDropdown.bind(a);a._onNodeChange=a._onChange.bind(a,a._setSelectedNode,a._toggleNodeDropdown);a._onDriverChange=a._onChange.bind(a,a._setSelectedDriver,a._toggleDriverDropdown);a._addNodeToNodeList=a._addNodeToNodeList.bind(a);a.shouldDisableNodeType=a.shouldDisableNodeType.bind(a);
a._getNodeTypes=a._getNodeTypes.bind(a);a._getDriverNodeTypes=a._getDriverNodeTypes.bind(a);a.maxSpotBidPrice=window.settings&&window.settings.maxSpotBidPricePercent;a.minSpotBidPrice=window.settings&&window.settings.minSpotBidPricePercent;var g=a.props.defaultZoneId?{id:a.props.defaultZoneId}:d.default.find(a.props.zoneInfos,function(a){return a.isDefault});a.state={selectedZone:g?g.id:null,selectedNodeType:a.props.defaultNodeType,selectedDriverType:a.props.defaultDriverNodeTypeId?a.props.defaultDriverNodeTypeId:
"same-as-worker",showSpotBidPriceError:!1,nodeDropdownVisible:!1,driverDropdownVisible:!1,availableInstanceProfiles:[],showInstanceProfileWarning:!1};return a}h(c,a);b(c,[{key:"componentDidMount",value:function(){var a=this;this.protoCall=(new u.ProtoService(t.InstanceProfilesProtos.InstanceProfilesService)).rpc("listInstanceProfiles")(null,function(g){g=new t.InstanceProfilesProtos.ListInstanceProfiles.Response(g);a.setState({availableInstanceProfiles:g.instance_profiles})})}},{key:"componentWillUnmount",
value:function(){this.protoCall&&this.protoCall.abort()}},{key:"componentWillReceiveProps",value:function(a){var g=(0,m.isGpuNodeTypeAndExists)(this.state.selectedNodeType,this.props.nodeTypes),b=(0,m.isGpuNodeTypeAndExists)(a.defaultNodeType,this.props.nodeTypes);g!==b&&(this.setState({selectedNodeType:a.defaultNodeType}),"same-as-worker"!==this.state.selectedDriverType&&this.setState({selectedDriverType:a.defaultDriverNodeTypeId}))}},{key:"getZoneId",value:function(){return this.state.selectedZone}},
{key:"_onZoneChange",value:function(a){this.setState({selectedZone:a});this.props.onChange({zoneId:a})}},{key:"_setSelectedNode",value:function(a){this.setState({selectedNodeType:a});this.props.onChange({nodeTypeId:a,driverNodeTypeId:this._getSelectedDriverNodeType(a)})}},{key:"_setSelectedDriver",value:function(a){this.setState({selectedDriverType:a});this.props.onChange({driverNodeTypeId:"same-as-worker"===a?this.state.selectedNodeType:a})}},{key:"_nodeTypeInfo",value:function(a){var g=d.default.find(this.props.nodeTypes,
function(g){return g.node_type_id===a});if("undefined"!==typeof g){var b=Math.floor(g.memory_mb/1024),c=m.ClusterUtil.getDBU(g,1);return n.default.createElement("div",{className:"nodetype-info"},n.default.createElement(m.InstanceStats,{memory:b,cores:g.num_cores,dbus:c})," ",n.default.createElement(m.DBUTooltip,null))}return null}},{key:"_onSpotBidPriceChange",value:function(a){var g=parseInt(a,10);this.setState({showSpotBidPriceError:g<this.minSpotBidPrice||g>this.maxSpotBidPrice});this.props.onChange({spotBidPrice:a})}},
{key:"_onSpotBidPriceBlur",value:function(a){var g=parseInt(a,10);g>this.maxSpotBidPrice&&(a=this.maxSpotBidPrice);if(g<this.minSpotBidPrice||""===a)a=this.minSpotBidPrice;this._onSpotBidPriceChange(parseInt(a,10))}},{key:"_renderCustomSpotPricing",value:function(){if(this.props.hideSpotBidPrice||!window.settings.enableCustomSpotPricing)return null;var a=n.default.createElement(m.CustomSpotPriceTooltip,{className:"custom-spot-price-tooltip",min:this.minSpotBidPrice,max:this.maxSpotBidPrice}),g=n.default.createElement("span",
{className:"error"},"Must be between ",this.minSpotBidPrice," and ",this.maxSpotBidPrice,".");return n.default.createElement("div",{className:"custom-spot-price-selection section-padded"},n.default.createElement(m.Label,null,"Spot Bid Price")," ",a,n.default.createElement("div",null,n.default.createElement(r.Input,{ref:"customSpotPrice",required:!0,inputID:"customSpotPrice",value:this.props.spotBidPrice?this.props.spotBidPrice.toString():"",type:"number",inputClassName:"custom-spot-price",onBlur:this._onSpotBidPriceBlur,
onChange:this._onSpotBidPriceChange,min:this.minSpotBidPrice,max:this.maxSpotBidPrice}),n.default.createElement("div",{className:"spot-bid-percent"},n.default.createElement("span",{className:"nodetype-info"},"% of on-demand instance price"),this.state.showSpotBidPriceError?g:null)))}},{key:"_toggleNodeDropdown",value:function(){(0,k.default)(".nodetype-selection .fake-select").toggleClass("focus",!this.state.nodeDropdownVisible);this.setState({nodeDropdownVisible:!this.state.nodeDropdownVisible})}},
{key:"_toggleDriverDropdown",value:function(){(0,k.default)(".driver-nodetype-selection .fake-select").toggleClass("focus",!this.state.driverDropdownVisible);this.setState({driverDropdownVisible:!this.state.driverDropdownVisible})}},{key:"_onChange",value:function(a,g,b){if(b){b=(0,k.default)(b.target).closest(".node-type-li");if(0===b.length||b.hasClass("disabled"))return;b=b.data("value");a(b)}g()}},{key:"shouldDisableNodeType",value:function(a){if(!a.disabled){a=(0,m.isGpuNodeType)(a);var g=this.props.gpuWorkloadIsSelected;
return!g&&a||g&&!a}return!0}},{key:"_addNodeToNodeList",value:function(a,b,c,d){var v=Math.floor(b.memory_mb/1024),k=m.ClusterUtil.getDBU(b,1),h=this.shouldDisableNodeType(b)?" disabled":"";c=n.default.createElement("li",{key:"node-type-"+c,className:"node-type-li"+h,"data-value":b.node_type_id},n.default.createElement("a",{className:d===b.node_type_id?"selected":null,disabled:b.disabled},d===b.node_type_id?g:null,b.description,n.default.createElement("span",{className:"node-type-descriptor"},"(",
n.default.createElement(m.InstanceStats,{memory:v,cores:b.num_cores,dbus:k}),")")));a.hasOwnProperty(b.category)?a[b.category].push(c):a[b.category]=[c]}},{key:"_getNodeTypes",value:function(a){if(!this.props.nodeTypes)return null;a||(a=this.state.selectedNodeType);for(var g={},b=this.props.nodeTypes,c=0;c<b.length;c++)this._addNodeToNodeList(g,b[c],c,a);return d.default.map(Object.keys(g),function(a){return n.default.createElement("ul",{className:"node-type-header"},n.default.createElement("div",
{className:"node-type-header-text"},a),g[a])})}},{key:"_getDriverNodeTypes",value:function(){var a=this._getNodeTypes(this.state.selectedDriverType),b=n.default.createElement("ul",{className:"node-type-header"},n.default.createElement("li",{key:"node-type-same",className:"node-type-li","data-value":"same-as-worker"},n.default.createElement("a",{className:"same-as-worker"===this.state.selectedDriverType?"selected":null},"same-as-worker"===this.state.selectedDriverType?g:null,"Same as worker")));a.unshift(b);
return a}},{key:"_getSelectedDriverNodeType",value:function(){var a=0>=arguments.length||void 0===arguments[0]?this.state.selectedNodeType:arguments[0];return"same-as-worker"===this.state.selectedDriverType?a:this.state.selectedDriverType}},{key:"_isNodeTypeSupported",value:function(a){return p.EBSVolumeUtils.nodeTypeSupportsEBSVolumes(this.props.nodeTypes,a)}},{key:"_offendingNodeTypes",value:function(){var a=this,g=[this.state.selectedNodeType,this._getSelectedDriverNodeType()];return d.default.uniq(g).filter(function(g){return!a._isNodeTypeSupported(g)}).map(function(g){return m.ClusterUtil.getNodeType(g,
a.props.nodeTypes).description})}},{key:"_getEBSVolumeFields",value:function(){var a=this._offendingNodeTypes();return n.default.createElement(w.EBSVolumeFields,{ebsVolumeType:this.props.ebsVolumeType,ebsVolumeCount:this.props.ebsVolumeCount,ebsVolumeSize:this.props.ebsVolumeSize,onChange:this.props.onChange,numWorkers:this.props.numWorkers,minWorkers:this.props.minWorkers,maxWorkers:this.props.maxWorkers,offendingNodeTypes:a,disableEBSVolumes:0<a.length})}},{key:"_onInstanceProfileChange",value:function(a){this.props.onChange({instanceProfileArn:a});
this.setState({showInstanceProfileWarning:!!a})}},{key:"_getInstanceProfileOptions",value:function(){var a=this.state.availableInstanceProfiles.map(function(a){a=a.instance_profile_arn;return{value:a,label:A.IamRolesUtils.parseIamRoleName(a)}});return[{value:"",label:"None"}].concat(a)}},{key:"_getInstanceProfileField",value:function(){return n.default.createElement(q.InstanceProfileField,{options:this._getInstanceProfileOptions(),value:this.props.instanceProfileArn,onChange:this._onInstanceProfileChange,
showWarning:this.state.showInstanceProfileWarning})}},{key:"render",value:function(){var a=this,g=d.default.map(this.props.zoneInfos,function(a){return a.id}),b=d.default.find(this.props.nodeTypes,function(g){return g.node_type_id===a.state.selectedNodeType}),c=d.default.cloneDeep(this.props.nodeTypes),k=d.default.cloneDeep(b);k&&(k.category=void 0,k.description="Same as worker",k.node_type_id="same-as-worker",c&&c.push(k));var c=d.default.find(c,function(g){return g.node_type_id===a.state.selectedDriverType}),
k=n.default.createElement(y.default,{getItems:this._getNodeTypes,outsideClickHandler:this._onNodeChange,classes:["node-type-dropdown"]}),h=n.default.createElement(y.default,{getItems:this._getDriverNodeTypes,outsideClickHandler:this._onDriverChange,classes:["node-type-dropdown"]});return n.default.createElement("div",{className:"aws-settings"},n.default.createElement("div",{className:"az-selection section-padded"},n.default.createElement(m.Label,null,"Availability Zone")," ",n.default.createElement(m.AZTooltip,
null),n.default.createElement("div",null,n.default.createElement(r.Select,{selectID:"clusterZoneId",options:g,value:this.state.selectedZone,onChange:this._onZoneChange,selectClassName:"control-field cluster-dialog-element az-select"}))),n.default.createElement("div",{className:"nodetype-selection section-padded"},n.default.createElement(m.Label,null,"Worker Node Type")," ",n.default.createElement(m.TypeTooltip,null),n.default.createElement("div",null,n.default.createElement("div",{className:"control-field cluster-dialog-element fake-select worker-select",
onClick:this._toggleNodeDropdown},b?b.description:null,v),this.state.nodeDropdownVisible?k:null,this._nodeTypeInfo(this.state.selectedNodeType))),n.default.createElement("div",{className:"driver-nodetype-selection section-padded"},n.default.createElement(m.Label,null,"Driver Node Type")," ",n.default.createElement(m.TypeTooltip,null),n.default.createElement("div",null,n.default.createElement("div",{className:"control-field cluster-dialog-element fake-select driver-select",onClick:this._toggleDriverDropdown},
c?c.description:null,v),this.state.driverDropdownVisible?h:null,this._nodeTypeInfo(this._getSelectedDriverNodeType()))),this._renderCustomSpotPricing(),this.props.showEBSVolumes?this._getEBSVolumeFields():null,this.props.showInstanceProfiles?this._getInstanceProfileField():null)}}]);return c}(n.default.Component);a.propTypes={onChange:n.default.PropTypes.func.isRequired,hideSpotBidPrice:n.default.PropTypes.bool.isRequired,spotBidPrice:n.default.PropTypes.oneOfType([n.default.PropTypes.string,n.default.PropTypes.number]).isRequired,
enableAZ:n.default.PropTypes.bool,enableNodeType:n.default.PropTypes.bool,defaultZoneId:n.default.PropTypes.string.isRequired,defaultDriverNodeTypeId:n.default.PropTypes.string,defaultNodeType:n.default.PropTypes.string.isRequired,zoneInfos:n.default.PropTypes.array.isRequired,nodeTypes:n.default.PropTypes.array.isRequired,ebsVolumeType:n.default.PropTypes.string,ebsVolumeCount:n.default.PropTypes.oneOfType([n.default.PropTypes.string,n.default.PropTypes.number]),ebsVolumeSize:n.default.PropTypes.oneOfType([n.default.PropTypes.string,
n.default.PropTypes.number]),numWorkers:n.default.PropTypes.number,minWorkers:n.default.PropTypes.number,maxWorkers:n.default.PropTypes.number,restrictedClusterCreation:n.default.PropTypes.bool,showEBSVolumes:n.default.PropTypes.bool,gpuWorkloadIsSelected:n.default.PropTypes.bool,showInstanceProfiles:n.default.PropTypes.bool,instanceProfileArn:n.default.PropTypes.string};a.defaultProps={enableAZ:!0,enableNodeType:!0}},{"../clusters/Common.jsx":35,"../clusters/EBSVolumeFields.jsx":39,"../clusters/EBSVolumeUtils.jsx":40,
"../clusters/InstanceProfileElements.jsx":42,"../forms/ReactFormElements.jsx":81,"../proto":226,"../requests/ProtoApi":230,"../ui_building_blocks/dropdowns/DropdownMenuView.jsx":301,"../user_menu/iam_roles/IamRolesUtils.jsx":342,jquery:819,lodash:842,react:1001}],21:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("backbone");f=c(f);var h=a("../acl/AclModelMixin"),h=c(h),b=a("../acl/WorkspacePermissions"),k=c(b),d=a("../clusters/Common.jsx"),n=a("../clusters/SparkVersionUtils");
a=a("../presence/Presence");var m=c(a);a=f.default.Model.extend({defaults:{clusterName:"",clusterId:"",zoneId:"",sparkContextId:"",creator:"",sparkVersion:"",memory:0,workersUrl:[],notebooks:[],stateMessage:"",driverIsHealthy:!0,defaultCluster:!1,useSpotInstance:!1,isDriverOnSpot:!1,numActiveSpotExecutors:0,libraries:[]},isNew:function(){return!1},getName:function(){return this.get("clusterName")},tags:function(){return{sparkVersion:this.get("sparkVersion"),clusterId:this.get("clusterId"),clusterName:this.get("clusterName"),
clusterMemory:(1024*this.get("memory")).toString(),clusterCreator:this.get("creator"),clusterType:this.get("useSpotInstance")?"spot":"ondemand"}},shortDescription:function(){var a=[];if(this.displayMemoryGB()){var b=this.displayMemoryGB()+" GB";a.push(b)}(b=this.displayState())&&a.push(b);window.settings.enableSparkVersionsUI&&a.push(this.sparkVersion());this.get("zoneId")&&this.get("zoneId")!==window.settings.defaultZoneId&&a.push(this.get("zoneId"));return this.get("clusterName")+" ("+a.join(", ")+
")"},sizeAndSparkVersion:function(){var a=[];if(this.displayMemoryGB()){var b=this.displayMemoryGB()+" GB";a.push(b)}window.settings.enableSparkVersionsUI&&a.push(this.sparkVersion());return"("+a.join(", ")+")"},isSpotOnly:function(){return this.get("useSpotInstance")&&(!this.get("firstOnDemand")||0===this.get("firstOnDemand"))},isOnDemandOnly:function(){return!this.get("useSpotInstance")},isHybrid:function(){return this.get("useSpotInstance")&&0<this.get("firstOnDemand")},numSpotWorkers:function(){return this.isOnDemandOnly()?
0:this.isHybrid()?Math.max(this.get("numWorkers")-(this.get("firstOnDemand")-1),0):this.get("numWorkers")},numOnDemandWorkers:function(){return this.isOnDemandOnly()?this.get("numWorkers"):this.isHybrid()?Math.max(this.get("firstOnDemand")-1,0):0},workerUrls:function(){var a=this;return null===this.get("workersUrl")?[]:e.default.map(e.default.range(this.get("workersUrl").length),function(b){return"#setting/sparkui/"+a.get("clusterId")+"/worker/"+b})},masterUrl:function(){return"#setting/sparkui/"+
this.get("clusterId")+"/master"},driverUrl:function(){return"#setting/sparkui/"+this.get("clusterId")+"/driver-"+this.get("sparkContextId")},driverLogsUrl:function(){return"#setting/sparkui/"+this.get("clusterId")+"/driver-logs"},terminalUrl:function(){return"#terminal/"+this.get("clusterId")},displayMemoryGB:function(){if(!this.get("memory"))return 0;var a=this.workerUrls().length,b=null,c=this.get("nodeTypeId"),m=void 0,n=this.get("driverNodeTypeId");c&&c.id&&(b=d.ClusterUtil.getNodeType(c.id));
n&&n.id&&(m=d.ClusterUtil.getNodeType(n.id));return Math.floor(d.ClusterUtil.containersToMemoryGB(a,b,m,!0))},url:function(){return this.get("clusterId")?"/clusters/"+this.get("clusterId"):"/clusters"},isDriverHealthy:function(){return"Running"===this.get("state")||"Reconfiguring"===this.get("state")?this.get("driverIsHealthy"):!0},sparkVersion:function(){return n.SparkVersionUtils.formatSparkVersion(this.get("sparkVersion"))},displayState:function(){var a=this.get("state");if(!this.isDriverHealthy()){if("Running"===
a)return"Recovering driver...";if("Reconfiguring"===a)return"Reconfiguring and Recovering driver..."}if("Running"===a){var b=e.default.filter(this.get("libraries"),function(a){return"error"===a.clusterStatus.status});if(0<b.length)return"Failed to attach "+b.length+" libraries";b=e.default.filter(this.get("libraries"),function(a){return"pending"===a.clusterStatus.status});if(0<b.length)return"Attaching "+b.length+" libraries"}return"Error"===a?"Terminated due to Error":"TerminateWhenReady"===a?"Terminating":
a},shortDisplayState:function(){var a=this.get("state");return this.isDriverHealthy()||"Running"!==a&&"Reconfiguring"!==a?"Running"===a&&0<e.default.filter(this.get("libraries"),function(a){return"pending"===a.clusterStatus.status}).length?"Attaching Libraries":"TerminateWhenReady"===a?"Terminating":a:"Recovering"},elasticSparkRunUrl:function(){if(!this.isElasticSparkCluster())return null;var a=this.get("clusterName").match(/^job-(.+)-run-(.+)$/);if(a)return"#job/"+a[1]+"/run/"+a[2];console.warn("Jobs cluster has malformed name: "+
this.get("clusterName"));return null},isElasticSparkCluster:function(){return"JobLauncher"===this.get("creator")},isValid:function(){return""!==this.get("clusterName")},isInProgress:function(){return!this.isAttachable()&&!this.isElasticSparkCluster()&&"Terminating"!==this.get("state")&&"Terminated"!==this.get("state")&&"Error"!==this.get("state")},isAttachable:function(){return("Running"===this.get("state")||"Reconfiguring"===this.get("state"))&&!this.isElasticSparkCluster()&&this.isDriverHealthy()},
canRunQuery:function(){return"Running"===this.get("state")&&!this.isElasticSparkCluster()&&this.isDriverHealthy()&&this.get("defaultCluster")},isConfigurable:function(){return window.settings.enableRestrictedClusterCreation||this.isElasticSparkCluster()?!1:"Running"===this.get("state")?!0:!1},isRestartable:function(){return this.isElasticSparkCluster()?!1:"Running"===this.get("state")?!0:!1},canTerminate:function(){return!("Terminating"===this.displayState()||this.isTerminated())},canManagePermissions:function(){return!this.isTerminated()&&
"Terminating"!==this.get("state")},isTerminating:function(){return"Terminating"===this.get("state")},isTerminated:function(){return"Terminated"===this.get("state")||"Error"===this.get("state")},restart:function(){this.set("state","Restarting");this.save({restart:!0},{patch:!0});m.default.pushHistory("Restarted "+this.get("clusterName"),null,"setting/clusters")},getAclObjectType:function(){return k.default.CLUSTER_TYPE},getAclObjectId:function(){return this.get("clusterId")}});e.default.extend(a.prototype,
h.default);f=f.default.Model.extend({getAclObjectType:function(){return k.default.CLUSTER_ROOT_TYPE},getAclObjectId:function(){return"*"},getName:function(){return k.default.CLUSTER_ROOT_TYPE}});e.default.extend(f.prototype,h.default);a.ROOT=new f;l.exports=a},{"../acl/AclModelMixin":1,"../acl/WorkspacePermissions":10,"../clusters/Common.jsx":35,"../clusters/SparkVersionUtils":50,"../presence/Presence":224,backbone:407,underscore:1021}],22:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}
f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("react");var b=c(f),k=a("../acl/AclUtils.jsx"),d=a("../acl/PermissionEditView.jsx"),n=a("./ReactClusterListView.jsx");f=a("./ReactSparkConfElement.jsx");var m=c(f),q=a("../clusters/Common.jsx"),w=a("../clusters/InstanceProfileElements.jsx"),p=a("../clusters/EBSVolumeUtils.jsx");f=a("../clusters/Cluster");f=c(f);var r=a("./ClusterWorkersInput.jsx"),t=a("../clusters/aws_tags/AwsTagList.jsx"),u=a("../clusters/aws_tags/AwsTagListViewConstants"),
y=a("../ui_building_blocks/TabsView.jsx"),A=a("../ui_building_blocks/Tooltip.jsx"),g=a("../user_menu/iam_roles/IamRolesUtils.jsx"),v=b.default.createElement("i",{className:"fa fa-angle-double-down"}),z=b.default.createElement("i",{className:"fa fa-angle-double-up"});a=b.default.createClass({displayName:"ClusterConfigurationView",propTypes:{cluster:b.default.PropTypes.instanceOf(f.default).isRequired,changesMade:b.default.PropTypes.func.isRequired,enableAutoScale:b.default.PropTypes.bool.isRequired,
workersConfigurable:b.default.PropTypes.bool,workspaceAcl:b.default.PropTypes.object,permissionsConfigurable:b.default.PropTypes.bool,restrictedClusterCreation:b.default.PropTypes.bool,nodeMemory:b.default.PropTypes.number,nodeCores:b.default.PropTypes.number,nodeTypes:b.default.PropTypes.array,nodeType:b.default.PropTypes.object,driverNodeType:b.default.PropTypes.object,driverMemory:b.default.PropTypes.number,driverCores:b.default.PropTypes.number,onChange:b.default.PropTypes.func},getDefaultProps:function(){return{workersConfigurable:!0,
permissionsConfigurable:!0}},getInitialState:function(){var a=this.props.cluster,g=a.get("isAutoscaling"),b=g&&q.ClusterUtil.isSparkVersionBadForAutoscaling(a.get("sparkVersion")),c=this.getDefaultNumWorkers(a)+a.numSpotWorkers();return{showAdvancedSettings:!0,showAutoScaleWarning:b,workersValid:!0,sparkConfHasChanged:!1,numberOfWorkersHasChanged:!1,workspaceAclsHasChanged:!1,activeTab:"aws",showAutoScaleInputs:g,numberOfWorkers:g?null:c,minWorkers:g?a.get("minWorkers"):null,maxWorkers:g?a.get("maxWorkers"):
null}},toggleAutoscalingWarning:function(a){this.setState({showAutoScaleWarning:a&&q.ClusterUtil.isSparkVersionBadForAutoscaling(this.props.cluster.get("sparkVersion"))})},componentDidUpdate:function(){var a=this.props.workspaceAcl;if(a)a.on("change",this.aclsHasChanged.bind(this,a),this)},componentWillUnmount:function(){this.props.changesMade({},!1);this.cancelChangesHandler(this.props.cluster);this.props.workspaceAcl&&this.props.workspaceAcl.off(null,null,this)},collapseHandler:function(a){a.preventDefault();
window.recordEvent("clusterDetailsAdvancedSettingsExpanded",{clusterDetailsAdvancedSettingsExpandState:!this.state.showAdvancedSettings});this.setState({showAdvancedSettings:!this.state.showAdvancedSettings})},hasChanged:function(){return this.state.sparkConfHasChanged||this.state.numberOfWorkersHasChanged||this.state.workspaceAclsHasChanged},cancelChangesHandler:function(a){a&&(a=a.isHybrid()?a.numSpotWorkers():a.get("numWorkers"),this.setState({numberOfWorkers:a,numberOfWorkersHasChanged:!1,workersValid:!0,
sparkConfHasChanged:!1,workspaceAclsHasChanged:!1}),(0,e.default)("#number-workers").removeClass("invalid-form"),(0,e.default)("#cluster-conf-form")[0]&&(0,e.default)("#cluster-conf-form")[0].reset(),this.props.workspaceAcl&&this.props.workspaceAcl.resetAllChanges());this.refs.clusterWorkersInput.resetState()},aclsHasChanged:function(a){var g=this;this.setState({workspaceAclsHasChanged:a.hasChanges()},function(){g.props.changesMade({},g.hasChanged(),g.cancelChangesHandler,g.state.workersValid)})},
getChangesForSpot:function(a){return a.showAutoScaleInputs?{minWorkers:a.spotWorkers,maxWorkers:a.autoScaleMaxSpotWorkers}:{numberOfWorkers:a.spotWorkers}},getChangesForOnDemand:function(a){return a.showAutoScaleInputs?{minWorkers:a.workers,maxWorkers:a.autoScaleMaxWorkers}:{numberOfWorkers:a.workers}},getChangesForHybrid:function(a){return a.showAutoScaleInputs?{minWorkers:a.mixedAutoScaleMinWorkers,maxWorkers:a.autoScaleMaxWorkers}:{numberOfWorkers:a.workers+a.spotWorkers}},getChangesForCluster:function(a,
g){a=a.isSpotOnly()?this.getChangesForSpot(g):a.isOnDemandOnly()?this.getChangesForOnDemand(g):this.getChangesForHybrid(g);return h.default.extend({minWorkers:null,maxWorkers:null,numberOfWorkers:null},a)},didClusterConfigurationChange:function(a,g,b){if(b!==a.get("isAutoscaling"))return!0;if(b){if(a.get("minWorkers")!==g.minWorkers||a.get("maxWorkers")!==g.maxWorkers)return!0}else if(a.get("numWorkers")!==g.numberOfWorkers)return!0;return!1},onInstanceChange:function(a,g){var b=this,c=this.getChangesForCluster(a,
g);a=this.didClusterConfigurationChange(a,c,g.showAutoScaleInputs);this.setState(c);this.setState({numberOfWorkersHasChanged:a},function(){b.props.changesMade(c,b.hasChanged(),b.cancelChangesHandler,b.state.workersValid)})},updateSparkConf:function(a,g){var b=this;a=a.get("sparkConf");this.setState({sparkConfHasChanged:!h.default.isEqual(a,g)},function(){b.setState({sparkConf:g});b.props.changesMade({sparkConf:g},b.hasChanged(),b.cancelChangesHandler,b.state.workersValid)})},setAdvancedSettingsTab:function(a){this.setState({activeTab:a})},
metricFunction:function(a){window.recordEvent("clusterDetailsAdvancedSettingsTabClicked",{clusterDetailsAdvancedSettingsTab:a})},_renderCustomSpotPrice:function(){if(!window.settings.enableCustomSpotPricing||this.props.restrictedClusterCreation||this.props.cluster.isOnDemandOnly())return null;var a=window.settings&&window.settings.minSpotBidPricePercent,g=window.settings&&window.settings.maxSpotBidPricePercent;return b.default.createElement("div",{className:"custom-spot-price section-padded"},b.default.createElement("div",
null,b.default.createElement(q.Label,null,"Spot Bid Price")," ",b.default.createElement(q.CustomSpotPriceTooltip,{min:a,max:g})),b.default.createElement("div",{className:"spot-price"},this.props.cluster.get("spotBidPricePercent"),"% of on-demand instance price"))},shouldRenderSshTab:function(){return window.settings.enableSshKeyUI&&!this.props.restrictedClusterCreation},shouldRenderTagsTab:function(){return window.settings.enableClusterTagsUI&&!this.props.restrictedClusterCreation},_renderSshTab:function(a){var g=
window.settings.sshContainerForwardedPort,c=this.props.cluster.get("driverDisplayableAddress");return b.default.createElement(y.Panel,{key:"driverIp",title:"SSH",name:"driverIp",onClick:a},b.default.createElement("div",{className:"tab-info-section-wrapper"},b.default.createElement("div",{className:"tab-info-section section-padded"},b.default.createElement(q.Label,null,"Driver Hostname"),b.default.createElement("div",null,c)),b.default.createElement("div",{className:"tab-info-section section-padded"},
b.default.createElement(q.Label,null,"Port"),b.default.createElement("div",null,g)),b.default.createElement("div",{className:"tab-info-section section-padded"},b.default.createElement(q.Label,null,"Example")," ",b.default.createElement(q.SshExampleTooltip,{customPosition:{contentLeft:"0px"}}),b.default.createElement("div",{className:"ex-command"},"ssh ubuntu@"+c+" -p "+g+" -i <private_key_file_path>")),b.default.createElement(q.SshInstructions,null)))},_renderJdbcOdbcTab:function(a){return window.settings.showSqlEndpoints?
this.props.cluster.get("sparkVersion").match("^(1\\.3|1\\.4|1\\.5|1\\.6)")?this._getDisabledJdbcOdbcPanel("JDBC/ODBC endpoints are only supported in Spark 2.0 and above."):q.ClusterUtil.renderJdbcTab(this.props.cluster,a):this._getDisabledJdbcOdbcPanel(A.Tooltip.getGenericUpgradeElement("To enable JDBC/ODBC endpoints"))},_getEBSTypeLabel:function(a){if(a===p.EBSVolumeUtils.GENERAL_PURPOSE)return p.EBSVolumeUtils.GENERAL_PURPOSE_LABEL;if(a===p.EBSVolumeUtils.THROUGHPUT_OPTIMIZED)return p.EBSVolumeUtils.THROUGHPUT_OPTIMIZED_LABEL},
_shouldRenderEBSVolumeFields:function(){var a=this.props.cluster,a=a.get("ebsVolumeType")&&a.get("ebsVolumeSize")&&a.get("ebsVolumeCount");return window.settings.enableEBSVolumesUI&&!this.props.restrictedClusterCreation&&a},_renderEBSVolumeFields:function(){var a=window.settings.maxEbsVolumesPerInstance,g=p.EBSVolumeUtils.getEBSSummary(this.props.cluster.get("ebsVolumeCount"),this.props.cluster.get("ebsVolumeSize"));return b.default.createElement("div",{className:"storage-parent-wrapper section-padded ebs-cluster-details"},
b.default.createElement("div",{className:"label-select-group configure type-group"},b.default.createElement("div",null,b.default.createElement(q.Label,null,p.EBSVolumeUtils.TYPE_LABEL)," ",b.default.createElement(p.EBSVolumeUtils.EBSVolumeTypeTooltip,null)),b.default.createElement("div",{className:"ebs-type-details"},this._getEBSTypeLabel(this.props.cluster.get("ebsVolumeType")))),b.default.createElement("div",{className:"label-select-group configure count-group"},b.default.createElement("div",null,
b.default.createElement(q.Label,null,p.EBSVolumeUtils.COUNT_LABEL)," ",b.default.createElement(p.EBSVolumeUtils.EBSVolumeCountTooltip,{maxCount:a})),b.default.createElement("div",{className:"padded-info"},this.props.cluster.get("ebsVolumeCount"))),b.default.createElement("div",{className:"label-select-group configure size-group"},b.default.createElement("div",null,b.default.createElement(q.Label,null,p.EBSVolumeUtils.SIZE_LABEL)," ",b.default.createElement(p.EBSVolumeUtils.EBSVolumeSizeTooltip,{GPMin:p.EBSVolumeUtils.getGeneralPurposeMin(),
GPMax:p.EBSVolumeUtils.getGeneralPurposeMax(),TOMin:p.EBSVolumeUtils.getThroughputOptimizedMin(),TOMax:p.EBSVolumeUtils.getThroughputOptimizedMax()})),b.default.createElement("div",{className:"padded-info"},this.props.cluster.get("ebsVolumeSize"))),b.default.createElement("span",{className:"ebs-info"},g))},_shouldRenderInstanceProfiles:function(){return window.settings.enableInstanceProfilesUI&&!this.props.restrictedClusterCreation},_getInstanceProfileArnValue:function(){var a=this.props.cluster.get("instanceProfileArn");
return g.IamRolesUtils.parseIamRoleName(a)||"None"},_renderInstanceProfiles:function(){return b.default.createElement(w.InstanceProfileField,{readOnly:!0,value:this._getInstanceProfileArnValue()})},_doNodeTypesSupportTags:function(){return 2===h.default.filter([this.props.nodeType,this.props.driverNodeType],function(a){return a.support_cluster_tags}).length},renderAWSTagsTab:function(){var a=this.metricFunction.bind(this,"Tags"),g=!this._doNodeTypesSupportTags();return b.default.createElement(y.Panel,
{title:"Tags",name:"tags",onClick:g?null:a,disabled:g,tooltipText:u.AwsTagListViewConstants.DISABLED_TOOLTIP_TEXT},b.default.createElement(t.AwsTagList,{customTags:this.props.cluster.get("customTags"),defaultTags:this.props.cluster.get("defaultTags")}))},renderAdvancedSettings:function(a){var g,c,v=this.state.activeTab;if(!this.state.showAdvancedSettings)return b.default.createElement("div",{className:"advanced-settings-content"});this.props.permissionsConfigurable?k.AclUtils.clusterAclsEnabled()?
this.props.workspaceAcl?a.canManage()?(g=this.metricFunction.bind(this,"Permissions"),g=b.default.createElement(y.Panel,{name:"permissions",title:"Permissions",onClick:g},b.default.createElement("div",{className:"workspace-acl",id:"cluster-details-acls"},b.default.createElement(d.PermissionEditBody,{workspaceAcl:this.props.workspaceAcl})))):g=this._getDisabledPermsPanel(n.ClusterConfigure.noPermissionsForActionText):g=null:(g=k.AclUtils.clusterAclsAvailable()?n.ClusterConfigure.enableAclsTooltipText:
A.Tooltip.getGenericUpgradeElement("To enable cluster access control"),g=this._getDisabledPermsPanel(g)):g=b.default.createElement(y.Panel,{name:"permissions",title:"Permissions",disabled:!0});c=this.state.sparkConf?m.default.makeSparkConfString(this.state.sparkConf):m.default.makeSparkConfString(a.get("sparkConf"));"permissions"!==v||k.AclUtils.clusterAclsFeatureFlag()&&this.props.permissionsConfigurable||(v="aws");var h=this.metricFunction.bind(this,"AWS"),e=this.metricFunction.bind(this,"Spark"),
p=this.metricFunction.bind(this,"SSH"),r=this.metricFunction.bind(this,"JDBC/ODBC");return b.default.createElement("div",{className:"advanced-settings-content"},b.default.createElement(y.Tabs,{activeTab:v,onTabClick:this.setAdvancedSettingsTab},b.default.createElement(y.Panel,{title:"AWS",name:"aws",onClick:h},b.default.createElement("div",{className:"az-selection section-padded"},b.default.createElement("div",null,b.default.createElement(q.Label,null,"Availability Zone")," ",b.default.createElement(q.AZTooltip,
{customPosition:{contentLeft:"18",arrowLeft:"96px"}})),a.get("zoneId")),b.default.createElement("div",{className:"nodetype-selection section-padded"},b.default.createElement("div",null,b.default.createElement(q.Label,null,"Worker Node Type")," ",b.default.createElement(q.TypeTooltip,null)),this.props.nodeType.description,b.default.createElement("span",{className:"cluster-create-label reg-font-label node-type-stats"},this.props.nodeType.instance_type_id,":"," ",b.default.createElement(q.InstanceStats,
{memory:this.props.nodeMemory,cores:this.props.nodeCores,dbus:q.ClusterUtil.getDBU(this.props.nodeType,1)})," ",b.default.createElement(q.DBUTooltip,null))),b.default.createElement("div",{className:"driver-nodetype-selection section-padded"},b.default.createElement("div",null,b.default.createElement(q.Label,null,"Driver Node Type")," ",b.default.createElement(q.TypeTooltip,null)),this.props.driverNodeType.description,b.default.createElement("span",{className:"cluster-create-label reg-font-label node-type-stats"},
this.props.driverNodeType.instance_type_id,":"," ",b.default.createElement(q.InstanceStats,{memory:this.props.driverMemory,cores:this.props.driverCores,dbus:q.ClusterUtil.getDBU(this.props.driverNodeType,1)})," ",b.default.createElement(q.DBUTooltip,null))),this._renderCustomSpotPrice(),this._shouldRenderEBSVolumeFields()?this._renderEBSVolumeFields():null,this._shouldRenderInstanceProfiles()?this._renderInstanceProfiles():null),b.default.createElement(y.Panel,{title:"Spark",name:"spark",onClick:e},
b.default.createElement("div",{className:"spark-config section-padded"},b.default.createElement(q.Label,null,"Spark Config"),b.default.createElement("div",{className:"spark-config-settings",ref:"sparkConf"},c||"No Spark configuration set"))),this.shouldRenderTagsTab()?this.renderAWSTagsTab():null,this.shouldRenderSshTab()?this._renderSshTab(p):null,window.settings.showSqlProxyUI?this._renderJdbcOdbcTab(r):null,k.AclUtils.clusterAclsFeatureFlag()?g:b.default.createElement(y.Panel,{title:"",name:"",
disabled:!0})))},_getDisabledPermsPanel:function(a){return b.default.createElement(y.Panel,{title:"Permissions",name:"permissions",disabled:!0,tooltipText:a})},_getDisabledJdbcOdbcPanel:function(a){return b.default.createElement(y.Panel,{title:"JDBC/ODBC",name:"jdbcOdbc",disabled:!0,tooltipText:a})},getDefaultNumWorkers:function(a){a.get("isAutoscaling")&&(a.isHybrid()?a.get("firstOnDemand"):a.get("minWorkers"));return a.numOnDemandWorkers()},renderNewClusterWorkersInput:function(a){var g=void 0;
a.isHybrid()?g=r.ClusterWorkersInput.INSTANCE_MIXED:a.isSpotOnly()?g=r.ClusterWorkersInput.INSTANCE_SPOT:a.isOnDemandOnly()&&(g=r.ClusterWorkersInput.INSTANCE_ONDEMAND);var c=a.get("isAutoscaling")?a.get("minWorkers"):a.numSpotWorkers(),d=this.getDefaultNumWorkers(a);return b.default.createElement(r.ClusterWorkersInput,{ref:"clusterWorkersInput",disabled:!this.props.workersConfigurable,showAutoScaleCheckbox:this.props.enableAutoScale||a.get("isAutoscaling"),enableAutoScale:this.props.enableAutoScale,
showAutoScaleWarning:this.state.showAutoScaleWarning,toggleAutoScale:this.toggleAutoscalingWarning,restrictedClusterCreation:this.props.restrictedClusterCreation,fixedInstanceType:!0,fixedFallbackToOnDemand:!0,fixedOnDemand:!0,defaultClusterType:g,defaultNumWorkers:d,defaultSpotWorkers:c,defaultEnableAutoScale:a.get("isAutoscaling"),defaultMinAutoScaleWorkers:a.get("minWorkers"),defaultMaxAutoScaleWorkers:a.get("maxWorkers"),defaultFallbackToOnDemand:a.get("fallbackToOnDemand"),nodeType:this.props.nodeType,
driverNodeType:this.props.driverNodeType,toggleClusterCreateButton:this._onWorkersInputValidation,onChange:this.onClusterConfigurationChange})},_onWorkersInputValidation:function(a){this.setState({workersValid:a})},onClusterConfigurationChange:function(a){this.onInstanceChange(this.props.cluster,a);this.setState(a);a=Object.assign({},this.state,a);if(this.props.onChange)this.props.onChange(a)},render:function(){var a=this.props.cluster;if(!a)return b.default.createElement("div",{className:"row-fluid"});
var g=this.state.showAdvancedSettings?z:v,c=this.state.showAdvancedSettings?"Hide":"Show";return b.default.createElement("div",{className:"row-fluid"},b.default.createElement("form",{id:"cluster-conf-form",className:"cluster-configuration"},b.default.createElement("div",{className:"spark-version section-padded"},b.default.createElement("div",null,b.default.createElement(q.Label,null,"Apache Spark Version")),a.sparkVersion()),this.renderNewClusterWorkersInput(a),b.default.createElement("div",{className:"advanced-settings-label"},
b.default.createElement("a",{className:"collapsible",onClick:this.collapseHandler},g," ",c," advanced settings")),this.renderAdvancedSettings(a)))}});l.exports=a},{"../acl/AclUtils.jsx":3,"../acl/PermissionEditView.jsx":6,"../clusters/Cluster":21,"../clusters/Common.jsx":35,"../clusters/EBSVolumeUtils.jsx":40,"../clusters/InstanceProfileElements.jsx":42,"../clusters/aws_tags/AwsTagList.jsx":54,"../clusters/aws_tags/AwsTagListViewConstants":55,"../ui_building_blocks/TabsView.jsx":293,"../ui_building_blocks/Tooltip.jsx":294,
"../user_menu/iam_roles/IamRolesUtils.jsx":342,"./ClusterWorkersInput.jsx":34,"./ReactClusterListView.jsx":45,"./ReactSparkConfElement.jsx":46,jquery:819,react:1001,underscore:1021}],23:[function(a,l,f){function c(a){var c=h.default.createElement(b.SubmitButton,{disabled:a.submitState!==d,text:a.submitText,onClick:a.onSubmit});return a.submitState===n?b.ClusterUtil.generateClusterLimitTooltip(c):c}function e(a){var d=b.ClusterUtil.getNodeType(a.nodeTypeId,a.nodeTypes),m=b.ClusterUtil.getNodeType(a.driverNodeTypeId||
a.nodeTypeId,a.nodeTypes),n=a.numWorkers,e=a.maxWorkers;return h.default.createElement("div",{className:"create-cluster-title"},h.default.createElement("div",{className:"create-title"},h.default.createElement("h2",{className:"create-title-text"},a.headerText),h.default.createElement(b.CancelButton,{onClick:a.onCancel}),h.default.createElement(c,a)),a.showCreateSummary?h.default.createElement(k.CreateSummary,{workers:n,workerDBU:b.ClusterUtil.getDBU(d,n),maxDBU:b.ClusterUtil.getDBU(d,e),driverDBU:b.ClusterUtil.getDBU(m,
1),maxWorkers:e,memoryGb:b.ClusterUtil.workersToMemoryGB(n,d,!0),maxMemoryGb:b.ClusterUtil.workersToMemoryGB(e,d,!0),cores:b.ClusterUtil.workersToCores(n,d),maxCores:b.ClusterUtil.workersToCores(e,d),driver:1,driverMemoryGb:b.ClusterUtil.workersToMemoryGB(1,m,!0),driverCores:b.ClusterUtil.workersToCores(1,m)}):null)}Object.defineProperty(f,"__esModule",{value:!0});f.ClusterSubmitButton=c;f.ClusterCreateHeader=e;var h=(l=a("react"))&&l.__esModule?l:{default:l},b=a("../clusters/Common.jsx"),k=a("../clusters/CreateSummary.jsx"),
d="ClusterCreateHeader.submitEnabled",n="ClusterCreateHeader.submitDisabledWithTooltip";e.submitEnabled=d;e.submitDisabled="ClusterCreateHeader.submitDisabled";e.submitDisabledWithTooltip=n;e.propTypes={maxWorkers:h.default.PropTypes.number,numWorkers:h.default.PropTypes.number.isRequired,nodeTypeId:h.default.PropTypes.string.isRequired,driverNodeTypeId:h.default.PropTypes.string.isRequired,nodeTypes:h.default.PropTypes.array.isRequired,headerText:h.default.PropTypes.string.isRequired,onCancel:h.default.PropTypes.func.isRequired,
onSubmit:h.default.PropTypes.func.isRequired,submitText:h.default.PropTypes.string,submitState:h.default.PropTypes.string,showCreateSummary:h.default.PropTypes.bool};e.defaultProps={maxWorkers:0,showCreateSummary:!0,submitText:"Create Cluster",submitState:e.submitEnabled}},{"../clusters/Common.jsx":35,"../clusters/CreateSummary.jsx":36,react:1001}],24:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.ClusterCreatePage=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();
l=a("react");var b=c(l),k=a("../clusters/ClusterCreateHeader.jsx"),d=a("../clusters/ClusterCreateView.jsx");l=a("../clusters/ClusterList");l=c(l);var n=a("../clusters/Common.jsx"),m=a("../clusters/SparkVersionUtils");a=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var q=c(a);f=f.ClusterCreatePage=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.onClickSubmit=a.onClickSubmit.bind(a);a.setCreateSummary=a.setCreateSummary.bind(a);a.toggleClusterCreateButton=a.toggleClusterCreateButton.bind(a);a.state={numWorkers:a.props.defaultNumWorkers,autoScaleMaxWorkers:0,nodeTypeId:a.props.defaultNodeTypeId,driverNodeTypeId:a.props.defaultNodeTypeId,submitDisabled:!0};return a}e(c,a);h(c,[{key:"componentDidMount",value:function(){this.props.clusters.on("reset change add remove",this._forceUpdate,
this)}},{key:"_forceUpdate",value:function(){this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.props.clusters.off(null,null,this)}},{key:"setCreateSummary",value:function(a){var b=a.workers+a.spotWorkers,c=0;a.showAutoScaleInputs&&(c=a.autoScaleMaxWorkers+a.autoScaleMaxSpotWorkers,a.mixedAutoScaleMinWorkers||0===a.mixedAutoScaleMinWorkers)&&(b=a.mixedAutoScaleMinWorkers);this.setState({numWorkers:b,autoScaleMaxWorkers:c,nodeTypeId:a.nodeTypeId,driverNodeTypeId:a.driverNodeTypeId})}},
{key:"getSubmitButtonState",value:function(){return n.ClusterUtil.exceedsClusterLimit(this.props.clusters.activeClusters().length)?k.ClusterCreateHeader.submitDisabledWithTooltip:this.state.submitDisabled?k.ClusterCreateHeader.submitDisabled:k.ClusterCreateHeader.submitEnabled}},{key:"startSpinner",value:function(){}},{key:"stopSpinner",value:function(){}},{key:"onClickSubmit",value:function(){this.startSpinner();this.createCluster(this.refs.clusterCreateView.collect());this.props.onSubmitNavigationCallback()}},
{key:"onCreateClusterSuccess",value:function(){this.stopSpinner()}},{key:"onCreateClusterFail",value:function(a,b,c,d){this.stopSpinner();c="Could not create a cluster";a&&a.clusterName&&(c=c+" named "+a.clusterName);a="";b&&b.status&&"503"===String(b.status)&&(a=".  The cluster manager is temporarily unreachable. You may not be able to create or inspect clusters at this time. Please try again later.");q.default.alert(c+": "+d+a)}},{key:"toggleClusterCreateButton",value:function(a){this.setState({submitDisabled:!a})}},
{key:"createCluster",value:function(a){m.SparkVersionUtils.setDefaultSparkVersion(a.sparkVersion);n.ClusterUtil.createCluster(a,this.onCreateClusterSuccess.bind(this),this.onCreateClusterFail.bind(this,a))}},{key:"_shouldShowEBSVolumes",value:function(){return window.settings.enableEBSVolumesUI&&!this.props.restrictedClusterCreation}},{key:"_shouldShowInstanceProfiles",value:function(){return window.settings.enableInstanceProfilesUI&&!this.props.restrictedClusterCreation}},{key:"render",value:function(){return b.default.createElement("div",
{className:"create-cluster"},b.default.createElement(k.ClusterCreateHeader,{headerText:"New Cluster",onSubmit:this.onClickSubmit,onCancel:function(){return window.history.back()},numWorkers:this.state.numWorkers,maxWorkers:this.state.autoScaleMaxWorkers,nodeTypeId:this.state.nodeTypeId,driverNodeTypeId:this.state.driverNodeTypeId,nodeTypes:this.props.nodeTypes,submitState:this.getSubmitButtonState()}),b.default.createElement("hr",null),b.default.createElement(d.ClusterCreateView,{ref:"clusterCreateView",
clusters:this.props.clusters,defaultCoresPerContainer:this.props.defaultCoresPerContainer,defaultNumWorkers:this.props.defaultNumWorkers,defaultNodeType:this.props.defaultNodeTypeId,defaultSparkVersion:this.props.defaultSparkVersion,defaultZoneId:this.props.defaultZoneId,showAutoScaleCheckbox:!0,enableAutoScale:this.props.enableAutoScale,enableCustomSparkVersions:this.props.enableCustomSparkVersions,enableHybridClusterType:this.props.enableHybridClusterType,enableSparkVersionsUI:this.props.enableSparkVersionsUI,
hideMissingSparkPackageWarning:this.props.hideMissingSparkPackageWarning,nodeTypes:this.props.nodeTypes,onChange:this.setCreateSummary,restrictedClusterCreation:this.props.restrictedClusterCreation,toggleClusterCreateButton:this.toggleClusterCreateButton,showHiddenSparkVersions:this.props.showHiddenSparkVersions,sparkVersions:this.props.sparkVersions,zoneInfos:this.props.zoneInfos,renderSsh:this.props.renderSsh,renderTags:this.props.renderTags,showEBSVolumes:this._shouldShowEBSVolumes(),showInstanceProfiles:this._shouldShowInstanceProfiles()}))}}]);
return c}(b.default.Component);f.propTypes={clusters:b.default.PropTypes.instanceOf(l.default).isRequired,defaultCoresPerContainer:b.default.PropTypes.number,defaultNodeTypeId:b.default.PropTypes.string,defaultNumWorkers:b.default.PropTypes.number,defaultSparkVersion:b.default.PropTypes.object.isRequired,defaultZoneId:b.default.PropTypes.string,enableAutoScale:b.default.PropTypes.bool,enableCustomSparkVersions:b.default.PropTypes.bool,enableHybridClusterType:b.default.PropTypes.bool,enableSparkVersionsUI:b.default.PropTypes.bool,
hideMissingSparkPackageWarning:b.default.PropTypes.bool,nodeTypes:b.default.PropTypes.array,onSubmitNavigationCallback:b.default.PropTypes.func,restrictedClusterCreation:b.default.PropTypes.bool,showHiddenSparkVersions:b.default.PropTypes.bool,sparkVersions:b.default.PropTypes.array,zoneInfos:b.default.PropTypes.array.isRequired,renderSsh:b.default.PropTypes.bool,renderTags:b.default.PropTypes.bool};f.defaultProps={enableAutoScale:!0,defaultNodeTypeId:"memory-optimized",defaultNumWorkers:8,onSubmitNavigationCallback:function(){return window.history.back()}}},
{"../clusters/ClusterCreateHeader.jsx":23,"../clusters/ClusterCreateView.jsx":25,"../clusters/ClusterList":32,"../clusters/Common.jsx":35,"../clusters/SparkVersionUtils":50,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,react:1001}],25:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,g){if("function"!==typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);a.prototype=Object.create(g&&g.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});g&&(Object.setPrototypeOf?Object.setPrototypeOf(a,g):a.__proto__=g)}Object.defineProperty(f,"__esModule",{value:!0});f.ClusterCreateView=void 0;var h=Object.assign||function(a){for(var g=1;g<arguments.length;g++){var b=arguments[g],c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}return a},b=function(){function a(a,b){for(var g=0;g<b.length;g++){var c=b[g];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,
c.key,c)}}return function(g,b,c){b&&a(g.prototype,b);c&&a(g,c);return g}}();l=a("underscore");var k=c(l);l=a("react");var d=c(l),n=a("../clusters/AdvancedSettings.jsx");l=a("../clusters/ClusterList");l=c(l);var m=a("../clusters/ClusterNameInput.jsx"),q=a("../clusters/ClusterWorkersInput.jsx"),w=a("../clusters/Common.jsx"),p=a("../clusters/Cluster"),r=c(p),t=a("../clusters/CustomSparkVersionInput.jsx"),u=a("../clusters/SparkVersionInput.jsx"),y=a("../clusters/SparkVersionUtils");a=f.ClusterCreateView=
function(a){function g(a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");a=(g.__proto__||Object.getPrototypeOf(g)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._onNameValidation=a._onNameValidation.bind(a);a.onClusterTypeChange=a.onClusterTypeChange.bind(a);a._onWorkersInputValidation=a._onWorkersInputValidation.bind(a);a.onAdvancedChange=a.onAdvancedChange.bind(a);
var b=a.getDefaultState(a.props);a.state=b;a.current={sparkVersion:b.sparkVersion,zoneId:a.props.defaultZoneId,sparkConf:a.props.sparkConf,sshKey:a.props.sshKey};return a}e(g,a);b(g,[{key:"isClusterAutoScaling",value:function(a){return 0<a.configureDefaults.maxWorkers}},{key:"convertJobsPropsToClusterModel",value:function(a){var g=a.configureDefaults;a={numWorkers:a.defaultNumWorkers,useSpotInstance:void 0===g.useSpotForWorkers||g.useSpotForWorkers,spotBidPricePercent:g.spotBidPricePercent,firstOnDemand:g.firstOnDemand,
minWorkers:g.minWorkers,maxWorkers:g.maxWorkers,isAutoscaling:this.isClusterAutoScaling(a)};return new r.default(a)}},{key:"getDefaultInstanceType",value:function(a){return a.configureDefaults.instanceType?a.configureDefaults.instanceType:a.enableHybridClusterType?q.ClusterWorkersInput.INSTANCE_MIXED:q.ClusterWorkersInput.INSTANCE_SPOT}},{key:"getDefaultNumWorkers",value:function(a){a.get("isAutoscaling")&&(a.isHybrid()?a.get("firstOnDemand"):a.get("minWorkers"));return a.numOnDemandWorkers()}},{key:"getDefaultState",
value:function(a){var g=this.convertJobsPropsToClusterModel(a),b=this.getDefaultInstanceType(a),c=g.get("isAutoscaling")?g.get("minWorkers"):g.numSpotWorkers(),d=this.getDefaultNumWorkers(g),m=a.configureDefaults.defaultSparkVersionKey||y.SparkVersionUtils.getDefaultSparkVersion(),n=g.get("isAutoscaling")&&w.ClusterUtil.isSparkVersionBadForAutoscaling(m);return{showAutoScaleInputs:g.get("isAutoscaling"),nodeTypeId:a.defaultNodeType,driverNodeTypeId:a.defaultDriverNodeTypeId,workers:d,spotWorkers:c,
showAutoScaleWarning:n,sparkVersion:m,minWorkers:g.get("minWorkers"),maxWorkers:g.get("maxWorkers"),nameValid:!a.enableClusterName,sparkVersions:a.sparkVersions,workersValid:!0,gpuWorkloadIsSelected:(0,w.isGpuSparkVersion)(m),instanceType:b,ebsVolumeType:a.configureDefaults.ebsVolumeType,ebsVolumeSize:a.configureDefaults.ebsVolumeSize,ebsVolumeCount:a.configureDefaults.ebsVolumeCount,instanceProfileArn:a.configureDefaults.instanceProfileArn,customTags:a.configureDefaults.customTags}}},{key:"getNodeType",
value:function(a){return w.ClusterUtil.getNodeType(a||this.props.defaultNodeType,this.props.nodeTypes)}},{key:"getAutoScaleMin",value:function(){if(!this.clusterType)return this.props.configureDefaults.minWorkers;if(this.state.instanceType===q.ClusterWorkersInput.INSTANCE_ONDEMAND)return this.state.workers;if(this.state.instanceType===q.ClusterWorkersInput.INSTANCE_MIXED)return this.clusterType.state.mixedAutoScaleMinWorkers;if(this.state.instanceType===q.ClusterWorkersInput.INSTANCE_SPOT)return this.state.spotWorkers}},
{key:"getAutoScaleMax",value:function(){if(!this.clusterType)return this.props.configureDefaults.maxWorkers;if(this.state.instanceType===q.ClusterWorkersInput.INSTANCE_ONDEMAND||this.state.instanceType===q.ClusterWorkersInput.INSTANCE_MIXED)return this.clusterType.state.autoScaleMaxWorkers;if(this.state.instanceType===q.ClusterWorkersInput.INSTANCE_SPOT)return this.clusterType.state.autoScaleMaxSpotWorkers}},{key:"collect",value:function(){var a=this.current.sparkVersion,g=this.current.customVersion,
b=!1,c=0;this.state.instanceType===q.ClusterWorkersInput.INSTANCE_ONDEMAND?(b=!1,c=0):this.state.instanceType===q.ClusterWorkersInput.INSTANCE_MIXED?(b=!0,c=this.state.workers+1):this.state.instanceType===q.ClusterWorkersInput.INSTANCE_SPOT&&(b=!0,c=0);var d=this.state.nodeTypeId?this.state.nodeTypeId:this.props.defaultNodeType,m=this.state.driverNodeTypeId?this.state.driverNodeTypeId:this.props.defaultNodeType,n=this.current.zoneId?this.current.zoneId:this.props.defaultZoneId,a={numWorkers:this.state.workers+
this.state.spotWorkers,useSpotInstance:b,sparkVersion:g||a,sparkConf:this.current.sparkConf,sshPublicKeys:this.current.sshKey,fallbackToOndemand:this.clusterType.getFallbackToOndemand(),firstOnDemand:c};this.state.ebsVolumeType&&(a.ebsVolumeType=this.state.ebsVolumeType,a.ebsVolumeCount=this.state.ebsVolumeCount,a.ebsVolumeSize=this.state.ebsVolumeSize);this.state.instanceProfileArn&&(a.instanceProfileArn=this.state.instanceProfileArn);this.state.customTags&&this._shouldSubmitAWSTags(d,m)&&(a.customTags=
this.state.customTags);b&&!this.props.restrictedClusterCreation&&window.settings.enableCustomSpotPricing&&(a.spotBidPricePercent=this.advanced.state.spotBidPrice);"undefined"!==typeof d&&""!==d&&k.default.extend(a,{nodeTypeId:d});"undefined"!==typeof m&&""!==m&&k.default.extend(a,{driverNodeTypeId:m});"undefined"!==typeof n&&""!==d&&k.default.extend(a,{zoneId:n});this.state.showAutoScaleInputs&&(delete a.numWorkers,a.minWorkers=this.getAutoScaleMin(),a.maxWorkers=this.getAutoScaleMax());this.props.enableClusterName&&
(a.clusterName=this.clusterName.get());return a}},{key:"_shouldSubmitAWSTags",value:function(a,g){return this.advanced.doNodeTypesSupportTags([a,g],this.props.nodeTypes)}},{key:"onAdvancedChange",value:function(a){k.default.extend(this.current,{zoneId:a.zoneId,sparkConf:a.sparkConf,sshKey:a.sshKey,spotBidPricePercent:a.spotBidPricePercent,ebsVolumeType:a.ebsVolumeType,ebsVolumeCount:a.ebsVolumeCount,ebsVolumeSize:a.ebsVolumeSize,nodeTypeId:a.nodeTypeId,driverNodeTypeId:a.driverNodeTypeId,instanceProfileArn:a.instanceProfileArn,
customTags:a.customTags});a=this.setStateAndDispatchChange(a);a=this._isValidState(a);this._onToggleClusterCreateButton(a)}},{key:"onClusterTypeChange",value:function(a){a=this.setStateAndDispatchChange(a);a=this._isValidState(a);this._onToggleClusterCreateButton(a)}},{key:"onAttrChange",value:function(a,g){var b={};b[a]=g;k.default.extend(this.current,b);a=this.setStateAndDispatchChange(b);a=this._isValidState(a);this._onToggleClusterCreateButton(a)}},{key:"_getSparkVersionStateChanges",value:function(a){var g=
(0,w.isGpuSparkVersion)(a);a={sparkVersion:a,gpuWorkloadIsSelected:g};g=this._getNodeTypeStateChangesForSparkVersion(g);if(null===g)return{};k.default.extend(a,g);return a}},{key:"_getNodeTypeStateChangesForSparkVersion",value:function(a){var g=this.props.nodeTypes.filter(w.isGpuNodeType);if(a&&0===g.length)return console.warn("A GPU workload has been selected, but no node supports this workload"),null;var b={},c=(0,w.isGpuNodeType)(this.getNodeType(this.state.nodeTypeId)),d=(0,w.isGpuNodeType)(this.getNodeType(this.state.driverNodeTypeId));
if(a)return a=g[0].node_type_id,c||(b.nodeTypeId=a),d||(b.driverNodeTypeId=a),b;a=this.props.defaultNodeType;g=this.props.defaultDriverNodeTypeId||a;c&&(b.nodeTypeId=a);d&&(b.driverNodeTypeId=g);return b}},{key:"_onSparkVersionChange",value:function(a){if(a=this._getSparkVersionStateChanges(a))k.default.extend(this.current,a),a=this.setStateAndDispatchChange(a),a=this._isValidState(a),this._onToggleClusterCreateButton(a)}},{key:"toggleAutoscalingWarning",value:function(a){this.setState({showAutoScaleWarning:a.showAutoScaleInputs&&
w.ClusterUtil.isSparkVersionBadForAutoscaling(a.sparkVersion)})}},{key:"getSparkVersion",value:function(){var a=this.props.configureDefaults.defaultSparkVersionKey||y.SparkVersionUtils.getDefaultSparkVersion(),g=k.default.find(this.state.sparkVersions,function(g){if(g.key===a)return g});return g?g:this.props.defaultSparkVersion}},{key:"_isValidState",value:function(a){return a.workersValid&&a.nameValid}},{key:"setStateAndDispatchChange",value:function(a){this.setState(a);a=Object.assign({},this.state,
a);if(this.props.onChange)this.props.onChange(a);this.toggleAutoscalingWarning(a);return a}},{key:"setStateAndDispatchValidation",value:function(a){this.setState(a);a=this._isValidState(Object.assign({},this.state,a));this._onToggleClusterCreateButton(a)}},{key:"_onNameValidation",value:function(a){this.setStateAndDispatchValidation({nameValid:a})}},{key:"_onWorkersInputValidation",value:function(a){this.setStateAndDispatchValidation({workersValid:a})}},{key:"_onToggleClusterCreateButton",value:function(a){this.props.toggleClusterCreateButton&&
this.props.toggleClusterCreateButton(a)}},{key:"componentDidMount",value:function(){var a=this;this.clusterName&&this.clusterName.focus();window.settings.dynamicSparkVersions&&w.ClusterUtil.updateSparkVersions(window.settings,function(g){a.setState({sparkVersions:g})})}},{key:"_getDefaultSpotBid",value:function(){return this.props.configureDefaults&&this.props.configureDefaults.spotBidPricePercent?this.props.configureDefaults.spotBidPricePercent:window.settings&&window.settings.defaultSpotBidPricePercent||
100}},{key:"render",value:function(){var a=this,g=this.state,b=function(g){return a.clusterName=g},c=this.onAttrChange.bind(this,"name"),k=function(g){return a.sparkVersion=g},e=this._onSparkVersionChange.bind(this),p=function(g){return a.customVersion=g},r=this.onAttrChange.bind(this,"customVersion"),w=function(g){return a.clusterType=g},y=g.instanceType===q.ClusterWorkersInput.INSTANCE_ONDEMAND||this.props.restrictedClusterCreation;return d.default.createElement("div",null,d.default.createElement("div",
null,this.props.enableClusterName?d.default.createElement(m.ClusterNameInput,{ref:b,clusters:this.props.clusters,onChange:c,onNameValidation:this._onNameValidation}):d.default.createElement("div",null),this.props.enableSparkVersionsUI?d.default.createElement(u.SparkVersionInput,{ref:k,onChange:e,defaultSparkVersion:this.getSparkVersion(),gpuWorkloadIsSelected:g.gpuWorkloadIsSelected,sparkVersions:g.sparkVersions,showHiddenSparkVersions:this.props.showHiddenSparkVersions,hideMissingSparkPackageWarning:this.props.hideMissingSparkPackageWarning}):
d.default.createElement("div",null),this.props.enableCustomSparkVersions?d.default.createElement(t.CustomSparkVersionInput,{ref:p,defaultVersionKey:this.props.customVersion,onChange:r}):d.default.createElement("div",null),this.props.enableInstanceType?d.default.createElement(q.ClusterWorkersInput,{ref:w,showAutoScaleCheckbox:this.props.showAutoScaleCheckbox,enableAutoScale:this.props.enableAutoScale,enableHybridClusterType:this.props.enableHybridClusterType,restrictedClusterCreation:this.props.restrictedClusterCreation,
defaultClusterType:g.instanceType,defaultNumWorkers:g.workers,defaultSpotWorkers:g.spotWorkers,defaultEnableAutoScale:this.isClusterAutoScaling(this.props),defaultMinAutoScaleWorkers:g.minWorkers,defaultMaxAutoScaleWorkers:g.maxWorkers,defaultFallbackToOnDemand:this.props.fallbackToOndemand,nodeType:this.getNodeType(g.nodeTypeId),driverNodeType:this.getNodeType(g.driverNodeTypeId),toggleClusterCreateButton:this._onWorkersInputValidation,onChange:this.onClusterTypeChange,showAutoScaleWarning:g.showAutoScaleWarning}):
d.default.createElement("div",null)),d.default.createElement("div",null,d.default.createElement(n.AdvancedSettings,h({},this.props,{ref:function(g){return a.advanced=g},onChange:this.onAdvancedChange,enableAZ:this.props.enableAZ,enableNodeType:this.props.enableNodeType,defaultZoneId:this.props.defaultZoneId,defaultNodeType:g.nodeTypeId,defaultDriverNodeTypeId:g.driverNodeTypeId,defaultSparkConf:this.props.sparkConf,defaultSshKey:this.props.sshKey,renderSsh:this.props.renderSsh,renderTags:this.props.renderTags,
zoneInfos:this.props.zoneInfos,nodeTypes:this.props.nodeTypes,hideSpotBidPrice:y,defaultSpotBid:this._getDefaultSpotBid(),restrictedClusterCreation:this.props.restrictedClusterCreation,ebsVolumeType:g.ebsVolumeType,ebsVolumeCount:g.ebsVolumeCount,ebsVolumeSize:g.ebsVolumeSize,numWorkers:g.showAutoScaleInputs?null:g.workers+g.spotWorkers,minWorkers:g.showAutoScaleInputs?this.getAutoScaleMin():null,maxWorkers:g.showAutoScaleInputs?this.getAutoScaleMax():null,showEBSVolumes:this.props.showEBSVolumes,
gpuWorkloadIsSelected:g.gpuWorkloadIsSelected,showInstanceProfiles:this.props.showInstanceProfiles,instanceProfileArn:g.instanceProfileArn,customTags:g.customTags}))))}}]);return g}(d.default.Component);a.propTypes={clusters:d.default.PropTypes.instanceOf(l.default).isRequired,configureDefaults:d.default.PropTypes.object,customVersion:d.default.PropTypes.object,defaultCoresPerContainer:d.default.PropTypes.number,defaultNumWorkers:d.default.PropTypes.number,defaultNodeType:d.default.PropTypes.string,
defaultDriverNodeTypeId:d.default.PropTypes.string,defaultSparkVersion:d.default.PropTypes.object.isRequired,defaultZoneId:d.default.PropTypes.string,enableAutoScale:d.default.PropTypes.bool,showAutoScaleCheckbox:d.default.PropTypes.bool,enableAZ:d.default.PropTypes.bool,enableClusterName:d.default.PropTypes.bool,enableCustomSparkVersions:d.default.PropTypes.bool,enableHybridClusterType:d.default.PropTypes.bool,enableInstanceType:d.default.PropTypes.bool,enableNodeType:d.default.PropTypes.bool,enableSparkVersionsUI:d.default.PropTypes.bool,
fallbackToOndemand:d.default.PropTypes.bool,hideMissingSparkPackageWarning:d.default.PropTypes.bool,nodeTypes:d.default.PropTypes.array.isRequired,restrictedClusterCreation:d.default.PropTypes.bool,onChange:d.default.PropTypes.func,showHiddenSparkVersions:d.default.PropTypes.bool,sparkConf:d.default.PropTypes.object,sshKey:d.default.PropTypes.array,sparkVersions:d.default.PropTypes.array,toggleClusterCreateButton:d.default.PropTypes.func,zoneInfos:d.default.PropTypes.array.isRequired,renderSsh:d.default.PropTypes.bool,
renderTags:d.default.PropTypes.bool,showEBSVolumes:d.default.PropTypes.bool,showInstanceProfiles:d.default.PropTypes.bool};a.defaultProps={configureDefaults:{},enableAutoScale:!0,enableAZ:!0,enableClusterName:!0,enableSparkVersionsUI:!0,enableInstanceType:!0,enableCustomSparkVersions:!1,enableHybridClusterType:!0,enableNodeType:!0,nodeType:"memory-optimized",restrictedClusterCreation:!1,showAutoScaleCheckbox:!1,sparkConf:{},sshKey:[]}},{"../clusters/AdvancedSettings.jsx":18,"../clusters/Cluster":21,
"../clusters/ClusterList":32,"../clusters/ClusterNameInput.jsx":33,"../clusters/ClusterWorkersInput.jsx":34,"../clusters/Common.jsx":35,"../clusters/CustomSparkVersionInput.jsx":37,"../clusters/SparkVersionInput.jsx":49,"../clusters/SparkVersionUtils":50,react:1001,underscore:1021}],26:[function(a,l,f){var c=(f=a("react"))&&f.__esModule?f:{default:f};a=a("../clusters/ClusterList");a=c.default.createClass({displayName:"ClusterDetailsContextBar",propTypes:{clusterId:c.default.PropTypes.string.isRequired,
clusters:c.default.PropTypes.instanceOf((a&&a.__esModule?a:{default:a}).default).isRequired},_forceUpdate:function(){this.isMounted()&&this.forceUpdate()},componentDidMount:function(){this.props.clusters.on("add change remove reset",this._forceUpdate.bind(this,null),this)},render:function(){var a=this.props.clusters.findWhere({clusterId:this.props.clusterId}),h=void 0;a&&(h=a.get("clusterName"));return c.default.createElement("span",null,c.default.createElement("span",{className:"context-clusters-link"},
c.default.createElement("a",{href:"#setting/clusters"},"Clusters")," /")," ",h)}});l.exports=a},{"../clusters/ClusterList":32,react:1001}],27:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.ClusterDetailsLibrariesList=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("react");var b=c(l);l=a("lodash");var k=c(l);l=a("../clusters/Cluster");l=c(l);var d=a("../clusters/ClusterDetailsLibrariesListView.jsx"),n=a("../filetree/PathNameUtils"),
m=a("../ui_building_blocks/tables/ReactTableUtils.jsx");(f.ClusterDetailsLibrariesList=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.getLibraries=a.getLibraries.bind(a);a.setList=a.setList.bind(a);a.getSortFunc=a.getSortFunc.bind(a);
a.state={list:[],prefetchDone:!1};return a}e(c,a);h(c,[{key:"componentDidMount",value:function(){this.setList();this.props.cluster.on("change",k.default.throttle(this.setList,1E3),this)}},{key:"componentWillUnmount",value:function(){this.props.cluster.off(null,null,this)}},{key:"getTableRowData",value:function(a,c){var d=c.id,m=c.libraryName;if(a){var k=c.clusterStatus.status;c=c.clusterStatus.alarms;var h=b.default.createElement("span",null,"Please check the library page of"," ",b.default.createElement("a",
{href:"#library/"+d},m)," ","for more details.");return[{id:d,name:m,disabled:!1},{clusterStatus:k,formattedStatus:this.getClusterStatusString(k),errorMessage:c&&0!==c.length?h:null},n.PathNameUtils.generatePathNamesFromPathIds(a.get("path"))]}return[{id:d,name:m,disabled:!0},{clusterStatus:"deleted",formattedStatus:"Marked for deletion. Requires a cluster restart."}]}},{key:"getClusterStatusString",value:function(a){var b=null;"error"===a?b="Installation failed":"pending"===a?b="Pending":"loaded"===
a?b="Loaded":"unloading"===a&&(b="Detach pending a cluster restart.");return b}},{key:"getLibraries",value:function(a){var b=this,c=[];a=a.get("libraries").map(function(a){var d=window.treeCollection.get(a.id);if(d||b.state.prefetchDone)return b.getTableRowData(d,a);c.push(parseInt(a.id,10));return null});0<c.length&&window.conn.prefetchNodes(c,this.setList);this.setState({prefetchDone:!0});return a.filter(function(a){return null!==a})}},{key:"setList",value:function(){this.setState({list:this.getLibraries(this.props.cluster)})}},
{key:"getSortFunc",value:function(a){var b=this;return function(c){return b.setState({list:b.state.list.sort(m.CompareTos.getSimpleCompareTo(a,c))})}}},{key:"render",value:function(){return b.default.createElement("div",{className:"row-fluid"},b.default.createElement(d.ClusterDetailsLibrariesListView,{rows:this.state.list,nameLinkPrefix:"#library/",nameSortFunc:this.getSortFunc(function(a){return a[0].name}),statusSortFunc:this.getSortFunc(function(a){return a[1]}),pathSortFunc:this.getSortFunc(function(a){return a[2]})}))}}]);
return c}(b.default.Component)).propTypes={cluster:b.default.PropTypes.instanceOf(l.default).isRequired}},{"../clusters/Cluster":21,"../clusters/ClusterDetailsLibrariesListView.jsx":28,"../filetree/PathNameUtils":73,"../ui_building_blocks/tables/ReactTableUtils.jsx":307,lodash:842,react:1001}],28:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);
a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.ClusterDetailsLibrariesListView=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);
return b}}();l=a("jquery");var b=c(l);l=a("react");var k=c(l);l=a("../ui_building_blocks/icons/IconsForType");l=c(l);var d=a("../ui_building_blocks/tables/ReactTable.jsx"),n=a("../ui_building_blocks/tables/ReactTableUtils.jsx"),m=a("../js_polyfill/TimingUtils"),q=k.default.createElement("i",{className:"fa fa-"+l.default.error}),w=k.default.createElement("i",{className:"fa fa-"+l.default.warning});(f.ClusterDetailsLibrariesListView=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");
a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.widthSuccessFunction=a.widthSuccessFunction.bind(a);a.state={sortedCol:-1,width:Math.min(0,(0,b.default)(window).width()-92),widthHasBeenSet:!1};return a}e(c,a);h(c,[{key:"componentWillMount",value:function(){this.setWidth()}},{key:"getHeaderRenderer",value:function(a,b){var c=this;return n.HeaderRenderers.getSortableRenderer(function(d){a(d);
c.setState({sortedCol:b})},this.state.sortedCol===b)}},{key:"isNameSorted",value:function(){return 0===this.state.sortedCol}},{key:"shouldShowWarningIcon",value:function(a){return"unloading"===a||"deleted"===a}},{key:"shouldShowErrorIcon",value:function(a){return"error"===a}},{key:"widthSuccessCondition",value:function(){return 0<(0,b.default)(".react-tabs-panel").length}},{key:"widthSuccessFunction",value:function(){this.setState({width:(0,b.default)(".react-tabs-panel")[0].clientWidth,widthHasBeenSet:!0})}},
{key:"setWidth",value:function(){this.state.widthHasBeenSet||m.TimingUtils.retryUntil({condition:this.widthSuccessCondition,interval:10,maxAttempts:100,success:this.widthSuccessFunction})}},{key:"render",value:function(){var a=this,b=n.CellRenderers.getIconCellRenderer(function(b){b=b[1].clusterStatus;return a.shouldShowWarningIcon(b)?w:a.shouldShowErrorIcon(b)?q:null},function(a){return a[1].formattedStatus},function(b){return a.shouldShowErrorIcon(b[1].clusterStatus)?" error":""});return k.default.createElement(d.Table,
{ref:"table",rows:this.props.rows,width:this.state.width,rowHeight:50},k.default.createElement(d.Column,{label:"Name",width:this.state.width/4,cellRenderer:n.CellRenderers.getLinkCellRenderer(function(b){return a.props.nameLinkPrefix+b[0].id},function(a){return a[0].name},function(a){return a[0].disabled}),headerRenderer:this.getHeaderRenderer(this.props.nameSortFunc,0),headerClassName:"header-cell name-header-cell"}),k.default.createElement(d.Column,{label:"Status",width:this.state.width/4,cellRenderer:n.CellRenderers.getTooltipCellRenderer(b,
function(a){return a[1].errorMessage},{attachToBody:!0,hoverDelayMillis:0}),headerRenderer:this.getHeaderRenderer(this.props.statusSortFunc,1),headerClassName:"header-cell library-status-header-cell"}),k.default.createElement(d.Column,{label:"Location",width:this.state.width/2,cellRenderer:n.CellRenderers.get2dArrayStringRenderer(2),headerRenderer:this.getHeaderRenderer(this.props.pathSortFunc,2),headerClassName:"header-cell location-header-cell"}))}}]);return c}(k.default.Component)).propTypes={rows:k.default.PropTypes.array.isRequired,
nameLinkPrefix:k.default.PropTypes.string.isRequired,nameSortFunc:k.default.PropTypes.func.isRequired,statusSortFunc:k.default.PropTypes.func.isRequired,pathSortFunc:k.default.PropTypes.func.isRequired}},{"../js_polyfill/TimingUtils":106,"../ui_building_blocks/icons/IconsForType":304,"../ui_building_blocks/tables/ReactTable.jsx":306,"../ui_building_blocks/tables/ReactTableUtils.jsx":307,jquery:819,react:1001}],29:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.ClusterDetailsNotebooksList=void 0;var b=function(){function a(a,b){for(var c=
0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("react");var k=c(l);l=a("lodash");var d=c(l);l=a("../clusters/Cluster");l=c(l);var n=a("../clusters/ClusterDetailsNotebooksListView.jsx"),m=a("../filetree/PathNameUtils"),q=a("../notebook/NotebookUtilities"),w=c(q),p=a("../ui_building_blocks/tables/ReactTableUtils.jsx");(f.ClusterDetailsNotebooksList=
function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=e(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a.fetchAndUpdateNotebooks=a.fetchAndUpdateNotebooks.bind(a);a.updateSortState=a.updateSortState.bind(a);a.onHeaderCheckboxClick=a.onHeaderCheckboxClick.bind(a);a.onCheckboxClick=a.onCheckboxClick.bind(a);a.detachNotebooks=a.detachNotebooks.bind(a);a.updateAttachedNotebooks=a.updateAttachedNotebooks.bind(a);a.clearError=a.clearError.bind(a);
a.valueGetters=[null,function(a){return a[1].name},function(a){return a[2]},function(a){return null===a[3].time?-1:a[3].time},function(a){return a[4]}];a.state={headerChecked:!1,attachedNotebooks:{},sortedCol:-1,sortDir:null,detaching:!1};return a}h(c,a);b(c,[{key:"componentDidMount",value:function(){this.fetchAndUpdateNotebooks();this.props.cluster.on("change",d.default.throttle(this.fetchAndUpdateNotebooks,1E3),this)}},{key:"componentWillUnmount",value:function(){var a=this;this.props.cluster.off(null,
null,this);Object.keys(this.state.attachedNotebooks).forEach(function(b){a.state.attachedNotebooks[b].stopListening()})}},{key:"onHeaderCheckboxClick",value:function(){var a=!this.state.headerChecked;d.default.each(this.state.attachedNotebooks,function(b){b.checkboxEnabled&&(b.checkboxChecked=a)});this.setState({headerChecked:a})}},{key:"onCheckboxClick",value:function(a){a=this.state.attachedNotebooks[a[1].id];a.checkboxChecked=!a.checkboxChecked;this.setState({})}},{key:"detachNotebooks",value:function(){var a=
[];d.default.each(this.state.attachedNotebooks,function(b,c){b.checkboxChecked&&a.push(c)});this.setState({detaching:!0});w.default.detachNotebooks(a,null,this.refs.notebooksListView.showDetachErrorDialog)}},{key:"clearError",value:function(){this.setState({detaching:!1})}},{key:"isDetachingNotebooks",value:function(){var a=!1;if(!this.state.detaching)return a;d.default.each(this.state.attachedNotebooks,function(b){b.checkboxChecked&&(a=!0)});return a}},{key:"updateAttachedNotebooks",value:function(a,
b){var c=this,g={};b.forEach(function(a){a.fetchPermissionLevel();a.on("change",c.fetchAndUpdateNotebooks,c);g[a.get("id")]={checkboxEnabled:a.canRun(),checkboxChecked:!1,stopListening:function(){return a.off(null,null,c)}}});Object.keys(this.state.attachedNotebooks).forEach(function(b){b in a||(c.state.attachedNotebooks[b].stopListening(),delete c.state.attachedNotebooks[b])});this.setState({attachedNotebooks:d.default.extend(this.state.attachedNotebooks,g),detaching:this.isDetachingNotebooks()})}},
{key:"fetchAndUpdateNotebooks",value:function(){var a=this,b=this.props.cluster.get("notebooksInfo"),c=[],g=[];Object.keys(b).forEach(function(b){var d=window.treeCollection.get(b);d?b in a.state.attachedNotebooks?(d.fetchPermissionLevel(),a.state.attachedNotebooks[b].checkboxEnabled=d.canRun()):g.push(d):c.push(parseInt(b,10))});this.updateAttachedNotebooks(b,g);0<c.length&&window.conn.prefetchNodes(c,this.fetchAndUpdateNotebooks)}},{key:"updateSortState",value:function(a,b){this.setState({sortedCol:b,
sortDir:a})}},{key:"getTableRowData",value:function(a,b,c){return[{checkboxEnabled:this.state.attachedNotebooks[a.get("id")].checkboxEnabled,checkboxChecked:this.state.attachedNotebooks[a.get("id")].checkboxChecked},{id:a.get("id"),name:a.get("name")},c,b,m.PathNameUtils.generatePathNamesFromPathIds(a.get("path"))]}},{key:"sortList",value:function(a){-1!==this.state.sortedCol&&a.sort(p.CompareTos.getSimpleCompareTo(this.valueGetters[this.state.sortedCol],this.state.sortDir));return a}},{key:"getNotebookRows",
value:function(a){var b=this,c=a.get("notebooksInfo");a=Object.keys(c).map(function(a){var g=window.treeCollection.get(a);if(a in b.state.attachedNotebooks){var d=g.get("runStatus");return b.getTableRowData(g,c[a],"running"===d||"runningFromRunAll"===d?"Running":"Idle")}return null});return this.sortList(a.filter(function(a){return null!==a}))}},{key:"render",value:function(){return k.default.createElement("div",{className:"row-fluid"},k.default.createElement(n.ClusterDetailsNotebooksListView,{ref:"notebooksListView",
rows:this.getNotebookRows(this.props.cluster),nameLinkPrefix:"#notebook/",sortFunc:this.updateSortState,onHeaderCheckboxClick:this.onHeaderCheckboxClick,onCheckboxClick:this.onCheckboxClick,detachNotebooks:this.detachNotebooks,detaching:this.state.detaching,clearError:this.clearError}))}}]);return c}(k.default.Component)).propTypes={cluster:k.default.PropTypes.instanceOf(l.default).isRequired}},{"../clusters/Cluster":21,"../clusters/ClusterDetailsNotebooksListView.jsx":30,"../filetree/PathNameUtils":73,
"../notebook/NotebookUtilities":179,"../ui_building_blocks/tables/ReactTableUtils.jsx":307,lodash:842,react:1001}],30:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}
Object.defineProperty(f,"__esModule",{value:!0});f.ClusterDetailsNotebooksListView=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("jquery");var b=c(l);l=a("react");var k=c(l),d=a("../ui_building_blocks/Tooltip.jsx");l=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx");var n=c(l),m=a("../ui_building_blocks/tables/ReactTable.jsx"),
q=a("../ui_building_blocks/tables/ReactTableUtils.jsx"),w=a("../js_polyfill/TimingUtils");(f.ClusterDetailsNotebooksListView=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.widthSuccessFunction=a.widthSuccessFunction.bind(a);a.onClick=
a.onClick.bind(a);a.showDetachErrorDialog=a.showDetachErrorDialog.bind(a);a.state={sortedCol:-1,width:Math.min(0,(0,b.default)(window).width()-92),widthHasBeenSet:!1};return a}e(c,a);h(c,[{key:"componentWillMount",value:function(){this.setWidth()}},{key:"getStatusCellRenderer",value:function(){return function(a){if(a){var b="Running"===a[2]?k.default.createElement("i",{className:"fa fa-circle status-icon icon-green"}):k.default.createElement("i",{className:"fa fa-circle status-icon icon-gray"});return k.default.createElement("span",
{className:"cluster-state-icon-cell"},b," ",a[2])}}}},{key:"getCommandCellRenderer",value:function(){return function(a){if(a){var b=null===a[3].time?"Never":(new Date(a[3].time)).toString();return k.default.createElement("div",{className:"lastCommand"},b," ",k.default.createElement("br",null),k.default.createElement("span",{className:"user"},"by ",a[3].user))}}}},{key:"getHeaderRenderer",value:function(a,b){var c=this;return q.HeaderRenderers.getSortableRenderer(function(d){a(d,b);c.setState({sortedCol:b})},
this.state.sortedCol===b)}},{key:"isNameSorted",value:function(){return 1===this.state.sortedCol}},{key:"widthSuccessFunction",value:function(){this.setState({width:(0,b.default)(".react-tabs-panel")[0].clientWidth,widthHasBeenSet:!0})}},{key:"setWidth",value:function(){this.state.widthHasBeenSet||w.TimingUtils.retryUntil({condition:function(){return 0<(0,b.default)(".react-tabs-panel").length},interval:10,maxAttempts:100,success:this.widthSuccessFunction})}},{key:"notebooksSelected",value:function(){for(var a=
0;a<this.props.rows.length;){if(this.props.rows[a][0].checkboxChecked)return!0;a++}return!1}},{key:"getButton",value:function(){return this.notebooksSelected()?k.default.createElement("button",{className:"btn btn-default grey btn-detach-notebooks",onClick:this.onClick,disabled:this.props.detaching},k.default.createElement("i",{id:"detach-notebooks",className:"fa "+(this.props.detaching?"fa-spinner fa-spin":"fa-chain-broken")+" fa-button-icon"}," "),"Detach"):k.default.createElement(d.Tooltip,{text:"Select notebook to detach",
customPosition:{contentLeft:"0px",width:"180px"},setMinWidth:!1},k.default.createElement("button",{className:"btn btn-default grey btn-detach-notebooks",disabled:!0,onClick:this.onClick},k.default.createElement("i",{id:"detach-notebooks",className:"fa fa-chain-broken fa-button-icon"}," "),"Detach"))}},{key:"onClick",value:function(){n.default.confirm({message:"Are you sure you want to detach all selected notebooks? This will clear computed variable values from all notebooks.",confirmButton:"Confirm and Detach",
confirm:this.props.detachNotebooks})}},{key:"showDetachErrorDialog",value:function(){n.default.confirm({message:"Oops! There was an error detaching notebooks. Please try again.",confirmButton:"OK",confirm:this.props.clearError})}},{key:"render",value:function(){var a=this,b=(this.state.width-28)/4;return k.default.createElement("div",null,k.default.createElement("div",{className:"table-preamble"},this.getButton()),k.default.createElement(m.Table,{ref:"table",rows:this.props.rows,width:this.state.width,
rowHeight:50},k.default.createElement(m.Column,{label:"Checkbox",width:28,cellRenderer:q.CellRenderers.getCheckboxCellRenderer(this.props.onCheckboxClick,function(a){return a[0].checkboxChecked},function(b){return a.props.detaching||!b[0].checkboxEnabled},"checkbox-for-table-column body-checkbox"),headerRenderer:q.HeaderRenderers.getCheckboxHeaderRenderer(this.props.onHeaderCheckboxClick,"checkbox-for-table-column header-checkbox"),headerClassName:"header-cell checkbox-header-cell"}),k.default.createElement(m.Column,
{label:"Name",width:b,cellRenderer:q.CellRenderers.getLinkCellRenderer(function(b){return a.props.nameLinkPrefix+b[1].id},function(a){return a[1].name}),headerRenderer:this.getHeaderRenderer(this.props.sortFunc,1),headerClassName:"header-cell name-header-cell"}),k.default.createElement(m.Column,{label:"Status",width:b,cellRenderer:this.getStatusCellRenderer(),headerRenderer:this.getHeaderRenderer(this.props.sortFunc,2),headerClassName:"header-cell notebook-status-header-cell"}),k.default.createElement(m.Column,
{label:"Last Command Run",width:b,cellRenderer:this.getCommandCellRenderer(),headerRenderer:this.getHeaderRenderer(this.props.sortFunc,3),headerClassName:"header-cell command-header-cell"}),k.default.createElement(m.Column,{label:"Location",width:b,cellRenderer:q.CellRenderers.get2dArrayStringRenderer(4),headerRenderer:this.getHeaderRenderer(this.props.sortFunc,4),headerClassName:"header-cell location-header-cell"})))}}]);return c}(k.default.Component)).propTypes={rows:k.default.PropTypes.array.isRequired,
nameLinkPrefix:k.default.PropTypes.string.isRequired,sortFunc:k.default.PropTypes.func.isRequired,onHeaderCheckboxClick:k.default.PropTypes.func.isRequired,onCheckboxClick:k.default.PropTypes.func.isRequired,detachNotebooks:k.default.PropTypes.func.isRequired,detaching:k.default.PropTypes.bool.isRequired,clearError:k.default.PropTypes.func.isRequired}},{"../js_polyfill/TimingUtils":106,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../ui_building_blocks/tables/ReactTable.jsx":306,
"../ui_building_blocks/tables/ReactTableUtils.jsx":307,jquery:819,react:1001}],31:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}var e=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var g=[],c=!0,d=!1,m=void 0;try{for(var n=a[Symbol.iterator](),k;!(c=(k=n.next()).done)&&(g.push(k.value),!b||g.length!==b);c=!0);}catch(N){d=!0,m=N}finally{try{if(!c&&n["return"])n["return"]()}finally{if(d)throw m;}}return g}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}();f=a("jquery");var h=c(f);f=a("react");var b=c(f);f=a("react-dom");var k=c(f),d=a("../acl/AclUtils.jsx");f=a("../acl/WorkspacePermissions");var n=c(f);f=a("../clusters/ClusterConfigurationView.jsx");var m=c(f),q=a("../clusters/ClusterDetailsLibrariesList.jsx"),w=a("../clusters/ClusterDetailsNotebooksList.jsx");f=a("../clusters/ClusterList");f=c(f);var p=a("../clusters/Common.jsx"),r=a("../clusters/DriverLogsViewReact.jsx"),t=c(r),r=a("../filetree/NavFunc.jsx"),u=c(r),r=a("../spark_ui/ReactSparkUIView.jsx"),
y=c(r),r=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),A=c(r),r=a("../ui_building_blocks/dropdowns/DropdownMenuView.jsx"),g=c(r),v=a("../ui_building_blocks/TabsView.jsx"),z=a("../user_platform/BrowserUtils"),B=b.default.createElement("i",{className:"fa fa-check"}),G=b.default.createElement("i",{className:"fa fa-caret-down"});a=b.default.createClass({displayName:"ClusterDetailsView",propTypes:{clusterId:b.default.PropTypes.string.isRequired,clusters:b.default.PropTypes.instanceOf(f.default).isRequired,
restrictedClusterCreation:b.default.PropTypes.bool,enableAutoScale:b.default.PropTypes.bool.isRequired,nodeTypes:b.default.PropTypes.array,currentWorkerNode:b.default.PropTypes.string,activeTab:b.default.PropTypes.string,windowHash:b.default.PropTypes.string,isElasticSparkCluster:b.default.PropTypes.bool},getInitialState:function(){return{dropdownMenuVisible:!1,currentWorkerNode:"master",currentWorkerNodeTitle:"Spark Cluster UI - Master",currentWorkerUrl:null,showConfirmButton:!1,changesValid:!0}},
onClustersLoaded:function(){var a=this.maybeGetCluster();a&&(a.on("change",this.forceUpdate.bind(this,null),this),d.AclUtils.clusterAclsEnabled()&&this.fetchClusterPermissions(a))},maybeGetCluster:function(){return this.props.clusters.findWhere({clusterId:this.props.clusterId})},_setState:function(a){this.isMounted()&&this.setState(a)},fetchClusterPermissions:function(a){a.fetchPermissions()},componentDidMount:function(){this.props.clusters.fetchAndUpdateXHR.done(this.onClustersLoaded);z.BrowserUtils.setGlobalMeasurementTags({clusterId:this.props.clusterId})},
componentWillReceiveProps:function(a){a=this.determineWorkerNode(a);a=e(a,3);this._setState({currentWorkerNode:a[0],currentWorkerNodeTitle:a[1],currentWorkerUrl:a[2]})},componentWillUnmount:function(){this.permissionsFetch&&this.permissionsFetch.abort();var a=this.maybeGetCluster();a&&a.off(null,null,this);(0,h.default)("#topbar .tb-title")[0]&&k.default.unmountComponentAtNode((0,h.default)("#topbar .tb-title")[0]);z.BrowserUtils.setGlobalMeasurementTags({})},renderDriverLogs:function(a){return b.default.createElement(t.default,
{clusterId:this.props.clusterId,shouldFetchLogs:d.AclUtils.clusterAclsEnabled()?a.canAttach():!0})},configurationChangesMade:function(a,b,g,c){this.state.cancelChangesHandler||this._setState({cancelChangesHandler:g});this._setState({showConfirmButton:b,changesValid:c});this._setState(a)},confirmChanges:function(a){var b=this,g=this.refs.configurationView,c=void 0,d=void 0,m=void 0,m=g.state.numberOfWorkersHasChanged?"Are you sure you want to resize cluster "+a.get("clusterName")+"?":"You are changing who has access to this cluster. Are you sure you want "+
("to reconfigure "+a.get("clusterName")+"?");return A.default.confirm({message:m,confirm:function(){g.state.numberOfWorkersHasChanged&&function(){var g={clusterId:a.get("clusterId")};b.state.minWorkers||b.state.maxWorkers?(g.minWorkers=b.state.minWorkers,g.maxWorkers=b.state.maxWorkers):g.workers=b.state.numberOfWorkers;window.recordEvent("clusterReconfigured",{clusterReconfigureOrigin:"ClusterDetailsView",clusterReconfigureNumberBefore:a.get("isAutoscaling")?a.numSpotWorkers():a.get("numWorkers"),
clusterReconfigureNumberAfter:b.state.numberOfWorkers});console.log("Updating cluster "+a.get("clusterId")+":\n              workers: "+g.workers+"\n              minWorkers: "+g.minWorkers+"\n              maxWorkers: "+g.maxWorkers+"\n          ");c=p.ClusterUtil.configureCluster(g,function(){console.log("Successfully resized cluster "+a.get("clusterId")+":\n                workers: "+g.workers+"\n                minWorkers: "+g.minWorkers+"\n                maxWorkers: "+g.maxWorkers+"\n            ")})}();
g.state.workspaceAclsHasChanged&&function(){var b=a.get("workspaceAcl");window.recordEvent("aclChange",{aclChangeOrigin:"ClusterDetailsView"});var g=function(){d=b.commit({sync:!0,success:function(){console.log("Successfully configured the permissions for cluster "+a.get("clusterId"))}})};b.hasRemovedManagePermission()?A.default.confirm({messageHTML:"<p>You are removing your <b>"+n.default.MANAGE+"</b> permission on this item and you won't be able to view or change permissions onthis item any more. Are you sure you want to continue?</p>",
confirmButton:"Yes, Remove my manage permission",cancelButton:"No, Cancel",confirm:g}):g()}();h.default.when(c,d).done(function(){this._setState({showConfirmButton:!1});this.isMounted()&&g.setState({numberOfWorkersHasChanged:!1,workspaceAclsHasChanged:!1})}.bind(b)).fail(function(a){console.error(a)})}})},cancelChanges:function(a){this._setState({showConfirmButton:!1});this.state.cancelChangesHandler(a)},determineWorkerNode:function(a){var b=a.clusters.findWhere({clusterId:a.clusterId}),g=b.get("numWorkers"),
c=b.masterUrl().split("/").slice(1).join("/")+u.default.sessionParams(0<=name.indexOf("?")),d=b.workerUrls();d.forEach(function(a,b){d[b]=a.split("/").slice(1).join("/")+u.default.sessionParams(0<=name.indexOf("?"))});var b=this.state.currentWorkerNode,m=this.state.currentWorkerNodeTitle,n=this.state.currentWorkerUrl;a=a.currentWorkerNode||this.props.currentWorkerNode;"sparkclusterui"!==this.props.activeTab&&n||(null===a||void 0===a?n="master"===b?c:d[b]:isNaN(a)||0>a||a>=g?(b="master",m="Spark Cluster UI - Master",
n=c):(b=a,m="Spark Cluster UI - Worker "+b,n=d[b]));return[b,m,n]},restartCluster:function(a){A.default.confirm({message:"Are you sure you want to restart "+a.get("clusterName")+"?",confirm:function(){window.recordEvent("clusterRestarted",{clusterRestartOrigin:"ClusterDetailsView"});a.restart()}})},terminateCluster:function(a){var b=this;A.default.confirm({messageHTML:"Are you sure you want to terminate the <strong>"+a.get("clusterName")+'</strong> cluster?<br/><div class="dialog-tip">'+p.ClusterUtil.reuseExistingInstancesTip()+
"</div>",confirm:function(){window.recordEvent("clusterTerminated",{clusterTerminateOrigin:"ClusterDetailsView"});console.log("Removing cluster ID: "+b.props.clusterId);a.set("state","Terminating");a.save({remove:!0},{patch:!0});"notebooks"!==b.props.activeTab&&"libraries"!==b.props.activeTab&&"sparkclusterui"!==b.props.activeTab||window.router.navigate(b.props.windowHash.split("/").slice(0,-1).join("/")+"/configuration",{trigger:!0})}})},toggleMenu:function(){this._setState({dropdownMenuVisible:!this.state.dropdownMenuVisible})},
changeWorkerMenu:function(a,b){this._setState({currentWorkerNode:a,currentWorkerNodeTitle:"master"===a?"Spark Cluster UI - Master":"Spark Cluster UI - Worker "+a,currentWorkerUrl:"master"===a?b:b[a]})},getWorkers:function(a,g,c){g=this.changeWorkerMenu.bind(this,"master",g);g=[b.default.createElement("a",{className:"master"===this.state.currentWorkerNode?"selected":null,id:"spark-worker-master",onClick:g},"master"===this.state.currentWorkerNode?B:null,"Spark Cluster UI - Master")];var d;for(d=0;d<
a.get("numWorkers");d++){var m=this.changeWorkerMenu.bind(this,d,c);g.push(b.default.createElement("a",{className:this.state.currentWorkerNode===d?"selected":null,id:"spark-worker-"+d,onClick:m},this.state.currentWorkerNode===d?B:null,"Spark Cluster UI - Worker ",d))}return g},isWorkersConfigurable:function(a){if(a){var b=this._canManageCluster(a),g=a.get("state"),c=a.isConfigurable(),d="Restarting"===g||"Resizing"===g||"Reconfiguring"===g,g="Terminating"===g||"TerminateWhenReady"===g||"Terminated"===
g,m=this.props.isElasticSparkCluster;if(null===m||void 0===m)m=a.isElasticSparkCluster();return!d&&!g&&!m&&b&&c}},metricFunction:function(a){window.recordEvent("clusterDetailsVisited",{clusterDetailsTabVisited:a,clusterDetailsTabVisitedOrigin:"ClusterDetailsView"})},_canRestartCluster:function(a){return d.AclUtils.clusterAclsEnabled()?a.canRestart():!0},_canManageCluster:function(a){return d.AclUtils.clusterAclsEnabled()?a.canManage():!0},_canAttachToCluster:function(a){return d.AclUtils.clusterAclsEnabled()?
a.canAttach():!0},_shouldDisableSparkUIAndDriverLogs:function(a){return!a||!this._canAttachToCluster(a)},_shouldDisableSparkClusterUI:function(a,b){return a||this._shouldDisableSparkUIAndDriverLogs(b)},renderHeader:function(a){if(a){var g=this._canRestartCluster(a),c=a.get("clusterName"),d="Restarting"===a.get("state"),m="Terminating"===a.get("state")||"TerminateWhenReady"===a.get("state"),n=a.isTerminated(),n=m||n,k=this.props.isElasticSparkCluster;if(null===k||void 0===k)k=a.isElasticSparkCluster();
var h=b.default.createElement("a",{href:a.elasticSparkRunUrl()},c,b.default.createElement("i",{id:"go-to-job",className:"fa fa-external-link"})),v=this.confirmChanges.bind(this,a),v=b.default.createElement("button",{id:"confirm-button",className:"btn btn-primary",disabled:!this.state.changesValid,onClick:this.state.changesValid?v:null},"Confirm"),e=this.cancelChanges.bind(this,a),e=b.default.createElement("button",{className:"btn btn-default btn-cancel",onClick:e},"Cancel"),q=this.restartCluster.bind(this,
a),q=b.default.createElement("button",{className:"btn btn-default",disabled:d||!g,onClick:d||!g?null:q},b.default.createElement("i",{id:"restart-cluster",className:"fa fa-refresh fa-button-icon"+(d?" fa-spin":"")}," "),"Restart"),p=this.terminateCluster.bind(this,a);a=b.default.createElement("button",{className:"btn btn-default",disabled:d||!this._canManageCluster(a),onClick:d||!g?null:p},b.default.createElement("i",{id:"terminate-cluster",className:"fa fa-button-icon"+(m?" fa-spinner fa-spin":" fa-close")}),
"Terminate");return b.default.createElement("h2",null,k?h:c,b.default.createElement("span",{id:"cluster-options"},n?null:"|",this.state.showConfirmButton?v:null,this.state.showConfirmButton?e:null,n||k?null:q,n?null:a))}},_getClusterPermissionsWarning:function(a,b){return a&&b&&!a.canAttach()&&n.default.NO_VIEW_PERMISSIONS_WARNING},render:function(){var a=this,c=this.maybeGetCluster(),n=void 0,k=void 0,h=null,r="",z=void 0,t="",f=void 0,B=void 0,A=void 0,l=void 0,O=void 0,Q=void 0,U=void 0,R=void 0,
ba=void 0,T=void 0;c&&function(){U=c.get("notebooks").length;l=c.get("libraries").length;R=c.driverUrl().split("/").slice(1).join("/")+u.default.sessionParams(0<=name.indexOf("?"));var d=c.masterUrl().split("/").slice(1).join("/")+u.default.sessionParams(0<=name.indexOf("?")),v=c.workerUrls(),q=c.get("numWorkers"),w="Terminating"===c.get("state")||"TerminateWhenReady"===c.get("state"),y="Terminated"===c.get("state");B=w||y;A=a.props.isElasticSparkCluster;if(null===A||void 0===A)A=c.isElasticSparkCluster();
k=a.props.activeTab;ba=a.props.windowHash;O=p.ClusterUtil.getNodeType(c.get("nodeTypeId").id,a.props.nodeTypes);Q=p.ClusterUtil.getNodeType(c.get("driverNodeTypeId").id,a.props.nodeTypes);T=c.get("workspaceAcl");v.forEach(function(a,b){v[b]=a.split("/").slice(1).join("/")+u.default.sessionParams(0<=name.indexOf("?"))});ba=ba.slice(0,ba.indexOf(a.props.clusterId)+a.props.clusterId.length);if(B){if("notebooks"===k||"libraries"===k||"sparkclusterui"===k)k="configuration"}else!A||"notebooks"!==k&&"libraries"!==
k||(k="configuration");w=a.determineWorkerNode(a.props);w=e(w,3);r=w[1];z=w[2];n=c.get("sparkVersion");d=a.getWorkers.bind(a,c,d,v);f=b.default.createElement(g.default,{classes:["spark-workers-dropdown"],outsideClickHandler:a.toggleMenu,getItems:d});h=b.default.createElement(m.default,{ref:"configurationView",workersConfigurable:a.isWorkersConfigurable(c),enableAutoScale:a.props.enableAutoScale,permissionsConfigurable:!B,restrictedClusterCreation:a.props.restrictedClusterCreation,workspaceAcl:T,cluster:c,
changesMade:a.configurationChangesMade,nodeTypes:a.props.nodeTypes,nodeType:O,nodeMemory:p.ClusterUtil.workersToMemoryGB(1,O,!0),nodeCores:p.ClusterUtil.workersToCores(1,O,!0),driverNodeType:Q,driverMemory:p.ClusterUtil.workersToMemoryGB(1,Q,!0),driverCores:p.ClusterUtil.workersToCores(1,Q,!0)});q?(q=b.default.createElement("button",{disabled:B,className:"btn btn-link",id:"spark-workers-button",onClick:a.toggleMenu,key:"btn"},G),t=[r,q]):t=r}();var ca=d.AclUtils.clusterAclsEnabled(),ha=this.metricFunction.bind(this,
"Configuration"),X=this.metricFunction.bind(this,"Notebooks"),aa=this.metricFunction.bind(this,"Libraries"),ga=this.metricFunction.bind(this,"Spark UI"),ka=this.metricFunction.bind(this,"Driver Logs"),ra=this.metricFunction.bind(this,"Spark Cluster UI"),ca=this._getClusterPermissionsWarning(c,ca);return b.default.createElement("div",{id:"cluster-details"},this.renderHeader(c),b.default.createElement(v.Tabs,{activeTab:k},b.default.createElement(v.Panel,{title:"Configuration",key:"configuration",name:"configuration",
href:ba+"/configuration",onClick:ha},h),b.default.createElement(v.Panel,{disabled:B||A,key:"notebooks",title:"Notebooks ("+U+")",name:"notebooks",href:ba+"/notebooks",onClick:X},c?b.default.createElement(w.ClusterDetailsNotebooksList,{cluster:c}):null),b.default.createElement(v.Panel,{disabled:B||A,key:"libraries",title:"Libraries ("+l+")",name:"libraries",href:ba+"/libraries",onClick:aa},c?b.default.createElement(q.ClusterDetailsLibrariesList,{cluster:c}):null),b.default.createElement(v.Panel,{title:"Spark UI",
disabled:this._shouldDisableSparkUIAndDriverLogs(c),tooltipText:ca,key:"spark-ui",name:"sparkui",href:ba+"/sparkUi",onClick:ga},b.default.createElement("div",{id:"spark-ui-context",className:"hidden"},b.default.createElement("span",{id:"spark-ui-hostname",className:"context-bar-item"}),b.default.createElement("span",{className:"context-bar-item"}," Spark Version:"+n)),b.default.createElement("div",{className:"row-fluid sparkui-wrapper"},b.default.createElement(y.default,{sparkUiUrl:R}))),b.default.createElement(v.Panel,
{title:"Driver Logs",disabled:this._shouldDisableSparkUIAndDriverLogs(c),tooltipText:ca,key:"driver-logs",name:"driverlogs",href:ba+"/driverLogs",onClick:ka},c?this.renderDriverLogs(c):null),b.default.createElement(v.Panel,{title:t,disabled:this._shouldDisableSparkClusterUI(B,c),tooltipText:ca,key:"spark-cluster-ui",name:"sparkclusterui",href:ba+"/sparkClusterUi",onClick:ra},this.state.dropdownMenuVisible?f:null,b.default.createElement("div",{id:"spark-ui-context",className:"hidden"},b.default.createElement("span",
{id:"spark-ui-hostname",className:"context-bar-item"}),b.default.createElement("span",{className:"context-bar-item"}," Spark Version:"+n)),b.default.createElement("div",{className:"row-fluid sparkui-wrapper"},b.default.createElement(y.default,{sparkUiUrl:z})))))}});l.exports=a},{"../acl/AclUtils.jsx":3,"../acl/WorkspacePermissions":10,"../clusters/ClusterConfigurationView.jsx":22,"../clusters/ClusterDetailsLibrariesList.jsx":27,"../clusters/ClusterDetailsNotebooksList.jsx":29,"../clusters/ClusterList":32,
"../clusters/Common.jsx":35,"../clusters/DriverLogsViewReact.jsx":38,"../filetree/NavFunc.jsx":72,"../spark_ui/ReactSparkUIView.jsx":252,"../ui_building_blocks/TabsView.jsx":293,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/dropdowns/DropdownMenuView.jsx":301,"../user_platform/BrowserUtils":344,jquery:819,react:1001,"react-dom":865}],32:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("../delta_receiver/CollectionDeltaReceiver");
var h=c(f);a=a("../clusters/Cluster");var b=c(a);a=h.default.extend({url:function(){return h.default.prototype.url.call(this)},finishedInitialFetch:!1,model:function(a,c){return new b.default(a,c)},attachableClusters:function(){return this.filter(function(a){return a.isAttachable()})},attachableOrInProgressClusters:function(){return this.filter(function(a){return a.isAttachable()||a.isInProgress()})},isAttachableOrInProgress:function(a){return!!e.default.find(this.attachableOrInProgressClusters(),
function(b){return b.get("clusterId")===a})},getAttachableCluster:function(a){return e.default.find(this.attachableClusters(),function(b){return b.get("clusterId")===a})},getDefaultCluster:function(){return this.find(function(a){return a.get("defaultCluster")})},isDefaultClusterUsable:function(){var a=this.getDefaultCluster();return a&&"Running"===a.get("state")&&a.isDriverHealthy()},resolveNameConflicts:function(a){function b(){return 0<k.filter(function(a){return!a.isTerminated()&&a.get("clusterName")===
m}).length}var c=a.split(" ");0===c[c.length-1].search(/\([0-9]+\)/)&&(a=c.slice(0,c.length-1).join(" "));for(var c=2,m=a,k=this;100>c&&b(m);)m=a+" ("+c+")",c+=1;return m},activeClustersForUser:function(a){a=a.toString();return this.activeClusters().filter(function(b){return b.get("userId").toString()===a})},activeClusters:function(){return this.filter(function(a){return!a.isTerminated()&&!a.isTerminating()})},terminatingClusters:function(){return this.filter(function(a){return a.isTerminating()})},
terminatedClusters:function(){return this.filter(function(a){return a.isTerminated()})},autoUpdate:function(){var a=this;this.startWatching();this.once("reset",function(){a.finishedInitialFetch=!0;a.trigger("reset")})}});l.exports=a},{"../clusters/Cluster":21,"../delta_receiver/CollectionDeltaReceiver":62,underscore:1021}],33:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&
b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.ClusterNameInput=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&l.__esModule?
l:{default:l},b=a("../clusters/Common.jsx");l=(l=a("../clusters/ClusterList"))&&l.__esModule?l:{default:l};var k=a("../forms/ReactFormElements.jsx");a=f.ClusterNameInput=function(a){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=(d.__proto__||Object.getPrototypeOf(d)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.validateName=a.validateName.bind(a);
a.onChangeName=a.onChangeName.bind(a);a.state={name:a.props.clusterName,nameValid:!1};return a}c(d,a);e(d,[{key:"validateName",value:function(a){var b=!this.props.clusters.find(function(b){return!b.isTerminated()&&b.get("clusterName")===a})&&""!==a;this.setState({nameValid:b});if(this.props.onNameValidation)this.props.onNameValidation(b);return b}},{key:"get",value:function(){return this.state.name}},{key:"focus",value:function(){this.refs[d.CLUSTER_NAME_REF].focus()}},{key:"onChangeName",value:function(a){this.setState({name:a})}},
{key:"nameTooltipConditions",value:function(){return[{condition:function(a){return this.props.clusters.find(function(b){return!b.isTerminated()&&b.get("clusterName")===a})}.bind(this),tooltip:"A cluster with this name already exists."},{condition:function(a){return""===a},tooltip:"Please enter a cluster name."}]}},{key:"render",value:function(){return h.default.createElement("div",{className:"cluster-name section-padded"},h.default.createElement(b.Label,null,"Cluster Name"),h.default.createElement(k.Input,
{type:"text",ref:d.CLUSTER_NAME_REF,inputID:d.CLUSTER_NAME_REF,inputClassName:"cluster-name-input",validate:this.validateName,onChange:this.onChangeName,required:!0,defaultValue:this.state.name,tooltipConditions:this.nameTooltipConditions()}))}}]);return d}(h.default.Component);a.CLUSTER_NAME_REF="clusterName";a.propTypes={clusters:h.default.PropTypes.instanceOf(l.default).isRequired,clusterName:h.default.PropTypes.string,onNameValidation:h.default.PropTypes.func}},{"../clusters/ClusterList":32,"../clusters/Common.jsx":35,
"../forms/ReactFormElements.jsx":81,react:1001}],34:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,
writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.ClusterWorkersInput=void 0;var b=function(){function a(a,b){for(var g=0;g<b.length;g++){var c=b[g];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("react");var k=c(l);l=a("underscore");var d=c(l),n=a("../clusters/Common.jsx"),
m=a("../clusters/FallbackToOnDemand.jsx"),q=a("../clusters/MixedWorkerInput.jsx"),w=a("../clusters/OnDemandWorkerInput.jsx"),p=a("../clusters/SpotWorkerInput.jsx"),r=a("../forms/ReactFormElements.jsx"),t=a("../ui_building_blocks/Tooltip.jsx"),u=a("../urls/DbGuideUrls");a=a("../urls/DbGuideLinks.js");var y=c(a);f=f.ClusterWorkersInput=function(a){function g(a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var b=e(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,
a));b.spotInputRef=function(a){return b.spotInput=a};b.onDemandInputRef=function(a){return b.onDemandInput=a};b.onAutoScaleMaxWorkerChange=b.onAutoScaleMaxWorkerChange.bind(b);b.onAutoScaleMinWorkerChange=b.onAutoScaleMinWorkerChange.bind(b);b.onChangeInstanceType=b.onChangeInstanceType.bind(b);b.onChangeFallback=b.onChangeFallback.bind(b);b.onWorkerChange=b.onWorkerChange.bind(b);b.toggleAutoScale=b.toggleAutoScale.bind(b);b.clusterTypeSelectRef=b.clusterTypeSelectRef.bind(b);b.resetState=b.resetState.bind(b);
b.state=b.getDefaultState();b.current=b.getDefaultState();return b}h(g,a);b(g,[{key:"getDefaultNumWorkers",value:function(a,b){return a===g.INSTANCE_SPOT?0:d.default.isNumber(b.defaultNumWorkers)?b.defaultNumWorkers:g.DEFAULT_WORKERS}},{key:"getDefaultNumSpotWorkers",value:function(a,b){return a===g.INSTANCE_ONDEMAND?0:d.default.isNumber(b.defaultSpotWorkers)?b.defaultSpotWorkers:g.DEFAULT_WORKERS}},{key:"getDefaultState",value:function(){var a;a=this.props.defaultClusterType?this.props.defaultClusterType:
g.INSTANCE_SPOT;return{instanceType:a,workers:this.getDefaultNumWorkers(a,this.props),spotWorkers:this.getDefaultNumSpotWorkers(a,this.props),showAutoScaleInputs:this.props.defaultEnableAutoScale,fallbackToOnDemand:this.props.defaultFallbackToOnDemand,mixedAutoScaleMinWorkers:this.props.defaultMinAutoScaleWorkers,autoScaleMaxWorkers:this.getDefaultAutoScaleWorkersForInstance(a,this.props),autoScaleMaxSpotWorkers:this.getDefaultAutoScaleMaxSpotWorkers(a,this.props)}}},{key:"resetState",value:function(){var a=
this;this.current=this.getDefaultState();this.setState(this.getDefaultState(),function(){a.state.instanceType===g.INSTANCE_SPOT?a.spotInput.resetState():a.state.instanceType===g.INSTANCE_MIXED?a.mixedInput.resetState():a.state.instanceType===g.INSTANCE_ONDEMAND&&a.onDemandInput.resetState()})}},{key:"getDefaultAutoScaleMaxSpotWorkers",value:function(a,b){return a===g.INSTANCE_SPOT?b.defaultMaxAutoScaleWorkers?b.defaultMaxAutoScaleWorkers:b.defaultSpotWorkers+1:0}},{key:"getDefaultAutoScaleWorkersForInstance",
value:function(a,b){return a===g.INSTANCE_SPOT?b.defaultMaxAutoScaleWorkers?b.defaultMaxAutoScaleWorkers:Math.max(b.defaultSpotWorkers+1,g.DEFAULT_MIXED_AUTOSCALE_MAX_WORKERS):b.defaultMaxAutoScaleWorkers?b.defaultMaxAutoScaleWorkers:g.DEFAULT_MIXED_AUTOSCALE_MAX_WORKERS}},{key:"clusterTypeSelectRef",value:function(a){this.clusterTypeSelect=a}},{key:"onChangeInstanceType",value:function(a){var b=void 0,c=void 0,d=void 0,m=0,n=0;a===g.INSTANCE_MIXED?(d=g.DEFAULT_AUTOSCALE_MIN_WORKERS,m=g.DEFAULT_MIXED_AUTOSCALE_MAX_WORKERS,
b=g.DEFAULT_MIXED_ONDEMAND_WORKERS,c=g.DEFAULT_MIXED_SPOT_WORKERS):a===g.INSTANCE_SPOT?(b=0,c=g.DEFAULT_WORKERS,n=c+1,m=0):a===g.INSTANCE_ONDEMAND&&(c=0,b=g.DEFAULT_WORKERS,m=b+1,n=0);this.setStateAndDispatchChanges({instanceType:a,workers:b,spotWorkers:c,mixedAutoScaleMinWorkers:d,autoScaleMaxWorkers:m,autoScaleMaxSpotWorkers:n})}},{key:"onChangeFallback",value:function(a){this.setStateAndDispatchChanges({fallbackToOnDemand:a})}},{key:"isValidInstanceState",value:function(a){return a.showAutoScaleInputs?
this.areAutoScalingWorkersValid(a):this.areWorkersValid(a.workers,a.spotWorkers)}},{key:"areWorkersValid",value:function(a){var b=1>=arguments.length||void 0===arguments[1]?0:arguments[1];return!(0>a||0>b)&&!(1E5<a||1E5<b)}},{key:"areAutoScalingWorkersValid",value:function(a){var b;a.instanceType===g.INSTANCE_SPOT?(b=a.spotWorkers,a=a.autoScaleMaxSpotWorkers):(b=a.instanceType===g.INSTANCE_ONDEMAND?a.workers:a.mixedAutoScaleMinWorkers,a=a.autoScaleMaxWorkers);return!(0>b||0>b)&&!(1E5<a||1E5<a)&&!(b>=
a)}},{key:"onWorkerChange",value:function(a,b){this.setStateAndDispatchChanges({workers:a||0,spotWorkers:b||0})}},{key:"onAutoScaleMaxWorkerChange",value:function(a,b){this.setStateAndDispatchChanges({autoScaleMaxWorkers:a,autoScaleMaxSpotWorkers:b})}},{key:"onAutoScaleMinWorkerChange",value:function(a){this.setStateAndDispatchChanges({mixedAutoScaleMinWorkers:a})}},{key:"setStateAndDispatchChanges",value:function(a){this.setState(a);this.current=Object.assign({},this.current,a);this.props.onChange(this.current);
this.toggleClusterCreateButton(this.isValidInstanceState(this.current))}},{key:"toggleClusterCreateButton",value:function(a){this.props.toggleClusterCreateButton&&this.props.toggleClusterCreateButton(a)}},{key:"getFallbackToOndemand",value:function(){return this.state.fallbackToOnDemand}},{key:"getTypeOptions",value:function(){return[{value:g.INSTANCE_ONDEMAND,label:n.ClusterUtil.onDemandDisplayStr(),disabled:!1},{value:g.INSTANCE_MIXED,label:n.ClusterUtil.hybridDisplayStr(),disabled:!this.props.enableHybridClusterType},
{value:g.INSTANCE_SPOT,label:n.ClusterUtil.spotDisplayStr(),disabled:!1}]}},{key:"getDefaultMaxSpotWorkers",value:function(){var a=0;this.spotInput&&(a=this.spotInput.state.autoScaleMaxSpotWorkers,a<=this.state.spotWorkers&&(a=this.state.spotWorkers+20));return a}},{key:"getDefaultMaxOnDemandWorkers",value:function(){var a;this.spotInput?a=0:(a=this.onDemandInput?this.onDemandInput.state.autoScaleMaxWorkers:this.mixedInput.state.autoScaleMaxWorkers,a<=this.state.workers&&(a=this.state.workers+20));
return a}},{key:"getDefaultMinMixedWorkers",value:function(){return this.mixedInput?g.DEFAULT_AUTOSCALE_MIN_WORKERS:0}},{key:"toggleAutoScale",value:function(a){var b,g,c;a?(b=this.getDefaultMaxOnDemandWorkers(),g=this.getDefaultMaxSpotWorkers(),c=this.getDefaultMinMixedWorkers()):c=g=b=0;this.setStateAndDispatchChanges({showAutoScaleInputs:a,autoScaleMaxWorkers:b,autoScaleMaxSpotWorkers:g,workers:this.state.workers,spotWorkers:this.state.spotWorkers,mixedAutoScaleMinWorkers:c})}},{key:"renderInstance",
value:function(a){var b=this;if(a===g.INSTANCE_SPOT)return k.default.createElement(p.SpotWorkerInput,{ref:this.spotInputRef,disabled:this.props.disabled,workers:0,instanceType:a,enableAutoScale:this.props.enableAutoScale,showAutoScaleCheckbox:this.props.showAutoScaleCheckbox,showAutoScaleInputs:this.state.showAutoScaleInputs,toggleAutoScale:this.toggleAutoScale,spotWorkers:this.state.spotWorkers,nodeType:this.props.nodeType,driverNodeType:this.props.driverNodeType,autoScaleMaxWorkers:0,autoScaleMaxSpotWorkers:this.state.autoScaleMaxSpotWorkers,
onAutoScaleMaxChange:this.onAutoScaleMaxWorkerChange,showAutoScaleWarning:this.props.showAutoScaleWarning,onChange:this.onWorkerChange});if(a===g.INSTANCE_MIXED)return k.default.createElement(q.MixedWorkerInput,{ref:function(a){return b.mixedInput=a},disabled:this.props.disabled,workers:this.state.workers,instanceType:a,fixedOnDemand:this.props.fixedOnDemand,enableAutoScale:this.props.enableAutoScale,showAutoScaleCheckbox:this.props.showAutoScaleCheckbox,showAutoScaleInputs:this.state.showAutoScaleInputs,
toggleAutoScale:this.toggleAutoScale,spotWorkers:this.state.spotWorkers,nodeType:this.props.nodeType,driverNodeType:this.props.driverNodeType,mixedAutoScaleMinWorkers:this.state.mixedAutoScaleMinWorkers,autoScaleMaxWorkers:this.state.autoScaleMaxWorkers,autoScaleMaxSpotWorkers:this.state.autoScaleMaxSpotWorkers,onAutoScaleMinChange:this.onAutoScaleMinWorkerChange,onAutoScaleMaxChange:this.onAutoScaleMaxWorkerChange,showAutoScaleWarning:this.props.showAutoScaleWarning,onChange:this.onWorkerChange});
if(a===g.INSTANCE_ONDEMAND)return k.default.createElement(w.OnDemandWorkerInput,{ref:this.onDemandInputRef,disabled:this.props.disabled,workers:this.state.workers,instanceType:a,enableAutoScale:this.props.enableAutoScale,showAutoScaleCheckbox:this.props.showAutoScaleCheckbox,showAutoScaleInputs:this.state.showAutoScaleInputs,toggleAutoScale:this.toggleAutoScale,spotWorkers:0,nodeType:this.props.nodeType,driverNodeType:this.props.driverNodeType,autoScaleMaxWorkers:this.state.autoScaleMaxWorkers,autoScaleMaxSpotWorkers:0,
onAutoScaleMaxChange:this.onAutoScaleMaxWorkerChange,showAutoScaleWarning:this.props.showAutoScaleWarning,onChange:this.onWorkerChange})}},{key:"getRestrictedBody",value:function(){var a=n.ClusterUtil.containersToMemoryGB(0,this.props.nodeType,this.props.driverNodeType,!0),b=u.DbGuideUrls.getDbGuideUrl(y.default.CLUSTERS_URL),b=k.default.createElement("span",null,"For ",k.default.createElement("a",{target:"_blank",href:b},"more configuration options")),b=t.Tooltip.getGenericUpgradeElement(b);return k.default.createElement("div",
{className:"instance-form"},k.default.createElement("div",{className:"disabled"},"Free ",a,"GB Memory"),k.default.createElement("div",null,"As a ",window.settings.devTierName," user, your cluster will automatically terminate after an idle period of one hour."),k.default.createElement("div",null,b))}},{key:"getUnrestrictedBody",value:function(){var a=t.Tooltip.getGenericUpgradeElement("For combination spot and on-demand clusters"),a=k.default.createElement("span",{className:"hybrid-tier-upgrade-tooltip"},
k.default.createElement(t.Tooltip,{text:a,customPosition:{contentLeft:"0px"}},k.default.createElement("i",{className:"fa fa-question-circle help-icon fall-back-icon"}))),b=k.default.createElement("span",null,k.default.createElement(m.FallbackOnDemandCheckbox,{ref:"fallback-cb",disabled:this.props.fixedFallbackToOnDemand||this.props.disabled,defaultOnDemandFallBack:this.props.defaultFallbackToOnDemand,onChange:this.onChangeFallback})," ",k.default.createElement(m.FallbackOnDemandTooltip,null));return k.default.createElement("div",
{className:"instance-form"},k.default.createElement("div",{className:"instance-type-label"},k.default.createElement(n.Label,null,"Type"),this.props.enableHybridClusterType?null:a),this.props.fixedInstanceType||this.props.disabled?this.renderFixedInstance():this.renderInstanceSelector(),this.state.instanceType!==g.INSTANCE_ONDEMAND?b:null,this.renderInstance(this.state.instanceType))}},{key:"renderInstanceSelector",value:function(){return k.default.createElement(r.Select,{ref:this.clusterTypeSelectRef,
options:this.getTypeOptions(),selectID:"instanceType",defaultValue:this.state.instanceType,selectClassName:"create-cluster-instance",optionClassName:"create-cluster-instance-opt",onChange:this.onChangeInstanceType})}},{key:"renderFixedInstance",value:function(){var a=void 0;this.props.defaultClusterType===g.INSTANCE_MIXED?a="On-Demand and Spot":this.props.defaultClusterType===g.INSTANCE_SPOT?a="Spot":this.props.defaultClusterType===g.INSTANCE_ONDEMAND&&(a="On-Demand");return k.default.createElement("span",
{className:"fixed-cluster-instance-type"},a)}},{key:"render",value:function(){var a;a=this.props.restrictedClusterCreation?this.getRestrictedBody():this.getUnrestrictedBody();return k.default.createElement("div",{className:"instance-type"},k.default.createElement(n.Label,null,"Instance"),a)}}]);return g}(k.default.Component);f.INSTANCE_SPOT="spot";f.INSTANCE_MIXED="mixed";f.INSTANCE_ONDEMAND="ondemand";f.DEFAULT_WORKERS=8;f.DEFAULT_MIXED_AUTOSCALE_MAX_WORKERS=20;f.DEFAULT_AUTOSCALE_MIN_WORKERS=8;
f.DEFAULT_MIXED_SPOT_WORKERS=8;f.DEFAULT_MIXED_ONDEMAND_WORKERS=0;f.propTypes={defaultSpotWorkers:k.default.PropTypes.number.isRequired,defaultNumWorkers:k.default.PropTypes.number.isRequired,defaultClusterType:k.default.PropTypes.string,defaultFallbackToOnDemand:k.default.PropTypes.bool,defaultEnableAutoScale:k.default.PropTypes.bool,defaultMaxAutoScaleWorkers:k.default.PropTypes.number,enableAutoScale:k.default.PropTypes.bool,enableHybridClusterType:k.default.PropTypes.bool,fixedOnDemand:k.default.PropTypes.bool,
disabled:k.default.PropTypes.bool,fixedInstanceType:k.default.PropTypes.bool,fixedFallbackToOnDemand:k.default.PropTypes.bool,nodeType:k.default.PropTypes.object,driverNodeType:k.default.PropTypes.object,onChange:k.default.PropTypes.func,showAutoScaleCheckbox:k.default.PropTypes.bool,showAutoScaleWarning:k.default.PropTypes.bool,toggleClusterCreateButton:k.default.PropTypes.func,restrictedClusterCreation:k.default.PropTypes.bool,defaultMinAutoScaleWorkers:k.default.PropTypes.number};f.defaultProps=
{enableAutoScale:!0,enableHybridClusterType:!0,fixedOnDemand:!1,fixedSpot:!1,disabled:!1,fixedInstanceType:!1,fixedFallbackToOnDemand:!1,restrictedClusterCreation:!1,defaultFallbackToOnDemand:!0,defaultEnableAutoScale:!1,showAutoScaleCheckbox:!1,mixedAutoScaleMinWorkers:f.DEFAULT_AUTOSCALE_MIN_WORKERS,showAutoScaleWarning:!1}},{"../clusters/Common.jsx":35,"../clusters/FallbackToOnDemand.jsx":41,"../clusters/MixedWorkerInput.jsx":43,"../clusters/OnDemandWorkerInput.jsx":44,"../clusters/SpotWorkerInput.jsx":51,
"../forms/ReactFormElements.jsx":81,"../ui_building_blocks/Tooltip.jsx":294,"../urls/DbGuideLinks.js":320,"../urls/DbGuideUrls":321,react:1001,underscore:1021}],35:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function b(a,
b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function k(){var a=J.DbGuideUrls.getDbGuideUrl(L.default.SQL_ENDPOINTS_URL),a=B.default.createElement("div",null,"Spark-compatible JDBC/ODBC clients can access the SQL functionality of this cluster using these URLs.",
" ",B.default.createElement("a",{href:a,target:"_blank"},"Learn more"));return B.default.createElement(E.Tooltip,{text:a,customPosition:{contentLeft:"0px"}},B.default.createElement("i",{className:"fa fa-question-circle help-icon"}))}function d(){var a=J.DbGuideUrls.getDbGuideUrl(L.default.SQL_ENDPOINTS_URL),a=B.default.createElement("a",{href:a,target:"_blank"},"click here");return B.default.createElement("div",{className:"ssh-instructions"},"For more information on connecting your favorite BI tool to Databricks,",
" ",a,".")}function n(a){a=a.customPosition;var b=B.default.createElement("div",null,'A Databricks Unit ("DBU") is a unit of Apache Spark processing capability per hour. ',B.default.createElement("a",{href:"https://www.databricks.com/product/pricing#dbu",target:"_blank"},"Learn more"));return B.default.createElement(E.Tooltip,{text:b,customPosition:a},B.default.createElement("i",{className:"fa fa-question-circle help-icon"}))}function m(a){a=a.customPosition;var b=B.default.createElement("div",null,
B.default.createElement("span",null,B.default.createElement("i",null,"Cluster availability zone")," - your desired machine type may only be available in certain availability zones."),B.default.createElement("br",null),B.default.createElement("br",null),B.default.createElement("span",null,B.default.createElement("i",null,"Spot pricing")," - the cost of spot instances may vary between availability zones."),B.default.createElement("br",null),B.default.createElement("br",null),B.default.createElement("span",
null,B.default.createElement("i",null,"Reserved instances")," - select an availability zone to use reserved instances you may have."));return B.default.createElement(E.Tooltip,{text:b,customPosition:a||{contentLeft:"0px"}},B.default.createElement("i",{className:"fa fa-question-circle help-icon availability-zone-tooltip"}))}function q(a){a=a.customPosition;var b=B.default.createElement("div",null,B.default.createElement("span",null,B.default.createElement("i",null,"Instance Availability")," - your desired machine type may only be available in certain availability zones."),
B.default.createElement("br",null),B.default.createElement("br",null),B.default.createElement("span",null,B.default.createElement("i",null,"On-Demand")," - Driver and worker are placed on on-demand instances."),B.default.createElement("br",null),B.default.createElement("br",null),B.default.createElement("span",null,B.default.createElement("i",null,"On-Demand and Spot")," - Driver on-demand, workers can be on spot or on-demand."),B.default.createElement("br",null),B.default.createElement("br",null),
B.default.createElement("span",null,B.default.createElement("i",null,"Spot")," - Driver and worker on spot instances."));return B.default.createElement(E.Tooltip,{text:b,customPosition:a||{contentLeft:"0px"}},B.default.createElement("i",{className:"fa fa-question-circle help-icon instancetype-tooltip"}))}function w(a){return a.category&&a.category.toLowerCase().includes("gpu")}function p(a){return B.default.createElement(E.Tooltip,{text:"New (beta) node types have one Spark worker per instance.\n    Original node types have two Spark workers per instance.",
customPosition:a.customPosition||{contentLeft:"-1px"}},B.default.createElement("i",{className:"fa fa-question-circle help-icon nodetype-tooltip"}))}function r(a){var b=a.min,g=a.max,c=a.className;a=a.customPosition;b=B.default.createElement("div",null,B.default.createElement("i",null,"Spot Bid Price")," - specifies the spot bid price as a percentage of the on-demand instance price (",b,"-",g,"%). The default percentage is the on-demand instance price. Note that Databricks will only place clusters on instances with this exact bid. This means that new spot instances will be acquired when launching a new cluster, even if there currently are unutilized spot instances acquired using a different bid.");
return B.default.createElement(E.Tooltip,{text:b,customPosition:a||{contentLeft:"-1px"},classes:[c]},B.default.createElement("i",{className:"fa fa-question-circle help-icon custom-spot-price-tooltip-icon"}))}function t(a){return B.default.createElement(E.Tooltip,{text:"Copy the below SSH command and replace the private key and hostname with actual values.",customPosition:a.customPosition},B.default.createElement("i",{className:"fa fa-question-circle help-icon ssh-tooltip"}))}function u(a){a=a.customPosition;
var b=J.DbGuideUrls.getDbGuideUrl(L.default.SSH_URL),b=B.default.createElement("a",{href:b,target:"_blank"},"Learn more"),b=B.default.createElement("span",null,'The public key of the SSH key pair to use to login to the driver or worker instances. You need to update the "unmanaged" security group in AWS console to provide access from the machine you want to ssh. ',b);return B.default.createElement(E.Tooltip,{text:b,customPosition:a},B.default.createElement("i",{className:"fa fa-question-circle help-icon ssh-tooltip"}))}
function y(a){var b=a.memory,g=a.cores;a=a.dbus;var c=B.default.createElement("span",null,", ",a," DBU");return B.default.createElement("span",{className:"reg-font-label"},b," GB Memory, ",g," Cores",window.settings.enableRestrictedClusterCreation||void 0===a||null===a?null:c)}Object.defineProperty(f,"__esModule",{value:!0});f.ClusterUtil=f.SubmitButton=f.CancelButton=f.Label=void 0;var A="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},g=function(){function a(a,b){for(var g=0;g<b.length;g++){var c=b[g];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}return function(b,g,c){g&&a(b.prototype,g);c&&a(b,c);return b}}();f.JdbcExampleTooltip=k;f.JdbcInstructions=d;f.DBUTooltip=n;f.CudaEulaTooltip=function(a){a=a.customPosition;var b=B.default.createElement("a",{href:"http://docs.nvidia.com/cuda/eula",target:"_blank"},
"CUDA End User License Agreement (EULA)"),b=B.default.createElement("div",null,"By using this version of Spark, you agree to the terms and conditions outlined in the NVIDIA ",b,".");return B.default.createElement(E.Tooltip,{text:b,customPosition:a},B.default.createElement("i",{className:"fa fa-question-circle help-icon"}))};f.AZTooltip=m;f.InstanceTypeTooltip=q;f.isGpuNodeType=w;f.isGpuNodeTypeAndExists=function(a,b){return(b=b.find(function(b){return b.node_type_id===a}))&&w(b)};f.isGpuSparkVersion=
function(a){return a.toLowerCase().includes("gpu")};f.TypeTooltip=p;f.CustomSpotPriceTooltip=r;f.SshInstructions=function(){var a=J.DbGuideUrls.getDbGuideUrl(L.default.SSH_URL),a=B.default.createElement("a",{href:a,target:"_blank"},"Learn more");return B.default.createElement("div",{className:"ssh-instructions"},B.default.createElement("strong",null,"Note:")," Your Databricks EC2 security group also needs to be configured to allow access to port ",window.settings.sshContainerForwardedPort,". To SSH into workers, find the worker hostnames on the Spark Cluster UI -> Master tab.",
" ",a)};f.SshExampleTooltip=t;f.SshSetupTooltip=u;f.SparkImageTooltip=function(){var a=B.default.createElement("a",{href:"http://docs.databricks.com/user-guide/clusters/index.html#databricks-cluster-versions",target:"_blank"},"Databricks Guide"),a=B.default.createElement("span",null,"Selects the image that will be used to create the cluster. For details about specific images, see ",a,".");return B.default.createElement(E.Tooltip,{text:a,inlineAutoPosition:!0},B.default.createElement("i",{className:"fa fa-question-circle help-icon cluster-image-tooltip"}))};
f.InstanceStats=y;l=a("jquery");var v=c(l);l=a("underscore");var z=c(l);l=a("react");var B=c(l);l=a("react-addons-pure-render-mixin");var G=c(l),x=a("../js_polyfill/NumberUtils");l=a("../presence/Presence");var D=c(l),E=a("../ui_building_blocks/Tooltip.jsx"),F=a("../ui_building_blocks/TabsView.jsx"),J=a("../urls/DbGuideUrls");a=a("../urls/DbGuideLinks.js");var L=c(a),I=f.Label=function(a){function c(a){e(this,c);a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a.shouldComponentUpdate=
G.default.shouldComponentUpdate.bind(a);return a}b(c,a);g(c,[{key:"render",value:function(){return B.default.createElement("div",{className:"cluster-create-label"},this.props.children)}}]);return c}(B.default.Component);I.propTypes={children:B.default.PropTypes.node};(f.CancelButton=function(a){function c(a){e(this,c);a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a.shouldComponentUpdate=G.default.shouldComponentUpdate.bind(a);return a}b(c,a);g(c,[{key:"render",value:function(){return B.default.createElement("div",
{className:"btn cancel-button",onClick:this.props.onClick},"Cancel")}}]);return c}(B.default.Component)).propTypes={onClick:B.default.PropTypes.func};a=f.SubmitButton=function(a){function c(a){e(this,c);a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a.shouldComponentUpdate=G.default.shouldComponentUpdate.bind(a);return a}b(c,a);g(c,[{key:"render",value:function(){return B.default.createElement("div",{className:"btn btn-primary confirm-button",disabled:this.props.disabled,onClick:this.props.disabled?
null:this.props.onClick},this.props.text)}}]);return c}(B.default.Component);a.propTypes={disabled:B.default.PropTypes.bool,onClick:B.default.PropTypes.func,text:B.default.PropTypes.oneOfType([B.default.PropTypes.string,B.default.PropTypes.node])};a.defaultProps={disabled:!1};n.propTypes={customPosition:B.default.PropTypes.object};m.propTypes={customPosition:B.default.PropTypes.object};q.propTypes={customPosition:B.default.PropTypes.object};p.propTypes={customPosition:B.default.PropTypes.object};
r.propTypes={min:B.default.PropTypes.number.isRequired,max:B.default.PropTypes.number.isRequired,className:B.default.PropTypes.string,customPosition:B.default.PropTypes.object};r.defaultProps={className:""};t.propTypes={customPosition:B.default.PropTypes.object};u.propTypes={customPosition:B.default.PropTypes.object};y.propTypes={memory:B.default.PropTypes.oneOfType([B.default.PropTypes.string,B.default.PropTypes.number]).isRequired,cores:B.default.PropTypes.oneOfType([B.default.PropTypes.string,
B.default.PropTypes.number]).isRequired,dbus:B.default.PropTypes.oneOfType([B.default.PropTypes.string,B.default.PropTypes.number]).isRequired};f.ClusterUtil=function(){function a(){e(this,a)}g(a,null,[{key:"onDemandDisplayStr",value:function(){return"On-Demand"}},{key:"hybridDisplayStr",value:function(){return"On-Demand and Spot"}},{key:"spotDisplayStr",value:function(){return"Spot"}},{key:"slugifyClusterName",value:function(a){a=a.toLowerCase();for(var b="",g=0;g<a.length;g++){var c=a.charAt(g);
if(c.match("[a-z0-9]"))b+=c;else if("-"===c||" "===c||"_"===c)b+="-"}return b}},{key:"getJdbcInfo",value:function(a,b){var g=a.location.port||"443",c="https:"===a.location.protocol?"ssl=true;":"";b="sql/protocolv1/o/"+a.settings.orgId+"/"+b;return{host:a.location.hostname,port:g,path:b,protocol:c?"HTTPS":"HTTP",url:"jdbc:hive2://"+a.location.hostname+":"+g+"/default;transportMode=http;"+c+"httpPath="+b}}},{key:"renderJdbcTab",value:function(b,g){var c=a.getJdbcInfo(window,b.get("clusterId"));b=a.getJdbcInfo(window,
a.slugifyClusterName(b.get("clusterName")));return B.default.createElement(F.Panel,{key:"jdbcOdbc",title:"JDBC/ODBC",name:"jdbcOdbc",onClick:g},B.default.createElement("div",{className:"tab-info-section-wrapper"},B.default.createElement("div",{className:"tab-info-section section-padded"},B.default.createElement(I,null,"Server Hostname"),B.default.createElement("div",null,c.host)),B.default.createElement("div",{className:"tab-info-section section-padded"},B.default.createElement(I,null,"Port"),B.default.createElement("div",
null,c.port)),B.default.createElement("div",{className:"tab-info-section section-padded"},B.default.createElement(I,null,"Protocol"),B.default.createElement("div",null,c.protocol)),B.default.createElement("div",{className:"tab-info-section section-padded"},B.default.createElement(I,null,"HTTP Path"),B.default.createElement("div",null,B.default.createElement("span",{className:"ex-command"},c.path),B.default.createElement("span",{className:"cluster-detail-label"},"(unique)")),B.default.createElement("div",
null,B.default.createElement("span",{className:"ex-command"},b.path),B.default.createElement("span",{className:"cluster-detail-label"},"(alias, not guaranteed unique)"))),B.default.createElement("div",{className:"tab-info-section section-padded",c:!0},B.default.createElement(I,null,"JDBC URL")," ",B.default.createElement(k,{customPosition:{contentLeft:"0px"}}),B.default.createElement("pre",null,c.url),B.default.createElement("pre",null,b.url)),B.default.createElement(d,null)))}},{key:"workersToMemoryMB",
value:function(a,b,g){b=this.getMemMB(b,g);return a*b}},{key:"workersToMemoryGB",value:function(a,b,g){return this.workersToMemoryMB(a,b,g)/1024}},{key:"getMemMB",value:function(a,b){if(a&&"object"!==("undefined"===typeof a?"undefined":A(a)))throw Error("Error: incorrect nodeType passed in; should be an object. See use of getMemMB or functions that call it.");return a&&a.memory_mb?a.memory_mb:b?1024*window.settings.displayDefaultContainerMemoryGB:window.settings.defaultMemoryPerContainerMB}},{key:"containersToMemoryMB",
value:function(a,b,g,c){b=this.getMemMB(b,c);g=this.getMemMB(g,c);return a*b+g}},{key:"containersToMemoryGB",value:function(a,b,g,c){return this.containersToMemoryMB(a,b,g,c)/1024}},{key:"workersToCores",value:function(a,b){return a*(b&&b.num_cores?b.num_cores:window.settings.defaultCoresPerContainer)}},{key:"getDBU",value:function(a,b){var g=window.settings&&window.settings.defaultNodeTypeToPricingUnitsMap;if(g&&(a=g[a.node_type_id]))return a*b}},{key:"createCluster",value:function(a,b,g){D.default.pushHistory("Created cluster "+
a.clusterName+" ("+(a.numWorkers||0)+" workers)");v.default.ajax("/clusters/create",{type:"POST",data:JSON.stringify(a),dataType:"json"}).fail(g).done(b)}},{key:"createClusterForJob",value:function(a,b,g){v.default.ajax("/jobs/set-cluster",{type:"POST",data:JSON.stringify(a),dataType:"json"}).fail(g).done(b)}},{key:"configureCluster",value:function(a,b,g){v.default.ajax("/clusters/resize",{type:"POST",data:JSON.stringify(a),dataType:"json"}).fail(g).done(b)}},{key:"getNodeType",value:function(a,b){b||
(b=window.settings.nodeInfo.node_types);return z.default.find(b,function(b){return b.node_type_id===a})}},{key:"fetchLatest",value:function(a,b,g){v.default.ajax({dataType:"json",url:"/clusters/"+a,success:b,error:g})}},{key:"updateNodeInfo",value:function(b){var g=this;this.fetchLatest("node-types",function(a){b.node_types.splice(0,b.length);Array.prototype.push.apply(b.node_types,a.node_types);b.default_node_type_id=a.default_node_type_id},function(c,d,m){console.error("Failed to fetch Node Types, retrying",
d,m);z.default.delay(a.updateNodeInfo.bind(g,b),1E4)})}},{key:"updateSparkVersions",value:function(b,g){var c=this;this.fetchLatest("spark-versions",function(a){b.sparkVersions=a.sparkVersions;g&&g(a.sparkVersions)},function(d,m,n){console.error("Failed to fetch Spark versions, retrying",m,n);z.default.delay(a.updateSparkVersions.bind(c,b,g),1E4)})}},{key:"exceedsClusterLimit",value:function(a){return window.settings.enableRestrictedClusterCreation&&-1!==window.settings.clustersLimit&&a>=window.settings.clustersLimit}},
{key:"generateClusterLimitTooltip",value:function(a){var b=B.default.createElement("span",null,"You have reached the maximum number of active clusters. Please terminate an existing cluster or ",B.default.createElement("a",{href:window.settings.pricingURL,target:"_blank"},"upgrade")," to a larger plan.");return B.default.createElement(E.Tooltip,{id:"cluster-limit-tooltip",text:b},a)}},{key:"clusterWorkersValidator",value:function(a){return""!==a&&x.NumberUtils.isSimpleInteger(a)&&0<=Number(a)&&1E5>=
Number(a)}},{key:"warnTooManyNotebooks",value:function(a){var b=this.getNodeType(a.get("nodeTypeId")),g=this.getNodeType(a.get("driverNodeTypeId")),b=5*this.containersToMemoryGB(0,b,g)-10;return a.get("notebooks").length>b}},{key:"getTooManyAttachedNotebooksWarning",value:function(a){a=a.get("notebooks").length;return B.default.createElement("div",null,B.default.createElement("i",null,"Warning: ",a," notebooks are already attached to this cluster. Attaching more notebooks might result in degraded performance."))}},
{key:"reuseExistingInstancesTip",value:function(){return"Tip: Instances will be kept until their next hour of EC2 billing ends, without incurring additional EC2 costs. New clusters will reuse such instances."}},{key:"deleteCluster",value:function(a,b){console.log("Removing cluster ID:"+b);(a=a.findWhere({clusterId:b}))?(b=a.get("clusterName"),a.set("state","Terminating"),a.save({remove:!0},{patch:!0}),D.default.pushHistory("Terminated "+b)):console.error("Attempt to remove cluster not in cluster list: ",
b)}},{key:"getDetailsLinks",value:function(a){a="#setting/clusters/"+a;return{base:a,configuration:a+"/configuration",notebooks:a+"/notebooks",libraries:a+"/libraries",driverlogs:a+"/driverLogs",sparkclusterui:a+"/sparkClusterUi",sparkui:a+"/sparkUi"}}},{key:"getInitialZoneId",value:function(){return window.settings.randomizeZoneIds&&window.settings.zoneInfos&&0<window.settings.zoneInfos.length?window.settings.zoneInfos[z.default.random(0,window.settings.zoneInfos.length-1)].id:window.settings.defaultZoneId}},
{key:"isSparkVersionBadForAutoscaling",value:function(a){return 0===a.indexOf("1.3")||0===a.indexOf("1.4")||0===a.indexOf("1.5")||0===a.indexOf("1.6.0")||0===a.indexOf("1.6.1")}}]);return a}()},{"../js_polyfill/NumberUtils":104,"../presence/Presence":224,"../ui_building_blocks/TabsView.jsx":293,"../ui_building_blocks/Tooltip.jsx":294,"../urls/DbGuideLinks.js":320,"../urls/DbGuideUrls":321,jquery:819,react:1001,"react-addons-pure-render-mixin":864,underscore:1021}],36:[function(a,l,f){function c(a){var b=
a.workers,c=a.memoryGb,n=a.cores,m=a.workerDBU;0<a.maxWorkers&&(b=a.workers+"-"+a.maxWorkers,c=a.memoryGb+"-"+a.maxMemoryGb,n=a.cores+"-"+a.maxCores,m=a.workerDBU+"-"+a.maxDBU);c=e.default.createElement(h.InstanceStats,{memory:c,cores:n,dbus:m});n=e.default.createElement(h.InstanceStats,{memory:a.driverMemoryGb,cores:a.driverCores,dbus:a.driverDBU});return e.default.createElement("div",{className:"create-summary"},e.default.createElement("div",null,b," Workers, ",c," ",e.default.createElement(h.DBUTooltip,
null)," and ",a.driver," Driver,"," ",n," ",e.default.createElement(h.DBUTooltip,null)))}Object.defineProperty(f,"__esModule",{value:!0});f.CreateSummary=c;var e=(l=a("react"))&&l.__esModule?l:{default:l},h=a("../clusters/Common.jsx");c.propTypes={maxWorkers:e.default.PropTypes.number,workers:e.default.PropTypes.number.isRequired,maxMemoryGb:e.default.PropTypes.number.isRequired,memoryGb:e.default.PropTypes.number.isRequired,cores:e.default.PropTypes.number.isRequired,maxCores:e.default.PropTypes.number.isRequired,
driver:e.default.PropTypes.number.isRequired,driverMemoryGb:e.default.PropTypes.number.isRequired,driverCores:e.default.PropTypes.number.isRequired,workerDBU:e.default.PropTypes.number.isRequired,maxDBU:e.default.PropTypes.number.isRequired,driverDBU:e.default.PropTypes.number.isRequired}},{"../clusters/Common.jsx":35,react:1001}],37:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=
Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.CustomSparkVersionInput=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&
l.__esModule?l:{default:l},b=a("../clusters/Common.jsx"),k=a("../forms/ReactFormElements.jsx");a=f.CustomSparkVersionInput=function(a){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=(d.__proto__||Object.getPrototypeOf(d)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.onVersionChange=a.onVersionChange.bind(a);a.state={version:a.props.defaultVersionKey};
return a}c(d,a);e(d,[{key:"startsWithCustom",value:function(a){return"custom:"===a.substr(0,7)}},{key:"onVersionChange",value:function(a){var b=a;this.startsWithCustom(b)||(b="custom:"+a);this.setState({version:b});if(this.props.onChange)this.props.onChange(b)}},{key:"render",value:function(){return h.default.createElement("div",{className:"custom-spark-version section-padded"},h.default.createElement("div",null,h.default.createElement(b.Label,null,"Custom Spark Version"),h.default.createElement("div",
null,h.default.createElement(k.Input,{ref:d.CUSTOM_VERSION_REF,inputID:d.CUSTOM_VERSION_REF,type:"text",inputClassName:"control-field cluster-dialog-element",onChange:this.onVersionChange,value:this.state.version}))))}}]);return d}(h.default.Component);a.CUSTOM_VERSION_REF="customSparkVersion";a.propTypes={defaultVersionKey:h.default.PropTypes.string,onChange:h.default.PropTypes.func}},{"../clusters/Common.jsx":35,"../forms/ReactFormElements.jsx":81,react:1001}],38:[function(a,l,f){function c(a){return a&&
a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("react");var b=c(f);a=a("../filetree/NavFunc.jsx");var k=c(a);a=b.default.createClass({displayName:"DriverLogsViewReact",propTypes:{clusterId:b.default.PropTypes.string,shouldFetchLogs:b.default.PropTypes.bool.isRequired},getInitialState:function(){return{stdoutTail:"",stderrTail:"",log4jTail:"",localFiles:[],error:"You do not have sufficient permissions to view the driver logs for this cluster."}},componentDidMount:function(){this.fetchDriverLogs(this.props)},
componentWillReceiveProps:function(a){this.fetchDriverLogs(a)},fetchDriverLogs:function(a){var b=this;a.shouldFetchLogs&&(this.setState({error:""}),this.driverLogsFetch=e.default.ajax("/driver-logs/"+this.props.clusterId,{success:function(a){return b._setDriverLogsData(a)},error:function(a){return b._setErrorMsg(a)}}))},componentWillUnmount:function(){this.driverLogsFetch&&this.driverLogsFetch.abort()},_setDriverLogsData:function(a){this.setState({stdoutTail:a.stdoutTail,stderrTail:a.stderrTail,log4jTail:a.log4jTail,
localFiles:a.localFiles})},_setErrorMsg:function(a){this.setState({error:"You do not have sufficient permissions to view the driver logs for this cluster."===a.statusText?"You do not have sufficient permissions to view the driver logs for this cluster.":"Driver logs for cluster "+this.props.clusterId+" are not currently accessible."})},render:function(){return this.state.error?b.default.createElement("div",{className:"spark-driver-logs-view"},b.default.createElement("h2",null,"Spark Driver Logs"),
b.default.createElement("p",null,this.state.error)):b.default.createElement("div",{className:"spark-driver-logs-view"},b.default.createElement("h2",null,"Spark Driver Logs"),this.renderFileList(this.state.localFiles),this.renderTextOutput("Standard output",this.state.stdoutTail,"driver-stdout"),this.renderTextOutput("Standard error",this.state.stderrTail,"driver-stderr"),this.renderTextOutput("Log4j output",this.state.log4jTail,"driver-log4j"))},renderTextOutput:function(a,c,m){var d=this;h.default.defer(function(){(0,
e.default)(".console-output textarea").each(function(a,b){b.scrollTop=b.scrollHeight})});return b.default.createElement("div",null,b.default.createElement("p",null,a),b.default.createElement("div",{className:"console-output "+m},b.default.createElement("textarea",{ref:function(a){return d[m]=a},readOnly:!0,value:c,onFocus:this.textOutputFocused,onBlur:this.textOutputBlurred})))},renderFileList:function(a){if(!a||0===a.length)return null;var c=this,d=h.default.sortBy(a.filter(function(a){return 0===
a.name.indexOf(window.settings.driverStdoutFilePrefix)}),"name"),e=h.default.sortBy(a.filter(function(a){return 0===a.name.indexOf(window.settings.driverStderrFilePrefix)}),"name");a=h.default.sortBy(a.filter(function(a){return 0===a.name.indexOf(window.settings.driverLog4jFilePrefix)}),"name");return b.default.createElement("div",null,b.default.createElement("p",null,"Recent log files"),b.default.createElement("table",{style:{width:"100%"}},b.default.createElement("tbody",null,b.default.createElement("tr",
null,b.default.createElement("td",{className:"stdoutFiles"},d.map(function(a){return b.default.createElement("span",{key:a.name},b.default.createElement("a",{className:"stdout-download",download:!0,href:"/driver-logs/"+c.props.clusterId+"/download/"+a.name+k.default.sessionParams()},a.name+" ("+a.size+" bytes)"),b.default.createElement("br",null))})),b.default.createElement("td",{className:"stderrFiles"},e.map(function(a){var d="/driver-logs/"+c.props.clusterId+"/download/"+a.name+k.default.sessionParams();
return b.default.createElement("span",{key:a.name},b.default.createElement("a",{className:"stderr-download",download:!0,href:d},a.name+" ("+a.size+" bytes)"),b.default.createElement("br",null))})),b.default.createElement("td",{className:"log4jFiles"},a.map(function(a){var d="/driver-logs/"+c.props.clusterId+"/download/"+a.name+k.default.sessionParams();return b.default.createElement("span",{key:a.name},b.default.createElement("a",{className:"log4j-download",download:!0,href:d},a.name+" ("+a.size+
" bytes)"),b.default.createElement("br",null))}))))),b.default.createElement("br",null))},textOutputFocused:function(a){(0,e.default)(a.target).css("overflow-y","scroll")},textOutputBlurred:function(a){(0,e.default)(a.target).css("overflow-y","hidden")}});l.exports=a},{"../filetree/NavFunc.jsx":72,jquery:819,react:1001,underscore:1021}],39:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=
Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.EBSVolumeFields=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&
l.__esModule?l:{default:l},b=a("../clusters/Common.jsx"),k=a("../clusters/EBSVolumeUtils.jsx"),d=a("../forms/ReactFormElements.jsx");(f.EBSVolumeFields=function(a){function m(a){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");a=(m.__proto__||Object.getPrototypeOf(m)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._onTypeChange=a._onTypeChange.bind(a);
a._onCountChange=a._onCountChange.bind(a);a._onCountBlur=a._onCountBlur.bind(a);a._onSizeChange=a._onSizeChange.bind(a);a._onSizeBlur=a._onSizeBlur.bind(a);a._setupRangesAndMessaging();var b=a.getRangeDefaults(a.props.ebsVolumeType);a.state={noneChosen:!a.props.ebsVolumeType,countValid:!0,sizeValid:!0,minSize:b.minSize,maxSize:b.maxSize,defaultSize:b.defaultSize};return a}c(m,a);e(m,[{key:"_setupRangesAndMessaging",value:function(){this.WARN_MSG="If you provision EBS volumes, the local storage of the instances will not\n    be used.";
this.minCount=1;this.defaultCount=3;this.maxCount=window.settings.maxEbsVolumesPerInstance;this.generalPurposeMin=k.EBSVolumeUtils.getGeneralPurposeMin();this.generalPurposeMax=k.EBSVolumeUtils.getGeneralPurposeMax();this.throughputOptimizedMin=k.EBSVolumeUtils.getThroughputOptimizedMin();this.throughputOptimizedMax=k.EBSVolumeUtils.getThroughputOptimizedMax()}},{key:"getRangeDefaults",value:function(a){return a===k.EBSVolumeUtils.GENERAL_PURPOSE?{minSize:this.generalPurposeMin,maxSize:this.generalPurposeMax,
defaultSize:100}:a===k.EBSVolumeUtils.THROUGHPUT_OPTIMIZED?{minSize:this.throughputOptimizedMin,maxSize:this.throughputOptimizedMax,defaultSize:500}:{}}},{key:"_onTypeChange",value:function(a){var b=this.getRangeDefaults(a);this.setState({noneChosen:""===a,countValid:!0,sizeValid:!0,minSize:b.minSize,maxSize:b.maxSize,defaultSize:b.defaultSize});var c={ebsVolumeType:a};""===a?(c.ebsVolumeCount=null,c.ebsVolumeSize=null):(c.ebsVolumeCount=this.defaultCount,c.ebsVolumeSize=b.defaultSize);this.props.onChange(c)}},
{key:"_onCountChange",value:function(a){this.setState({countValid:parseInt(a,10)>=this.minCount&&parseInt(a,10)<=this.maxCount});this.props.onChange({ebsVolumeCount:a})}},{key:"_onCountBlur",value:function(a){if(parseInt(a,10)<this.minCount||!a)a=this.minCount;parseInt(a,10)>this.maxCount&&(a=this.maxCount);this._onCountChange(parseInt(a,10))}},{key:"_onSizeChange",value:function(a){this.setState({sizeValid:parseInt(a,10)>=this.state.minSize&&parseInt(a,10)<=this.state.maxSize});this.props.onChange({ebsVolumeSize:a})}},
{key:"_onSizeBlur",value:function(a){if(parseInt(a,10)<this.state.minSize||!a)a=this.state.minSize;parseInt(a,10)>this.state.maxSize&&(a=this.state.maxSize);this._onSizeChange(parseInt(a,10))}},{key:"_getTypeSelectOptions",value:function(){return[{value:"",label:"None"},{value:k.EBSVolumeUtils.GENERAL_PURPOSE,label:k.EBSVolumeUtils.GENERAL_PURPOSE_LABEL},{value:k.EBSVolumeUtils.THROUGHPUT_OPTIMIZED,label:k.EBSVolumeUtils.THROUGHPUT_OPTIMIZED_LABEL}]}},{key:"_shouldShowWarnMsg",value:function(){return this.state.noneChosen&&
!this.props.disableEBSVolumes}},{key:"_shouldShowSummary",value:function(){return!this.props.disableEBSVolumes&&!this.state.noneChosen&&this.state.countValid&&this.state.sizeValid}},{key:"render",value:function(){var a=h.default.createElement("span",{className:"error"},"Count must be between ",this.minCount," and ",this.maxCount,"."," "),c=h.default.createElement("span",{className:"error"},"Size must be between ",this.state.minSize," and ",this.state.maxSize,"."),m=h.default.createElement("span",
{ref:"summary"},k.EBSVolumeUtils.getEBSSummary(this.props.ebsVolumeCount,this.props.ebsVolumeSize)),n=this.props.offendingNodeTypes?this.props.offendingNodeTypes.join(", "):"",n=h.default.createElement("span",{className:"disable-message"},"EBS volumes is not supported for the following node types: ",n,"."),e=this.props.disableEBSVolumes?"":this.props.ebsVolumeType,u=this.props.disableEBSVolumes?null:this.props.ebsVolumeCount,y=this.props.disableEBSVolumes?null:this.props.ebsVolumeSize;return h.default.createElement("div",
{className:"storage-parent-wrapper section-padded"},h.default.createElement("div",{className:"label-select-group create type-group"},h.default.createElement("div",null,h.default.createElement(b.Label,null,k.EBSVolumeUtils.TYPE_LABEL)," ",h.default.createElement(k.EBSVolumeUtils.EBSVolumeTypeTooltip,null)),h.default.createElement(d.Select,{selectID:"typeSelect",options:this._getTypeSelectOptions(),value:e,onChange:this._onTypeChange,selectClassName:"ebs-field type",useLowerCaseValue:!1,disableAllSelection:this.props.disableEBSVolumes})),
h.default.createElement("div",{className:"label-select-group create count-group"},h.default.createElement("div",null,h.default.createElement(b.Label,null,k.EBSVolumeUtils.COUNT_LABEL)," ",h.default.createElement(k.EBSVolumeUtils.EBSVolumeCountTooltip,{maxCount:this.maxCount})),h.default.createElement(d.Input,{ref:"countInput",inputID:"countSelect",type:"number",value:u,onChange:this._onCountChange,onBlur:this._onCountBlur,inputClassName:"ebs-field count",disabled:this.state.noneChosen||this.props.disableEBSVolumes,
valid:this.state.countValid,min:this.minCount,max:this.maxCount})),h.default.createElement("div",{className:"label-select-group create size-group"},h.default.createElement("div",null,h.default.createElement(b.Label,null,k.EBSVolumeUtils.SIZE_LABEL)," ",h.default.createElement(k.EBSVolumeUtils.EBSVolumeSizeTooltip,{GPMin:this.generalPurposeMin,GPMax:this.generalPurposeMax,TOMin:this.throughputOptimizedMin,TOMax:this.throughputOptimizedMax})),h.default.createElement(d.Input,{ref:"sizeInput",inputID:"sizeSelect",
type:"number",value:y,onChange:this._onSizeChange,onBlur:this._onSizeBlur,inputClassName:"ebs-field size",disabled:this.state.noneChosen||this.props.disableEBSVolumes,valid:this.state.sizeValid,min:this.state.minSize,max:this.state.maxSize})),h.default.createElement("span",null,this.state.countValid?null:a,this.state.sizeValid?null:c,h.default.createElement("span",{className:"ebs-info"},this._shouldShowWarnMsg()?this.WARN_MSG:null,this._shouldShowSummary()?m:null,this.props.disableEBSVolumes?n:null)))}}]);
return m}(h.default.Component)).propTypes={onChange:h.default.PropTypes.func.isRequired,numWorkers:h.default.PropTypes.number,ebsVolumeType:h.default.PropTypes.string,ebsVolumeCount:h.default.PropTypes.oneOfType([h.default.PropTypes.string,h.default.PropTypes.number]),ebsVolumeSize:h.default.PropTypes.oneOfType([h.default.PropTypes.string,h.default.PropTypes.number]),offendingNodeTypes:h.default.PropTypes.array,disableEBSVolumes:h.default.PropTypes.bool}},{"../clusters/Common.jsx":35,"../clusters/EBSVolumeUtils.jsx":40,
"../forms/ReactFormElements.jsx":81,react:1001}],40:[function(a,l,f){function c(a){return k.default.createElement(d.Tooltip,{text:a.text,customPosition:{contentLeft:"0"}},k.default.createElement("i",{className:"fa fa-question-circle help-icon"}))}function e(a){return k.default.createElement(c,{text:"The size of each EBS volume (in GB) launched for each instance. For general purpose\n    SSD, this value must be within the range "+a.GPMin+" - "+a.GPMax+". For throughput optimized HDD,\n    this value must be within the range "+
a.TOMin+" - "+a.TOMax+"."})}function h(a){return k.default.createElement(c,{text:"The number of volumes to provision for each instance. Users can choose up\n    to "+a.maxCount+" volumes per instance."})}Object.defineProperty(f,"__esModule",{value:!0});f.EBSVolumeUtils=void 0;var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);
d&&a(b,d);return b}}(),k=(l=a("react"))&&l.__esModule?l:{default:l},d=a("../ui_building_blocks/Tooltip.jsx");c.propTypes={text:k.default.PropTypes.string.isRequired};e.propTypes={GPMin:k.default.PropTypes.number.isRequired,GPMax:k.default.PropTypes.number.isRequired,TOMin:k.default.PropTypes.number.isRequired,TOMax:k.default.PropTypes.number.isRequired};h.propTypes={maxCount:k.default.PropTypes.number.isRequired};a=f.EBSVolumeUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
}b(a,null,[{key:"getGeneralPurposeMin",value:function(){var b=window.settings.ebsVolumeSizeLimitGB;if(b)return b[a.GENERAL_PURPOSE][0]}},{key:"getGeneralPurposeMax",value:function(){var b=window.settings.ebsVolumeSizeLimitGB;if(b)return b[a.GENERAL_PURPOSE][1]}},{key:"getThroughputOptimizedMin",value:function(){var b=window.settings.ebsVolumeSizeLimitGB;if(b)return b[a.THROUGHPUT_OPTIMIZED][0]}},{key:"getThroughputOptimizedMax",value:function(){var b=window.settings.ebsVolumeSizeLimitGB;if(b)return b[a.THROUGHPUT_OPTIMIZED][1]}},
{key:"getEBSSummary",value:function(a,b){return a*b+" GB storage per instance"}},{key:"nodeTypeSupportsEBSVolumes",value:function(a,b){return a?!!a.find(function(a){return a.node_type_id===b&&a.support_ebs_volumes}):!1}}]);return a}();a.EBSVolumeTypeTooltip=function(){return k.default.createElement(c,{text:"Use EBS volumes instead of local storage for the driver and each of the worker\n    instances in the cluster. This is useful for running workloads that require a lot of shuffle\n    spaces. Note: this is only supported for beta node types."})};
a.EBSVolumeSizeTooltip=e;a.EBSVolumeCountTooltip=h;a.GENERAL_PURPOSE="GENERAL_PURPOSE_SSD";a.GENERAL_PURPOSE_LABEL="General Purpose SSD";a.THROUGHPUT_OPTIMIZED="THROUGHPUT_OPTIMIZED_HDD";a.THROUGHPUT_OPTIMIZED_LABEL="Throughput Optimized HHD";a.TYPE_LABEL="EBS Volume Type";a.COUNT_LABEL="# Volumes";a.SIZE_LABEL="Size in GB"},{"../ui_building_blocks/Tooltip.jsx":294,react:1001}],41:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function e(a){a=a.customPosition;var c=b.default.createElement("div",null,"If spot price for Amazon EC2 instances exceeds the bid at cluster creation, then create on-demand instances instead of spot-instances.");return b.default.createElement("div",{className:"fall-back-tooltip"},b.default.createElement(d.Tooltip,
{customPosition:a,text:c},b.default.createElement("i",{className:"fa fa-question-circle help-icon fall-back-icon"})))}Object.defineProperty(f,"__esModule",{value:!0});f.FallbackOnDemandCheckbox=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();f.FallbackOnDemandTooltip=e;var b=(l=a("react"))&&l.__esModule?
l:{default:l},k=a("../forms/ReactFormElements.jsx"),d=a("../ui_building_blocks/Tooltip.jsx");a=f.FallbackOnDemandCheckbox=function(a){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var a=(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}c(d,a);h(d,[{key:"_isDisabled",value:function(){return this.props.disabled}},
{key:"render",value:function(){return b.default.createElement("div",{className:"fall-back-checkbox"},b.default.createElement(k.LabeledCheckbox,{ref:"clusterFallBack",checkboxID:"clusterFallBack",label:"Fall back to On-Demand",checkboxClassName:"control-field fallback-checkbox",confirm:this.props.confirmOnEnter,onChange:this.props.onChange,defaultChecked:this.props.defaultOnDemandFallBack,disabled:this._isDisabled()}))}}]);return d}(b.default.Component);a.propTypes={disabled:b.default.PropTypes.bool,
defaultOnDemandFallBack:b.default.PropTypes.bool,onChange:b.default.PropTypes.func,confirmOnEnter:b.default.PropTypes.func};a.defaultProps={disabled:!1,defaultOnDemandFallBack:!0};e.propTypes={customPosition:b.default.PropTypes.object}},{"../forms/ReactFormElements.jsx":81,"../ui_building_blocks/Tooltip.jsx":294,react:1001}],42:[function(a,l,f){function c(){return window.settings.isAdmin?d.default.createElement("span",null,d.default.createElement("a",{href:"#setting/accounts/iamRoles/new",target:"blank",
rel:"noopener noreferrer"},"New IAM roles")," ","can be added in the Admin Console."):d.default.createElement("span",null,"To add a new IAM role, ask your admin.")}function e(a){a=a.customPosition;var b=d.default.createElement("span",null,"IAM roles allow you to access your data from Databricks clusters without the need to manage, deploy, or rotate AWS keys."," ",d.default.createElement(c,null));return d.default.createElement(q.Tooltip,{text:b,customPosition:a||{contentLeft:"0px"}},d.default.createElement("i",
{className:"fa fa-question-circle help-icon"}))}function h(a){a=a.customPosition;var b=q.Tooltip.getUpgradeElement("IAM roles",!0);return d.default.createElement(q.Tooltip,{text:b,customPosition:a||{contentLeft:"0px"}},d.default.createElement("i",{className:"fa fa-question-circle help-icon"}))}function b(){return d.default.createElement("div",{className:"instance-profile-warning-wrapper"},d.default.createElement("div",{className:"instance-profile-warning"},d.default.createElement("strong",null,"Note:"),
" ","anyone with access to the cluster can access the resources controlled by the IAM role. Cluster access can be controlled on the permissions tab once you have created a cluster."))}function k(a){var c=a.readOnly,k=a.value,q=a.showWarning,u=!window.settings.enableInstanceProfilesByTier;a=d.default.createElement(m.Select,{selectID:"instanceProfile",options:a.options,value:k,onChange:a.onChange,selectClassName:"control-field cluster-dialog-element instance-profile-select",disableAllSelection:u});
return d.default.createElement("div",{className:"instance-profile section-padded"},d.default.createElement(n.Label,null,"IAM Role")," ",u?d.default.createElement(h,null):d.default.createElement(e,null),d.default.createElement("div",null,c?k:a,q?d.default.createElement(b,null):null))}Object.defineProperty(f,"__esModule",{value:!0});f.InstanceProfileAddInstructions=c;f.InstanceProfileField=k;var d=(l=a("react"))&&l.__esModule?l:{default:l},n=a("../clusters/Common.jsx"),m=a("../forms/ReactFormElements.jsx"),
q=a("../ui_building_blocks/Tooltip.jsx");e.propTypes={customPosition:d.default.PropTypes.object};h.propTypes={customPosition:d.default.PropTypes.object};k.propTypes={value:d.default.PropTypes.string,options:d.default.PropTypes.array,onChange:d.default.PropTypes.func,readOnly:d.default.PropTypes.bool,showWarning:d.default.PropTypes.bool};k.defaultProps={options:[],showWarning:!1}},{"../clusters/Common.jsx":35,"../forms/ReactFormElements.jsx":81,"../ui_building_blocks/Tooltip.jsx":294,react:1001}],
43:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.MixedWorkerInput=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&l.__esModule?l:{default:l},b=a("../clusters/AutoScaleCheckbox.jsx"),k=a("../clusters/Common.jsx"),d=a("../clusters/ClusterWorkersInput.jsx"),n=a("../clusters/WorkerInput.jsx"),m=a("../forms/ReactFormElements.jsx"),q=a("../ui_building_blocks/Tooltip.jsx");(f.MixedWorkerInput=function(a){function p(a){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");
a=(p.__proto__||Object.getPrototypeOf(p)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.onAutoScaleMaxChange=a.onAutoScaleMaxChange.bind(a);a.onAutoScaleMinChange=a.onAutoScaleMinChange.bind(a);a.toggleAutoScale=a.toggleAutoScale.bind(a);a.onChangeSpotWorkerCount=a.onChangeSpotWorkerCount.bind(a);a.onChangeWorkerCount=a.onChangeWorkerCount.bind(a);a.workersValidator=a.workersValidator.bind(a);
return a}c(p,a);e(p,[{key:"onChangeWorkerCount",value:function(a){a=this.getValue(a);this.setState({workers:a});this.workersValidator(a);this.props.onChange(a,this.state.spotWorkers)}},{key:"onChangeSpotWorkerCount",value:function(a){a=this.getValue(a);this.setState({spotWorkers:a});this.spotWorkersValidator(a);this.props.onChange(this.state.workers,a)}},{key:"onAutoScaleMinChange",value:function(a){a=this.getValue(a);this.setState({mixedAutoScaleMinWorkers:a});this.state.autoScaleMaxWorkers<=a&&
(this.setState({autoScaleMaxWorkers:a+1}),this.onAutoScaleMaxChange(a+1));this.workersValidator(a);this.props.onAutoScaleMinChange(a)}},{key:"onAutoScaleMaxChange",value:function(a){a=this.getValue(a);this.setState({autoScaleMaxWorkers:a});this.workersValidator(a);this.props.onAutoScaleMaxChange(a,0)}},{key:"_renderFixedOnDemandInput",value:function(){return h.default.createElement("div",{className:"fixed-worker-count"},this.props.numOnDemand)}},{key:"toggleAutoScale",value:function(a){this.setState({mixedAutoScaleMinWorkers:a?
d.ClusterWorkersInput.DEFAULT_MIXED_SPOT_WORKERS:0});this.props.toggleAutoScale(a)}},{key:"render",value:function(){var a=this,c=this.updateWorkerStats(),d=this.props.fixedOnDemand?"disabled-input worker-count":"worker-count",d=h.default.createElement("div",{className:"mixed-worker-count worker-count-inner workers-on-demand",key:"ondemand"},h.default.createElement(k.Label,null,"On Demand"),h.default.createElement(m.Input,{ref:function(b){return a.ondemand=b},inputID:n.WorkerInput.ONDEMAND_COUNT,value:this.props.workers.toString(),
type:"number",disabled:this.props.fixedOnDemand||this.props.disabled,inputClassName:d,validate:this.workersValidator,onChange:this.onChangeWorkerCount,readOnly:this.props.restrictedClusterCreation,min:this.props.minWorkers,max:this.props.maxWorkers}));this.props.fixedOnDemand&&(d=h.default.createElement(q.Tooltip,{text:"You cannot change the number of on-demand workers when configuring clusters."},d));var e=h.default.createElement("div",{className:"mixed-worker-count worker-count-inner workers-spot",
key:"spot"},h.default.createElement(k.Label,null,"Spot"),h.default.createElement(m.Input,{ref:function(b){return a.spot=b},disabled:this.props.disabled,inputID:n.WorkerInput.SPOT_COUNT,value:this.props.spotWorkers.toString(),type:"number",inputClassName:"worker-count",onChange:this.onChangeSpotWorkerCount,min:this.props.minWorkers,max:this.props.maxWorkers})),p=h.default.createElement(b.AutoScaleCheckbox,{disabled:this.props.disabled,defaultChecked:this.props.showAutoScaleInputs,onChange:this.toggleAutoScale,
enableAutoScale:this.props.enableAutoScale,showWarning:this.props.showAutoScaleWarning,showHybridMessaging:!0}),g=function(b){return a.autoScaleMin=b},v=function(b){return a.autoScaleMax=b},g=this.props.showAutoScaleInputs?h.default.createElement("div",{key:"autoscale"},h.default.createElement("div",{className:"mixed-worker-count worker-count-inner"},h.default.createElement(k.Label,null,"Min"),h.default.createElement(m.Input,{ref:g,disabled:this.props.disabled,inputID:n.WorkerInput.AUTO_SCALE_MIN_COUNT,
value:this.state.mixedAutoScaleMinWorkers.toString(),type:"number",inputClassName:"worker-count",onChange:this.onAutoScaleMinChange,min:this.props.minWorkers,max:this.props.maxWorkers})),h.default.createElement("div",{className:"mixed-worker-count worker-count-inner"},h.default.createElement(k.Label,null,"Max"),h.default.createElement(m.Input,{ref:v,disabled:this.props.disabled,inputID:n.WorkerInput.AUTO_SCALE_MAX_COUNT,value:this.state.autoScaleMaxWorkers.toString(),type:"number",inputClassName:"worker-count",
onChange:this.onAutoScaleMaxChange,min:this.state.mixedAutoScaleMinWorkers+1,max:this.props.maxWorkers}))):null,v=window.settings.enableClusterAutoScaling&&this.props.showAutoScaleCheckbox;return h.default.createElement("div",{className:"mixed-instances worker-count-outer"+(this.props.showAutoScaleInputs?" autoscale":"")},h.default.createElement(k.Label,null,h.default.createElement("span",null,"On Demand Driver"," "),h.default.createElement("span",{className:"reg-font-label"},"(",h.default.createElement(k.InstanceStats,
{memory:c.driverMemory,cores:c.driverCores,dbus:c.driverDBU}),")"," ",h.default.createElement(k.DBUTooltip,null))),h.default.createElement("hr",{className:"divider"}),h.default.createElement(k.Label,null,h.default.createElement("span",null,"Workers"," "),h.default.createElement("span",{className:"reg-font-label"},"(",h.default.createElement(k.InstanceStats,{memory:c.memory,cores:c.cores,dbus:c.workerDBU}),")"," ",h.default.createElement(k.DBUTooltip,null))),[d,e],v?p:null,this.props.showAutoScaleInputs?
g:null)}}]);return p}(n.WorkerInput)).defaultProps=Object.create(n.WorkerInput.defaultProps,{fixedOnDemand:{value:!1}})},{"../clusters/AutoScaleCheckbox.jsx":19,"../clusters/ClusterWorkersInput.jsx":34,"../clusters/Common.jsx":35,"../clusters/WorkerInput.jsx":53,"../forms/ReactFormElements.jsx":81,"../ui_building_blocks/Tooltip.jsx":294,react:1001}],44:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.OnDemandWorkerInput=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),
h=(l=a("react"))&&l.__esModule?l:{default:l},b=a("../clusters/AutoScaleCheckbox.jsx"),k=a("../clusters/Common.jsx"),d=a("../clusters/WorkerInput.jsx"),n=a("../forms/ReactFormElements.jsx");f.OnDemandWorkerInput=function(a){function m(a){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");a=(m.__proto__||Object.getPrototypeOf(m)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==
typeof a?this:a;a.onAutoScaleMaxChange=a.onAutoScaleMaxChange.bind(a);a.onChangeCount=a.onChangeCount.bind(a);return a}c(m,a);e(m,[{key:"onChangeCount",value:function(a){a=this.getValue(a);this.setState({workers:a});this.workersValidator(a);this.props.onChange(a,0);this.state.autoScaleMaxWorkers<=a&&(this.setState({autoScaleMaxWorkers:a+1}),this.onAutoScaleMaxChange(a+1))}},{key:"onAutoScaleMaxChange",value:function(a){var b=this.getValue(a);this.setState({autoScaleMaxWorkers:a,autoScaleMaxSpotWorkers:0});
this.workersValidator(b);this.props.onAutoScaleMaxChange(b,0)}},{key:"render",value:function(){var a=this,c=this.updateWorkerStats(),m=h.default.createElement(b.AutoScaleCheckbox,{disabled:this.props.disabled,defaultChecked:this.props.showAutoScaleInputs,onChange:this.props.toggleAutoScale,enableAutoScale:this.props.enableAutoScale,showWarning:this.props.showAutoScaleWarning}),e=function(b){return a.autoScaleMax=b},e=this.props.showAutoScaleInputs?h.default.createElement("div",{className:"ondemand-worker-count worker-count-inner"},
h.default.createElement(k.Label,null,"Max"),h.default.createElement(n.Input,{ref:e,disabled:this.props.disabled,inputID:d.WorkerInput.AUTO_SCALE_MAX_COUNT,value:this.state.autoScaleMaxWorkers.toString(),type:"number",inputClassName:"worker-count",onChange:this.onAutoScaleMaxChange,min:this.state.workers+1,max:this.props.maxWorkers})):null;return h.default.createElement("div",{className:"ondemand-instances worker-count-outer"},h.default.createElement(k.Label,null,h.default.createElement("span",null,
"On Demand Driver"," "),h.default.createElement("span",{className:"reg-font-label"},"(",h.default.createElement(k.InstanceStats,{memory:c.driverMemory,cores:c.driverCores,dbus:c.driverDBU}),")"," ",h.default.createElement(k.DBUTooltip,null))),h.default.createElement("hr",{className:"divider"}),h.default.createElement(k.Label,null,h.default.createElement("span",null,"Workers"," "),h.default.createElement("span",{className:"reg-font-label"},"(",h.default.createElement(k.InstanceStats,{memory:c.memory,
cores:c.cores,dbus:c.workerDBU}),")"," ",h.default.createElement(k.DBUTooltip,null))),h.default.createElement("div",{className:"ondemand-worker-count worker-count-inner"},h.default.createElement(k.Label,null,this.props.showAutoScaleInputs?"Min":"Size"),h.default.createElement(n.Input,{ref:function(b){return a.ondemand=b},disabled:this.props.disabled,inputID:d.WorkerInput.ONDEMAND_COUNT,defaultValue:this.props.workers.toString(),type:"number",inputClassName:"worker-count",onChange:this.onChangeCount,
readOnly:this.props.restrictedClusterCreation,min:this.props.minWorkers,max:this.props.maxWorkers})),this.props.showAutoScaleInputs?e:null,window.settings.enableClusterAutoScaling&&this.props.showAutoScaleCheckbox?m:null)}}]);return m}(d.WorkerInput)},{"../clusters/AutoScaleCheckbox.jsx":19,"../clusters/Common.jsx":35,"../clusters/WorkerInput.jsx":53,"../forms/ReactFormElements.jsx":81,react:1001}],45:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){var g=a.isElasticSparkCluster()?
1:0,c=b.isElasticSparkCluster()?1:0;g!==c?b=g===c?0:g>c?1:-1:(a=a.get("clusterName").toLowerCase(),b=b.get("clusterName").toLowerCase(),b=a===b?0:a>b?1:-1);return b}f=a("underscore");var h=c(f);f=a("react");var b=c(f);f=a("classnames");var k=c(f),d=a("../acl/AclUtils.jsx"),n=a("../acl/PermissionEditView.jsx");f=a("../acl/WorkspacePermissions");var m=c(f);f=a("../clusters/Cluster");var q=c(f);f=a("../clusters/ClusterList");f=c(f);var w=a("../clusters/Common.jsx"),p=a("../clusters/SparkInfoCell.jsx"),
r=a("../filetree/NavFunc.jsx"),t=c(r),r=a("../presence/Presence"),u=c(r),r=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),y=c(r),r=a("../ui_building_blocks/dialogs/ReactModalUtils"),A=c(r),r=a("../ui_building_blocks/dropdowns/DropdownMenuView.jsx"),g=c(r),r=a("../ui_building_blocks/icons/IconsForType"),v=c(r),z=a("../ui_building_blocks/Tooltip.jsx"),B=b.default.createClass({displayName:"MakeDashboardLink",propTypes:{defaultCluster:b.default.PropTypes.bool.isRequired,isElasticSparkCluster:b.default.PropTypes.bool.isRequired,
model:b.default.PropTypes.instanceOf(q.default).isRequired},onMakeDefault:function(){var a=this,b=this.props.model.get("clusterName");y.default.confirm({message:"Are you sure you want to make "+b+" the default cluster?",confirm:function(){window.recordEvent("clusterMadeDefault");u.default.pushHistory("Made "+b+" the default cluster");a.props.model.save({defaultCluster:!0},{patch:!0});a.render()}})},render:function(){var a=b.default.createElement(z.Tooltip,{text:"This cluster is used for table management operations (importing data and listing tables)"},
b.default.createElement("div",null,"Default")),g=b.default.createElement(z.Tooltip,{text:"If selected, this cluster will be used for table management operations (importing data and listing tables)"},b.default.createElement("div",null,b.default.createElement("a",{onClick:this.onMakeDefault,className:"make-default pointer"},"Make Default")));return this.props.defaultCluster?a:this.props.isElasticSparkCluster?null:g}}),G=b.default.createClass({displayName:"NodeList",propTypes:{clusterName:b.default.PropTypes.string.isRequired,
clusterId:b.default.PropTypes.string.isRequired,masterUrl:b.default.PropTypes.string.isRequired,workerUrls:b.default.PropTypes.array.isRequired,terminalUrl:b.default.PropTypes.string.isRequired,totalSpotInstances:b.default.PropTypes.number.isRequired,totalOnDemandInstances:b.default.PropTypes.number.isRequired},getInitialState:function(){return{showNodes:!1}},onClickNodes:function(){window.recordEvent("clusterListNodeExpanded",{clusterListNodeExpandState:!this.state.showNodes});this.setState({showNodes:!this.state.showNodes})},
metricFunction:function(a,b){window.recordEvent(a,b)},renderToggleArrow:function(a){var g=(0,k.default)({"node-arrow":!0,"fa fa-caret-right fa-fw":!this.state.showNodes,"fa fa-caret-down fa-fw":this.state.showNodes});return b.default.createElement("a",{className:"with-icon fa-fw spark-toggle",style:a},b.default.createElement("i",{className:g}))},renderOnDemandHeader:function(a){return b.default.createElement("div",null,this.renderToggleArrow(),b.default.createElement("span",{"data-ondemand-nodes-length":a},
a," On-demand"))},renderSpotHeader:function(a,g){return b.default.createElement("div",null,this.renderToggleArrow({visibility:0<g?"hidden":""}),b.default.createElement("span",{"data-spot-nodes-length":a},a," Spot"))},renderNodeArray:function(){var a=[],g=this.metricFunction.bind(this,"clusterDetailsVisited",{clusterDetailsTabVisited:"Spark Cluster UI",clusterDetailsTabVisitedOrigin:"ReactClusterListView"}),c=this.props.terminalUrl?b.default.createElement("a",{href:this.props.terminalUrl+"/master"},
"Terminal"):null;a.push(b.default.createElement("li",{key:this.props.clusterId+"-master",className:"driver"},b.default.createElement("a",{href:this.props.masterUrl,onClick:g},"Master")," ",c));for(g=0;g<this.props.workerUrls.length;g++){var c=this.props.workerUrls[g],d=this.metricFunction.bind(this,"clusterDetailsVisited",{clusterDetailsTabVisited:"Spark Cluster UI",clusterDetailsTabVisitedOrigin:"ReactClusterListView"}),m=this.props.terminalUrl?b.default.createElement("a",{href:this.props.terminalUrl+
"/worker"+g},"Terminal"):null;a.push(b.default.createElement("li",{key:c,className:"worker"},b.default.createElement("a",{href:c,onClick:d},"Worker ",g)," ",m))}return a},render:function(){return b.default.createElement("div",{"data-node-info":this.props.clusterName,"data-node-count":this.props.totalSpotInstances-this.props.totalOnDemandInstances},b.default.createElement("div",null,b.default.createElement("div",{onClick:this.onClickNodes,className:"node-container pointer"},0<this.props.totalOnDemandInstances?
this.renderOnDemandHeader(this.props.totalOnDemandInstances):null,0<this.props.totalSpotInstances?this.renderSpotHeader(this.props.totalSpotInstances,this.props.totalOnDemandInstances):null),b.default.createElement("ul",{className:"node-list"},this.state.showNodes?this.renderNodeArray():null)))}}),x=b.default.createClass({displayName:"Libraries",propTypes:{clusterId:b.default.PropTypes.string.isRequired,libraries:b.default.PropTypes.array.isRequired},libOverallStatus:function(){var a=this.props.libraries.length;
return 1===a?"1 library":0===a?"--":a.toString()+" libraries"},metricFunction:function(a,b){window.recordEvent(a,b)},render:function(){var a=this.metricFunction.bind(this,"clusterDetailsVisited",{clusterDetailsTabVisited:"Libraries",clusterDetailsTabVisitedOrigin:"ReactClusterListView"});return b.default.createElement("div",null,b.default.createElement("a",{href:w.ClusterUtil.getDetailsLinks(this.props.clusterId).libraries,"data-libraries-length":this.props.libraries.length,onClick:a},this.libOverallStatus()))}}),
D=b.default.createClass({displayName:"Notebooks",propTypes:{clusterId:b.default.PropTypes.string.isRequired,notebooks:b.default.PropTypes.array.isRequired},nbOverallStatus:function(){var a=this.props.notebooks.length;return 1===a?"1 notebook":0===a?"--":a.toString()+" notebooks"},metricFunction:function(a,b){window.recordEvent(a,b)},render:function(){var a=this.metricFunction.bind(this,"clusterDetailsVisited",{clusterDetailsTabVisited:"Notebooks",clusterDetailsTabVisitedOrigin:"ReactClusterListView"});
return b.default.createElement("div",null,b.default.createElement("a",{href:w.ClusterUtil.getDetailsLinks(this.props.clusterId).notebooks,"data-notebooks-length":this.props.notebooks.length,onClick:a},this.nbOverallStatus()))}}),E=b.default.createClass({displayName:"ClusterConfigure",propTypes:{model:b.default.PropTypes.instanceOf(q.default).isRequired,clusters:b.default.PropTypes.instanceOf(f.default).isRequired,userCanManage:b.default.PropTypes.bool,userCanAttach:b.default.PropTypes.bool,userCanRestart:b.default.PropTypes.bool},
getInitialState:function(){return{dropdownMenuVisible:!1}},configureCluster:function(){var a=this.props.model.get("clusterId");window.recordEvent("clusterDetailsVisited",{clusterDetailsTabVisited:"Configuration",clusterDetailsTabVisitedOrigin:"ReactClusterListView"});window.location.hash=w.ClusterUtil.getDetailsLinks(a).configuration},restartCluster:function(){var a=this.props.model.get("clusterId"),b=this.props.model.get("clusterName"),g=this;y.default.confirm({message:"Are you sure you want to restart "+
b+"?",confirm:function(){var b=g.props.clusters.findWhere({clusterId:a});b&&(window.recordEvent("clusterRestarted",{clusterRestartOrigin:"ReactClusterListView"}),b.restart())}})},maybeGetDialogTip:function(){return window.settings.enableRestrictedClusterCreation?null:b.default.createElement("div",{className:"dialog-tip"},w.ClusterUtil.reuseExistingInstancesTip())},terminateCluster:function(){var a=this.props.model.get("clusterId"),g=this.props.model.get("clusterName"),c=this,g=b.default.createElement("div",
null,"Are you sure you want to terminate the ",b.default.createElement("strong",null,g)," cluster?",b.default.createElement("br",null),this.maybeGetDialogTip());y.default.confirm({title:"Terminate Cluster",message:g,confirm:function(){w.ClusterUtil.deleteCluster(c.props.clusters,a)}})},openEditPermissionDialog:function(){var a=this.props.model;a.fetchWorkspaceAcl(function(){var g=b.default.createElement(n.PermissionEditView,{workspaceAcl:a.get("workspaceAcl")});A.default.createModal(g)})},toggleDropdownMenu:function(){window.recordEvent("clusterListDropdownOpened",
{clusterListDropdownOpenState:!this.state.dropdownMenuVisible});this.setState({dropdownMenuVisible:!this.state.dropdownMenuVisible})},getPermissionsTooltipLink:function(a,b){a=d.AclUtils.clusterAclsAvailable()?d.AclUtils.couldEnableClusterAcls()?E.enableAclsTooltipText:d.AclUtils.clusterAclsEnabled()&&!a?E.noPermissionsForActionText:E.enableAclsTooltipText:z.Tooltip.getGenericUpgradeElement("To enable cluster access control");return this.getTooltip(a,b,{arrowLeft:"87px",contentLeft:"-74px",width:"180px"})},
getEditPermissionsLink:function(){if(d.AclUtils.clusterAclsFeatureFlag()){var a=this.props.userCanManage&&d.AclUtils.clusterAclsEnabled(),g=b.default.createElement("a",{onClick:a?this.openEditPermissionDialog:null,disabled:!a,className:"permissions-button with-icon pointer","data-cluster-permissions":this.props.model.get("clusterName")},b.default.createElement("i",{className:"fa fa-fw fa-"+v.default.lock}),"Permissions");return a?g:this.getPermissionsTooltipLink(a,g)}},getTooltip:function(a,g,c){return b.default.createElement(z.Tooltip,
{text:a,customPosition:c},g)},shouldEnableLink:function(a){return d.AclUtils.clusterAclsEnabled()?!!this.props[a]:!0},getConfigureLink:function(){var a=this.shouldEnableLink("userCanManage"),g=b.default.createElement("a",{onClick:this.configureCluster,disabled:!a,className:"configure-button with-icon pointer","data-configure-cluster":this.props.model.get("clusterName")},b.default.createElement("i",{className:"fa fa-fw fa-"+v.default.setting}),"Configure");return a?g:this.getTooltip(E.noPermissionsForActionText,
g,{arrowLeft:"87px",contentLeft:"-74px",contentTop:"23px",width:"180px"})},getDropdownLink:function(){var a=b.default.createElement("a",{onClick:this.toggleDropdownMenu,className:"dropdown-button with-icon pointer action-button","data-cluster-actions":this.props.model.get("clusterName")},b.default.createElement("i",{className:"fa fa-fw fa-chevron-down"}));return this.getTooltip("More actions",a,{arrowLeft:"68px",contentLeft:"0px",width:"96px"})},getTerminateLink:function(a,g){var c=b.default.createElement("a",
{onClick:a?this.terminateCluster:null,disabled:!a,className:"remove-button with-icon pointer action-button","data-remove-cluster":this.props.model.get("clusterName")},b.default.createElement("i",{className:"fa fa-fw fa-times"}));a?(g="Terminate",a={arrowLeft:"38px",contentLeft:"-24px"}):a={arrowLeft:"108px",contentLeft:"-94px",width:"191px"};return this.getTooltip(g,c,a)},getRestartLink:function(a,g){var c=b.default.createElement("a",{onClick:a?this.restartCluster:null,disabled:!a,className:"restart-button with-icon pointer action-button",
"data-restart-cluster":this.props.model.get("clusterName")},b.default.createElement("i",{className:"fa fa-fw fa-"+v.default.refresh}));a?(g="Restart",a={arrowLeft:"32px",contentLeft:"9px"}):a={arrowLeft:"136px",contentLeft:"-95px",width:"191px"};return this.getTooltip(g,c,a)},getMoreActions:function(){var a=[];this.props.model.isConfigurable()&&a.push(this.getConfigureLink());d.AclUtils.clusterAclsFeatureFlag()&&this.props.model.canManagePermissions()&&a.push(this.getEditPermissionsLink());return a},
render:function(){var a=b.default.createElement(g.default,{classes:["configure-dropdown"],outsideClickHandler:this.toggleDropdownMenu,getItems:this.getMoreActions}),c=void 0,m=this.shouldEnableLink("userCanManage")&&this.props.model.canTerminate();m||(c=this.shouldEnableLink("userCanManage")?"This cluster is not terminable.":E.noPermissionsForActionText);var k=void 0,n=this.shouldEnableLink("userCanRestart")&&this.props.model.isRestartable();n||(k=this.shouldEnableLink("userCanRestart")?"This cluster is not restartable.":
E.noPermissionsForActionText);var h=d.AclUtils.clusterAclsFeatureFlag()&&this.props.model.canManagePermissions();return b.default.createElement("div",{className:"cluster-configure"},this.getTerminateLink(m,c),this.getRestartLink(n,k),this.props.model.isConfigurable()||h?this.getDropdownLink():null,this.state.dropdownMenuVisible?a:null)}});E.noPermissionsForActionText="You do not have permissions for this action; contact your administrator.";E.enableAclsTooltipText="Admin users can enable cluster-level ACLs in your Admin Console, under 'Access Control.'";
var F=b.default.createClass({displayName:"ClusterState",propTypes:{state:b.default.PropTypes.string.isRequired,displayState:b.default.PropTypes.string.isRequired,stateMessage:b.default.PropTypes.string.isRequired,isDriverHealthy:b.default.PropTypes.bool.isRequired},stateMessageIcon:function(){return h.default.isEmpty(this.props.stateMessage)?null:b.default.createElement("i",{className:"fa fa-exclamation-circle state-message-icon"})},render:function(){return b.default.createElement(z.Tooltip,{ref:"stateTooltip",
text:this.props.stateMessage},b.default.createElement("div",{className:"state-info"},b.default.createElement("span",null,this.props.displayState,this.stateMessageIcon())))}}),J=b.default.createClass({displayName:"ClusterRow",propTypes:{model:b.default.PropTypes.instanceOf(q.default).isRequired,nodeTypes:b.default.PropTypes.array.isRequired,clusters:b.default.PropTypes.instanceOf(f.default).isRequired},shouldShowSparkDriverInfo:function(a,b){return"Running"===a||"Reconfiguring"===a||"Terminated"===
a&&b},shouldShowNodeList:function(a){return"Running"===a||"Reconfiguring"===a},getStateIcon:function(a){if(d.AclUtils.clusterAclsEnabled()&&"Terminated"!==a){if(!this.props.model.permissionsHaveBeenFetched())return b.default.createElement("i",{className:"fa fa-circle status-icon icon-invisible"});if(!this.props.model.canAttach())return b.default.createElement("i",{className:"fa fa-"+v.default.ban+" status-icon icon-disabled"})}if("Running"===a)return b.default.createElement("i",{className:"fa fa-circle status-icon icon-green"});
if("Pending"===a||"Restarting"===a||"Reconfiguring"===a)return b.default.createElement("i",{className:"fa fa-spinner fa-spin status-icon icon-green"});if("Terminating"===a||"TerminateWhenReady"===a)return b.default.createElement("i",{className:"fa fa-spinner fa-spin status-icon icon-red"});if("Terminated"===a||"Error"===a)return b.default.createElement("i",{className:"fa fa-circle status-icon icon-gray"})},getSparkVersion:function(a){if(!a)return"Unspecified spark version";var g=h.default.where(window.settings.sparkVersions,
{key:a})[0];return g?b.default.createElement("span",null,g.displayName):b.default.createElement("span",null,"Spark Custom",b.default.createElement(z.Tooltip,{text:a},b.default.createElement("i",{className:"fa fa-question-circle"})))},goToClusterDetailsPage:function(a,b,g){var c=["A","I","BUTTON"];c.includes(g.target.tagName)||c.includes(g.target.parentNode.tagName)||"Pending"===b||(window.recordEvent("clusterDetailsVisited",{clusterDetailsTabVisited:"Configuration",clusterDetailsTabVisitedOrigin:"ReactClusterListView"}),
window.location.hash=w.ClusterUtil.getDetailsLinks(a).configuration)},getStateTooltipText:function(a,g){return d.AclUtils.clusterAclsEnabled()&&!this.props.model.canAttach()&&"Terminated"!==a?"You do not have attach permissions on this cluster; contact your administrator.":g?b.default.createElement("span",null,b.default.createElement("b",null,a),": ",g):a},render:function(){var a=this.props.model,g=this.getSparkVersion(a.get("sparkVersion")),c=a.get("clusterId"),m=a.get("clusterName"),n=a.get("state"),
h=a.get("nodeTypeId").id,e=a.get("driverNodeTypeId").id,v=a.displayState(),q=a.displayMemoryGB(),q=0<q?q.toString()+" GB":"",r=(0,k.default)({"cluster-row":!0,"cluster-pending":"Pending"===n,"cluster-terminating":"Terminating"===n||"TerminateWhenReady"===n,"cluster-running":"Running"===n,"cluster-restarting":"Restarting"===n,"cluster-reconfiguring":"Reconfiguring"===n,"cluster-terminated":"Terminated"===n,"cluster-error":"Error"===n,"cluster-unhealthy":!a.isDriverHealthy()}),u=this.getStateIcon(n),
t=w.ClusterUtil.getNodeType(h,this.props.nodeTypes),y=w.ClusterUtil.getNodeType(e,this.props.nodeTypes),y=b.default.createElement("div",null,b.default.createElement("div",null,"Driver: ",y.description,","),b.default.createElement("div",null,"Workers: ",t.description,","));h===e&&(y=b.default.createElement("div",null,t.description,","));for(var h=a.isElasticSparkCluster()?b.default.createElement("a",{href:a.elasticSparkRunUrl()},m):m,f=!window.settings.enableTerminal&&!window.prefs.get("enableTerminal")||
"Running"!==n&&"Reconfiguring"!==n?null:a.terminalUrl(),t=w.ClusterUtil.getDetailsLinks(c).sparkclusterui,A=w.ClusterUtil.getDetailsLinks(c).sparkui,l=w.ClusterUtil.getDetailsLinks(c).driverlogs,J=a.driverUrl(),e=null,ga=a.get("numWorkers"),ka=[],ra=0;ra<ga;ra++)ka.push(t+"/"+ra);this.shouldShowNodeList(n)&&(e=a.get("numActiveSpotExecutors"),ga=a.get("numWorkers")-e,a.get("isDriverOnSpot")?e+=1:ga+=1,e=b.default.createElement(G,{clusterName:m,clusterId:c,masterUrl:t+"/master",workerUrls:ka,terminalUrl:f,
totalOnDemandInstances:ga,totalSpotInstances:e}));t=null;this.shouldShowSparkDriverInfo(n,window.settings.sparkHistoryServerEnabled)&&(t=b.default.createElement(p.SparkInfoCell,{clusterName:m,driverUrl:A,oldDriverUrl:J,enableDriverLogsUI:window.settings.enableDriverLogsUI,driverLogsUrl:l,terminalUrl:f,viewName:"ReactClusterListView",userCanAttach:d.AclUtils.clusterAclsEnabled()?this.props.model.canAttach():!0}));J="Terminated"===n||"Error"===n;l="Terminating"===n;f=J?null:b.default.createElement(x,
{clusterId:c,libraries:a.get("libraries")});A=J?null:b.default.createElement(D,{clusterId:c,notebooks:a.get("notebooks")});l=J||l?null:b.default.createElement(B,{model:a,isElasticSparkCluster:a.isElasticSparkCluster(),defaultCluster:a.get("defaultCluster")});J=J?null:b.default.createElement(E,{userCanManage:this.props.model.canManage(),userCanAttach:this.props.model.canAttach(),userCanRestart:this.props.model.canRestart(),ref:"clusterConfigure",model:a,clusters:this.props.clusters});ka="";a.get("stateMessage")?
ka=a.get("stateMessage"):"Running"!==n||0!==a.workerUrls().length||window.settings.enableMiniClusters||(ka="Warning: a cluster needs at least 1 worker to run Spark commands or import tables.");g=b.default.createElement("span",{"data-spark-version":m},g);c=this.goToClusterDetailsPage.bind(this,c,n);return b.default.createElement("tr",{className:r,onClick:c},b.default.createElement("td",{className:"cluster-state-icon-cell","data-cluster-name":m,"data-cluster-state":n},b.default.createElement(z.Tooltip,
{text:this.getStateTooltipText(n,ka),customPosition:{contentLeft:"-1px",contentTop:"21px",arrowLeft:"11px"}},u)),b.default.createElement("td",{className:"cluster-name-cell","data-cluster-name":m,"data-cluster-state":n},h),b.default.createElement("td",{className:"cluster-memory-cell","data-cluster-memory":m},q),b.default.createElement("td",{className:"cluster-type-cell"},a.get("isAutoscaling")?"Autoscaling (beta), ":null,y,g),b.default.createElement("td",{className:"cluster-state-cell"},b.default.createElement(F,
{ref:"clusterState",state:n,displayState:v,isDriverHealthy:a.isDriverHealthy(),stateMessage:ka})),b.default.createElement("td",{className:"cluster-nodes-cell"},e),b.default.createElement("td",{className:"cluster-spark-cell"},t),b.default.createElement("td",{className:"cluster-libraries-cell"},f),b.default.createElement("td",{className:"cluster-notebooks-cell"},A),b.default.createElement("td",{className:"cluster-dashboard-cell"},l),b.default.createElement("td",{className:"cluster-configure-cell"},
J))}});a=b.default.createClass({displayName:"ReactClusterListView",propTypes:{clusters:b.default.PropTypes.instanceOf(f.default).isRequired,nodeTypes:b.default.PropTypes.array.isRequired},getInitialState:function(){return{userCanCreate:!0}},componentWillMount:function(){var a=this;d.AclUtils.clusterAclsEnabled()&&q.default.ROOT.fetchPermissions(function(){a.isMounted()&&a.setState({userCanCreate:q.default.ROOT.canCreateClusters()})})},componentDidMount:function(){var a=this,b=h.default.throttle(function(){a.isMounted()&&
a.forceUpdate()},1E3);this.props.clusters.on("add change remove reset",b,this);this.props.clusters.on("add reset",this._resetPermissions,this);this._resetPermissions()},_resetPermissions:function(){var a=this.bulkPermissionsFetch&&"pending"===this.bulkPermissionsFetch.state();d.AclUtils.clusterAclsEnabled()&&!a&&(a=this.props.clusters.models,0!==a.length&&(this.bulkPermissionsFetch=d.AclUtils.fetchAndSetPermissions(a,m.default.CLUSTER_TYPE)))},componentWillUnmount:function(){this.props.clusters.off(null,
null,this);this.bulkPermissionsFetch&&(this.bulkPermissionsFetch.abort(),this.bulkPermissionsFetch=null)},addCluster:function(){t.default.addCluster()},_getAddClusterLink:function(){var a=function(a){return b.default.createElement("h5",null,b.default.createElement("a",{onClick:this.addCluster,className:"btn btn-primary add-button cluster-add-button",id:"cluster-add-button",disabled:a},b.default.createElement("i",{className:"fa fa-plus"})," Create Cluster"))}.bind(this);return d.AclUtils.clusterAclsEnabled()?
this.state.userCanCreate?a(!1):b.default.createElement(z.Tooltip,{text:"You do not have permission to create clusters. Please contact your administrator."},a(!0)):a(!1)},renderTable:function(a,g){return b.default.createElement("table",{className:"table table-bordered-outer "+g},b.default.createElement("thead",null,b.default.createElement("tr",null,b.default.createElement("th",{className:"empty-header"}),b.default.createElement("th",{className:"span2 name-header"},"Name"),b.default.createElement("th",
{className:"span2"},"Memory"),b.default.createElement("th",{className:"span2"},"Type"),b.default.createElement("th",{className:"span2"},"State"),b.default.createElement("th",{className:"span3"},"Nodes"),b.default.createElement("th",{className:"span3"},"Spark"),b.default.createElement("th",{className:"span2"},"Libraries"),b.default.createElement("th",{className:"span2"},"Notebooks"),b.default.createElement("th",{className:"span3"},"Default Cluster"),b.default.createElement("th",{className:"span2"},
"Actions"))),b.default.createElement("tbody",{id:"clusters-table"},a))},prepareClusterRows:function(a,g){var c=this;g.sort(e);g.forEach(function(g){g=b.default.createElement(J,{ref:"clusterRow",key:g.get("clusterId"),clusters:c.props.clusters,nodeTypes:c.props.nodeTypes,model:g});a.push(g)})},getClustersForActiveList:function(a){return a.activeClusters().concat(a.terminatingClusters())},render:function(){var a=[],g=[],c=this.getClustersForActiveList(this.props.clusters),d=this.props.clusters.terminatedClusters();
this.prepareClusterRows(a,c);this.prepareClusterRows(g,d);return b.default.createElement("div",{id:"clusters-content"},b.default.createElement("div",{className:"cluster-header"},b.default.createElement("h3",null,"Active Clusters"),b.default.createElement("span",{className:"cluster-header-separator"}),this._getAddClusterLink(a.length)),this.renderTable(a,"table-clusters-active"),b.default.createElement("h3",null,"Terminated Clusters"),this.renderTable(g,"table-clusters-terminated"))}});l.exports.ReactClusterListView=
a;l.exports.ClusterConfigure=E;l.exports.ClusterRow=J},{"../acl/AclUtils.jsx":3,"../acl/PermissionEditView.jsx":6,"../acl/WorkspacePermissions":10,"../clusters/Cluster":21,"../clusters/ClusterList":32,"../clusters/Common.jsx":35,"../clusters/SparkInfoCell.jsx":48,"../filetree/NavFunc.jsx":72,"../presence/Presence":224,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/dialogs/ReactModalUtils":300,"../ui_building_blocks/dropdowns/DropdownMenuView.jsx":301,
"../ui_building_blocks/icons/IconsForType":304,classnames:411,react:1001,underscore:1021}],46:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("../forms/ReactFormElements.jsx");f=c(f);var h=a("../ui_building_blocks/Tooltip.jsx"),b=a("../urls/DbGuideUrls");a=a("../urls/DbGuideLinks");var k=c(a),d=f.default.TextArea,n=e.default.createClass({displayName:"ReactSparkConfElement",propTypes:{defaultSparkConfBlob:e.default.PropTypes.string,onChange:e.default.PropTypes.func.isRequired,
readOnly:e.default.PropTypes.bool},getDefaultProps:function(){return{defaultSparkConfBlob:""}},statics:{sparkConfInputId:"sparkConfInput",getSparkConfMap:function(a){if(!window.settings.enableSparkConfUI)return{};var b={};if(!a||""===a)return b;a=a.split("\n");for(var c in a)if(a.hasOwnProperty(c)){var d=a[c].trim();if(0!==d.length){var m=d.indexOf(" ");if(-1===m)b[d]="";else{var k=d.substring(0,m).trim(),d=d.substring(m+1).trim();b[k]=d}}}return b},makeSparkConfString:function(a){var b="";if(null!==
a)for(var c in a)a.hasOwnProperty(c)&&(""!==b&&(b+="\n"),b+=c+" "+a[c]);return b}},getInitialState:function(){return{feedback:"",sparkConfBlob:this.props.defaultSparkConfBlob}},setFeedback:function(a){this.setState({feedback:a})},validateSparkConf:function(a){if(!a||""===a)return this.setFeedback(""),!0;a=n.getSparkConfMap(a);if(window.settings.enableSparkConfValidation)for(var b in a)if(a.hasOwnProperty(b)){var c=a[b],d=[],k=window.settings.configurableSparkOptionsSpec,m;for(m in k)if(k.hasOwnProperty(m)){var h=
k[m],e=new RegExp("^"+h.valuePattern+"$");if(0===b.search(new RegExp("^"+h.keyPattern+"$")))if(0===c.search(e))d.push(h);else return this.setFeedback("Invalid value <strong>"+c+"</strong> for <strong>"+b+"</strong>"),!1}if(0===d.length)return this.setFeedback("Unsupported spark configuration option: <strong>"+b+"</strong>"),!1}this.setFeedback("");return!0},updateSparkConf:function(a){this.setState({sparkConfBlob:a});if(this.props.onChange)this.props.onChange(n.getSparkConfMap(a));this.validateSparkConf(a)},
render:function(){var a=e.default.createElement("span",null,"For the list of Spark config options that we currently support, see the",e.default.createElement("a",{href:b.DbGuideUrls.getDbGuideUrl(k.default.CLUSTERS_URL),target:"_blank"},"Clusters section")," of the Databricks Guide"),a=""===this.state.feedback?null:e.default.createElement("div",{className:"spark-conf-feedback-tooltip"},e.default.createElement(h.Tooltip,{text:a},e.default.createElement("i",{className:"fa fa-fw fa-exclamation-circle"})),
e.default.createElement("span",{className:"spark-conf-feedback cluster-dialog-element",dangerouslySetInnerHTML:{__html:this.state.feedback}}));return e.default.createElement("div",null,e.default.createElement("label",{className:"unclickable cluster-dialog-label"},"Spark Config"),e.default.createElement("div",null,e.default.createElement(d,{ref:"textArea",textareaID:n.sparkConfInputId,defaultValue:this.state.sparkConfBlob,placeholder:"Enter your Spark configuration options here.\nExample:\nspark.speculation true\nspark.kryo.registrator my.package.MyRegistrator\nspark.driver.extraJavaOptions -verbose:gc -XX:+PrintGCDetails",
onChange:this.updateSparkConf,textareaClassName:"control-field spark-conf-text-area",readOnly:this.props.readOnly?this.props.readOnly:null})),a)}});l.exports=n},{"../forms/ReactFormElements.jsx":81,"../ui_building_blocks/Tooltip.jsx":294,"../urls/DbGuideLinks":320,"../urls/DbGuideUrls":321,react:1001}],47:[function(a,l,f){function c(a){return e.default.createElement("iframe",{id:"terminal-iframe",src:a.uri,frameBorder:"0",height:"95%",width:"100%"})}var e=(a=a("react"))&&a.__esModule?a:{default:a};
c.propTypes={uri:e.default.PropTypes.string.isRequired};l.exports=c},{react:1001}],48:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.SparkInfoCell=void 0;var e=function(){function a(a,
b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&l.__esModule?l:{default:l},b=a("../acl/AclUtils.jsx"),k=(l=a("../acl/WorkspacePermissions"))&&l.__esModule?l:{default:l},d=a("../ui_building_blocks/Tooltip.jsx");a=f.SparkInfoCell=function(a){function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");
var a=(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}c(m,a);e(m,[{key:"metricFunction",value:function(a,b){window.recordEvent(a,b)}},{key:"_getSparkUiMetricFunc",value:function(){return this.metricFunction.bind(this,"clusterDetailsVisited",{clusterDetailsTabVisited:"Spark UI",clusterDetailsTabVisitedOrigin:this.props.viewName})}},
{key:"_shouldDisableSparkUILink",value:function(){return b.AclUtils.clusterAclsEnabled()&&!this.props.userCanAttach}},{key:"_getSparkUILink",value:function(){var a=this._shouldDisableSparkUILink(),b=h.default.createElement("a",{className:"spark-ui-link",href:this.props.driverUrl,onClick:a?null:this._getSparkUiMetricFunc(),disabled:a},"Spark UI");a&&(b=h.default.createElement(d.Tooltip,{text:k.default.NO_VIEW_PERMISSIONS_WARNING},b));return b}},{key:"_getDriverLogsUILink",value:function(){var a=this.metricFunction.bind(this,
"clusterDetailsVisited",{clusterDetailsTabVisited:"Driver Logs",clusterDetailsTabVisitedOrigin:this.props.viewName}),b=this._shouldDisableSparkUILink(),a=h.default.createElement("a",{className:"spark-logs-link",href:this.props.driverLogsUrl,onClick:b?null:a,disabled:b},"Logs");b&&(a=h.default.createElement(d.Tooltip,{text:k.default.NO_VIEW_PERMISSIONS_WARNING},a));return this.props.enableDriverLogsUI?a:null}},{key:"render",value:function(){var a=this.props.terminalUrl?h.default.createElement("div",
null,h.default.createElement("a",{href:this.props.terminalUrl+"/driver"},"Terminal")):null;return h.default.createElement("div",{"data-spark-info":this.props.clusterName,className:"spark-info-cell"},h.default.createElement("div",null,this._getSparkUILink()),a,h.default.createElement("div",null,this._getDriverLogsUILink()),h.default.createElement("a",{className:"hidden old-spark-ui-link",href:this.props.oldDriverUrl}))}}]);return m}(h.default.Component);a.propTypes={clusterName:h.default.PropTypes.string.isRequired,
driverUrl:h.default.PropTypes.string.isRequired,enableDriverLogsUI:h.default.PropTypes.bool.isRequired,driverLogsUrl:h.default.PropTypes.string,oldDriverUrl:h.default.PropTypes.string,terminalUrl:h.default.PropTypes.string,userCanAttach:h.default.PropTypes.bool,viewName:h.default.PropTypes.string};a.defaultProps={userCanAttach:!0}},{"../acl/AclUtils.jsx":3,"../acl/WorkspacePermissions":10,"../ui_building_blocks/Tooltip.jsx":294,react:1001}],49:[function(a,l,f){function c(a,b){if("function"!==typeof b&&
null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.SparkVersionInput=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,
d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("lodash"))&&l.__esModule?l:{default:l},b=(l=a("react"))&&l.__esModule?l:{default:l},k=a("../clusters/Common.jsx"),d=a("../forms/ReactFormElements.jsx");a=f.SparkVersionInput=function(a){function n(a){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");a=(n.__proto__||Object.getPrototypeOf(n)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.onVersionChange=a.onVersionChange.bind(a);a.state={version:a.props.defaultSparkVersion.key};return a}c(n,a);e(n,[{key:"onVersionChange",value:function(a){this.setState({version:a});if(this.props.onChange)this.props.onChange(a)}},{key:"getVersionsToShow",value:function(){var a=this,b=[],c={};b.push(this.props.defaultSparkVersion);c[this.props.defaultSparkVersion.displayName]=!0;h.default.sortBy(this.props.sparkVersions,"displayName").forEach(function(d){!a.props.showHiddenSparkVersions&&
!d.customerVisible||c[d.displayName]||(b.push(d),c[d.displayName]=!0)});return b}},{key:"getSparkOptions",value:function(){var a=this,b=[];this.getVersionsToShow().forEach(function(c){b.push({value:c.key,label:c.displayName+(c.deprecated?" (deprecated)":"")+(c.packageLabel||a.props.hideMissingSparkPackageWarning?"":" [package missing]")})});return b}},{key:"renderCudaEula",value:function(){return this.props.gpuWorkloadIsSelected?b.default.createElement("span",{className:"nvidia-licence-info"},"NVIDIA EULA ",
" ",b.default.createElement(k.CudaEulaTooltip,null)):null}},{key:"render",value:function(){var a=this,c=this.getSparkOptions(),m=this.renderCudaEula();return b.default.createElement("div",{className:"spark-version section-padded"},b.default.createElement("div",null,b.default.createElement(k.Label,null,b.default.createElement("span",null,"Apache Spark Version "),b.default.createElement("span",{className:"reg-font-label"},b.default.createElement(k.SparkImageTooltip,null))),b.default.createElement("div",
null,b.default.createElement(d.Select,{ref:function(b){return a.sparkVersionSelect=b},selectID:n.SPARK_VERSION_REF,options:c,selectClassName:"spark-version-input control-field cluster-dialog-element",onChange:this.onVersionChange,value:this.state.version}),m)))}}]);return n}(b.default.Component);a.SPARK_VERSION_REF="clusterSparkVersion";a.propTypes={defaultSparkVersion:b.default.PropTypes.object.isRequired,hideMissingSparkPackageWarning:b.default.PropTypes.bool,onChange:b.default.PropTypes.func,showHiddenSparkVersions:b.default.PropTypes.bool,
sparkVersions:b.default.PropTypes.array.isRequired,gpuWorkloadIsSelected:b.default.PropTypes.bool.isRequired};a.defaultProps={hideMissingSparkPackageWarning:!0,showHiddenSparkVersions:!1}},{"../clusters/Common.jsx":35,"../forms/ReactFormElements.jsx":81,lodash:842,react:1001}],50:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.SparkVersionUtils=void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var k=c[b];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in
k&&(k.writable=!0);Object.defineProperty(a,k.key,k)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("lodash"))&&a.__esModule?a:{default:a};f.SparkVersionUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"resolveSparkVersion",value:function(a){var b=void 0;for(b in window.settings.sparkVersions)if(window.settings.sparkVersions.hasOwnProperty(b)){var c=window.settings.sparkVersions[b];if(c.key===a)return c}return null}},
{key:"getDefaultSparkVersion",value:function(){var b=window.prefs.get("defaultSparkVersion");return null===a.resolveSparkVersion(b)?window.settings.defaultSparkVersion.key:b}},{key:"setDefaultSparkVersion",value:function(a){window.prefs.set("defaultSparkVersion",a)}},{key:"formatSparkVersion",value:function(a){if(!a)return"Unspecified spark version";var b=e.default.where(window.settings.sparkVersions,{key:a})[0];return b?b.displayName:"Spark '"+a+"'"}}]);return a}()},{lodash:842}],51:[function(a,
l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.SpotWorkerInput=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=
!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&l.__esModule?l:{default:l},b=a("../clusters/AutoScaleCheckbox.jsx"),k=a("../clusters/Common.jsx"),d=a("../clusters/WorkerInput.jsx"),n=a("../forms/ReactFormElements.jsx");f.SpotWorkerInput=function(a){function m(a){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");a=(m.__proto__||Object.getPrototypeOf(m)).call(this,a);
if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.onAutoScaleMaxChange=a.onAutoScaleMaxChange.bind(a);a.onChangeCount=a.onChangeCount.bind(a);return a}c(m,a);e(m,[{key:"onChangeCount",value:function(a){a=this.getValue(a);this.setState({spotWorkers:a});this.spotWorkersValidator(a);this.props.onChange(0,a);this.state.autoScaleMaxSpotWorkers<=a&&(this.setState({autoScaleMaxSpotWorkers:a+1}),this.onAutoScaleMaxChange(a+
1))}},{key:"onAutoScaleMaxChange",value:function(a){a=this.getValue(a);this.setState({autoScaleMaxWorkers:0,autoScaleMaxSpotWorkers:a});this.spotWorkersValidator(a);this.props.onAutoScaleMaxChange(0,a)}},{key:"render",value:function(){var a=this,c=this.updateWorkerStats(),m=h.default.createElement(b.AutoScaleCheckbox,{disabled:this.props.disabled,defaultChecked:this.props.showAutoScaleInputs,onChange:this.props.toggleAutoScale,enableAutoScale:this.props.enableAutoScale,showWarning:this.props.showAutoScaleWarning}),
e=function(b){return a.autoScaleMaxSpot=b},e=this.props.showAutoScaleInputs?h.default.createElement("div",{className:"spot-worker-count worker-count-inner"},h.default.createElement(k.Label,null,"Max"),h.default.createElement(n.Input,{ref:e,disabled:this.props.disabled,inputID:d.WorkerInput.AUTO_SCALE_MAX_COUNT,value:this.state.autoScaleMaxSpotWorkers.toString(),type:"number",inputClassName:"worker-count",onChange:this.onAutoScaleMaxChange,min:this.state.spotWorkers+1,max:this.props.maxWorkers})):
null;return h.default.createElement("div",{className:"spot-instances worker-count-outer"},h.default.createElement(k.Label,null,h.default.createElement("span",null,"Spot Driver"," "),h.default.createElement("span",{className:"reg-font-label"},"(",h.default.createElement(k.InstanceStats,{memory:c.driverMemory,cores:c.driverCores,dbus:c.driverDBU}),")"," ",h.default.createElement(k.DBUTooltip,null))),h.default.createElement("hr",{className:"divider"}),h.default.createElement(k.Label,null,h.default.createElement("span",
null,"Workers"," "),h.default.createElement("span",{className:"reg-font-label"},"(",h.default.createElement(k.InstanceStats,{memory:c.memory,cores:c.cores,dbus:c.workerDBU}),")"," ",h.default.createElement(k.DBUTooltip,null))),h.default.createElement("div",{className:"spot-worker-count worker-count-inner"},h.default.createElement(k.Label,null,this.props.showAutoScaleInputs?"Min":"Size"),h.default.createElement(n.Input,{ref:function(b){return a.spot=b},disabled:this.props.disabled,inputID:d.WorkerInput.SPOT_COUNT,
defaultValue:this.props.spotWorkers.toString(),type:"number",inputClassName:"worker-count",onChange:this.onChangeCount,min:this.props.minWorkers,max:this.props.maxWorkers})),this.props.showAutoScaleInputs?e:null,window.settings.enableClusterAutoScaling&&this.props.showAutoScaleCheckbox?m:null)}}]);return m}(d.WorkerInput)},{"../clusters/AutoScaleCheckbox.jsx":19,"../clusters/Common.jsx":35,"../clusters/WorkerInput.jsx":53,"../forms/ReactFormElements.jsx":81,react:1001}],52:[function(a,l,f){function c(a){return a&&
a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.SshSettings=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("react");var b=c(l),k=a("../clusters/Common.jsx");l=a("../forms/ReactFormElements.jsx");l=c(l);var d=a("../urls/DbGuideUrls");a=a("../urls/DbGuideLinks.js");var n=c(a),m=l.default.TextArea;f=f.SshSettings=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,
a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.updateSshKey=a.updateSshKey.bind(a);a.state={sshKeyBlob:a.props.defaultSshKeyBlob};return a}e(c,a);h(c,[{key:"updateSshKey",value:function(a){var b=[];a&&b.push(a);this.setState({sshKeyBlob:b});if(this.props.onChange)this.props.onChange(b)}},{key:"render",value:function(){var a=d.DbGuideUrls.getDbGuideUrl(n.default.SSH_URL),a=b.default.createElement("a",
{href:a,target:"_blank"},"Learn more");return b.default.createElement("div",{className:"ssh-section"},b.default.createElement("div",{className:"ssh-warning"},"This feature is supported only with the beta node types. ",a),b.default.createElement(k.Label,null,"SSH Public Key")," ",b.default.createElement(k.SshSetupTooltip,{customPosition:{contentLeft:"0px"}}),b.default.createElement("div",null,b.default.createElement(m,{ref:"sshKey",textareaClassName:"control-field ssh-key-text-area",defaultValue:this.state.sshKeyBlob[0]?
this.state.sshKeyBlob[0]:"",placeholder:"ssh-rsa <public_key> email@example.com",onChange:this.updateSshKey})))}}]);return c}(b.default.Component);f.defaultProps={defaultSshKeyBlob:[]};f.propTypes={defaultSshKeyBlob:b.default.PropTypes.array,onChange:b.default.PropTypes.func}},{"../clusters/Common.jsx":35,"../forms/ReactFormElements.jsx":81,"../urls/DbGuideLinks.js":320,"../urls/DbGuideUrls":321,react:1001}],53:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.WorkerInput=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,k){c&&a(b.prototype,c);k&&a(b,k);return b}}();
l=(l=a("react"))&&l.__esModule?l:{default:l};var h=a("../clusters/Common.jsx"),b=a("../js_polyfill/NumberUtils");a=f.WorkerInput=function(a){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=(d.__proto__||Object.getPrototypeOf(d)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.resetState=a.resetState.bind(a);a.state=a.getDefaultState();
return a}c(d,a);e(d,[{key:"getDefaultState",value:function(){return{workers:this.props.workers,spotWorkers:this.props.spotWorkers,autoScaleMaxWorkers:this.props.autoScaleMaxWorkers,autoScaleMaxSpotWorkers:this.props.autoScaleMaxSpotWorkers,mixedAutoScaleMinWorkers:this.props.mixedAutoScaleMinWorkers,autoScaleFirstOnDemandWorkers:this.props.autoScaleFirstOnDemandWorkers,workersValid:!0,spotWorkersValid:!0}}},{key:"resetState",value:function(){this.setState(this.getDefaultState())}},{key:"getValue",
value:function(a){return parseInt(a,10)||0}},{key:"isValid",value:function(){return this.state.workersValid&&this.state.spotWorkersValid}},{key:"validateNumber",value:function(a){return""!==a&&b.NumberUtils.isSimpleInteger(a)&&Number(a)>=this.props.minWorkers&&Number(a)<=this.props.maxWorkers}},{key:"workersValidator",value:function(a){a=this.validateNumber(a);this.setState({workersValid:a});this.props.validateCallback&&this.props.validateCallback(a);return a}},{key:"spotWorkersValidator",value:function(a){a=
this.validateNumber(a);this.setState({spotWorkersValid:a});this.props.validateCallback&&this.props.validateCallback(a);return a}},{key:"updateWorkerStats",value:function(){var a=Number(this.state.workers)+Number(this.state.spotWorkers)||0;this.props.showAutoScaleInputs&&"mixed"===this.props.instanceType&&(a=this.state.mixedAutoScaleMinWorkers);var b=Math.floor(h.ClusterUtil.workersToMemoryGB(a,this.props.nodeType)),c=h.ClusterUtil.workersToCores(a,this.props.nodeType),a=h.ClusterUtil.getDBU(this.props.nodeType,
a),d=h.ClusterUtil.getDBU(this.props.driverNodeType,1);if(this.props.showAutoScaleInputs)var k=Number(this.state.autoScaleMaxWorkers)+Number(this.state.autoScaleMaxSpotWorkers)||0,e=Math.floor(h.ClusterUtil.workersToMemoryGB(k,this.props.nodeType)),t=h.ClusterUtil.workersToCores(k,this.props.nodeType),k=h.ClusterUtil.getDBU(this.props.nodeType,k),b=b+"-"+e,c=c+"-"+t,a=a+"-"+k;return{memory:b,cores:c,workerDBU:a,driverMemory:Math.floor(h.ClusterUtil.workersToMemoryGB(1,this.props.driverNodeType)),
driverCores:h.ClusterUtil.workersToCores(1,this.props.driverNodeType),driverDBU:d}}}]);return d}(l.default.Component);a.SPOT_COUNT="clusterSpotCount";a.ONDEMAND_COUNT="clusterOndemandCount";a.AUTO_SCALE_MAX_COUNT="clusterAutoScaleMaxCount";a.AUTO_SCALE_MIN_COUNT="clusterAutoScaleMinCount";a.propTypes={mixedAutoScaleMinWorkers:l.default.PropTypes.number,autoScaleFirstOnDemandWorkers:l.default.PropTypes.number,autoScaleMaxWorkers:l.default.PropTypes.number,autoScaleMaxSpotWorkers:l.default.PropTypes.number,
maxWorkers:l.default.PropTypes.number,minWorkers:l.default.PropTypes.number,onAutoScaleMinChange:l.default.PropTypes.func,onAutoScaleMaxChange:l.default.PropTypes.func,instanceType:l.default.PropTypes.string,validateCallback:l.default.PropTypes.func,workers:l.default.PropTypes.number,enableAutoScale:l.default.PropTypes.bool,showAutoScaleCheckbox:l.default.PropTypes.bool,showAutoScaleInputs:l.default.PropTypes.bool,toggleAutoScale:l.default.PropTypes.func,showAutoScaleWarning:l.default.PropTypes.bool,
spotWorkers:l.default.PropTypes.number,nodeType:l.default.PropTypes.object,driverNodeType:l.default.PropTypes.object,restrictedClusterCreation:l.default.PropTypes.bool};a.defaultProps={enableAutoScale:!0,showAutoScaleCheckbox:!1,showAutoScaleInputs:!1,mixedAutoScaleMinWorkers:8,autoScaleMaxWorkers:20,autoScaleMaxSpotWorkers:20,workers:0,spotWorkers:0,showAutoScaleWarning:!1,minWorkers:0,maxWorkers:1E5}},{"../clusters/Common.jsx":35,"../js_polyfill/NumberUtils":104,react:1001}],54:[function(a,l,f){function c(a,
b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",
{value:!0});f.AwsTagList=void 0;var h=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,k=!1,m=void 0;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(z){k=!0,m=z}finally{try{if(!d&&g["return"])g["return"]()}finally{if(k)throw m;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=
b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),k=(l=a("react"))&&l.__esModule?l:{default:l},d=(l=a("lodash"))&&l.__esModule?l:{default:l},n=a("./ClusterTagsConstants"),m=a("./EditableAwsTagListView.jsx"),q=a("./UneditableAwsTagListView.jsx"),w=a("../../ui_building_blocks/tables/ReactTableUtils.jsx");a=f.AwsTagList=function(a){function p(a){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");
var b=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,a));b.addTag=b.addTag.bind(b);b.deleteTag=b.deleteTag.bind(b);b.keyInputValidator=b.keyInputValidator.bind(b);b.valueInputValidator=b.valueInputValidator.bind(b);b.keyOnChange=b.keyOnChange.bind(b);b.keyOnBlur=b.keyOnBlur.bind(b);b.valueOnChange=b.valueOnChange.bind(b);b.valueOnBlur=b.valueOnBlur.bind(b);b.keyKeyDownHandler=b.keyKeyDownHandler.bind(b);b.valueKeyDownHandler=b.valueKeyDownHandler.bind(b);b.MIN_KEY_LENGTH=window.settings&&
window.settings.minClusterTagKeyLength||n.ClusterTagsFallbackConstants.minClusterTagKeyLength;b.MAX_KEY_LENGTH=window.settings&&window.settings.maxClusterTagKeyLength||n.ClusterTagsFallbackConstants.maxClusterTagKeyLength;b.MIN_VALUE_LENGTH=n.ClusterTagsFallbackConstants.minClusterTagValueLength;b.MAX_VALUE_LENGTH=window.settings&&window.settings.maxClusterTagValueLength||n.ClusterTagsFallbackConstants.maxClusterTagValueLength;b.shouldShowDefaultTags=window.settings&&window.settings.enableUserVisibleDefaultTags;
b.keySortFunc=b.getSortFunc(function(a){return b.state.awsTags[a].key});b.valueSortFunc=b.getSortFunc(function(a){return b.state.awsTags[a].value});b.tagIdGenerator=0;a=b.getInitialTags();a=h(a,3);b.state={awsTags:a[0],sortedEditableTagIds:a[1],sortedUneditableTagIds:a[2]};return b}e(p,a);b(p,[{key:"getInitialTags",value:function(){var a=this,b={},c=[],d=[];(this.shouldShowDefaultTags?this.getDefaultTags():[]).forEach(function(c){c.isEditable=!1;a.incrementTagIdAndAddTag(c,b,d)});this.props.customTags.forEach(function(g){g.isEditable=
!0;a.incrementTagIdAndAddTag(g,b,a.props.editable?c:d)});return[b,c,d]}},{key:"getDefaultTags",value:function(){if(this.props.defaultTags)return this.props.defaultTags;var a=d.default.cloneDeep(n.ClusterTagsConstants.defaultTags);a[1].value=window.settings&&window.settings.user;return a}},{key:"setStateAndReportChanges",value:function(a){this.setState(a);var b=a.awsTags||this.state.awsTags;a={};a.customTags=Object.keys(b).filter(function(a){return b[a].isEditable}).map(function(a){return b[a]});this.props.onChange(a)}},
{key:"addTag",value:function(a){var b=d.default.cloneDeep(this.state.awsTags),c=d.default.cloneDeep(this.state.sortedEditableTagIds);a.isEditable=!0;this.incrementTagIdAndAddTag(a,b,c);this.setStateAndReportChanges({awsTags:b,sortedEditableTagIds:c})}},{key:"deleteTag",value:function(a){var b=d.default.cloneDeep(this.state.awsTags),c=d.default.cloneDeep(this.state.sortedEditableTagIds),k=a.id;delete b[k];d.default.remove(c,function(a){return a===k});this.setStateAndReportChanges({awsTags:b,sortedEditableTagIds:c})}},
{key:"incrementTagIdAndAddTag",value:function(a,b,c){a.id=this.tagIdGenerator;b[this.tagIdGenerator]=a;c.push(a.id);this.tagIdGenerator++}},{key:"keyInputValidator",value:function(a){var b=this.state.awsTags,c=d.default.every(Object.keys(b),function(c){return b[c].key!==a}),k=n.ClusterTagsConstants.defaultTagIds.concat(n.ClusterTagsConstants.internalTagIds),g=a.startsWith(n.ClusterTagsConstants.awsPrefix),m=n.ClusterTagsConstants.allowedCharactersRegex.test(a);return a.length>=this.MIN_KEY_LENGTH&&
a.length<=this.MAX_KEY_LENGTH&&c&&!k.includes(a)&&!g&&m}},{key:"valueInputValidator",value:function(a){var b=a.startsWith(n.ClusterTagsConstants.awsPrefix),c=n.ClusterTagsConstants.allowedCharactersRegex.test(a);return a.length>=this.MIN_VALUE_LENGTH&&a.length<=this.MAX_VALUE_LENGTH&&!b&&c}},{key:"changeKeyAndGetAwsTagsState",value:function(a,b){var c=d.default.cloneDeep(this.state.awsTags);c[b.id].key=a;c[b.id].keyInvalid=!this.keyInputValidator(a);return c}},{key:"keyOnChange",value:function(a,
b){a=this.changeKeyAndGetAwsTagsState(a.target.value,b);a[b.id].keyInvalid?this.editableView.showKeyTooltip():this.editableView.hideKeyTooltip();this.setState({awsTags:a,oldTags:this.state.oldTags?this.state.oldTags:this.state.awsTags})}},{key:"keyOnBlur",value:function(a,b){a=b.key.trim();a=b.key!==a?this.changeKeyAndGetAwsTagsState(a,b):this.state.awsTags;this.setStateAndReportChanges({awsTags:a[b.id].keyInvalid?this.state.oldTags:a,oldTags:void 0});this.editableView.hideKeyTooltip()}},{key:"changeValueAndGetAwsTagsState",
value:function(a,b){var c=d.default.cloneDeep(this.state.awsTags);c[b.id].value=a;c[b.id].valueInvalid=!this.valueInputValidator(a);return c}},{key:"valueOnChange",value:function(a,b){a=this.changeValueAndGetAwsTagsState(a.target.value,b);a[b.id].valueInvalid?this.editableView.showValueTooltip():this.editableView.hideValueTooltip();this.setState({awsTags:a,oldTags:this.state.oldTags?this.state.oldTags:this.state.awsTags})}},{key:"valueOnBlur",value:function(a,b){a=b.value.trim();a=b.value!==a?this.changeValueAndGetAwsTagsState(a,
b):this.state.awsTags;this.setStateAndReportChanges({awsTags:a[b.id].valueInvalid?this.state.oldTags:a,oldTags:void 0});this.editableView.hideValueTooltip()}},{key:"keyKeyDownHandler",value:function(a,b){13===a.keyCode&&(this.keyOnBlur(a,b),this.editableView.hideKeyTooltip(),a.target.blur())}},{key:"valueKeyDownHandler",value:function(a,b){13===a.keyCode&&(this.valueOnBlur(a,b),this.editableView.hideValueTooltip(),a.target.blur())}},{key:"getSortFunc",value:function(a){var b=this;return function(c){var k=
d.default.cloneDeep(b.state.sortedEditableTagIds),g=d.default.cloneDeep(b.state.sortedUneditableTagIds),k=k.sort(w.CompareTos.getSimpleCompareTo(a,c));c=g.sort(w.CompareTos.getSimpleCompareTo(a,c));b.setState({sortedEditableTagIds:k,sortedUneditableTagIds:c})}}},{key:"render",value:function(){var a=this;return this.props.editable?k.default.createElement(m.EditableAwsTagListView,{ref:function(b){return a.editableView=b},rows:this.state.awsTags,rowOrder:this.state.sortedUneditableTagIds.concat(this.state.sortedEditableTagIds),
addTagFunc:this.addTag,deleteFunc:this.deleteTag,keyInputValidator:this.keyInputValidator,keyOnChangeHandler:this.keyOnChange,keyOnBlurHandler:this.keyOnBlur,keyKeyDownHandler:this.keyKeyDownHandler,valueKeyDownHandler:this.valueKeyDownHandler,keySortFunc:this.keySortFunc,valueInputValidator:this.valueInputValidator,valueOnChangeHandler:this.valueOnChange,valueOnBlurHandler:this.valueOnBlur,valueSortFunc:this.valueSortFunc,minKeyLength:this.MIN_KEY_LENGTH,maxKeyLength:this.MAX_KEY_LENGTH,minValueLength:this.MIN_VALUE_LENGTH,
maxValueLength:this.MAX_VALUE_LENGTH,enableUserVisibleDefaultTags:this.shouldShowDefaultTags}):k.default.createElement(q.UneditableAwsTagListView,{rows:this.state.awsTags,rowOrder:this.state.sortedUneditableTagIds,keySortFunc:this.keySortFunc,valueSortFunc:this.valueSortFunc})}}]);return p}(k.default.Component);a.propTypes={editable:k.default.PropTypes.bool,customTags:k.default.PropTypes.array.isRequired,defaultTags:k.default.PropTypes.array,onChange:k.default.PropTypes.func};a.defaultProps={editable:!1}},
{"../../ui_building_blocks/tables/ReactTableUtils.jsx":307,"./ClusterTagsConstants":56,"./EditableAwsTagListView.jsx":57,"./UneditableAwsTagListView.jsx":58,lodash:842,react:1001}],55:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.AwsTagListViewConstants={KEY_COL_WIDTH:184,VALUE_COL_WIDTH:184,ACTIONS_COL_WIDTH:55,DISABLED_TOOLTIP_TEXT:"Tags are not supported for the node type you have selected. Select beta node types for both worker and driver to enable tags.",ALLOWABLE_CHARS_MSG:"Contain letters, spaces, numbers, or the characters = + - = . _ : / @",
NO_AWS_PREFIX_MSG:'Not start with "aws:"',NO_KEY_DUPLICATE_MSG:"Not duplicate an existing key",REACHED_MAX_TAGS_TEXT:"Reached maximum number of tags."}},{}],56:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.ClusterTagsFallbackConstants={maxCustomTags:45,minClusterTagKeyLength:1,maxClusterTagKeyLength:127,minClusterTagValueLength:0,maxClusterTagValueLength:255};f.ClusterTagsConstants={defaultTagIds:["Vendor","Creator","ClusterName","ClusterId"],internalTagIds:["Name"],defaultTags:[{key:"Vendor",
value:"Databricks"},{key:"Creator"},{key:"ClusterName",value:"<Generated after creation>"},{key:"ClusterId",value:"<Generated after creation>"}],awsPrefix:"aws:",allowedCharactersRegex:/^[a-zA-Z0-9 +-=._:/@]*$/}},{}],57:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?
Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.EditableAwsTagListView=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&l.__esModule?l:{default:l},b=a("./AwsTagListViewConstants"),k=a("./ClusterTagsConstants"),d=a("../../ui_building_blocks/tables/ReactTable.jsx"),
n=a("../../ui_building_blocks/tables/ReactTableUtils.jsx"),m=a("../../ui_building_blocks/tables/TableRowAdder.jsx"),q=function(){};(f.EditableAwsTagListView=function(a){function p(a){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");a=(p.__proto__||Object.getPrototypeOf(p)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.rowGetter=a.rowGetter.bind(a);
a.renderKeyTooltipText=a.renderKeyTooltipText.bind(a);a.renderValueTooltipText=a.renderValueTooltipText.bind(a);a.state={sortedCol:-1};var b=window.settings&&window.settings.maxCustomTags||k.ClusterTagsFallbackConstants.maxCustomTags,c=k.ClusterTagsConstants.defaultTagIds.length;a.MAX_TAGS=a.props.enableUserVisibleDefaultTags?b+c:b;return a}c(p,a);e(p,[{key:"getHeaderRenderer",value:function(a,b){var c=this;return n.HeaderRenderers.getSortableRenderer(function(d){a(d);c.setState({sortedCol:b})},this.state.sortedCol===
b,!1,"header-cell extra-padded-header-cell")}},{key:"rowGetter",value:function(a){return[this.props.rows[this.props.rowOrder[a]]]}},{key:"renderKeyTooltipText",value:function(){return h.default.createElement("div",null,"Keys must:",h.default.createElement("ul",null,h.default.createElement("li",null,"Contain ",this.props.minKeyLength,"-",this.props.maxKeyLength," characters"),h.default.createElement("li",null,b.AwsTagListViewConstants.ALLOWABLE_CHARS_MSG),h.default.createElement("li",null,b.AwsTagListViewConstants.NO_AWS_PREFIX_MSG),
h.default.createElement("li",null,b.AwsTagListViewConstants.NO_KEY_DUPLICATE_MSG)))}},{key:"renderValueTooltipText",value:function(){return h.default.createElement("div",null,"Values must:",h.default.createElement("ul",null,h.default.createElement("li",null,"Contain ",this.props.minValueLength,"-",this.props.maxValueLength," characters"),h.default.createElement("li",null,b.AwsTagListViewConstants.ALLOWABLE_CHARS_MSG),h.default.createElement("li",null,b.AwsTagListViewConstants.NO_AWS_PREFIX_MSG)))}},
{key:"getActionsCellRenderer",value:function(){var a=this;return function(b){if(!b.isEditable)return null;var c=n.CellRenderers.getActionsCellRenderer({deleteFunc:a.props.deleteFunc},"delete-btn");return h.default.createElement("center",null,c(b))}}},{key:"getKeyCellRenderer",value:function(){var a=this;return function(b){if(!b.isEditable)return h.default.createElement("span",{className:"uneditable-aws-tag"},b.key);var c=n.CellRenderers.getTextInputCellRenderer(function(a){return a.key},function(a){return!a.keyInvalid},
{onInput:a.props.keyOnChangeHandler,onBlur:a.props.keyOnBlurHandler,onKeyDown:a.props.keyKeyDownHandler});return n.CellRenderers.getTooltipCellRenderer(c,a.renderKeyTooltipText,{attachToBody:!0,toggleOnHover:!1,ref:function(b){return a.keyCellRendererTooltip=b}})(b)}}},{key:"getValueCellRenderer",value:function(){var a=this;return function(b){if(!b.isEditable)return h.default.createElement("span",{className:"uneditable-aws-tag"},b.value);var c=n.CellRenderers.getTextInputCellRenderer(function(a){return a.value},
function(a){return!a.valueInvalid},{onInput:a.props.valueOnChangeHandler,onBlur:a.props.valueOnBlurHandler,onKeyDown:a.props.valueKeyDownHandler});return n.CellRenderers.getTooltipCellRenderer(c,a.renderValueTooltipText,{attachToBody:!0,toggleOnHover:!1,ref:function(b){return a.valueCellRendererTooltip=b}})(b)}}},{key:"showKeyTooltip",value:function(){this.keyCellRendererTooltip.showTooltip()}},{key:"hideKeyTooltip",value:function(){this.keyCellRendererTooltip.hideTooltip()}},{key:"showValueTooltip",
value:function(){this.valueCellRendererTooltip.showTooltip()}},{key:"hideValueTooltip",value:function(){this.valueCellRendererTooltip.hideTooltip()}},{key:"render",value:function(){var a=b.AwsTagListViewConstants.KEY_COL_WIDTH+b.AwsTagListViewConstants.VALUE_COL_WIDTH+b.AwsTagListViewConstants.ACTIONS_COL_WIDTH,c=h.default.createElement("div",{className:"cluster-create-label"},"Add Tag"),k=this.props.rowOrder.length===this.MAX_TAGS;return h.default.createElement("div",{className:"aws-tags-list"},
h.default.createElement("div",{className:"reg-font-label"},"The tags below are automatically added to clusters for Amazon tracking purposes."," ",h.default.createElement("a",{href:"http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html",target:"blank",rel:"noopener noreferrer"},"Learn more")),h.default.createElement("div",{className:"cluster-create-label"},"Tags"),h.default.createElement(d.Table,{ref:"table",rowGetter:this.rowGetter,rowsCount:this.props.rowOrder.length,width:a,rowHeight:36},
h.default.createElement(d.Column,{label:"Key",width:b.AwsTagListViewConstants.KEY_COL_WIDTH,cellRenderer:this.getKeyCellRenderer(),headerRenderer:this.getHeaderRenderer(this.props.keySortFunc,0)}),h.default.createElement(d.Column,{label:"Value",width:b.AwsTagListViewConstants.VALUE_COL_WIDTH,cellRenderer:this.getValueCellRenderer(),headerRenderer:this.getHeaderRenderer(this.props.valueSortFunc,1)}),h.default.createElement(d.Column,{label:"Actions",width:b.AwsTagListViewConstants.ACTIONS_COL_WIDTH,
cellRenderer:this.getActionsCellRenderer(),headerRenderer:q})),h.default.createElement(m.TableRowAdder,{header:c,onAddValidRow:this.props.addTagFunc,inputPropertiesList:[{id:"key",key:"key",validator:this.props.keyInputValidator,tooltipTextRenderer:this.renderKeyTooltipText,invalidMsg:"Invalid key",trimTrailingLeadingWhitespace:!0},{id:"value",key:"value",validator:this.props.valueInputValidator,tooltipTextRenderer:this.renderValueTooltipText,invalidMsg:"Invalid value",trimTrailingLeadingWhitespace:!0}],
disabled:k}),h.default.createElement("span",{className:"adder-row-meta-message"},k?b.AwsTagListViewConstants.REACHED_MAX_TAGS_TEXT:null))}}]);return p}(h.default.Component)).propTypes={rows:h.default.PropTypes.object.isRequired,rowOrder:h.default.PropTypes.arrayOf(h.default.PropTypes.number).isRequired,addTagFunc:h.default.PropTypes.func.isRequired,deleteFunc:h.default.PropTypes.func.isRequired,keyInputValidator:h.default.PropTypes.func.isRequired,keyOnChangeHandler:h.default.PropTypes.func.isRequired,
keyOnBlurHandler:h.default.PropTypes.func.isRequired,keyKeyDownHandler:h.default.PropTypes.func.isRequired,valueKeyDownHandler:h.default.PropTypes.func.isRequired,keySortFunc:h.default.PropTypes.func.isRequired,valueInputValidator:h.default.PropTypes.func.isRequired,valueOnChangeHandler:h.default.PropTypes.func.isRequired,valueOnBlurHandler:h.default.PropTypes.func.isRequired,valueSortFunc:h.default.PropTypes.func.isRequired,minKeyLength:h.default.PropTypes.number.isRequired,maxKeyLength:h.default.PropTypes.number.isRequired,
minValueLength:h.default.PropTypes.number.isRequired,maxValueLength:h.default.PropTypes.number.isRequired,enableUserVisibleDefaultTags:h.default.PropTypes.bool}},{"../../ui_building_blocks/tables/ReactTable.jsx":306,"../../ui_building_blocks/tables/ReactTableUtils.jsx":307,"../../ui_building_blocks/tables/TableRowAdder.jsx":313,"./AwsTagListViewConstants":55,"./ClusterTagsConstants":56,react:1001}],58:[function(a,l,f){function c(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.UneditableAwsTagListView=void 0;var h=function(){function a(a,b){for(var c=0;c<
b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=(l=a("react"))&&l.__esModule?l:{default:l},k=a("./AwsTagListViewConstants"),d=a("../../ui_building_blocks/tables/ReactTable.jsx"),n=a("../../ui_building_blocks/tables/ReactTableUtils.jsx");(f.UneditableAwsTagListView=function(a){function m(a){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");
a=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,a));a.rowGetter=a.rowGetter.bind(a);a.state={sortedCol:-1};a.keyCellRenderer=function(a){return b.default.createElement("span",null,a.key)};a.valueCellRenderer=function(a){return b.default.createElement("span",null,a.value)};return a}e(m,a);h(m,[{key:"getHeaderRenderer",value:function(a,b){var c=this;return n.HeaderRenderers.getSortableRenderer(function(d){a(d);c.setState({sortedCol:b})},this.state.sortedCol===b)}},{key:"rowGetter",value:function(a){return[this.props.rows[this.props.rowOrder[a]]]}},
{key:"render",value:function(){var a=b.default.createElement("div",null,"None");0<this.props.rowOrder.length&&(a=b.default.createElement(d.Table,{rowGetter:this.rowGetter,rowsCount:this.props.rowOrder.length,width:k.AwsTagListViewConstants.KEY_COL_WIDTH+k.AwsTagListViewConstants.VALUE_COL_WIDTH},b.default.createElement(d.Column,{label:"Key",width:k.AwsTagListViewConstants.KEY_COL_WIDTH,cellRenderer:this.keyCellRenderer,headerRenderer:this.getHeaderRenderer(this.props.keySortFunc,0),headerClassName:"bordered-header-cell",
cellClassName:"bordered-body-cell"}),b.default.createElement(d.Column,{label:"Value",width:k.AwsTagListViewConstants.VALUE_COL_WIDTH,cellRenderer:this.valueCellRenderer,headerRenderer:this.getHeaderRenderer(this.props.valueSortFunc,1)})));return b.default.createElement("div",null,b.default.createElement("div",{className:"cluster-create-label"},"Tags"),a)}}]);return m}(b.default.Component)).propTypes={rows:b.default.PropTypes.object.isRequired,rowOrder:b.default.PropTypes.arrayOf(b.default.PropTypes.number).isRequired,
keySortFunc:b.default.PropTypes.func.isRequired,valueSortFunc:b.default.PropTypes.func.isRequired}},{"../../ui_building_blocks/tables/ReactTable.jsx":306,"../../ui_building_blocks/tables/ReactTableUtils.jsx":307,"./AwsTagListViewConstants":55,react:1001}],59:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(f,"__esModule",{value:!0});f.RouteConstants=void 0;l=a("jquery");var e=c(l);l=a("backbone");var h=c(l);l=a("react");var b=c(l);l=a("react-dom");var k=c(l),
d=a("./RouterUtils.jsx"),n=a("../clusters/Common.jsx"),m=a("../clusters/ClusterCreatePage.jsx");l=a("../clusters/ClusterDetailsContextBar.jsx");var q=c(l);l=a("../clusters/ClusterDetailsView.jsx");var w=c(l);l=a("../clusters/DriverLogsViewReact.jsx");var p=c(l),r=a("../clusters/ReactClusterListView.jsx");l=a("../clusters/ReactTerminalView.jsx");var t=c(l);l=a("../filetree/NavFunc.jsx");var u=c(l),y=a("../home/HomeView.jsx");l=a("../jobs/FullElasticJobStatus");var A=c(l),g=a("../jobs/JobListView.jsx"),
v=a("../jobs/JobView.jsx"),z=a("../libraries/LibraryView.jsx");l=a("../local_storage/LocalUserPreference");var B=c(l);l=a("../login/PasswordUtils");var G=c(l),x=a("../notebook/LanguageNames");l=a("../presence/Presence");var D=c(l);l=a("../spark_ui/ReactSparkUIView.jsx");var E=c(l);l=a("../spark_ui/ReactSparkUIContextBar.jsx");var F=c(l),J=a("../static/FramedStaticNotebookView.jsx");l=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var L=c(l);l=a("../user_menu/AccountList");var I=c(l),K=a("../user_menu/AccountSettingsView.jsx");
l=a("../user_menu/SettingsView.jsx");var N=c(l),P=a("../user_menu/iam_roles/NewIamRoleView.jsx"),Y=a("../user_menu/iam_roles/IamRoleView.jsx"),M=a("../user_menu/iam_roles/IamRolesUtils.jsx"),O=a("../user_platform/BrowserUtils"),Q=f.RouteConstants={IAM_ROLE_ROUTE_ROOT:"setting/accounts/iamRoles"};a=h.default.Router.extend({routes:{"create/cluster":"createCluster","experimental/setting/clusters":"clusters","experimental/setting/accounts":"accounts","job/:jobId/new":"newjob","job/:jobId/editJar":"jobViewEditJar",
"job/:jobId/:page":"jobPaginate","job/:jobId":"job",joblist:"joblist","joblist/*any":"joblist","setting/sparkui/:clusterId/driver-logs":"driverLogs","setting/sparkui/*name?*query":"sparkuiWithQuery","setting/sparkui/*name":"sparkui","setting/clusters/:clusterId/:tab":"clusterDetails","setting/clusters/:clusterId/:tab/:workerNode":"clusterDetails","setting/accounts/iamRoles/new":"newIamRole","setting/accounts/iamRoles/:arn":"iamRoleDetails","setting/accounts/iamRoles/:arn/:workerEnvId":"iamRoleDetails",
"terminal/:clusterId/:host":"terminal"},selectors:{topbar:"#topbar",titleDiv:"#topbar .tb-title",content:"#content"},initialize:function(){window.router.route("setting/clusters","clusters",this.clusters.bind(this));window.router.route("setting/accounts/users","users",this.settings.bind(this,"users"));window.router.route(Q.IAM_ROLE_ROUTE_ROOT,"iamRoles",this.settings.bind(this,"iamRoles"));window.router.route("setting/accounts/accessControl","accessControl",this.settings.bind(this,"accessControl"));
window.router.route("setting/accounts/singleSignOnSettings","singleSignOnSettings",this.settings.bind(this,"singleSignOnSettings"));window.router.route("setting/accounts","accounts",this.accounts.bind(this));window.router.route("externalnotebook/:url","externalNotebook",this.externalNotebook.bind(this))},route:function(a,b,c){return d.timedRoute.bind(this)(a,b,c,h.default.Router.prototype.route)},setupLegacyTopbar:function(a,b){O.BrowserUtils.setDocumentTitle(a);var c=(0,e.default)(this.selectors.titleDiv);
c.text(a);c.attr({"data-name":a});a=(0,e.default)(".tb-title-lang");b?(a.text(" ("+x.LanguageNames[b]+")"),a.attr({"data-lang":b})):(a.text(""),a.attr({"data-lang":"none"}));c.unbind("mouseenter mouseleave");(0,e.default)("#topbar .tb-title-icons").html("")},showView:function(a){console.log("showing experimental view for "+a);switch(a.toLowerCase()){case "setting/clusters":this.clusters();break;case "setting/accounts":this.accounts()}},setupPresenceView:function(a){a&&window.settings.enablePresenceUI?
D.default.setLocation(h.default.history.fragment):D.default.clear()},showPrimaryReactView:function(a,b,c,g,d,m,h,n,v,q){!1!==d&&(d=!0);q||this.hidePrimaryView();window.activeView=a;q=(0,e.default)(this.selectors.content);q.scrollTop(0);q.scrollLeft(0);this.setupPresenceView(m);n?k.default.render(a,(0,e.default)("#overallView")[0]):k.default.render(a,q[0]);v||this.setupLegacyTopbar(b,c,d);g?((0,e.default)("#context-bar").show(),(0,e.default)("#content").css("top","26px")):((0,e.default)("#context-bar").hide(),
(0,e.default)("#content").css("top","0"));(0,e.default)("#content").addClass(h);(0,e.default)(this.selectors.topbar).show()},hidePrimaryView:function(){window.router.unmountOldComponents();window.setSparkUiContextBar=null;window.sparkUiPermalinkRedirect=null},showTitle:function(a){k.default.render(a,(0,e.default)(this.selectors.titleDiv)[0])},clusterDetails:function(a,c,g){var d=!1;document.getElementById("cluster-details")&&(d=!0);this.showTitle(b.default.createElement(q.default,{clusterId:a,clusters:window.clusterList}));
this.showPrimaryReactView(b.default.createElement(w.default,{clusterId:a,clusters:window.clusterList,restrictedClusterCreation:window.settings.enableRestrictedClusterCreation,nodeTypes:window.settings.nodeInfo.node_types,enableAutoScale:window.settings.enableClusterAutoScaling,activeTab:c.toLowerCase(),windowHash:window.location.hash,currentWorkerNode:g}),"Cluster Details",null,!1,!1,!0,!1,null,!0,d);window.setSparkUiContextBar=function(a){(0,e.default)("#spark-ui-hostname").text("Hostname: "+a);
(0,e.default)("#spark-ui-context").removeClass("hidden")}},clusters:function(){this.showPrimaryReactView(b.default.createElement(r.ReactClusterListView,{clusters:window.clusterList,nodeTypes:window.settings.nodeInfo.node_types}),"Clusters",null,!1,!1,!0)},_getCreateClusterNavigationCallback:function(){return window.settings.enableRestrictedClusterCreation?function(){return window.history.back()}:function(){return window.router.navigate("/setting/clusters",{trigger:!0})}},createCluster:function(){var a=
this._getCreateClusterNavigationCallback(),c=!window.settings.enableRestrictedClusterCreation&&window.settings.enableSshKeyUI,g=!window.settings.enableRestrictedClusterCreation&&window.settings.enableClusterTagsUI;this.showPrimaryReactView(b.default.createElement(m.ClusterCreatePage,{clusters:window.clusterList,defaultCoresPerContainer:window.settings.defaultCoresPerContainer,defaultNodeTypeId:window.settings.nodeInfo.default_node_type_id,defaultNumWorkers:window.settings.defaultNumWorkers,defaultSparkVersion:window.settings.defaultSparkVersion,
defaultZoneId:n.ClusterUtil.getInitialZoneId(),enableAutoScale:window.settings.enableClusterAutoScaling,enableCustomSparkVersions:window.prefs.get("enableCustomSparkVersions"),enableHybridClusterType:window.settings.enableHybridClusterType,enableSparkVersionsUI:window.settings.enableSparkVersionsUI,hideMissingSparkPackageWarning:window.settings.hideMissingSparkPackageWarning,onSubmitNavigationCallback:a,nodeTypes:window.settings.nodeInfo.node_types,restrictedClusterCreation:window.settings.enableRestrictedClusterCreation,
showHiddenSparkVersions:window.settings.showHiddenSparkVersions,sparkVersions:window.settings.sparkVersions,zoneInfos:window.settings.zoneInfos,renderSsh:c,renderTags:g}),"Create Cluster",null,!1,!1,!1)},accounts:function(){this.showPrimaryReactView(b.default.createElement(N.default,{accounts:new I.default}),"Settings",null,!1,!1,!0)},settings:function(a){this.showPrimaryReactView(b.default.createElement(N.default,{accounts:new I.default,activeTab:a}),"Settings",null,!1,!1,!0)},accountSettings:function(a){this.showPrimaryReactView(b.default.createElement(K.AccountSettingsView,
{disablePasswordTab:G.default.shouldDisablePasswordReset(),disablePasswordTooltip:G.default.disablePasswordTooltip(),defaultTab:a}),"Account Settings",null,!1,!1,!1)},homeView:function(){this.showPrimaryReactView(b.default.createElement(y.HomeView,{gitHash:window.settings.gitHash,branch:window.settings.branch,fbView:window.fileBrowserView,fbCollection:window.treeCollection,recentRoutes:window.router.recentViewRoutes,clusterList:window.clusterList,localpref:new B.default("homeView"),devTierName:window.settings.devTierName,
isDevTier:window.settings.useDevTierHomePage,showFeaturedLinks:window.settings.showHomepageFeaturedLinks,featuredLinks:window.settings.homepageFeaturedLinks}),"",null,!1,!1,!1,"homeview-content")},library:function(a){var c=this;window.conn.prefetchNode(a,function(){var g=window.treeCollection&&window.treeCollection.get(a);if(g){var d=b.default.createElement(z.LibraryView,{model:g,clusters:window.clusterList});c.showPrimaryReactView(d,g.get("name"),null,!1,!1)}else L.default.alert("Library not found")})},
sparkuiWithQuery:function(a,b){this.sparkui(a+"?"+b)},sparkui:function(a){a="/sparkui/"+a+u.default.sessionParams(0<=a.indexOf("?"));a=b.default.createElement(E.default,{sparkUiUrl:a});this.showPrimaryReactView(a,"Spark UI",null,!0,!1,!1,"sparkui-wrapper");window.setSparkUiContextBar=function(a){a=b.default.createElement(F.default,{hostUrl:a});k.default.render(a,(0,e.default)("#context-bar")[0])};window.sparkUiPermalinkRedirect=function(a){window.router.navigate("setting/sparkui/"+a,{trigger:!0,replace:!0})}},
driverLogs:function(a){a=b.default.createElement(p.default,{clusterId:a,shouldFetchLogs:!0});this.showPrimaryReactView(a,"Spark Driver Logs",null,!1,!1,!1)},externalNotebook:function(a){this.showPrimaryReactView(b.default.createElement(J.FramedStaticNotebookView,{url:a,prefs:window.prefs}),"",null,!0,!1,!1,"",!0)},newjob:function(a){window.router.navigate("#job/"+a,{replace:!0});this.job(a,!0)},jobViewEditJar:function(a){window.router.navigate("#job/"+a,{replace:!0});this.job(a,!1,!0)},jobPaginate:function(a,
b){this.job(a,!1,!1,b)},job:function(a,c,g,d){(new A.default({jobId:a})).fetch({success:function(a){var k=b.default.createElement(v.JobViewWrapper,{job:a,isNewJob:c,page:d?parseInt(d,10):0,openEditJar:g});this.showPrimaryReactView(k,a.attributes.basicInfo.jobName,null,!1,!1,!1)}.bind(this),error:function(){L.default.alert("Job not found: "+a,!1,"Jobs Page",function(){location.hash="#joblist"})}})},joblist:function(){var a=b.default.createElement(g.JobListView,{clusters:window.clusterList,disabled:!window.settings.enableElasticSparkUI});
this.showPrimaryReactView(a,"Jobs",null,!1,!1,!0)},terminal:function(a,c){a=b.default.createElement(t.default,{uri:"/terminal/"+a+"/"+c});this.showPrimaryReactView(a,"Terminal ("+c+")",null,!1,!1,!1)},newIamRole:function(){this.showTitle(b.default.createElement(M.IamRoleBreadcrumbsTitle,{text:"Add IAM Role"}));this.showPrimaryReactView(b.default.createElement(P.NewIamRoleView,null),"New IAM Role",null,!1,!1,!1,null,!1,!0,!1)},iamRoleDetails:function(a,c){a=decodeURIComponent(a);this.showTitle(b.default.createElement(M.IamRoleBreadcrumbsTitle,
{text:M.IamRolesUtils.parseIamRoleName(a)}));this.showPrimaryReactView(b.default.createElement(Y.IamRoleView,{arn:a,workerEnvId:c}),"New IAM Role",null,!1,!1,!1,null,!1,!0,!1)}});f.default=a},{"../clusters/ClusterCreatePage.jsx":24,"../clusters/ClusterDetailsContextBar.jsx":26,"../clusters/ClusterDetailsView.jsx":31,"../clusters/Common.jsx":35,"../clusters/DriverLogsViewReact.jsx":38,"../clusters/ReactClusterListView.jsx":45,"../clusters/ReactTerminalView.jsx":47,"../filetree/NavFunc.jsx":72,"../home/HomeView.jsx":85,
"../jobs/FullElasticJobStatus":91,"../jobs/JobListView.jsx":94,"../jobs/JobView.jsx":97,"../libraries/LibraryView.jsx":110,"../local_storage/LocalUserPreference":128,"../login/PasswordUtils":131,"../notebook/LanguageNames":174,"../presence/Presence":224,"../spark_ui/ReactSparkUIContextBar.jsx":251,"../spark_ui/ReactSparkUIView.jsx":252,"../static/FramedStaticNotebookView.jsx":253,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../user_menu/AccountList":327,"../user_menu/AccountSettingsView.jsx":328,
"../user_menu/SettingsView.jsx":334,"../user_menu/iam_roles/IamRoleView.jsx":339,"../user_menu/iam_roles/IamRolesUtils.jsx":342,"../user_menu/iam_roles/NewIamRoleView.jsx":343,"../user_platform/BrowserUtils":344,"./RouterUtils.jsx":61,backbone:407,jquery:819,react:1001,"react-dom":865}],60:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("backbone");var b=c(f);f=a("d3");var k=c(f);f=a("react");var d=c(f);f=a("react-dom");
var n=c(f),m=a("./RouterUtils.jsx");f=a("../applications/ApplicationListView");var q=c(f);f=a("../applications/AppUI");var w=c(f);f=a("../applications/AppUIView");var p=c(f);f=a("../filetree/NavFunc.jsx");var r=c(f);f=a("../jobs/FullElasticJobStatus");var t=c(f);f=a("../jobs/FullElasticRunStatus");var u=c(f);f=a("../jobs/JobRunView.jsx");var y=c(f);f=a("../jobs/LatestJobRunView.jsx");var A=c(f);f=a("../libraries/LibraryCreateView");var g=c(f);f=a("../libraries/MavenLibraryCreateView");var v=c(f);
f=a("../libraries/PythonLibraryCreateView");var z=c(f);f=a("../presence/Presence");var B=c(f);f=a("../notebook/dashboards/DashboardEditView.jsx");var G=c(f);f=a("../notebook/dashboards/DashboardPresentView.jsx");var x=c(f);f=a("../notebook/commands/DashboardView");var D=c(f),E=a("../notebook/FetchErrorPanel.jsx"),F=a("../notebook/LanguageNames");f=a("../notebook/ReactNotebookView.jsx");var J=c(f);f=a("../tables/ReactTableView.jsx");var L=c(f);f=a("../tables/TableCreateView.jsx");var I=c(f);f=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");
var K=c(f),N=a("../urls/DbGuideUrls"),P=a("../user_platform/BrowserUtils");a=b.default.Router.extend({unmountOldComponents:function(){(0,e.default)("#content").removeClass();window.router.removeActiveView();window.sidebar&&window.sidebar.isHidden()&&window.sidebar.show();window.activeView=null;(0,e.default)("#topbar").show();(0,e.default)("#overallView").removeClass();(0,e.default)("#overallView")[0]&&n.default.unmountComponentAtNode((0,e.default)("#overallView")[0])?(0,e.default)("#overallView").append((0,
e.default)('<div id="context-bar">')).append((0,e.default)('<div id="content">')):((0,e.default)("#content")[0]&&n.default.unmountComponentAtNode((0,e.default)("#content")[0]),(0,e.default)("#context-bar")[0]&&n.default.unmountComponentAtNode((0,e.default)("#context-bar")[0]))},routes:{"":"empty",redirect:"redirect","workspace/*path":"workspacePath","folder/:id":"folder","shell/:id":"shell","notebook/:id":"notebook","notebook/:id/command/:commandId":"notebook","notebook/:id/resultsOnly":"notebookResultsOnly",
"notebook/:nbid/dashboard/:dashboardId":"dashboardView","notebook/:nbid/dashboard/:dashboardId/:mode":"dashboardView","create/table":"createTable","table/:name":"table","dashboard/:id":"dashboard","dashboard/:id/:mode":"dashboard","job/:jobId/run/latestSuccess":"jobRunLatestSuccess","job/:jobId/run/latestSuccess/:displayMode":"jobRunLatestSuccess","job/:jobId/run/latestSuccess/:displayMode/:dashboardNUID":"jobRunLatestSuccess","job/:jobId/run/:runId":"jobRun","job/:jobId/run/:runId/:displayMode":"jobRun",
"job/:jobId/run/:runId/:displayMode/:dashboardNUID":"jobRun","library/:name":"library","create/library":"createLibrary","create/library/:parentId":"createLibrary","create/mavenLibrary":"createMavenLibrary","create/mavenLibrary/:parentId":"createMavenLibrary","create/pythonLibrary":"createPythonLibrary","create/pythonLibrary/:parentId":"createPythonLibrary","setting/appui/*name?*query":"appuiWithQuery","setting/appui/*name":"appui","setting/:name":"setting","setting/:name/:tab":"setting","experimental/*subroute":"experimental",
".*:any":"empty"},RECENT_VIEWS_TO_KEEP:30,initialize:function(){this.RECENT_VIEWS_KEY="com.databricks.workspace.recentViewRoutes."+window.settings.orgId+"."+window.settings.user;this.recentViewRoutes=[];if(window.localStorage)try{var a=window.localStorage[this.RECENT_VIEWS_KEY];if(a)for(var b=JSON.parse(a),a=0;a<Math.min(b.length,this.RECENT_VIEWS_TO_KEEP);a++)this.recentViewRoutes[a]=b[a]}catch(Q){console.error("Error parsing data in local storage",Q)}var c=[];this.recentViewRoutes.forEach(function(a){0===
a.indexOf("notebook/")&&(a=parseInt(a.split("/")[1],10))&&c.push(a)});0<c.length&&setTimeout(function(){window.conn.prefetchNodes(c)},10)},route:function(a,c,g){return m.timedRoute.bind(this)(a,c,g,b.default.Router.prototype.route)},getHash:function(){return window.location.hash.substring(1)},isTableRoute:function(){var a=this.getHash();return/^table.*/.test(a)||"create/table"===a},isWorkspaceRoute:function(){var a=this.getHash();return/^(shell\/|dashboard\/|notebook\/).*/.test(a)},isClusterRoute:function(){var a=
this.getHash();return"create/cluster"===a||"setting/clusters"===a||/^(setting\/clusters\/).*/.test(a)||/^(setting\/sparkui).*/.test(a)},isJobsRoute:function(){var a=this.getHash();return/^(joblist).*/.test(a)||/^(job\/).*/.test(a)},isApplicationsRoute:function(){return"setting/applications"===this.getHash()},isHomeRoute:function(){return""===this.getHash()},saveRecentViews:function(){if(window.localStorage)try{window.localStorage[this.RECENT_VIEWS_KEY]=JSON.stringify(this.recentViewRoutes)}catch(Y){console.error("Error saving to local storage",
Y)}},empty:function(){(0,e.default)("#content").scrollTop(0);(0,e.default)("#content").scrollLeft(0);window.reactRouter.homeView()},redirect:function(){history.state&&history.state.path&&window.history.replaceState(null,null,"#workspace/"+history.state.path);history.go(-1)},workspacePath:function(a){a&&(window.settings.useStaticGuide&&0===a.indexOf("databricks_guide/")?(window.history.replaceState({path:a},null,"#redirect"),window.location=N.DbGuideUrls.getDbGuideUrl("#workspace/"+a)):e.default.ajax("/tree/path",
{data:{path:"/"+a},success:function(b){if(b&&b.id&&b.type){var c={trigger:!0,replace:!0};"notebook"===b.type?window.router.navigate("notebook/"+b.id,c):"shell"===b.type?window.router.navigate("notebook/"+b.id,c):"dashboard"===b.type?window.router.navigate("dashboard/"+b.id,c):"library"===b.type?window.router.navigate("library/"+b.id,c):"folder"===b.type?window.router.navigate("folder/"+b.id,c):K.default.alert("Cannot open path: "+a)}else K.default.alert("Cannot open path: "+a)},error:function(){K.default.alert("Cannot open path: "+
a)}}))},experimental:function(a){console.log("invoking reactRouter");window.reactRouter.showView(a)},folder:function(a){a=parseInt(a,10);window.activeView||this.empty();var b=function(){window.sidebar.openWorkspace(a)};window.treeCollection&&window.treeCollection.get(a)?b():window.conn.prefetchNode(a,b)},appuiWithQuery:function(a,b){this.appui(a+"?"+b)},appui:function(a){var b=new w.default({id:a}),b=new p.default({model:b});a="setting/appui/"+a.toLowerCase();this.registerView(b,a);b.render();this.show(b)},
jobRunLatestSuccess:function(a,b,c){var g=new t.default({jobId:a}),k=this;g.fetch({success:function(){k.unmountOldComponents();k.setupPresenceView(!1);n.default.render(d.default.createElement(A.default,{job:g,displayMode:b,dashboardNUID:c}),(0,e.default)("#overallView")[0]);k.removeContextBar();window.sidebar.hide();(0,e.default)("#topbar").hide();(0,e.default)("#overallView").removeClass().addClass("job-latest-run")},error:function(){K.default.alert("Job not found: "+a,!1,"Jobs Page",function(){location.hash=
"#joblist"})}})},jobRun:function(a,b,c,g){var k=new u.default({jobId:a,runId:b});k.deltaUpdate=!0;var m=this;k.fetch({success:h.default.bind(function(){m.unmountOldComponents();m.setupPresenceView(!1);n.default.render(d.default.createElement(y.default,{model:k,displayMode:c,dashboardNUID:g}),(0,e.default)("#overallView")[0]);m.removeContextBar()},this),error:function(a,c){403===c.status?(a=d.default.createElement(E.FetchErrorPanel,{error:c}),n.default.render(a,(0,e.default)("#overallView")[0]),m.removeContextBar()):
K.default.alert("Run not found: "+b,!1,"Jobs Page",function(){location.hash="#joblist"})}})},setting:function(a,b){(0,e.default)("#content").scrollTop(0);(0,e.default)("#content").scrollLeft(0);switch(a.toLowerCase()){case "account":window.reactRouter.accountSettings(b);break;case "applications":a=new q.default,this.registerView(a,"setting/applications"),a.render(),this.show(a)}},displayReactViewPath:function(a,b){var c=(0,e.default)("#tooltip");b.mouseenter(function(){var g=a.get("path").split("/").slice(1).map(function(a){return window.treeCollection.get(a).get("name")}),
d=(0,e.default)("<p>");d.text("Workspace/"+g.join("/"));c.empty();c.append(d);c.css({top:b.offset().top+b.height()+5,left:b.offset().left});c.show()});b.mouseleave(function(){c.hide()})},setupTitle:function(a){(0,e.default)("#topbar").show();var b=(0,e.default)("#topbar .tb-title"),c=a.get("name");b.text(c);b.attr({"data-name":c});var g=(0,e.default)(".tb-title-lang"),d=a.get("language");d?(g.text("("+F.LanguageNames[d]+")"),g.attr({"data-lang":d})):(g.text(""),g.attr({"data-lang":"none"}));P.BrowserUtils.setDocumentTitle(c);
this.displayReactViewPath(a,b,g)},setupTableTitle:function(a){(0,e.default)("#topbar").show();var b=(0,e.default)("#topbar .tb-title");b.text("Table: "+a);b.attr({"data-name":a});b=(0,e.default)(".tb-title-lang");b.text("");b.attr({"data-lang":"none"});P.BrowserUtils.setDocumentTitle(a)},shell:function(a){window.router.navigate("notebook/"+a,{trigger:!0,replace:!0})},notebook:function(a,c){var g=this;a=parseInt(a,10);var k=this;c&&isNaN(c)||(c="notebook");window.fileBrowserView.openToNodeId(a);this._ensureNotebookLoaded(a,
function(a){k.unmountOldComponents();a.fetchPermissionLevel(function(){k.setupPresenceView(a.canView())});a.setPresenceCallback();var m=a.commandCollection(),h=d.default.createFactory(J.default)({notebook:a,clusters:window.clusterList,initialDisplayMode:c});window.activeView=h;window.notebookView=n.default.render(h,(0,e.default)("#overallView")[0]);(0,e.default)("#overallView").removeClass().addClass("new-notebook");(0,e.default)("#context-bar").show();g.setupTitle(a);b.default.History.started&&k.pushRecentViewRoute(b.default.history.fragment);
window.shellSessionHash[a.id]=m;window.recordEvent("openNotebook",a.tags());window.fileBrowserView.updateRecentItems()})},notebookResultsOnly:function(a){this.notebook(a,"resultsOnly")},dashboardView:function(a,b,c){"present"===c?this._showDashboardPresentView(a,b):this._showDashboardEditView(a,b)},_isNodeLoaded:function(a){return window.treeCollection&&window.treeCollection.get(a)?!0:!1},_ensureNotebookLoaded:function(a,b,c){this._isNodeLoaded(a)?b(window.treeCollection.getNotebookModel(a)):window.conn.prefetchNode(a,
function(){this._isNodeLoaded(a)?b(window.treeCollection.getNotebookModel(a)):K.default.alert(c||"Notebook not found",!1,"Ok",function(){window.router.navigate("#",{trigger:!0,replace:!0})})}.bind(this))},_showDashboardEditView:function(a,b){a=parseInt(a,10);var c=parseInt(b,10);b=function(a){this.unmountOldComponents();var b=d.default.createFactory(G.default)({clusters:window.clusterList,notebook:a,dashboardId:c});window.activeView=b;window.dashboardView=n.default.render(b,(0,e.default)("#overallView")[0]);
window.notebook=a;(0,e.default)("#overallView").removeClass().addClass("dashboard-view");(0,e.default)("#context-bar").show();this.setupTitle(a)}.bind(this);this._ensureNotebookLoaded(a,b,"Dashboard not found")},_showDashboardPresentView:function(a,b){a=parseInt(a,10);var c=parseInt(b,10);b=function(a){this.unmountOldComponents();var b=d.default.createElement(x.default,{clusters:window.clusterList,notebook:a,dashboardId:c});window.activeView=b;window.dashboardView=n.default.render(b,(0,e.default)("#overallView")[0]);
window.notebook=a;window.sidebar.hide();(0,e.default)("#topbar").hide();(0,e.default)("#overallView").removeClass().addClass("dashboard-present-view")}.bind(this);this._ensureNotebookLoaded(a,b,"Dashboard not found")},table:function(a){this.unmountOldComponents();(0,e.default)("#content").scrollTop(0);(0,e.default)("#content").scrollLeft(0);this.removeContextBar();var c=d.default.createFactory(L.default)({tableName:a,clusters:window.clusterList});window.activeView=c;window.tableView=n.default.render(c,
(0,e.default)("#content")[0]);this.setupTableTitle(a);b.default.History.started&&this.pushRecentViewRoute(b.default.history.fragment)},createTable:function(){(0,e.default)("#content").scrollTop(0);(0,e.default)("#content").scrollLeft(0);var a=new I.default({});this.registerView(a,"create/table");a.render();this.show(a)},createLibrary:function(a){a=a||0;(0,e.default)("#content").scrollTop(0);(0,e.default)("#content").scrollLeft(0);var b="create/library/"+a;a=new g.default({parentId:a});this.registerView(a,
b);a.render();this.show(a)},createMavenLibrary:function(a){if(window.settings.enableMavenLibraries){a=a||0;(0,e.default)("#content").scrollTop(0);(0,e.default)("#content").scrollLeft(0);var b="create/mavenLibrary/"+a;a=new v.default({parentId:a});this.registerView(a,b);a.render();this.show(a)}else return this.empty()},createPythonLibrary:function(a){a=a||0;(0,e.default)("#content").scrollTop(0);(0,e.default)("#content").scrollLeft(0);var b="create/pythonLibrary/"+a;a=new z.default({parentId:a});this.registerView(a,
b);a.render();this.show(a)},dashboard:function(a,b){function c(a){a=new D.default({model:a,editable:!0,autoSubmit:!0,publishMode:"publish"===b,editMode:"edit"===b});"publish"!==b&&k.registerView(a,g);a.render();k.show(a,"publish"===b)}"edit"===b&&window.router.navigate("dashboard/"+a,{replace:!0});a=parseInt(a,10);window.fileBrowserView.openToNodeId(a);(0,e.default)("#content").scrollTop(0);(0,e.default)("#content").scrollLeft(0);var g="dashboard/"+a,d=window.fragmentToView[g];if(d)d.changeEditMode("edit"===
b),this.show(d,"publish"===b),d.render();else{var d=window.treeCollection.get(a),k=this;d?c(d):window.conn.prefetchNode(a,function(){var b=window.treeCollection.get(a);b?c(b):(k.empty(),K.default.alert("Dashboard not found: "+a))})}},library:function(a){window.fileBrowserView.openToNodeId(a);window.reactRouter.library(a)},registerView:function(a,b){var c=window.nextViewId++;window.viewIdtoView[c]=a;window.viewIdToFragment[c]=b;a.$el.attr("id",c)},removeActiveView:function(){var a=window.activeView;
null!==a&&e.default.contains(document.documentElement,a.el)&&(this.shouldKeepInRecentViews(a)?(a.$el.appendTo((0,e.default)("#hidden")),this.pushRecentViewRoute(a.viewRoute)):a.remove())},shouldKeepInRecentViews:function(a){return(a=a.viewRoute)&&0!==a.indexOf("create/")&&0!==a.indexOf("setting/")&&0!==a.indexOf("job/")&&0!==a.indexOf("joblist")},pushRecentViewRoute:function(a){this.recentViewRoutes=h.default.without(this.recentViewRoutes,a);this.recentViewRoutes=[a].concat(this.recentViewRoutes);
this.recentViewRoutes.length>this.RECENT_VIEWS_TO_KEEP&&(a=window.fragmentToView[this.recentViewRoutes.pop()])&&r.default.removeView(a,!1);this.saveRecentViews()},displayViewPath:function(a,b){a.id?function(){var c=(0,e.default)("#tooltip");b.mouseenter(function(){var g=window.treeCollection.get(a.id),g=(g?g.get("path").split("/").slice(1):[]).map(function(a){return window.treeCollection.get(a).get("name")});c.html("<p>Workspace/"+g.join("/")+"</p>");c.css({top:b.offset().top+b.height()+5,left:b.offset().left});
c.show()});b.mouseleave(function(){c.hide()})}():b.unbind("mouseenter mouseleave")},removeContextBar:function(){(0,e.default)("#context-bar").hide();(0,e.default)("#content").css("top","0")},setupPresenceView:function(a){a&&window.settings.enablePresenceUI?B.default.setLocation(b.default.history.fragment):B.default.clear()},show:function(a,c){var g=this;this.unmountOldComponents();(0,e.default)("#content").scrollTop(0);c=c||!1;window.activeView=a;a.viewRoute=b.default.history.fragment;this.setupPresenceView(a.presenceSupported);
this.shouldKeepInRecentViews(a)&&(window.fragmentToView[b.default.history.fragment]=a);c?((0,e.default)("body").addClass("publishMode"),(0,e.default)("#content").append(a.el)):function(){(0,e.default)("#topbar").show();g.removeContextBar();a.$el.show();(0,e.default)("#content").append(a.el);var b=(0,e.default)("#topbar .tb-title"),c=(0,e.default)("#title-menu"),d=(0,e.default)("#topbar .tb-title-button"),m=k.default.select("#title-menu"),h=a.name||a.model.get("name");b.text(h);b.attr({"data-name":h});
var n=(0,e.default)(".tb-title-lang");a.language?(n.text(" ("+F.LanguageNames[a.language]+")"),n.attr({"data-lang":a.language})):(n.text(""),n.attr({"data-lang":"none"}));if(a.onShow)a.onShow();g.displayViewPath(a,b,n);a.hasTitleMenu?(d.toggle(!0),d.bind("submenu",function(){var a=d.position();m.style("top",a.top+40+"px");m.style("left",a.left+140+"px");c.empty()})):(d.toggle(!1),d.unbind("submenu"));P.BrowserUtils.setDocumentTitle(h);g.shouldKeepInRecentViews(a)&&g.pushRecentViewRoute(a.viewRoute);
window.fileBrowserView.updateRecentItems()}()}});l.exports=a},{"../applications/AppUI":12,"../applications/AppUIView":13,"../applications/ApplicationListView":16,"../filetree/NavFunc.jsx":72,"../jobs/FullElasticJobStatus":91,"../jobs/FullElasticRunStatus":92,"../jobs/JobRunView.jsx":95,"../jobs/LatestJobRunView.jsx":98,"../libraries/LibraryCreateView":108,"../libraries/MavenLibraryCreateView":111,"../libraries/PythonLibraryCreateView":112,"../notebook/FetchErrorPanel.jsx":160,"../notebook/LanguageNames":174,
"../notebook/ReactNotebookView.jsx":188,"../notebook/commands/DashboardView":197,"../notebook/dashboards/DashboardEditView.jsx":209,"../notebook/dashboards/DashboardPresentView.jsx":213,"../presence/Presence":224,"../tables/ReactTableView.jsx":259,"../tables/TableCreateView.jsx":261,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../urls/DbGuideUrls":321,"../user_platform/BrowserUtils":344,"./RouterUtils.jsx":61,backbone:407,d3:707,jquery:819,react:1001,"react-dom":865,underscore:1021}],
61:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.timedRoute=function(a,e,h,b){h||(h=this[e]);var c=function(){for(var b=Date.now(),c=arguments.length,k=Array(c),q=0;q<c;q++)k[q]=arguments[q];c=h.apply(this,k);b=Date.now()-b;window.recordEvent("clientSideRoute",{route:a,routeName:e,routeTime:b});return c}.bind(this);return b.call(this,a,e,c)}},{}],62:[function(a,l,f){var c=(f=a("underscore"))&&f.__esModule?f:{default:f},e=(a=a("backbone"))&&a.__esModule?a:{default:a};a=e.default.Collection.extend({startedWatching:!1,
initialize:function(a,b){b&&(this.deltaPublisherRoot=b.deltaPublisherRoot,this.parent=b.parent)},url:function(){return"/tree/"+this.deltaPublisherRoot+"/immediate_children"},startWatching:function(){this.deltaPublisherRoot?this.startedWatching||(this.fetchAndUpdate(),window.conn.setDataHandler("/"+this.deltaPublisherRoot+"/",c.default.bind(function(a){this.updateItem(a)},this)),this.startedWatching=!0):console.error("Delta publisher root not set: "+this.deltaPublisherRoot)},stopWatching:function(){this.startedWatching&&
(this.startedWatching=!1,window.conn.removeDataHandler("/"+this.deltaPublisherRoot+"/"))},fetchAndUpdate:function(a){var b=this;this.fetchAndUpdateXHR=e.default.sync("read",this,{success:function(c){b.updateCollection(b,c);a&&a.success&&a.success()},error:function(b){console.error(b);a&&a.failure&&a.failure()}})},updateCollection:function(a,b){c.default.each(b,function(a){this.setModelParent(a)},this);a.reset(b)},setModelParent:function(a){this.parent&&(a.parent=this.parent)},addItem:function(a){this.setModelParent(a);
return this.add(a)},updateItem:function(a){var b,c;switch(a.deltaEvent){case "create":c=void 0!==a.guid?this.where({guid:a.guid}):this.where({id:a.id});1<c.length?console.error("DELTA: Serious! seeing multiple items with the same id",c):1===c.length?(b=c[0],b.get("deltaVersion")>a.deltaVersion?window.prefs.get("debugDeltas")&&console.warn("DELTA: Asked to add an existent item",a,b):c[0].set(a,{deltaEvent:"create"})):this.addItem(a);break;case "delete":b=this.get(a.id);if(void 0===b){window.prefs.get("debugDeltas")&&
console.warn("DELTA: Asked to delete a non-existent item",a);break}else if(b.get("deltaVersion")>=a.deltaVersion){console.error("DELTA: Asked to delete a newer version",a,b);break}this.remove(a);break;case "update":b=this.get(a.id);if(void 0===b){window.prefs.get("debugDeltas")&&console.warn("Delta update asked to update an item that doesn't exist",a);break}else if(b.get("deltaVersion")>=a.deltaVersion){console.error("DELTA: Asked to update a newer version",a,b);break}b.set(a,{deltaEvent:"update"});
break;case "full":c=a.guid?this.where({guid:a.guid}):this.where({id:a.id}),1<c.length?console.error("DELTA: Serious! seeing multiple items with the same id",c):1===c.length?(b=c[0],b.get("deltaVersion")>a.deltaVersion?window.prefs.get("debugDeltas")&&console.warn("DELTA: Asked to add an existent item",a,b):a.guid&&a.guid!==b.get("guid")?console.error("Delta GUID does not match Model GUID!",a,b):b.id&&a.id!==b.id?console.error("Delta ID does not match Model ID!",a,b):b.set(a,{deltaEvent:"full"})):
this.addItem(a)}}});l.exports=a},{backbone:407,underscore:1021}],63:[function(a,l,f){var c=(f=a("backbone"))&&f.__esModule?f:{default:f},e=(a=a("../delta_receiver/CollectionDeltaReceiver"))&&a.__esModule?a:{default:a};a=c.default.View.extend({collection:null,startWatching:function(a,b){this.collection=new e.default([],{deltaPublisherRoot:a,model:b});this.listenTo(this.collection,"add",this.onModelAdd);this.listenTo(this.collection,"remove",this.onModelRemove);this.listenTo(this.collection,"reset",
this.onModelReset);this.listenTo(this.collection,"add remove reset change",this.render);this.collection.startWatching()},remove:function(){c.default.View.prototype.remove.call(this);this.collection.stopWatching()},onModelAdd:function(){},onModelRemove:function(){},onModelReset:function(){},render:function(){}});l.exports=a},{"../delta_receiver/CollectionDeltaReceiver":62,backbone:407}],64:[function(a,l,f){a=a("../delta_receiver/CollectionDeltaReceiverView");a=(a&&a.__esModule?a:{default:a}).default.extend({model:null,
onChangeCallback:null,onModelAdd:function(){this._updateFromCollection()},onModelRemove:function(){this._updateFromCollection()},onModelReset:function(){this._updateFromCollection()},onChange:function(a){this.onChangeCallback=a},render:function(){if(null!==this.onChangeCallback)this.onChangeCallback()},_updateFromCollection:function(){if(1===this.collection.models.length){if(this.model=this.collection.models[0],null!==this.onChangeCallback)this.onChangeCallback()}else if(0===this.collection.models.length){if(this.model=
null,null!==this.onChangeCallback)this.onChangeCallback()}else throw console.error("Unexpected collection length",this.collection.models),Error("unexpected collection length "+this.collection.models.length);}});l.exports=a},{"../delta_receiver/CollectionDeltaReceiverView":63}],65:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.FileBrowserUtils=void 0;var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in
d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,n){c&&a(b.prototype,c);n&&a(b,n);return b}}(),e=(l=a("../filetree/WorkspaceConstants"))&&l.__esModule?l:{default:l},h=(a=a("../ui_building_blocks/icons/IconsForType"))&&a.__esModule?a:{default:a};f.FileBrowserUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"isSystemFolder",value:function(a){return"folder"===a.get("type")&&a.get(e.default.NonModifiableAttribute)}},
{key:"isPermissionModifiable",value:function(b){var c=b.get("type"),k=b.get("name"),m=b.get("isExample");b=a.isSystemFolder(b);return!(m||b&&k===e.default.SharedFolderName)&&("shell"===c||"folder"===c)}},{key:"isHomeFolder",value:function(a){return"folder"===a.get("type")&&void 0!==a.get(e.default.UserIdAttribute)&&null!==a.get(e.default.UserIdAttribute)}},{key:"iconsForModel",value:function(b){var c=b.get("type"),k=b.get("icon")||h.default[c],m=k===h.default.folder?h.default.openFolder:void 0;b.get("isExample")&&
0===b.get("parentId")&&(k=h.default.example,m=void 0);var q=a.isHomeFolder(b);b.get(e.default.NonModifiableAttribute)&&b.get("name")===e.default.UserFolderName?(k=h.default.users,m=void 0):b.get(e.default.NonModifiableAttribute)&&b.get("name")===e.default.SharedFolderName?(k=h.default.shared,m=void 0):q&&(b.get("name")===window.settings.user?(k=h.default.home,m=void 0):(k=h.default.userFolder,m=h.default.openUserFolder));"table"===c&&b.has("hasError")&&!0===b.get("hasError")&&(k="exclamation-circle");
return{icon:k,openIcon:m||k}}}]);return a}()},{"../filetree/WorkspaceConstants":75,"../ui_building_blocks/icons/IconsForType":304}],66:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){return a.nodeMapKey?a.nodeMapKey():a.has("id")?a.get("id"):a.get("name")}function h(a){return k.default.contains(["shell","folder","library","dashboard"],a.get("type"))&&0<a.id&&!a.get("isExample")&&!a.get(g.default.NonModifiableAttribute)}f=a("jquery");var b=c(f);f=a("underscore");var k=
c(f);f=a("backbone");f=c(f);var d=a("d3"),n=c(d),d=a("react"),m=c(d),d=a("react-dom"),q=c(d),w=a("../acl/PermissionEditView.jsx"),d=a("../filebrowser/TreeNode"),p=c(d),r=a("../filebrowser/FileBrowserUtils"),t=a("../filetree/DeleteNodeCallbacks"),d=a("../filetree/FileTree"),u=c(d),d=a("../filetree/NavFunc.jsx"),y=c(d),A=a("../filetree/RoutingConstants"),d=a("../filetree/WorkspaceConstants"),g=c(d),v=a("../js_polyfill/TimingUtils"),d=a("../local_storage/LocalUserPreference"),z=c(d),d=a("../search/SearchPanelView.jsx"),
B=c(d),G=a("../static/StaticNotebookUrls"),d=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),x=c(d),d=a("../ui_building_blocks/dialogs/ReactModalUtils"),D=c(d),d=a("../ui_building_blocks/icons/IconsForType"),E=c(d),F=a("../user_platform/BrowserUtils"),J=-1E3;a=f.default.View.extend({initialize:function(a){var c=this,d=this;this.tables=a.tables;this.rootEl=(0,b.default)("<ul/>").addClass("sidebar-nav")[0];this.contextMenu=(0,b.default)("<div/>").addClass("filebrowser-context-menu dropdown-menu");
this.fileBrowserDiv=(0,b.default)("div.filebrowser.filetree");(0,b.default)("body").append(this.contextMenu);this.nodeMap={};this.loadedDirectories=new Map;this.$el.append(this.rootEl);this.registerEventHandlers(0,this.model);var k=[];window.settings.showWorkspaceFeaturedLinks&&window.settings.workspaceFeaturedLinks&&0<window.settings.workspaceFeaturedLinks.length&&window.settings.workspaceFeaturedLinks.forEach(function(a){var b;b=--J;var g=window.settings.useFramedStaticNotebooks?G.StaticNotebookUrls.getFramedStaticNotebookUrl(a.linkURI):
a.linkURI;a={id:b,name:a.displayName,model:new p.default({id:b,parentId:0,name:a.displayName,type:"link",icon:a.icon?a.icon:E.default.link}),url:g,hasChildren:!1,hasMenu:!1,nonRemovable:!0,isExample:!0};c.nodeMap[b]=a;k.push(a)});this.nodeMap[0]={id:0,model:new p.default({id:0,parentId:0,name:"Workspace",type:"folder"}),children:k,expanded:!0,nonRemovable:!0,droppable:!0};var h=this.toTreeNode(this.nodeMap[0]),e={id:0,name:"Workspace",display:"top-link",hasChildren:!1,hasMenu:!0};this.topLevelFolders=
[this.nodeMap[0]];this.treeProvider={getRootNode:function(){return h},getChildren:function(a,b){var c=function(a){return!a.hidden||window.settings.showHidden};a.id in d.nodeMap?function(){var g=d.nodeMap[a.id];d._withDirectoryLoaded(g,function(){var k=g.children.map(d.toTreeNode.bind(d)).filter(c).sort(d._nodeSortFunc.bind(d)),k=0===a.id?[e].concat(k):[{id:a.id,name:a.name,display:"top-link",hasChildren:!1,hasMenu:!0}].concat(k);b(k)})}():b([])},getParent:function(a,b){a.id in d.nodeMap?(a=d.getModel(a.id).get("parentId"),
void 0!==a&&0===a?b(this.getRootNode()):void 0!==a&&a in d.nodeMap?b(d.toTreeNode(d.nodeMap[a])):b(void 0)):b(void 0)},nodeClicked:function(a){a.url&&(window.recordEvent("fileBrowserNodeClicked",{httpTarget:a.url}),0===a.url.indexOf("http")?window.open(a.url,"_blank"):window.router.navigate(a.url,{trigger:!0}),d.fileTree.isPinned()||d.toggleFileBrowser(!1))},dropdownClicked:function(a,c){var g=void 0;c=c||{};if(c.left){if(g={left:c.left-14,top:c.top+8},"undefined"!==typeof InstallTrigger)(0,b.default)(document).one("mouseup",
function(){setTimeout(function(){d.contextMenu.hasClass("active")&&d.contextMenu.show()},0)})}else{g=(0,b.default)(n.default.event.target).closest(".dropdown");if(g.hasClass("active")){d.hideContextMenu();return}g=g.find("i").offset()||{};g.left-=15;g.top+=18}a=d.nodeMap[a.id];d.resetContextMenu(d.contextMenu);d.renderMenu(d.contextMenu[0],a,g.left,g.top,c.isPanelContext);d.ensureRenderedInVisibleArea(d.contextMenu,window.innerHeight,window.innerWidth,g,a,c.isPanelContext);d.contextMenu.addClass("active")},
nodeDropped:function(a,b){d.nodeDropped(a,b)},dragStarted:function(){d.hideContextMenu()}};this.fileTree=new u.default(this.$el,this.treeProvider,{bigFirstLevel:!0,dragAndDrop:!0,scrollElement:(0,b.default)("body"),pinnable:!0});this.fileBrowserOpen=!1;this.fileBrowserDiv=(0,b.default)("#filebrowser-popup .filebrowser");this.fileBrowserDiv.attr({"data-state":"invisible"});this.fileBrowserDiv.attr({"data-history-size":window.router.RECENT_VIEWS_TO_KEEP});this.searchPanelInTransit=this.searchPanelOpen=
!1;this.searchPanelDiv=(0,b.default)("#searchpanel-popup .searchpanel");this.searchPanelDiv.attr({"data-state":"invisible"});a=m.default.createFactory(B.default)({topLevelFolders:this.topLevelFolders,toggleSearchPanelFunc:function(){d.toggleSearchPanel(!1)},closeFileBrowserFunc:function(){d.toggleFileBrowser(!1,!0,!0,!1)},navigateFunc:function(a){0===a.indexOf("http")?window.open(a,"_blank"):window.router.navigate(a.substring(1),{trigger:!0})},enableFullTextSearch:window.settings.enableFullTextSearch,
searchPlaceholder:"Search Workspace"});this.searchPanelView=q.default.render(a,this.searchPanelDiv[0]);this.refreshQueued=!1;n.default.selectAll(g.default.RIGHT_PANE_SELECTOR).style("left","70px");this.localPref=new z.default("fileBrowserView");this.render()},_withDirectoryLoaded:function(a,b){if(!this.loadedDirectories.get(a.id)&&window.settings.enableLazySidebar){var c=a.children.map(function(a){return a.id});window.conn.loadDirectory(a.id,c,b);this.loadedDirectories.set(a.id,!0)}else b()},invalidateLoadedDirectories:function(){console.debug("Marking all loaded directories as invalid",
this.loadedDirectories);this.loadedDirectories.clear();this.fileTree.refreshAllNodes()},registerEventHandlers:function(a,b,c){var g=this;this.listenTo(b,"add",function(b){window.nodeMap=g.nodeMap;var d=e(b),k=!c&&b.get("parentId")||a;g.nodeMap[d]={id:d,model:b,expanded:!0,children:d in g.nodeMap?g.nodeMap[d].children:[]};k in g.nodeMap||(g.nodeMap[k]={children:[]});g.nodeMap[k].children.push(g.nodeMap[d]);g.fileTree&&(g.fileBrowserOpen||g.searchPanelOpen)&&g.queueFileTreeRefresh()});this.listenTo(b,
"change",function(a){var b=a.changedAttributes();if(b&&b.hasOwnProperty("parentId")){var c=e(a),b=a.previousAttributes().parentId;a=a.get("parentId");a in g.nodeMap||(g.nodeMap[a]={children:[]});c=g.nodeMap[c];b=g.nodeMap[b];a=g.nodeMap[a];void 0!==b&&void 0!==b.children&&(b.children=k.default.without(b.children,c));a.children.push(c)}g.fileTree&&(g.fileBrowserOpen||g.searchPanelOpen)&&g.queueFileTreeRefresh()});this.listenTo(b,"remove",function(b){var d=e(b),m=g.nodeMap[d],n=g.nodeMap[!c&&b.get("parentId")||
a];void 0!==n&&void 0!==n.children&&(n.children=k.default.without(n.children,m));delete g.nodeMap[d];m||console.warn("FileBrowserView got remove event for unknown node",d,b);if(m&&m.children&&0<m.children.length)for(b=0;b<m.children.length;b++)g.getModelFromEntry(m.children[b]).destroy();g.fileTree&&(g.fileBrowserOpen||g.searchPanelOpen)&&g.queueFileTreeRefresh()})},_renameExample:function(a){a=a.replace(/_/g," ");return a=a.replace(/\b\w/g,function(a){return a.toUpperCase()})},toTreeNode:function(a){var b=
this.getModel(a.id),c=b.get("type"),g=e(b),d=0<=a.id&&"folder"===c||0===a.id,k=r.FileBrowserUtils.iconsForModel(b),m=b.get("name");b.get("isExample")&&0===b.get("parentId")&&(m=this._renameExample(m));var n=r.FileBrowserUtils.isSystemFolder(b),v=r.FileBrowserUtils.isHomeFolder(b),q={};"shell"===c&&(q=b.get("clusterReady")?{"data-cluster-ready":!0}:{"data-cluster-ready":!1});var z=void 0;a.url?z=a.url:b.has("viewRoute")?z="#"+b.get("viewRoute"):"shell"===b.get("type")?z="#notebook/"+a.id:"folder"!==
b.get("type")&&(z="#"+c+"/"+a.id);var p="";if("table"===c){q={"data-cache-state":"uncached"};if(b.has("fractionCached"))if(c=Math.round(100*b.get("fractionCached")),100===c)p=String.fromCharCode(10003),q={"data-cache-state":"cached"};else if(0<c||!0===b.get("progress"))p=c+"%",q={"data-cache-state":"in-progress"};b.has("hasError")&&!0===b.get("hasError")&&console.error("Table ",b.get("name")," has error:",b.get("comments"))}var c=!0===b.get("hidden"),t=h(b),u=d&&!b.get("isExample"),w=a.isExample||
y.default.isExampleNode(g),f=b.get("sortIndex");return{id:g,name:m,icon:k.icon,openIcon:k.openIcon,url:z,hasChildren:d,draggable:t,droppable:u,hidden:c,hasMenu:!1!==a.hasMenu,isExample:w,isSystemFolder:n,isHomeFolder:v,domAttributes:q,annotationText:p,display:a.display||b.get("display"),sortIndex:f}},leftMargin:function(){var a=this.fileBrowserOpen?this.fileBrowserDiv.outerWidth()+70:70,b=this.searchPanelOpen?this.searchPanelDiv.outerWidth()+70:70;return Math.max(a,b)},showFileBrowser:function(){this.fileBrowserOpen||
this.toggleFileBrowser()},hideFileBrowser:function(){this.fileBrowserOpen&&this.toggleFileBrowser()},toggleFileBrowser:function(a,b,c,d,k){var m=this;if(!k&&this.fileBrowserDiv.hasClass("in-transit"))console.log("Ignored toggleFileBrowser call because the file browser is in transit.");else{window.recordEvent("toggleFileBrowser");this.fileBrowserOpen=this.fileBrowserOpen&&!this.searchPanelOpen;a=void 0!==a?a:!this.fileBrowserOpen;window.sidebar.ensureStateInSyncWithFileBrowser(a);b=void 0!==b?b:!0;
d=void 0!==d?d:!0;var h=this;(a!==this.fileBrowserOpen||c)&&function(){m.fileBrowserDiv.toggleClass("in-transit",!0);var c=m.fileBrowserDiv,k=void 0;a?(m.fileTree.refreshAllNodes(),m.refreshQueued=!1,d&&m.toggleSearchPanel(!1,!1),c.show(),k=c.outerWidth(),n.default.select(c[0]).style("left",-k+"px"),n.default.select(c[0]).transition().style("left","0px").each("end",function(){c.attr({"data-state":"visible"});h.fileBrowserDiv.toggleClass("in-transit",!1)}),m.fileBrowserOpen=!0,b&&n.default.selectAll(g.default.RIGHT_PANE_SELECTOR).transition().style("left",
m.leftMargin()+"px"),m.fileTree.setPushElement(g.default.RIGHT_PANE_SELECTOR),m.nodeIdToOpenOnShowFileBrowser in m.nodeMap&&(k=m.toTreeNode(m.nodeMap[m.nodeIdToOpenOnShowFileBrowser]),m.fileTree.openToNode(k),m.nodeIdToOpenOnShowFileBrowser=void 0)):(k=c.outerWidth(),n.default.select(c[0]).transition().style("left",-k+"px").each("end",function(){c.hide();c.attr({"data-state":"invisible"});h.fileBrowserDiv.toggleClass("in-transit",!1)}),m.fileBrowserOpen=!1,b&&n.default.selectAll(g.default.RIGHT_PANE_SELECTOR).transition().style("left",
m.leftMargin()+"px"),m.fileTree.setPushElement(null))}()}},toggleSearchPanel:function(a,b,c){var d=this;if(!c&&this.searchPanelInTransit)console.log("Ignored toggleSearchPanel call because the search panel is in transit.");else{a=void 0!==a?a:!this.searchPanelOpen;window.sidebar.ensureStateInSyncWithSearchPanel(a);b=void 0!==b?b:!0;var k=this;a!==this.searchPanelOpen&&function(){d.searchPanelInTransit=!0;var a=d.searchPanelDiv,c=void 0;d.searchPanelOpen?(c=a.outerWidth(),n.default.select(a[0]).transition().style("left",
-c+"px").each("end",function(){a.hide();a.attr({"data-state":"invisible"});k.searchPanelInTransit=!1}),d.searchPanelView.onHidePanel(),d.searchPanelOpen=!1):(d.fileTree.refreshAllNodes(),d.refreshQueued=!1,d.toggleFileBrowser(!1,!1),a.show(),c=a.outerWidth(),n.default.select(a[0]).style("left",-c+"px"),n.default.select(a[0]).transition().style("left","0px").each("end",function(){a.attr({"data-state":"visible"});k.searchPanelInTransit=!1}),d.searchPanelView.onShowPanel(),d.searchPanelOpen=!0);b&&n.default.selectAll(g.default.RIGHT_PANE_SELECTOR).transition().style("left",
d.leftMargin()+"px")}()}},getModel:function(a){return 0===a?new p.default({id:0,name:"Workspace",type:"folder"}):this.getModelFromEntry(this.nodeMap[a])},getModelFromEntry:function(a){var b=window.treeCollection.get(a.id);return b?b:a.model},getFullPath:function(a){a=this.getModel(a);return a.has("parentId")&&0!==a.get("parentId")?this.getFullPath(a.get("parentId"))+"/"+a.get("name"):a.get("name")},getIDFromFullPath:function(a,b){function c(a,b,c,d){return function(k){k=g.getModelFromEntry(k);return k.get("name")===
c[a]&&k.get("parentId")===b&&k.get("type")===(a===c.length-1?d:"folder")}}var g=this;a=a.split("/");for(var d=0,k=this.nodeMap[0].children,m=0;m<a.length;m++){k=k.filter(c(m,d,a,b));if(0===k.length)return null;if(m===a.length-1)return k[0].id;d=k[0].id;k=k[0].children}},getNumDescendants:function(a){a=this.nodeMap[a].children;if(void 0===a)return 0;for(var b=a.length,c=0;c<a.length;c++)b+=this.getNumDescendants(a[c].id);return b},createNode:function(a,b){var c=this;void 0===a.parentId&&(a.parentId=
0);c.model.create(a,{wait:!0,success:function(g){"folder"===a.type||c.fileTree.isPinned()||c.toggleFileBrowser(!1);void 0!==b&&b(g)},error:function(a,b){x.default.alert("Creating the element failed: "+b.statusText)}})},createNotebook:function(a,c){var g=this;void 0===a.parentId&&(a.parentId=0);b.default.ajax({context:this,type:"POST",url:"/notebook",data:JSON.stringify(a),contentType:"application/json; charset=utf-8",dataType:"json",success:function(a){v.TimingUtils.retryUntil({condition:function(){return window.treeCollection.get(a.id)?
!0:!1},success:function(){g.fileTree.isPinned()||g.toggleFileBrowser(!1);if(c){var b=window.treeCollection.get(a.id);c(b)}},error:function(){console.error("Notebook with id "+a.id+" did not appear in tree collection")},interval:50,maxAttempts:20})},error:function(a,b,c){x.default.alert("Creating notebook failed: "+c)}})},getDeleteNodeCallback:function(a){if("table"===a.get("type"))return t.DeleteNodeCallbacks.getTableCallback(a);if("library"===a.get("type"))return t.DeleteNodeCallbacks.getLibraryCallback(a)},
deleteNode:function(a){var b=this.getModel(a),c=this.getNumDescendants(a),g=this.getDeleteNodeCallback(b);y.default.deleteNode(a,b,c,g)},renameNode:function(a){var b=this.getModel(a);y.default.renameNode(a,b)},_moveNodes:function(a,b){y.default.moveNodes(a,b,this);this.fileTree.openToNode(b)},moveNode:function(a){var b=this,c=this.getModel(a);if(c){var g=[{controlType:"filetreePath",pathlabel:"Moving to folder: "},{controlType:"filetree",id:"picker",nodeType:"folder",hideExamples:!0}];"folder"===
c.get("type")&&g.push({label:"Move all items in '"+c.get("name")+"' rather than the folder itself."+(window.settings.enableWorkspaceAclsConfig?" Permissions may change for these items.":""),labelLeft:!0,controlType:"input",type:"checkbox",id:"moveContentsOnly"});g=x.default.custom({title:"Moving '"+c.get("name")+"'",confirmButton:"Select",class:"move-file-dialog",controls:g,confirm:function(g){var d=g.find("#picker")[0].fileTree.selectedFolder().node;(g=(g=g.find("#moveContentsOnly")[0])&&g.checked)?
(g=g?window.treeCollection.where({parentId:a}):[c],b._moveNodes(g,d)):(g=b._moveNodes.bind(b,[c],d),window.settings.enableWorkspaceAclsConfig?b.checkAndPreviewPermission(c,d.id,g):g())}});if(c){var d=this.getModel(c.get("parentId")),d=this.toTreeNode(d);g.find("#picker")[0].fileTree.openToNode(d)}}},_nodeSortGroup:function(a){return void 0!==a.sortIndex?0:a.isExample?1:a.isSystemFolder?2:3},_nodeSortFunc:function(a,b){var c=this._nodeSortGroup(a),g=this._nodeSortGroup(b);return c!==g?c-g:0===c&&a.sortIndex!==
b.sortIndex?a.sortIndex-b.sortIndex:a.name.localeCompare(b.name)},setSortIndexForNode:function(a,b){var c=this.getModel(a);0<a&&(c.set({sortIndex:b}),c.save({sortIndex:b},{patch:!0}));this.queueFileTreeRefresh()},sortIndexForNode:function(a){return this.getModel(a).get("sortIndex")},renderMenu:function(a,c,d,k,e){var v=this;if(c.menu&&0===c.menu.length&&c.nonRemovable)return!1;var q=window.settings&&window.settings.enableWorkspaceAclsConfig,z=this.getModel(c.id),p=z.get("isExample"),t=z.get("type"),
u=0>=z.id,f="folder"===t&&!z.get(g.default.NoChildrenAttribute)&&!p,B="shell"===t||"dashboard"===t||"folder"===t,A="shell"===t,x="shell"===t||"folder"===t&&window.settings.enableFolderHtmlExport,l="shell"===t&&"python"===z.get("language"),G=("shell"===t||"dashboard"===t||"folder"===t)&&!u,u=(!u||0===z.id)&&r.FileBrowserUtils.isPermissionModifiable(z),E=!c.nonRemovable&&!p&&!z.get(g.default.NonModifiableAttribute),J=E&&"table"!==t&&"library"!==t,N=h(z);this.$("div.dropdown.active").removeClass("active");
p=n.default.select(a);p.on("contextmenu",function(){n.default.event.preventDefault()});p.attr("data-id",c.id);p.style("display","block").attr("role","menu").classed("dropdown-menu",!0).style("left",d+"px").style("top",k+"px").html("");d=function(c,g,d){c=c.append("li").append("a").attr("href","#").attr("data-name",g).text(g);c.on("click",function(){window.recordEvent("menuItemClicked",{parentMenuName:z.get("name"),menuName:g});d();(0,b.default)(a).hide();v.$("div.dropdown.active").removeClass("active");
n.default.event.preventDefault()});return c};if(c.menu)p.selectAll("li").data(c.menu).enter().append("li").append("a").attr("href","#").attr("data-name",function(a){return a.name}).text(function(a){return a.name}).on("click",function(g){g.action(c);(0,b.default)(a).hide();v.$("div.dropdown.active").removeClass("active");n.default.event.preventDefault()});var P=void 0,L=void 0;f&&(L=p.append("li").classed("dropdown-submenu",!0),P=L.append("a").attr("href","#").attr("data-name","Create").text("Create").on("click",
function(){n.default.event.preventDefault()}),k=L.append("ul").classed("dropdown-menu",!0),d(k,"Notebook",function(){y.default.addReactNotebook(c.id)}),d(k,"Library",function(){y.default.addLibrary(c.id);v.toggleFileBrowser(!1)}),d(k,"Folder",function(){y.default.addFolder(c.id)}));var K=void 0;G&&!e&&(K=d(p,"Clone",function(){y.default.cloneNode(c.id);n.default.event.preventDefault()}));var I=void 0;J&&!e&&(I=d(p,"Rename",function(){v.renameNode(c.id);n.default.event.preventDefault()}));var pa=void 0;
N&&!e&&(pa=d(p,"Move",function(){v.moveNode(c.id);n.default.event.preventDefault()}));var fa=void 0;E&&!e&&(fa=d(p,"Delete",function(){v.deleteNode(c.id);n.default.event.preventDefault()}));var ea=void 0;f&&(ea=d(p,"Import",function(){y.default.importItem(c.id)}));var Z=void 0,C=void 0;B&&!e&&(C=p.append("li").classed("dropdown-submenu",!0),Z=C.append("a").attr("href","#").attr("data-name","Export").text("Export").on("click",function(){n.default.event.preventDefault()}),e=C.append("ul").classed("dropdown-menu",
!0),d(e,"DBC Archive",function(){y.default.exportItem(c.id);n.default.event.preventDefault()}),A&&d(e,"Source File",function(){y.default.exportSource(c.id);n.default.event.preventDefault()}),x&&(window.settings.enableStaticNotebooks||window.testMode)&&d(e,"HTML",function(){y.default.exportHTML(c.id)}),l&&window.settings.enableIPythonImportExport&&d(e,"IPython Notebook",function(){y.default.exportIPython(c.id);n.default.event.preventDefault()}));var va=void 0;u&&q&&(va=d(p,"Permissions",function(){n.default.event.preventDefault();
window.recordEvent("notebookActionsClicked",F.BrowserUtils.getMeasurementTags({actionSelected:"openPermissions"}));z.fetchWorkspaceAcl(function(){var a=m.default.createElement(w.PermissionEditView,{workspaceAcl:z.get("workspaceAcl")});D.default.createModal(a)})}));if(q&&("shell"===t||"folder"===t)&&0<=c.id){fa&&fa.attr("disabled",!0);pa&&pa.attr("disabled",!0);va&&va.attr("disabled",!0);if(P||L)L.classed("dropdown-disabled",!0),P.attr("disabled",!0);K&&K.attr("disabled",!0);I&&I.attr("disabled",!0);
ea&&ea.attr("disabled",!0);if(Z||C)C.classed("dropdown-disabled",!0),Z.attr("disabled",!0);z.fetchPermissionLevel(function(){if(this.canManage()){fa&&fa.attr("disabled",null);I&&I.attr("disabled",null);pa&&pa.attr("disabled",null);va&&va.attr("disabled",null);if(P||L)L.classed("dropdown-disabled",!1),P.attr("disabled",null);ea&&ea.attr("disabled",null)}this.canView()&&(K&&K.attr("disabled",null),Z||C)&&(C.classed("dropdown-disabled",!1),Z.attr("disabled",null))})}0===p[0][0].childNodes.length&&v.hideContextMenu();
return!0},updateRecentItems:function(){this.fileTree.refreshAllNodes();this.refreshQueued=!1},getAncestors:function(a){y.default.getAncestors(a)},nodeDropped:function(a,b){a=this.getModel(a.id);var c=b.id;b=this._moveNodes.bind(this,[a],b);var g=a.get("type");("shell"===g||"folder"===g)&&window.settings&&window.settings.enableWorkspaceAclsConfig?this.checkAndPreviewPermission(a,c,b):b()},ensureRenderedInVisibleArea:function(a,b,c,g,d,k){var m=a[0],n=m.getBoundingClientRect();b=n.bottom>b;c=n.right>
c;if(b||c)b&&(g.top=g.top-n.height-27,a.addClass("above")),c&&(g.left=g.left-n.width+37,a.addClass("left")),this.renderMenu(m,d,g.left,g.top,k)},entryFromViewRoute:function(a){if(/^(shell\/|dashboard\/|notebook\/).*/.test(a)){var b=a.substr(a.lastIndexOf("/")+1);return this.toRecentNode(this.nodeMap[b])}if(/^table.*/.test(a)){if(b=a.substr(a.lastIndexOf("/")+1),this.tables.find(function(b){return b.get("viewRoute")===a}))return{id:"-table-"+b,uniqueId:b,type:A.RoutingConstants.TABLE_TYPE,name:b,icon:"table",
url:"#"+a}}else{if("setting/clusters"===a)return{id:"-recent-clusters",name:"Clusters",icon:"sitemap",url:"#setting/clusters"};if("setting/applications"===a)return{id:"-recent-applications",name:"Applications",icon:"th",url:"#setting/applications"};if("setting/accounts"===a)return{id:"-recent-accounts",name:"Settings",icon:"gear",url:"#setting/accounts"};if("joblist"===a)return{id:"-recent-jobs",name:"Jobs",icon:"calendar",url:"#joblist"};if(""===a)return{id:"-recent-home",name:"Home",icon:"home",
url:""}}return null},toRecentNode:function(a){return a?(a=this.toTreeNode(a),a.uniqueId=a.id,a.id="-recent-"+a.id,a.type=A.RoutingConstants.NODE_TYPE,a.display=void 0,a.hasMenu=!1,a.selectable=!1,a.draggable=!1,a.menu=[],a):null},resetContextMenu:function(a){a.removeClass("above");a.removeClass("left")},checkAndPreviewPermission:function(a,b,c){y.default.checkAndPreviewPermission(a,b,c)},openToNodeId:function(a,b){this.nodeIdToOpenOnShowFileBrowser=a;(void 0!==b?b:1)||this.toggleFileBrowser(!0,!0,
!0,!1)},hideContextMenu:function(){this.contextMenu.is(":visible")&&(this.$("div.dropdown.active").removeClass("active"),this.contextMenu.removeClass("active"),this.contextMenu.hide())},getReadOnlyTreeProvider:function(a,b){var c=this,g=new u.default.Node(0,"Workspace",null,!0),d=function(g){g=c.getModel(g.id);var d=g.get("type"),k=void 0;"library"===d&&(k=g.get("libraryType"));return b&&g.get("isExample")?!1:"folder"===d||d===a||a instanceof Array&&a.includes(d)||k===a||a instanceof Array&&a.includes(k)||
void 0===a};return{getRootNode:function(){return g},getChildren:function(a,b){a.id in c.nodeMap?function(){var g=c.nodeMap[a.id];c._withDirectoryLoaded(g,function(){var a=g.children.filter(d);b(a.map(c.toTreeNode.bind(c)).filter(function(a){return!a.hidden||window.settings.showHidden}).sort(c._nodeSortFunc.bind(c)))})}():b([])},getParent:function(a,b){a.id in c.nodeMap?(a=c.getModel(a.id).get("parentId"),void 0!==a&&0===a?b(this.getRootNode()):void 0!==a&&a in c.nodeMap?b(c.toTreeNode(c.nodeMap[a])):
b(void 0)):b(void 0)}}},queueFileTreeRefresh:function(){var a=this;a.refreshQueued||(window.setTimeout(function(){a.refreshQueued&&(a.fileTree.refreshAllNodes(),a.refreshQueued=!1)},0),a.refreshQueued=!0)}});l.exports=a},{"../acl/PermissionEditView.jsx":6,"../filebrowser/FileBrowserUtils":65,"../filebrowser/TreeNode":68,"../filetree/DeleteNodeCallbacks":70,"../filetree/FileTree":71,"../filetree/NavFunc.jsx":72,"../filetree/RoutingConstants":74,"../filetree/WorkspaceConstants":75,"../js_polyfill/TimingUtils":106,
"../local_storage/LocalUserPreference":128,"../search/SearchPanelView.jsx":241,"../static/StaticNotebookUrls":254,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/dialogs/ReactModalUtils":300,"../ui_building_blocks/icons/IconsForType":304,"../user_platform/BrowserUtils":344,backbone:407,d3:707,jquery:819,react:1001,"react-dom":865,underscore:1021}],67:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("react");var h=c(f);
f=a("../forms/ReactDropzone.jsx");var b=c(f);f=a("../forms/ReactFormElements.jsx");f=c(f);var k=a("../forms/ReactFormFooter.jsx"),d=c(k),k=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),n=c(k),k=a("../ui_building_blocks/dialogs/ReactModal.jsx"),m=c(k),k=a("../ui_building_blocks/dialogs/ReactModalUtils"),q=c(k),k=a("../ui_building_blocks/icons/IconsForType"),w=c(k),p=a("../validators/UrlValidators"),r=f.default.Input,t=h.default.createClass({displayName:"ImportDialog",propTypes:{parentId:h.default.PropTypes.number.isRequired},
getInitialState:function(){return{inputType:"file",confirmed:!1}},_acceptedFilesString:function(){var a=".dbc .scala .py .sql .r .ipynb".split(" ");window.settings.enableStaticHtmlImport&&a.push(".html");return a.join(", ")},_setType:function(a){this.state.confirmed||(this.setState({inputType:a}),this.checkInputFocus=!0)},_renderTypeToggle:function(){var a="file"===this.state.inputType?"checked":void 0,b="url"===this.state.inputType?"checked":void 0,c=this.state.confirmed?"disabled":!1,g=this._setType.bind(this,
"file"),d=this._setType.bind(this,"url");return h.default.createElement("div",{className:"import-from-block"},h.default.createElement("span",{className:"import-from-text"},"Import from:"),h.default.createElement("a",{className:"pointer import-from-link import-file-radio",onClick:g},h.default.createElement("input",{type:"radio",name:"link",value:"file",checked:a,disabled:c}),h.default.createElement("span",{className:"import-radio-label"}," File")),h.default.createElement("a",{className:"pointer import-from-link import-url-radio",
onClick:d},h.default.createElement("input",{type:"radio",name:"link",value:"url",checked:b,disabled:c}),h.default.createElement("span",{className:"import-radio-label"}," URL")))},_renderDropzone:function(){var a=this,c={url:"/upload/import-files",acceptedFiles:a._acceptedFilesString(),addRemoveLinks:!1,dictDefaultMessage:"Drop file here to upload or click to select.",maxFiles:1,init:function(){this.on("success",function(b,c){a.setState({fileName:b.name,stagingURL:c[0].fsPath})});this.on("error",function(a,
b){b===this.options.dictInvalidFileType?(this.removeFile(a),this.enable()):n.default.alert("Error uploading file: "+b)})}};return h.default.createElement("div",{className:"file"!==this.state.inputType?"hidden":null},h.default.createElement(b.default,{options:c,classes:"import-file-input",ref:"fileInput"}))},_validateUrl:function(a){return p.UrlValidators.validateUrl(a)},_renderUrlInput:function(){var a=this;return h.default.createElement("div",{className:"url"!==this.state.inputType?"hidden":null},
h.default.createElement(r,{ref:"urlInput",inputClassName:"urlInput",validate:this._validateUrl,confirm:this._confirm,readOnly:this.state.confirmed,onChange:function(b){a.setState({url:b})}}))},_renderFooter:function(){var a=this.state.confirmed?h.default.createElement("span",null,h.default.createElement("i",{className:"fa fa-"+w.default.inProgress})," Importing"):h.default.createElement("span",null,"Import");return h.default.createElement(d.default,{confirm:this._confirm,confirmDisabled:!this._validate()||
this.state.confirmed,confirmButton:a,showCancel:!this.state.confirmed,closeOnConfirm:!1})},_recordCompleted:function(a,b){window.recordEvent("importItem",{importItemType:this.state.inputType,importItemSuccess:a,importItemErrorMsg:b,importItemFileName:this.state.fileName,importItemUrl:this.state.url})},_confirm:function(){var a=this,b=function(b){q.default.destroyModal();b&&b.newId&&window.router.navigate("shell/"+b.newId,{trigger:!0});a._recordCompleted(!0,null)},c=function(b,c,d){q.default.destroyModal();
console.error("Import failed with error:",d);n.default.alert("Import failed with error: "+d,!1,"OK");a._recordCompleted(!1,d)};if("file"===this.state.inputType&&null!==this.state.stagingURL&&null!==this.state.fileName)e.default.ajax("/serialize/"+this.props.parentId,{type:"POST",data:JSON.stringify({path:this.state.stagingURL,name:this.state.fileName}),success:b,error:c});else if("url"===this.state.inputType&&this.state.url)e.default.ajax("/serialize/url/"+this.props.parentId,{type:"POST",data:JSON.stringify({url:this.state.url}),
success:b,error:c});else throw Error("invalid state in ImportDialog._confirm");this.setState({confirmed:!0})},_validate:function(){return"file"===this.state.inputType?this.state.stagingURL&&this.state.fileName:"url"===this.state.inputType?this._validateUrl(this.state.url):!1},render:function(){var a=h.default.createElement("h3",null,"Import Notebooks"),b=h.default.createElement("a",{className:"libraryLink",href:"#create/library/"+this.props.parentId},"click here"),b=h.default.createElement("div",
null,window.settings.enableImportFromUrl?this._renderTypeToggle():null,this._renderDropzone(),window.settings.enableImportFromUrl?this._renderUrlInput():null,h.default.createElement("div",{className:"formatsMessage"},"Accepted formats: ",this._acceptedFilesString(),h.default.createElement("br",null),"(To import a library, such as a jar or egg, ",b,")")),c=this._renderFooter();return h.default.createElement(m.default,{modalName:"import-dialog",header:a,body:b,footer:c})},componentDidUpdate:function(){this.checkInputFocus&&
"url"===this.state.inputType&&(this.refs.urlInput.focus(),this.refs.urlInput.select());this.checkInputFocus=!1}});t.createDialog=function(a){q.default.createModal(h.default.createElement(t,{parentId:a}))};l.exports=t},{"../forms/ReactDropzone.jsx":80,"../forms/ReactFormElements.jsx":81,"../forms/ReactFormFooter.jsx":82,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/dialogs/ReactModal.jsx":299,"../ui_building_blocks/dialogs/ReactModalUtils":300,"../ui_building_blocks/icons/IconsForType":304,
"../validators/UrlValidators":352,jquery:819,react:1001}],68:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");f=c(f);var e=a("backbone"),e=c(e),h=a("../acl/AclModelMixin"),h=c(h);a=a("../acl/WorkspacePermissions");var b=c(a);a=e.default.Model.extend({defaults:{globalVars:{}},urlRoot:"/tree",getName:function(){return this.get("name")},getAclObjectType:function(){return b.default.WORKSPACE_TYPE},getAclObjectId:function(){return this.id}});f.default.extend(a.prototype,
h.default);l.exports=a},{"../acl/AclModelMixin":1,"../acl/WorkspacePermissions":10,backbone:407,underscore:1021}],69:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("backbone");f=c(f);var e=a("../filebrowser/TreeNode"),h=c(e),e=a("../notebook/NotebookModel"),b=c(e);a=a("../notebook/dashboards/Dashboard");var k=c(a);a=f.default.Collection.extend({model:function(a,b){return"dashboard"===a.type?new k.default(a,b):new h.default(a,b)},getNotebookModel:function(a){var c=this.get(a);
!c||c instanceof b.default||(c=new b.default(c.attributes,{conn:window.conn}),this.remove(a,{silent:!0}),this.add(c,{silent:!0}));return c},url:"/tree"});l.exports=a},{"../filebrowser/TreeNode":68,"../notebook/NotebookModel":178,"../notebook/dashboards/Dashboard":207,backbone:407}],70:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.DeleteNodeCallbacks=void 0;var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;
"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,h){c&&a(b.prototype,c);h&&a(b,h);return b}}(),e=(l=a("jquery"))&&l.__esModule?l:{default:l},h=(a=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx"))&&a.__esModule?a:{default:a};f.DeleteNodeCallbacks=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"getLibraryCallback",value:function(a,b){var c=a.get("id");return function(){e.default.ajax("/libraries/"+
c+"/delete",{contentType:"application/json; charset=UTF-8",type:"POST",data:"",error:function(a,b,d){h.default.alert("An error happened while removing library "+c+":\n"+d,!1,"OK")},success:function(){console.log("Successfully deleted library node ",c);b&&b()}});a.destroy()}}},{key:"getTableCallback",value:function(a){return function(){a.set({icon:"spinner fa fa-spin"});window.conn.wsClient.sendRPC("query",{data:{bindings:{},language:"sql",query:"drop table `"+a.get("name")+"`"}});window.router.navigate("",
{trigger:!0})}}}]);return a}()},{"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,jquery:819}],71:[function(a,l,f){function c(a,b,c){this.node=a;this.children=b;this.id=a.id;this.selectedChild=c}var e=(f=a("jquery"))&&f.__esModule?f:{default:f},h=(a=a("d3"))&&a.__esModule?a:{default:a},b=function(a,b,h){var d=this;this.$element=a;this.treeProvider=b;h=void 0!==h?h:{};this.pushElement=h.pushElement||null;this.scrollElement=h.scrollElement||null;this.pinnable=h.pinnable||!1;this.$element.addClass("filetree");
this.$element.empty();this.$inner=(0,e.default)('<div class="inner">');this.$inner.appendTo(this.$element);this.rootNode=this.treeProvider.getRootNode();this.currentTargetNodeId=this.nodeBeingDragged=this.elementBeingDragged=null;this.hasDragDrop=void 0!==this.treeProvider.nodeDropped;this.hasDropdowns=void 0!==this.treeProvider.dropdownClicked;this.openNodes=[];this.treeProvider.getChildren(this.rootNode,function(a){d.openNodes=[new c(d.rootNode,a)];d.render()});this.pinned=!1};b.Node=function(a,
b,c,m,h,e){this.id=a;this.name=b||a.toString();this.icon=c||"file";this.hasChildren=m||!1;this.domAttributes=h||{};this.annotationText=e||""};b.prototype.render=function(){function a(a){return[a.id,a.draggable]}function c(a){var b=h.default.select(this);b.classed("filetree-display-name",!0);if(a.isHomeFolder){var c=a.name.indexOf("@");if(0<=c){var d=a.name.substring(0,c);a=a.name.substring(c);b.selectAll("span").remove();b.append("span").attr("class","email-name").text(d);b.append("span").attr("class",
"email-domain").text(a)}else b.text(a.name)}else b.text(a.name)}var n=this,m=this,q=h.default.select(this.$inner[0]).selectAll(".ft-panel").data(this.openNodes),w=q.enter().append("div").attr("class","ft-panel");w.append("ul").attr("class","ft-panel-list");w.style("width",0).transition().style("width","196px");var p=function(){h.default.select(this).transition().duration(190).ease("in").style("background-color","#F7F7F7").transition().ease("out").duration(260).style("background-color","white")};w.on("contextmenu",
function(a){if(!(0>a.id)&&m.hasDropdowns){h.default.event.preventDefault();h.default.event.stopPropagation();var b=h.default.event.pageX,c=h.default.event.pageY;p.call(this);m.onDropdownClicked(a.node,{left:b,top:c,isPanelContext:!0})}}).on("click",function(a){if((0,e.default)(h.default.event.target).hasClass("ft-panel")&&a.selectedChild){var b=void 0;a.children.forEach(function(c){c.id===a.selectedChild&&(b=c)});b&&b.hasChildren&&(h.default.event.preventDefault(),m.openToNode(a.node),p.call(this))}});
q.each(function(d,k){var n=this;d.node.hasChildren&&d.node.droppable&&m.hasDragDrop&&((0,e.default)(n).droppable({scope:m,hoverClass:"drop-hover",drop:function(){m.onDrop(d.node)}}),(0,e.default)(n).resizable({minWidth:150,maxWidth:500,handles:"e",resize:function(){if(null!==m.pushElement){var a=b.calculateShiftOfContent(q[0]);h.default.selectAll(m.pushElement).style("left",a+"px")}}}),(0,e.default)(n).scroll(function(){var a=(0,e.default)(this).scrollTop()+.5*parseInt((0,e.default)(this).css("height"),
10);(0,e.default)(n).find(".ui-resizable-handle").css("top",a+"px")}));var p=h.default.select(this).select("ul").selectAll("li").data(d.children,a),r=p.enter().append("li").attr("class",function(a){return a.classes}).classed("filetree-list-item",!0).append("a").attr("href",function(a){return a.url||"#"}).attr("data-name",function(a){return a.name}).classed("home-folder",function(a){return a.isHomeFolder}).classed("filetree-link",!0);r.each(function(a){var c=this;a.draggable&&m.hasDragDrop&&(0,e.default)(c).draggable({scope:m,
helper:"clone",refreshPositions:!0,appendTo:m.$element,start:function(c,g){m.elementBeingDragged=this;m.nodeBeingDragged=a;m.treeProvider.dragStarted(a);(0,e.default)(this).closest("li").addClass("being-dragged");g.helper.focus();g.helper.keyup(function(a){a.which===b.ESCAPE&&(m.elementBeingDragged=null,m.nodeBeingDragged=null,g.helper.trigger("mouseup"))})},stop:function(){m.elementBeingDragged=null;m.nodeBeingDragged=null;(0,e.default)(this).closest("li").removeClass("being-dragged")}});a.droppable&&
a.hasChildren&&m.hasDragDrop&&(0,e.default)(c).droppable({scope:m,hoverClass:"drop-hover",greedy:!0,accept:function(){return null!==m.nodeBeingDragged&&a.id!==m.nodeBeingDragged.id},over:function(){m.onDraggingOver(a,c,k)},drop:function(){m.onDrop(a)}})});r.append("i");r.append("span").each(c);r.filter(function(a){return a.disabled}).style("opacity","0.5");r.filter(function(a){return a.tooltip}).each(function(a){(0,e.default)(this).tooltip({trigger:"hover",title:a.tooltip,placement:"bottom",html:!0})});
r.on("click",function(a){m.onItemClicked(a,this,k)});if(m.hasDropdowns){var r=r.filter(function(a){return!0===a.hasMenu}),g=r.append("div").attr("class","dropdown");g.append("i").attr("class",function(a){return"top-link"===a.display?"fa fa-chevron-down":"fa fa-caret-down"});g.on("click",function(a){h.default.event.preventDefault();h.default.event.stopPropagation();m.onDropdownClicked(a)});r.on("contextmenu",function(a){h.default.event.preventDefault();h.default.event.stopPropagation();m.onRightClicked(a)})}p.select("a").attr("data-name",
function(a){return a.name}).attr("title",function(a){if(!a.tooltip)return a.name}).classed("home-folder",function(a){return a.isHomeFolder});p.select("span").each(c);p.classed("heading",function(a){return"heading"===a.display});p.classed("multiline",function(a){return"multiline"===a.display});p.classed("top-link",function(a){return"top-link"===a.display});p.classed("has-menu",function(a){return a.hasMenu});p.classed("selected",function(a){return a.id===d.selectedChild});p.classed("being-dragged",
function(a){return null!==m.nodeBeingDragged&&a.id===m.nodeBeingDragged.id});p.select("i").attr("class",function(a){var b=a.icon||"file-alt";a.openIcon&&a.id===m.openNodes[k].selectedChild&&(b=a.openIcon);return"fa fa-"+b+" fa-fw"});p.select("i").each(function(a){var b=h.default.select(this);h.default.keys(a.domAttributes).forEach(function(c){b.attr(c,a.domAttributes[c])})});p.each(function(a){var b=h.default.select(this).select("a");b.classed("has-annotation",a.annotationText);var c=a.annotationText?
[1]:[],b=b.selectAll("div.fb-annotation").data(c);b.enter().append("div").attr("class","fb-annotation");b.text(a.annotationText);b.exit().remove()});p.exit().remove();p.order()});h.default.select(this.$inner[0]).selectAll(".ft-panel").attr({"data-panel":function(a){return a.node.name}});q.exit().transition().style("width","0px").remove();this.pinnable&&0<this.openNodes.length&&function(){h.default.select(n.$inner[0]).selectAll(".ft-pin-button").remove();var a=h.default.select(n.$inner[0]).append("a").classed("ft-pin-button",
!0).classed("active",n.pinned).attr("href","#").attr("title","Pin menu open");a.append("i").classed("fa fa-thumb-tack",!0);a.on("click",function(){m.pinned=!m.pinned;a.classed("active",m.pinned);h.default.event.preventDefault()})}();w=b.calculateShiftOfContent(q[0],w[0]);null!==this.pushElement&&h.default.selectAll(this.pushElement).transition().style("left",w+"px");null===this.elementBeingDragged||e.default.contains(this.$inner[0],this.elementBeingDragged)||((0,e.default)(this.elementBeingDragged).appendTo(this.$element),
(0,e.default)(this.elementBeingDragged).css("display","none"))};b.prototype.onRightClicked=function(a){this.onDropdownClicked(a,{left:h.default.event.pageX,top:h.default.event.pageY})};b.prototype.onItemClicked=function(a,b,n){var d=this;this.currentTargetNodeId=a.id;"heading"===a.display?h.default.event.preventDefault():a.url&&(h.default.event.metaKey||h.default.event.shiftKey||h.default.event.ctrlKey)||(h.default.event.preventDefault(),a.id===this.openNodes[n].selectedChild?(this.openNodes[n].selectedChild=
void 0,this.openNodes=this.openNodes.slice(0,n+1),this.render(),this.treeProvider.selectionChanged&&this.treeProvider.selectionChanged(this.openNodes[this.openNodes.length-1])):(this.openNodes[n].selectedChild=!1!==a.selectable?a.id:void 0,b=this.openNodes.length>n+1,this.openNodes=this.openNodes.slice(0,n+1),a.hasChildren&&b&&this.openNodes.push(new c(a,[])),this.render(),a.hasChildren&&this.treeProvider.getChildren(a,function(b){var k=d.openNodes;k.length>n&&k[n].selectedChild===a.id&&(k[n+1]=new c(a,
b),d.render())}),this.treeProvider.nodeClicked&&this.treeProvider.nodeClicked(a),this.treeProvider.selectionChanged&&this.treeProvider.selectionChanged(a)))};b.calculateShiftOfContent=function(a,b){var c=75;b?(a=a.slice(1),e.default.each(a,function(a,d){c=b[a+1]?c+196:c+(0,e.default)(d).width()}),c+=196):e.default.each(a,function(){c+=(0,e.default)(this).width()});return c};b.prototype.openToNode=function(a){function b(a,d,h){function n(a){a.id===k.treeProvider.getRootNode().id?h(!0):k.treeProvider.getParent?
k.treeProvider.getParent(a,function(c){c?b(c,a.id,h):h(!1)}):h(!1)}a.hasChildren?k.treeProvider.getChildren(a,function(b){b=new c(a,b);b.selectedChild=d;m.unshift(b);n(a)}):n(a)}var k=this;this.currentTargetNodeId=a.id;var m=[];b(a,void 0,function(b){if(b&&k.currentTargetNodeId===a.id){for(b=0;b<m.length;b++)k.openNodes.length<=b?k.openNodes.push(m[b]):k.openNodes[b].id===m[b].id?k.openNodes[b].selectedChild=m[b].selectedChild:k.openNodes[b]=m[b];k.openNodes.length>m.length&&(k.openNodes=k.openNodes.slice(0,
m.length));k.treeProvider.selectionChanged&&k.treeProvider.selectionChanged(a);k.render()}else console.debug("node doesn't have path to root")})};b.prototype.onDropdownClicked=function(a,b){this.hasDropdowns&&this.treeProvider.dropdownClicked(a,b)};b.prototype.onDraggingOver=function(a,b,h){var d=this;if(a.id!==this.nodeBeingDragged.id){this.openNodes[h].selectedChild=a.id;var k=this.openNodes.length>h+1;this.openNodes=this.openNodes.slice(0,h+1);a.hasChildren&&k&&this.openNodes.push(new c(a,[]));
this.render();this.treeProvider.getChildren(a,function(k){(0,e.default)(b).hasClass("drop-hover")&&(d.openNodes[h+1]=new c(a,k),d.render())})}};b.prototype.setPushElement=function(a){this.pushElement=a};b.prototype.refreshAllNodes=function(){function a(d,k,h){b.openNodes[d]=new c(k,h,b.openNodes[d].selectedChild);if(d+1<b.openNodes.length){var m=b.openNodes[d+1].id,n=!1;k=function(b,c){a(d+1,b,c)};for(var e=0;e<h.length;e++)if(h[e].id===m){h=h[e];b.treeProvider.getChildren(h,k.bind(this,h));n=!0;
break}n||(b.openNodes=b.openNodes.slice(0,d+1),b.render())}else b.render()}var b=this;0<this.openNodes.length&&this.treeProvider.getChildren(this.rootNode,function(c){a(0,b.rootNode,c)})};b.prototype.onDrop=function(a){if(null!==this.nodeBeingDragged){var b=this.nodeBeingDragged;this.nodeBeingDragged=this.elementBeingDragged=null;this.treeProvider.nodeDropped(b,a)}};b.prototype.selectedNode=function(){if(0<this.openNodes.length)for(var a=this.openNodes[this.openNodes.length-1],b=0;b<a.children.length;b++)if(a.children[b].id===
a.selectedChild)return a.children[b]};b.prototype.selectedFolder=function(){if(0<this.openNodes.length)return this.openNodes[this.openNodes.length-1]};b.prototype.remove=function(){};b.prototype.isPinned=function(){return this.pinned};b.ESCAPE=27;l.exports=b},{d3:707,jquery:819}],72:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("backbone");var b=c(f);f=a("react");var k=c(f);f=a("../acl/WorkspaceAcl");var d=c(f);f=a("../filebrowser/ImportDialog.jsx");
var n=c(f);f=a("../filetree/WorkspaceConstants");var m=c(f);f=a("../local_storage/LocalUserPreference");var q=c(f),w=a("../notebook/AddNotebookView.jsx");f=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var p=c(f);f=a("../ui_building_blocks/dialogs/ReactModalUtils");var r=c(f),t=a("../validators/NodeNameValidators.js"),u={LAST_NOTEBOOK_LANGUAGE:"lastNotebookLanguage",localPreference:function(){u.localPreference._result||(u.localPreference._result=new q.default("NavFunc"));return u.localPreference._result},
addFolder:function(a){p.default.prompt({message:"New Folder Name",confirmButton:"Create Folder",validate:t.NodeNameValidators.isValidName,confirm:function(b){window.fileBrowserView.createNode({name:b,type:"folder",parentId:a})}})},importItem:function(a){n.default.createDialog(a)},sessionParams:function(a){var b="csrf="+(window.settings?window.settings.csrfToken:"")+"&o="+(window.settings?window.settings.orgId:"");return a?"&"+b:"?"+b},exportItem:function(a){window.open("/serialize/"+a+u.sessionParams())},
exportSource:function(a){window.open("/serialize/source/"+a+u.sessionParams())},exportHTML:function(a){window.open("/serialize/html/"+a+u.sessionParams())},exportIPython:function(a){window.open("/serialize/ipython/"+a+u.sessionParams())},publishItem:function(a){window.open("/serialize/publish"+a+u.sessionParams())},getFullPath:function(a){return 0===a?"/":(a=window.treeCollection.get(a))?"/"+a.get("path").split("/").slice(1).map(function(a){return(a=window.treeCollection.get(a))?a.get("name"):"???"}).join("/"):
"???"},isExampleNode:function(a){if(a=window.treeCollection.get(a)){var b=parseInt(a.get("path").split("/").slice(1)[0],10);return(a=a.id===b?a:window.treeCollection.get(b))&&a.get("isExample")}return!1},getRootFolderNode:function(){return window.fileBrowserView.getModel(0)},getHomeFolderNode:function(){var a={type:"folder",name:window.settings.user};a[m.default.UserIdAttribute]=window.settings.userId;return window.treeCollection.findWhere(a)},getDefaultFolderId:function(){var a=u.getHomeFolderNode();
return a?a.id:0},isHomeFolderForUser:function(a,b){return a&&a.get&&"folder"===a.get("type")&&a.get(m.default.NonModifiableAttribute)&&a.get(m.default.UserIdAttribute)===b},addReactNotebook:function(a){r.default.createModal(k.default.createElement(w.AddNotebookView,{clusters:window.clusterList,createNotebookFunc:function(b,c,d){b={parentId:a,name:b,language:c,clusterId:d||""};u.localPreference().set("lastNotebookLanguage",c);window.fileBrowserView.createNotebook(b,function(a){window.router.navigate("notebook/"+
a.id,{trigger:!0})})},lastLanguage:u.localPreference().get("lastNotebookLanguage")}))},getFSPath:function(a){return 0===a?"/":(a=window.treeCollection.get(a))?a.get("path").split("/").map(function(a){a=parseInt(a,10);return 0<a?window.treeCollection.get(a).get("name"):""}).join("/"):null},cloneNode:function(a,b,c,d,k){u.cloneNodeOrUrl({id:a,onConfirm:b,onSuccess:c,onFailure:d,testing:k})},cloneNodeOrUrl:function(a){var b=a.testing,c=a.id?window.treeCollection.get(a.id):null,d=c?c.get("parentId"):
u.getDefaultFolderId(),k=c?c.get("name"):a.name,m=u.nonConflictingName(k,d),h=p.default.custom({title:"Cloning: '"+k+"'",confirmButton:"Clone",class:"copy-file-dialog",controls:[{controlType:"filetreePath",pathlabel:"Cloning to folder: "},{controlType:"input",id:"cloneFileName",type:"text",label:"New Name: ",confirmOnEnter:!0,value:m,focus:!0},b?null:{controlType:"filetree",id:"cloneFolderPicker",nodeType:"folder",hideExamples:!0}],confirm:function(c){var g=void 0,h=void 0;b?(g=void 0!==a.testingName?
a.testingName:m,h=a.testingFolderId?a.testingFolderId:d):(g=c.find("#cloneFileName")[0].value,h=c.find("#cloneFolderPicker")[0].fileTree.selectedFolder().id);var n=u.getFSPath(h)+"/"+g;if(a.onConfirm)a.onConfirm();var v=c=void 0;if(null!==a.id&&void 0!==a.id)c="/serialize/clone/"+a.id,v={path:n};else if(a.url)c="/serialize/url/"+h,v={url:a.url,nameOverride:g};else throw Error("neither id or url given to cloneNodeOrUrl");var q=function(b,c){window.recordEvent&&window.recordEvent("notebookCloned",{notebookUrl:a.url,
notebookName:k,path:n,status:b?"success":"failure",error:c})};e.default.ajax(c,{contentType:"application/json; charset=UTF-8",type:"POST",data:JSON.stringify(v),success:function(b){if(a.onSuccess)a.onSuccess(b.newId);q(!0)},error:function(c,g,d){if(a.onFailure)a.onFailure(d);b||p.default.alert(d,!1,"OK");q(!1,d)}})},cancel:function(){}});b||function(){var a=h.find("#cloneFolderPicker")[0].fileTree,b=function(b){b||(b=(b=u.getDefaultFolderId())?window.treeCollection.get(b):u.getRootFolderNode());b=
window.fileBrowserView.toTreeNode(b);a.openToNode(b)},c=window.fileBrowserView.getModel(d);c&&!c.get("isExample")?c.fetchPermissionLevel(function(){this.canManage()?b(c):b()}):b()}()},nonConflictingName:function(a,b){b=window.treeCollection.where({parentId:b});if(0===b.length)return a;var c=0,d=void 0,k=function(a){return a.get("name")===d};do d=0===c?a:a+" ("+c+")",c++;while(h.default.find(b,k));return d},addLibrary:function(a){window.router.navigate("#create/library/"+a,{trigger:!0})},addTable:function(){window.router.navigate("#create/table",
{trigger:!0})},addCluster:function(){window.router.navigate("#create/cluster",{trigger:!0})},removeView:function(a,c){c=void 0!==c?c:!0;console.log("Removing view",a.name,c);var g=a.$el.attr("id"),d=window.viewIdToFragment[g];!a.className||"shellSessionView"!==a.className&&"scriptView"!==a.className||delete window.shellSessionHash[a.model.shellId];window.router.recentViewRoutes=h.default.without(window.router.recentViewRoutes,a);a.remove();delete window.viewIdtoView[g];delete window.viewIdToFragment[g];
delete window.fragmentToView[d];c&&b.default.history.fragment===d&&window.router.navigate("",{trigger:!0})},renameNode:function(a,b){var c=b.get("name");p.default.prompt({message:"Enter a new name for "+c+":",confirmButton:"Rename",defaultValue:c,validate:t.NodeNameValidators.isValidName,confirm:function(g){var d={name:g};b.set(d);b.save(d,{patch:!0,success:function(){var b=window.activeView,c=void 0;b.id?c=b.id:b.props.notebook&&(c=b.props.notebook.id);null!==b&&c===a?(b.name?b.name=g:b.props.notebook.attributes.name=
g,b.type&&"ReactNotebookView"===b.type.displayName&&b.props.notebook.id===a?(0,e.default)("span.tb-title").text(g).data("data-name",g):window.router.show(b,!1)):h.default.values(window.fragmentToView).forEach(function(b){b.id===a&&(b.name=g,"shellSessionView"!==b.className&&b.render())})},error:function(a,b){a.set({name:c});p.default.alert("Renaming the element failed: "+b.statusText)}})}})},deleteNode:function(a,b,c,d){a="Are you sure you want to delete "+b.get("name");"folder"===b.get("type")&&
(1===c?a+=" and the item in it":1<c&&(a+=" and the "+c+" items in it"));p.default.confirm({message:a+"? This cannot be undone.",confirmButton:"Confirm and Delete",confirm:function(){switch(b.get("type")){case "table":d&&d();break;case "library":d&&d();break;default:window.router.navigate("",{trigger:!0}),b.destroy({error:function(a,b){p.default.alert("Could not delete "+a.get("name")+": "+b.statusText+". Please refresh the page.")}})}}})},moveNodes:function(a,b){var c=u.getFullPath(b),d=0,k=[],m=
function(){if(d===a.length&&0<k.length)if(1===k.length)p.default.alert("Could not move "+k[0].srcPath+" to "+c+": "+k[0].error);else{var b=h.default.map(k,function(a){return"<li>"+a.srcPath+": "+a.error+"</li>"});p.default.alert(k.length+" files could not be moved to "+c+":<br/><br/><ul>"+b.join("")+"</ul>",!0)}};h.default.each(a,function(a){var c=u.getFullPath(a),g=u.getAncestors(b.id);b.id===a.get("parentId")?d+=1:h.default.contains(g,a.id)?(k.push({srcPath:c,error:"Cannot move folder into itself"}),
d+=1):a.save({parentId:b.id},{patch:!0,wait:!0,success:function(){d+=1;m()},error:function(a,b){k.push({srcPath:c,error:b.statusText});d+=1;m()}})});m()},getAncestors:function(a){var b=[0];for(a=window.treeCollection.get(a);a;)b.push(a.id),a=window.treeCollection.get(a.get("parentId"));return b},checkAndPreviewPermission:function(b,c,g){var m=a("../acl/MovePermissionPreview.jsx"),h=new d.default({id:b.id,name:b.get("name"),model:b}),n=new d.default({id:b.id,name:b.get("name"),moveTargetId:c,model:b});
e.default.when(h.fetch(),n.fetch()).then(function(){if(h.isEqual(n,{ignoreCurrentUser:!0}))return g();var a=k.default.createElement(m,{workspaceAcl:h,previewWorkspaceAcl:n,onConfirm:g});r.default.createModal(a)},g)}};l.exports=u},{"../acl/MovePermissionPreview.jsx":5,"../acl/WorkspaceAcl":9,"../filebrowser/ImportDialog.jsx":67,"../filetree/WorkspaceConstants":75,"../local_storage/LocalUserPreference":128,"../notebook/AddNotebookView.jsx":132,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,
"../ui_building_blocks/dialogs/ReactModalUtils":300,"../validators/NodeNameValidators.js":350,backbone:407,jquery:819,react:1001,underscore:1021}],73:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,k){b&&a(c.prototype,b);k&&a(c,k);return c}}();f.PathNameUtils=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"generatePathNamesFromPathIds",value:function(a){if(!a)return null;a=a.split("/").slice(1);var b=[],c;for(c in a)if(a.hasOwnProperty(c)){var d=window.treeCollection.get(a[c]);if(!d)return null;b.push(d.get("name"))}return b.join("/")}}]);return a}()},{}],74:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.RoutingConstants={NODE_TYPE:"node",TABLE_TYPE:"table"}},{}],75:[function(a,l,f){l.exports={UserFolderName:"Users",
SharedFolderName:"Shared",NonModifiableAttribute:"_db_no_modify",NoChildrenAttribute:"_db_no_children",FullNameAttribute:"fullname",UserIdAttribute:"userId",RIGHT_PANE_SELECTOR:"#overallView, .tb-title-wrapper-central"}},{}],76:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.DropzoneUtils=void 0;var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,
c,h){c&&a(b.prototype,c);h&&a(b,h);return b}}(),e=(l=a("jquery"))&&l.__esModule?l:{default:l},h=(l=a("lodash"))&&l.__esModule?l:{default:l};a("dropzone/dist/dropzone-amd-module");f.DropzoneUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"installDropzone",value:function(a,b,c){c=void 0===c?!0:c;var d=h.default.clone(b);d.headers=d.headers||{};d.headers["X-CSRF-Token"]=window.settings?window.settings.csrfToken:null;window.testMode&&
(d.forceFallback=!0);var k=a.dropzone(d);window.testMode&&c&&function(){var a=k.find("form"),c=k[0].dropzone;b.init&&b.init.bind(c)();var d=function(){var b=a.find("input[type=file]").val().split("/").pop().split("\\").pop();return{previewElement:(0,e.default)("<div/>")[0],name:b,type:"file",size:0,accepted:!0}};a.submit(function(){var b=(0,e.default)(this).attr("action"),k=a.get(0),k=new FormData(k);e.default.ajax({url:b,type:"POST",data:k,success:function(a){var b=d();c.files.push(b);c.emit("success",
b,a)},error:function(a){c.emit("error",d(),a.responseText)},contentType:!1,processData:!1});return!1})}();return k}}]);return a}()},{"dropzone/dist/dropzone-amd-module":721,jquery:819,lodash:842}],77:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("../forms/ReactFormFooter.jsx");var h=c(f);a=a("../ui_building_blocks/dialogs/ReactModal.jsx");var b=c(a);a=e.default.createClass({displayName:"ReactAlert",propTypes:{message:e.default.PropTypes.oneOfType([e.default.PropTypes.object,
e.default.PropTypes.string]).isRequired,button:e.default.PropTypes.string,callback:e.default.PropTypes.func,className:e.default.PropTypes.string},getDefaultProps:function(){return{button:"OK",className:"alert-form"}},onConfirm:function(){this.props.callback&&this.props.callback()},componentDidMount:function(){this.refs.footer.focus()},render:function(){var a=e.default.createElement("div",{className:"modal-title"},this.props.message),c=e.default.createElement(h.default,{ref:"footer",confirm:this.onConfirm,
showCancel:!1,confirmButton:this.props.button});return e.default.createElement(b.default,{modalName:this.props.className,header:a,footer:c})}});l.exports=a},{"../forms/ReactFormFooter.jsx":82,"../ui_building_blocks/dialogs/ReactModal.jsx":299,react:1001}],78:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("../forms/ReactFormFooter.jsx");var h=c(f);a=a("../ui_building_blocks/dialogs/ReactModal.jsx");var b=c(a);a=e.default.createClass({displayName:"ReactConfirm",
propTypes:{title:e.default.PropTypes.oneOfType([e.default.PropTypes.object,e.default.PropTypes.string]),message:e.default.PropTypes.oneOfType([e.default.PropTypes.object,e.default.PropTypes.string]).isRequired,confirmButton:e.default.PropTypes.string,confirmBtnClassName:e.default.PropTypes.string,cancelButton:e.default.PropTypes.string,showCancel:e.default.PropTypes.bool,confirm:e.default.PropTypes.func,cancel:e.default.PropTypes.func,name:e.default.PropTypes.string},getDefaultProps:function(){return{confirmButton:"Confirm",
cancelButton:"Cancel",showCancel:!0,name:"confirm"}},onConfirm:function(){this.props.confirm&&this.props.confirm()},onCancel:function(){this.props.cancel&&this.props.cancel()},componentDidMount:function(){this.refs.footer.focus()},render:function(){var a=this.props.title?e.default.createElement("h3",null,this.props.title):e.default.createElement("div",{className:"modal-title"},this.props.message),c=this.props.title?e.default.createElement("div",null,this.props.message):null,n=e.default.createElement(h.default,
{ref:"footer",confirm:this.onConfirm,cancel:this.onCancel,showCancel:this.props.showCancel,confirmButton:this.props.confirmButton,confirmBtnClassName:this.props.confirmBtnClassName,cancelButton:this.props.cancelButton});return e.default.createElement(b.default,{modalName:this.props.name,header:a,body:c,footer:n})}});l.exports=a},{"../forms/ReactFormFooter.jsx":82,"../ui_building_blocks/dialogs/ReactModal.jsx":299,react:1001}],79:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}
f=a("react");var e=c(f),h=a("../forms/ReactFormElements.jsx");f=a("../forms/ReactFormFooter.jsx");var b=c(f);a=a("../ui_building_blocks/dialogs/ReactModal.jsx");var k=c(a),d=e.default.createClass({displayName:"ReactCustomRow",propTypes:{options:e.default.PropTypes.object.isRequired,confirm:e.default.PropTypes.func.isRequired,validate:e.default.PropTypes.func.isRequired},value:function(){var a=this.props.options;return"input"===a.controlType&&"checkbox"===a.type?this.refs.control.checked():this.refs.control.value()},
render:function(){var a=this.props.options,b=a.label,c=e.default.createElement("div",null);"input"===a.controlType?"checkbox"===a.type?(b="",c=!1,a.props&&a.props.checked&&(c=!0),c=e.default.createElement(h.LabeledCheckbox,{ref:"control",label:a.label,checkboxID:a.id,checkboxClassName:a.class,defaultChecked:c,onChange:this.props.validate,confirm:this.props.confirm,required:a.required})):c=e.default.createElement(h.Input,{ref:"control",type:a.type,inputID:a.id,inputClassName:a.class,defaultValue:a.value,
placeholder:a.placeholder,validate:a.validate,onChange:this.props.validate,confirm:this.props.confirm,required:a.required}):0===a.controlType.indexOf("select")?c=e.default.createElement(h.Select,{ref:"control",options:a.options,selectID:a.id,selectClassName:a.class,defaultValue:a.value,onChange:this.props.validate,confirm:this.props.confirm,required:a.required}):"react"===a.controlType&&(c=a.component);return e.default.createElement("div",{className:"multi-input-row","data-row-for":a.id},e.default.createElement("div",
null,e.default.createElement("label",{className:"unclickable"},b),e.default.createElement("div",null,c)))}});a=e.default.createClass({displayName:"ReactCustom",propTypes:{title:e.default.PropTypes.string.isRequired,controls:e.default.PropTypes.array,confirmButton:e.default.PropTypes.string,showConfirmButton:e.default.PropTypes.bool,confirm:e.default.PropTypes.func,cancelButton:e.default.PropTypes.string,showCancelButton:e.default.PropTypes.bool,cancel:e.default.PropTypes.func,validate:e.default.PropTypes.func,
name:e.default.PropTypes.string,children:e.default.PropTypes.node},getDefaultProps:function(){return{controls:[],confirmButton:"Confirm",cancelButton:"Cancel",name:"custom-form"}},getInitialState:function(){return{valid:!0}},_validateControls:function(){var a=!0;this.props.controls.forEach(function(b,c){b.validate&&!b.validate(this.refs["control"+c].value())&&(a=!1)}.bind(this));return a},validate:function(){var a;a=this.props.validate?this.props.validate():this._validateControls();this.setState({valid:a})},
onConfirm:function(){this.props.confirm&&this.state.valid&&this.props.confirm(this)},onCancel:function(){this.props.cancel&&this.props.cancel()},componentDidMount:function(){this.validate()},_renderControls:function(){if(0===this.props.controls.length)return this.props.children;var a=[];this.props.controls.forEach(function(b,c){a.push(e.default.createElement(d,{ref:"control"+c,options:b,validate:this.validate,confirm:this.onConfirm}))}.bind(this));return e.default.createElement("div",null,a)},render:function(){var a=
e.default.createElement("h3",null,this.props.title),c=this._renderControls(),d=e.default.createElement(b.default,{ref:"footer",confirm:this.onConfirm,cancel:this.onCancel,confirmButton:this.props.confirmButton,cancelButton:this.props.cancelButton,showConfirm:this.props.showConfirmButton,showCancel:this.props.showCancelButton,confirmDisabled:!this.state.valid});return e.default.createElement(k.default,{ref:"modal",modalName:this.props.name,header:a,body:c,footer:d})}});l.exports=a},{"../forms/ReactFormElements.jsx":81,
"../forms/ReactFormFooter.jsx":82,"../ui_building_blocks/dialogs/ReactModal.jsx":299,react:1001}],80:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("react");var h=c(f);f=a("react-dom");var b=c(f),k=a("../forms/DropzoneUtils");a=h.default.createClass({displayName:"ReactDropzone",propTypes:{editing:h.default.PropTypes.bool,existingFile:h.default.PropTypes.object,classes:h.default.PropTypes.string,options:h.default.PropTypes.object.isRequired},getDefaultProps:function(){return{editing:!1}},
getDropzone:function(){return b.default.findDOMNode(this.refs.dropzone).dropzone},shouldComponentUpdate:function(){return!1},componentDidMount:function(){var a=b.default.findDOMNode(this.refs.dropzone);k.DropzoneUtils.installDropzone((0,e.default)(a),this.props.options);this.props.existingFile&&(this.getDropzone().emit("addedfile",this.props.existingFile),this.getDropzone().emit("complete",this.props.existingFile))},render:function(){return h.default.createElement("div",{className:this.props.classes+
" dropzone control-field",id:"filePicker","data-row-for":"filePicker",ref:"dropzone"})}});l.exports=a},{"../forms/DropzoneUtils":76,jquery:819,react:1001,"react-dom":865}],81:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:
b}function b(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}
return function(b,c,g){c&&a(b.prototype,c);g&&a(b,g);return b}}(),d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};f=a("jquery");var n=c(f);f=a("lodash");var m=c(f);f=a("react");var q=c(f);f=a("react-dom");var w=c(f);f=a("../ui_building_blocks/dropdowns/DropdownMenuView.jsx");var p=c(f);a=a("../ui_building_blocks/highlight/Highlight.jsx");var r=c(a),t={propTypes:{tooltipConditions:q.default.PropTypes.array},
checkTooltipConditions:function(a){var b=this;this.props.tooltipConditions&&function(){var c=[];b.props.tooltipConditions.forEach(function(b){b.condition(a)&&c.push(b.tooltip)});0<c.length?b.highlight({animate:!1,duration:-1,autoHideTooltip:!0,tooltip:c.join(" ")}):b.unhighlight()}()}},u=q.default.createClass({displayName:"Input",mixins:[t],propTypes:{type:q.default.PropTypes.string,inputID:q.default.PropTypes.string,defaultValue:q.default.PropTypes.oneOfType([q.default.PropTypes.string,q.default.PropTypes.number]),
placeholder:q.default.PropTypes.string,inputClassName:q.default.PropTypes.string,validate:q.default.PropTypes.func,onChange:q.default.PropTypes.func,onBlur:q.default.PropTypes.func,confirm:q.default.PropTypes.func,valid:q.default.PropTypes.bool,required:q.default.PropTypes.bool,disabled:q.default.PropTypes.bool,readOnly:q.default.PropTypes.bool,trimInput:q.default.PropTypes.bool,value:q.default.PropTypes.oneOfType([q.default.PropTypes.string,q.default.PropTypes.number]),min:q.default.PropTypes.number,
max:q.default.PropTypes.number},getDefaultProps:function(){return{type:"text",inputID:"input",disabled:!1,readOnly:!1,trimInput:!0}},getInitialState:function(){return{valid:!1!==this.props.valid}},componentWillReceiveProps:function(a){"valid"in a&&this.setState({valid:a.valid})},_validate:function(){if(!this.props.valid&&this.props.validate){var a=this.props.validate(this.value());this.setState({valid:a});return a}return!0},_onChange:function(a){this._validate(a);if(this.props.onChange)this.props.onChange(this.value(),
a);this.checkTooltipConditions(this.value())},_onBlur:function(a){if(this.props.onBlur)this.props.onBlur(this.value(),a)},_onKeyDown:function(a){var b=this._validate(a);if(this.props.onChange)this.props.onChange(this.value(),a);this.props.confirm&&13===a.which&&b&&this.props.confirm(a,this.value())},value:function(){var a=this.refs[this.props.inputID].value;return this.props.trimInput?a.trim():a},focus:function(){this.refs[this.props.inputID].focus()},select:function(){this.refs[this.props.inputID].select()},
highlight:function(a){this.refs.highlight.highlight(a)},unhighlight:function(){this.refs.highlight.unhighlight()},render:function(){var a=this.props.required?"required":"",b=this.props.inputClassName;this.state.valid||(b+=" invalid-form");a=q.default.createElement("input",{type:this.props.type,ref:this.props.inputID,id:this.props.inputID,disabled:this.props.disabled?!0:null,defaultValue:this.props.defaultValue,placeholder:this.props.placeholder,className:b,onInput:this._onChange,onBlur:this._onBlur,
onKeyDown:this._onKeyDown,required:a,readOnly:this.props.readOnly,value:this.props.value,min:this.props.min,max:this.props.max});return q.default.createElement(r.default,{ref:"highlight",id:"highlight"},a)}});a=q.default.createClass({displayName:"LabeledCheckbox",mixins:[t],propTypes:{label:q.default.PropTypes.string.isRequired,checkboxID:q.default.PropTypes.string,defaultChecked:q.default.PropTypes.bool,checkboxClassName:q.default.PropTypes.string,labelClassName:q.default.PropTypes.string,onChange:q.default.PropTypes.func,
confirm:q.default.PropTypes.func,disabled:q.default.PropTypes.bool,required:q.default.PropTypes.bool},getDefaultProps:function(){return{checkboxID:"checkbox"}},_onChange:function(a){if(this.props.onChange)this.props.onChange(this.checked(),a);this.checkTooltipConditions(this.checked());w.default.findDOMNode(this.refs[this.props.checkboxID]).blur()},_onKeyDown:function(a){this._onChange(a);this.props.confirm&&13===a.which&&this.props.confirm(a)},checked:function(){return this.refs[this.props.checkboxID].checked},
highlight:function(a){this.unhighlight();this.refs.highlight.highlight(a)},unhighlight:function(){this.refs.highlight.unhighlight()},setChecked:function(a){(0,n.default)(w.default.findDOMNode(this.refs[this.props.checkboxID])).prop("checked",a)},render:function(){var a=this.props.required?"required":"",b=this.props.labelClassName;this.props.disabled&&(b=b?b+" unclickable":"unclickable");return q.default.createElement("div",{ref:"outer",className:"labeled-checkbox"},q.default.createElement("label",
{ref:"label",id:"label",className:b},q.default.createElement(r.default,{ref:"highlight",id:"highlight"},q.default.createElement("input",{type:"checkbox",ref:this.props.checkboxID,id:this.props.checkboxID,defaultChecked:this.props.defaultChecked,className:this.props.checkboxClassName,onChange:this._onChange,onKeyDown:this._onKeyDown,required:a,disabled:this.props.disabled})),this.props.label))}});f=q.default.createClass({displayName:"Select",mixins:[t],propTypes:{options:q.default.PropTypes.array.isRequired,
disableAllSelection:q.default.PropTypes.bool,selectID:q.default.PropTypes.string,defaultValue:q.default.PropTypes.string,selectClassName:q.default.PropTypes.string,optionClassName:q.default.PropTypes.string,onChange:q.default.PropTypes.func,confirm:q.default.PropTypes.func,required:q.default.PropTypes.bool,value:q.default.PropTypes.string,useLowerCaseValue:q.default.PropTypes.bool},getDefaultProps:function(){return{selectID:"select",useLowerCaseValue:!0,disableAllSelection:!1}},_onChange:function(a){if(this.props.onChange)this.props.onChange(this.value(),
a);this.checkTooltipConditions(this.value())},_onKeyDown:function(a){this._onChange(a);this.props.confirm&&13===a.which&&this.props.confirm(a)},_options:function(){var a=[],b=void 0,c,g,k=void 0;for(b in this.props.options)"object"===d(this.props.options[b])?(c=this.props.options[b].label,g=this.props.options[b].value,k=this.props.options[b].disabled):(c=this.props.options[b],g=this.props.useLowerCaseValue?c.toLowerCase():c),a.push(q.default.createElement("option",{key:b,className:this.props.optionClassName,
value:g,"data-label":c,disabled:k},c));return a},value:function(){return this.refs[this.props.selectID].value},highlight:function(a){this.unhighlight();this.refs.highlight.highlight(a)},unhighlight:function(){this.refs.highlight.unhighlight()},render:function(){return q.default.createElement(r.default,{ref:"highlight",id:"highlight"},q.default.createElement("select",{disabled:this.props.disableAllSelection,ref:this.props.selectID,id:this.props.selectID,defaultValue:this.props.defaultValue,className:this.props.selectClassName,
onChange:this._onChange,onKeyDown:this._onKeyDown,required:this.props.required?"required":"",value:this.props.value},this._options()))}});var t=q.default.createClass({displayName:"TextArea",mixins:[t],propTypes:{textareaID:q.default.PropTypes.string,defaultValue:q.default.PropTypes.string,textareaClassName:q.default.PropTypes.string,placeholder:q.default.PropTypes.string,rows:q.default.PropTypes.number,cols:q.default.PropTypes.number,onChange:q.default.PropTypes.func,confirm:q.default.PropTypes.func,
required:q.default.PropTypes.bool,readOnly:q.default.PropTypes.bool},getDefaultProps:function(){return{textareaID:"textarea",cols:63,readOnly:!1}},_onChange:function(a){if(this.props.onChange)this.props.onChange(this.value(),a);this.checkTooltipConditions(this.value())},_onKeyDown:function(a){this._onChange(a);this.props.confirm&&13===a.which&&this.props.confirm(a)},value:function(){return this.refs[this.props.textareaID].value},focus:function(){this.refs[this.props.textareaID].focus()},select:function(){this.refs[this.props.textareaID].select()},
highlight:function(a){this.refs.highlight.highlight(a)},unhighlight:function(){this.refs.highlight.unhighlight()},render:function(){return q.default.createElement(r.default,{ref:"highlight",id:"highlight"},q.default.createElement("textarea",{ref:this.props.textareaID,id:this.props.textareaID,className:this.props.textareaClassName,rows:this.props.rows,cols:this.props.cols,placeholder:this.props.placeholder,onChange:this._onChange,onKeyDown:this._onKeyDown,required:this.props.required?"required":"",
readOnly:this.props.readOnly,defaultValue:this.props.defaultValue}))}}),y=function(a){return a.map(function(a){return"object"===("undefined"===typeof a?"undefined":d(a))?{label:a.label,value:a.value,disabled:a.disabled}:{label:a,value:a,disabled:!1}})},A=function(a){function c(a){e(this,c);var b=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));b.toggleShowSelections=b.toggleShowSelections.bind(b);b.onChange=b.onChange.bind(b);b.onConfirm=b.onConfirm.bind(b);b.getSelectionList=b.getSelectionList.bind(b);
b.renderSelectOption=b.renderSelectOption.bind(b);b.state={showSelections:!1,selected:a.defaultSelection?a.defaultSelection:[]};return b}b(c,a);k(c,[{key:"toggleShowSelections",value:function(){var a=!this.state.showSelections;if(!a)this.onConfirm();this.setState({showSelections:a})}},{key:"onChange",value:function(a){var b=y(this.props.options).map(function(a){return a.value}),c=m.default.reject(this.state.selected,function(a){return!m.default.contains(b,a)});m.default.contains(c,a)?c=m.default.reject(c,
function(b){return b===a}):c.push(a);this.setState({selected:c});if(this.props.onChange)this.props.onChange(c)}},{key:"onConfirm",value:function(){if(this.props.onConfirm)this.props.onConfirm(this.state.selected)}},{key:"getSelectionList",value:function(){return y(this.props.options).map(this.renderSelectOption)}},{key:"renderSelectOption",value:function(a){var b=a.label,c=a.value;a=a.disabled;var g=this.onChange.bind(this,c);return q.default.createElement("a",{className:"multi-select-list-item",
onClick:g},q.default.createElement("input",{type:"checkbox",disabled:a,className:"multi-select-checkbox",id:"multi-select-"+this.props.id+"-"+c,checked:m.default.contains(this.state.selected,c)}),q.default.createElement("label",{title:b},b))}},{key:"render",value:function(){var a=y(this.props.options).map(function(a){return a.value}),b=m.default.reject(this.state.selected,function(b){return!m.default.contains(a,b)}).join(", "),c="toggle-btn-"+this.props.id;return q.default.createElement("div",{id:this.props.id,
className:"multi-select "+this.props.wrapperClassName},q.default.createElement("a",{className:"btn btn-small "+c,title:b,onClick:this.toggleShowSelections},b," ",q.default.createElement("span",{className:"caret"})),this.state.showSelections?q.default.createElement(p.default,{getPosition:this.props.getPosition,outsideClickHandler:this.toggleShowSelections,ignoreClickClasses:[c],handleClickInMenu:!1,getItems:this.getSelectionList,classes:["multi-select-dropdown-menu"]}):null)}}]);return c}(q.default.Component);
A.propTypes={id:q.default.PropTypes.string,options:q.default.PropTypes.array.isRequired,defaultSelection:q.default.PropTypes.array,wrapperClassName:q.default.PropTypes.string,onChange:q.default.PropTypes.func,onConfirm:q.default.PropTypes.func,required:q.default.PropTypes.bool,readOnly:q.default.PropTypes.bool,getPosition:q.default.PropTypes.func};var g=function(a){function c(a){e(this,c);var b=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));b.toggleShowSelections=b.toggleShowSelections.bind(b);
b.onChange=b.onChange.bind(b);b.onConfirm=b.onConfirm.bind(b);b.onSelect=b.onSelect.bind(b);b.getSelectionList=b.getSelectionList.bind(b);b.renderSelectOption=b.renderSelectOption.bind(b);b.state={showSelections:!1,value:a.defaultValue?a.defaultValue:""};return b}b(c,a);k(c,[{key:"toggleShowSelections",value:function(){this.setState({showSelections:!this.state.showSelections})}},{key:"onChange",value:function(a){this.setState({value:a});if(this.props.onChange)this.props.onChange(a)}},{key:"onConfirm",
value:function(a,b){if(this.props.onConfirm)this.props.onConfirm(b)}},{key:"onSelect",value:function(a){this.setState({value:a});this.onConfirm(null,a)}},{key:"getSelectionList",value:function(){return y(this.props.options).map(this.renderSelectOption)}},{key:"renderSelectOption",value:function(a){var b=a.label,c=a.value;a=c===this.state.value;c=this.onSelect.bind(this,c);return q.default.createElement("a",{className:"combo-select-list-item",onClick:c},a?q.default.createElement("i",{className:"fa fa-check"}):
q.default.createElement("i",{className:"fa"}),q.default.createElement("label",{title:b},b))}},{key:"render",value:function(){var a="toggle-btn-"+this.props.id;return q.default.createElement("div",{id:this.props.id,className:"combo-box "+this.props.wrapperClassName},this.state.showSelections?q.default.createElement(p.default,{getPosition:this.props.getPosition,outsideClickHandler:this.toggleShowSelections,ignoreClickClasses:[a],handleClickInMenu:!0,getItems:this.getSelectionList,classes:["combobox-dropdown-menu"]}):
null,q.default.createElement("div",{className:"relative-wrapper"},q.default.createElement(u,{ref:"input",onChange:this.onChange,trimInput:!1,confirm:this.onConfirm,value:this.state.value}),q.default.createElement("div",{className:"caret-wrapper "+a,onClick:this.toggleShowSelections},q.default.createElement("span",{className:"caret"}))))}}]);return c}(q.default.Component);g.propTypes={id:q.default.PropTypes.string,options:q.default.PropTypes.array.isRequired,defaultValue:q.default.PropTypes.string,
wrapperClassName:q.default.PropTypes.string,onChange:q.default.PropTypes.func,onConfirm:q.default.PropTypes.func,required:q.default.PropTypes.bool,readOnly:q.default.PropTypes.bool,getPosition:q.default.PropTypes.func};l.exports.Input=u;l.exports.LabeledCheckbox=a;l.exports.Select=f;l.exports.TextArea=t;l.exports.MultiSelect=A;l.exports.Combobox=g},{"../ui_building_blocks/dropdowns/DropdownMenuView.jsx":301,"../ui_building_blocks/highlight/Highlight.jsx":302,jquery:819,lodash:842,react:1001,"react-dom":865}],
82:[function(a,l,f){var c=(f=a("react"))&&f.__esModule?f:{default:f},e=(f=a("../ui_building_blocks/dialogs/ReactModalUtils"))&&f.__esModule?f:{default:f};a("../../lib/bootstrap");a=c.default.createClass({displayName:"ReactFormFooter",propTypes:{confirm:c.default.PropTypes.func,showConfirm:c.default.PropTypes.bool,cancel:c.default.PropTypes.func,showCancel:c.default.PropTypes.bool,confirmDisabled:c.default.PropTypes.bool,confirmButton:c.default.PropTypes.node,confirmBtnClassName:c.default.PropTypes.string,
cancelButton:c.default.PropTypes.node,closeOnConfirm:c.default.PropTypes.bool},getDefaultProps:function(){return{showConfirm:!0,showCancel:!0,confirmDisabled:!1,confirmButton:"Confirm",confirmBtnClassName:"btn btn-primary confirm-button",cancelButton:"Cancel",closeOnConfirm:!0}},confirm:function(a){a.preventDefault();this.props.confirm&&this.props.confirm(a);this.props.closeOnConfirm&&e.default.destroyModal()},cancel:function(a){e.default.destroyModal();this.props.cancel&&this.props.cancel(a)},focus:function(){this.props.showConfirm&&
this.refs.confirm.focus()},render:function(){var a=this.props.confirmDisabled?"disable":"",b=c.default.createElement("div",null),k=c.default.createElement("div",null);this.props.showCancel&&(b=c.default.createElement("a",{href:"#",ref:"cancel",className:"btn cancel-button","data-dismiss":"modal",onClick:this.cancel,tabIndex:"2"},this.props.cancelButton));this.props.showConfirm&&(k=c.default.createElement("a",{href:"#",ref:"confirm",className:this.props.confirmBtnClassName,disabled:a,onClick:a?null:
this.confirm,tabIndex:"1"},this.props.confirmButton));return c.default.createElement("div",null,b,k)}});l.exports=a},{"../../lib/bootstrap":383,"../ui_building_blocks/dialogs/ReactModalUtils":300,react:1001}],83:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("../forms/ReactFormFooter.jsx");var h=c(f),b=a("../forms/ReactFormElements.jsx");f=a("../ui_building_blocks/dialogs/ReactModal.jsx");var k=c(f);a=a("../ui_building_blocks/dialogs/ReactModalUtils");
var d=c(a);a=e.default.createClass({displayName:"ReactPrompt",propTypes:{message:e.default.PropTypes.oneOfType([e.default.PropTypes.object,e.default.PropTypes.string]).isRequired,defaultValue:e.default.PropTypes.string,confirmButton:e.default.PropTypes.string,cancelButton:e.default.PropTypes.string,confirm:e.default.PropTypes.func,cancel:e.default.PropTypes.func,validate:e.default.PropTypes.func,focusRange:e.default.PropTypes.array,name:e.default.PropTypes.string,inputID:e.default.PropTypes.string},
getDefaultProps:function(){return{defaultValue:"",confirmButton:"Yes, go ahead.",cancelButton:"Cancel",name:"prompt",inputID:"input"}},getInitialState:function(){return{confirmDisabled:!0}},onConfirm:function(){d.default.destroyModal();this.confirm()},confirm:function(){this.props.confirm&&this.props.confirm(this.refs.input.value())},onCancel:function(){this.props.cancel&&this.props.cancel()},validate:function(a){var b=""!==a;this.props.validate&&(b=this.props.validate(a));this.setState({confirmDisabled:!b});
return b},onKeyDown:function(a){this.validate(a);13!==a.which||this.state.confirmDisabled||(d.default.destroyModal(),this.onConfirm(a))},componentDidMount:function(){this.validate(this.refs.input.value());var a=this.refs.input.refs[this.props.inputID];a.focus();if(this.props.focusRange&&2===this.props.focusRange.length){var b=this.props.focusRange[0],c=this.props.focusRange[1];0<b&&c>b&&a.setSelectionRange(b,c)}else a.select()},render:function(){var a=e.default.createElement("div",{className:"modal-title"},
this.props.message),c=e.default.createElement(b.Input,{ref:"input",id:"input",type:"text",inputID:this.props.inputID,defaultValue:this.props.defaultValue,inputClassName:"prompt-input",validate:this.validate,confirm:this.onConfirm,required:!0}),d=e.default.createElement(h.default,{confirm:this.confirm,cancel:this.onCancel,confirmButton:this.props.confirmButton,cancelButton:this.props.cancelButton,confirmDisabled:this.state.confirmDisabled});return e.default.createElement(k.default,{modalName:this.props.name,
header:a,body:c,footer:d})}});l.exports=a},{"../forms/ReactFormElements.jsx":81,"../forms/ReactFormFooter.jsx":82,"../ui_building_blocks/dialogs/ReactModal.jsx":299,"../ui_building_blocks/dialogs/ReactModalUtils":300,react:1001}],84:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("react");var b=c(f);f=a("react-dom");var k=c(f);f=a("../notebook/KeyboardShortcutsView.jsx");var d=c(f);f=a("../search/SearchViewMixin.jsx");f=
c(f);var n=a("../search/ListSearchAdapter"),m=c(n),n=a("../search/FileTreeNameSearchAdapter"),q=c(n),n=a("../search/NotebookFullTextSearchAdapter"),w=c(n),n=a("../search/DatabricksForumSearchAdapter"),p=c(n),n=a("../search/GoogleCustomSearchAdapter"),r=c(n),n=a("../search/GoogleCustomSearchParams"),t=c(n),n=a("../ui_building_blocks/dialogs/ReactModalUtils"),u=c(n),y=a("../urls/DbGuideUrls"),A=function(a,b,c,g){return{id:a,category:"help-menu",itemType:"help-menu",icon:c,displayName:b,fullName:b,url:g}},
g=function(a){return""===a};a=b.default.createClass({displayName:"HelpMenuView",propTypes:{topLevelFolders:b.default.PropTypes.array.isRequired,hideFunc:b.default.PropTypes.func.isRequired,closeFileBrowserFunc:b.default.PropTypes.func.isRequired,navigateFunc:b.default.PropTypes.func.isRequired,enableFullTextSearch:b.default.PropTypes.bool.isRequired,enableSparkDocsSearch:b.default.PropTypes.bool.isRequired,sparkDocsSearchGoogleCx:b.default.PropTypes.string,useStaticGuide:b.default.PropTypes.bool},
mixins:[f.default],searchName:"help",categoryProps:{"help-menu":{displayName:"",order:0,noHeader:!0},help:{displayName:"Databricks Guide",order:1},"spark-docs":{displayName:"Apache Spark Documentation",order:2},forum:{displayName:"Forum",order:3}},initSearchAdapters:function(){var a=m.default,b=y.DbGuideUrls.getDbGuideUrl(window.settings.dbcGuideURL),c=window.settings.docsDomain+window.settings.restApiDocPath||"/doc/api",d=window.settings.allowFeedbackForumAccess?"Feedback":"Contact Us",b=[A("guide-button",
"Databricks Guide","book",b),A("api-docs-button","REST API Docs","book",c),A("forum-button","Community Forum","question",window.settings.dbcForumURL),A("feedback-button",d,"envelope",window.settings.dbcFeedbackURL),A("shortcut-button","Shortcuts","keyboard-o","SHORTCUT_URL")];window.settings.dbcSupportURL&&b.push(A("support-button","Support","phone",window.settings.dbcSupportURL));a=[new a(b,g),new p.default];this.props.useStaticGuide||(a.push(new q.default(this.props.topLevelFolders)),this.props.enableFullTextSearch&&
a.push(new w.default(window.conn.wsClient)));if(this.props.enableSparkDocsSearch||this.props.useStaticGuide)b=[],this.props.enableSparkDocsSearch&&b.push(t.default.sparkDocs),this.props.useStaticGuide&&b.push(t.default.databricksGuide),a.push(new r.default(this.props.sparkDocsSearchGoogleCx,b));return a},componentDidMount:function(){var a=this;(0,e.default)(window).resize(function(){a.forceUpdate()})},openShortcutModal:function(){u.default.createModal(b.default.createElement(d.default,{style:{left:0},
defaultCloseIcon:!0,defaultOpenState:!0}))},onShow:function(){var a=this.getSelectedSearchResult();a&&"help-menu"===a.category&&this.clearSelectedSearchResult();k.default.findDOMNode(this.getSearchInput()).select();k.default.findDOMNode(this.getSearchInput()).focus();this.forceUpdate()},onHide:function(){},onSearchSelectionEnterKey:function(a){window.open(a.url,"_blank");this.props.hideFunc()},onSearchSelectionClick:function(a,b){if("SHORTCUT_URL"===a.url)return b.stopPropagation(),b.preventDefault(),
this.openShortcutModal(),this._recordEvent("shortcutsViewed",{clickOrigin:"helpMenuShortcutsLink"}),!1;window.open(a.url,"_blank");b.preventDefault();this.props.hideFunc()},onSearchInputKeyDown:function(a){27===a.which&&(this.props.hideFunc(),a.preventDefault())},render:function(){var a=this.renderSearchInput(),c=this.renderSpinner(),g=this.renderSearchResults();return b.default.createElement("div",null,b.default.createElement("div",{className:"input"},b.default.createElement("i",{className:"fa fa-search fa-fw"}),
a,c),g)},componentDidUpdate:function(){if(this.refs.searchResults){var a=(0,e.default)("#context-bar")[0],b=(0,e.default)("#content")[0];a&&b&&(b=b.getBoundingClientRect(),b=b.bottom-b.top,a&&(a=a.getBoundingClientRect(),b=b+a.bottom-a.top),(0,e.default)(k.default.findDOMNode(this.refs.searchResults)).css("max-height",b-65+"px"))}},getEventTags:function(){return{searchForumResultCount:h.default.filter(this.state.orderedResults,function(a){return"forum"===a.category}).length}}});l.exports=a},{"../notebook/KeyboardShortcutsView.jsx":173,
"../search/DatabricksForumSearchAdapter":233,"../search/FileTreeNameSearchAdapter":234,"../search/GoogleCustomSearchAdapter":235,"../search/GoogleCustomSearchParams":236,"../search/ListSearchAdapter":237,"../search/NotebookFullTextSearchAdapter":239,"../search/SearchViewMixin.jsx":244,"../ui_building_blocks/dialogs/ReactModalUtils":300,"../urls/DbGuideUrls":321,jquery:819,react:1001,"react-dom":865,underscore:1021}],85:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=
a.treeCollection,c=a.showLoading,g=a.hideLoading,k=a.vertical;a=a.featuredLinks.map(function(a){return d.default.createElement(D,{key:a.displayName,url:a.linkURI,displayName:a.displayName,imagePath:a.icon?a.icon:"img/home/Python_icon.svg",treeCollection:b,showLoading:c,hideLoading:g,vertical:k})});return k?d.default.createElement("div",{className:"featured-links-section"},d.default.createElement("div",{className:"homeview-main-section-inner create-section-inner"},d.default.createElement("h3",null,
"Featured Notebooks"),d.default.createElement("div",{className:"featured-links learn-steps"},a))):d.default.createElement("div",{className:"homeview-header"},d.default.createElement("div",{className:"homeview-section featured-links-section"},d.default.createElement("h2",null,"Featured Notebooks"),d.default.createElement("div",{className:"featured-links learn-steps"},a)))}function h(){return d.default.createElement("div",{className:"homeview-header"},d.default.createElement("div",{className:"homeview-section learn-steps-section"},
d.default.createElement("h2",null,"Featured Notebooks"),d.default.createElement("div",{className:"learn-steps"},d.default.createElement(E,{step:1}),d.default.createElement(E,{step:2}),d.default.createElement(E,{step:3}))))}f=a("jquery");var b=c(f);f=a("underscore");var k=c(f);f=a("react");var d=c(f);f=a("classnames");var n=c(f);f=a("../clusters/ClusterList");f=c(f);var m=a("../filebrowser/FileBrowserView"),m=c(m),q=a("../filebrowser/TreeNodeCollection"),q=c(q),w=a("../filetree/NavFunc.jsx"),p=c(w),
r=a("../jobs/JobListView.jsx"),w=a("../local_storage/LocalUserPreference"),w=c(w),t=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),u=c(t),t=a("../ui_building_blocks/highlight/Highlight.jsx"),y=c(t),t=a("../ui_building_blocks/icons/IconsForType"),A=c(t),g=a("../ui_building_blocks/Tooltip.jsx"),v=a("../urls/DbGuideUrls"),t=a("../urls/DbGuideLinks"),z=c(t),B=a("../urls/ResourceUrls");a=a("../user_activity/UsageLogging");var G=d.default.createClass({displayName:"HomeViewCreate",propTypes:{clusterList:d.default.PropTypes.instanceOf(f.default).isRequired,
localpref:d.default.PropTypes.instanceOf(w.default).isRequired,disableHints:d.default.PropTypes.bool},mixins:[a.RecordEventMixin],getInitialState:function(){return{newNotebookLinkReady:!1}},hintListener:function(){if(this.isMounted()&&this.props.clusterList.finishedInitialFetch){var a=this.props.clusterList.activeClusters().length,b=this.props.localpref.get("seenNotebookHint");0===a?(this.refs["new-cluster-link"].highlight({animate:!1,duration:-1,autoHideTooltip:!0,tooltip:"Create a cluster to get started!"}),
this.refs["new-notebook-link"].unhighlight()):b||(this.refs["new-cluster-link"].unhighlight(),this.refs["new-notebook-link"].highlight({animate:!1,duration:-1,autoHideTooltip:!0,tooltip:"Create a notebook and start coding!"}),this.props.localpref.set("seenNotebookHint",!0))}},componentDidMount:function(){var a=this;this.props.disableHints||function(){k.default.delay(function(){a.isMounted()&&(a.hintListener(),a.props.clusterList.on("reset change add remove",a.hintListener,this))},250)}();this._setNewNotebookLinkState()},
componentWillUnmount:function(){this.props.clusterList.off(null,null,this)},_newLibrariesLink:function(){return"#create/library/"+p.default.getDefaultFolderId()},_onNewLinkClick:function(a){"NewNotebookLink"===a?p.default.addReactNotebook(p.default.getDefaultFolderId()):"NewClusterLink"===a?p.default.addCluster():"NewScheduledJobLink"===a&&r.JobListView.createJob();this.recordEvent("homeViewClick",{homeViewClickLocation:a})},_setNewNotebookLinkState:function(){var a=this;setTimeout(function(){a.isMounted()&&
a.setState({newNotebookLinkReady:!0})},200)},_getNewNotebookLink:function(){var a=this._onNewLinkClick.bind(this,"NewNotebookLink");return d.default.createElement("a",{className:"create-item","data-name":"Notebook",onClick:a},d.default.createElement("i",{className:"fa fa-file-text-o"}),"Notebook")},_getNewJobLink:function(){var a=!window.settings.enableElasticSparkUI,b=this._onNewLinkClick.bind(this,"NewScheduledJobLink"),b=d.default.createElement("a",{className:"create-item","data-name":"Job",disabled:a,
onClick:b},d.default.createElement("i",{className:"fa fa-calendar"}),"Job"),c=d.default.createElement("a",{href:v.DbGuideUrls.getDbGuideUrl(z.default.JOBS_URL)},"Jobs"),c=g.Tooltip.getGenericUpgradeElement(d.default.createElement("span",null,"For access to ",c));return a?d.default.createElement(g.Tooltip,{text:c},b):d.default.createElement(y.default,{ref:"new-job-link"},b)},_getNewClusterLink:function(){var a=this._onNewLinkClick.bind(this,"NewClusterLink");return d.default.createElement(y.default,
{ref:"new-cluster-link"},d.default.createElement("a",{className:"create-item","data-name":"Cluster",onClick:a},d.default.createElement("i",{className:"fa fa-sitemap"}),"Cluster"))},render:function(){var a=this._onNewLinkClick.bind(this,"NewTableLink"),b=this._onNewLinkClick.bind(this,"NewLibraryLink");return d.default.createElement("div",{className:"homeview-create-section"},d.default.createElement("div",{className:"homeview-main-section-inner create-section-inner"},d.default.createElement("h3",null,
"New"),d.default.createElement("div",{className:"create-item-container"},d.default.createElement(y.default,{ref:"new-notebook-link"},this.state.newNotebookLinkReady?this._getNewNotebookLink():null)),d.default.createElement("div",{className:"create-item-container"},this._getNewJobLink()),d.default.createElement("div",{className:"create-item-container"},this._getNewClusterLink()),d.default.createElement("div",{className:"create-item-container"},d.default.createElement(y.default,{ref:"new-table-link"},
d.default.createElement("a",{className:"create-item","data-name":"Table",href:"#create/table",onClick:a},d.default.createElement("i",{className:"fa fa-table"}),"Table"))),d.default.createElement("div",{className:"create-item-container"},d.default.createElement(y.default,{ref:"new-library-link"},d.default.createElement("a",{className:"create-item","data-name":"Library",href:this._newLibrariesLink(),onClick:b},d.default.createElement("i",{className:"fa fa-book"}),"Library")))))}}),x=d.default.createClass({displayName:"HomeViewDocs",
mixins:[a.RecordEventMixin],_getDbGuideLink:function(a,b,c,g){a=v.DbGuideUrls.getDbGuideUrl(a);if(!window.settings.useStaticGuide)return d.default.createElement("a",{href:a,target:"_blank",onClick:g},b);var k="_blank";window.settings.useFramedStaticNotebooks&&!c&&(k="_self");return d.default.createElement("a",{href:a,target:k,onClick:g},b)},_onClick:function(a){this.recordEvent("homeViewClick",{homeViewClickLocation:a})},_docLink:function(a,b){var c=d.default.createElement("span",null,d.default.createElement("i",
{className:"fa fa-"+A.default.navigate}),b);return d.default.createElement("div",{className:"create-item-container"},this._getDbGuideLink(a,c,!1,this._onClick.bind(null,b)))},_langLink:function(a,b){return this._getDbGuideLink(a,b,!1,this._onClick.bind(null,b))},render:function(){return d.default.createElement("div",{className:"homeview-docs-section"},d.default.createElement("div",{className:"homeview-main-section-inner docs-section-inner"},d.default.createElement("h3",null,"Documentation"),this._docLink(z.default.WELCOME_GUIDE_URL,
"Databricks Guide"),d.default.createElement("div",{className:"create-item-container"},d.default.createElement("i",{className:"fa fa-"+A.default.navigate}),d.default.createElement("span",null,this._langLink(z.default.PYTHON_INTRO_URL,"Python"),",\u00a0",this._langLink(z.default.R_INTRO_URL,"R"),",\u00a0",this._langLink(z.default.SCALA_INTRO_URL,"Scala"),",\u00a0",this._langLink(z.default.SQL_INTRO_URL,"SQL"))),this._docLink(z.default.ACCESSING_DATA_URL,"Importing Data")))}}),D=d.default.createClass({displayName:"HomeViewFeaturedLink",
propTypes:{url:d.default.PropTypes.string.isRequired,displayName:d.default.PropTypes.string.isRequired,imagePath:d.default.PropTypes.string.isRequired,treeCollection:d.default.PropTypes.instanceOf(q.default).isRequired,showLoading:d.default.PropTypes.func.isRequired,hideLoading:d.default.PropTypes.func.isRequired,vertical:d.default.PropTypes.bool},mixins:[a.RecordEventMixin],getInitialState:function(){return{hovering:!1}},_mouseOver:function(){this.setState({hovering:!0})},_mouseOut:function(){this.setState({hovering:!1})},
_escapeRegExp:function(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},_existingNode:function(a){var b=this;a=this.props.treeCollection.where({parentId:a});var c=new RegExp(this._escapeRegExp(this.props.displayName)+" \\([0-9]+\\)");return k.default.find(a,function(a){return"shell"===a.get("type")&&a.get("name")&&(a.get("name")===b.props.displayName||a.get("name").match(c))})},_importNb:function(a){var c=this;a.preventDefault();this.recordEvent("homeViewClick",{homeViewClickLocation:this.props.displayName+
"-FeaturedNotebook"});a=p.default.getDefaultFolderId();var g=this._existingNode(a);g?window.router.navigate("shell/"+g.id,{trigger:!0}):(this.props.showLoading(),b.default.ajax("/serialize/url/"+a,{type:"POST",data:JSON.stringify({url:this.props.url,nameOverride:this.props.displayName}),success:function(a){a&&a.newId&&window.router.navigate("shell/"+a.newId,{trigger:!0});c.props.hideLoading()},error:function(a,b,g){console.error("Import failed with error:",g);u.default.alert("Import failed with error: "+
g,!1,"OK");c.props.hideLoading()}}))},render:function(){var a=this,b="learn-step";this.state.hovering&&(b+=" active");this.props.vertical&&(b+=" vertical");var c=function(b,c){return d.default.createElement("a",{className:b,"data-name":a.props.displayName,onClick:a._importNb,href:a.props.url,onMouseOver:a._mouseOver,onMouseOut:a._mouseOut},c)};return d.default.createElement("div",{className:b},c("learn-step-icon",d.default.createElement("img",{src:B.ResourceUrls.getResourceUrl(this.props.imagePath)})),
this.props.vertical?d.default.createElement("span",null,c("main-link",this.props.displayName)):d.default.createElement("p",null,c("main-link",this.props.displayName)))}});e.propTypes={treeCollection:d.default.PropTypes.instanceOf(q.default).isRequired,featuredLinks:d.default.PropTypes.array.isRequired,showLoading:d.default.PropTypes.func.isRequired,hideLoading:d.default.PropTypes.func.isRequired,vertical:d.default.PropTypes.bool};var E=d.default.createClass({displayName:"HomeViewLearnStep",propTypes:{step:d.default.PropTypes.number},
getInitialState:function(){return{hovering:!1}},getDefaultProps:function(){return{step:1}},mouseOver:function(){this.setState({hovering:!0})},mouseOut:function(){this.setState({hovering:!1})},render:function(){var a="learn-step";this.state.hovering&&(a+=" active");return 2===this.props.step?d.default.createElement("div",{className:a},d.default.createElement("i",{className:"fa fa-chevron-right"}),d.default.createElement("a",{href:v.DbGuideUrls.getDbGuideUrl(z.default.NOTEBOOKS_OVERVIEW_URL),className:"learn-step-icon notebooks",
onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},d.default.createElement("img",{src:B.ResourceUrls.getResourceUrl("img/home/code_icon.svg")})),d.default.createElement("p",null,"2. Using\u00a0",d.default.createElement("a",{href:v.DbGuideUrls.getDbGuideUrl(z.default.NOTEBOOKS_OVERVIEW_URL),className:"main-link underline",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},"Notebooks")," in\u00a0",d.default.createElement("a",{href:v.DbGuideUrls.getDbGuideUrl(z.default.PYTHON_INTRO_URL),className:"underline"},
"Python"),",\u00a0",d.default.createElement("a",{href:v.DbGuideUrls.getDbGuideUrl(z.default.SCALA_INTRO_URL),className:"underline"},"Scala"),",\u00a0",d.default.createElement("a",{href:v.DbGuideUrls.getDbGuideUrl(z.default.SQL_INTRO_URL),className:"underline"},"SQL")," or\u00a0",d.default.createElement("a",{href:v.DbGuideUrls.getDbGuideUrl(z.default.R_INTRO_URL),className:"underline"},"R"))):3===this.props.step?d.default.createElement("div",{className:a},d.default.createElement("i",{className:"fa fa-chevron-right"}),
d.default.createElement("a",{href:v.DbGuideUrls.getDbGuideUrl(z.default.ACCESSING_DATA_URL),className:"learn-step-icon",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},d.default.createElement("img",{src:B.ResourceUrls.getResourceUrl("img/home/add_data_icon.svg")})),d.default.createElement("p",null,d.default.createElement("a",{href:v.DbGuideUrls.getDbGuideUrl(z.default.ACCESSING_DATA_URL),className:"main-link",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},"3. Accessing Data in Databricks"))):
d.default.createElement("div",{className:a},d.default.createElement("a",{href:v.DbGuideUrls.getDbGuideUrl(z.default.WELCOME_GUIDE_URL),className:"learn-step-icon",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},d.default.createElement("img",{src:B.ResourceUrls.getResourceUrl("img/home/help_doc_icon.svg")})),d.default.createElement("p",null,d.default.createElement("a",{href:v.DbGuideUrls.getDbGuideUrl(z.default.WELCOME_GUIDE_URL),className:"main-link",onMouseOver:this.mouseOver,onMouseOut:this.mouseOut},
"1. Get started with the Welcome Guide")))}});a=d.default.createClass({displayName:"HomeView",propTypes:{gitHash:d.default.PropTypes.string.isRequired,branch:d.default.PropTypes.string.isRequired,fbView:d.default.PropTypes.instanceOf(m.default).isRequired,fbCollection:d.default.PropTypes.instanceOf(q.default).isRequired,clusterList:d.default.PropTypes.instanceOf(f.default).isRequired,recordEvent:d.default.PropTypes.func,recentRoutes:d.default.PropTypes.array.isRequired,localpref:d.default.PropTypes.instanceOf(w.default).isRequired,
showFeaturedLinks:d.default.PropTypes.bool,featuredLinks:d.default.PropTypes.array,isDevTier:d.default.PropTypes.bool,devTierName:d.default.PropTypes.string},newFeaturesList:d.default.createElement("div",null,d.default.createElement("ul",null,d.default.createElement("li",null,"New add user workflow"))),mixins:[a.RecordEventMixin],getDefaultProps:function(){return{showFeaturedLinks:!1,featuredLinks:[]}},getInitialState:function(){return{loading:!1,lastLogin:null}},componentDidMount:function(){var a=
this;this.fetchLoginHistory=b.default.ajax("/loginhistory",{success:function(b){0!==b.timestamp&&""!==b.userName&&a.setState({lastLogin:"Last login: "+(new Date(b.timestamp)).toLocaleString()})}});window.settings.upgradeURL&&window.settings.isAdmin&&(0,b.default)(".tb-button-upgrade").attr("href",window.settings.upgradeURL).toggle(!0);this.throttledForceUpdate=k.default.throttle(function(){a.isMounted()&&a.forceUpdate()},250);this.props.fbCollection.on("change add remove reset",this.throttledForceUpdate,
this)},componentWillUnmount:function(){this.props.fbCollection.off(null,null,this);window.settings.upgradeURL&&window.settings.isAdmin&&(0,b.default)(".tb-button-upgrade").toggle(!1);this.fetchLoginHistory&&"pending"===!this.fetchLoginHistory.state()&&this.fetchLoginHistory.abort()},_onRecentLinkClick:function(a){this.recordEvent("homeViewClick",{homeViewClickLocation:a+"RecentLink"})},showLoading:function(){this.setState({loading:!0})},hideLoading:function(){this.setState({loading:!1})},renderRecentsLinks:function(a){var b=
this,c=[];a=a||this.props.recentRoutes.length;this.props.recentRoutes.slice(0,a).forEach(function(a){if(a=b.props.fbView.entryFromViewRoute(a)){var g="fa fa-"+a.icon,k=b._onRecentLinkClick.bind(b,a.name);c.push(d.default.createElement("div",{className:"recent-item-container",key:a.url},d.default.createElement("a",{className:"recent-item",href:a.url,"data-name":a.name,onClick:k},d.default.createElement("i",{className:g}),a.name)))}});return d.default.createElement("div",{className:"homeview-recent-section",
key:"homeview-recent-section"},d.default.createElement("h3",null,"Open Recent"),0<c.length?c:d.default.createElement("p",null,"Recent files appear here as you work. Get started with the ",d.default.createElement("a",{href:v.DbGuideUrls.getDbGuideUrl(z.default.WELCOME_GUIDE_URL)},"welcome guide"),"."))},getHeader:function(){return this.props.isDevTier||this.props.showFeaturedLinks?d.default.createElement(e,{featuredLinks:this.props.featuredLinks,treeCollection:this.props.fbCollection,showLoading:this.showLoading,
hideLoading:this.hideLoading}):d.default.createElement(h,null)},getMiddleColumn:function(){return this.props.isDevTier||this.props.showFeaturedLinks?[d.default.createElement(x,{key:"homeViewDocs"}),this.renderRecentsLinks(7)]:this.renderRecentsLinks()},render:function(){var a=(0,n.default)({homeview:!0,"notebook-loading":this.state.loading}),b=this.props.isDevTier?d.default.createElement("span",null,this.props.devTierName," (",this.props.branch,")"):d.default.createElement("span",null,"version ",
this.props.branch),c=window.settings.notifyLastLogin&&this.state.lastLogin?d.default.createElement("div",{className:"homeview-lastlogin"},d.default.createElement("span",{title:"Last login"},this.state.lastLogin)):null;return d.default.createElement("div",{className:a},d.default.createElement("img",{className:"load-spinner",src:B.ResourceUrls.getResourceUrl("img/spinner.svg")}),d.default.createElement("div",{className:"homeview-body"},c,d.default.createElement("div",{className:"homeview-version"},
d.default.createElement("span",{title:this.props.gitHash},b)),d.default.createElement("div",{className:"homeview-inner"},d.default.createElement("div",{className:"homeview-logo-container"},d.default.createElement("h1",{className:"welcome"},"Welcome to ",d.default.createElement("img",{src:B.ResourceUrls.getResourceUrl("img/databricks_logoTM_rgb_TM.svg"),className:"homepage-logo"}))),d.default.createElement("div",{className:"homeview-panel"},this.getHeader(),d.default.createElement("div",{className:"homeview-main"},
d.default.createElement("div",{className:"homeview-section"},d.default.createElement(G,{clusterList:this.props.clusterList,localpref:this.props.localpref,disableHints:this.props.showFeaturedLinks})),d.default.createElement("div",{className:"homeview-section"},this.getMiddleColumn()),d.default.createElement("div",{className:"homeview-section"},d.default.createElement("div",{className:"homeview-newfeatures-section"},d.default.createElement("h3",null,"What\u2019s new?"),this.newFeaturesList,d.default.createElement("p",
null,d.default.createElement("a",{target:"_blank",href:z.default.RELEASE_NOTES_URL},"Latest release notes")))))))))}});l.exports.HomeView=a;l.exports.HomeViewCreate=G;l.exports.HomeViewDocs=x;l.exports.HomeViewFeaturedLink=D},{"../clusters/ClusterList":32,"../filebrowser/FileBrowserView":66,"../filebrowser/TreeNodeCollection":69,"../filetree/NavFunc.jsx":72,"../jobs/JobListView.jsx":94,"../local_storage/LocalUserPreference":128,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,
"../ui_building_blocks/highlight/Highlight.jsx":302,"../ui_building_blocks/icons/IconsForType":304,"../urls/DbGuideLinks":320,"../urls/DbGuideUrls":321,"../urls/ResourceUrls":322,"../user_activity/UsageLogging":324,classnames:411,jquery:819,react:1001,underscore:1021}],86:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,
d.key,d)}}return function(c,b,k){b&&a(c.prototype,b);k&&a(c,k);return c}}();f.Pluralize=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"simplePluralize",value:function(a,b){return 1===a?b:b+"s"}}]);return a}()},{}],87:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=
Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.CronSchedule=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("react");var b=
c(l);l=a("react-dom");var k=c(l);l=a("jquery");var d=c(l);a("../../lib/jquery-cron");var n=a("../forms/ReactFormElements.jsx");a=a("../jobs/ElasticUtil");var m=c(a);(f.CronSchedule=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.onManualCronChange=
a.onManualCronChange.bind(a);a.updateInProgress=!1;a.state={currentQuartz:a.props.currentQuartz||void 0,currentTimeZone:a.props.currentTimeZone||void 0,showCronSyntax:!1,canCronDialogDisplay:!0};return a}e(c,a);h(c,[{key:"componentDidMount",value:function(){var a=this,b=void 0;this.state.currentQuartz&&(b=m.default.fromQuartzCronExpression(this.state.currentQuartz));try{(0,d.default)(this._cronDialogContainer).cron({initial:b,initialTimeZone:this.props.currentTimeZone||void 0,onChange:function(){var b=
(0,d.default)(a._cronDialogContainer);a.onDialogChange(b.cron("value"),b.cron("timezone"))}})}catch(t){(function(){var b=!!a.props.currentQuartz;(0,d.default)(a._cronDialogContainer).cron({onChange:function(){if(b)b=!1;else{var c=(0,d.default)(a._cronDialogContainer);a.onDialogChange(c.cron("value"),c.cron("timezone"))}}});a.setState({canCronDialogDisplay:!1})})()}}},{key:"value",value:function(){return{quartzCronExpression:this.state.currentQuartz||"",timeZoneId:this.getCanonicalTimezone(this.state.currentTimeZone)}}},
{key:"getCanonicalTimezone",value:function(a){return a?a.replace("UTC","GMT"):"US/Pacific"}},{key:"lockUpdates",value:function(){return this.updateInProgress?!1:this.updateInProgress=!0}},{key:"unlockUpdates",value:function(){this.updateInProgress=!1}},{key:"updateManualInput",value:function(a){var b=(0,d.default)(k.default.findDOMNode(this)).find("#manualCronExpr");b.length&&b.val(a)}},{key:"onDialogChange",value:function(a,b){this.lockUpdates()&&(a=m.default.toQuartzCronExpression(a),this.updateManualInput(a),
this.setState({currentQuartz:a,currentTimeZone:b,canCronDialogDisplay:!0}),this.unlockUpdates())}},{key:"onManualCronChange",value:function(a){if(this.lockUpdates()){try{(0,d.default)(this._cronDialogContainer).cron("value",m.default.fromQuartzCronExpression(a),this.state.currentTimeZone),this.setState({currentQuartz:a,canCronDialogDisplay:!0})}catch(r){this.setState({currentQuartz:a,canCronDialogDisplay:!1})}this.unlockUpdates()}}},{key:"render",value:function(){var a=this,c="dialog-cron-container"+
(this.state.canCronDialogDisplay?"":" cron-widget-invalid");return b.default.createElement("div",{className:"dialog-cron-wrapper"},b.default.createElement("label",{htmlFor:"cronDialogContainer"},"Schedule"),b.default.createElement("div",{id:"cronDialogContainer",ref:function(b){return a._cronDialogContainer=b},className:c}),b.default.createElement(n.LabeledCheckbox,{ref:"showManualCronExpr",checkboxID:"showManualCronExpr",label:"Show Cron Syntax",checkboxClassName:"show-manual-cron",onChange:function(){return a.setState({showCronSyntax:!a.state.showCronSyntax})},
defaultChecked:!1}),this.state.showCronSyntax?b.default.createElement(n.Input,{ref:"manualCronExpr",type:"text",inputID:"manualCronExpr",defaultValue:this.state.currentQuartz,placeholder:"Quartz cron syntax (e.g. * * * * * ?)",onChange:this.onManualCronChange}):null)}}]);return c}(b.default.Component)).propTypes={currentQuartz:b.default.PropTypes.string,currentTimeZone:b.default.PropTypes.string}},{"../../lib/jquery-cron":401,"../forms/ReactFormElements.jsx":81,"../jobs/ElasticUtil":90,jquery:819,
react:1001,"react-dom":865}],88:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){var c=(0,b.default)("<div>").cron({initial:a}),d=[];b.default.each(c.children("span"),function(){"none"!==(0,b.default)(this).css("display")&&b.default.each((0,b.default)(this).children(),function(){var a=(0,b.default)(this);a.is("select")?"cron-timezone"!==a.prop("name")&&d.push(a.find(":selected").text()):d.push(a.text())})});c=d.join(" ").replace(/ : /g,":").replace(/ [ ]+/g," ").replace(/([0-9]+) minutes after the hour/g,
function(a,b){a=String(b);a=1===a.length?"0"+a:a;return"at 00:"+a}).replace(/ (starting )?at ([0-9][0-9]):([0-9][0-9])/g,function(a,b,c,g){if(0===parseInt(c,10)&&0===parseInt(g,10))return"";c=parseInt(c,10);a="am";12<=c&&(a="pm",console.log(c,(c+11)%12+1));return" "+(b||"")+"at "+((c+11)%12+1)+":"+g+a});console.debug("Formatted '"+a+"' as '"+c+"'");return c}f=a("underscore");f=c(f);var h=a("jquery"),b=c(h),k=a("../clusters/Common.jsx"),d=a("../clusters/SparkVersionUtils"),h=a("../jobs/ElasticUtil"),
n=c(h),m=a("../user_platform/DateTimeFormats");a("../../lib/jquery-cron");var q={},w=f.default.memoize(function(a){var b="("+a.triggerTimeZone.replace("GMT","UTC")+")";if("cron"===a.triggerType)try{return e(n.default.fromQuartzCronExpression(a.triggerValue))+" "+b}catch(t){console.warn("Could not format cron expr",a.triggerValue,t)}return a.triggerType.charAt(0).toUpperCase()+a.triggerType.slice(1)+": "+a.triggerValue+" "+b},JSON.stringify);q._getWorkerNodeType=function(a){var b=void 0;a.nodeTypeId&&
(b=k.ClusterUtil.getNodeType(a.nodeTypeId.id));return b};q._getDriverNodeType=function(a){var b=void 0;a.driverNodeTypeId&&(b=k.ClusterUtil.getNodeType(a.driverNodeTypeId.id));return b};q._getWorkerNodeTypeDescription=function(a){(a=a?a.description:void 0)||(a="Memory Optimized");return a};q._getDriverNodeTypeDescription=function(a,b){var c=void 0;a.driverNodeTypeId&&(c=(a=k.ClusterUtil.getNodeType(a.driverNodeTypeId.id))?a.description:void 0);c||(c=b);return c};q.formatResourceString=function(a){if(a.runOnNewCluster){var b,
c=q._getWorkerNodeType(a),m=q._getWorkerNodeTypeDescription(c);b="Workers: "+m+", ";var h=q._getDriverNodeType(a);b="Driver: "+q._getDriverNodeTypeDescription(a,m)+", "+b;c&&"Compute Optimized (legacy)"===c.description?b+=k.ClusterUtil.workersToCores(a.newClusterNumWorkers,c)+" cores":(c=k.ClusterUtil.containersToMemoryGB(a.newClusterNumWorkers,c,h,!0),b||(b=""),b+=c+" GB");a.useSpot?(c=0<a.firstOnDemand?k.ClusterUtil.hybridDisplayStr():k.ClusterUtil.spotDisplayStr(),a.fallbackToOndemand&&(c+=", fall back to "+
k.ClusterUtil.onDemandDisplayStr())):c=k.ClusterUtil.onDemandDisplayStr();a.maxWorkers&&(c+=", autoscaling");b+=", "+c;window.settings.enableSparkVersionsUI&&(b+=", "+d.SparkVersionUtils.formatSparkVersion(a.sparkVersion));a.zoneId&&a.zoneId!==window.settings.defaultZoneId&&(b+=", "+a.zoneId);return b}return(a=window.clusterList.getAttachableCluster(a.clusterId))?a.shortDescription():"(Terminated)"};q.formatSchedString=function(a){a=a.filter(function(a){return"manual"!==a.triggerType&&"retry"!==a.triggerType}).map(w).join(", ");
return 0<a.length?a:"None"};q.getRetryTriggers=function(a){return a.filter(function(a){return"retry"===a.triggerType})};q.retryPending=function(a){return 0<q.getRetryTriggers(a).length};q.formatStatusString=function(a,b){b=q.getRetryTriggers(b).length;if(0===a.length&&0===b)return"Idle";var c={};a.forEach(function(a){c[a.status]=a.status in c?c[a.status]+1:1});0<b&&(c["Retry pending"]=b);a=[];for(var d in c)({}).hasOwnProperty.call(c,d)&&(b=c[d],a.push(1===b?d:d+" ("+b+")"));return a.join(", ")};
q.getCountdownString=function(a,b){return m.DateTimeFormats.formatDuration(Math.floor(Math.max(0,a-b)/1E3))};q.isRunnableConfiguration=function(a,b){return 0<a.length&&(b.runOnNewCluster||window.clusterList.getAttachableCluster(b.clusterId))};l.exports=q},{"../../lib/jquery-cron":401,"../clusters/Common.jsx":35,"../clusters/SparkVersionUtils":50,"../jobs/ElasticUtil":90,"../user_platform/DateTimeFormats":345,jquery:819,underscore:1021}],89:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}
f=a("backbone");f=c(f);var e=a("../jobs/ElasticUtil"),h=c(e),e=a("../jobs/ElasticDomUtil"),b=c(e);a=a("../jobs/FullElasticJobStatus");var k=c(a);a=f.default.Model.extend({defaults:{deltaVersion:-1,userName:"Unknown",organizationId:"0",jobId:"",jobName:"",activeRuns:[],lastRunStatus:"",resources:{runOnNewCluster:!0,totalMemMb:0,useSpot:!1,fallbackToOndemand:!1,sparkVersion:"Unknown spark version",minWorkers:0,maxWorkers:0},retryPolicy:{},maxConcurrentRuns:1,timeoutSeconds:0,onStartEmail:[],onSuccessEmail:[],
onErrorEmail:[],jobActions:[],jobTriggers:[],libraries:[]},tags:function(){return{jobId:this.get("jobId")}},getResourceString:function(){return b.default.formatResourceString(this.get("resources"))},getStatusString:function(){return b.default.formatStatusString(this.get("activeRuns"),this.get("jobTriggers"))},getSchedString:function(){return b.default.formatSchedString(this.get("jobTriggers"))},needsUpgrade:function(){return h.default.jobNeedsUpgrade(this.get("resources"))},isRunnable:function(){var a=
b.default.isRunnableConfiguration(this.get("jobActions"),this.get("resources"));return this.get("activeRuns").length<this.get("maxConcurrentRuns")&&a},isCancellable:function(){var a=this.get("activeRuns").map(function(a){return a.status});return a.includes(k.default.RunLifeCycleState.PENDING)||a.includes(k.default.RunLifeCycleState.RUNNING)}});l.exports=a},{"../jobs/ElasticDomUtil":88,"../jobs/ElasticUtil":90,"../jobs/FullElasticJobStatus":91,backbone:407}],90:[function(a,l,f){a={DEFAULT_ORG_ID:0,
INTERNAL_ORG_ID:53212,RETRY_COUNT_OPTIONS:[["1 time",1],["2 times",2],["3 times",3],["4 times",4],["5 times",5],["6 times",6],["7 times",7],["8 times",8],["9 times",9],["10 times",10],["20 times",20],["30 times",30]],RETRY_POLICY_DELAY_MILLIS_OPTIONS:[["no time",0],["5 sec",5E3],["10 sec",1E4],["30 sec",3E4],["1 min",6E4],["2 min",12E4],["5 min",3E5],["10 min",6E5],["15 min",9E5],["30 min",18E5],["1 hour",36E5],["2 hours",72E5],["3 hours",108E5]],toQuartzCronExpression:function(a){if(null===a)return null;
a=a.split(" ");a.splice(0,0,"0");"*"!==a[3]?a[5]="?":"*"!==a[5]?a[3]="?":a[5]="?";isNaN(a[5])||(a[5]=parseInt(a[5],10)+1);return a.join(" ")},fromQuartzCronExpression:function(a){if(null===a)return null;a=a.split(" ").map(function(a){return"?"===a?"*":a});if(6!==a.length||"0"!==a[0])return"invalid";isNaN(a[5])||(a[5]=parseInt(a[5],10)-1);return a.splice(1).join(" ")}};var c=["1.3.x","1.4.x","1.5.x","1.6.x"];a.jobNeedsUpgrade=function(a){var h=a.sparkVersion;return a.runOnNewCluster&&!!c.find(function(a){return a===
h})};l.exports=a},{}],91:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("backbone");f=c(f);var b=a("../acl/AclModelMixin"),b=c(b),k=a("../acl/WorkspacePermissions"),d=c(k),k=a("../jobs/ElasticUtil"),n=c(k);a=a("../jobs/ElasticDomUtil");var m=c(a);a=f.default.Model.extend({defaults:{publisherRootId:null,basicInfo:{userName:"Unknown",organizationId:"0",jobId:"",jobName:"",activeRuns:[],lastRan:"",resources:{runOnNewCluster:!0,
totalMemMb:0,useSpot:!1,fallbackToOndemand:!1,sparkVersion:"Unknown spark version",zoneId:null,minWorkers:0,maxWorkers:0},retryPolicy:{},timeoutSeconds:0,maxConcurrentRuns:1,onStartEmail:[],onSuccessEmail:[],onErrorEmail:[],jobActions:[],jobTriggers:[],libraries:[]},history:[]},needsUpgrade:function(){return n.default.jobNeedsUpgrade(this.get("basicInfo").resources)},editJob:function(a,b,c,d){e.default.ajax(a,{type:"POST",data:b.toString(),error:function(a,b,c){d&&d(c)},success:function(){c&&c()}})},
hasActiveRuns:function(){return 0<h.default.where(this.attributes.history,{active:!0}).length},hasJarAction:function(){var a=!1;h.default.forEach(this.get("basicInfo").jobActions,function(b){"jar"===b.type&&(a=!0)});return a},getTimeoutString:function(){var a=this.get("basicInfo").timeoutSeconds;if(!a||0>=a)return"None";a=parseInt(a/60,10);return 1===a?a+" minute":a+" minutes"},getMaxConcurrentRuns:function(){var a=this.get("basicInfo").maxConcurrentRuns;return 0>a?1:a},getRetryString:function(){var a=
this.get("basicInfo").retryPolicy;if(1===a.maxAttempts&&0===a.minRetryIntervalMillis&&-1===a.retryWindowMillis)return"None";var b="";0<a.minRetryIntervalMillis&&n.default.RETRY_POLICY_DELAY_MILLIS_OPTIONS.forEach(function(c){c[1]===a.minRetryIntervalMillis&&(b=", "+c[0]+" delay")});var c="";a.retryOnTimeout&&window.settings.enableJobsRetryOnTimeout&&(c=" and retry on timeouts");return"Limit "+(a.maxAttempts-1)+"x "+b+c},getCronSched:function(){var a=this.getCronTrigger();return null===a?null:a.triggerValue},
getCronTimeZone:function(){var a=this.getCronTrigger();return null===a?null:a.triggerTimeZone.replace("GMT","UTC")},getCronTrigger:function(){var a=this.get("basicInfo").jobTriggers,b;for(b in a)if("cron"===a[b].triggerType)return a[b];return null},getResourceString:function(){return m.default.formatResourceString(this.get("basicInfo").resources)},retryPending:function(){return m.default.retryPending(this.get("basicInfo").jobTriggers)},getRetryTimes:function(){var a=this.get("basicInfo").jobTriggers;
return m.default.getRetryTriggers(a).map(function(a){return a.triggerTime})},getSchedString:function(){return m.default.formatSchedString(this.get("basicInfo").jobTriggers)},isRunnableConfiguration:function(){return m.default.isRunnableConfiguration(this.get("basicInfo").jobActions,this.get("basicInfo").resources)},hitMaxConcurrentRuns:function(){return this.get("basicInfo").activeRuns.length>=this.get("basicInfo").maxConcurrentRuns},url:function(){return"/jobs/get/"+this.get("jobId")},getAclObjectType:function(){return d.default.JOB_TYPE},
getAclObjectId:function(){return this.get("jobId")},getName:function(){return this.get("basicInfo").jobName}});h.default.extend(a.prototype,b.default);a.RunLifeCycleState={PENDING:"Pending",RUNNING:"Running",TERMINATING:"Terminating",TERMINATED:"Terminated",SKIPPED:"Skipped",INTERNAL_ERROR:"Internal Error"};f=f.default.Model.extend({getAclObjectType:function(){return d.default.JOB_ROOT_TYPE},getAclObjectId:function(){return d.default.AllAction},getName:function(){return d.default.JOB_ROOT_TYPE}});
h.default.extend(f.prototype,b.default);a.ROOT=new f;l.exports=a},{"../acl/AclModelMixin":1,"../acl/WorkspacePermissions":10,"../jobs/ElasticDomUtil":88,"../jobs/ElasticUtil":90,backbone:407,jquery:819,underscore:1021}],92:[function(a,l,f){f=(f=a("backbone"))&&f.__esModule?f:{default:f};var c=(a=a("../jobs/ElasticDomUtil"))&&a.__esModule?a:{default:a};a=f.default.Model.extend({deltaUpdate:!1,defaults:{jobInfo:{userName:"Unknown",organizationId:"0",jobId:"",jobName:"",jobStatus:"",lastRan:"",jobActions:[],
jobTriggers:[],libraries:[]},runInfo:{runId:"",idInJob:0,originalAttemptId:"",startTime:0,durationMillis:0,status:"",active:!1,trigger:void 0,message:""},runActions:[],actionResults:[],renderedNotebookIds:[],resources:{runOnNewCluster:!0,totalMemMb:0,useSpot:!1,fallbackToOndemand:!1,sparkVersion:"Unknown spark version"}},getResourceString:function(){return c.default.formatResourceString(this.get("resources"))},url:function(a){var c="/jobs/runs/"+this.get("jobId")+"/"+this.get("runId");a?c+=a:this.deltaUpdate&&
(c+="?deltaUpdate=1");return c}});l.exports=a},{"../jobs/ElasticDomUtil":88,backbone:407}],93:[function(a,l,f){function c(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(f,"__esModule",{value:!0});f.JobActionElement=void 0;
var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,h){c&&a(b.prototype,c);h&&a(b,h);return b}}(),h=(a=a("react"))&&a.__esModule?a:{default:a};f=f.JobActionElement=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!a||"object"!==typeof a&&"function"!==typeof a?this:a}c(b,a);e(b,[{key:"legacyNotebookAction",value:function(a){return h.default.createElement("span",{key:a.notebookPath},"Snapshot of ",a.notebookPath)}},{key:"notebookAction",value:function(a){return h.default.createElement("span",{key:a.notebookPath},h.default.createElement("span",null,"Notebook at "),h.default.createElement("a",{className:"job-action-link",href:"#workspace"+a.notebookPath},a.notebookPath))}},{key:"jarNameFromFile",value:function(a){var b=
a.indexOf("-");return a.substring(b+1)}},{key:"jarAction",value:function(a){return h.default.createElement("span",{key:a.s3JarFile},h.default.createElement("span",null,a.mainClassName," in "),h.default.createElement("a",{href:"/files/job-jars/"+a.s3JarFile},a.s3JarFile))}},{key:"unknownAction",value:function(a){return h.default.createElement("span",{key:"unknownAction"},"Unknown type: ",JSON.stringify(a))}},{key:"isLegacyNotebookAction",value:function(a){return!a||0!==a.indexOf("/")}},{key:"render",
value:function(){var a=this,c=this.props.actions.map(function(c){return c.type===b.TYPE_NOTEBOOK?a.isLegacyNotebookAction(c.notebookPath)?a.legacyNotebookAction(c):a.notebookAction(c):c.type===b.TYPE_JAR?a.jarAction(c):a.unknownAction(c)});return h.default.createElement("span",{className:"job-action"},c)}}]);return b}(h.default.Component);f.propTypes={actions:h.default.PropTypes.array};f.TYPE_NOTEBOOK="notebook";f.TYPE_JAR="jar"},{react:1001}],94:[function(a,l,f){function c(a){return a&&a.__esModule?
a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function b(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,
configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function k(){q.default.ajax("/jobs/create",{type:"POST",data:JSON.stringify({name:"Untitled",workers:null,memoryTotalMb:2*window.settings.defaultMemoryPerContainerMB,sparkVersion:r.SparkVersionUtils.getDefaultSparkVersion()}),success:function(a){window.router.navigate("#job/"+a.jobId.toString()+"/new",{trigger:!0})},error:function(a,b,c){v.default.alert("Failed to create job: "+c)}})}function d(a){return p.default.createElement("span",
null,p.default.createElement("a",{onClick:a.onClick,"data-job-name":a.jobName,"data-job-id":a.jobId,className:a.linkClasses},a.content))}function n(a){a=p.default.createElement("span",null,a.numUpgradableJobs," of your Jobs are using an old version of Ubuntu that will be deprecated. The same Spark versions are supported and all jobs can be updated with the links below.");return p.default.createElement("span",null,p.default.createElement("h5",null,"Update Your Jobs"),p.default.createElement(B.Tooltip,
{text:a},p.default.createElement("i",{className:"fa fa-exclamation-circle state-message-icon"})))}Object.defineProperty(f,"__esModule",{value:!0});f.JobListView=f.JobList=f.JobListTable=f.JobUpdateLink=f.DisabledJobsOverlay=void 0;var m=function(){function a(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(b,c,g){c&&a(b.prototype,c);g&&a(b,g);return b}}();l=a("jquery");var q=c(l);
l=a("underscore");var w=c(l);l=a("react");var p=c(l);l=a("../clusters/ClusterList");l=c(l);var r=a("../clusters/SparkVersionUtils"),t=a("../delta_receiver/CollectionDeltaReceiver"),u=c(t),t=a("../jobs/ElasticJobStatus"),y=c(t),t=a("../jobs/ElasticUtil"),A=c(t),g=a("../jobs/JobActionElement.jsx"),t=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),v=c(t),t=a("../ui_building_blocks/icons/IconsForType"),z=c(t),B=a("../ui_building_blocks/Tooltip.jsx"),G=a("../user_info/NameUtils"),x=a("../urls/DbGuideUrls");
a=a("../urls/DbGuideLinks");var D=c(a),E=f.DisabledJobsOverlay=function(a){function c(){e(this,c);return h(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}b(c,a);m(c,[{key:"componentWillUnmount",value:function(){(0,q.default)("#topbar").css("background","")}},{key:"render",value:function(){(0,q.default)("#topbar").css("background","rgba(0,0,0,0.25)");return p.default.createElement("div",{className:"disabled-jobslist"},p.default.createElement("div",{className:"disabled-jobslist-overlay"},
p.default.createElement("div",{className:"disabled-jobslist-inner"},p.default.createElement("h2",{className:"disabled-jobslist-h2"},"Learn more about"," ",p.default.createElement("a",{href:x.DbGuideUrls.getDbGuideUrl(D.default.JOBS_URL)},"Jobs"),".",p.default.createElement("br",null),B.Tooltip.getGenericUpgradeElement("For access")))),this.props.children)}}]);return c}(p.default.Component);E.propTypes={children:p.default.PropTypes.node};d.propTypes={onClick:p.default.PropTypes.func.isRequired,jobName:p.default.PropTypes.string.isRequired,
jobId:p.default.PropTypes.number.isRequired,linkClasses:p.default.PropTypes.string.isRequired,content:p.default.PropTypes.node.isRequired};var F=f.JobUpdateLink=function(a){function c(){e(this,c);return h(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}b(c,a);m(c,[{key:"doUpgradeJob",value:function(a){q.default.ajax("/jobs/update-sparkversions",{type:"POST",data:JSON.stringify({jobId:a}),success:function(){},error:function(b,c,g){v.default.alert("Failed to update job with ID "+
a+": "+g)}})}},{key:"showUpgradeJobsDialog",value:function(a){console.debug("Updating Job with ID: "+a);v.default.confirm({message:"This will update the Ubuntu version of the clusters that are launched by this job. Active runs will not be affected.",confirmButton:"Update",cancelButton:"Cancel",confirm:this.doUpgradeJob.bind(this,a)})}},{key:"render",value:function(){var a=this.showUpgradeJobsDialog.bind(this,this.props.job.get("jobId"));return p.default.createElement("a",{onClick:a},"Update Job")}}]);
return c}(p.default.Component);F.propTypes={job:p.default.PropTypes.shape({get:p.default.PropTypes.func}).isRequired};n.propTypes={numUpgradableJobs:p.default.PropTypes.number.isRequired};var J=function(a){function c(){e(this,c);var a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));a.onJobSearch=w.default.debounce(a.onJobSearch.bind(a),500);return a}b(c,a);m(c,[{key:"componentDidMount",value:function(){this.jobsFilterInput.focus()}},{key:"onJobSearch",value:function(){window.router.navigate("joblist/"+
encodeURI(this.jobsFilterInput.value),{trigger:!1});if(this.props.onChange)this.props.onChange(this.jobsFilterInput.value)}},{key:"getWarning",value:function(){return p.default.createElement("h5",{className:"job-list-warning"},"Warning: ",this.props.warning)}},{key:"shouldUpgradeJobs",value:function(){return window.settings.enableJobsSparkUpgrade&&0<this.props.numUpgradableJobs}},{key:"render",value:function(){var a=this,b=function(b){return a.jobsUpdateHeader=b};return p.default.createElement("div",
{className:"job-list-header"},p.default.createElement("h5",null,p.default.createElement("a",{onClick:k,disabled:this.props.disabled,className:"btn btn-primary add-button job-add-button"},p.default.createElement("i",{className:"fa fa-plus"})," Create Job")),this.shouldUpgradeJobs()?p.default.createElement(n,{key:"jobsUpdateButton",ref:b,numUpgradableJobs:this.props.numUpgradableJobs}):null,p.default.createElement("input",{key:"jobsFilterInput",ref:function(b){return a.jobsFilterInput=b},type:"text",
onChange:this.onJobSearch,defaultValue:this.props.initialFilter,placeholder:"Filter jobs",className:"job-list-filter"}),this.props.warning?this.getWarning():null)}}]);return c}(p.default.Component);J.propTypes={onChange:p.default.PropTypes.func,warning:p.default.PropTypes.string,numUpgradableJobs:p.default.PropTypes.number.isRequired,disabled:p.default.PropTypes.bool,initialFilter:p.default.PropTypes.string};var L=f.JobListTable=function(a){function c(a){e(this,c);a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,
a));a._forceUpdate=a._forceUpdate.bind(a);return a}b(c,a);m(c,[{key:"componentDidMount",value:function(){this.props.clusters.on("add change remove reset",w.default.throttle(this._forceUpdate,500),this);this.props.collection.startWatching();this.props.collection.on("add change remove reset",w.default.throttle(this._forceUpdate,500),this)}},{key:"_forceUpdate",value:function(){this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.props.clusters.off(null,null,this);this.props.collection.stopWatching();
this.props.collection.off(null,null,this)}},{key:"doesJobMatchFilter",value:function(a,b){b=[b.get("jobName"),b.get("userName"),b.getResourceString(),b.getSchedString(),this.lastRunState(b),b.getStatusString(),b.isCancellable()?"Cancel":"Run Now"].join(" ").toLowerCase();for(var c in a)if(0>b.indexOf(a[c]))return!1;return!0}},{key:"lastRunState",value:function(a){return(a=a.get("lastRunStatus"))?a.status:""}},{key:"onJobRun",value:function(a,b){b.preventDefault();this.handleLinkClicked(a,"/jobs/run",
b)}},{key:"onJobRemove",value:function(a,b,c){var g=this;c.preventDefault();v.default.confirm({message:"Are you sure you want to delete '"+b+"'? This action cannot be undone.",confirm:function(){g.handleLinkClicked(a,"/jobs/remove",c)}})}},{key:"onJobCancel",value:function(a,b,c){var g=this;c.preventDefault();v.default.confirm({message:"Are you sure you want to cancel all runs of '"+b+"'?",confirm:function(){g.handleLinkClicked(a,"/jobs/cancel-all-runs",c)}})}},{key:"handleLinkClicked",value:function(a,
b,c){var g=(0,q.default)(c.target);q.default.ajax(b,{type:"POST",data:a.toString(),error:function(a,b,c){g.removeClass("link-active");v.default.alert("Request failed: "+c)},success:function(){g.removeClass("link-active")}});g.addClass("link-active")}},{key:"getLegacyJarTooltip",value:function(a,b){a=p.default.createElement("div",{className:"job-tooltip-text"},p.default.createElement("div",null,"This JAR uses a legacy Spark API, which is now deprecated. We recommend updating it."),p.default.createElement("div",
{className:"tooltip-edit-jar-link"},"Go to ",p.default.createElement("a",{href:"#job/"+a+"/editJar"},"edit JAR")));return p.default.createElement(B.Tooltip,{text:a},b," ",p.default.createElement("i",{className:"fa fa-exclamation-circle state-message-icon"}))}},{key:"getTask",value:function(a){var b=a.attributes.jobActions[0]&&"jar"===a.attributes.jobActions[0].type,c=b&&a.attributes.jobActions[0].runAsNotebook;return b&&!c?this.getLegacyJarTooltip(a.get("jobId"),p.default.createElement(g.JobActionElement,
{actions:a.get("jobActions")})):p.default.createElement(g.JobActionElement,{actions:a.get("jobActions")})}},{key:"getCancelLink",value:function(a,b){var c=this.onJobCancel.bind(this,a,b);return p.default.createElement(d,{jobId:a,jobName:b,content:"Cancel All",onClick:c,linkClasses:"job-cancel-link"})}},{key:"getRunLink",value:function(a,b){var c=this.onJobRun.bind(this,a);return p.default.createElement(d,{jobId:a,jobName:b,content:"Run Now",onClick:c,linkClasses:"job-run-link"})}},{key:"getRemoveLink",
value:function(a,b){var c=p.default.createElement("i",{"data-job-name":b,"data-job-id":a,className:"fa fa-"+z.default.close}),g=this.onJobRemove.bind(this,a,b);return p.default.createElement(d,{jobId:a,jobName:b,content:c,onClick:g,linkClasses:"job-remove-link"})}},{key:"getActionColumn",value:function(a){var b=a.get("jobName"),c=a.get("jobId"),g=a.isRunnable()?p.default.createElement("span",null,this.getRunLink(c,b)):null;a=a.isCancellable()?p.default.createElement("span",null,this.getCancelLink(c,
b)):null;return null!==g&&null!==a?p.default.createElement("span",null,g,p.default.createElement("span",null,this.getRemoveLink(c,b)),p.default.createElement("br",null),a):p.default.createElement("span",null,g,a,p.default.createElement("span",null,this.getRemoveLink(c,b)))}},{key:"getLastRunColumn",value:function(a,b){return p.default.createElement("a",{href:"#job/"+a+"/run/"+b.idInJob},b.status)}},{key:"jobNeedsUpdate",value:function(a){return window.settings.enableJobsSparkUpgrade&&a.needsUpgrade()}},
{key:"renderJob",value:function(a){var b=a.get("jobName"),c=a.get("jobId"),g=parseInt(a.get("organizationId"),10)!==A.default.INTERNAL_ORG_ID,d=a.get("lastRunStatus");return p.default.createElement("tr",{key:c,className:"job-row","data-job-id":c,"data-job-name":b,"data-job-status":a.getStatusString()},p.default.createElement("td",null,p.default.createElement("a",{className:"job-link",href:"#job/"+c},b)),p.default.createElement("td",null,G.NameUtils.capitalizeAllNames(a.get("userName"))),p.default.createElement("td",
{className:"job-task-column"},this.getTask(a)),p.default.createElement("td",null,p.default.createElement("span",null,a.getResourceString()," "),this.jobNeedsUpdate(a)?p.default.createElement(F,{job:a}):null),p.default.createElement("td",null,a.getSchedString()),p.default.createElement("td",null,d?this.getLastRunColumn(c,d):null),p.default.createElement("td",null,a.getStatusString()),p.default.createElement("td",null,g?this.getActionColumn(a):null))}},{key:"getJobRows",value:function(){var a=this,
b=[];this.props.collection&&(this.props.filterText?function(){var c=a.props.filterText.toLowerCase().split(" ");b=a.props.collection.filter(function(b){return a.doesJobMatchFilter(c,b)}).map(function(b){return a.renderJob(b)});0===b.length&&(b=[p.default.createElement("tr",null,p.default.createElement("td",{colSpan:8},"No matching jobs."))])}():b=this.props.collection.map(function(b){return a.renderJob(b)}));return b}},{key:"render",value:function(){return p.default.createElement("tbody",{className:"jobs-table"},
this.getJobRows())}}]);return c}(p.default.Component);L.propTypes={clusters:p.default.PropTypes.instanceOf(l.default).isRequired,collection:p.default.PropTypes.instanceOf(u.default).isRequired,filterText:p.default.PropTypes.string};(f.JobList=function(a){function c(a){e(this,c);a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a.displayName="JobList";a.renderJobs=a.renderJobs.bind(a);a._forceUpdate=a._forceUpdate.bind(a);a.state={collection:[],warning:null};a._factory=p.default.createFactory(a.props.renderWith);
return a}b(c,a);m(c,[{key:"componentDidMount",value:function(){this.setupCollectionDelta()}},{key:"componentWillUnmount",value:function(){var a=this.state.collection;a&&a.on&&(a.on(null,null,this),a.stopWatching());this._ajaxXHR&&this._ajaxXHR.abort()}},{key:"_forceUpdate",value:function(){this.forceUpdate()}},{key:"setupCollectionDelta",value:function(){var a=this;this._ajaxXHR=q.default.ajax("/jobs/root",{success:function(b){a._ajaxXHR=void 0;var c=null;b.timeSinceLastUpdate>a.stuckBackendWarningThresholdMillis&&
(c="Jobs backend unreachable, this page may be out of date.");b=new u.default([],{deltaPublisherRoot:b.root,model:y.default});b.startWatching();b.on("add remove reset change",w.default.throttle(a._forceUpdate,500),a);a.setState({collection:b,warning:c})},error:function(b){a._ajaxXHR=void 0;console.error("Failed to initialize job list:",b)}})}},{key:"filteredJobs",value:function(){return this.props.filter?this.state.collection.filter(this.props.filter):this.state.collection}},{key:"renderNoJobs",value:function(){return p.default.createElement("h4",
null,"None")}},{key:"renderJobs",value:function(a){var b=this;return a.map(function(a){return b._factory(w.default.extend({key:a.get("jobId"),job:a},b.props))})}},{key:"render",value:function(){var a=this.filteredJobs();return p.default.createElement("div",null,a.length?this.renderJobs(a):this.renderNoJobs())}}]);return c}(p.default.Component)).propTypes={renderWith:p.default.PropTypes.func.isRequired,filter:p.default.PropTypes.func};f=f.JobListView=function(a){function c(a){e(this,c);a=h(this,(c.__proto__||
Object.getPrototypeOf(c)).call(this,a));a.onFilterChange=a.onFilterChange.bind(a);a.stuckBackendWarningThresholdMillis=6E4;a.state={collection:null,filterText:c.getFilterFromHash(location.hash),warning:null};a.setupCollectionDelta();return a}b(c,a);m(c,[{key:"setupCollectionDelta",value:function(){var a=this;q.default.ajax("/jobs/root",{success:function(b){var c=null;b.timeSinceLastUpdate>a.stuckBackendWarningThresholdMillis&&(c="Jobs backend unreachable, this page may be out of date.");b={collection:new u.default([],
{deltaPublisherRoot:b.root,model:y.default}),warning:c};a.setState(b)},error:function(a){console.error("Failed to initialize job list:",a)}})}},{key:"getUpgradeableJobs",value:function(){return this.state.collection?this.state.collection.filter(function(a){return a.needsUpgrade()}):[]}},{key:"onFilterChange",value:function(a){this.setState({filterText:a})}},{key:"getMainContent",value:function(){var a=this,b=function(b){return a.jobListTable=b};return p.default.createElement("div",{key:"jobs-list-view",
className:"jobs-list-view"},p.default.createElement(J,{key:"jobListHeader",ref:function(b){return a.jobListHeader=b},disabled:this.props.disabled,warning:this.state.warning,onChange:this.onFilterChange,numUpgradableJobs:this.getUpgradeableJobs().length,initialFilter:this.state.filterText}),p.default.createElement("table",{className:"table table-bordered-outer"},p.default.createElement("thead",null,p.default.createElement("tr",null,p.default.createElement("th",{className:"span2"},"Name"),p.default.createElement("th",
{className:"span2"},"Created by"),p.default.createElement("th",{className:"span2"},"Task"),p.default.createElement("th",{className:"span2"},"Cluster"),p.default.createElement("th",{className:"span2"},"Schedule"),p.default.createElement("th",{className:"span2"},"Last run"),p.default.createElement("th",{className:"span2"},"Status"),p.default.createElement("th",{className:"span2"}))),this.state.collection?p.default.createElement(L,{key:"jobListTable",ref:b,clusters:this.props.clusters,collection:this.state.collection,
filterText:this.state.filterText}):null))}},{key:"render",value:function(){var a=this;return this.props.disabled?p.default.createElement(E,{ref:function(b){return a.disabledJobs=b}},this.getMainContent()):this.getMainContent()}}],[{key:"getFilterFromHash",value:function(a){return decodeURI(a.substring(9,a.length))}}]);return c}(p.default.Component);f.createJob=k;f.propTypes={clusters:p.default.PropTypes.instanceOf(l.default).isRequired,disabled:p.default.PropTypes.bool};f.defaultProps={disabled:!1}},
{"../clusters/ClusterList":32,"../clusters/SparkVersionUtils":50,"../delta_receiver/CollectionDeltaReceiver":62,"../jobs/ElasticJobStatus":89,"../jobs/ElasticUtil":90,"../jobs/JobActionElement.jsx":93,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/icons/IconsForType":304,"../urls/DbGuideLinks":320,"../urls/DbGuideUrls":321,"../user_info/NameUtils":325,jquery:819,react:1001,underscore:1021}],95:[function(a,l,f){function c(a){return a&&
a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("lodash");var h=c(f);f=a("react");var b=c(f),k=a("../acl/AclUtils.jsx");f=a("../acl/WorkspacePermissions");var d=c(f);f=a("../filetree/NavFunc.jsx");var n=c(f);f=a("../jobs/ElasticUtil");var m=c(f);f=a("../jobs/FullElasticRunStatus");f=c(f);var q=a("../jobs/JobActionElement.jsx"),w=a("../jobs/ReactNotebookCommandListeningListView.jsx"),p=c(w),w=a("../notebook/dashboards/DashboardPresentView.jsx"),r=c(w),w=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),
t=c(w),w=a("../ui_building_blocks/icons/IconsForType"),u=c(w),y=a("../ui_building_blocks/Tooltip.jsx"),A=a("../user_platform/BrowserUtils"),g=a("../user_platform/DateTimeFormats");a=b.default.createClass({displayName:"JobRunView",propTypes:{model:b.default.PropTypes.instanceOf(f.default).isRequired,hideHeader:b.default.PropTypes.bool,displayMode:b.default.PropTypes.string,dashboardNUID:b.default.PropTypes.string,viewBaseUrl:b.default.PropTypes.string,children:b.default.PropTypes.node},getDefaultProps:function(){return{hideHeader:!1,
displayMode:"notebook",dashboardNUID:null}},getInitialState:function(){return{notebook:null,clusterAclsFetched:!1,userCanAttachToCluster:!0}},markPageAsBeta:!1,refetchTimeout:null,forceRefetch:!1,_setGlobalMeasurementTags:function(){this.getClusterId()?A.BrowserUtils.setGlobalMeasurementTags({clusterId:this.getClusterId()}):A.BrowserUtils.setGlobalMeasurementTags({})},componentWillMount:function(){this.setupTitle();this.addRefetchTimeout();this.props.model.on("change",h.default.bind(function(){this.isMounted()?
this.forceUpdate():console.debug("Run view unmounted, ignoring model update.")},this));this.setNotebookModel()},componentDidMount:function(){k.AclUtils.clusterAclsEnabled()&&this.fetchClusterAcls();this._setGlobalMeasurementTags()},getClusterId:function(){return this.props.model.get("runInfo").clusterId},fetchClusterAcls:function(){this.clusterAclFetch=k.AclUtils.fetchPermissions([this.getClusterId()],d.default.CLUSTER_TYPE,this.onClusterAclFetchSuccess)},onClusterAclFetchSuccess:function(a){this.setState({clusterAclsFetched:!0,
userCanAttachToCluster:k.AclUtils.canAttach(a,this.getClusterId())})},setNotebookModel:function(a){var b=this,c=(a?a.model:this.props.model).get("renderedNotebookIds");c&&0<c.length&&function(){var a=parseInt(c[0],10),g=window.treeCollection.getNotebookModel(a),d=function(a){!a||this.state.notebook&&a.id===this.state.notebook.id||(this.setState({notebook:a}),a.commandCollection().once("add reset",function(){this.isMounted()&&this.forceUpdate()},this))}.bind(b);g?d(g):window.conn.prefetchNode(a,function(){var b=
window.treeCollection.getNotebookModel(a);d(b)})}()},componentWillUpdate:function(a){this.setupTitle();this.setNotebookModel(a)},componentDidUpdate:function(){this._setGlobalMeasurementTags()},componentWillUnmount:function(){this.props.model.off(null,null,this);this.refetchTimeout&&(window.clearTimeout(this.refetchTimeout),this.refetchTimeout=null);this.clusterAclFetch&&(this.clusterAclFetch.abort(),this.clusterAclFetch=null);A.BrowserUtils.setGlobalMeasurementTags({})},getJobRunTitle:function(){var a=
this.props.model,b=a.get("runInfo").idInJob||"?",a=a.get("jobInfo").jobName||"?";return"Run "+b+" of "+a},setupTitle:function(){var a=this.getJobRunTitle(),b=(0,e.default)("#topbar .tb-title");b.text(a);b.attr({"data-name":a});A.BrowserUtils.setDocumentTitle(a)},render:function(){return""===this.props.model.get("runInfo").status?b.default.createElement("div",{id:"content"}):b.default.createElement("div",{id:"content"},this.props.children,this.renderHeader(),b.default.createElement("div",{className:"job-run-output"},
this.renderOutput()))},getViewBaseUrl:function(){if(this.props.viewBaseUrl)return this.props.viewBaseUrl;var a=this.props.model,b=a.get("jobId"),a=a.get("runId");return"job/"+b+"/run/"+a},getDashboardOptions:function(){var a=this.state.notebook;return a?h.default.map(a.getDashboardViewModels(),function(a){var c=a.get("nuid");if(c)return b.default.createElement("option",{value:c,key:c,ref:c},"Dashboard: ",a.get("title"))}):null},onViewChange:function(a){a=a.target.value;var b=this.getViewBaseUrl()+
"/";window.router.navigate("notebook"===a||"resultsOnly"===a?b+a:b+("dashboard/"+a),{trigger:!0})},getViewMenu:function(){var a=this.props.model.get("actionResults");if(0===a.length||1<a.length)return null;a=a[0]&&a[0]["@class"];if(!a||-1===a.indexOf("Notebook"))return null;a=this.props.displayMode;"dashboard"===this.props.displayMode&&(a=this.props.dashboardNUID);return b.default.createElement("div",{className:"job-run-view-menu"},b.default.createElement("label",null,"View:"),b.default.createElement("select",
{value:a,onChange:this.onViewChange},b.default.createElement("option",{value:"notebook"},"Code"),b.default.createElement("option",{value:"resultsOnly"},"Results Only"),this.getDashboardOptions()))},_exportHtml:function(){var a=this;window.recordEvent("jobRunResultActionTaken",{actionTaken:"exportJobRunResultHTML"});var b=void 0;if("dashboard"===this.props.displayMode){var c=this.state.notebook.getDashboardViewModels();(c=h.default.find(c,function(b){return b.get("nuid")===a.props.dashboardNUID}))&&
(b=c.id)}else b=this.state.notebook.id;n.default.exportHTML(b)},getExportHtmlBtn:function(){return window.settings.enableStaticNotebooks&&this.state.notebook?b.default.createElement("button",{className:"btn btn-default export-html-action",onClick:this._exportHtml},b.default.createElement("i",{className:"fa fa-"+u.default.download})," Export to HTML"):null},getLibrary:function(a){return"jar"===a.type?b.default.createElement("li",null,a.uri," (JAR)"):"egg"===a.type?b.default.createElement("li",null,
a.uri," (Egg)"):"pypi"===a.type?b.default.createElement("li",null,a.packageName," (PyPi)"):"maven"===a.type?b.default.createElement("li",null,a.coordinate," (Maven)"):null},_lacksPermissionOnSparkUIAndDriverLogs:function(){return k.AclUtils.clusterAclsEnabled()&&!this.state.userCanAttachToCluster},_areSparkUIAndDriverLogsReady:function(){return k.AclUtils.clusterAclsEnabled()?this.state.clusterAclsFetched:!0},_getSparkUILink:function(a,c){return b.default.createElement("a",{className:"spark-ui-link",
href:a,disabled:c,ref:"sparkUI"},"View Spark UI")},_getDriverLogsLink:function(a,c){return b.default.createElement("a",{className:"driver-logs-link",href:"#setting/sparkui/"+a+"/driver-logs",disabled:c},"Logs")},_getNoPermissionsWrappedElem:function(a){return b.default.createElement(y.Tooltip,{text:d.default.NO_VIEW_PERMISSIONS_WARNING},a)},_shouldDisplaySparkUIAndDriverLogsLinks:function(a){return a.clusterId&&("Running"===a.status||a.sparkContextId)},_getSparkUIUrl:function(a){var b="#setting/sparkui/"+
a.clusterId+"/driver";a.sparkContextId&&(b+="-"+a.sparkContextId);return b},_getSparkUIAndDriverLogsLinks:function(a,c){if(!this._shouldDisplaySparkUIAndDriverLogsLinks(c))return a.getResourceString();var g=this._lacksPermissionOnSparkUIAndDriverLogs();c=b.default.createElement("span",{className:g?"disabled":""},this._getSparkUILink(this._getSparkUIUrl(c),g)," / ",this._getDriverLogsLink(c.clusterId,g));g&&(c=this._getNoPermissionsWrappedElem(c));return b.default.createElement("span",{className:"spark-ui-driver-logs"},
a.getResourceString(),"\u00a0-\u00a0",this._areSparkUIAndDriverLogsReady()?c:null)},renderHeader:function(){var a=this,c=this.props.model,d=c.get("jobInfo"),k=c.get("runInfo"),h=c.get("runActions"),e=null;"Skipped"!==k.status&&(e="-",k.active?e=g.DateTimeFormats.formatDuration(parseInt((window.conn.wsClient.serverTime()-k.startTime)/1E3,10)):0<k.durationMillis&&(e=g.DateTimeFormats.formatDuration(k.durationMillis/1E3)),e=b.default.createElement("li",null,b.default.createElement("b",null,"Duration: "),
b.default.createElement("span",{className:"job-run-duration"},e)));var n=null;if(0<h.length)var n="jar"===h[0].type?b.default.createElement("li",null,"Arguments: ",h[0].parameters):null,p=0<h[0].libraries.length?b.default.createElement("li",null,"Dependent Libraries:",b.default.createElement("ul",null,h[0].libraries.map(function(b){return a.getLibrary(b)}))):null,n=b.default.createElement("ul",{className:"job-action-status"},n,p);p=null;parseInt(d.organizationId,10)===m.default.INTERNAL_ORG_ID||"Running"!==
k.status&&"Pending"!==k.status||(p=b.default.createElement("span",null,"\u00a0-\u00a0",b.default.createElement("a",{className:"run-cancel-link",onClick:this.onCancel,href:"#"},"Cancel")));c=this.props.hideHeader?null:b.default.createElement("div",null,b.default.createElement("h2",null,this.getJobRunTitle()),b.default.createElement("ul",{className:"unstyled"},b.default.createElement("li",null,b.default.createElement("b",null,"Started: "),b.default.createElement("span",{className:"job-run-started"},
g.DateTimeFormats.formatTimestamp(k.startTime))),e,b.default.createElement("li",null,b.default.createElement("b",null,"Status: ")," ",b.default.createElement("span",{className:"job-run-status"},k.status),p),b.default.createElement("li",null,b.default.createElement("b",null,"Task: ")," ",b.default.createElement(q.JobActionElement,{actions:h}),n),b.default.createElement("li",null,b.default.createElement("b",null,"Cluster: "),b.default.createElement("span",{className:"job-run-cluster"},this._getSparkUIAndDriverLogsLinks(c,
k))),b.default.createElement("li",null,k.message?b.default.createElement("span",null,b.default.createElement("b",null,"Message: "),b.default.createElement("span",{className:"job-run-message"},k.message)):b.default.createElement("span",{className:"job-run-message"}))),b.default.createElement("h2",null,"Output"));return b.default.createElement("div",{className:"job-run-view-header"},b.default.createElement("div",{className:"job-run-view-breadcrumb"},b.default.createElement("a",{className:"all-jobs-link",
href:"#joblist"},b.default.createElement("i",{className:"fa fa-angle-left"})," All Jobs")," /\u00a0",b.default.createElement("a",{className:"job-link",href:"#job/"+d.jobId},d.jobName),this.getViewMenu(),this.getExportHtmlBtn()),c)},renderOutput:function(){var a=this.props.model.get("actionResults");return 0===a.length?b.default.createElement("p",null,"No results available yet."):1<a.length?b.default.createElement("p",null,"Multiple actions in job! (Not yet supported.)"):-1!==a[0]["@class"].indexOf("SparkJar")?
this.renderJarOutput():-1!==a[0]["@class"].indexOf("Notebook")?"dashboard"===this.props.displayMode&&this.props.dashboardNUID?this.renderDashboardView():this.renderNotebook("resultsOnly"===this.props.displayMode):b.default.createElement("pre",null,a[0].errorMsg)},renderJarOutput:function(){var a=this.props.model.get("actionResults");h.default.defer(function(){(0,e.default)(".console-output textarea").each(function(a,b){b.scrollTop=b.scrollHeight})});return b.default.createElement("div",null,b.default.createElement("p",
null,"Standard output: ",this.renderLogDownloadLink("stdout")),b.default.createElement("div",{className:"console-output job-run-stdout"},b.default.createElement("textarea",{readOnly:!0,defaultValue:a[0].stdout,onFocus:this.consoleOutputFocused,onBlur:this.consoleOutputBlurred})),b.default.createElement("p",null,"Standard error: ",this.renderLogDownloadLink("stderr")),b.default.createElement("div",{className:"console-output job-run-stderr"},b.default.createElement("textarea",{readOnly:!0,defaultValue:a[0].stderr,
onFocus:this.consoleOutputFocused,onBlur:this.consoleOutputBlurred})),b.default.createElement("p",null,"Log4j: ",this.renderLogDownloadLink("log4j")),b.default.createElement("div",{className:"console-output job-run-log4j"},b.default.createElement("textarea",{readOnly:!0,defaultValue:a[0].log4j,onFocus:this.consoleOutputFocused,onBlur:this.consoleOutputBlurred})))},renderDashboardView:function(){return this.renderNotebookBasedView(function(a){return b.default.createElement(r.default,{notebook:a,dashboardId:this.props.dashboardNUID,
showExitBtn:!1,showUpdateBtn:!1,showInputWidgets:!1,redirectWhenDashboardNotFound:!1})}.bind(this))},renderNotebook:function(a){return this.renderNotebookBasedView(function(c){return b.default.createElement(p.default,{notebook:c,isLocked:!0,resultsOnly:a,showLastDivider:!1,showSubmitHint:!1})})},renderNotebookBasedView:function(a){return this.state.notebook?a(this.state.notebook):b.default.createElement("p",null,"Loading notebook...")},renderLogDownloadLink:function(a){var c=this.props.model,g=c.get("runActions"),
d=!1;0<g.length&&"jar"===g[0].type&&(d=!0);var k=!1;0<g.length&&!0===g[0].runAsNotebook&&(k=!0);g=d&&k;d=c.get("runInfo");k=c.get("actionResults");c="job-"+c.get("jobInfo").jobId+"-run-"+c.get("runInfo").idInJob;return g?(g="/driver-logs/"+d.clusterId+"/downloadconcat/"+a+n.default.sessionParams(),b.default.createElement("a",{href:g,download:c+"-"+a+".partial.txt"},"Full log")):d.active?b.default.createElement("a",{href:"/logfiles/"+k[0].logDirInLogFileStore+"?whitelist="+a+"&blacklist="+a+".log",
download:c+"-"+a+".partial.txt"},"Full log"):b.default.createElement("a",{href:"/logfiles/"+k[0].logDirInLogFileStore+"?whitelist="+a,download:c+"-"+a+".txt"},"Full log")},addRefetchTimeout:function(){var a=this,b=this,c=this.props.model.get("runInfo").status;this.forceRefetch||"Succeeded"!==c&&"Failed"!==c&&"Error"!==c?function(){a.forceRefetch=!1;var c=function(){b.isMounted()&&(b.addRefetchTimeout(),b.forceUpdate())};b.refetchTimeout=window.setTimeout(function(){b.props.model.fetch({success:c,
error:c})},5E3)}():(e.default.ajax(b.props.model.url("/keepalive"),{error:function(){console.error("Error in render keepalive ping, forcing refetch.");b.forceRefetch=!0}}),b.refetchTimeout=window.setTimeout(function(){b.isMounted()&&b.addRefetchTimeout()},5E3))},onCancel:function(a){a.preventDefault();t.default.confirm({message:"Are you sure you want to cancel this run?",confirm:h.default.bind(function(){e.default.ajax("/jobs/cancel-run",{type:"POST",data:JSON.stringify({jobId:this.props.model.get("jobInfo").jobId,
runId:this.props.model.get("runInfo").runId}),error:function(a,b,c){(0,e.default)("a.run-cancel-link").removeClass("link-active");t.default.alert("Request failed: "+c)}});(0,e.default)("a.run-cancel-link").addClass("link-active")},this)})},consoleOutputFocused:function(a){(0,e.default)(a.target).css("overflow-y","scroll")},consoleOutputBlurred:function(a){(0,e.default)(a.target).css("overflow-y","hidden")}});l.exports=a},{"../acl/AclUtils.jsx":3,"../acl/WorkspacePermissions":10,"../filetree/NavFunc.jsx":72,
"../jobs/ElasticUtil":90,"../jobs/FullElasticRunStatus":92,"../jobs/JobActionElement.jsx":93,"../jobs/ReactNotebookCommandListeningListView.jsx":101,"../notebook/dashboards/DashboardPresentView.jsx":213,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/icons/IconsForType":304,"../user_platform/BrowserUtils":344,"../user_platform/DateTimeFormats":345,jquery:819,lodash:842,react:1001}],96:[function(a,l,f){Object.defineProperty(f,"__esModule",
{value:!0});f.JobUtils=f.TriggerType=void 0;var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,k){c&&a(b.prototype,c);k&&a(b,k);return b}}(),e=(l=a("jquery"))&&l.__esModule?l:{default:l},h=(a=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"))&&a.__esModule?a:{default:a},b=f.TriggerType={};b.PERIODIC="PERIODIC";b.ONE_TIME="ONE_TIME";b.RETRY="RETRY";
f.JobUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"formatRunTriggerString",value:function(a){return a===b.PERIODIC?"By scheduler":a===b.RETRY?"By retry scheduler":"Manually"}},{key:"getDeleteJobClickHandler",value:function(a,b){return function(c){c.preventDefault();h.default.confirm({message:"Are you sure you want to delete '"+b+"'? This action cannot be undone.",confirm:function(){e.default.ajax("/jobs/remove",{type:"POST",
data:a.toString(),error:function(a,b,d){(0,e.default)(c.target).removeClass("link-active");h.default.alert("Request failed: "+d)}});(0,e.default)(c.target).addClass("link-active");window.router.navigate("#joblist",{trigger:!0})}})}}}]);return a}()},{"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,jquery:819}],97:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function b(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function k(a){if(!a)return!1;var b=a.s3JarFile;return"jar"===a.type||!(!b||!b.match(/^(dbfs|file):\/FileStore\/jars\//))}function d(a){var b=
void 0;a&&(b=window.treeCollection.find(function(b){return a.notebookPath?G.default.getFullPath(b.id)===a.notebookPath:b.get("file")===a.s3JarFile}));return b}Object.defineProperty(f,"__esModule",{value:!0});f.RunRow=f.JobView=f.JobTaskFileTreeView=f.JobTaskParametersView=f.JobTaskView=f.JobViewWrapper=f.RunStatus=void 0;var n=function(){function a(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,
g)}}return function(b,c,g){c&&a(b.prototype,c);g&&a(b,g);return b}}();f.isJarJobAction=k;f.treeNodeForJobAction=d;l=a("jquery");var m=c(l);l=a("lodash");var q=c(l);l=a("underscore");var w=c(l);l=a("react");var p=c(l);l=a("react-dom");var r=c(l);l=a("../jobs/ElasticDomUtil");var t=c(l),u=a("../acl/AclUtils.jsx");l=a("../acl/WorkspacePermissions");var y=c(l);l=a("../clusters/Cluster");var A=c(l),g=a("../clusters/Common.jsx");l=a("../delta_receiver/ItemDeltaReceiverView");var v=c(l);l=a("../filebrowser/TreeNode");
l=c(l);var z=a("../filetree/FileTree"),B=c(z),z=a("../filetree/NavFunc.jsx"),G=c(z),x=a("../jobs/CronSchedule.jsx"),z=a("../jobs/ElasticUtil"),D=c(z),z=a("../jobs/FullElasticJobStatus"),E=c(z),F=a("../jobs/JobActionElement.jsx"),J=a("../jobs/JobUtils.jsx"),z=a("../jobs/ReactJarJobDialog.jsx"),L=c(z),I=a("../jobs/ReactJobClusterDialog.jsx"),K=a("../forms/ReactFormElements.jsx"),N=a("../ui_building_blocks/buttons/DeleteButton.jsx"),z=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),P=c(z),z=a("../ui_building_blocks/dialogs/ReactModal.jsx"),
Y=c(z),z=a("../ui_building_blocks/dialogs/ReactModalUtils"),M=c(z),z=a("../ui_building_blocks/icons/IconsForType"),O=c(z),z=a("../ui_building_blocks/text/InlineEditableText.jsx"),Q=c(z),U=a("../ui_building_blocks/Tooltip.jsx"),R=a("../user_platform/BrowserUtils"),ba=a("../user_platform/DateTimeFormats"),T=a("../validators/EmailValidators");a("../../lib/jquery-cron");var ca=f.RunStatus=function(a){function c(){e(this,c);return h(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}b(c,
a);n(c,[{key:"stateMessageIcon",value:function(){return q.default.isEmpty(this.props.stateMessage)?null:p.default.createElement("i",{className:"fa fa-"+O.default.error+" state-message-icon"})}},{key:"render",value:function(){return p.default.createElement(U.Tooltip,{ref:"stateTooltip",text:this.props.stateMessage},p.default.createElement("div",{className:"state-info"},p.default.createElement("span",null,this.props.displayState,"\u00a0",this.stateMessageIcon())))}}]);return c}(p.default.Component);
ca.propTypes={displayState:p.default.PropTypes.string.isRequired,stateMessage:p.default.PropTypes.string.isRequired};var ha=f.JobViewWrapper=function(a){function c(a){e(this,c);a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a.setupItemDeltaReceiver();a.pageData=null;a.pageDataStatus="Loading...";a.state={hasModifyAndExecutePermission:!0,hasCreateClusterPerms:!0};return a}b(c,a);n(c,[{key:"componentWillReceiveProps",value:function(a){0<a.page&&this.fetchRunHistoryData(a)}},{key:"setupItemDeltaReceiver",
value:function(){var a=this.props.job.get("publisherRootId");if(null===a)throw Error("Publisher root id is null. Cannot listen to updates");this.receiver=new v.default;this.receiver.startWatching(a,E.default);this.receiver.onChange(this.forceUpdate.bind(this))}},{key:"componentDidMount",value:function(){this.fetchRunHistoryData(this.props);u.AclUtils.clusterAclsEnabled()&&(this.fetchClusterCreatePermissions(),this.fetchJobPermissions())}},{key:"componentWillUnmount",value:function(){this.receiver.collection.stopWatching()}},
{key:"fetchClusterCreatePermissions",value:function(){var a=this;A.default.ROOT.fetchPermissions(function(){a.setState({hasCreateClusterPerms:A.default.ROOT.canCreateClusters()})})}},{key:"fetchJobPermissions",value:function(){var a=this,b=this.props.job;b.fetchPermissions(function(){a.setState({hasModifyAndExecutePermission:b.canRun()})})}},{key:"fetchRunHistoryData",value:function(a){var b=this,g=a.job.get("basicInfo").jobId;m.default.ajax("/jobs/get/"+g+"/limit/20/offset/"+c.RUN_TABLE_PAGE_OFFSET*
a.page,{type:"GET",success:function(a){b.setPageData.call(b,a)},error:function(a,c,g){b.pageDataStatus="Error fetching results: "+g;b.forceUpdate()}})}},{key:"setPageData",value:function(a){this.pageData=a;this.pageDataStatus=0<a.history.length?null:0<this.props.page?"No more results.":null;this.forceUpdate()}},{key:"render",value:function(){return this.receiver&&this.receiver.model?p.default.createElement(ka,{isNewJob:this.props.isNewJob,hasCreateClusterPerms:this.state.hasCreateClusterPerms,openEditJar:this.props.openEditJar,
job:this.receiver.model,page:this.props.page,pageData:this.pageData,pageDataStatus:this.pageDataStatus,lacksModifyAndExecutePermission:!this.state.hasModifyAndExecutePermission}):null}}]);return c}(p.default.Component);ha.RUN_TABLE_PAGE_OFFSET=20;ha.propTypes={job:p.default.PropTypes.instanceOf(E.default).isRequired,isNewJob:p.default.PropTypes.bool,openEditJar:p.default.PropTypes.bool,page:p.default.PropTypes.number};ha.defaultProps={isNewJob:!1,openEditJar:!1,page:0};var X=f.JobTaskView=function(a){function c(a){e(this,
c);a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a.changeMenus=a.changeMenus.bind(a);a.state={selectedNode:a.props.openNode,selectFile:!0,parameters:""};return a}b(c,a);n(c,[{key:"destroyModal",value:function(a){a&&a.preventDefault();M.default.destroyModal()}},{key:"changeMenus",value:function(a){a.preventDefault();a=void 0;this.refs.fileTreeView&&(a=this.refs.fileTreeView.refs.filetreeControl.fileTree.selectedNode());this.state.selectFile&&"shell"===window.treeCollection.get(a).get("type")?
(this.props.onConfirmSetNotebook(a),this.destroyModal()):this.setState({selectFile:!this.state.selectFile,selectedNode:window.treeCollection.get(a)})}},{key:"render",value:function(){return this.state.selectFile&&!this.props.onlySetParameters?p.default.createElement(ga,{ref:"fileTreeView",openNode:this.props.openNode,jobAction:this.props.jobAction,destroyModal:this.destroyModal,changeMenus:this.changeMenus,shouldWarnRestartCluster:this.props.shouldWarnRestartCluster}):p.default.createElement(aa,{s3JarFile:this.props.jobAction[0].s3JarFile,
setLibraryParameters:this.props.setLibraryParameters,onlySetParameters:this.props.onlySetParameters,mainClass:this.props.mainClass,parameters:this.props.parameters,destroyModal:this.destroyModal,changeMenus:this.changeMenus})}}]);return c}(p.default.Component);X.propTypes={openNode:p.default.PropTypes.instanceOf(l.default),onConfirmSetNotebook:p.default.PropTypes.func,onlySetParameters:p.default.PropTypes.bool,setLibraryParameters:p.default.PropTypes.func,jobAction:p.default.PropTypes.array,mainClass:p.default.PropTypes.func,
parameters:p.default.PropTypes.object,shouldWarnRestartCluster:p.default.PropTypes.bool};var aa=f.JobTaskParametersView=function(a){function c(a){e(this,c);a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a._setLibrary=a._setLibrary.bind(a);a._onMainClassChange=a._onMainClassChange.bind(a);a._onParameterChange=a._onParameterChange.bind(a);a._getHeader=a._getHeader.bind(a);a._getBody=a._getBody.bind(a);a._getFooter=a._getFooter.bind(a);a.state={mainClass:a.props.mainClass,parameters:a.props.parameters};
return a}b(c,a);n(c,[{key:"_setLibrary",value:function(a){a.preventDefault();a=!1;this.props.onlySetParameters&&(a=!0);this.props.setLibraryParameters(this.props.s3JarFile,this.state.mainClass,this.state.parameters,this.props.selectedNode,a);this.props.destroyModal()}},{key:"_onMainClassChange",value:function(a){this.setState({mainClass:a})}},{key:"_onParameterChange",value:function(a){this.setState({parameters:a})}},{key:"_getHeader",value:function(){return p.default.createElement("h3",null,"Set Parameters")}},
{key:"_getBody",value:function(){var a=this.props.s3JarFile;return p.default.createElement("div",null,p.default.createElement("div",{className:"row-fluid"},p.default.createElement("div",{className:"set-parameters-label"},"Please specify the parameters for the task")),p.default.createElement("div",{className:"row-fluid"},p.default.createElement("span",{className:"set-parameters-label"},"Type: "),"JAR",p.default.createElement("span",{className:"set-parameters-label"},"Task: "),a),p.default.createElement("div",
{className:"row-fluid",id:"task-parameter-fields"},p.default.createElement("div",{className:"set-parameters-label"},"Main Class"),p.default.createElement(K.Input,{type:"text",inputClassName:"control-field parameter-input",required:!0,onChange:this._onMainClassChange,defaultValue:this.state.mainClass}),p.default.createElement("div",{className:"set-parameters-label"},"Arguments"),p.default.createElement(K.Input,{type:"text",inputClassName:"control-field parameter-input",onChange:this._onParameterChange,
defaultValue:this.state.parameters})))}},{key:"_getFooter",value:function(){return p.default.createElement("div",null,this.props.onlySetParameters?p.default.createElement("a",{className:"btn cancel-button",onClick:this.props.destroyModal},"Cancel"):p.default.createElement("a",{className:"btn cancel-button",onClick:this.props.changeMenus},"Back"),p.default.createElement("a",{className:"btn btn-primary confirm-button",onClick:this._setLibrary},"Confirm"))}},{key:"render",value:function(){var a=this._getHeader(),
b=this._getBody(),c=this._getFooter();return p.default.createElement(Y.default,{modalName:"set-parameters",header:a,body:b,footer:c})}}]);return c}(p.default.Component);aa.propTypes={mainClass:p.default.PropTypes.func,onlySetParameters:p.default.PropTypes.bool,setLibraryParameters:p.default.PropTypes.func,s3JarFile:p.default.PropTypes.string,destroyModal:p.default.PropTypes.func,changeMenus:p.default.PropTypes.func,parameters:p.default.PropTypes.object};var ga=f.JobTaskFileTreeView=function(a){function c(a){e(this,
c);a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a._getHeader=a._getHeader.bind(a);a._getBody=a._getBody.bind(a);a._getFooter=a._getFooter.bind(a);return a}b(c,a);n(c,[{key:"componentDidMount",value:function(){this.setupFileTree()}},{key:"componentDidUpdate",value:function(){this.setupFileTree()}},{key:"setupFileTree",value:function(){var a=(0,m.default)(".modal-main-job-task"),b=(0,m.default)(this.refs.filetreeDiv),c=(0,m.default)(this.refs.filetreeControl),g=new B.default(b,window.fileBrowserView.getReadOnlyTreeProvider(["shell"]),
{scrollElement:c[0]});c[0].fileTree=g;a.addClass("file-picker-dialog");c.addClass("control-field");c.attr("id","notebookPicker");b=function(){var b=function(a){return void 0===a||a.hasChildren?!1:!0},d=function(){var b=!0;a.find(".control-field").each(function(){(0,m.default)(this).hasClass("invalid-form")&&(b=!1)});b?a.find(".confirm-button").removeAttr("disabled"):a.find(".confirm-button").attr("disabled",!0)};return function(){c.toggleClass("invalid-form",!b(g.selectedNode()));d()}}();g.treeProvider.selectionChanged=
b;b();(b=this.props.openNode)||(b=d(this.props.jobAction));b||(b=G.default.getHomeFolderNode()||G.default.getRootFolderNode());g.openToNode(window.fileBrowserView.toTreeNode(b))}},{key:"_getHeader",value:function(){return p.default.createElement("h3",null,"Select Notebook")}},{key:"_getExistingClusterJarWarning",value:function(){return p.default.createElement("div",{className:"jar-dialog-notice"},p.default.createElement("span",{className:"warning-font"},"If you select a JAR, you must restart the cluster for the new JAR file to be attached to your cluster."))}},
{key:"_getBody",value:function(){return p.default.createElement("div",null,this.props.shouldWarnRestartCluster?this._getExistingClusterJarWarning():null,p.default.createElement("div",{className:"select-notebook-label"},"Select a notebook to run as a job:"),p.default.createElement("div",{className:"dialog-filetree-container",ref:"filetreeControl"},p.default.createElement("div",{id:"tree-div",ref:"filetreeDiv"})))}},{key:"_getFooter",value:function(){return p.default.createElement("div",null,p.default.createElement("a",
{className:"btn cancel-button",onClick:this.props.destroyModal},"Cancel"),p.default.createElement("a",{className:"btn btn-primary confirm-button",onClick:this.props.changeMenus},"OK"))}},{key:"render",value:function(){var a=this._getHeader(),b=this._getBody(),c=this._getFooter();return p.default.createElement(Y.default,{modalName:"job-task",header:a,body:b,footer:c})}}]);return c}(p.default.Component);ga.propTypes={openNode:p.default.PropTypes.instanceOf(l.default),destroyModal:p.default.PropTypes.func,
changeMenus:p.default.PropTypes.func,jobAction:p.default.PropTypes.array,shouldWarnRestartCluster:p.default.PropTypes.bool};var ka=f.JobView=function(a){function c(a){e(this,c);var b=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));b.onConfirmAddCluster=b.onConfirmAddCluster.bind(b);b.onConfirmSelectCluster=b.onConfirmSelectCluster.bind(b);b.onConfirmSetLibrary=b.onConfirmSetLibrary.bind(b);b.onConfirmSetNotebook=b.onConfirmSetNotebook.bind(b);b.onClickRemoveLibrary=b.onClickRemoveLibrary.bind(b);
b.onClickSetNotebook=b.onClickSetNotebook.bind(b);b.onClickSetJar=b.onClickSetJar.bind(b);b.onClickReplaceJar=b.onClickReplaceJar.bind(b);b.onClickEditJar=b.onClickEditJar.bind(b);b.onClickRemoveTask=b.onClickRemoveTask.bind(b);b.onClickAddLibrary=b.onClickAddLibrary.bind(b);b.onClickRemoveTimeout=b.onClickRemoveTimeout.bind(b);b.onClickRemoveRetry=b.onClickRemoveRetry.bind(b);b.onClickEditMaxConcurrentRuns=b.onClickEditMaxConcurrentRuns.bind(b);b.onClickEditTimeout=b.onClickEditTimeout.bind(b);b.onClickEditRetry=
b.onClickEditRetry.bind(b);b.onClickEditAlert=b.onClickEditAlert.bind(b);b.onClickJobRun=b.onClickJobRun.bind(b);b.onJobNameChange=b.onJobNameChange.bind(b);b.onClickJobName=b.onClickJobName.bind(b);b.onClickSetSchedule=b.onClickSetSchedule.bind(b);b.onClickRemoveSchedule=b.onClickRemoveSchedule.bind(b);b.onClickSetCluster=b.onClickSetCluster.bind(b);b.stopEditingJobName=b.stopEditingJobName.bind(b);b.toggleAdvancedOpts=b.toggleAdvancedOpts.bind(b);b.shouldRestartClusterIfJar=b.shouldRestartClusterIfJar.bind(b);
b.setJarHasChanged=b.setJarHasChanged.bind(b);b.shouldShowJarWarning=b.shouldShowJarWarning.bind(b);b.homeFolderNode=G.default.getHomeFolderNode();b.restrictedText="When cluster ACLs are enabled, job edit permissions are restricted to the job owner.";var g=b.homeFolderNode;(a=a.job.get("basicInfo").jobActions[0])&&(g=k(a)?b.homeFolderNode:d(a));a=b.props.job.get("basicInfo");b.deleteClickCallback=J.JobUtils.getDeleteJobClickHandler(a.jobId,a.jobName);b.state={editingJobName:!1,retryTimes:b.props.job.getRetryTimes(),
settingRetry:!1,showAdvancedOptions:!1,runningJob:!1,selectedNode:g,jarHasChanged:!1};b.setupHistory(b.props);return b}b(c,a);n(c,[{key:"componentWillReceiveProps",value:function(a){this.setupHistory(a);this.setRetryTimesState(a.job)}},{key:"componentDidMount",value:function(){var a=this;this.countdownInterval=setInterval(this.setRetryTimesState.bind(this,this.props.job),5E3);(0,m.default)("#topbar .tb-title").addClass("jobview-topbar");this.renderTopbarTitle();if(this.props.openEditJar&&!this.props.lacksModifyAndExecutePermission)this.onClickEditJar();
this.props.isNewJob&&(this.delayedJobNameFocusTimerId=w.default.delay(function(){a.onClickJobName()},200))}},{key:"componentWillUnmount",value:function(){clearInterval(this.countdownInterval);clearTimeout(this.delayedJobNameFocusTimerId);(0,m.default)("#topbar .tb-title").removeClass("jobview-topbar")}},{key:"setupHistory",value:function(a){var b=a.job.get("history");0<a.page&&(b=a.pageData?a.pageData.history:[]);this.history=b;this.pageDataStatus=a.pageDataStatus}},{key:"renderTopbarTitle",value:function(a){var b=
this.props.job.get("basicInfo");b&&0<(0,m.default)(".jobview-topbar").length&&(a=a||b.jobName,(0,m.default)("#topbar").show(),this.name=a,(0,m.default)("#topbar .tb-title.jobview-topbar").text(a),(0,m.default)("#topbar .tb-title.jobview-topbar").attr({"data-name":a}),R.BrowserUtils.setDocumentTitle(a))}},{key:"setRetryTimesState",value:function(a){a=a.getRetryTimes();0===a.length?this.setState({retryTimes:[]}):this.setState({retryTimes:a})}},{key:"handleLinkClicked",value:function(a,b,c,g,d){b=b?
JSON.stringify(b):this.props.job.get("basicInfo").jobId;this.props.job.editJob(a,b,function(){g&&g();c&&c()},function(a){d&&d();P.default.alert("Request failed: "+a);c&&c()})}},{key:"toggleJobRunState",value:function(a){this.setState({runningJob:a})}},{key:"onClickJobRun",value:function(){this.state.runningJob||(this.toggleJobRunState(!0),this.handleLinkClicked("/jobs/run",null,this.toggleJobRunState.bind(this,!1)))}},{key:"onClickSetNotebook",value:function(){M.default.createModal(p.default.createElement(X,
{openNode:this.state.selectedNode,jobAction:this.props.job.get("basicInfo").jobActions[0],onConfirmSetNotebook:this.onConfirmSetNotebook,setLibraryParameters:this.onConfirmSetLibrary,shouldWarnRestartCluster:this.shouldRestartClusterIfJar()}))}},{key:"onConfirmSetNotebook",value:function(a){this.handleLinkClicked("/jobs/set-action",{jobId:this.props.job.get("basicInfo").jobId,notebookId:a.id});this.setState({selectedNode:a})}},{key:"onConfirmSetLibrary",value:function(a,b,c,g,d){var k="set-action";
d&&(k="update-jar-action");this.handleLinkClicked("/jobs/"+k,{jobId:this.props.job.get("basicInfo").jobId,mainClass:b,parameters:c||"",jarPath:a,runAsNotebook:!0},void 0,this.setJarHasChanged);this.setState({selectedNode:g})}},{key:"onClickAddLibrary",value:function(){var a=this,b=P.default.custom({title:"Select Library",controls:[{controlType:"filetree",id:"notebookPicker",nodeType:"library",validate:function(a){return void 0!==a&&!a.hasChildren}}],confirm:function(b){var c=b.find("#notebookPicker")[0].fileTree.selectedNode();
a.onConfirmAddLibrary(c.id);b.remove()}}),c=this.homeFolderNode||G.default.getRootFolderNode(),c=window.fileBrowserView.toTreeNode(c);b.find("#notebookPicker")[0].fileTree.openToNode(c)}},{key:"onConfirmAddLibrary",value:function(a){this.handleLinkClicked("/jobs/add-library",{jobId:this.props.job.get("basicInfo").jobId,libraryId:a})}},{key:"onClickRemoveLibrary",value:function(a,b,c){var g=this;P.default.confirm({message:"Are you sure you want to remove this library?",confirm:function(){g.onConfirmRemoveLibrary(a,
b,c)}})}},{key:"onConfirmRemoveLibrary",value:function(a,b,c){this.handleLinkClicked("/jobs/remove-library",{jobId:this.props.job.get("basicInfo").jobId,libType:a,name:b,repo:c||""})}},{key:"shouldRestartClusterIfJar",value:function(){var a=this.props.job,b=!a.get("basicInfo").resources.runOnNewCluster,a=0<a.get("history").length;return b&&a}},{key:"setJarHasChanged",value:function(){this.setState({jarHasChanged:!0})}},{key:"onClickSetJar",value:function(){L.default.createDialog(!1,this.props.job,
this.shouldRestartClusterIfJar(),this.setJarHasChanged)}},{key:"onClickReplaceJar",value:function(){L.default.createDialog(!0,this.props.job,this.shouldRestartClusterIfJar(),this.setJarHasChanged)}},{key:"onClickEditJar",value:function(){var a=this.props.job.get("basicInfo").jobActions;M.default.createModal(p.default.createElement(X,{openNode:this.state.selectedNode,jobAction:a,onlySetParameters:!0,setLibraryParameters:this.onConfirmSetLibrary,mainClass:a[0]?a[0].mainClassName:null,parameters:a[0]?
a[0].parameters:null}))}},{key:"onClickRemoveTask",value:function(){var a=this;P.default.confirm({message:"Are you sure you want to remove this task?",confirm:function(){a.handleLinkClicked("/jobs/set-action",{jobId:a.props.job.get("basicInfo").jobId});a.setState({selectedNode:a.homeFolderNode})}})}},{key:"onConfirmAddCluster",value:function(a,b,c,d,k,h,m,e){var n=this.props.job.get("basicInfo").resources;m=g.ClusterUtil.containersToMemoryMB(Number(b),m,e,!1);d=c&&d;n.runOnNewCluster&&a===n.sparkVersion&&
m===parseInt(n.totalMemMb,10)&&c===n.useSpot&&d===n.fallbackToOndemand&&k===n.zoneId&&h===n.sparkConf||this.handleLinkClicked("/jobs/set-cluster",{jobId:this.props.job.get("basicInfo").jobId,runOnNewCluster:!0,clusterId:null,newClusterNumWorkers:b,useSpot:c,fallbackToOndemand:d,sparkVersion:a,zoneId:k,sparkConf:h})}},{key:"onConfirmSelectCluster",value:function(a,b,c){a=this.props.job.get("basicInfo").resources;a.runOnNewCluster||b!==a.clusterId?this.handleLinkClicked("/jobs/set-cluster",{jobId:this.props.job.get("basicInfo").jobId,
runOnNewCluster:!1,clusterId:b,memoryMB:0,useSpot:!1,fallbackToOndemand:!1,sparkVersion:a.sparkVersion},c,null):b===a.clusterId&&c&&c()}},{key:"onClickSetCluster",value:function(){var a=p.default.createElement(I.ReactJobClusterDialog,{basicInfo:this.props.job.get("basicInfo"),clusters:window.clusterList.attachableClusters(),setNewCluster:this.onConfirmAddCluster,setExistingCluster:this.onConfirmSelectCluster,enableVersionUI:window.settings.enableSparkVersionsUI,enableCustomVersionUI:window.prefs.get("enableCustomSparkVersions")||
!1,zoneInfos:window.settings.zoneInfos,restrictedClusterCreation:window.settings.enableRestrictedClusterCreation});if(u.AclUtils.clusterAclsEnabled()){var b=q.default.map(window.clusterList.attachableClusters(),function(a){return a.fetchPermissionLevel()});m.default.when.apply(m.default,b).done(function(){M.default.createModal(a)})}else M.default.createModal(a)}},{key:"_atLeastOne",value:function(a){return!isNaN(a)&&1<=parseInt(a,10)}},{key:"_nonNegative",value:function(a){return!isNaN(a)&&0<=parseInt(a,
10)}},{key:"onClickEditMaxConcurrentRuns",value:function(){var a=this,b=this.props.job.getMaxConcurrentRuns().toString();P.default.custom({title:"Set Job Maximum Concurrent Runs",controls:[{controlType:"text",id:"jobMaxConcurrentRunsHelpText",message:"Maximum number of concurrent runs of this job."},{controlType:"input",id:"maxConcurrentRuns",type:"text",focus:!0,label:"Maximum concurrent runs",value:b,confirmOnEnter:!0,validate:this._nonNegative}],confirm:function(c){c=parseInt(c.find("#maxConcurrentRuns").val(),
10);if(c!==b)a.onConfirmEditMaxConcurrentRuns(c)}}).addClass("dialog-set-max-concurrent-runs")}},{key:"onConfirmEditMaxConcurrentRuns",value:function(a){this.handleLinkClicked("/jobs/set-max-concurrent-runs",{jobId:this.props.job.get("basicInfo").jobId,maxConcurrentRuns:a})}},{key:"onClickEditTimeout",value:function(){var a=this,b="",c=parseInt(this.props.job.get("basicInfo").timeoutSeconds,10)/60;0<c&&(b=c);P.default.custom({title:"Set Job Timeout",controls:[{controlType:"text",id:"jobTimeoutHelpText",
message:"Jobs still running after the specified timeout will be terminated."},{controlType:"input",id:"timeoutMinutes",type:"text",focus:!0,label:"Timeout in minutes",value:b,confirmOnEnter:!0,validate:this._atLeastOne}],confirm:function(b){b=parseInt(b.find("#timeoutMinutes").val(),10);if(b!==c)a.onConfirmEditTimeout(b)}}).addClass("dialog-set-timeout")}},{key:"onConfirmEditTimeout",value:function(a){this.handleLinkClicked("/jobs/set-timeout",{jobId:this.props.job.get("basicInfo").jobId,timeoutSeconds:60*
a})}},{key:"onClickRemoveTimeout",value:function(){this.handleLinkClicked("/jobs/set-timeout",{jobId:this.props.job.get("basicInfo").jobId,timeoutSeconds:0})}},{key:"setJobSchedule",value:function(a,b,c){this.handleLinkClicked("/jobs/set-sched",{jobId:this.props.job.get("basicInfo").jobId,timeZone:c,cronExpr:b})}},{key:"handleScheduleUpdate",value:function(a){var b=this._cronSchedule.value();b.quartzCronExpression===this.props.job.getCronSched()&&b.timeZoneId===this.props.job.getCronTimeZone()||this.setJobSchedule(a,
b.quartzCronExpression,b.timeZoneId);this._cronSchedule=void 0}},{key:"onClickSetSchedule",value:function(a){var b=this;P.default.reactCustom({title:"Schedule Job",name:"job-schedule-dialog",controls:[{class:"remove-dialog-margin",controlType:"react",component:p.default.createElement(x.CronSchedule,{ref:function(a){b._cronSchedule=a},currentQuartz:this.props.job.getCronSched(),currentTimeZone:this.props.job.getCronTimeZone()})}],confirm:this.handleScheduleUpdate.bind(this,a),cancel:function(){b._cronSchedule=
void 0}})}},{key:"onClickEditAlert",value:function(){var a=this,b=this.props.job.get("basicInfo");P.default.custom({title:"Email Alerts",controls:[{controlType:"text",id:"emailAlertsHelpText",message:"Enter addresses to email when a run starts, succeeds, or encounters an error."},{controlType:"input",id:"onStartEmail",type:"text",focus:!0,label:"On start",placeholder:"Emails (comma-separated)",value:b.onStartEmail.join(", "),validate:T.EmailValidators.isValidEmailsField},{controlType:"input",id:"onSuccessEmail",
type:"text",label:"On success",placeholder:"Emails (comma-separated)",value:b.onSuccessEmail.join(", "),validate:T.EmailValidators.isValidEmailsField},{controlType:"input",id:"onErrorEmail",type:"text",label:"On error",placeholder:"Emails (comma-separated)",value:b.onErrorEmail.join(", "),validate:T.EmailValidators.isValidEmailsField}],confirm:function(c){var g=c.find("#onStartEmail").val(),d=c.find("#onSuccessEmail").val();c=c.find("#onErrorEmail").val();var k=function(a){return q.default.filter(q.default.map(a.split(","),
function(a){return a.trim()}),function(a){return 0<a.length})};if(!q.default.isEqual(b.onStartEmail,k(g))||!q.default.isEqual(b.onSuccessEmail,k(d))||!q.default.isEqual(b.onErrorEmail,k(c)))a.onConfirmEditAlert(g,d,c)}}).css("width","520px")}},{key:"onConfirmEditAlert",value:function(a,b,c){this.handleLinkClicked("/jobs/set-alert",{jobId:this.props.job.get("basicInfo").jobId,onStartEmail:a,onSuccessEmail:b,onErrorEmail:c})}},{key:"onClickEditRetry",value:function(){var a=this,b=this.props.job.get("basicInfo").retryPolicy,
c=window.settings.enableJobsRetryOnTimeout?this.renderRetryOnTimeoutCheckbox(b.retryOnTimeout):[];P.default.custom({title:"Set Retry Policy",controls:[{controlType:"text",id:"jobRetryHelpText",message:"Jobs that fail will be retried a number of times based on the following policy. You can specify a maximum number of attempts for a run and a minimal interval between attempts."},{controlType:"multifield",id:"retryMultiField",subfields:[{type:"html",html:"Retry at most&nbsp;&nbsp;"},{type:"select",width:"100px",
id:"retryCount",value:b.maxAttempts-1,options:D.default.RETRY_COUNT_OPTIONS},{type:"html",html:"&nbsp;&nbsp;and wait&nbsp;&nbsp;"},{type:"select",id:"retryDelay",width:"80px",value:b.minRetryIntervalMillis,options:D.default.RETRY_POLICY_DELAY_MILLIS_OPTIONS},{type:"html",html:"&nbsp;&nbsp;between retries."}]}].concat(c),confirm:function(b){var c=parseInt(b.find("#retryDelay").val(),10),g=parseInt(b.find("#retryCount").val(),10);b=b.find("#retryOnTimeout")[0].checked;a.onConfirmEditRetry(c,g,b)}}).addClass("dialog-set-retry")}},
{key:"onConfirmEditRetry",value:function(a,b,c){this.handleLinkClicked("/jobs/set-retry",{jobId:this.props.job.get("basicInfo").jobId,retryDelay:a,retryCount:b,retryOnTimeout:c})}},{key:"renderRetryOnTimeoutCheckbox",value:function(a){return[{controlType:"html",id:"retryOnTimeoutHolder",message:'<span><input type="checkbox" id="retryOnTimeout"'+(a?" checked":"")+"></input> Retry on timeouts</span>"}]}},{key:"onClickRemoveRetry",value:function(){this.handleLinkClicked("/jobs/set-retry",{jobId:this.props.job.get("basicInfo").jobId})}},
{key:"onClickRemoveSchedule",value:function(){this.handleLinkClicked("/jobs/remove-sched")}},{key:"onClickJobName",value:function(){this.setState({isEditingName:!0});this.refs.title.startEditing()}},{key:"stopEditingJobName",value:function(){this.setState({isEditingName:!1})}},{key:"onJobNameChange",value:function(a){var b=this,c=this.props.job.get("basicInfo").jobName;this.handleLinkClicked("/jobs/rename",{jobId:this.props.job.get("basicInfo").jobId,newName:a},null,function(){b.renderTopbarTitle(a)},
function(){r.default.findDOMNode(b.refs.title)&&(b.refs.title.value=c)})}},{key:"toggleAdvancedOpts",value:function(){this.setState({showAdvancedOptions:!this.state.showAdvancedOptions})}},{key:"hasNoAlerts",value:function(){return!this.hasEmail("onStartEmail")&&!this.hasEmail("onSuccessEmail")&&!this.hasEmail("onErrorEmail")}},{key:"hasEmail",value:function(a){return 0<this.props.job.get("basicInfo")[a].length}},{key:"getEmailList",value:function(a){var b=[];this.hasEmail("onStartEmail")&&b.push(p.default.createElement("li",
null,"On start: ",a.onStartEmail.join(", ")));this.hasEmail("onSuccessEmail")&&b.push(p.default.createElement("li",null,"On success: ",a.onSuccessEmail.join(", ")));this.hasEmail("onErrorEmail")&&b.push(p.default.createElement("li",null,"On error: ",a.onErrorEmail.join(", ")));return b}},{key:"renderBasicLibrary",value:function(a,b,c,g,d){return p.default.createElement("li",{key:"lib-"+b},b+" - ("+c+") ",p.default.createElement("a",{className:"job-remove-library","data-uri":a,disabled:g,onClick:g?
null:d},"Remove"))}},{key:"renderUriLibrary",value:function(a,b){return this.renderBasicLibrary(a.uri,a.uri.substring(a.uri.lastIndexOf("/")+1),q.default.capitalize(a.type),b,this.onClickRemoveLibrary.bind(null,a.type,a.uri,null))}},{key:"renderMavenLibrary",value:function(a,b){return this.renderBasicLibrary(a.coordinate,a.coordinate,q.default.capitalize(a.type),b,this.onClickRemoveLibrary.bind(null,a.type,a.coordinate,a.repo))}},{key:"renderPypiLibrary",value:function(a,b){return this.renderBasicLibrary(a.packageName,
a.packageName,q.default.capitalize(a.type),b,this.onClickRemoveLibrary.bind(null,a.type,a.packageName,a.repo))}},{key:"renderLibrariesList",value:function(a){var b=this,c=this.props.lacksModifyAndExecutePermission;return a.map(function(a){return"maven"===a.type?b.renderMavenLibrary(a,c):"pypi"===a.type?b.renderPypiLibrary(a,c):"egg"===a.type||"jar"===a.type?b.renderUriLibrary(a,c):null})}},{key:"getRestrictedWarning",value:function(){return p.default.createElement(U.Tooltip,{ref:"restrictedWarning",
text:this.restrictedText},p.default.createElement("i",{className:"fa fa-exclamation-circle state-message-icon restricted-job-icon"}))}},{key:"getTaskElem",value:function(){var a=this.props.job,b=this.props.lacksModifyAndExecutePermission,c=a.get("basicInfo").jobActions,g=k(c[0]);if(0===c.length)return p.default.createElement("span",null,p.default.createElement("span",{className:"job-action"}),p.default.createElement("span",null,p.default.createElement("a",{className:"job-set-notebook",onClick:b?null:
this.onClickSetNotebook,disabled:b},"Select Notebook")," /\u00a0",p.default.createElement("a",{className:"job-set-jar",onClick:b?null:this.onClickSetJar,disabled:b},"Set JAR")),b?this.getRestrictedWarning():null);var c=p.default.createElement("a",{className:"job-edit-jar",onClick:b?null:this.onClickEditJar,disabled:b},"Edit"),d=p.default.createElement("a",{className:"job-set-notebook",disabled:b,onClick:b?null:this.onClickSetNotebook},"Edit"),h=p.default.createElement("a",{className:"job-replace-jar",
onClick:b?null:this.onClickReplaceJar,disabled:b},"Upload JAR"),m=p.default.createElement("a",{className:"job-remove-task",disabled:b,onClick:b?null:this.onClickRemoveTask},"Remove"),g=g?p.default.createElement("span",null," - ",d," / ",h," / ",m):p.default.createElement("span",null," - ",d," / ",m),d=a.get("basicInfo").jobActions,m=d[0]?d[0].mainClassName:null,e=d[0]?JSON.stringify(d[0].splitParams):null,h=p.default.createElement("li",null,"Dependent Libraries: ",p.default.createElement("a",{className:"job-add-library",
disabled:b,onClick:b?null:this.onClickAddLibrary},"Add"),p.default.createElement("ul",null,this.renderLibrariesList(a.get("basicInfo").libraries))),c=p.default.createElement("ul",null,p.default.createElement("li",null,"Parameters ",c,p.default.createElement("ul",null,p.default.createElement("li",null,"Main Class: ",m),p.default.createElement("li",null,"Arguments: ",e))),h);return p.default.createElement("span",null,p.default.createElement(F.JobActionElement,{actions:d}),g,b?this.getRestrictedWarning():
null,a.hasJarAction()?c:p.default.createElement("ul",null,h))}},{key:"getMaxConcurrentRunsControl",value:function(a,b){return window.settings.enableMaxConcurrentRuns?p.default.createElement("li",null,p.default.createElement("span",{className:"job-subheader"},"Maximum Concurrent Runs: "),p.default.createElement("span",{className:"job-max-concurrent-runs"},a.getMaxConcurrentRuns()," "),p.default.createElement("span",null,p.default.createElement("a",{className:"job-set-max-concurrent-runs",onClick:b?
null:this.onClickEditMaxConcurrentRuns,disabled:b},"Edit "))):null}},{key:"getAdvancedOptions",value:function(){if(!this.state.showAdvancedOptions)return null;var a=this.props.job,b=this.props.lacksModifyAndExecutePermission;return p.default.createElement("div",{className:"jobs-advanced"},p.default.createElement("li",null,p.default.createElement("span",{className:"job-subheader"},"Alerts: "),this.hasNoAlerts()?"None ":null,p.default.createElement("a",{className:"job-set-alerts",disabled:b,onClick:b?
null:this.onClickEditAlert},"Edit"),p.default.createElement("ul",null,this.getEmailList(a.get("basicInfo")))),this.getMaxConcurrentRunsControl(a,b),p.default.createElement("li",null,p.default.createElement("span",{className:"job-subheader"},"Timeout: "),p.default.createElement("span",{className:"job-timeout"},a.getTimeoutString()," "),p.default.createElement("span",null,p.default.createElement("a",{className:"job-set-timeout",onClick:b?null:this.onClickEditTimeout,disabled:b},"Edit "),"None"!==a.getTimeoutString()?
p.default.createElement("span",null,"/ ",p.default.createElement("a",{className:"job-remove-timeout",disabled:b,onClick:b?null:this.onClickRemoveTimeout},"Remove")):null)),p.default.createElement("li",null,p.default.createElement("span",{className:"job-subheader"},"Retries: "),p.default.createElement("span",{className:"job-retry"},a.getRetryString()," "),p.default.createElement("span",null,p.default.createElement("a",{className:"job-set-retry",onClick:b?null:this.onClickEditRetry,disabled:b},"Edit "),
"None"!==a.getRetryString()?p.default.createElement("span",null,"/ ",p.default.createElement("a",{className:"job-remove-retry",disabled:b,onClick:b?null:this.onClickRemoveRetry},"Remove")):null)))}},{key:"getCountdownRow",value:function(){if(0===this.state.retryTimes.length)return null;var a=q.default.map(this.state.retryTimes,function(a){var b=window.conn.wsClient.serverTime(),b=t.default.getCountdownString(a,b);return p.default.createElement("span",{className:"auto-updating-countdown-widget","data-time":a},
b)});return p.default.createElement("tr",null,p.default.createElement("td",{colSpan:6},p.default.createElement("span",null,"Run failed, will retry in ",a)))}},{key:"getRunNowRow",value:function(){var a=this.props.job;if(a.hitMaxConcurrentRuns())return null;a=!a.isRunnableConfiguration()||this.props.lacksModifyAndExecutePermission;return p.default.createElement("tr",null,p.default.createElement("td",{colSpan:6},p.default.createElement("span",null,p.default.createElement("a",{className:this.state.runningJob?
"job-run-link link-active":"job-run-link",disabled:a,onClick:a?null:this.onClickJobRun},"Run Now"),this.props.lacksModifyAndExecutePermission?this.getRestrictedWarning():null)))}},{key:"getTableHead",value:function(){return p.default.createElement("thead",null,p.default.createElement("tr",null,p.default.createElement("th",{className:"span2"},"Run"),p.default.createElement("th",{className:"span2"},"Start Time"),p.default.createElement("th",{className:"span2"},"Launched"),p.default.createElement("th",
{className:"span2"},"Duration"),p.default.createElement("th",{className:"span2"},"Status")))}},{key:"getRunRows",value:function(a){var b=this;return q.default.map(this.history,function(c){if(c.active===a)return p.default.createElement(ra,{key:"run-"+c.runId,lacksModifyAndExecutePermission:b.props.lacksModifyAndExecutePermission,durationMillis:c.durationMillis,handleLinkClicked:b.handleLinkClicked,idInJob:c.idInJob,isActiveRun:c.active,job:b.props.job,jobId:b.props.job.get("basicInfo").jobId,message:c.message,
runId:c.runId,startTime:c.startTime,status:c.status,trigger:c.trigger})})}},{key:"getJobUpgradeTooltip",value:function(){var a=p.default.createElement("span",null,"This job is using an old version of Ubuntu that will be deprecated. To configure this cluster, you will need to select an updated Spark version (the same Spark versions are supported).");return p.default.createElement(U.Tooltip,{text:a},p.default.createElement("i",{className:"fa fa-"+O.default.error+" state-message-icon job-upgrade-tooltip"}))}},
{key:"getRunsNav",value:function(){var a=this.props.page,b=this.props.job.get("basicInfo").jobId,c=this.history.length<ha.RUN_TABLE_PAGE_OFFSET,c={className:"job-paginate-next",disabled:c,href:c?"#":"#job/"+b+"/"+(a+1)};return p.default.createElement("span",null,p.default.createElement("a",{className:"job-paginate-prev",disabled:0===a,href:0===a?"#":1===a?"#job/"+b:"#job/"+b+"/"+(a-1)},p.default.createElement("i",{className:"fa fa-angle-left"})," Previous 20"),p.default.createElement("a",c,"Next 20 ",
p.default.createElement("i",{className:"fa fa-angle-right"})))}},{key:"shouldShowJarWarning",value:function(){var a=this.props.job.get("basicInfo");return this.shouldRestartClusterIfJar()&&k(a.jobActions[0])&&this.state.jarHasChanged}},{key:"getJarWarning",value:function(){return p.default.createElement("span",{className:"warning-font"}," You must restart the cluster for the new JAR file to be attached to your cluster.")}},{key:"renderDeleteButton",value:function(){return p.default.createElement("span",
null,p.default.createElement("span",{className:"job-header-separator"},"|"),p.default.createElement(N.DeleteButton,{onClick:this.deleteClickCallback}))}},{key:"render",value:function(){var a=this.props.job,b=this.state.isEditingName,c=this.props.lacksModifyAndExecutePermission,b=p.default.createElement("div",{className:b?"job-name-wrapper active":"job-name-wrapper",onClick:c?null:this.onClickJobName},p.default.createElement("h2",null,p.default.createElement(Q.default,{ref:"title",allowEdit:!c,initialText:a.get("basicInfo").jobName,
updateText:this.onJobNameChange,onStopEdit:this.stopEditingJobName,className:"job-name control-field",maxLength:100,showSaveAndEditBtn:!1}),b||c?null:p.default.createElement("i",{className:"fa fa-edit job-name-edit"}),this.props.isNewJob?null:this.renderDeleteButton())),g=p.default.createElement("span",null,p.default.createElement("a",{className:"job-set-schedule",onClick:c?null:this.onClickSetSchedule,disabled:c},"Edit"),a.getCronSched()?p.default.createElement("span",null," / ",p.default.createElement("a",
{className:"job-remove-schedule",disabled:c,onClick:c?null:this.onClickRemoveSchedule},"Remove")):null),d=p.default.createElement("a",{disabled:0===a.attributes.history.length,href:"#job/"+a.get("basicInfo").jobId+"/run/latestSuccess"},"Latest successful run (refreshes automatically)"),k=p.default.createElement(U.Tooltip,{ref:"clusterCreateWarning",text:y.default.JOB_CREATE_CLUSTER_WARNING},p.default.createElement("i",{className:"fa fa-exclamation-circle state-message-icon no-create-perms-icon"}));
return p.default.createElement("div",{className:"job-view"},p.default.createElement("a",{className:"all-jobs-link job-page-link",href:"#joblist"},p.default.createElement("i",{className:"fa fa-angle-left"})," All Jobs"),b,p.default.createElement("ul",{className:"unstyled"},p.default.createElement("li",null,p.default.createElement("span",{className:"job-subheader"},"Task: "),this.getTaskElem()),p.default.createElement("li",null,p.default.createElement("span",{className:"job-subheader"},"Cluster: "),
p.default.createElement("span",{className:"job-resources"},a.getResourceString()," "),p.default.createElement("a",{className:"job-set-cluster",disabled:c,onClick:c?null:this.onClickSetCluster},"Edit"),this.shouldShowJarWarning()?this.getJarWarning():null,a.needsUpgrade()?this.getJobUpgradeTooltip():null,!this.props.hasCreateClusterPerms&&u.AclUtils.clusterAclsEnabled()?k:null),p.default.createElement("li",null,p.default.createElement("span",{className:"job-subheader"},"Schedule: "),p.default.createElement("span",
{className:"job-schedule"},a.getSchedString()," "),g),p.default.createElement("span",{className:"job-show-advanced-options",onClick:this.toggleAdvancedOpts},"Advanced ",p.default.createElement("i",{className:this.state.showAdvancedOptions?"fa fa-caret-down":"fa fa-caret-right"})),this.getAdvancedOptions()),p.default.createElement("h2",null,"Active runs"),p.default.createElement("table",{className:"table table-bordered-outer runs-table active-runs-table"},this.getTableHead(),p.default.createElement("tbody",
null,this.getCountdownRow(),this.getRunNowRow(),this.getRunRows(!0))),p.default.createElement("h2",null,"Completed runs"),d,p.default.createElement("div",{className:"runs-nav-top"},this.getRunsNav()),p.default.createElement("table",{className:"table table-bordered-outer runs-table completed-runs-table"},this.getTableHead(),p.default.createElement("tbody",null,this.pageDataStatus?p.default.createElement("tr",null,p.default.createElement("td",{colSpan:100},this.pageDataStatus)):null,this.getRunRows(!1))),
p.default.createElement("div",{className:"runs-nav-bottom"},this.getRunsNav()))}}]);return c}(p.default.Component);ka.propTypes={job:p.default.PropTypes.instanceOf(E.default).isRequired,hasCreateClusterPerms:p.default.PropTypes.bool,openEditJar:p.default.PropTypes.bool,page:p.default.PropTypes.number,pageData:p.default.PropTypes.object,pageDataStatus:p.default.PropTypes.string,lacksModifyAndExecutePermission:p.default.PropTypes.bool,isNewJob:p.default.PropTypes.bool};ka.defaultProps={hasCreateClusterPerms:!0,
openEditJar:!1,page:0,lacksModifyAndExecutePermission:!1};var ra=f.RunRow=function(a){function c(a){e(this,c);a=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a.state={runDuration:a.getRunDuration()};return a}b(c,a);n(c,[{key:"getRunLinkUrl",value:function(){return"#job/"+this.props.jobId+"/run/"+this.props.idInJob}},{key:"getRunDuration",value:function(){var a=window.conn.wsClient.serverTime()-parseInt(this.props.startTime,10);return ba.DateTimeFormats.formatDuration(Math.floor(a/1E3))}},
{key:"setRunDurationState",value:function(){this.setState({runDuration:this.getRunDuration()})}},{key:"componentDidMount",value:function(){this.runDurationInterval=setInterval(this.setRunDurationState.bind(this),5E3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.runDurationInterval)}},{key:"componentWillReceiveProps",value:function(a){a.isActiveRun||clearInterval(this.runDurationInterval)}},{key:"getDuration",value:function(){return this.props.isActiveRun?p.default.createElement("span",
{className:"auto-updating-time-widget","data-start-time":this.props.startTime},this.state.runDuration):0<this.props.durationMillis?ba.DateTimeFormats.formatDuration(this.props.durationMillis/1E3):"-"}},{key:"onClickRunRowJobCancel",value:function(){var a=this;P.default.confirm({message:"Are you sure you want to cancel this run?",confirm:function(){a.props.handleLinkClicked.apply(a,["/jobs/cancel-run",{jobId:a.props.jobId,runId:a.props.runId}])}})}},{key:"isCancellable",value:function(){return this.props.status===
E.default.RunLifeCycleState.PENDING||this.props.status===E.default.RunLifeCycleState.RUNNING}},{key:"getStatus",value:function(){if(this.props.isActiveRun){var a=this.props.lacksModifyAndExecutePermission,a=p.default.createElement("span",null," - ",p.default.createElement("a",{className:"job-cancel-link",disabled:a,onClick:a?null:this.onClickRunRowJobCancel.bind(this)},"Cancel"));return p.default.createElement("td",null,this.props.status,this.isCancellable()?a:null)}return p.default.createElement("td",
{"data-run-message":this.props.message,"data-run-status":this.props.status,className:"run-status"},p.default.createElement(ca,{displayState:this.props.status,stateMessage:this.props.message}))}},{key:"render",value:function(){return p.default.createElement("tr",{className:"run-row","data-run-cluster":"job-"+this.props.jobId+"-run-"+this.props.idInJob,"data-run-id":this.props.runId,"data-run-status":this.props.status,"data-run-message":this.props.message},p.default.createElement("td",null,p.default.createElement("a",
{className:"run-link",href:this.getRunLinkUrl()},"Run ",this.props.idInJob)),p.default.createElement("td",null,ba.DateTimeFormats.formatTimestamp(this.props.startTime)),p.default.createElement("td",null,J.JobUtils.formatRunTriggerString(this.props.trigger)),p.default.createElement("td",null,this.getDuration()),this.getStatus())}}]);return c}(p.default.Component);ra.propTypes={handleLinkClicked:p.default.PropTypes.func.isRequired,job:p.default.PropTypes.instanceOf(E.default).isRequired,durationMillis:p.default.PropTypes.number,
isActiveRun:p.default.PropTypes.bool,idInJob:p.default.PropTypes.number,jobId:p.default.PropTypes.number,message:p.default.PropTypes.string,lacksModifyAndExecutePermission:p.default.PropTypes.bool,runId:p.default.PropTypes.string,startTime:p.default.PropTypes.number,status:p.default.PropTypes.string,trigger:p.default.PropTypes.string}},{"../../lib/jquery-cron":401,"../acl/AclUtils.jsx":3,"../acl/WorkspacePermissions":10,"../clusters/Cluster":21,"../clusters/Common.jsx":35,"../delta_receiver/ItemDeltaReceiverView":64,
"../filebrowser/TreeNode":68,"../filetree/FileTree":71,"../filetree/NavFunc.jsx":72,"../forms/ReactFormElements.jsx":81,"../jobs/CronSchedule.jsx":87,"../jobs/ElasticDomUtil":88,"../jobs/ElasticUtil":90,"../jobs/FullElasticJobStatus":91,"../jobs/JobActionElement.jsx":93,"../jobs/JobUtils.jsx":96,"../jobs/ReactJarJobDialog.jsx":99,"../jobs/ReactJobClusterDialog.jsx":100,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/buttons/DeleteButton.jsx":296,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,
"../ui_building_blocks/dialogs/ReactModal.jsx":299,"../ui_building_blocks/dialogs/ReactModalUtils":300,"../ui_building_blocks/icons/IconsForType":304,"../ui_building_blocks/text/InlineEditableText.jsx":316,"../user_platform/BrowserUtils":344,"../user_platform/DateTimeFormats":345,"../validators/EmailValidators":349,jquery:819,lodash:842,react:1001,"react-dom":865,underscore:1021}],98:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=
c(f);f=a("react");var b=c(f);f=a("../delta_receiver/ItemDeltaReceiverView");var k=c(f);f=a("../jobs/FullElasticJobStatus");var d=c(f);f=a("../jobs/FullElasticRunStatus");var n=c(f);f=a("../jobs/JobRunView.jsx");var m=c(f);a=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var q=c(a);a=b.default.createClass({displayName:"LatestJobRunView",propTypes:{job:b.default.PropTypes.instanceOf(d.default).isRequired,hideHeader:b.default.PropTypes.bool,showFailures:b.default.PropTypes.bool,showInProgress:b.default.PropTypes.bool,
modelFetcher:b.default.PropTypes.func,displayMode:b.default.PropTypes.string,dashboardNUID:b.default.PropTypes.string},title:null,markPageAsBeta:!1,runIdShown:null,receiver:null,getDefaultProps:function(){return{hideHeader:!0,showFailures:!1,showInProgress:!1}},getInitialState:function(){var a=this.props.job.get("basicInfo").jobId,b=this.getRunIdToShow(),a=new n.default({jobId:a,runId:b});a.deltaUpdate=!0;return{model:a}},componentWillMount:function(){this.runIdShown=this.getRunIdToShow();this.doModelFetch(this.state.model);
this.receiver=new k.default;this.receiver.startWatching(this.props.job.get("publisherRootId"),d.default);this.receiver.onChange(h.default.bind(this.onChange,this))},onChange:function(){var a=this;if(null===this.receiver.model){var b=this.props.job.get("basicInfo").jobId;q.default.alert("Job not found: "+b,!1,"Jobs Page",function(){location.hash="#joblist"});this.receiver.onChange(function(){})}else{this.setProps({job:this.receiver.model});var c=this.getRunIdToShow();c!==this.runIdShown&&function(){a.currentScrollPos=
(0,e.default)("#content").scrollTop();a.runIdShown=c;var b=new n.default({jobId:a.state.model.get("jobId"),runId:a.runIdShown});b.deltaUpdate=!0;a.doModelFetch(b,{complete:h.default.bind(function(){this.isMounted()?this.setState({model:b}):console.debug("Latest run view unmounted, ignoring fetch update.")},a)})}()}},componentDidUpdate:function(){var a=this;this.currentScrollPos&&function(){var b=a.currentScrollPos;a.currentScrollPos=null;a.delayedScrollTimer=h.default.delay(function(){(0,e.default)("#content").scrollTop(b)},
1E3)}()},componentWillUnmount:function(){clearTimeout(this.delayedScrollTimer);this.props.job.off(null,null,this);this.receiver.remove()},getUpdateInfo:function(){var a="Run "+this.runIdShown,c=Date(this.props.job.get("basicInfo").lastUpdateTime).toString();return b.default.createElement("div",{className:"job-latest-run-info"},b.default.createElement("p",{className:"run-title"},a," / Updated at: ",c))},render:function(){var a=this.props.job.get("basicInfo").jobId;return b.default.createElement(m.default,
{key:this.runIdShown,ref:"jobRunView",model:this.state.model,hideHeader:this.props.hideHeader,displayMode:this.props.displayMode,dashboardNUID:this.props.dashboardNUID,viewBaseUrl:"job/"+a+"/run/latestSuccess"},[this.getUpdateInfo()])},doModelFetch:function(a,b){this.props.modelFetcher?this.props.modelFetcher(a,b):a.fetch(b)},getRunIdToShow:function(){var a=this.props.job.get("history");if(0===a.length)return null;if(this.props.showInProgress)return a[0].idInJob;var b=void 0;for(b in a)if(a.hasOwnProperty(b)){var c=
a[b];if("Succeeded"===c.status||this.props.showFailures&&("Failed"===c.status||"Error"===c.status))return c.idInJob}return a[0].idInJob}});l.exports=a},{"../delta_receiver/ItemDeltaReceiverView":64,"../jobs/FullElasticJobStatus":91,"../jobs/FullElasticRunStatus":92,"../jobs/JobRunView.jsx":95,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,jquery:819,react:1001,underscore:1021}],99:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("react");var h=
c(f);f=a("../forms/ReactDropzone.jsx");var b=c(f);f=a("../forms/ReactFormFooter.jsx");var k=c(f);f=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx");var d=c(f);f=a("../ui_building_blocks/dialogs/ReactModal.jsx");var n=c(f);f=a("../ui_building_blocks/dialogs/ReactModalUtils");var m=c(f);f=a("../ui_building_blocks/icons/IconsForType");var q=c(f);a=a("../urls/DbGuideLinks");var w=c(a),p=h.default.createClass({displayName:"ReactJarJobDialog",propTypes:{editingJar:h.default.PropTypes.bool,job:h.default.PropTypes.object.isRequired,
shouldWarnRestartCluster:h.default.PropTypes.bool,confirm:h.default.PropTypes.func},getDefaultProps:function(){return{editingJar:!1,shouldWarnRestartCluster:!1}},getInitialState:function(){var a=this.props.job.attributes.basicInfo.jobActions[0];return{expandedNotice:!1,mainClass:this.props.editingJar?a.mainClassName:"",parameters:this.props.editingJar?a.parameters:"",runAsNotebook:this.props.editingJar?a.runAsNotebook:!0,dropzoneValid:this.props.editingJar,uploadedPath:this.props.editingJar?"":null,
existingFile:this.props.editingJar,formChanged:!1}},_getNotice:function(){var a=encodeURI(w.default.JAR_JOBS_URL),a=h.default.createElement("div",{className:"expanded-jar-notice"},"Jobs should not create their own Spark Context. Instead, Databricks will create a Spark Context that integrates better with Jobs and enables running JAR jobs on existing clusters.\u00a0",h.default.createElement("a",{className:"jar-notice-learn",href:a,onClick:function(a){a.preventDefault();window.open(a.target.href,"_blank")}},
"Learn more")),b=this.state.expandedNotice?"chevronUp":"chevronDown",c=this.props.shouldWarnRestartCluster?h.default.createElement("div",{className:"jar-dialog-notice"},h.default.createElement("span",{className:"warning-font"},"You must restart the cluster for the new JAR file to be attached to your cluster.")):null;return h.default.createElement("div",null,h.default.createElement("div",{className:"jar-dialog-notice"},h.default.createElement("span",{className:"warning-font"},h.default.createElement("strong",
null,"Notice:\u00a0")),"Uploaded JARs should use a shared SparkContext by calling",h.default.createElement("span",{className:"code-font"}," SparkContext.getOrCreate()"),".",h.default.createElement("i",{className:"fa toggle-jar-notice fa-"+q.default[b],onClick:this._toggleNotice}),this.state.expandedNotice?a:null),c)},_toggleNotice:function(){this.isMounted()&&this.setState({expandedNotice:!this.state.expandedNotice})},_validateDropzone:function(){if(this.refs&&this.refs.dropzone){var a=0<this.refs.dropzone.getDropzone().getUploadingFiles().length,
b=this.refs.dropzone.getDropzone().getAcceptedFiles(),b=this.state.existingFile?!0:1===b.length,a=!a&&b;this.isMounted()&&this.setState({dropzoneValid:a})}},_setPath:function(a){this.isMounted()&&this.setState({uploadedPath:a})},_getDropzone:function(){var a=this,c={url:"/upload/elastic-jar",acceptedFiles:".jar",addRemoveLinks:!0,uploadMultiple:!1,focus:!0,maxFiles:1,dictDefaultMessage:this.props.editingJar?"Replace JAR here":"Drop JAR here to upload",init:function(){this.on("addedfile",function(b){if(1<
(0,e.default)("div.dz-file-preview").length)if(a.props.editingJar&&a.state.existingFile)(0,e.default)((0,e.default)("div.dz-file-preview")[0]).remove();else{var c=void 0;this.files.forEach(function(a){a.name!==b.name&&(c=a)});this.removeFile(c)}a.props.editingJar&&(0,e.default)(".dz-message").show();setTimeout(function(){a._validateDropzone()},10)});this.on("success",function(b,c){console.log("Uploaded JAR",c);a._setPath(c[0].fsPath);a.props.editingJar&&a.isMounted()&&a.setState({existingFile:!1});
a._validateDropzone()});this.on("removedfile",function(){a._setPath(null);a.props.editingJar&&a.isMounted()&&a.setState({existingFile:!1});a._validateDropzone()});this.on("error",function(b,c){var g=this;c===this.options.dictInvalidFileType&&function(){(0,e.default)(".dz-error-message").show();(0,e.default)(".dz-remove").hide();setTimeout(function(){g.removeFile(b)},2E3);a._setPath(null)}();a._validateDropzone()})}},d=null;this.props.editingJar&&(d={name:this.props.job.attributes.basicInfo.jobActions[0].s3JarFile.slice(37),
size:""});return h.default.createElement(b.default,{editing:this.props.editingJar,existingFile:d,options:c,classes:"jar-upload-dropzone",ref:"dropzone"})},_handleInputChange:function(a){if(this.isMounted()){var b={formChanged:!0};b[a.target.name]="checkbox"===a.target.type?!a.target.checked:a.target.value;this.setState(b);this._validateDropzone()}},_getBody:function(){var a=this.props.job.attributes.basicInfo.jobActions[0],b=this.props.editingJar?a.mainClassName:null,a=this.props.editingJar?a.parameters:
null;return h.default.createElement("div",{className:this.props.editingJar?"edit-jar-modal":"set-jar-modal"},this._getNotice(),this._getDropzone(),h.default.createElement("div",{className:"multi-input-row main-class-field","data-row-for":"mainClass"},h.default.createElement("label",null,"Main class"),h.default.createElement("input",{type:"text",required:!0,className:"control-field",name:"mainClass",id:"mainClass",onChange:this._handleInputChange,defaultValue:b})),h.default.createElement("div",{className:"multi-input-row parameters-field",
"data-row-for":"parameters"},h.default.createElement("label",null,"Arguments"),h.default.createElement("input",{type:"text",className:"control-field",id:"parameters",name:"parameters",onChange:this._handleInputChange,defaultValue:a})))},_handleSubmit:function(){if(!this.state.formChanged&&this.state.existingFile)return!1;var a=this.state.mainClass&&/\S/.test(this.state.mainClass);if(null===this.state.uploadedPath&&!a)return!1;a={jobId:this.props.job.attributes.basicInfo.jobId,mainClass:this.state.mainClass,
parameters:this.state.parameters,runAsNotebook:this.state.runAsNotebook};if(!this.props.editingJar||this.props.editingJar&&!this.state.existingFile)a.jarPath=this.state.uploadedPath.substring(this.state.uploadedPath.indexOf("/")+1);e.default.ajax(this.props.editingJar?"/jobs/update-jar-action":"/jobs/set-action",{type:"POST",data:JSON.stringify(a),success:this.props.confirm,error:function(a,b,c){d.default.alert("Request failed: "+c)}})},render:function(){var a=this.state.mainClass&&/\S/.test(this.state.mainClass)&&
this.state.dropzoneValid,b=h.default.createElement("h3",null,this.props.editingJar?"Edit JAR":"Upload JAR to Run"),a=h.default.createElement(k.default,{confirmButton:"OK",confirmDisabled:!a,confirm:this._handleSubmit});return h.default.createElement(n.default,{modalName:"jar-jobs-dialog",header:b,body:this._getBody(),footer:a,classes:this.props.editingJar?"edit-jar-dialog":"set-jar-dialog"})}});p.createDialog=function(a,b,c,d){m.default.createModal(h.default.createElement(p,{editingJar:a,job:b,shouldWarnRestartCluster:c,
confirm:d}))};l.exports=p},{"../forms/ReactDropzone.jsx":80,"../forms/ReactFormFooter.jsx":82,"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../ui_building_blocks/dialogs/ReactModal.jsx":299,"../ui_building_blocks/dialogs/ReactModalUtils":300,"../ui_building_blocks/icons/IconsForType":304,"../urls/DbGuideLinks":320,jquery:819,react:1001}],100:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(f,"__esModule",{value:!0});f.ReactJobClusterDialog=f.ReactClusterBody=
void 0;l=a("underscore");var e=c(l);l=a("react");var h=c(l),b=a("../acl/AclUtils.jsx");l=a("../acl/WorkspacePermissions");var k=c(l);l=a("../clusters/Cluster");var d=c(l),n=a("../clusters/ClusterCreateHeader.jsx"),m=a("../clusters/Common.jsx"),q=a("../clusters/ClusterWorkersInput.jsx"),w=a("../clusters/ClusterCreateView.jsx"),p=a("../clusters/SparkVersionUtils"),r=a("../forms/ReactFormElements.jsx");l=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var t=c(l);l=a("../ui_building_blocks/dialogs/ReactModal.jsx");
var u=c(l);l=a("../ui_building_blocks/dialogs/ReactModalUtils");var y=c(l),A=a("../ui_building_blocks/Tooltip.jsx");a("../../lib/bootstrap");var g=f.ReactClusterBody=h.default.createClass({displayName:"ReactClusterBody",propTypes:{basicInfo:h.default.PropTypes.object.isRequired,clusters:h.default.PropTypes.array.isRequired,confirmOnEnter:h.default.PropTypes.func.isRequired,enableVersionUI:h.default.PropTypes.bool.isRequired,enableCustomVersionUI:h.default.PropTypes.bool.isRequired,initialClusterType:h.default.PropTypes.string.isRequired,
restrictedClusterCreation:h.default.PropTypes.bool,setCreateSummary:h.default.PropTypes.func,setParentWorkersValid:h.default.PropTypes.func.isRequired,setParentClusterType:h.default.PropTypes.func.isRequired,showExistingClusterDropdown:h.default.PropTypes.bool,toggleClusterCreateButton:h.default.PropTypes.func,zoneInfos:h.default.PropTypes.array.isRequired},getInitialState:function(){var a=this._getDefaultClusterId();return{clusterType:this.props.initialClusterType,cluster:a,initialCluster:a,hasCreateClusterPerms:!0,
showSpinner:!1}},componentDidMount:function(){b.AclUtils.clusterAclsEnabled()&&this.fetchClusterCreatePermissions()},fetchClusterCreatePermissions:function(){var a=this;d.default.ROOT.fetchPermissionLevel(function(){a.setState({hasCreateClusterPerms:d.default.ROOT.canCreateClusters()})})},getDefaultProps:function(){return{showExistingClusterDropdown:!0}},setClusterTypeState:function(){var a=this.refs.clusterType.value();this.setState({clusterType:a});this.props.setParentClusterType(a)},_toggleClusterCreateButton:function(){var a=
this.getChosenExistingCluster();this.setState({cluster:a});this.props.toggleClusterCreateButton(a!==this.state.initialCluster&&"no_appropriate_cluster"!==a)},_clusterSelector:function(){if(0===this.props.clusters.length)return h.default.createElement("div",{className:"cluster-selector"},h.default.createElement(r.Select,{ref:"existingCluster",selectID:"existingCluster",selectClassName:"control-field cluster-dialog-element",options:[{label:"No existing clusters.",disabled:!0}]}));var a=this._getDefaultClusterId(),
b=this._getOptionsList(a);this.state.cluster===this.state.initialCluster&&"no_appropriate_cluster"===this.state.cluster&&this.props.toggleClusterCreateButton(!1);return h.default.createElement("div",{className:"cluster-selector"},h.default.createElement(r.Select,{ref:"existingCluster",selectID:"existingCluster",selectClassName:"control-field cluster-dialog-element",options:b,onChange:this._toggleClusterCreateButton,confirm:this.props.confirmOnEnter,defaultValue:a}))},_getOptionsList:function(a){var c=
[];"no_appropriate_cluster"===a&&c.push({label:"-",value:"no_appropriate_cluster",disabled:!1});this.props.clusters.forEach(function(a){c.push({label:a.shortDescription(),value:a.get("clusterId"),disabled:b.AclUtils.clusterAclsEnabled()?!a.canAttach():!1})});return c},_getDefaultClusterId:function(){var a="no_appropriate_cluster";if(this.props.basicInfo.resources.clusterId&&(a=this.props.basicInfo.resources.clusterId,b.AclUtils.clusterAclsEnabled())){var c=this._getPreviouslySetCluster();c&&c.canAttach()||
(a="no_appropriate_cluster")}this.props.clusters.some(function(b){return b.get("clusterId")===a})||(a="no_appropriate_cluster");return a},_getPreviouslySetCluster:function(){var a=this;return e.default.find(this.props.clusters,function(b){return b.get("clusterId")===a.props.basicInfo.resources.clusterId})},isClusterType:function(a){return this.refs.clusterType.value()===a},getChosenExistingCluster:function(){return this.refs.existingCluster.value()},collectClusterCreateParams:function(){var a=this.jobCreateClusterView.collect();
a.clusterId=null;a.jobId=this.props.basicInfo.jobId;a.newClusterNumWorkers=a.numWorkers;a.nodeType=a.nodeTypeId;a.runOnNewCluster=!0;a.useSpot=a.useSpotInstance;delete a.useSpotInstance;delete a.clusterName;delete a.numWorkers;delete a.nodeTypeId;return a},startSpinner:function(){this.setState({showSpinner:!0})},stopSpinner:function(){this.setState({showSpinner:!1})},createClusterForJob:function(){this.startSpinner();var a=function(){this.stopSpinner();y.default.destroyModal()}.bind(this),b=function(a,
b,c){this.stopSpinner();t.default.alert("Could not create cluster for job: "+c)}.bind(this);m.ClusterUtil.createClusterForJob(this.collectClusterCreateParams(),a,b)},_chooseDialogBody:function(){return"existing"===this.state.clusterType?this._renderExistingClusterDialogBody():h.default.createElement("div",{className:"create-cluster"},this._renderClusterCreateView())},_renderExistingClusterDialogBody:function(){return h.default.createElement("div",{className:"multi-input-row select-cluster-field",
"data-row-for":"clusterType"},h.default.createElement("div",null,h.default.createElement("label",{className:"unclickable cluster-dialog-label"},"Select Cluster"),this._clusterSelector()),h.default.createElement("div",{className:"dialog-tip"},h.default.createElement("p",null,"Please note that when running jobs on an existing cluster, you may need to manually restart the cluster if it stops responding. We suggest running jobs on new clusters for greater reliability."),h.default.createElement("p",null,
m.ClusterUtil.reuseExistingInstancesTip())))},_getClusterInstanceType:function(a){return a.useSpot?0<a.firstOnDemand?q.ClusterWorkersInput.INSTANCE_MIXED:q.ClusterWorkersInput.INSTANCE_SPOT:q.ClusterWorkersInput.INSTANCE_ONDEMAND},_jobCreateClusterViewRef:function(a){this.jobCreateClusterView=a},_shouldRenderTags:function(){return window.settings.enableClusterTagsUI&&window.settings.enableClusterTagsUIForJobs&&!this.props.restrictedClusterCreation},_shouldRenderSsh:function(){return window.settings.enableSshKeyUI&&
window.settings.enableSshKeyUIInJobs&&!this.props.restrictedClusterCreation},_shouldShowEBSVolumes:function(){return window.settings.enableEBSVolumesUI&&!this.props.restrictedClusterCreation&&window.settings.enableEBSVolumesUIForJobs},_shouldShowInstanceProfiles:function(){return window.settings.enableInstanceProfilesUI&&!this.props.restrictedClusterCreation&&window.settings.enableInstanceProfilesUIInJobs},_getDefaultEBSVolumeType:function(a){return a.ebsVolumeSize&&a.ebsVolumeCount?a.ebsVolumeType:
null},_renderClusterCreateView:function(){var a=this.props.basicInfo.resources,b={firstOnDemand:a.firstOnDemand,defaultSparkVersionKey:a.sparkVersion,instanceType:this._getClusterInstanceType(a),spotBidPricePercent:a.spotBidPricePercent,minWorkers:a.minWorkers,maxWorkers:a.maxWorkers,ebsVolumeType:this._getDefaultEBSVolumeType(a),ebsVolumeCount:a.ebsVolumeCount?a.ebsVolumeCount:null,ebsVolumeSize:a.ebsVolumeSize?a.ebsVolumeSize:null,instanceProfileArn:a.instanceProfileArn,useSpotForWorkers:a.useSpot,
customTags:a.customTags};return h.default.createElement(w.ClusterCreateView,{ref:this._jobCreateClusterViewRef,configureDefaults:b,clusters:window.clusterList,defaultCoresPerContainer:window.settings.defaultCoresPerContainer,defaultNumWorkers:a.newClusterNumWorkers,defaultNodeType:a.nodeTypeId?a.nodeTypeId.id:window.settings.nodeInfo.default_node_type_id,defaultDriverNodeTypeId:a.driverNodeTypeId?a.driverNodeTypeId.id:window.settings.nodeInfo.default_node_type_id,defaultSparkVersion:window.settings.defaultSparkVersion,
defaultZoneId:a.zoneId?a.zoneId:window.settings.defaultZoneId,enableClusterName:!1,showAutoScaleCheckbox:window.settings.enableClusterAutoScaling&&window.settings.enableClusterAutoScalingForJobs||!1,enableAutoScale:window.settings.enableClusterAutoScaling,enableHybridClusterType:window.settings.enableHybridClusterType,enableCustomSparkVersions:window.prefs.get("enableCustomSparkVersions"),enableSparkVersionsUI:window.settings.enableSparkVersionsUI,fallbackToOndemand:a.fallbackToOndemand,hideMissingSparkPackageWarning:window.settings.hideMissingSparkPackageWarning,
nodeTypes:window.settings.nodeInfo.node_types,onChange:this.props.setCreateSummary,restrictedClusterCreation:this.props.restrictedClusterCreation,showHiddenSparkVersions:window.settings.showHiddenSparkVersions,sparkConf:a.sparkConf,sparkVersions:window.settings.sparkVersions,toggleClusterCreateButton:this.props.toggleClusterCreateButton,zoneInfos:this.props.zoneInfos,renderSsh:this._shouldRenderSsh(),renderTags:this._shouldRenderTags(),showEBSVolumes:this._shouldShowEBSVolumes(),showInstanceProfiles:this._shouldShowInstanceProfiles()})},
focus:function(){this.refs.form&&!this.props.restrictedClusterCreation&&this.refs.form.refs.workerInput.focus()},getAclsWarning:function(){return h.default.createElement("span",{className:"no-create-perms-tooltip"},h.default.createElement(A.Tooltip,{ref:"clusterCreateWarning",text:k.default.JOB_CREATE_CLUSTER_WARNING,customPosition:{contentLeft:"0"}},h.default.createElement("i",{className:"fa fa-exclamation-circle state-message-icon"})))},render:function(){var a=this.props.basicInfo.resources.runOnNewCluster?
"new":"existing",b=[{label:"New Cluster",value:"new"},{label:"Existing Cluster",value:"existing"}],c=this.props.basicInfo.jobActions[0];c&&!c.notebookPath&&(c.runAsNotebook||(b=[{label:"New Cluster",value:"new"}]));this.props.showExistingClusterDropdown||(b=[{label:"New Cluster",value:"new"}],a="new");c=h.default.createElement("img",{className:"load-spinner",src:"../img/spinner.svg"});return h.default.createElement("div",null,this.state.showSpinner?c:null,h.default.createElement("div",{className:"multi-input-row",
"data-row-for":"clusterType"},h.default.createElement("div",{className:"cluster-type-select-wrapper"},h.default.createElement("label",{className:"unclickable cluster-dialog-label cluster-create-label"},"Cluster Type",this.state.hasCreateClusterPerms?null:this.getAclsWarning()),h.default.createElement("div",{className:"cluster-type-select"},h.default.createElement(r.Select,{ref:"clusterType",selectID:"clusterType",selectClassName:"control-field cluster-dialog-element",defaultValue:a,onChange:this.setClusterTypeState,
confirm:this.props.confirmOnEnter,options:b})))),this._chooseDialogBody())}});f.ReactJobClusterDialog=h.default.createClass({displayName:"ReactJobClusterDialog",propTypes:{basicInfo:h.default.PropTypes.object.isRequired,clusters:h.default.PropTypes.array.isRequired,setNewCluster:h.default.PropTypes.func.isRequired,setExistingCluster:h.default.PropTypes.func.isRequired,enableVersionUI:h.default.PropTypes.bool.isRequired,enableCustomVersionUI:h.default.PropTypes.bool.isRequired,zoneInfos:h.default.PropTypes.array.isRequired,
restrictedClusterCreation:h.default.PropTypes.bool},getInitialState:function(){var a=this.props.basicInfo.resources,b=a.nodeTypeId?a.nodeTypeId.id:window.settings.nodeInfo.default_node_type_id,c=a.driverNodeTypeId?a.driverNodeTypeId.id:window.settings.nodeInfo.default_node_type_id,g=a.newClusterNumWorkers+a.minWorkers,a=a.maxWorkers;return{clusterType:this._getInitialClusterType(),cluster:0<this.props.clusters.length?this.props.clusters[0].get("clusterId"):"",numWorkers:g,autoScaleMaxWorkers:a,workers:8,
nodeTypeId:b,driverNodeTypeId:c,version:this.props.basicInfo.resources.sparkVersion,useSpot:!0,fallBack:!0,clusterCreateBtnDisabled:!0,workersValid:!0}},_getInitialClusterType:function(){return this._shouldShowExistingClusterDropdown()?this.props.basicInfo.resources.runOnNewCluster?"new":"existing":"new"},_shouldShowExistingClusterDropdown:function(){return b.AclUtils.clusterAclsEnabled()?!!e.default.find(this.props.clusters,function(a){return a.canAttach()}):!0},confirmOnEnter:function(a){var b=
0===this.props.clusters.length,c=!this.state.workersValid,b="existing"===this.refs.body.state.clusterType?b:c;13!==a.which||b||(this.confirm(a),y.default.destroyModal())},_userChoseExistingCluster:function(){return this.refs.body.isClusterType("existing")},_setExistingCluster:function(a,b){this.props.setExistingCluster(a,this.refs.body.getChosenExistingCluster(),b)},confirm:function(a){if(this._userChoseExistingCluster())this._setExistingCluster(a,null);else{p.SparkVersionUtils.setDefaultSparkVersion(this.refs.body.refs.form.state.version);
var b=this.refs.body.refs.form.refs.advancedSettings;a=b&&b.getZoneId();b=b&&b.getSparkConf()||{};this.props.setNewCluster(this.refs.body.refs.form.state.version,this.refs.body.refs.form.refs.workerInput.value(),this.refs.body.refs.form.refs.clusterUseSpot.checked(),this.refs.body.refs.form.refs.clusterFallBack.checked(),a,b)}},setWorkersValidState:function(a){this.setState({workersValid:a,clusterCreateBtnDisabled:!1})},_setClusterTypeState:function(a){this.setState({clusterType:a,clusterCreateBtnDisabled:!1})},
componentDidMount:function(){this.refs.body.focus()},_confirmConfigureCluster:function(a){var b=y.default.destroyModal;this._userChoseExistingCluster()?this._setExistingCluster(a,b):this.refs.body.createClusterForJob()},_toggleClusterCreateButton:function(a){this.isMounted()&&a===this.state.clusterCreateBtnDisabled&&this.setState({clusterCreateBtnDisabled:!a})},_getSubmitButtonState:function(){return this.state.clusterCreateBtnDisabled||!this.state.workersValid?n.ClusterCreateHeader.submitDisabled:
n.ClusterCreateHeader.submitEnabled},_getHeader:function(){return h.default.createElement(n.ClusterCreateHeader,{headerText:"Configure Cluster",onSubmit:this._confirmConfigureCluster,onCancel:y.default.destroyModal,showCreateSummary:"new"===this.state.clusterType,submitText:"Confirm",submitState:this._getSubmitButtonState(),numWorkers:this.state.numWorkers,maxWorkers:this.state.autoScaleMaxWorkers,nodeTypeId:this.state.nodeTypeId,driverNodeTypeId:this.state.driverNodeTypeId,nodeTypes:window.settings.nodeInfo.node_types})},
_setCreateSummary:function(a){var b=a.workers+a.spotWorkers,c=0;a.showAutoScaleInputs&&(c=a.autoScaleMaxWorkers+a.autoScaleMaxSpotWorkers,a.mixedAutoScaleMinWorkers&&(b=a.mixedAutoScaleMinWorkers));this.setState({numWorkers:b,autoScaleMaxWorkers:c,nodeTypeId:a.nodeTypeId,driverNodeTypeId:a.driverNodeTypeId})},render:function(){var a=h.default.createElement(g,{ref:"body",basicInfo:this.props.basicInfo,clusters:this.props.clusters,confirmOnEnter:this.confirmOnEnter,enableVersionUI:this.props.enableVersionUI,
enableCustomVersionUI:this.props.enableCustomVersionUI,initialClusterType:this.state.clusterType,showExistingClusterDropdown:this._shouldShowExistingClusterDropdown(),setCreateSummary:this._setCreateSummary,setParentWorkersValid:this.setWorkersValidState,setParentClusterType:this._setClusterTypeState,toggleClusterCreateButton:this._toggleClusterCreateButton,zoneInfos:this.props.zoneInfos,restrictedClusterCreation:this.props.restrictedClusterCreation});return h.default.createElement(u.default,{classes:"dialog-set-cluster",
modalName:"job-cluster-dialog enable-hybrid-clusters",header:this._getHeader(),body:a,footer:null})}})},{"../../lib/bootstrap":383,"../acl/AclUtils.jsx":3,"../acl/WorkspacePermissions":10,"../clusters/Cluster":21,"../clusters/ClusterCreateHeader.jsx":23,"../clusters/ClusterCreateView.jsx":25,"../clusters/ClusterWorkersInput.jsx":34,"../clusters/Common.jsx":35,"../clusters/SparkVersionUtils":50,"../forms/ReactFormElements.jsx":81,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,
"../ui_building_blocks/dialogs/ReactModal.jsx":299,"../ui_building_blocks/dialogs/ReactModalUtils":300,react:1001,underscore:1021}],101:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("../notebook/ReactNotebookCommandListView.jsx");var h=c(f);f=a("../notebook/ReactNotebookListenerMixin.jsx");f=c(f);a=a("../notebook/NotebookModel");a=c(a);a=e.default.createClass({displayName:"ReactNotebookCommandListeningListView",propTypes:{notebook:e.default.PropTypes.instanceOf(a.default).isRequired,
resultsOnly:e.default.PropTypes.bool,isLocked:e.default.PropTypes.bool,showLastDivider:e.default.PropTypes.bool,showSubmitHint:e.default.PropTypes.bool},componentWillReceiveProps:function(a){this.props.notebook!==a.notebook&&this.setState({notebookToRender:a.notebook})},getInitialState:function(){return{notebookToRender:this.props.notebook}},mixins:[f.default],render:function(){return e.default.createElement(h.default,{notebook:this.props.notebook,isLocked:this.props.isLocked,showLastDivider:this.props.showLastDivider,
showSubmitHint:this.props.showSubmitHint,resultsOnly:this.props.resultsOnly})}});l.exports=a},{"../notebook/NotebookModel":178,"../notebook/ReactNotebookCommandListView.jsx":185,"../notebook/ReactNotebookListenerMixin.jsx":187,react:1001}],102:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.ArrayUtils=void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var k=c[b];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(a,
k.key,k)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("lodash"))&&a.__esModule?a:{default:a};f.ArrayUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"argmax",value:function(a,c){for(var b=null,k=null,h=0;h<a.length;h+=1){var q=c(a[h]);if(e.default.isNull(b)||q>b)b=q,k=a[h]}return k}}]);return a}()},{lodash:842}],103:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});var c=function(){function a(a,
c){for(var b=0;b<c.length;b++){var k=c[b];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(a,k.key,k)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=function(){};f.Console=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"polyfillWindow",value:function(a){a.console||(a.console={});a.console.log=a.console.log||e;a.console.debug=a.console.debug||a.console.log;
a.console.warn=a.console.warn||a.console.log;a.console.error=a.console.error||a.console.log;a.console.info=a.console.info||a.console.log}}]);return a}()},{}],104:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,k){b&&a(c.prototype,b);k&&a(c,k);return c}}();f.NumberUtils=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"isSimpleInteger",value:function(a){return!isNaN(a)&&String(parseInt(a,10))===String(a)}}]);return a}()},{}],105:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},e=function(){function a(a,c){for(var b=0;b<c.length;b++){var k=
c[b];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(a,k.key,k)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();f.ObjectUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}e(a,null,[{key:"deepIncludesString",value:function(b,k,d){if(void 0===b||null===b||-1===d)return!1;if("object"===("undefined"===typeof b?"undefined":c(b))){var h=function(){var c=void 0!==d?d-1:void 0;
if(Array.isArray(b))return{v:b.some(function(b){return a.deepIncludesString(b,k,c)})};var h=void 0;for(h in b)if(b.hasOwnProperty(h)&&a.deepIncludesString(b[h],k,c))return{v:!0};return{v:!1}}();if("object"===("undefined"===typeof h?"undefined":c(h)))return h.v}return-1!==b.toString().indexOf(k)}}]);return a}()},{}],106:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.TimingUtils=void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var k=c[b];k.enumerable=k.enumerable||
!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(a,k.key,k)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("underscore"))&&a.__esModule?a:{default:a};f.TimingUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"retryUntil",value:function(b){if(b.condition())b.success&&b.success();else if(0<b.maxAttempts){var c=e.default.clone(b);--c.maxAttempts;e.default.delay(a.retryUntil,
b.interval,c)}else b.error&&b.error()}}]);return a}()},{underscore:1021}],107:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});
f.LibraryClusterRow=void 0;var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("underscore");var k=c(l);l=a("react");
var d=c(l),n=a("../clusters/Common.jsx");l=a("../ui_building_blocks/icons/IconsForType");l=c(l);var m=a("../ui_building_blocks/Tooltip.jsx"),q=d.default.createElement("i",{className:"fa fa-"+l.default.warning});(f.LibraryClusterRow=function(a){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a=(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!a||"object"!==typeof a&&"function"!==typeof a?this:a}e(c,a);b(c,[{key:"renderCheckbox",value:function(){var a=this;if(this.props.autoAttach)return d.default.createElement("em",null,"Always attached");var b=d.default.createElement("input",{ref:function(b){return a.checkbox=b},type:"checkbox",disabled:!this.props.hasAttachPermissions,className:"cluster-attach",checked:this.props.shouldAttach,onChange:this.props.handleClusterAttachChange}),c=d.default.createElement(m.Tooltip,{ref:function(b){return a.tooltip=
b},text:"You do not have permissions to attach to this cluster. Please contact your administrator.",customPosition:{contentLeft:"1px"}},b);return this.props.hasAttachPermissions?b:c}},{key:"render",value:function(){var a=this.props.autoAttach||this.props.shouldAttach,b=this.getShortClusterStatus(a,this.props.status),c=this.getClusterStatus(a,this.props.status),a=this.getClusterStatusIcon(a,this.props.status),k=n.ClusterUtil.getDetailsLinks(this.props.clusterId);return d.default.createElement("tr",
{key:this.props.clusterId,className:this.props.hasAttachPermissions?null:"no-attach-row","data-cluster-name":this.props.clusterName,"data-cluster-status":b},d.default.createElement("td",{className:"attach-checkbox"},this.renderCheckbox()),d.default.createElement("td",null,d.default.createElement("a",{href:k.libraries},this.props.clusterName)),d.default.createElement("td",null,a,c))}},{key:"getShortClusterStatus",value:function(a,b){a=this.getClusterStatus(a,b).toLowerCase();return 0<=a.indexOf("error")?
"error":a}},{key:"getClusterStatus",value:function(a,b){var c=b?b.status:void 0,d=b?b.alarms:[];return"error"===c&&(b=function(){var a="Error";k.default.each(d,function(b){a=a+": "+b});return{v:a}}(),"object"===("undefined"===typeof b?"undefined":h(b)))?b.v:!0===a?"loaded"===c?"Attached":"Attaching":!1===a?c?"Detach pending a cluster restart":"Detached":"Unknown"}},{key:"getClusterStatusIcon",value:function(a,b){b=b?b.status:void 0;return!a&&b?d.default.createElement("span",{className:"cell-icon-left-of-text"},
q):null}}]);return c}(d.default.Component)).propTypes={libraryId:d.default.PropTypes.number.isRequired,clusterName:d.default.PropTypes.string.isRequired,sparkContextId:d.default.PropTypes.string.isRequired,clusterId:d.default.PropTypes.string.isRequired,shouldAttach:d.default.PropTypes.bool.isRequired,hasAttachPermissions:d.default.PropTypes.bool.isRequired,handleClusterAttachChange:d.default.PropTypes.func.isRequired,status:d.default.PropTypes.object,autoAttach:d.default.PropTypes.bool}},{"../clusters/Common.jsx":35,
"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/icons/IconsForType":304,react:1001,underscore:1021}],108:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("backbone");f=c(f);var b=a("../forms/DropzoneUtils"),k=a("../filetree/NavFunc.jsx"),d=c(k),n=a("../libraries/Upload.jsx"),k=a("../templates/libraryCreate.html"),m=c(k);a=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var q=c(a);a=f.default.View.extend({initialize:function(a){this.options=
a||{parentId:0};this.parentId=this.options.parentId||0;this.jarFiles={};this.name="Create Library";this.dropzoneJarFiles=null},render:function(){this.$el.html(m.default);this.$el.attr("class","library-import");this.enableOrDisableSubmission();this.renderDropzone()},renderDropzone:function(){var a=this;this.$("div.dropzoneJarFiles").append('<div class="dropzone"/>');var c=this.$("div.dropzoneJarFiles div.dropzone");a.dropzoneJarFiles=b.DropzoneUtils.installDropzone(c,{url:"/upload/library",uploadMultiple:!1,
maxFiles:1,acceptedFiles:".jar",addRemoveLinks:!0,maxFilesize:window.settings.dropzoneMaxFileSize,dictDefaultMessage:"Drop library JAR here to upload",init:function(){this.on("success",function(b,c){a.jarFiles[b.name]=c[0].fileStoreName;a.setLibraryNameIfEmpty(b.name);a.enableOrDisableSubmission()});this.on("maxfilesexceeded",function(){q.default.alert("You can upload only one JAR file.",!1,"OK")});this.on("removedfile",function(b){delete a.jarFiles[b.name];a.enableOrDisableSubmission()});this.on("error",
function(a,b){n.UploadErrorHandlers.defaultHandler(this,a,b)})}},!1);var d=this.$("div.dropzoneJarFiles div.dropzone form");d&&d.submit(function(){var b=(0,e.default)(this).attr("action"),c=d.get(0),c=new FormData(c);e.default.ajax({url:b,type:"POST",data:c,success:function(b){h.default.forEach(b,function(b){a.jarFiles[b.name]=b.fileStoreName});a.enableOrDisableSubmission()},error:function(b){console.log("renderDropZone","error",b);a.enableOrDisableSubmission()},contentType:!1,processData:!1});return!1})},
enableOrDisableSubmission:function(){var a=this.$(".field_library_name").val();null===a||""===a||0===h.default.size(this.jarFiles)?this.$(".submit-create-library").attr("disabled","disabled"):this.$(".submit-create-library").removeAttr("disabled")},setLibraryNameIfEmpty:function(a){var b=this.$(".field_library_name").val();null!==b&&""!==b.trim()||this.$(".field_library_name").val(a)},events:{"input .field_library_name":"enableOrDisableSubmission","click .submit-create-library":"onSubmit","change .source":"switchLibraryView"},
switchLibraryView:function(){var a=document.getElementById("lib-selector"),a=a.options[a.selectedIndex].value;d.default.removeView(this);"python"===a?window.router.navigate("create/pythonLibrary/"+this.parentId,{trigger:!0}):"maven"===a&&window.router.navigate("create/mavenLibrary/"+this.parentId,{trigger:!0})},onSubmit:function(){var a=this,b=this.$(".field_library_name").val(),c="";h.default.forEach(this.jarFiles,function(a){c=a});c?e.default.ajax("/libraries/create",{contentType:"application/json; charset=UTF-8",
type:"POST",data:JSON.stringify({name:b,file:c,parentId:this.parentId,libraryType:"java-jar",autoAttach:!1}),success:function(b){d.default.removeView(a,!1);var c=b.id;c?window.router.navigate("#/library/"+c,{trigger:!0}):(console.error("LibraryCreateView","onSubmit","success",b),window.router.navigate("",{trigger:!0}))},error:function(b){a.$(".library-create-message").html(b.statusText)}}):q.default.alert("You did not upload any file.",!1,"OK")}});l.exports=a},{"../filetree/NavFunc.jsx":72,"../forms/DropzoneUtils":76,
"../libraries/Upload.jsx":113,"../templates/libraryCreate.html":281,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,backbone:407,jquery:819,underscore:1021}],109:[function(a,l,f){function c(a){var b=a.libraryType;a=a.files;if(!a)return e.default.createElement("div",null);var c="python-pypi"===b,d="maven"===b,h="java-jar"===b,b=a.map(function(a){var b;b=c?"https://pypi.python.org/pypi/"+a:d?"/files/jars/maven/"+a.replace("#","-"):0===a.indexOf("jars/")?"/files/"+a:"/files/jars/"+a;var k=a;
h?(k=a.split("-"),k=2===k.length?k[k.length-1]:k[k.length-2]+".jar"):d&&(k=a.split("/"),k=k[k.length-1].replace("#","-"));return e.default.createElement("div",{key:a},e.default.createElement("a",{className:"file",href:b},k))});return e.default.createElement("div",null,e.default.createElement("h3",null,d?"Artifacts":c?"PyPI rules":"Files"),b)}Object.defineProperty(f,"__esModule",{value:!0});f.LibraryFiles=c;var e=(a=a("react"))&&a.__esModule?a:{default:a};c.propTypes={libraryType:e.default.PropTypes.string.isRequired,
files:e.default.PropTypes.array.isRequired}},{react:1001}],110:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.LibraryView=
void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(b,c,g){c&&a(b.prototype,c);g&&a(b,g);return b}}();l=a("jquery");var b=c(l);l=a("underscore");var k=c(l);l=a("react");var d=c(l),n=a("../acl/AclUtils.jsx");l=a("../clusters/Cluster");var m=c(l);l=a("../clusters/ClusterList");l=c(l);var q=a("../filetree/NavFunc.jsx"),w=c(q),p=a("../filetree/DeleteNodeCallbacks"),
r=a("../libraries/LibraryClusterRow.jsx"),t=a("../libraries/LibraryFiles.jsx"),u=a("../ui_building_blocks/buttons/DeleteButton.jsx"),q=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx"),y=c(q),A=a("../ui_building_blocks/text/AlertMessages.jsx"),g=a("../ui_building_blocks/Tooltip.jsx");(f.LibraryView=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.state={canAutoAttach:!0,deleted:!1};return a}e(c,a);h(c,[{key:"componentDidMount",value:function(){this.getPermissions();this.props.model.on("add change remove reset",this.forceUpdate.bind(this,null),this);this.props.clusters.on("add change remove reset",this.forceUpdate.bind(this,null),this)}},{key:"componentWillUnmount",value:function(){this.props.clusters.off(null,null,this);this.props.model.off(null,null,this)}},{key:"getPermissions",value:function(){var a=
this;n.AclUtils.clusterAclsEnabled()&&(this.props.clusters.forEach(function(a){a.fetchPermissions(function(){console.debug("success fetching individual cluster permissions")})}),m.default.ROOT.fetchPermissions(function(){a.setState({canAutoAttach:m.default.ROOT.canManage()})}))}},{key:"getAutoAttachState",value:function(){return this.getClusterAttachState("__ALL_CLUSTERS",!0)}},{key:"sendClusterAttachState",value:function(a,c,g){b.default.ajax("/libraries/"+a,{type:"POST",contentType:"application/json; charset=UTF-8",
data:JSON.stringify(g?{attach:[c],detach:[]}:{attach:[],detach:[c]})})}},{key:"handleAutoAttachClick",value:function(){var a=this;this.getAutoAttachState()?y.default.confirm({message:"Are you sure you want to detach this library from all clusters and stop it from being automatically attached to new clusters?",confirm:function(){a.handleClusterAttachChange("__ALL_CLUSTERS")}}):y.default.confirm({message:"Are you sure you want to automatically attach this library to all running and future clusters?",
confirm:function(){a.handleClusterAttachChange("__ALL_CLUSTERS")}})}},{key:"getClusterAttachState",value:function(a,b){b=void 0===b?!1:b;var c=this.props.model.attributes;c.clusterAttachAction||this.props.model.set({clusterAttachAction:{}});return void 0!==c.clusterAttachAction[a]?c.clusterAttachAction[a]:b}},{key:"setClusterAttachState",value:function(a,b){var c=this.props.model.attributes,c=k.default.extend({},c.clusterAttachAction?c.clusterAttachAction:{});c[a]=b;this.props.model.set({clusterAttachAction:c})}},
{key:"handleClusterAttachChange",value:function(a){var b=this.props.model.attributes,c=!b.clusterAttachAction[a];this.sendClusterAttachState(b.id,a,c);this.setClusterAttachState(a,c)}},{key:"getDeletionComponent",value:function(){var a=this;if(this.state.deleted)return d.default.createElement(A.SuccessMessage,{message:"This library has been successfully deleted."});var b=this.props.model,c=p.DeleteNodeCallbacks.getLibraryCallback(b,function(){return a.setState({deleted:!0})});return d.default.createElement("span",
null,d.default.createElement("span",{className:"header-separator"},"|"),d.default.createElement(u.DeleteButton,{onClick:function(){return w.default.deleteNode(b.get("id"),b,0,c)}}))}},{key:"renderHeader",value:function(){return d.default.createElement("h2",{className:"library-header"},d.default.createElement("span",{className:this.state.deleted?"width-ignored":""},this.props.model.attributes.name),this.getDeletionComponent())}},{key:"render",value:function(){var a=this,b=this.props.model.attributes,
c=this.getAutoAttachState(),k=this.state.canAutoAttach,m=function(b){return a.autoAttachTooltip=b},c=d.default.createElement("input",{ref:function(b){return a.autoAttachCheckbox=b},type:"checkbox",disabled:!k,className:"auto-attach",checked:c,onClick:function(){return a.handleAutoAttachClick()}});k||(c=d.default.createElement(g.Tooltip,{ref:m,text:"You do not have auto attach permissions on clusters.",customPosition:{contentLeft:"-3px"}},c));return d.default.createElement("div",{className:"library-view"},
this.renderHeader(),d.default.createElement(t.LibraryFiles,{libraryType:b.libraryType,files:b.files}),d.default.createElement("h3",null,"Clusters"),d.default.createElement("div",{className:"auto-attach-container"},c,d.default.createElement("span",{className:k?null:"no-auto-attach"},"Attach automatically to all clusters.")),this.renderClusterListStatus(b))}},{key:"renderClusterRow",value:function(a,b){var c=a.get("clusterId"),g=k.default.find(a.get("libraries"),function(a){return a.id===b}),g=g?g.clusterStatus:
null,m=function(){this.handleClusterAttachChange(c)}.bind(this);return d.default.createElement(r.LibraryClusterRow,{ref:"row-"+c,key:c,clusterId:c,libraryId:b,clusterName:a.get("clusterName"),sparkContextId:a.get("sparkContextId"),shouldAttach:this.getClusterAttachState(c),hasAttachPermissions:n.AclUtils.clusterAclsEnabled()?a.canManage():!0,status:g,autoAttach:this.getAutoAttachState(),handleClusterAttachChange:m})}},{key:"renderClusterListStatus",value:function(a){var b=this,c=this.props.clusters.activeClusters().filter(function(a){return!a.isElasticSparkCluster()}).map(function(c){return b.renderClusterRow(c,
a.id)});return d.default.createElement("table",{className:"table table-bordered-outer"},d.default.createElement("thead",null,d.default.createElement("tr",null,d.default.createElement("th",{className:"span1"},"Attach"),d.default.createElement("th",{className:"span2"},"Name"),d.default.createElement("th",{className:"span2"},"Status"))),d.default.createElement("tbody",null,c))}}]);return c}(d.default.Component)).propTypes={model:d.default.PropTypes.object.isRequired,clusters:d.default.PropTypes.instanceOf(l.default).isRequired}},
{"../acl/AclUtils.jsx":3,"../clusters/Cluster":21,"../clusters/ClusterList":32,"../filetree/DeleteNodeCallbacks":70,"../filetree/NavFunc.jsx":72,"../libraries/LibraryClusterRow.jsx":107,"../libraries/LibraryFiles.jsx":109,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/buttons/DeleteButton.jsx":296,"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../ui_building_blocks/text/AlertMessages.jsx":315,jquery:819,react:1001,underscore:1021}],111:[function(a,l,f){function c(a){return a&&
a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("react");var h=c(f);f=a("backbone");f=c(f);var b=a("../filetree/NavFunc.jsx"),k=c(b),b=a("../libraries/search/MavenPackageList"),d=c(b),b=a("../libraries/search/PackageBrowseModalView.jsx"),n=c(b),b=a("../libraries/search/SparkPackageList"),m=c(b),b=a("../templates/mavenLibraryCreate.html"),q=c(b),b=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),w=c(b);a=a("../ui_building_blocks/dialogs/ReactModalUtils");var p=c(a);a=f.default.View.extend({initialize:function(a){this.options=
a||{};this.name="Create Library";this.makingAjaxCall=!1;this.parentId=this.options.parentId||0},render:function(){this.$el.html(q.default);this.$el.attr("class","library-import");this.enableOrDisableSubmission()},enableOrDisableSubmission:function(){if(!this.makingAjaxCall){var a=this.$(".maven_library_name").val();null===a||""===a||3!==a.split(":").length?this.$(".submit-create-library").attr("disabled","disabled"):this.$(".submit-create-library").removeAttr("disabled")}},events:{"input .maven_library_name":"enableOrDisableSubmission",
"keyup .maven_library_name":"queryMavenCentral","click .submit-create-library":"onSubmit","click .open-package-browse":"openPackageBrowser","click .advanced-pointer":"renderCollapse","change .source":"switchLibraryView"},queryMavenCentral:function(){var a=this.$(".maven_library_name").val();if(!(null===a||""===a||3>a.length)){var b="",c=a.split(":");1===c.length&&(b+=a);2<=c.length&&null!==c[0]&&null!==c[1]&&(b+="g:"+c[0]+"+AND+a:"+c[1]);3===c.length&&null!==c[2]&&(b+="+AND+v:"+c[2]);a="/proxy/"+
encodeURIComponent("http://search.maven.org/solrsearch/select?q="+b+"&wt=json&rows=10");e.default.ajax(a,{contentType:"application/x-www-form-urlencoded; charset=UTF-8",type:"GET",success:function(a){var b=[];a.response&&e.default.each(a.response.docs,function(a,c){b.push(c.id+":"+c.latestVersion)});(0,e.default)(".maven_library_name").autocomplete({source:b,minLength:0,scroll:!0,select:function(){(0,e.default)(".submit-create-library").removeAttr("disabled")}})}})}},openPackageBrowser:function(){var a=
(0,e.default)(".maven_library_name");window.sparkPackageList||(window.sparkPackageList=new m.default,window.sparkPackageList.fetch());window.sparkPackageList.changeSort("ratingDesc");a=h.default.createFactory(n.default)({coordinateInput:a,callback:this.enableOrDisableSubmission.bind(this,null),sparkPackages:window.sparkPackageList,mavenPackages:new d.default});p.default.createModal(a)},switchLibraryView:function(){var a=document.getElementById("lib-selector"),a=a.options[a.selectedIndex].value;k.default.removeView(this);
"python"===a?window.router.navigate("create/pythonLibrary/"+this.parentId,{trigger:!0}):"scala"===a&&window.router.navigate("create/library/"+this.parentId,{trigger:!0})},validateCoordinate:function(a){a=a.split(":");var b=a.length;if(3!==b)return!1;for(var c=0;c<b;c++)if(null===a[c]||""===a[c])return!1;return!0},renderCollapse:function(){var a=this.$("#options-arrow");-1<a.attr("class").indexOf("fa-caret-right")?(a.removeClass("fa-caret-right"),a.addClass("fa-caret-down")):(a.removeClass("fa-caret-down"),
a.addClass("fa-caret-right"))},onSubmit:function(){var a=this,b=this,c=this.$(".maven_library_name").val();this.validateCoordinate(c)?function(){b.$(".library-create-message").html("");var d=b.$(".maven-resolve-process"),m="r:"+a.$(".maven_repo_name").val(),g="e:"+a.$(".maven_excludes").val();d.removeAttr("hidden");(0,e.default)(".submit-create-library").attr("disabled","disabled");(0,e.default)(".open-package-browse").attr("disabled","disabled");a.makingAjaxCall=!0;e.default.ajax("/libraries/create",
{contentType:"application/json; charset=UTF-8",type:"POST",data:JSON.stringify({name:c,file:m+";"+g,parentId:a.parentId,libraryType:"maven",autoAttach:!1}),complete:function(){d.attr("hidden","hidden");(0,e.default)(".submit-create-library").removeAttr("disabled");(0,e.default)(".open-package-browse").removeAttr("disabled");b.makingAjaxCall=!1},success:function(a){var c=a.id;k.default.removeView(b,!0);c?window.router.navigate("#/library/"+c,{trigger:!0}):(console.error("MavenLibraryCreateView","onSubmit",
"success",a),window.router.navigate("",{trigger:!0}))},error:function(a){w.default.alert("Error: "+a.statusText)}})}():b.$(".library-create-message").html("Error: Invalid maven coordinate.")}});l.exports=a},{"../filetree/NavFunc.jsx":72,"../libraries/search/MavenPackageList":115,"../libraries/search/PackageBrowseModalView.jsx":119,"../libraries/search/SparkPackageList":122,"../templates/mavenLibraryCreate.html":282,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/dialogs/ReactModalUtils":300,
backbone:407,jquery:819,react:1001}],112:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("backbone");f=c(f);var b=a("../forms/DropzoneUtils"),k=a("../filetree/NavFunc.jsx"),d=c(k),n=a("../libraries/Upload.jsx"),k=a("../templates/pythonLibraryCreate.html"),m=c(k);a=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var q=c(a);a=f.default.View.extend({initialize:function(a){this.options=a||{};this.eggFiles={};this.name=
"Create Library";this.dropzoneEggFiles=null;this.parentId=this.options.parentId||0},render:function(){this.$el.html(m.default);this.$el.attr("class","library-import");this.enableOrDisableSubmission();this.renderDropzone()},renderDropzone:function(){var a=this;this.$("div.dropzoneEggFiles").append('<div class="dropzone"/>');var c=this.$("div.dropzoneEggFiles div.dropzone");this.dropzoneEggFiles=b.DropzoneUtils.installDropzone(c,{url:"/upload/library",uploadMultiple:!1,maxFiles:1,acceptedFiles:".egg,.zip,.gz",
addRemoveLinks:!0,dictDefaultMessage:"Drop library egg here to upload",init:function(){this.on("success",function(b,c){a.eggFiles[b.name]=c[0].fileStoreName;a.setLibraryNameIfEmpty(b.name);a.enableOrDisableSubmission()});this.on("maxfilesexceeded",function(a){q.default.alert("You can upload only one egg file.",!1,"OK");this.removeFile(a)});this.on("removedfile",function(b){delete a.eggFiles[b.name];a.enableOrDisableSubmission()});this.on("error",function(a,b){n.UploadErrorHandlers.defaultHandler(this,
a,b)})}},!1);var d=this.$("div.dropzoneEggFiles div.dropzone form");d&&d.submit(function(){var b=(0,e.default)(this).attr("action"),c=d.get(0),c=new FormData(c);e.default.ajax({url:b,type:"POST",data:c,success:function(b){h.default.forEach(b,function(b){a.eggFiles[b.name]=b.fileStoreName});a.enableOrDisableSubmission()},error:function(b){console.log("renderDropZone","error",b);a.enableOrDisableSubmission()},contentType:!1,processData:!1});return!1})},enableOrDisableSubmission:function(){var a=this.$(".field_library_name").val();
null===a||""===a||0===h.default.size(this.eggFiles)?this.$(".submit-create-library").attr("disabled","disabled"):this.$(".submit-create-library").removeAttr("disabled")},setLibraryNameIfEmpty:function(a){var b=this.$(".field_library_name").val();null!==b&&""!==b.trim()||this.$(".field_library_name").val(a)},events:{"input .field_library_name":"enableOrDisableSubmission","click .submit-create-library":"onSubmit","click .submit-pip-library":"onSubmit","change .source":"switchLibraryView"},switchLibraryView:function(){var a=
document.getElementById("lib-selector"),a=a.options[a.selectedIndex].value;d.default.removeView(this);"scala"===a?window.router.navigate("create/library/"+this.parentId,{trigger:!0}):"maven"===a&&window.router.navigate("create/mavenLibrary/"+this.parentId,{trigger:!0})},onSubmit:function(){var a=this,b=this.$(".field_library_name").val(),c=this.$(".pip_library_name").val(),k=c;h.default.forEach(this.eggFiles,function(a){k=a});e.default.ajax("/libraries/create",{contentType:"application/json; charset=UTF-8",
type:"POST",data:JSON.stringify({name:b||c,file:k,parentId:this.parentId,libraryType:c?"python-pypi":"python-egg",autoAttach:!1}),success:function(b){var c=b.id;d.default.removeView(a,!0);c?window.router.navigate("#/library/"+c,{trigger:!0}):(console.error("PythonLibraryCreateView","onSubmit","success",b),window.router.navigate("",{trigger:!0}))},error:function(b){a.$(".library-create-message").html("Error: "+b.statusText)}})}});l.exports=a},{"../filetree/NavFunc.jsx":72,"../forms/DropzoneUtils":76,
"../libraries/Upload.jsx":113,"../templates/pythonLibraryCreate.html":286,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,backbone:407,jquery:819,underscore:1021}],113:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.UploadErrorHandlers=void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var k=c[b];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(a,k.key,k)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,
d);return b}}(),e=(a=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"))&&a.__esModule?a:{default:a};f.UploadErrorHandlers=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"defaultHandler",value:function(b,c,d){console.error("Upload error",c,d);"error"===c.status&&(a.isInvalidFileTypeError(b,d)?a.invalidFileType(b,c):a.isSizeLimitExceedError(c.xhr,d)?a.fileSizeLimitExceeded(b,c,d):a.unhandledError(b,c),b.removeFile(c))}},
{key:"invalidFileType",value:function(a,c){e.default.alert("The file you attempted to upload is not a valid type."+(" Received ("+c.type+")."),!1,"OK")}},{key:"fileSizeLimitExceeded",value:function(b,c,d){e.default.alert("The file you attempted to upload exceeds the maximum size limit. "+a.getUserMessagingForSizeExceededError(c.xhr,d),!1,"OK")}},{key:"unhandledError",value:function(b,c){e.default.alert("There was an error uploading your file. "+a.getFileXHRStatusText(c),!1,"OK")}},{key:"isSizeLimitExceedError",
value:function(a,c){a=a&&a.statusText&&a.statusText.match(/size.*exceeds/);c=c&&(c.match(/size.*exceeds/)||c.match(/File is too big/));return!(!a&&!c)}},{key:"isInvalidFileTypeError",value:function(a,c){return c===a.options.dictInvalidFileType}},{key:"getFileXHRStatusText",value:function(a){return(a=a.xhr)&&a.statusText||""}},{key:"parseSizeFromServerSideException",value:function(a){return(a=a.match(/maximum \((\d*)\)/))&&a[1]}},{key:"getUserMessagingForSizeExceededError",value:function(b,c){if(b&&
b.statusText&&(b=a.parseSizeFromServerSideException(b.statusText)))return"Maximum file size is "+b+" bytes.";if(c){if((b=c.match(/filesize: ([^.]*)\./))&&b[1])return"Maximum file size is "+b[1]+".";if(b=a.parseSizeFromServerSideException(c))return"Maximum file size is "+b+" bytes."}return""}}]);return a}()},{"../ui_building_blocks/dialogs/DeprecatedDialogBox":297}],114:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("backbone");f=c(f);a=a("../../libraries/search/MavenPackageReleaseList");
var h=c(a);a=f.default.Model.extend({defaults:{id:"",mavenGroupId:"",mavenArtifactId:"",mavenVersion:new h.default,mavenContents:[]},parse:function(a,c){if(a){var b=a.g,k=a.a,m=new h.default;c?m.set(a.v):m.fetch(b,k);this.set({id:b+":"+k,mavenGroupId:b,mavenArtifactId:k,mavenVersion:m,mavenContents:a.ec})}return this},fetchReleases:function(){this.set({mavenVersion:(new h.default).fetch(this.get("mavenGroupId"),this.get("mavenArtifactId"))})},coordinatePrefix:function(){return this.get("mavenGroupId")+
":"+this.get("mavenArtifactId")},isValid:function(){return""!==this.get("mavenGroupId")&&-1<e.default.inArray(".jar",this.get("mavenContents"))}});l.exports=a},{"../../libraries/search/MavenPackageReleaseList":118,backbone:407,jquery:819}],115:[function(a,l,f){f=(f=a("backbone"))&&f.__esModule?f:{default:f};a=a("../../libraries/search/MavenPackage");a=f.default.Collection.extend({model:(a&&a.__esModule?a:{default:a}).default,strategies:{group:function(a){return a.get("mavenGroupId").toLowerCase()},
groupDesc:function(a,e){return a.get("mavenGroupId")>e.get("mavenGroupId")?-1:a.get("mavenGroupId")<e.get("mavenGroupId")?1:0},artifact:function(a){return a.get("mavenArtifactId").toLowerCase()},artifactDesc:function(a,e){return a.get("mavenArtifactId")>e.get("mavenArtifactId")?-1:a.get("mavenArtifactId")<e.get("mavenArtifactId")?1:0}},changeSort:function(a){this.comparator=this.strategies[a]}});l.exports=a},{"../../libraries/search/MavenPackage":114,backbone:407}],116:[function(a,l,f){function c(a){return a&&
a.__esModule?a:{default:a}}function e(a){a=a.model.get("mavenVersion");return b.default.createElement("option",{"data-version":a},a)}function h(a){a=b.default.createElement("a",{onClick:a.selectRelease,enabled:a.releasesLoaded,className:"install-button with-icon pointer"},b.default.createElement("i",{className:"fa fa-plus fa-fw"}),"Select");return b.default.createElement("div",null,b.default.createElement("div",null,a))}f=a("react");var b=c(f);f=a("../../libraries/search/MavenPackage");f=c(f);var k=
a("../../libraries/search/MavenPackageList"),k=c(k),d=a("../../libraries/search/MavenPackageRelease"),d=c(d),n=a("../../ui_building_blocks/tables/SortableTableHeader.jsx"),m=c(n),q=a("../../ui_building_blocks/tables/Table.jsx");e.propTypes={model:b.default.PropTypes.instanceOf(d.default).isRequired};h.propTypes={selectRelease:b.default.PropTypes.func.isRequired,releasesLoaded:b.default.PropTypes.bool.isRequired};var w=b.default.createClass({displayName:"MavenPackageRow",propTypes:{model:b.default.PropTypes.instanceOf(f.default).isRequired,
selectRelease:b.default.PropTypes.func.isRequired},_forceUpdate:function(){this.isMounted()&&this.forceUpdate()},componentDidMount:function(){this.props.model.get("mavenVersion").on("change add remove reset",this._forceUpdate.bind(this,null),this)},componentWillUnmount:function(){this.props.model.get("mavenVersion").off(null,null,this)},_selectRelease:function(){var a=this.refs.release,a=a.options[a.selectedIndex].dataset.version,b=this.props.model.get("mavenGroupId"),c=this.props.model.get("mavenArtifactId");
this.props.selectRelease(b+":"+c+":"+a,"maven",!1)},render:function(){var a=this.props.model.get("mavenGroupId"),c=this.props.model.get("mavenArtifactId"),d=[],k=this.props.model.get("mavenVersion");k&&k.each(function(a){d.push(b.default.createElement(e,{key:a.cid,model:a}))});k=b.default.createElement(h,{selectRelease:this._selectRelease,releasesLoaded:0<d.length});return b.default.createElement("tr",null,b.default.createElement("td",null,a),b.default.createElement("td",null,c),b.default.createElement("td",
null,b.default.createElement("select",{ref:"release",className:"release-column"},d)),b.default.createElement("td",null,k))}});a=b.default.createClass({displayName:"MavenPackageListView",propTypes:{packages:b.default.PropTypes.instanceOf(k.default).isRequired,selectRelease:b.default.PropTypes.func.isRequired,isFetching:b.default.PropTypes.bool.isRequired,searchInput:b.default.PropTypes.string},_forceUpdate:function(){this.isMounted()&&this.forceUpdate()},componentDidMount:function(){if(this.props.packages)this.props.packages.on("change add remove reset",
this._forceUpdate.bind(this,null),this)},componentWillUnmount:function(){this.props.packages&&this.props.packages.off(null,null,this)},getInitialState:function(){return{groupDesc:!1,groupAsc:!1,artifactDesc:!1,artifactAsc:!1}},sortColumn:function(a){var b=!1,c=!1,d=!1,k=!1;switch(a){case "group":this.state.groupDesc||this.state.groupAsc?(b=!this.state.groupDesc,c=!this.state.groupAsc):c=!0;break;case "artifact":this.state.artifactDesc||this.state.artifactAsc?(d=!this.state.artifactDesc,k=!this.state.artifactAsc):
k=!0}this.setState({groupDesc:b,groupAsc:c,artifactDesc:d,artifactAsc:k})},_sortBeforeRender:function(){this.state.artifactDesc?(this.props.packages.changeSort("artifactDesc"),this.props.packages.sort()):this.state.artifactAsc?(this.props.packages.changeSort("artifact"),this.props.packages.sort()):this.state.groupDesc?(this.props.packages.changeSort("groupDesc"),this.props.packages.sort()):this.state.groupAsc&&(this.props.packages.changeSort("group"),this.props.packages.sort())},_renderWhenPopulated:function(a){this._sortBeforeRender();
var c=[],d=this;this.props.packages.each(function(a){c.push(b.default.createElement(w,{key:a.cid,model:a,selectRelease:d.props.selectRelease}))});a=b.default.createElement(q.TableView,{headers:a,content:c,bodyId:"packages-table"});return b.default.createElement("div",{className:"row-fluid"},a)},_renderWhenEmpty:function(a){var c;c=!this.props.searchInput||this.props.isFetching?b.default.createElement("h4",null,"Start writing a query to get results"):b.default.createElement("h4",null,"Search didn't return any packages");
a=b.default.createElement(q.TableView,{headers:a,content:[],bodyId:"packages-table"});return b.default.createElement("div",{className:"row-fluid"},a,b.default.createElement("div",{className:"search-feedback"},c))},render:function(){var a=this.sortColumn.bind(this,"group"),a=b.default.createElement(m.default,{title:"Group Id",extraClasses:"span3",key:"-1m",sortedDesc:this.state.groupDesc,sortedAsc:this.state.groupAsc,onClick:a}),c=this.sortColumn.bind(this,"artifact"),c=b.default.createElement(m.default,
{title:"Artifact Id",extraClasses:"span3",key:"-2m",sortedDesc:this.state.artifactDesc,sortedAsc:this.state.artifactAsc,onClick:c}),a=[a,c,b.default.createElement("th",{key:"-3m",className:"span2 release-column"},"Releases"),b.default.createElement("th",{key:"-4m",className:"span2"},"Options")];return 0<this.props.packages.length?this._renderWhenPopulated(a):this._renderWhenEmpty(a)}});l.exports=a},{"../../libraries/search/MavenPackage":114,"../../libraries/search/MavenPackageList":115,"../../libraries/search/MavenPackageRelease":117,
"../../ui_building_blocks/tables/SortableTableHeader.jsx":311,"../../ui_building_blocks/tables/Table.jsx":312,react:1001}],117:[function(a,l,f){var c=(f=a("jquery"))&&f.__esModule?f:{default:f};a=a("backbone");a=(a&&a.__esModule?a:{default:a}).default.Model.extend({defaults:{mavenVersion:"",mavenTime:"",mavenContents:[]},parse:function(a){a&&this.set({mavenVersion:a.v,mavenTime:a.timestamp,mavenContents:a.ec});return this},isValid:function(){return""!==this.get("mavenVersion")&&-1<c.default.inArray(".jar",
this.get("mavenContents"))}});l.exports=a},{backbone:407,jquery:819}],118:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("backbone");f=c(f);a=a("../../libraries/search/MavenPackageRelease");var h=c(a);a=f.default.Collection.extend({model:h.default,fetch:function(a,c){a="/proxy/"+encodeURIComponent("http://search.maven.org/solrsearch/select?q=g:"+a+"+AND+a:"+c+"&wt=json&rows=5&core=gav");var b=this;e.default.ajax(a,{contentType:"application/x-www-form-urlencoded; charset=UTF-8",
type:"GET",success:function(a){var c=[];a.response.docs&&e.default.each(a.response.docs,function(a,b){a=(new h.default).parse(b);a.isValid()&&c.push(a)});b.set(c)}})}});l.exports=a},{"../../libraries/search/MavenPackageRelease":117,backbone:407,jquery:819}],119:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=a.isFetching,c=a.sparkPackages,k=a.mavenPackages,m=a.searchInput,h=a.selectRelease,e=a.showDetailPage;a=a.isSparkPackages?d.default.createElement(g.default,
{packages:c,selectRelease:h,searchInput:m,isFetching:b,showDetailPage:e}):d.default.createElement(t.default,{packages:k,selectRelease:h,searchInput:m,isFetching:b});return d.default.createElement("div",{className:"modal-body-table"},a)}function h(){return d.default.createElement("div",null,d.default.createElement("a",{"data-dismiss":"modal",className:"btn btn-primary confirm-button",tabIndex:"1"},"Close"))}function b(a){return d.default.createElement("div",null,d.default.createElement("a",{className:"context-bar-item pointer",
onClick:a.closeDetailPage},d.default.createElement("i",{className:"fa fa-fw fa-chevron-left"})," Back"))}f=a("underscore");f=c(f);var k=a("react"),d=c(k),k=a("../../search/ListSearchAdapter"),n=c(k),k=a("../../search/MavenCentralSearchAdapter"),m=c(k),k=a("../../search/SearchService"),q=c(k),k=a("../../search/SearchViewMixin.jsx"),k=c(k),w=a("../../search/SearchUtils"),p=c(w),w=a("../../libraries/search/MavenPackageList"),r=c(w),w=a("../../libraries/search/MavenPackageListView.jsx"),t=c(w),w=a("../../libraries/search/SparkPackage"),
w=c(w),u=a("../../libraries/search/SparkPackageDetailView.jsx"),y=c(u),u=a("../../libraries/search/SparkPackageList"),A=c(u),u=a("../../libraries/search/SparkPackageListView.jsx"),g=c(u),u=a("../../ui_building_blocks/dialogs/ReactModal.jsx"),v=c(u),u=a("../../ui_building_blocks/dialogs/ReactModalUtils"),z=c(u);a=a("../../ui_building_blocks/icons/IconsForType");var B=c(a),G=d.default.createClass({displayName:"PackageBrowserHeader",propTypes:{isFetching:d.default.PropTypes.bool.isRequired,parentChangeSource:d.default.PropTypes.func.isRequired,
isSparkPackages:d.default.PropTypes.bool.isRequired,parentSearchPackages:d.default.PropTypes.func.isRequired},changeSource:function(){var a=this.refs.browseSelect,a=a.options[a.selectedIndex];this.refs.searchInput.value="";this.props.parentChangeSource(a.value);this.refs.searchInput.focus()},_searchPackages:function(a){this.props.parentSearchPackages(this.refs.searchInput.value,a)},searchPackagesOnInput:f.default.debounce(function(){this._searchPackages()},1E3),handleSearchKeyDown:function(a){13===
a.keyCode&&(a.preventDefault(),this._searchPackages(!0))},componentDidMount:function(){this.refs.searchInput.focus()},render:function(){var a=this.props.isSparkPackages?"sp":"maven",b=d.default.createElement("span",{className:this.props.isFetching?"package-search-spinner show-spinner":"package-search-spinner"},"\u00a0\u00a0",d.default.createElement("i",{className:"fa fa-"+B.default.inProgress})," Searching");return d.default.createElement("div",{className:"modal-header-search"},d.default.createElement("h3",
null,"Search Packages"),d.default.createElement("div",{className:"multi-input-row package-search-header"},d.default.createElement("input",{className:"package-search-input",type:"text",ref:"searchInput",id:"searchInput",onKeyDown:this.handleSearchKeyDown,onInput:this.searchPackagesOnInput}),d.default.createElement("a",{className:"pointer",onClick:this._searchPackages},d.default.createElement("i",{className:"fa fa-fw fa-search package-search-icon"})),b,d.default.createElement("select",{ref:"browseSelect",
value:a,id:"browseSelect",className:"package-search-selector",onChange:this.changeSource},d.default.createElement("option",{value:"sp"},"Spark Packages"),d.default.createElement("option",{value:"maven"},"Maven Central"))))}});e.propTypes={isFetching:d.default.PropTypes.bool.isRequired,isSparkPackages:d.default.PropTypes.bool.isRequired,sparkPackages:d.default.PropTypes.instanceOf(A.default),mavenPackages:d.default.PropTypes.instanceOf(r.default),searchInput:d.default.PropTypes.string.isRequired,selectRelease:d.default.PropTypes.func.isRequired,
showDetailPage:d.default.PropTypes.func.isRequired};b.propTypes={closeDetailPage:d.default.PropTypes.func.isRequired};var x=d.default.createClass({displayName:"PackageDetailBody",propTypes:{model:d.default.PropTypes.instanceOf(w.default).isRequired,selectRelease:d.default.PropTypes.func.isRequired},componentWillMount:function(){this.props.model.fetchTags()},render:function(){return d.default.createElement(y.default,{"package":this.props.model,selectRelease:this.props.selectRelease})}});a=d.default.createClass({displayName:"PackageBrowserModalView",
propTypes:{coordinateInput:d.default.PropTypes.object.isRequired,sparkPackages:d.default.PropTypes.instanceOf(A.default),mavenPackages:d.default.PropTypes.instanceOf(r.default),callback:d.default.PropTypes.func.isRequired},getInitialState:function(){this.mavenSearchService=new q.default([new m.default]);this._initializeSpSearchService();this.sparkPackages=this.props.sparkPackages;this.mavenPackages=this.props.mavenPackages;return{isSparkPackages:!0,searchInput:"",isFetching:!1,isDetailPage:!1}},mixins:[k.default],
searchAdapters:[],categoryProps:{},searchName:"package-search",_initializeSpSearchService:function(){this.spSearchService=new q.default([new n.default(window.sparkPackageList.models,p.default.sparkPackageMatches)])},_forceUpdate:function(){this.isMounted()&&this.forceUpdate()},componentDidMount:function(){this.sparkPackages.on("change add remove reset",this._forceUpdate.bind(this,null),this);this.mavenPackages.on("change add remove reset",this._forceUpdate.bind(this,null),this)},componentWillUnmount:function(){this.sparkPackages.off(null,
null,this);this.mavenPackages.off(null,null,this)},changeSource:function(a){this.setState({isSparkPackages:"sp"===a,isFetching:!1})},searchPackages:function(a,b){var c=this;a=a.trim();var g=!1;if(a!==c.lastSearchText||b)this.state.isSparkPackages?(0===this.spSearchService.searchAdapters[0].list.length&&this._initializeSpSearchService(),this.spSearchService.search(a,function(a,b){b&&g&&(c.sparkPackages=new A.default(a),c.searchResultCount=a.length,c.fetchFinished());g=!0},!b)):this.mavenSearchService.search(a,
function(a,b){b&&g&&(c.mavenPackages=new r.default(a),c.searchResultCount=a.length,c.fetchFinished());g=!0},!b),c.lastSearchText=a,c.lastSearchTime=(new Date).getTime(),c._recordQueryEntered(),this.setState({searchInput:a,isFetching:!0})},fetchFinished:function(){this.isMounted()&&(this._recordQueryFinished(),this.setState({isFetching:!1}))},selectRelease:function(a,b,c){this._recordResultClicked("packageBrowserClick",{packageBrowserClickType:"select",packageType:b,packageName:a,packageClickFromDetailPage:c});
this.props.coordinateInput.val(a);this.props.callback();z.default.destroyModal()},showDetailPage:function(a){this._recordResultClicked("packageBrowserClick",{packageBrowserClickType:"detail",packageType:"spark",packageName:a.fullName()});this.setState({isDetailPage:!0,showDetailsFor:a})},closeDetailPage:function(){this.setState({isDetailPage:!1,showDetailsFor:null})},_recordResultClicked:function(a,b){this._recordEvent(a,this.tags(b))},_renderHeaderAndBody:function(){var a,c;this.state.isDetailPage&&
this.state.showDetailsFor?(a=d.default.createElement(b,{closeDetailPage:this.closeDetailPage}),c=d.default.createElement(x,{model:this.state.showDetailsFor,selectRelease:this.selectRelease})):(a=d.default.createElement(G,{isFetching:this.state.isFetching,parentChangeSource:this.changeSource,isSparkPackages:this.state.isSparkPackages,parentSearchPackages:this.searchPackages}),c=d.default.createElement(e,{isFetching:this.state.isFetching,isSparkPackages:this.state.isSparkPackages,sparkPackages:this.sparkPackages,
mavenPackages:this.mavenPackages,searchInput:this.state.searchInput,selectRelease:this.selectRelease,showDetailPage:this.showDetailPage}));return{h:a,b:c}},render:function(){var a=this._renderHeaderAndBody(),b=this.state.isDetailPage?"package-details":"package-search",c=d.default.createElement(h,null);return d.default.createElement(v.default,{modalName:b,header:a.h,body:a.b,footer:c})}});l.exports=a},{"../../libraries/search/MavenPackageList":115,"../../libraries/search/MavenPackageListView.jsx":116,
"../../libraries/search/SparkPackage":120,"../../libraries/search/SparkPackageDetailView.jsx":121,"../../libraries/search/SparkPackageList":122,"../../libraries/search/SparkPackageListView.jsx":123,"../../search/ListSearchAdapter":237,"../../search/MavenCentralSearchAdapter":238,"../../search/SearchService":242,"../../search/SearchUtils":243,"../../search/SearchViewMixin.jsx":244,"../../ui_building_blocks/dialogs/ReactModal.jsx":299,"../../ui_building_blocks/dialogs/ReactModalUtils":300,"../../ui_building_blocks/icons/IconsForType":304,
react:1001,underscore:1021}],120:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("backbone");f=c(f);var b=a("../../libraries/search/SparkPackageRelease"),k=c(b);a=a("../../libraries/search/SparkPackageReleaseList");var d=c(a);a=f.default.Model.extend({defaults:{id:null,packageName:"",packageOrg:"",packageOwner:"",packageShortDescription:"",packageDescription:"",packageHomepage:"",packageRating:-1,packageTags:[],packageReleases:new d.default},
parse:function(a){if(a){var b=a.name,c=a.org_name,k;a.releases?k=this.parseReleases(a.releases):(k=new d.default,k.fetch(c+"/"+b));this.set({id:b+"/"+c,packageName:b,packageOrg:c,packageOwner:a.owner,packageShortDescription:a.short_description,packageDescription:a.description,packageHomepage:a.homepage,packageRating:a.rating,packageReleases:k,packageTags:a.tags})}return this},fullName:function(){return this.get("packageOrg")+"/"+this.get("packageName")},parseReleases:function(a){a=h.default.map(a,
function(a){return(new k.default).parse(a)});var b=new d.default;b.set(a);return b},isValid:function(){return""!==this.get("packageName")},fetchTags:function(a){a=a||this.fullName();a="/proxy/"+encodeURIComponent("http://spark-packages.org/api/v1/packages/"+a+"/tags?num_tags=-1");var b=this;e.default.ajax(a,{contentType:"application/x-www-form-urlencoded; charset=UTF-8",type:"GET",success:function(a){a.tags&&b.set("packageTags",a.tags)}})},fetchReleases:function(a){a=a||this.fullName();a="/proxy/"+
encodeURIComponent("http://spark-packages.org/api/v1/packages/"+a+"/releases?num_releases=-1&published_releases_only=true&with_url=false");var b=this;e.default.ajax(a,{contentType:"application/x-www-form-urlencoded; charset=UTF-8",type:"GET",success:function(a){console.log(a);a.releases&&(b.packageReleases=b.parseReleases(a.releases))}})},searchText:function(){return this.get("packageName")+" "+this.get("packageOrg")+" "+this.get("packageOwner")+" "+this.get("packageShortDescription")+" "+this.get("packageDescription")},
fetch:function(a){a="/proxy/"+encodeURIComponent("http://spark-packages.org/api/v1/packages/"+a+"?num_releases=-1&published_releases_only=true&num_tags=-1&with_rating=true");var b=this;e.default.ajax(a,{contentType:"application/x-www-form-urlencoded; charset=UTF-8",type:"GET",success:function(a){a.packages&&b.set(b.parse(a.packages[0]))}})}});l.exports=a},{"../../libraries/search/SparkPackageRelease":124,"../../libraries/search/SparkPackageReleaseList":125,backbone:407,jquery:819,underscore:1021}],
121:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){return p.default.createElement("a",{href:a.link,target:"_blank"},a.text)}function h(a){var b=a.orgName,c=a.owner;a=p.default.createElement(e,{link:"https://github.com/"+c,text:"@"+c});return b!==c?(b=p.default.createElement(e,{link:"https://github.com/"+b,text:"@"+b}),p.default.createElement("span",null,"from: ",b," / owner: ",a)):p.default.createElement("span",null,a)}function b(a){var b=a.model;a=b.get("packageName");
var c=b.get("packageHomepage"),d=b.get("packageShortDescription"),k=b.get("packageDescription"),m=b.get("packageOrg"),n=b.get("packageOwner"),b=b.get("packageRating"),m=p.default.createElement(h,{orgName:m,owner:n});return p.default.createElement("div",{className:"row-fluid"},p.default.createElement("h2",null,a," \u00a0",p.default.createElement("span",{style:{fontSize:"0.5em"}},p.default.createElement(e,{text:"homepage",link:c}))),p.default.createElement("div",{className:"row-fluid"},p.default.createElement("h4",
null,d)),p.default.createElement("div",{className:"row-fluid"},p.default.createElement("span",null,m," / Rating: ",b," / 5")),p.default.createElement("div",{className:"row-fluid"},k))}function k(a){a=a.tags;var b=[];a&&(b=a.map(function(a){return a.name}));a=b.join(", ");return 0<a.length?p.default.createElement("div",null,p.default.createElement("h3",null,"Tags"),p.default.createElement("p",null,a)):p.default.createElement("div",{className:"row-fluid"},p.default.createElement("h3",null,"Tags"),p.default.createElement("p",
null,"This package doesn't have any tags."))}function d(a){var b=a.compatibility;return p.default.createElement("span",null,a.prefix,b.spark_version," - \u00a0",p.default.createElement(e,{link:"http://spark-packages.org/release-compatibility/"+b.id,text:b.percentage+"%"}))}function n(a){var b=a.list;return b&&0<b.length&&(a=function(){var a=[p.default.createElement(d,{key:0,compatibility:b.shift(),prefix:""})];b.forEach(function(b,c){a.push(p.default.createElement(d,{key:b+1,compatibility:c,prefix:", "}))});
return{v:p.default.createElement("p",null,"Spark Scala/Java API Compatibility: ",a)}}(),"object"===("undefined"===typeof a?"undefined":q(a)))?a.v:p.default.createElement("span",null)}function m(a){var b=a.name,c=a.selectRelease,d=[];a.releases.each(function(a){d.push(p.default.createElement(y,{key:a.cid,name:b,model:a,selectRelease:c}))});return p.default.createElement("div",null,p.default.createElement("h3",null,"Releases"),d)}var q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:
function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};f=a("jquery");var w=c(f);f=a("react");var p=c(f);f=a("../../libraries/search/SparkPackage");f=c(f);var r=a("../../libraries/search/SparkPackageRelease"),r=c(r),t=a("../../libraries/search/SparkPackageReleaseList"),t=c(t);a=a("../../ui_building_blocks/icons/IconsForType");var u=c(a);e.propTypes={link:p.default.PropTypes.string.isRequired,text:p.default.PropTypes.string.isRequired};h.propTypes={orgName:p.default.PropTypes.string.isRequired,
owner:p.default.PropTypes.string.isRequired};b.propTypes={model:p.default.PropTypes.instanceOf(f.default).isRequired};k.propTypes={tags:p.default.PropTypes.array.isRequired};d.propTypes={compatibility:p.default.PropTypes.shape({id:p.default.PropTypes.number,spark_version:p.default.PropTypes.string,percentage:p.default.PropTypes.number}).isRequired,prefix:p.default.PropTypes.string.isRequired};n.propTypes={list:p.default.PropTypes.array.isRequired};var y=p.default.createClass({displayName:"Release",
propTypes:{model:p.default.PropTypes.instanceOf(r.default).isRequired,name:p.default.PropTypes.string.isRequired,selectRelease:p.default.PropTypes.func.isRequired},_onSelectClick:function(){var a=this.props.model.artifactCoordinate();this.props.selectRelease(a,"spark",!0)},render:function(){var a=this.props.model.get("releaseVersion"),b=this.props.model.get("releaseCreateTime"),c=this.props.model.get("releaseLicense"),d=this.props.model.get("releaseScalaVersion"),k=void 0;d&&(k=" / Scala Version: "+
d);d=this.props.model.get("releaseCompatibility");d=p.default.createElement(n,{list:d});return p.default.createElement("div",{className:"row-fluid"},p.default.createElement("div",{className:"row-fluid",style:{marginBottom:"5px"}},p.default.createElement("span",null,p.default.createElement("a",{onClick:this._onSelectClick,className:"install-button with-icon pointer"},p.default.createElement("i",{className:"fa fa-plus fa-fw"}),"Select"),"\u00a0",p.default.createElement("b",null,"Version: ",a)," / Date: ",
b," / License: ",c,k)),p.default.createElement("div",{className:"row-fluid"},d))}});m.propTypes={releases:p.default.PropTypes.instanceOf(t.default).isRequired,name:p.default.PropTypes.string.isRequired,selectRelease:p.default.PropTypes.func.isRequired};a=p.default.createClass({displayName:"SparkPackageDetailView",propTypes:{package:p.default.PropTypes.instanceOf(f.default).isRequired,selectRelease:p.default.PropTypes.func.isRequired},_forceUpdate:function(){this.isMounted()&&this.forceUpdate()},componentDidMount:function(){(0,
w.default)(".modal-body-package-search").animate({scrollTop:0},0);this.props.package.on("change reset add remove",this._forceUpdate.bind(this,null),this)},render:function(){if(this.props.package.isValid()&&this.props.package.get("packageReleases")){var a=p.default.createElement(b,{model:this.props.package}),c=p.default.createElement(k,{tags:this.props.package.get("packageTags")}),d=p.default.createElement(m,{releases:this.props.package.get("packageReleases"),name:this.props.package.fullName(),selectRelease:this.props.selectRelease});
return p.default.createElement("div",{className:"show-package-details"},p.default.createElement("div",null,a,c,d))}return p.default.createElement("div",{className:"show-package-details"},p.default.createElement("div",{className:"search-feedback"},p.default.createElement("h3",null,p.default.createElement("i",{className:"fa fa-"+u.default.inProgress})," Loading Package")))}});l.exports=a},{"../../libraries/search/SparkPackage":120,"../../libraries/search/SparkPackageRelease":124,"../../libraries/search/SparkPackageReleaseList":125,
"../../ui_building_blocks/icons/IconsForType":304,jquery:819,react:1001}],122:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("backbone");f=c(f);a=a("../../libraries/search/SparkPackage");var h=c(a);a=f.default.Collection.extend({model:h.default,initialize:function(){this.isFetching=!1},strategies:{name:function(a){return a.get("packageName").toLowerCase()},nameDesc:function(a,c){return a.get("packageName")>c.get("packageName")?-1:a.get("packageName")<
c.get("packageName")?1:0},org:function(a){return a.get("packageOrg").toLowerCase()},orgDesc:function(a,c){return a.get("packageOrg")>c.get("packageOrg")?-1:a.get("packageOrg")<c.get("packageOrg")?1:0},rating:function(a){return a.get("packageRating")},ratingDesc:function(a){return-a.get("packageRating")}},changeSort:function(a){this.comparator=this.strategies[a]},sortByRating:function(a,c){return c.get("packageRating")-a.get("packageRating")},fetch:function(a){var b="http://spark-packages.org/api/v1/packages";
a&&(b+="q="+encodeURIComponent(a)+"&");a="/proxy/"+encodeURIComponent(b+"?num_releases=-1&published_packages_only=true&with_rating=true");var c=this;this.isFetching=!0;e.default.ajax(a,{contentType:"application/x-www-form-urlencoded; charset=UTF-8",type:"GET",success:function(a){var b=[];e.default.each(a.packages,function(a,c){a=new h.default;b.push(a.parse(c))});b.sort(c.sortByRating);c.set(b)},complete:function(){c.isFetching=!1}})}});l.exports=a},{"../../libraries/search/SparkPackage":120,backbone:407,
jquery:819}],123:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){var c=a.model;a=c.get("releaseVersion");c=c.artifactCoordinate();return b.default.createElement("option",{"data-coordinate":c,"data-version":a},a)}function h(a){a=b.default.createElement("a",{onClick:a.selectRelease,enabled:a.releasesLoaded,className:"install-button with-icon pointer"},b.default.createElement("i",{className:"fa fa-plus fa-fw"}),"Select");return b.default.createElement("div",null,b.default.createElement("div",
null,a))}f=a("react");var b=c(f);f=a("../../libraries/search/SparkPackage");f=c(f);var k=a("../../libraries/search/SparkPackageList"),k=c(k),d=a("../../libraries/search/SparkPackageRelease"),d=c(d),n=a("../../ui_building_blocks/icons/IconsForType"),m=c(n),n=a("../../ui_building_blocks/tables/SortableTableHeader.jsx"),q=c(n),w=a("../../ui_building_blocks/tables/Table.jsx");e.propTypes={model:b.default.PropTypes.instanceOf(d.default).isRequired};h.propTypes={selectRelease:b.default.PropTypes.func.isRequired,
releasesLoaded:b.default.PropTypes.bool.isRequired};var p=b.default.createClass({displayName:"SparkPackageRow",propTypes:{model:b.default.PropTypes.instanceOf(f.default).isRequired,showDetailPage:b.default.PropTypes.func.isRequired,selectRelease:b.default.PropTypes.func.isRequired},getInitialState:function(){return{installedRelease:!1}},_forceUpdate:function(){this.isMounted()&&this.forceUpdate()},componentDidMount:function(){var a=this.props.model.get("packageReleases");if(a)a.on("change add remove reset",
this._forceUpdate.bind(this,null),this)},componentWillUnmount:function(){var a=this.props.model.get("packageReleases");a&&a.off(null,null,this)},onSelectClicked:function(){var a=this.refs.release;this.props.selectRelease(a.options[a.selectedIndex].dataset.coordinate,"spark",!1)},packageDetails:function(){this.props.showDetailPage(this.props.model)},render:function(){var a=this.props.model.get("packageName"),c=this.props.model.get("packageOrg"),d=this.props.model.get("packageShortDescription"),k=this.props.model.get("packageRating"),
m=[],g=this.props.model.get("packageReleases");g&&g.each(function(a){return m.push(b.default.createElement(e,{key:a.cid,model:a}))});g=b.default.createElement(h,{selectRelease:this.onSelectClicked,releasesLoaded:0<m.length});return b.default.createElement("tr",null,b.default.createElement("td",null,b.default.createElement("a",{className:"pointer",onClick:this.packageDetails},a)),b.default.createElement("td",null,c),b.default.createElement("td",null,d),b.default.createElement("td",null,k," / 5"),b.default.createElement("td",
null,b.default.createElement("select",{ref:"release",className:"release-column"},m)),b.default.createElement("td",null,g))}});a=b.default.createClass({displayName:"SparkPackageListView",propTypes:{packages:b.default.PropTypes.instanceOf(k.default).isRequired,isFetching:b.default.PropTypes.bool.isRequired,searchInput:b.default.PropTypes.string,showDetailPage:b.default.PropTypes.func.isRequired,selectRelease:b.default.PropTypes.func.isRequired},_forceUpdate:function(){this.isMounted()&&this.forceUpdate()},
componentDidMount:function(){this.props.packages.on("change add remove reset",this._forceUpdate.bind(this,null),this)},componentWillUnmount:function(){this.props.packages.off(null,null,this)},getInitialState:function(){return{ratingDesc:!0,ratingAsc:!1,nameDesc:!1,nameAsc:!1,orgDesc:!1,orgAsc:!1}},sortColumn:function(a){var b=!1,c=!1,d=!1,k=!1,g=!1,m=!1;switch(a){case "name":this.state.nameDesc||this.state.nameAsc?(d=!this.state.nameDesc,k=!this.state.nameAsc):k=!0;break;case "org":this.state.orgDesc||
this.state.orgAsc?(g=!this.state.orgDesc,m=!this.state.orgAsc):m=!0;break;case "rating":this.state.ratingDesc||this.state.ratingAsc?(b=!this.state.ratingDesc,c=!this.state.ratingAsc):b=!0}this.setState({ratingDesc:b,ratingAsc:c,nameDesc:d,nameAsc:k,orgDesc:g,orgAsc:m})},_sortBeforeRender:function(){this.state.ratingDesc?this.props.packages.changeSort("ratingDesc"):this.state.ratingAsc?this.props.packages.changeSort("rating"):this.state.nameDesc?this.props.packages.changeSort("nameDesc"):this.state.nameAsc?
this.props.packages.changeSort("name"):this.state.orgDesc?this.props.packages.changeSort("orgDesc"):this.state.orgAsc&&this.props.packages.changeSort("org");this.props.packages.sort()},sortNameColumn:function(){this.sortColumn("name")},sortOrgColumn:function(){this.sortColumn("org")},sortRatingColumn:function(){this.sortColumn("rating")},render:function(){var a=this,c=b.default.createElement(q.default,{title:"Name",extraClasses:"span4",key:"-1",sortedDesc:this.state.nameDesc,sortedAsc:this.state.nameAsc,
onClick:this.sortNameColumn}),d=b.default.createElement(q.default,{title:"Organization",extraClasses:"span3",key:"-2",sortedDesc:this.state.orgDesc,sortedAsc:this.state.orgAsc,onClick:this.sortOrgColumn}),k=b.default.createElement(q.default,{title:"Rating",extraClasses:"span2",key:"-4",sortedDesc:this.state.ratingDesc,sortedAsc:this.state.ratingAsc,onClick:this.sortRatingColumn}),h=[];this._sortBeforeRender();this.props.packages.each(function(c){h.push(b.default.createElement(p,{key:c.fullName(),
model:c,showDetailPage:a.props.showDetailPage,selectRelease:a.props.selectRelease}))});c=[c,d,b.default.createElement("th",{key:"-3",className:"span6"},"Description"),k,b.default.createElement("th",{key:"-5",className:"span2 release-column"},"Releases"),b.default.createElement("th",{key:"-6",className:"span2"},"Options")];c=b.default.createElement(w.TableView,{headers:c,content:h,bodyId:"packages-table"});if(0<this.props.packages.length)return b.default.createElement("div",{className:"row-fluid"},
c);d=void 0;d=this.props.packages.isFetching?b.default.createElement("h4",null,b.default.createElement("i",{className:"fa fa-"+m.default.inProgress})," Loading Spark Packages"):this.props.searchInput?b.default.createElement("h4",null,"Search didn't return any packages"):b.default.createElement("h4",null,"Error while connecting to Spark Packages. Please refresh your page.");return b.default.createElement("div",{className:"row-fluid"},c,b.default.createElement("div",{className:"search-feedback"},d))}});
l.exports=a},{"../../libraries/search/SparkPackage":120,"../../libraries/search/SparkPackageList":122,"../../libraries/search/SparkPackageRelease":124,"../../ui_building_blocks/icons/IconsForType":304,"../../ui_building_blocks/tables/SortableTableHeader.jsx":311,"../../ui_building_blocks/tables/Table.jsx":312,react:1001}],124:[function(a,l,f){a=a("backbone");a=(a&&a.__esModule?a:{default:a}).default.Model.extend({defaults:{releaseVersion:"",releaseLicense:"",releaseLicenseUrl:"",releaseMavenCoordinate:null,
releaseSPCoordinate:"",releaseCompatibility:[],releaseScalaVersion:"",releaseCreateTime:""},parse:function(a){a&&this.set({releaseVersion:a.version,releaseLicense:a.license,releaseLicenseUrl:a.license_url,releaseMavenCoordinate:a.maven_coordinate,releaseSPCoordinate:a.sp_coordinate,releaseCompatibility:a.compatibility,releaseScalaVersion:a.scala_version,releaseCreateTime:a.create_time});return this},isValid:function(){return""!==this.get("releaseVersion")},artifactCoordinate:function(){return this.get("releaseMavenCoordinate")||
this.get("releaseSPCoordinate")}});l.exports=a},{backbone:407}],125:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("backbone");f=c(f);a=a("../../libraries/search/SparkPackageRelease");var h=c(a);a=f.default.Collection.extend({model:h.default,fetch:function(a,c){a="/proxy/"+encodeURIComponent("http://spark-packages.org/api/v1/packages/"+a+"/releases?num_releases="+(c||-1)+"&published_releases_only=true&with_url=false");var b=this;e.default.ajax(a,{contentType:"application/x-www-form-urlencoded; charset=UTF-8",
type:"GET",success:function(a){a.releases&&function(){var c=[];e.default.each(a.releases,function(a,b){a=new h.default;c.push(a.parse(b))});b.set(c)}()}})}});l.exports=a},{"../../libraries/search/SparkPackageRelease":124,backbone:407,jquery:819}],126:[function(a,l,f){var c=function(){var a={};return{setItem:function(c,b){a[c]=String(b)},getItem:function(c){return a[c]},removeItem:function(c){delete a[c]},clear:function(){a={}}}};a=function(){window.localStorage=c()};a.storageMock=c;l.exports=a},{}],
127:[function(a,l,f){var c=(f=a("../local_storage/LocalStorageMock"))&&f.__esModule?f:{default:f},e=(a=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"))&&a.__esModule?a:{default:a},h={initialize:function(){var a;if(a=window.localStorage){var k=window.localStorage;try{k.setItem("testKey","1"),k.removeItem("testKey"),a=!0}catch(d){a=!1}}if(a)return this.storage=window.localStorage,this;e.default.alert('Local storage is not supported by your browser. Please exit "Private Mode", or upgrade to a modern browser.');
this.storage=c.default.storageMock();return this},serialize:function(a){return JSON.stringify(a)},deserialize:function(a){if("string"===typeof a)try{return JSON.parse(a)}catch(k){return a||void 0}},remove:function(a){this.storage.removeItem(a)},clear:function(){this.storage.clear()},set:function(a,c){if(void 0===c)return this.remove(a);this.storage.setItem(a,h.serialize(c));return c},get:function(a,c){a=this.deserialize(this.storage.getItem(a));return void 0===a?c:a},has:function(a){return!!this.storage.getItem(a)},
keys:function(){for(var a=[],c=0,d=this.storage.length;c<d;c++)a.push(this.storage.key(c));return a}};l.exports=h.initialize()},{"../local_storage/LocalStorageMock":126,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297}],128:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=this;this.store=k.default;this.storeKey=(window.settings?window.settings.user+"-"+window.settings.orgId:"unknown")+"-"+a;(0,h.default)(window).bind("storage",function(a){a.originalEvent.key&&
0===a.originalEvent.key.indexOf(this.storeKey)&&b.trigger("preferenceChanged")})}f=a("jquery");var h=c(f);f=a("underscore");var b=c(f);f=a("backbone");f=c(f);a=a("../local_storage/LocalStorageUtil");var k=c(a);b.default.extend(e.prototype,f.default.Events);e.prototype.set=function(a,b){this.store.set(this.storeKey+"-"+a,b);this.trigger("preferenceChanged")};e.prototype.get=function(a){return this.store.get(this.storeKey+"-"+a)};e.prototype.clear=function(){this.trigger("preferenceChanged");b.default.filter(this.store.keys(),
function(a){return 0===a.indexOf(this.storeKey)}).forEach(function(a){this.store.remove(a)})};l.exports=e},{"../local_storage/LocalStorageUtil":127,backbone:407,jquery:819,underscore:1021}],129:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});
b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.LoginOrgSelectionView=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("underscore");var b=c(l);l=a("jquery");var k=c(l);l=a("react");var d=c(l);l=a("../ui_building_blocks/icons/IconsForType");
var n=c(l),m=a("../urls/ResourceUrls");(f.LoginOrgSelectionView=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._gotoLoginPage=a._gotoLoginPage.bind(a);a.state={loadingOrg:null};return a}e(c,a);h(c,[{key:"componentDidMount",value:function(){0<
this.props.availableWorkspaces.length&&(this._keyHandler=this._onKeyDown.bind(this,this.props.availableWorkspaces[0].orgId),(0,k.default)(document).on("keydown",this._keyHandler))}},{key:"componentWillUnmount",value:function(){this._keyHandler&&(0,k.default)(document).off("keydown",this._keyHandler)}},{key:"_gotoLoginPage",value:function(){window.location="/login.html"}},{key:"_onClick",value:function(a,b){2===b.nativeEvent.which||b.ctrlKey||b.metaKey||b.shiftKey||(this.setState({loadingOrg:a}),this.props.selectFunc(a,
this._onLoadingComplete.bind(this)),b.preventDefault())}},{key:"_onKeyDown",value:function(a,b){13===b.which&&(this.setState({loadingOrg:a}),this.props.selectFunc(a,this._onLoadingComplete.bind(this),b),b.preventDefault())}},{key:"_onLoadingComplete",value:function(){this.setState({loadingOrg:null})}},{key:"_getSortedWorkspaces",value:function(){return this.props.availableWorkspaces.sort(function(a,b){return a.name.localeCompare(b.name)})}},{key:"_workspaceList",value:function(){var a=this,c=!0,k=
null!==this.state.loadingOrg,m=b.default.flatten(this._getSortedWorkspaces().map(function(b){var m=b.name;b.owner&&(m+=" ("+b.owner+")");var g=d.default.createElement("i",{className:"fa fa-"+(a.state.loadingOrg===b.orgId?n.default.inProgress:n.default.user)}),h=d.default.createElement("i",{className:"fa fa-chevron-right"}),m=d.default.createElement("a",{key:b.orgId,className:"workspace-link","data-name":b.name,"data-owner":b.owner,href:"/?o="+b.orgId+window.location.hash,onClick:k?null:a._onClick.bind(a,
b.orgId),onKeyDown:k?null:a._onKeyDown.bind(a,b.orgId),title:m},d.default.createElement("div",{className:"workspace-item"},d.default.createElement("div",{className:"icon"},g),d.default.createElement("div",{className:"workspace-text"},d.default.createElement("div",{className:"workspace-name"},b.name),b.owner?d.default.createElement("div",{className:"workspace-owner"},b.owner):null),d.default.createElement("div",{className:"arrow"},h)));return c?(c=!1,[m]):[d.default.createElement("hr",{key:"divider-"+
b.orgId}),m]}));return d.default.createElement("div",{className:"org-list"},m)}},{key:"render",value:function(){return d.default.createElement("div",{id:"login-page"},d.default.createElement("img",{src:m.ResourceUrls.getResourceUrl("login/databricks_logoTM_rgb_TM.svg"),className:"login-logo"}),d.default.createElement("div",{className:"login-form"},d.default.createElement("h3",{className:"sub-header"},"Choose Organization"),d.default.createElement("div",{className:"org-list-container"},this._workspaceList()),
d.default.createElement("button",{className:"back-to-signin btn btn-primary btn-large",onClick:this._gotoLoginPage},"Back to Sign In")))}}]);return c}(d.default.Component)).propTypes={availableWorkspaces:d.default.PropTypes.array.isRequired,selectFunc:d.default.PropTypes.func.isRequired}},{"../ui_building_blocks/icons/IconsForType":304,"../urls/ResourceUrls":322,jquery:819,react:1001,underscore:1021}],130:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(f,
"__esModule",{value:!0});f.LoginUtils=void 0;var e=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,k=!1,m=void 0;try{for(var h=a[Symbol.iterator](),e;!(d=(e=h.next()).done)&&(c.push(e.value),!b||c.length!==b);d=!0);}catch(A){k=!0,m=A}finally{try{if(!d&&h["return"])h["return"]()}finally{if(k)throw m;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=
b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("jquery");var b=c(l);l=a("react");var k=c(l);l=a("../login/PasswordUtils");var d=c(l),n=a("../validators/PasswordValidators");a=f.LoginUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}h(a,null,[{key:"cannotResetPwMsg",value:function(){return"Can not reset your password at this moment, please contact support@databricks.com"}},
{key:"invalidResetLinkMsg",value:function(){return"This link is invalid. You may have already used it or it may have expired."}},{key:"invalidSignupLinkMsg",value:function(){var a=k.default.createElement("a",{href:window.location.protocol+"//"+window.location.host+"/login.html"},"here");return k.default.createElement("span",null,"You have already registered using this link. Sign into Databricks ",a,".")}},{key:"logUserIn",value:function(c,d,k,m){document.cookie="csrf-token="+a.getCsrfToken()+"; ";
b.default.ajax({url:"/j_security_check",type:"POST",data:{j_username:c,j_password:d},success:function(){k()},error:function(a,b,c){m&&m(a,b,c)}})}},{key:"logUserInWithClientCert",value:function(a,c){b.default.ajax({url:"/x509cert/auth",type:"GET",success:function(){a()},error:function(a,b,d){c&&c(a,b,d)}})}},{key:"checkFormValidity",value:function(a,b,c){c=n.PasswordValidators.validatePassword(a,c);var k=e(c,2);c=k[0];k=k[1];c&&(a=d.default.checkEquality(a,b),a=e(a,2),c=a[0],k=a[1]);c&&(k="");return[c,
k]}},{key:"postPasswordReset",value:function(c,d,k){b.default.ajax({url:"/resetpassword/reset",type:"POST",data:JSON.stringify(c),success:function(b){a.handleResetResult(b,c,d,k)},error:function(){k()}})}},{key:"redirect",value:function(){window.location.href="/"}},{key:"redirectWithHash",value:function(){window.location.href="/"+location.search+location.hash}},{key:"handleResetResult",value:function(b,c,d,k){if(b&&b.type){if("PasswordReset"===b.type){a.logUserIn(c.username,c.newPassword,a.redirect,
window.settings&&window.settings.userEnabledSingleSignOn?a.redirect:void 0);return}if("InvalidPassword"===b.type&&b.warnings&&0<b.warnings.length){d(b);return}}k()}},{key:"ViewWrapper",value:function(a){return k.default.createElement("div",{id:a.containerId,className:"container"},k.default.createElement("img",{src:"/login/databricks_logoTM_rgb_TM.svg",className:"login-logo"}),k.default.createElement("div",{className:"login-form"+(a.formClass?" "+a.formClass:"")},k.default.createElement("h3",{className:"sub-header"+
(a.headerClass?" "+a.headerClass:"")},a.header),a.children))}},{key:"TermsOfServiceBody",value:function(a){return k.default.createElement("div",{className:"login-dialog-body"},"Please accept the following terms to continue.",k.default.createElement("div",{className:"scrolling-text"},a.termsText))}},{key:"CertHelperBody",value:function(a){return k.default.createElement("div",{className:"login-dialog-body"},"Contact your site administrator to request access. Your administrator will need your X.509 certificate subject name:",
k.default.createElement("div",{className:"scrolling-text"},a.subjectName))}},{key:"getCsrfToken",value:function(){var a="";window.settings&&window.settings.loginCsrf&&b.default.ajax({dataType:"json",url:"/login-csrf",success:function(b){a=b.token},async:!1});return a}},{key:"getParams",value:function(){var a,b=/\+/g,c=/([^&=]+)=?([^&]*)/g,d=window.location.search.substring(1),k={};for(a=c.exec(d);a;)k[decodeURIComponent(a[1].replace(b," "))]=decodeURIComponent(a[2].replace(b," ")),a=c.exec(d);return k}}]);
return a}();a.ViewWrapper.propTypes={containerId:k.default.PropTypes.string,header:k.default.PropTypes.node,headerClass:k.default.PropTypes.string,formClass:k.default.PropTypes.string};a.TermsOfServiceBody.propTypes={termsText:k.default.PropTypes.string};a.CertHelperBody.propTypes={subjectName:k.default.PropTypes.string}},{"../login/PasswordUtils":131,"../validators/PasswordValidators":351,jquery:819,react:1001}],131:[function(a,l,f){var c=(a=a("jquery"))&&a.__esModule?a:{default:a};l.exports={checkEquality:function(a,
c){return a===c?[!0,""]:[!1,"The two passwords do not match!"]},sendForgotPasswordToken:function(a,h,b){c.default.ajax("/resetpassword/sendtoken",{type:"POST",data:JSON.stringify({username:a}),error:function(a,c,h){console.error(h);b&&b()},success:function(a){a&&a.message&&h&&h(a.message)}})},shouldDisablePasswordReset:function(){return window.settings.enableX509Authentication||window.settings.enableSingleSignOn&&window.settings.enableSingleSignOnLogin&&window.settings.enableSingleSignOnByTier&&!window.settings.isAdmin},
disablePasswordTooltip:function(){return window.settings.enableX509Authentication?"Client certificate authentication is enabled for your organization. Please log in using your X.509 Certificate.":"Single Sign-On is enabled for your organization. Please log in using Single Sign-On."}}},{jquery:819}],132:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.AddNotebookView=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();
l=a("underscore");var b=c(l);l=a("react");var k=c(l),d=a("../acl/AclUtils.jsx");l=a("../clusters/ClusterList");l=c(l);var n=a("../forms/ReactFormElements.jsx"),m=a("../forms/ReactFormFooter.jsx"),q=c(m),m=a("../ui_building_blocks/dialogs/ReactModal.jsx"),w=c(m),p=a("../validators/NodeNameValidators");a=f.AddNotebookView=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._onEnter=a._onEnter.bind(a);a._onConfirm=a._onConfirm.bind(a);a._handleNameChange=a._handleNameChange.bind(a);a.availableLangs=["Python","Scala","SQL","R"];a.state={nameValid:!1};return a}e(c,a);h(c,[{key:"componentDidMount",value:function(){this.refs.notebookNameInput.focus();this.fetchClusterAcls();if(this.props.clusters)this.props.clusters.on("reset change add remove",this._forceUpdate.bind(this,null),this)}},{key:"_forceUpdate",value:function(){this.forceUpdate();
this.fetchClusterAcls()}},{key:"fetchClusterAcls",value:function(){var a=this.props.clusters,b=a&&a.attachableClusters()&&0<a.attachableClusters().length;d.AclUtils.clusterAclsEnabled()&&b&&a.attachableClusters().forEach(function(a){a.fetchPermissionLevel()})}},{key:"componentWillUnmount",value:function(){this.props.clusters&&this.props.clusters.off(null,null,this)}},{key:"_onEnter",value:function(a){this.state.nameValid&&this.refs.notebookFormFooter.confirm(a)}},{key:"_onConfirm",value:function(){if(this.state.nameValid){var a=
this.refs.notebookNameInput.value(),b=this.refs.languageSelect.value(),c=this.refs.clusterSelect&&this.refs.clusterSelect.value();this.props.createNotebookFunc(a,b,c)}}},{key:"_getClusterInput",value:function(){if(!this.props.clusters||0===this.props.clusters.length)return null;var a=this.props.clusters.attachableClusters();if(!a||0===a.length)return null;var c=!0,m=a.map(function(a){if(a.canAttach()||!d.AclUtils.clusterAclsEnabled())c=!1;return{label:a.shortDescription(),value:a.get("clusterId"),
disabled:d.AclUtils.clusterAclsEnabled()?!a.canAttach():!1}});if(c)return null;a=b.default.find(a,function(a){return a.canAttach()});return k.default.createElement("div",{className:"multi-input-row clusters-row",ref:"clusterInputDiv"},k.default.createElement("div",null,k.default.createElement("label",null,"Cluster"),k.default.createElement("div",null,k.default.createElement(n.Select,{selectId:"clusters",ref:"clusterSelect",selectClassName:"control-field clusters",options:m,defaultValue:a?a.get("clusterId"):
null,confirm:this._onEnter}))))}},{key:"_getLangOptions",value:function(){return b.default.map(this.availableLangs,function(a){return{label:a,value:a.toLowerCase()}})}},{key:"_handleNameChange",value:function(a){this.setState({nameValid:p.NodeNameValidators.isValidName(a)})}},{key:"_getBody",value:function(){return k.default.createElement("div",null,k.default.createElement("div",{className:"multi-input-row"},k.default.createElement("div",null,k.default.createElement("label",null,"Name"),k.default.createElement("div",
null,k.default.createElement(n.Input,{type:"text",ref:"notebookNameInput",id:"notebook-name-input",validate:p.NodeNameValidators.isValidName,onChange:this._handleNameChange,confirm:this._onEnter,inputClassName:"control-field shell-name",required:!0})))),k.default.createElement("div",{className:"multi-input-row"},k.default.createElement("div",null,k.default.createElement("label",null,"Language"),k.default.createElement("div",null,k.default.createElement(n.Select,{ref:"languageSelect",options:this._getLangOptions(),
selectId:"notebook-lang-select",selectClassName:"control-field language",confirm:this._onEnter,defaultValue:this.props.lastLanguage})))),this._getClusterInput())}},{key:"_getFooter",value:function(){return k.default.createElement(q.default,{ref:"notebookFormFooter",confirm:this._onConfirm,showConfirm:!0,showCancel:!0,confirmDisabled:!this.state.nameValid,confirmButton:"Create"})}},{key:"render",value:function(){return k.default.createElement(w.default,{modalName:"create-notebook-modal",header:k.default.createElement("h3",
null,"Create Notebook"),body:this._getBody(),footer:this._getFooter()})}}]);return c}(k.default.Component);a.propTypes={clusters:k.default.PropTypes.instanceOf(l.default).isRequired,createNotebookFunc:k.default.PropTypes.func,lastLanguage:k.default.PropTypes.string};a.defaultProps={lastLanguage:"python"}},{"../acl/AclUtils.jsx":3,"../clusters/ClusterList":32,"../forms/ReactFormElements.jsx":81,"../forms/ReactFormFooter.jsx":82,"../ui_building_blocks/dialogs/ReactModal.jsx":299,"../validators/NodeNameValidators":350,
react:1001,underscore:1021}],133:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){b?(b=a.getCommand(b))&&a.runCommand(b,{allowRunPendingAttach:!0}):a.runAll({allowRunPendingAttach:!0})}function h(a,b){var c=q.ClusterUtil.warnTooManyNotebooks(b)?q.ClusterUtil.getTooManyAttachedNotebooksWarning(b):null;a.showAttachDetachHighlight({tooltip:d.default.createElement("div",null,"This notebook is now running on "+b.get("clusterName"),d.default.createElement("br",null),d.default.createElement("a",
{href:"#setting/account/prefs"},"Auto-attach\u00a0Settings"),c),autoHideTooltip:!0,duration:3E3,animate:!1})}f=a("jquery");var b=c(f);f=a("underscore");var k=c(f);f=a("react");var d=c(f),n=a("../acl/AclUtils.jsx");f=a("../clusters/Cluster");var m=c(f),q=a("../clusters/Common.jsx");f=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var w=c(f),p=a("../ui_building_blocks/text/StringRenderers"),r={promptForClusterAttach:function(a,c,d,h,g){if(n.AclUtils.clusterAclsEnabled())m.default.ROOT.fetchPermissions(function(){var e=
[],n=d.attachableOrInProgressClusters();n.forEach(function(a){e.push(a.fetchPermissionLevel())});b.default.when.apply(b.default,e).done(function(){var b=k.default.filter(n,function(a){return a.canAttach()});(b=r.getAttachAction(h.get("clusterMetadata"),d,m.default.ROOT,b))?r._showPrompt(b,a,c,d,h,g):g.showRunCommandHighlight(a)})});else{var e=r.getAttachAction(h.get("clusterMetadata"),d);r._showPrompt(e,a,c,d,h,g)}},_showPrompt:function(a,c,k,m,g,h){window.prefs.get("autoLaunchAndAttach")?r.runAttachAction(a,
m,g,h)&&e(g,k):w.default.confirm({message:d.default.createElement("div",null,a.message,d.default.createElement("br",null),d.default.createElement("br",null),d.default.createElement("input",{className:"pref-autolaunch",type:"checkbox"},"\u00a0Automatically launch and attach to clusters without prompting")),confirmButton:a.confirmText,confirm:function(){(0,b.default)("input.pref-autolaunch").prop("checked")&&window.prefs.set("autoLaunchAndAttach",!0);r.runAttachAction(a,m,g,h)&&e(g,k)},cancel:function(){h.showRunCommandHighlight(c)}})},
_getTargetCluster:function(a,b){var c=a&&a.getDefaultCluster();return n.AclUtils.clusterAclsEnabled()?r._getTargetClusterWithAcls(b,c):r._getTargetClusterNoAcls(a,c)},_getTargetClusterNoAcls:function(a,b){var c=a&&a.attachableOrInProgressClusters();return b&&a.isAttachableOrInProgress(b.get("clusterId"))?b:c&&c[0]},_getTargetClusterWithAcls:function(a,b){if(a&&0!==a.length){var c=void 0;b&&(c=k.default.find(a,function(a){return a.get("clusterId")===b.get("clusterId")}));c||(c=a[0]);return c}},getAttachAction:function(a,
b,c,k){var g={message:[],confirmText:"Attach and Run",newCluster:!1,existingCluster:!1};a?g.message.push(d.default.createElement("span",null,"This notebook's cluster has been shut down")):g.message.push(d.default.createElement("span",null,"This notebook is not attached to a cluster"));if(k=r._getTargetCluster(b,k))return g.message.push(d.default.createElement("span",null,", however another cluster is available. Would you like to attach to ")),g.message.push(d.default.createElement("b",null,p.StringRenderers.htmlEscape(k.get("clusterName")))),
a?g.message.push(d.default.createElement("span",null," to continue running commands?")):g.message.push(d.default.createElement("span",null," to start running commands?")),q.ClusterUtil.warnTooManyNotebooks(k)&&g.message.push(q.ClusterUtil.getTooManyAttachedNotebooksWarning(k)),g.existingCluster=k,g;if(c&&!c.canCreateClusters())return null;c={clusterName:b.resolveNameConflicts("My Cluster"),memory:Math.floor(q.ClusterUtil.containersToMemoryGB(window.settings.defaultNumWorkers)),sparkVersion:window.settings.defaultSparkVersion.key,
zoneId:q.ClusterUtil.getInitialZoneId(),sparkConf:{},state:"Pending"};a&&(c.sparkVersion=a.sparkVersion,c.sparkConf=a.sparkConf,c.useSpotInstance=a.useSpotInstance,c.zoneId=a.zoneId,c.memory=a.memory,c.clusterName=a.clusterName);c=new m.default(c);a&&c.set("clusterName",b.resolveNameConflicts(a.clusterName));a?(g.message.push(d.default.createElement("span",null,". Would you like to relaunch ")),g.message.push(d.default.createElement("b",null,a.clusterName+" "+c.sizeAndSparkVersion())),g.message.push(d.default.createElement("span",
null," to continue running commands?")),g.confirmText="Relaunch and Run"):(g.message.push(d.default.createElement("span",null,". Would you like to launch a new cluster ")),g.message.push(d.default.createElement("b",null,c.sizeAndSparkVersion())),g.message.push(d.default.createElement("span",null," to start running commands?")),g.confirmText="Launch and Run");g.newCluster=c;return g},runAttachAction:function(a,b,c,d){if(a.existingCluster)a=a.existingCluster,h(d,a),c.attach(a.get("clusterId"),a.get("clusterName"));
else if(a.newCluster){if(q.ClusterUtil.exceedsClusterLimit(b.activeClusters().length))return w.default.alert("Could not create cluster: too many active clusters"),!1;a.newCluster.save({},{skipRequestQueue:!0,error:function(a,b){w.default.alert("Failed to create cluster: "+b.statusText)},success:function(a,b){c.attach(b.id,a.get("clusterName"));h(d,a)}})}else return console.error("Unknown attach action",a),!1;return!0}};l.exports=r},{"../acl/AclUtils.jsx":3,"../clusters/Cluster":21,"../clusters/Common.jsx":35,
"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/text/StringRenderers":317,jquery:819,react:1001,underscore:1021}],134:[function(a,l,f){var c=(f=a("jquery"))&&f.__esModule?f:{default:f},e=(f=a("underscore"))&&f.__esModule?f:{default:f};a("../../lib/jquery.ajaxQueue");var h=[];l.exports={rpc:function(a,c,d){0<h.length?h.push([this,[a,c,d]]):this._rpc(a,c,d)||(h.push([this,[a,c,d]]),e.default.delay(this._drainQueue.bind(this),100))},_drainQueue:function(){for(;0<h.length;){var a=
h.shift();if(!this._rpc.apply(a[0],a[1])){h.unshift(a);e.default.delay(this._drainQueue.bind(this),100);break}}},_rpc:function(a,k,d){d=d||{};k=k||{};if(d.sendCondition&&!d.sendCondition())return!1;var b=d.httpMethod||"POST",m=d.url||this.url();d.optimisticChanges&&this.set(d.optimisticChanges,{validate:!0});k["@method"]=a;("GET"===b?c.default.ajax:c.default.ajaxQueue)({context:this,type:b,url:m,data:JSON.stringify(k),contentType:"application/json; charset=utf-8",dataType:"json",success:d.success,
error:function(c,h,e){d.error&&d.error(c,h,e);console.error("RPC call failed",b,m,a,k,d)}});return!0}}},{"../../lib/jquery.ajaxQueue":403,jquery:819,underscore:1021}],135:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("react");var h=c(f);a=a("../ui_building_blocks/icons/IconsForType");var b=c(a);a=h.default.createClass({displayName:"ButtonBar",propTypes:{defaultActiveBtnKey:h.default.PropTypes.string.isRequired,buttons:h.default.PropTypes.object.isRequired,
onChange:h.default.PropTypes.func.isRequired,className:h.default.PropTypes.string,confirmChange:h.default.PropTypes.func,useIcons:h.default.PropTypes.bool,label:h.default.PropTypes.string,disabled:h.default.PropTypes.bool},getDefaultProps:function(){return{useIcons:!1,disabled:!1}},getInitialState:function(){return{activeBtnKey:this.props.defaultActiveBtnKey,updating:!1}},getLabel:function(){return this.props.label?h.default.createElement("span",null,this.props.label,":"):null},onChange:function(a){if(!this.state.updating){var b=
this,c=b.props.buttons[a],k=function(){b.setState({updating:!0,activeBtnKey:a});b.props.onChange(c,function(){b.setState({updating:!1})})};this.props.confirmChange?this.props.confirmChange(c,k):k()}},getButtons:function(){var a=this.props.buttons;return e.default.map(e.default.keys(a),function(c){var d="btn",k=h.default.createElement("i",{className:"fa fa-"+b.default[c]});this.state.activeBtnKey===c&&(d+=" active");var e=this.onChange.bind(this,c);return h.default.createElement("a",{className:d,disabled:this.state.updating||
this.props.disabled?!0:null,key:c,onClick:e,value:a[c]},this.props.useIcons?k:c)},this)},render:function(){return h.default.createElement("div",{className:"buttons-bar "+this.props.className},this.getLabel(),h.default.createElement("div",{className:"btn-group"},this.getButtons()))}});l.exports=a},{"../ui_building_blocks/icons/IconsForType":304,react:1001,underscore:1021}],136:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("jquery");f=c(f);var h=
a("backbone"),h=c(h);a=a("../local_storage/LocalStorageUtil");var b=c(a),k={};e.default.extend(k,h.default.Events);(0,f.default)(window).bind("storage",function(a){"clipboardCommand"===a.originalEvent.key&&k.trigger("clipboardChanged")});k.getMode=function(){return b.default.get("clipboardCurrentMode")};k.setMode=function(a){return b.default.set("clipboardCurrentMode",a)};k.filterValidAttrs=function(a){return"finished"!==a.state&&"error"!==a.state||a.results&&"image"===a.results.type?e.default.pick(a,
["command","commandType","bindings","displayType"]):e.default.pick(a,"command commandType state resultType results error errorSummary startTime submitTime finishTime collapsed bindings inputWidgets arguments displayType height width xColumns yColumns pivotColumns pivotAggregation customPlotOptions commandTitle showCommandTitle hideCommandCode hideCommandResult".split(" "))};k._cachedCommand=null;k.putCommand=function(a,c){k._cachedCommand=this.filterValidAttrs(a);k.setMode(c);b.default.set("clipboardCommand",
k._cachedCommand);k.trigger("clipboardChanged")};k.getCommand=function(){if(k._cachedCommand)return k._cachedCommand;k._cachedCommand=b.default.get("clipboardCommand");return k._cachedCommand};k.isEmpty=function(){return!k._cachedCommand};k.load=function(){k._cachedCommand=void 0;k.getCommand()};k.on("clipboardChanged",k.load);k.load();l.exports=k},{"../local_storage/LocalStorageUtil":127,backbone:407,jquery:819,underscore:1021}],137:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==
b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.ClusterDropdownItem=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,
d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&l.__esModule?l:{default:l},b=a("../acl/AclUtils.jsx");l=a("../clusters/Cluster");var k=a("../clusters/Common.jsx"),d=a("../ui_building_blocks/icons/IconsForType"),n=d&&d.__esModule?d:{default:d},m=a("../ui_building_blocks/Tooltip.jsx");(f.ClusterDropdownItem=function(a){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=(d.__proto__||Object.getPrototypeOf(d)).call(this,
a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._onClickClusterAttach=a._onClickClusterAttach.bind(a);a._onClickClusterNav=a._onClickClusterNav.bind(a);return a}c(d,a);e(d,[{key:"componentDidMount",value:function(){b.AclUtils.clusterAclsEnabled()&&this.props.cluster&&!this.props.cluster.permissionsHaveBeenFetched()&&this.props.cluster.fetchPermissionLevel()}},{key:"_onClickClusterAttach",value:function(){this._hasAttachPermissions()&&
this.props.clickHandler()}},{key:"_getClusterHref",value:function(){return k.ClusterUtil.getDetailsLinks(this.props.cluster.get("clusterId")).notebooks}},{key:"_onClickClusterNav",value:function(){var a=this._getClusterHref();window.open(a);window.recordEvent("notebookActionsClicked",this.props.tagsFunction({actionSelected:"navigateToCluster"}))}},{key:"_getDisabledClusterLink",value:function(a){return h.default.createElement(m.Tooltip,{text:"You do not have attach permissions on this cluster. Please contact your administrator.",
ref:"tooltip",attachToBody:!0,classes:["no-attach-cluster"]},a)}},{key:"_getAttachLinkClass",value:function(a){return a?"cluster-attach-link disabled":"cluster-attach-link"}},{key:"_hasAttachPermissions",value:function(){return!b.AclUtils.clusterAclsEnabled()||this.props.cluster.canAttach()}},{key:"_getClusterAttachLink",value:function(a){var b=a.isAttachable()?n.default.cluster:n.default.inProgress,c=!this._hasAttachPermissions(),b=h.default.createElement("div",{onClick:this._onClickClusterAttach,
className:this._getAttachLinkClass(c)},h.default.createElement("i",{className:"fa fa-"+b})," "+a.shortDescription());a.isAttachable()&&c&&(b=this._getDisabledClusterLink(b));return b}},{key:"render",value:function(){var a=this.props.cluster,b="Context Bar Attach "+a.get("clusterName");return h.default.createElement("a",{"data-name":b,key:a.get("clusterId"),className:"attach-detach-wrapper"},this._getClusterAttachLink(a),h.default.createElement("span",{onClick:this._onClickClusterNav,className:"cluster-nav-link",
title:"Open cluster"},h.default.createElement("i",{className:"cluster-nav-link-icon fa fa-fw fa-"+n.default.navigate})))}}]);return d}(h.default.Component)).propTypes={clickHandler:h.default.PropTypes.func.isRequired,cluster:h.default.PropTypes.instanceOf(l.Cluster).isRequired,tagsFunction:h.default.PropTypes.func.isRequired}},{"../acl/AclUtils.jsx":3,"../clusters/Cluster":21,"../clusters/Common.jsx":35,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/icons/IconsForType":304,react:1001}],
138:[function(a,l,f){function c(a,b){for(var c in a)if(a.hasOwnProperty(c)&&c.toLowerCase()===b.toLowerCase())return!0;return!1}function e(a,b,c,d,k,h){for(var m in c)if(c.hasOwnProperty(m)&&(Array.isArray(c)&&(m=c[m]),!0!==k[d(m)])){var e;e=b;var n=h,q=m.substr(0,e.length);e=n?e===q:e.toUpperCase()===q.toUpperCase();e&&(a.push(d(m)),k[d(m)]=!0)}}function h(a){return"text/x-hiveql"===a?d.SQLKeywords:"text/x-scala"===a?d.ScalaKeywords:"text/x-rsrc"===a?d.RKeywords:d.PythonKeywords}function b(a){return"text/x-hiveql"===
a?d.PrevCommandsSQL:"text/x-scala"===a?d.PrevCommandsScala:"text/x-rsrc"===a?d.RKeywords:d.PrevCommandsPython}var k=a("../../lib/codemirror/lib/codemirror");a("../../lib/codemirror/mode/sql/sql");a("../../lib/codemirror/mode/clike/clike");a("../../lib/codemirror/mode/r/r");a("../../lib/codemirror/mode/python/python");var d={TableNames:{},ColumnNames:{},PrevCommandsSQL:{},PrevCommandsScala:{},PrevCommandsPython:{},PrevCommandsR:{},initializeKeywords:function(){d.SQLKeywords=k.resolveMode("text/x-hiveql").keywords;
d.ScalaKeywords=k.resolveMode("text/x-scala").keywords;d.PythonKeywords=k.resolveMode("text/x-python").keywords;d.RKeywords=k.resolveMode("text/x-rsrc").keywords},addKeyword:function(a){for(var b in a)Array.isArray(a)&&(b=a[b]),d.SQLKeywords[b]=!0},addTable:function(a){for(var b in a)Array.isArray(a)&&(b=a[b]),delete d.PrevCommandsSQL[b],delete d.PrevCommandsScala[b],delete d.PrevCommandsPython[b],delete d.PrevCommandsR[b],d.TableNames[b]=!0},populateTable:function(){var a=[];window.tableList.forEach(function(b){a.push(b.get("name"))});
d.addTable(a)},addColumn:function(a){for(var b in a)Array.isArray(a)&&(b=a[b]),d.ColumnNames[b]=!0},addPrevCommands:function(a,b){for(var k in a){Array.isArray(a)&&(k=a[k]);if(c(d.TableNames,k)||c(d.ColumnNames,k))break;"text/x-hiveql"===b?c(d.SQLKeywords,k)||(d.PrevCommandsSQL[k]=!0):"text/x-scala"===b?c(d.ScalaKeywords,k)||(d.PrevCommandsScala[k]=!0):"text/x-python"===b?c(d.PythonKeywords,k)||(d.PrevCommandsPython[k]=!0):"text/x-rsrc"===b&&(c(d.RKeywords,k)||(d.PrevCommandsR[k]=!0))}},addPrevCommandString:function(a,
b){a=a.match(/[a-z_]([a-z0-9_]*)/gi);d.addPrevCommands(a,b)}};k.registerHelper("hint","webapp",function(a){var c=a.getCursor(),n=a.getTokenAt(c),f=[],p={},r=n.string.trim();e(f,r,h(a.doc.modeOption),function(a){return a},p,!1);d.populateTable();e(f,r,d.TableNames,function(a){return a},p,!1);e(f,r,d.ColumnNames,function(a){return a},p,!1);e(f,r,b(a.doc.modeOption),function(a){return a},p,!0);return{list:f,from:k.Pos(c.line,n.start),to:k.Pos(c.line,n.end)}});l.exports=d},{"../../lib/codemirror/lib/codemirror":390,
"../../lib/codemirror/mode/clike/clike":391,"../../lib/codemirror/mode/python/python":394,"../../lib/codemirror/mode/r/r":395,"../../lib/codemirror/mode/sql/sql":396}],139:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("d3");var b=c(f);f=a("../../lib/codemirror/lib/codemirror");var k=c(f),d=a("../notebook/CodeModeUtils"),n={defaultOptions:function(a){return h.default.extend({mode:"text/x-hiveql",lineWrapping:!0,theme:"eclipse-focus",
matchBrackets:!0,autoCloseBrackets:!(window.prefs&&window.prefs.get("disableSmartQuotes")),undoDepth:1E4},a)},longestCommonPrefix:function(a,b){var c=b.data.list;if(1===c.length)b.pick();else{b=void 0;for(var d=c[0].text,k=!1,h=!1,m=0;m<d.length;m++){for(var e=1;e<c.length;e++)if(d.charAt(m)!==c[e].text.charAt(m)){h=!0;break}else m===c[e].text.length-1&&(k=!0);if(h){0!==m&&(b=d.substr(0,m));break}else if(m===d.length-1||k){b=d.substr(0,m+1);break}}void 0!==b&&a.replaceRange(b,c[0].from,c[0].to)}},
MultiHint:function(){this.completeSource=[];this.completeCallback=void 0;this.pendingRequests=0;this.pendingResults=null}};n.MultiHint.prototype.gatherSource=function(a,b){var c=a.from,d=a.to;--this.pendingRequests;this.pendingResults||(this.pendingResults={list:[],from:c,to:d});var k=h.default.map(this.pendingResults.list,function(a){return a.text.toLowerCase()}),m;for(m in a.list)if(a.list.hasOwnProperty(m)){var e={};e.text=a.list[m];-1===k.indexOf(e.text.toLowerCase())&&(e.from=c,e.to=d,b&&b.itemClassName&&
(e.className=b.itemClassName),this.pendingResults.list.push(e))}0===this.pendingRequests&&(this.completeCallback(this.pendingResults),this.pendingResults=void 0)};n.MultiHint.prototype.complete=function(a,b,c){this.completeCallback=b;this.pendingRequests=this.completeSource.length;for(b=0;b<this.completeSource.length;b++)this.completeSource[b](a,h.default.bind(this.gatherSource,this),c)};n.getDisplayText=function(a){return a.displayText?a.displayText:a.text};n.setupAutoCompleteAndTabHandling=function(){var a=
new n.MultiHint;a.completeSource.push(function(a,b,c){var d=k.default.hint.webapp;d?b(d(a,c),c):b({},c)});var b=function(a,b,c,d){var h=c.getCursor(),m=c.getLine(h.line),g=h.ch;n._autoCompleteRequest&&(n._autoCompleteRequest.cancel(),n._autoCompleteRequest=null);n._autoCompleteRequest=window.conn.wsClient.sendRPC("autoComplete",{data:{notebookId:a,language:b,line:m,cursorPosition:g},success:function(a){n._autoCompleteRequest=null;var b=c.getCursor(),e=c.getLine(b.line);c.hasFocus()&&b.line===h.line&&
b.ch===h.ch&&e===m?function(){var b=k.default.Pos(h.line,g-a.text.length),c=k.default.Pos(h.line,g);a.matches.sort(function(a,b){a=n.getDisplayText(a);b=n.getDisplayText(b);return a.toLowerCase().localeCompare(b.toLowerCase())});d({list:a.matches.map(function(a){return{text:a.text,displayText:n.getDisplayText(a),from:b,to:c}}),from:b,to:c})}():d({list:[],from:0,to:0})},error:function(a){console.log("AutoComplete RPC was unsuccessful",a);n._autoCompleteRequest=null;d({list:[],from:0,to:0})}})},c=function(c,
k,m){if(window.settings.enableServerAutoComplete){var e=window.activeView,n=void 0,q=void 0,g=void 0,v=void 0,z=void 0;e.props&&e.props.notebook?(n=!0,q=e.props.notebook.isAttached(),g=e.props.notebook.get("id"),v=e.props.notebook.get("language"),z=d.CodeModeUtils.determineCodeMode(c.getValue(),v)):e.viewRoute&&/^shell\//.test(e.viewRoute)&&(n=!0,q=e.isAttached(),g=e.id,v=e.language,z=d.CodeModeUtils.determineCodeMode(c.getValue(),v));!n||"text/x-python"!==z&&"text/x-scala"!==z&&"text/x-rsrc"!==z?
a.complete(c,k,m):q?b(g,v,c,k):(m=h.default.clone(m),m.itemClassName="CodeMirror-hint-grayed-out",a.complete(c,k,m))}else a.complete(c,k,m)};k.default.commands.triggerAutoCompleteAsYouType=function(a){if(!a.somethingSelected()){var b=a.getCursor(),b=a.getRange({line:b.line,ch:0},b),d=0<b.length&&b[b.length-1],h=" {[:\\\"'".split("");""===b.trim()||0<=h.indexOf(d)||a.state.completionActive||k.default.showHint(a,c,{completeSingle:!1,async:!0,extraKeys:{Tab:n.longestCommonPrefix,"Ctrl-P":"Up","Ctrl-N":"Down"}})}};
k.default.commands.handleTabHit=function(a){if(a.somethingSelected())k.default.commands.indentMore(a);else{var b=a.getCursor();""===a.getRange({line:b.line,ch:0},b).trim()?k.default.commands.indentMore(a):a.state.completionActive||k.default.showHint(a,c,{completeSingle:!0,async:!0,extraKeys:{Tab:n.longestCommonPrefix,"Ctrl-P":"Up","Ctrl-N":"Down"}})}}};n.determineMode=function(a,b,c){b=null===a?b:a.getValue();c=d.CodeModeUtils.determineCodeMode(b,c);if(null===a)return c;a.setOption("mode",c)};n.blur=
function(a){a.setOption("readOnly","nocursor");a.setOption("readOnly",!1)};n.comparePos=function(a,b){return a.line!==b.line?a.line-b.line:a.ch-b.ch};n.compareRange=function(a,b){return 0!==this.comparePos(a.from,b.from)?this.comparePos(a.from,b.from):this.comparePos(a.to,b.to)};n.somethingNonEmptySelected=function(a){return a.somethingSelected()&&""!==a.getSelection().replace(/\s+/g,"")};n.isModeControlLineSelected=function(a){var b=a.getSelection();a=a.getLine(this.getFirstLineSelected(a));return d.CodeModeUtils.doesTextStartWithCodeMode(a)||
d.CodeModeUtils.doesTextStartWithCodeMode(b)};n.getFirstLineSelected=function(a){return a.listSelections()[0].from().line};n.addedColorClasses={};n.addColorClassIfMissing=function(a,c){if(!this.addedColorClasses[c]){var d=b.default.rgb(a).hsl();a=parseInt(d.h,10);var k=parseInt(100*d.s,10)+"%",d=parseInt(100*d.l,10)+"%";a="."+c+"{ background-color: hsla("+a+", "+k+", "+d+", 0.3); }";(0,e.default)("<style>").prop("type","text/css").html(a).appendTo("head")}this.addedColorClasses[c]=!0};l.exports=n},
{"../../lib/codemirror/lib/codemirror":390,"../notebook/CodeModeUtils":140,d3:707,jquery:819,underscore:1021}],140:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=/^\s*%sql(\s|$)/,h=/^\s*%md(\s|$)/,b=/^\s*%run(\s|$)/,k=/^\s*%(\w+)(\s|$)/;
f.CodeModeUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"getLanguageMimeType",value:function(a){var b=a;"sql"===a?b="hiveql":"r"===a&&(b="rsrc");return"text/x-"+b}},{key:"determineCodeMode",value:function(b,c){if(h.test(b))return a.getLanguageMimeType("markdown");if(b=k.exec(b))if(b=b[1],"scala"===b||"python"===b||"r"===b||"sql"===b)return a.getLanguageMimeType(b);return"r"===c?a.getLanguageMimeType("r"):a.getLanguageMimeType(c)}},
{key:"doesTextStartWithCodeMode",value:function(a){return h.test(a)||b.test(a)||e.test(a)}},{key:"determineCodeLang",value:function(a,c){if(!h.test(a)){if(b.test(a))return"run";if("sql"===c||e.test(a))return"sql";if("r"===c)return"r"}return c}},{key:"changeCodeLang",value:function(c,d,k){d=a.determineCodeLang(c,d);d!==k&&("sql"===d?c=c.replace(e,""):"markdown"===d?c=c.replace(h,""):"run"===d&&(c=c.replace(b,"")),"sql"===k?c="%sql "+c:"markdown"===k?c="%md "+c:"run"===k&&(c=""===c.trim()?"%run /path/to/notebook":
"%run "+c));return c}},{key:"getCode",value:function(a){return h.test(a)?a.replace(h,""):e.test(a)?a.replace(e,""):a}}]);return a}()},{}],141:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.CodemirrorPre=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("react");var b=c(l),k=a("../notebook/CodeMirrorUtils"),d=c(k);a=a("../../lib/codemirror/lib/codemirror");var n=c(a);f=f.CodemirrorPre=function(a){function c(a){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.updateText=a.updateText.bind(a);return a}e(c,a);h(c,[{key:"componentDidMount",value:function(){this.updateText()}},{key:"componentDidUpdate",value:function(){this.updateText()}},{key:"updateText",value:function(){this.props.renderCodeToDom(this.props.command,
this.props.notebookLanguage,this.pre)}},{key:"render",value:function(){var a=this;return b.default.createElement("pre",{ref:function(b){return a.pre=b},className:"cm-s-eclipse capture-run-mode"})}}]);return c}(l.Component);f.defaultCodeRenderer=function(a,b,c){b=d.default.determineMode(null,a,b);n.default.runMode(a+"\n",b,c)};f.propTypes={command:b.default.PropTypes.string.isRequired,notebookLanguage:b.default.PropTypes.string.isRequired,renderCodeToDom:b.default.PropTypes.func};f.defaultProps={renderCodeToDom:f.defaultCodeRenderer}},
{"../../lib/codemirror/lib/codemirror":390,"../notebook/CodeMirrorUtils":139,react:1001}],142:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("lodash");var h=c(f);f=a("react");var b=c(f);f=a("classnames");var k=c(f);f=a("../acl/WorkspacePermissions");var d=c(f);f=a("../notebook/CodeMirrorKeywords");var n=c(f);f=a("../notebook/CodeMirrorUtils");var m=c(f);f=a("../notebook/CommandParserUtils");var q=c(f);f=a("../notebook/NotebookModel");f=c(f);var w=
a("../notebook/CodeModeUtils.js"),p=a("../user_platform/BrowserUtils"),r=a("../../lib/codemirror/lib/codemirror");a("../../lib/codemirror/mode/sql/sql");a("../../lib/codemirror/mode/clike/clike");a("../../lib/codemirror/addon/runmode/runmode");a("../../lib/codemirror/mode/r/r");a("../../lib/codemirror/mode/python/python");a("../../lib/codemirror/mode/xml/xml");a("../../lib/codemirror/mode/markdown/markdown");a("../../lib/codemirror/addon/hint/show-hint");a("../../lib/codemirror/addon/hint/sql-hint");
a("../../lib/codemirror/addon/edit/matchbrackets");a("../../lib/codemirror/addon/edit/closebrackets");a("../../lib/codemirror/addon/comment/comment");a=b.default.createClass({displayName:"CodemirrorView",propTypes:{notebook:b.default.PropTypes.instanceOf(f.default).isRequired,commandGuid:b.default.PropTypes.string.isRequired,notebookLanguage:b.default.PropTypes.string.isRequired,command:b.default.PropTypes.string.isRequired,saveCommandText:b.default.PropTypes.func.isRequired,collapsed:b.default.PropTypes.bool.isRequired,
diffPointers:b.default.PropTypes.object.isRequired,hide:b.default.PropTypes.bool.isRequired,presenceMarks:b.default.PropTypes.array.isRequired,isLocked:b.default.PropTypes.bool.isRequired,moveUp:b.default.PropTypes.func.isRequired,moveDown:b.default.PropTypes.func.isRequired,addCommandAbove:b.default.PropTypes.func.isRequired,addCommandBelow:b.default.PropTypes.func.isRequired,pasteCommandBelow:b.default.PropTypes.func.isRequired,copyCommand:b.default.PropTypes.func.isRequired,cutCommand:b.default.PropTypes.func.isRequired,
removeCommand:b.default.PropTypes.func.isRequired,isLastCommand:b.default.PropTypes.bool.isRequired,lastModifiedBy:b.default.PropTypes.string.isRequired,permissionLevel:b.default.PropTypes.string,onTextSelected:b.default.PropTypes.func,showCommentMarks:b.default.PropTypes.bool,toggleCommentsPanel:b.default.PropTypes.func,updateCursorPosition:b.default.PropTypes.func.isRequired,updatePresenceCommand:b.default.PropTypes.func.isRequired,comments:b.default.PropTypes.array,isReadOnly:b.default.PropTypes.bool.isRequired},
getDefaultProps:function(){return{permissionLevel:d.default.MANAGE}},hasFocus:function(){return this.editor.hasFocus()},focusEditor:function(){this.editor.focus();this.resumeCursorPosition()},blurEditor:function(){m.default.blur(this.editor)},saveCursorPosition:function(){this.cursorPosition=this.editor.getCursor()},resumeCursorPosition:function(){this.cursorPosition&&this.editor.setCursor(this.cursorPosition)},updateCommandText:function(a){this.saveCursorPosition();this.editor.setValue(a);this.resumeCursorPosition()},
shouldComponentUpdate:function(a){var b=this.props.collapsed!==a.collapsed,c=this.props.hide!==a.hide;(a.command!==this.editor.getValue()&&a.lastModifiedBy!==p.BrowserUtils.getBrowserTabId()||c||b)&&this.updateCommandText(a.command);this.editor.setOption("readOnly",a.isReadOnly);b=b||c;!b&&h.default.isEqual(a.presenceMarks,this.props.presenceMarks)||this.updatePresenceMarks(a.presenceMarks);!b&&h.default.isEqual(a.comments,this.props.comments)&&a.showCommentMarks===this.props.showCommentMarks||this.updateCommentMarks(a);
return!1},runCommand:function(a){this.props.isReadOnly||this.props.saveCommandText(this.editor.getValue());this.props.notebook.trigger("run-command",{commandGuid:this.props.commandGuid,callback:a})},_runAndAddCommandBelowCallback:function(a,b){b&&this.canEdit()&&this.props.addCommandBelow()},_runAndFocusNextCommandCallback:function(a,b){this.props.isLastCommand&&""===this.editor.getValue()||b&&this._navigateDown(!0)},_navigateDown:function(a){this.props.notebook.trigger("navigate-down",{commandGuid:this.props.commandGuid,
insertCommand:this.canEdit()&&a})},_navigateUp:function(){this.props.notebook.trigger("navigate-up",{commandGuid:this.props.commandGuid,insertCommand:this.canEdit()})},canEdit:function(){return d.default.canEdit(this.props.permissionLevel)},canRun:function(){return d.default.canRun(this.props.permissionLevel)},toggleLineComment:function(a){var b=q.default.getLanguage(this.props.command);b&&b!==this.props.notebookLanguage&&m.default.isModeControlLineSelected(a)&&a.setOption("mode",w.CodeModeUtils.getLanguageMimeType(this.props.notebookLanguage));
a.execCommand("toggleComment")},getCodemirrorOptions:function(){var a=this,b=function(b){var c=b.getCursor();if(1<b.lineCount()&&0!==c.line)return r.Pass;0!==c.ch?b.setCursor(0,0):a._navigateUp()},c=function(b){var c=b.getCursor();if(c.line!==b.lineCount()-1)return r.Pass;b.getLine(c.line).length-1>c.ch?b.setCursor(c.line+1):a._navigateDown()};return{readOnly:a.props.isReadOnly,extraKeys:{"Shift-Enter":function(b){a.runCommand(a._runAndFocusNextCommandCallback.bind(a,b))},"Ctrl-Enter":function(){a.runCommand()},
"Alt-Enter":function(b){a.runCommand(a._runAndAddCommandBelowCallback.bind(a,b))},"Ctrl-Alt-P":function(){a.canEdit()&&a.props.addCommandAbove()},"Ctrl-Alt-N":function(){a.canEdit()&&a.props.addCommandBelow()},"Ctrl-Alt-Up":function(){a.canEdit()&&a.props.moveUp({skipFocusCommand:!0})},"Ctrl-Alt-Down":function(){a.canEdit()&&a.props.moveDown({skipFocusCommand:!0})},"Ctrl-Alt-M":function(b){if(a.canCreateComment())if(b.somethingSelected()&&a.props.onTextSelected)a.props.onTextSelected(b,{createComment:!0});
else a.props.toggleCommentsPanel&&a.props.toggleCommentsPanel()},Esc:function(a){m.default.blur(a)},"Alt-Up":function(){a._navigateUp()},"Alt-Down":function(){a._navigateDown()},Up:b,"Ctrl-P":b,Down:c,"Ctrl-N":c,"Ctrl-Alt-V":function(){a.props.pasteCommandBelow()},"Ctrl-Alt-C":function(){a.props.copyCommand()},"Ctrl-Alt-X":function(){a.props.cutCommand();a._navigateDown(!0)},"Ctrl-Alt-D":function(){a.props.removeCommand(null,{noConfim:!0});a._navigateDown(!0)},Backspace:function(a){var b=a.getCursor();
if(""===a.getLine(b.line).trim()&&a.getLine(b.line).length>=a.getOption("indentUnit")&&a.getLine(b.line).length===b.ch&&!a.somethingSelected())a.execCommand("indentLess");else return r.Pass},Tab:function(b){a.canEdit()&&b.execCommand("handleTabHit")},"Shift-Tab":"indentLess","Ctrl-/":h.default.bind(a.toggleLineComment,a),"Cmd-/":h.default.bind(a.toggleLineComment,a)}}},updateMarks:function(a){var b=a.getAllMarks();h.default.each(b,function(b){if(b.comment){var c=b.find(),g=a.getRange(c.from,c.to);
b.comment.updateReferenceRange(c,g)}})},canCreateComment:function(){return window.settings&&window.settings.enableReactNotebookComments&&!this.props.isLocked&&!this.props.collapsed},componentDidMount:function(){var a=this;this.throttleUpdateMark=h.default.throttle(this.updateMarks,1E3);this.saveCommandText=h.default.throttle(function(b){a.props.saveCommandText(b)},1E3);m.default.setupAutoCompleteAndTabHandling();this.editor=r.fromTextArea(this.refs.textarea,m.default.defaultOptions(this.getCodemirrorOptions()));
n.default.initializeKeywords(this.editor);this.editor.setValue(this.props.command);this.editor.clearHistory();this.momentAfterContextmenu=!1;this.editor.on("contextmenu",function(){a.momentAfterContextmenu=!0;h.default.delay(function(){a.momentAfterContextmenu=!1},20)});this.editor.on("blur",function(){h.default.delay(function(){a.editor&&a.editor.somethingSelected()&&!a.momentAfterContextmenu&&a.editor.setSelection({line:0,ch:0})},10);a.props.saveCommandText(a.editor.getValue());a.props.notebook.trigger("editor-blur",
{commandGuid:a.props.commandGuid})});this.editor.on("focus",function(){a.props.updatePresenceCommand();a.props.notebook.trigger("update-focus-command",{commandGuid:a.props.commandGuid,isEditing:!a.props.isReadOnly});window.cm=a.editor});this.editor.on("cursorActivity",h.default.throttle(function(b){var c=b.getCursor("from"),g=b.getCursor("to");if(a.canCreateComment()&&b.somethingSelected()&&a.props.onTextSelected)a.props.onTextSelected(b,{showPopover:!0});a.props.isReadOnly||(a.props.updateCursorPosition(c,
g),a.throttleUpdateMark(a.editor))},300));this.editor.on("change",function(){a.saveCommandText(a.editor.getValue());m.default.determineMode(a.editor,null,a.props.notebookLanguage)});var b={9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",27:"escape",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"};this.editor.on("keyup",function(c,d){0<=window.settings.enableAutoCompleteAsYouType.indexOf(a.props.notebookLanguage)&&!b[(d.keyCode||d.which).toString()]&&
c.execCommand("triggerAutoCompleteAsYouType")});m.default.determineMode(this.editor,null,this.props.notebookLanguage);(0,e.default)(this.editor.getWrapperElement()).on("keydown",function(a){a.stopPropagation()});this.updatePresenceMarks(this.props.presenceMarks);this.updateCommentMarks(this.props);this.updateDiffMarks()},updatePresenceMarks:function(a){h.default.each(this.marks,function(a){a.clear()});this.marks=[];h.default.each(a,function(a){0===a.cursorEnd.ch&&a.cursorEnd.line>a.cursorStart.line&&
(--a.cursorEnd.line,a.cursorEnd.ch=9999);this.marks.push(this.editor.setBookmark(a.cursorEnd,{widget:(0,e.default)("<span style='border-color: "+a.bgColor+"' title='"+h.default.capitalize(a.userName)+"' class='bookmark'><span style='background-color: "+a.bgColor+"' class='bookmark-user'></span></span>")[0]}));if(JSON.stringify(a.cursorEnd)!==JSON.stringify(a.cursorStart)){var b="highlight-"+a.bgColor.substring(1);this.marks.push(this.editor.markText(a.cursorStart,a.cursorEnd,{className:b,title:h.default.capitalize(a.userName),
shared:!0}));m.default.addColorClassIfMissing(a.bgColor,b)}},this)},updateCommentMarks:function(a){h.default.each(this.commentMarks,function(a){a.clear()});this.commentMarks=[];var b=!a.showCommentMarks||a.collapsed;h.default.each(a.comments,function(a){a.set("editor",this.editor);var c=a.get("commentReference");if("commandFragment"===c.referenceType){c=c.range;0===c.to.ch&&c.to.line>c.from.line&&(--c.to.line,c.to.ch=9999);var g={"comment-mark":!0,"hidden-mark":b};g["comment-mark-"+a.get("guid")]=
!0;c=this.editor.markText(c.from,c.to,{className:(0,k.default)(g),comment:a});this.commentMarks.push(c);a.mark=c}},this)},updateDiffMarks:function(){var a=this;this.props.diffPointers&&this.props.diffPointers.diffInserts&&h.default.each(this.props.diffPointers.diffInserts,function(b){a.editor.markText({line:b.lineStart,ch:b.chStart},{line:b.lineEnd,ch:b.chEnd},{className:"diff-insert"})});this.props.diffPointers&&this.props.diffPointers.diffDeletes&&h.default.each(this.props.diffPointers.diffDeletes,
function(b){a.editor.markText({line:b.lineStart,ch:b.chStart},{line:b.lineEnd,ch:b.chEnd},{className:"diff-delete"})})},render:function(){return b.default.createElement("textarea",{className:"command-box-textarea codeeditor",ref:"textarea",tabIndex:"1",spellCheck:"false"})}});l.exports=a},{"../../lib/codemirror/addon/comment/comment":384,"../../lib/codemirror/addon/edit/closebrackets":385,"../../lib/codemirror/addon/edit/matchbrackets":386,"../../lib/codemirror/addon/hint/show-hint":387,"../../lib/codemirror/addon/hint/sql-hint":388,
"../../lib/codemirror/addon/runmode/runmode":389,"../../lib/codemirror/lib/codemirror":390,"../../lib/codemirror/mode/clike/clike":391,"../../lib/codemirror/mode/markdown/markdown":392,"../../lib/codemirror/mode/python/python":394,"../../lib/codemirror/mode/r/r":395,"../../lib/codemirror/mode/sql/sql":396,"../../lib/codemirror/mode/xml/xml":397,"../acl/WorkspacePermissions":10,"../notebook/CodeMirrorKeywords":138,"../notebook/CodeMirrorUtils":139,"../notebook/CodeModeUtils.js":140,"../notebook/CommandParserUtils":145,
"../notebook/NotebookModel":178,"../user_platform/BrowserUtils":344,classnames:411,jquery:819,lodash:842,react:1001}],143:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("../notebook/Clipboard");var h=c(f);a=a("../notebook/NotebookModel");a=c(a);a=e.default.createClass({displayName:"CommandDivider",propTypes:{notebook:e.default.PropTypes.instanceOf(a.default).isRequired,nextCommandPosition:e.default.PropTypes.number.isRequired,prevCommandPosition:e.default.PropTypes.number.isRequired,
isEmptyNotebook:e.default.PropTypes.bool,insertCommand:e.default.PropTypes.func,pasteCommand:e.default.PropTypes.func},componentDidMount:function(){h.default.on("clipboardChanged",this.forceUpdate.bind(this,null),this)},componentWillUnmount:function(){h.default.off(null,null,this)},getInsertPosition:function(){return this.props.prevCommandPosition+(this.props.nextCommandPosition-this.props.prevCommandPosition)/2},onDragEnter:function(){var a=this.getInsertPosition();this.props.notebook.updateDraggingPosition(a)},
render:function(){return e.default.createElement("div",{className:"command divider"+(this.props.isEmptyNotebook?" only-divider":""),onDragEnter:this.onDragEnter},e.default.createElement("hr",null),e.default.createElement("a",{className:"btn btn-default btn-circle insert-command-btn",title:"Insert a new cell",onClick:this.props.insertCommand},e.default.createElement("i",{className:"fa fa-plus fa-fw"})),e.default.createElement("a",{className:["btn btn-default btn-circle paste-command-btn",h.default.isEmpty()?
"hidden":""].join(" "),title:"Paste cell here",onClick:this.props.pasteCommand},e.default.createElement("i",{className:"fa fa-paste fa-fw"})))}});l.exports=a},{"../notebook/Clipboard":136,"../notebook/NotebookModel":178,react:1001}],144:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};f=a("react");var h=c(f);f=a("classnames");
var b=c(f);f=a("../acl/WorkspacePermissions");var k=c(f);f=a("../notebook/NotebookModel");f=c(f);var d=a("../notebook/CodemirrorView.jsx"),n=c(d),m=a("../notebook/CodemirrorPre.jsx");a=h.default.createClass({displayName:"CommandInput",propTypes:{notebook:h.default.PropTypes.instanceOf(f.default).isRequired,commandGuid:h.default.PropTypes.string.isRequired,notebookLanguage:h.default.PropTypes.string.isRequired,isLastCommand:h.default.PropTypes.bool.isRequired,isLocked:h.default.PropTypes.bool.isRequired,
command:h.default.PropTypes.string.isRequired,diffPointers:h.default.PropTypes.object.isRequired,updateCommand:h.default.PropTypes.func.isRequired,updatePresenceCommand:h.default.PropTypes.func.isRequired,updateCursorPosition:h.default.PropTypes.func.isRequired,presenceMarks:h.default.PropTypes.array.isRequired,addCommandAbove:h.default.PropTypes.func.isRequired,addCommandBelow:h.default.PropTypes.func.isRequired,pasteCommandBelow:h.default.PropTypes.func.isRequired,copyCommand:h.default.PropTypes.func.isRequired,
cutCommand:h.default.PropTypes.func.isRequired,removeCommand:h.default.PropTypes.func.isRequired,moveUp:h.default.PropTypes.func.isRequired,moveDown:h.default.PropTypes.func.isRequired,hide:h.default.PropTypes.bool.isRequired,collapsed:h.default.PropTypes.bool.isRequired,lastModifiedBy:h.default.PropTypes.string.isRequired,hasFocus:h.default.PropTypes.bool.isRequired,isEditing:h.default.PropTypes.bool.isRequired,permissionLevel:h.default.PropTypes.string,onTextSelected:h.default.PropTypes.func,showCommentMarks:h.default.PropTypes.bool,
toggleCommentsPanel:h.default.PropTypes.func,isStatic:h.default.PropTypes.bool,commandState:h.default.PropTypes.string,onDoubleClick:h.default.PropTypes.func},getDefaultProps:function(){return{permissionLevel:k.default.MANAGE}},getInitialState:function(){return{useCodeMirrorPreview:this.shouldUsePreView(this.props)}},componentDidMount:function(){this.resetCodemirrorFocusState()},componentDidUpdate:function(){this.resetCodemirrorFocusState()},componentWillReceiveProps:function(a){this.state.useCodeMirrorPreview&&
!this.shouldUsePreView(a)&&this.preToEditor()},resetCodemirrorFocusState:function(){this.codemirror&&(this.props.isEditing&&!this.codemirror.hasFocus()&&this.codemirror.focusEditor(),!this.props.isEditing&&this.codemirror.hasFocus()&&this.codemirror.blurEditor())},preToEditor:function(){this.setState({useCodeMirrorPreview:!1})},onMouseOver:function(){this.isReadOnly()||this.preToEditor()},getCommand:function(a){a=a||this.props;return a.collapsed?this.getCompressedCommand(a.command):a.command},getCompressedCommand:function(a){a=
a.replace(/\r?\n|\r/g," ");return 80<a.length?a.substring(0,80)+" ...":a+" ..."},shouldUsePreView:function(a){a=a||this.props;if(a.hasFocus||a.isEditing)return!1;var b=a.diffPointers.diffInserts,c=a.diffPointers.diffDeletes;return!(0<a.presenceMarks.length||b&&0<b.length||c&&0<c.length)},isReadOnly:function(a){a=a||this.props;var b=k.default.canEdit(a.permissionLevel);return a.isLocked||a.collapsed||!b||a.isShowingHistory||a.hide||a.isStatic},focusEditor:function(){this.codemirror&&this.codemirror.focusEditor()},
saveCommandText:function(a,b){(b||a!==this.props.command&&!0!==this.props.collapsed)&&this.props.updateCommand({command:a})},getCodeMirrorOrPreView:function(){var a=this;return this.state.useCodeMirrorPreview?h.default.createElement(m.CodemirrorPre,{ref:function(b){return a.pre=b},command:this.getCommand(),notebookLanguage:this.props.notebookLanguage}):h.default.createElement(n.default,e({ref:function(b){return a.codemirror=b}},this.props,{command:this.getCommand(),isReadOnly:this.isReadOnly(),saveCommandText:this.saveCommandText}))},
render:function(){var a=(0,b.default)({"command-input previousPrompt":!0,primaryPrompt:this.props.isLastCommand}),c={"command-text":!0,"command-text-edit":this.props.hasFocus,hidden:this.props.hide&&!this.props.collapsed};c["command-text-"+this.props.commandState]=!0;return h.default.createElement("div",{className:a,onDoubleClick:this.props.onDoubleClick,onMouseOver:this.onMouseOver},h.default.createElement("div",{className:(0,b.default)(c)},h.default.createElement("span",{className:"prompt"},">\u00a0"),
h.default.createElement("div",{className:"command-box wrappable"},this.getCodeMirrorOrPreView())))}});l.exports=a},{"../acl/WorkspacePermissions":10,"../notebook/CodemirrorPre.jsx":141,"../notebook/CodemirrorView.jsx":142,"../notebook/NotebookModel":178,classnames:411,react:1001}],145:[function(a,l,f){l.exports={sqlRegex:/^\s*%sql(\s+|$)/,markdownRegex:/^\s*%md(\s+|$)/,getLanguage:function(a){return this.sqlRegex.test(a)?"sql":this.markdownRegex.test(a)?"markdown":this.language}}},{}],146:[function(a,
l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("lodash");var h=c(f);f=a("react");var b=c(f);f=a("react-dom");var k=c(f);f=a("backbone");var d=c(f);f=a("../acl/WorkspacePermissions");var n=c(f);f=a("../notebook/CommandParserUtils");var m=c(f);f=a("../notebook/DownloadManager");var q=c(f);f=a("../notebook/InputWidget");var w=c(f);f=a("../notebook/NotebookUtilities");var p=c(f);f=a("../notebook/commands/DashboardView");var r=c(f),t=a("../notebook/commands/DisplayTypeUtils");
f=a("../notebook/commands/LargeOutputWrapper.jsx");var u=c(f);f=a("../notebook/dashboards/Bindings");var y=c(f);f=a("../notebook/dashboards/Dashboard");var A=c(f);f=a("../notebook/dashboards/DataWidget");var g=c(f);a=a("../visualizations/ReactTree.jsx");var v=c(a);a=b.default.createClass({displayName:"CommandResult",propTypes:{isChild:b.default.PropTypes.bool.isRequired,state:b.default.PropTypes.string.isRequired,command:b.default.PropTypes.string.isRequired,rerunning:b.default.PropTypes.bool.isRequired,
displayType:b.default.PropTypes.string.isRequired,permissionLevel:b.default.PropTypes.string,resizable:b.default.PropTypes.bool,arguments:b.default.PropTypes.object,bindings:b.default.PropTypes.object,inputWidgets:b.default.PropTypes.object,customPlotOptions:b.default.PropTypes.object,pivotAggregation:b.default.PropTypes.string,results:b.default.PropTypes.object,pivotColumns:b.default.PropTypes.array,xColumns:b.default.PropTypes.array,yColumns:b.default.PropTypes.array,isStatic:b.default.PropTypes.bool,
isLocked:b.default.PropTypes.bool,hidePlotControls:b.default.PropTypes.bool,enablePointerEvents:b.default.PropTypes.bool,downloadable:b.default.PropTypes.bool,autoScaleImg:b.default.PropTypes.bool,autoCenterImg:b.default.PropTypes.bool,isComplexResult:b.default.PropTypes.bool.isRequired,isParamQuery:b.default.PropTypes.bool.isRequired,collapsed:b.default.PropTypes.bool.isRequired,width:b.default.PropTypes.string.isRequired,height:b.default.PropTypes.string.isRequired,additionalStyles:b.default.PropTypes.object,
enableLargeOutputWrapper:b.default.PropTypes.bool,hideInputWidgets:b.default.PropTypes.bool,tags:b.default.PropTypes.object,updateCommand:b.default.PropTypes.func,runCommand:b.default.PropTypes.func,commandModel:b.default.PropTypes.object},getDefaultProps:function(){var a=function(){};return{permissionLevel:n.default.MANAGE,resizable:!0,enableLargeOutputWrapper:!0,updateCommand:a,runCommand:a,additionalStyles:{},collapsed:!1,isStatic:!1,isLocked:!1,isChild:!1,tags:{},downloadable:!0,hidePlotControls:!1,
hideInputWidgets:!1,enablePointerEvents:!0,autoCenterImg:!1,autoScaleImg:!1,commandModel:null}},shouldComponentUpdate:function(a){if(a.collapsed!==this.props.collapsed)return this.dataWidget=null,this.inputWidgets=[],this.dashboardView=null,!0;if(this.isMarkdown()&&a.command!==this.props.command)return!0;var b=!h.default.isEqual(h.default.keys(a.bindings),h.default.keys(this.props.bindings)),c=!h.default.isEqual(a.inputWidgets,this.props.inputWidgets);if(b||c)return!0;if(a.isComplexResult&&this.dataWidget&&
this.dashboardView)return this.updateLocalBindings(a),this.resetDataWidget(a),!1;b=!h.default.isEqual(a.results,this.props.results);c=a.state!==this.props.state;a=a.permissionLevel!==this.props.permissionLevel;return b||c||a},tags:function(){return h.default.extend({displayType:this.dataWidget?this.dataWidget.get("displayType"):null},this.props.tags)},runCommandWithLocalBindings:function(){this.props.runCommand({bindings:this.localBindings.toJSON()})},isMarkdown:function(){return"markdown"===p.default.getDisplayType(this.props.command)},
renderTree:function(){return b.default.createElement("div",{className:"results",style:this.props.additionalStyles||{}},b.default.createElement(v.default,{tabularData:this.props.results.data}))},render:function(){var a=this.props.state;return"finished"===a||"running"===a||this.props.isParamQuery||this.isMarkdown()||"streaming"===a?(a=this.props.results)&&"table"===a.type&&a.plotOptions&&"tree"===a.plotOptions.displayType?this.renderTree():this.props.isComplexResult?this.renderComplexResult():this.renderSimpleResult():
this.dashboardView=this.dataWidget=null},renderSimpleResult:function(){var a=this.props.results;this.dashboardView=this.dataWidget=null;if(this.props.collapsed)return null;var c=this.props.additionalStyles||{};return a&&"table"===a.type&&0===a.data.length?b.default.createElement("div",{className:"results command-result-simple",style:c},"OK"):a&&"exit"===a.type?b.default.createElement("div",{className:"results",style:c},b.default.createElement("pre",null,"Notebook exited: "+a.data)):a&&"raw"===a.type?
b.default.createElement("div",{className:"results",style:c},b.default.createElement("pre",null,a.data)):a&&"html"===a.type?b.default.createElement(u.default,{resizeEnabled:this.props.resizable,enabled:this.props.enableLargeOutputWrapper},b.default.createElement("div",{className:"results",style:c,dangerouslySetInnerHTML:{__html:a.data}})):null},updateLocalBindings:function(a){this.localBindings&&this.localBindings.set(a.bindings)},localDisplayTypeChanged:function(){window.recordEvent("plotTypeChanged",
this.tags());this.props.updateCommand({displayType:this.dataWidget.get("displayType")})},getLocalPlotParams:function(){return this.dataWidget.pick(["xColumns","yColumns","pivotColumns","pivotAggregation","customPlotOptions"])},localPlotParamsChanged:function(){if("running"!==this.props.state){var a=this.getLocalPlotParams();window.recordEvent("plotOptionsChanged",this.tags(),a);!0===this.dataWidget.get("dataOverflowed")?this.plotOverAll():this.props.updateCommand(a)}},plotOverAll:function(){!0===
this.dataWidget.get("dataOverflowed")&&(this.props.updateCommand(this.getLocalPlotParams()),window.recordEvent("plotWithServerAggregation",this.tags()),this.props.runCommand({bindings:this.localBindings.toJSON()}))},triggerDownload:function(a,b){var c=this.props.commandModel;q.default.download(b,null!==this.dataWidget.get("dbfsResultPath"),a,c.getResultDownloadURL.bind(c),c.runCommandAndSaveResults.bind(c))},localSizeChanged:function(){this.props.resizable&&this.props.updateCommand({height:this.dataWidget.get("height"),
width:this.dataWidget.get("width")})},localInputWidgetsChanged:function(){var a={};h.default.each(this.inputWidgets,function(b){var c=b.get("binding");a[c]={controlType:b.get("controlType"),choices:b.get("choices"),label:b.get("label")}},this);this.props.updateCommand({inputWidgets:a})},createInputWidgets:function(a){this.inputWidgets=[];var b=a.inputWidgets?a.inputWidgets:{};h.default.each(h.default.keys(this.props.bindings).sort(),function(a){this.inputWidgets.push(new w.default({configurable:!0,
controlType:b[a]?b[a].controlType:"text",choices:b[a]?b[a].choices:[],label:b[a]?b[a].label:a,binding:a}))},this)},createDataWidget:function(a){var b=a.results,b=b?b.type:null,c=this.props.command;this.dataWidget=new g.default({query:c,language:m.default.getLanguage(c),running:a.rerunning,resultType:b,xColumns:a.xColumns,yColumns:a.yColumns,pivotColumns:a.pivotColumns,pivotAggregation:a.pivotAggregation,customPlotOptions:h.default.cloneDeep(a.customPlotOptions),width:a.width,height:a.height,resizable:a.resizable,
downloadable:a.downloadable})},updateDataWidget:function(a){if(this.dataWidget){var b=h.default.filter("xColumns yColumns pivotColumns pivotAggregation customPlotOptions height width displayType autoScaleImg".split(" "),function(b){return!h.default.isEqual(this.props[b],a[b])},this);h.default.isEmpty(b)||this.dataWidget.set(h.default.pick(a,b))}},resetDataWidget:function(a){var b=a.results;this.dataWidget?this.updateDataWidget(a):this.createDataWidget(a);if(this.isMarkdown())this.dataWidget.set({downloadable:!1,
data:this.props.command,resultType:"markdown",displayType:"markdown"});else if(b){var c=n.default.canEdit(this.props.permissionLevel),g=this.props.hidePlotControls||!c;this.dataWidget.set({state:"finished",displayType:t.DisplayTypeUtils.computeDisplayType(a.displayType,b.type,b.plotOptions?b.plotOptions.displayType:null),resultType:b.type,schema:b.schema,isJsonSchema:b.isJsonSchema,data:b.data,arguments:a.arguments,dataOverflowed:b.overflow,aggSchema:b.aggSchema,aggData:b.aggData,aggDataOverflowed:b.aggOverflow,
aggError:b.aggError,aggType:b.aggType,aggSeriesLimitReached:b.aggSeriesLimitReached,downloadable:a.downloadable&&p.default.isDownloadable(b.type)&&"running"!==a.state,resizable:a.resizable&&p.default.isResizable(b.type),error:null,hidePlotControls:g,hideRunCommands:!c,dbfsResultPath:b.dbfsResultPath,permissionLevel:this.props.permissionLevel})}else this.dataWidget.set({state:"error",error:a.error,arguments:a.arguments,data:null,schema:null,aggSchema:null,aggData:null,height:"auto"})},setupEventListener:function(){this.eventListener=
this.eventListener||h.default.extend({},d.default.Events);this.eventListener.stopListening();this.eventListener.listenTo(this.localBindings,"submitBindings",this.runCommandWithLocalBindings,this);this.eventListener.listenTo(this.dataWidget,"change:displayType",this.localDisplayTypeChanged,this);this.eventListener.listenTo(this.dataWidget,"change:height change:width",h.default.debounce(this.localSizeChanged,1),this);this.eventListener.listenTo(this.dataWidget,"change:xColumns change:yColumns change:pivotColumnschange:pivotAggregation change:customPlotOptions",
h.default.debounce(this.localPlotParamsChanged,1),this);this.eventListener.listenTo(this.dataWidget,"plotOverAll",this.plotOverAll);this.eventListener.listenTo(this.dataWidget,"triggerDownload",this.triggerDownload);h.default.each(this.inputWidgets,function(a){this.eventListener.listenTo(a,"change:controlType change:choices change:label",h.default.debounce(this.localInputWidgetsChanged,1),this)},this)},renderComplexResult:function(){var a=[];this.props.hideInputWidgets||(this.createInputWidgets(this.props),
h.default.each(this.inputWidgets,function(b){a.push(b)}));this.localBindings=new y.default(this.props.bindings);this.resetDataWidget(this.props);a.push(this.dataWidget);var c=new A.default({widgets:a,originalBindings:this.props.bindings});this.dashboardView=new r.default({model:c,autoSubmit:!1,bindings:this.localBindings,clickToScrollTables:!0,isStatic:this.props.isStatic,isLocked:this.props.isLocked,autoCenterImg:this.props.autoCenterImg,autoScaleImg:this.props.autoScaleImg});this.setupEventListener();
c={display:this.props.collapsed?"none":"block"};h.default.extend(c,this.props.additionalStyles);var g="results dashboard";this.props.enablePointerEvents||(g="results dashboard disable-pointer-events");return b.default.createElement("div",{className:g,style:c})},renderDashboardView:function(){this.props.isComplexResult&&this.dashboardView&&((0,e.default)(k.default.findDOMNode(this)).html(this.dashboardView.el),this.dashboardView.render())},componentDidUpdate:function(){this.renderDashboardView()},
componentDidMount:function(){this.renderDashboardView()},getContentHeight:function(){return this.props.isComplexResult?(0,e.default)(k.default.findDOMNode(this)).find(".widget-content.dashboard > .results").innerHeight():(0,e.default)(k.default.findDOMNode(this)).innerHeight()}});l.exports=a},{"../acl/WorkspacePermissions":10,"../notebook/CommandParserUtils":145,"../notebook/DownloadManager":157,"../notebook/InputWidget":171,"../notebook/NotebookUtilities":179,"../notebook/commands/DashboardView":197,
"../notebook/commands/DisplayTypeUtils":198,"../notebook/commands/LargeOutputWrapper.jsx":199,"../notebook/dashboards/Bindings":205,"../notebook/dashboards/Dashboard":207,"../notebook/dashboards/DataWidget":219,"../visualizations/ReactTree.jsx":376,backbone:407,jquery:819,lodash:842,react:1001,"react-dom":865}],147:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("react");var h=c(f);f=a("classnames");var b=c(f);a=a("../notebook/CodeMirrorUtils");var k=
c(a);a=h.default.createClass({displayName:"CommandSelectionPopover",propTypes:{createComment:h.default.PropTypes.func.isRequired},getInitialState:function(){return{popoverActive:!1,top:0,left:0}},componentDidMount:function(){var a=this;this.documentKeydownHandler=function(b){var c=b.keyCode,d=65===c&&(b.metaKey||b.ctrlKey);b.shiftKey&&(37===c||38===c||39===c||40===c)||d||a.state.popoverActive&&a.hidePopover()};(0,e.default)(document).keydown(this.documentKeydownHandler);this.clickHandler=function(){a.state.popoverActive&&
a.hidePopover()};(0,e.default)(document).mousedown(this.clickHandler)},componentWillUnmount:function(){(0,e.default)(document).off("keydown",document,this.documentEscHandler);(0,e.default)(document).off("click",document,this.clickHandler)},hidePopover:function(){this.setState({popoverActive:!1})},showPopover:function(a){var b=a.getCursor("from"),c=a.getCursor("to"),b=0<=k.default.comparePos(b,c)?b:c;a=a.cursorCoords(b);b=(0,e.default)("#content").scrollTop()-74;a=a.top-.5*(a.bottom-a.top)+b;b=(0,
e.default)(".command-active").width()-15;this.setState({popoverActive:!0,top:a,left:b})},render:function(){var a={hidden:!this.state.popoverActive,"add-comment":!0};return h.default.createElement("div",{id:"selection-popover",style:{top:this.state.top+"px",left:this.state.left+"px"},className:(0,b.default)(a)},h.default.createElement("a",{className:"btn btn-default btn-circle",onMouseDown:this.props.createComment},h.default.createElement("i",{className:"fa fa-comment-o fa-fw fa-stack"})))}});l.exports=
a},{"../notebook/CodeMirrorUtils":139,classnames:411,jquery:819,react:1001}],148:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("underscore");var h=c(f);f=a("classnames");var b=c(f),k=a("../acl/AclUtils.jsx");f=a("../acl/WorkspacePermissions");var d=c(f),n=a("../ui_building_blocks/Tooltip.jsx");f=a("../notebook/NotebookEmbeddedSparkUI.jsx");var m=c(f),q=a("../urls/ResourceUrls");a=e.default.createClass({displayName:"CommandSpinner",propTypes:{cancelQuery:e.default.PropTypes.func.isRequired,
state:e.default.PropTypes.string.isRequired,stages:e.default.PropTypes.array.isRequired,showCancel:e.default.PropTypes.bool.isRequired,collapsed:e.default.PropTypes.bool,clusterId:e.default.PropTypes.string,sparkCtxId:e.default.PropTypes.string,hasSubCommands:e.default.PropTypes.bool,embeddedSparkUI:e.default.PropTypes.object},getDefaultProps:function(){return{embeddedSparkUI:m.default}},getInitialState:function(){return{collapsed:!0,expandedMap:{},hideWhenInactive:!1,userCanAttachToCluster:!k.AclUtils.clusterAclsEnabled()}},
componentDidUpdate:function(a){a.clusterId===this.props.clusterId||this.state.collapsed||this.fetchClusterAcls()},fetchClusterAcls:function(){return this.clusterAclFetch=k.AclUtils.fetchPermissions([this.props.clusterId],d.default.CLUSTER_TYPE,this.onClusterAclFetchSuccess)},onClusterAclFetchSuccess:function(a){this.setState({userCanAttachToCluster:k.AclUtils.canAttach(a,this.props.clusterId)})},initializeEmbeddedSparkUI:function(){this.props.embeddedSparkUI.init()},componentWillUnmount:function(){this.clusterAclFetch&&
(this.clusterAclFetch.abort(),this.clusterAclFetch=null)},getOpenSparkUIFunc:function(a){var b=this;return function(c){c.ctrlKey||c.metaKey||(c.preventDefault(),b.initializeEmbeddedSparkUI(),b.props.embeddedSparkUI.showOrHide(a))}},componentWillReceiveProps:function(){"running"===this.props.state&&this.setState({collapsedMap:{}})},renderSpinner:function(){var a=e.default.createElement("div",{className:"progress-bar-wrapper"},e.default.createElement("img",{className:"progress-bar-shadow",src:q.ResourceUrls.getResourceUrl("img/spinnerAnimation.gif")}));
if("cancelling"===this.props.state)return e.default.createElement("div",{className:"spinner command-result-cancelling"},e.default.createElement("div",{className:"command-control flex-div"},a,e.default.createElement("div",{className:"cancel-wrapper"},"Cancelling...")));if("running"!==this.props.state&&"streaming"!==this.props.state)return null;var b=this.props.showCancel?e.default.createElement("a",{className:"cancel-query-button",onClick:this.props.cancelQuery},"Cancel"):null;return e.default.createElement("div",
{className:"spinner running"},e.default.createElement("div",{className:"command-control flex-div"},a,e.default.createElement("div",{className:"cancel-wrapper"},b)))},getSparkUILink:function(){return"/sparkui/"+this.props.clusterId+"/driver-"+this.props.sparkCtxId},getJobLink:function(a){return this.getSparkUILink()+"/jobs/job?id="+a},getStageLink:function(a){return this.getSparkUILink()+"/stages/stage?id="+a+"&attempt=0"},toggleCollapsed:function(){this.setState({collapsed:!this.state.collapsed})},
toggleJobDetails:function(a){var b=this.state.expandedMap;b[a]?delete b[a]:b[a]={};this.setState({expandedMap:b})},_sum:function(a,b){return h.default.reduce(h.default.map(a,function(a){return parseInt(a[b],10)}),function(a,b){return a+b})},_renderSparkUILinkElem:function(a,b){var c=!this.state.userCanAttachToCluster;a=e.default.createElement("a",{className:"spark-ui-link",href:"#setting"+b,disabled:c,onClick:c?null:this.getOpenSparkUIFunc(b)},a);c&&(a=this._getNoPermissionsWrappedElem(a));return e.default.createElement("span",
{className:"spark-ui-link-wrapper"},a)},_renderInfoIcon:function(){return e.default.createElement("i",{className:"fa fa-info-circle"})},renderJobs:function(a){var b="running"===this.props.state,c=h.default.keys(a);h.default.each(this.props.stages,function(a){a.finished=a.numCompletedTasks===a.totalTasks});c=h.default.map(c,function(c){var d=e.default.createElement("i",{className:"fa fa-caret-right fa-fw"}),k=h.default.sortBy(a[c],"stageId"),m=void 0,g=void 0;if(this.state.expandedMap[c])d=e.default.createElement("i",
{className:"fa fa-caret-down fa-fw"}),m=h.default.map(k,function(a){var c=this.getStageLink(a.stageId);if(b){var g=a.numCompletedTasks,d=a.numActiveTasks,k=Math.max(a.totalTasks,1),h=Math.round(d/k*100),m=Math.round(g/k*100);return e.default.createElement("li",{key:a.stageId},e.default.createElement("p",null,"Stage ",a.stageId,":"),e.default.createElement(n.Tooltip,{text:"succeeded / total tasks"},e.default.createElement("div",{className:"progress"},e.default.createElement("span",{className:"progress-bar-text"},
g,"/",k," (",d," running)"),e.default.createElement("div",{className:"bar bar-completed",style:{width:m+"%"}}),e.default.createElement("div",{className:"bar bar-running",style:{width:h+"%"}}))),this._renderSparkUILinkElem(this._renderInfoIcon(),c))}return e.default.createElement("li",{key:a.stageId},"Stage ",a.stageId,": ",e.default.createElement(n.Tooltip,{text:"succeeded / total tasks"},a.numCompletedTasks,"/",a.totalTasks),"\u00a0",this._renderSparkUILinkElem(this._renderInfoIcon(),c),a.finished?
null:"skipped")},this),m=e.default.createElement("ul",{className:"stages"},m);else if(b)var g=Math.max(this._sum(k,"totalTasks"),1),v=this._sum(k,"numCompletedTasks"),g=e.default.createElement("div",{className:"progress-bar"},e.default.createElement("div",{className:"progress-bar-fill",style:{width:Math.round(v/g*100)+"%"}}));v=void 0;b?v=e.default.createElement("p",null,"(",k.length," stages)"):(v=h.default.where(k,{finished:!1}).length,k=k.length-v,v=0===v?e.default.createElement("p",null,"(Stages: ",
k,"/",k,")"):e.default.createElement("p",null,"(Stages: ",k,"/",k,", ",v," skipped)"));var k=this.getJobLink(c),q=this.toggleJobDetails.bind(this,c);return e.default.createElement("li",{key:c,"data-job-id":c},e.default.createElement("p",{className:"text-link",onClick:q},d,"Job ",c,"\u00a0"),g,this._renderSparkUILinkElem("View",k),v,m)},this);return e.default.createElement("ul",{className:"jobs"},c)},_getNoPermissionsWrappedElem:function(a){return e.default.createElement(n.Tooltip,{text:d.default.NO_VIEW_PERMISSIONS_WARNING},
a)},_getCancelLink:function(){return e.default.createElement("div",{className:"cancel-wrapper"},e.default.createElement("a",{className:"cancel-query-button",onClick:this.props.cancelQuery},"Cancel"))},_permissionsFetchedOrFetching:function(){return this.clusterAclFetch&&("resolved"===this.clusterAclFetch.state()||"pending"===this.clusterAclFetch.state())},_onExpandSparkJobs:function(){k.AclUtils.clusterAclsEnabled()&&!this._permissionsFetchedOrFetching()&&this.fetchClusterAcls();this.toggleCollapsed()},
_renderProgressBar:function(){var a=this.props.stages,b=Math.max(this._sum(a,"totalTasks"),1),a=this._sum(a,"numCompletedTasks"),b=Math.round(a/b*100);return e.default.createElement("div",{className:"progress-bar"},e.default.createElement("div",{className:"progress-bar-fill",style:{width:(100<b?100:b)+"%"}}))},_renderCollapsedState:function(a,b){return e.default.createElement("div",{className:this._getWrapperClasses()},e.default.createElement("p",{onClick:this._onExpandSparkJobs},e.default.createElement("i",
{className:"fa fa-caret-right fa-fw"}),"(",b.length,") Spark Jobs"),this._isRunning()?this._renderProgressBar():null,a)},_shouldRenderSpinner:function(){var a="cancelling"===this.props.state;return!(window.settings&&window.settings.enableNewProgressReportUI)||this.props.hasSubCommands||this.props.collapsed||a||h.default.isEmpty(this.props.stages)||!this.props.clusterId||!this.props.sparkCtxId},_isRunning:function(){var a=this.props.state;return"running"===a||"streaming"===a},_getWrapperClasses:function(){var a=
{spinner:!0,expanded:!this.state.collapsed,running:this._isRunning(),"command-stage-info":!0};return(0,b.default)(a)},render:function(){if(this._shouldRenderSpinner())return this.renderSpinner();var a=this.props.showCancel&&this._isRunning()?this._getCancelLink():null,b=h.default.groupBy(this.props.stages,"jobId"),c=h.default.keys(b);return this.state.collapsed?this._renderCollapsedState(a,c):e.default.createElement("div",{className:this._getWrapperClasses()},e.default.createElement("p",{onClick:this.toggleCollapsed},
e.default.createElement("i",{className:"fa fa-caret-down fa-fw"}),"(",c.length,") Spark Jobs"),a,this.renderJobs(b))}});l.exports=a},{"../acl/AclUtils.jsx":3,"../acl/WorkspacePermissions":10,"../notebook/NotebookEmbeddedSparkUI.jsx":177,"../ui_building_blocks/Tooltip.jsx":294,"../urls/ResourceUrls":322,classnames:411,react:1001,underscore:1021}],149:[function(a,l,f){var c=(f=a("react"))&&f.__esModule?f:{default:f},e=(f=a("classnames"))&&f.__esModule?f:{default:f},h=a("../notebook/commands/DisplayTypeUtils"),
b=a("../ui_building_blocks/text/TimeSpan.jsx");a=c.default.createClass({displayName:"CommandStats",propTypes:{state:c.default.PropTypes.string.isRequired,clusterName:c.default.PropTypes.string,clusterMemory:c.default.PropTypes.number,latestUser:c.default.PropTypes.string,startTime:c.default.PropTypes.number,finishTime:c.default.PropTypes.number,submitTime:c.default.PropTypes.number,displayType:c.default.PropTypes.string,results:c.default.PropTypes.object,hidden:c.default.PropTypes.bool},getDefaultProps:function(){return{clusterName:"unknown cluster",
clusterMemory:0,results:{type:""},latestUser:"unknown user"}},render:function(){var a="running"===this.props.state,d=this.props.results,n=h.DisplayTypeUtils.computeDisplayType(this.props.displayType,d&&d.type?d.type:""),d=new Date(this.props.submitTime),m=this.props.startTime,q=this.props.finishTime;return!a&&m&&q&&"markdown"!==n?(a=(0,e.default)({"command-result-stats":!0,hidden:this.props.hidden}),m=(q-m)/1E3,c.default.createElement("div",{className:a},c.default.createElement("span",null,"Command took"),
" ",c.default.createElement(b.TimeSpan,{seconds:m})," ",c.default.createElement("span",{className:"command-provenance"},"-- by ",this.props.latestUser," at ",d.toLocaleString()," on ",this.props.clusterName," (",this.props.clusterMemory," GB)"))):null}});l.exports=a},{"../notebook/commands/DisplayTypeUtils":198,"../ui_building_blocks/text/TimeSpan.jsx":318,classnames:411,react:1001}],150:[function(a,l,f){var c=(f=a("react"))&&f.__esModule?f:{default:f},e=(f=a("classnames"))&&f.__esModule?f:{default:f},
h=a("../urls/ResourceUrls");a=c.default.createClass({displayName:"EditMessageView",propTypes:{className:c.default.PropTypes.string,displayName:c.default.PropTypes.string,placeholderText:c.default.PropTypes.string,onChildHeightWillUpdate:c.default.PropTypes.func.isRequired,active:c.default.PropTypes.bool,hidden:c.default.PropTypes.bool,saveMessage:c.default.PropTypes.func.isRequired,onSaveSucceed:c.default.PropTypes.func.isRequired,defaultValue:c.default.PropTypes.string,cancelEdit:c.default.PropTypes.func,
confirm:c.default.PropTypes.string,cancel:c.default.PropTypes.string},getInitialState:function(){return{active:this.props.active,value:this.props.defaultValue?this.props.defaultValue:""}},getDefaultProps:function(){return{placeholderText:"",hidden:!1,active:!1,confirm:"Save",cancel:"Cancel",displayName:""}},resetEditbox:function(){this.isMounted()&&this.setState(this.getInitialState());this.props.onChildHeightWillUpdate()},handleChange:function(a){this.setState({value:a.target.value.substr(0,2048)})},
onSaveSucceed:function(){this.resetEditbox();if(this.props.onSaveSucceed)this.props.onSaveSucceed()},saveMessage:function(){this.props.saveMessage(this.state.value,{success:this.onSaveSucceed.bind(this)})},cancelEdit:function(){this.props.cancelEdit&&this.props.cancelEdit();this.resetEditbox()},onMouseDown:function(){this.setState({active:!0})},onKeyPress:function(a){a.shiftKey&&13===a.charCode&&(a.preventDefault(),this.saveMessage())},render:function(){var a=this.props.displayName?c.default.createElement("div",
{className:"message-author"},c.default.createElement("img",{src:h.ResourceUrls.getResourceUrl("img/placeholder_pic.png"),className:"message-author-avatar"}),c.default.createElement("div",{className:"message-author-info"},c.default.createElement("h4",{className:"message-author-name"},this.props.displayName))):null,k=this.state.value!==this.props.defaultValue&&""!==this.state.value.replace(/\s+/g,""),d=k?c.default.createElement("button",{className:"btn btn-mini",onClick:this.saveMessage},this.props.confirm):
c.default.createElement("button",{className:"btn btn-mini",disabled:!0},this.props.confirm),d=this.state.active?c.default.createElement("div",{className:"new-message-btns"},d,c.default.createElement("button",{className:"btn btn-mini",onClick:this.cancelEdit},this.props.cancel)):null,k={"new-message-box":!0,hidden:this.props.hidden&&!k};k[this.props.className]=this.props.className;return c.default.createElement("div",{className:(0,e.default)(k),onMouseDown:this.onMouseDown},a,c.default.createElement("textarea",
{className:"new-message-input-textarea",onKeyPress:this.onKeyPress,placeholder:this.props.placeholderText,value:this.state.value,onChange:this.handleChange,onSubmit:this.saveMessage}),d)}});l.exports=a},{"../urls/ResourceUrls":322,classnames:411,react:1001}],151:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("classnames");var h=c(f);f=a("../notebook/CommentEditMessageView.jsx");var b=c(f),k=a("../urls/ResourceUrls");a=e.default.createClass({displayName:"MessageView",
propTypes:{className:e.default.PropTypes.string,onChildHeightWillUpdate:e.default.PropTypes.func.isRequired,message:e.default.PropTypes.string.isRequired,displayName:e.default.PropTypes.string.isRequired,canEdit:e.default.PropTypes.bool.isRequired,timestamp:e.default.PropTypes.number.isRequired,updateMessage:e.default.PropTypes.func.isRequired,deleteMessage:e.default.PropTypes.func.isRequired},getInitialState:function(){return{editing:!1}},startEditing:function(){this.setState({editing:!0});this.props.onChildHeightWillUpdate()},
stopEditing:function(){this.setState({editing:!1});this.props.onChildHeightWillUpdate()},render:function(){var a=(new Date(this.props.timestamp)).toLocaleString(),c=this.props.canEdit?e.default.createElement("div",{className:"message-controls"},e.default.createElement("i",{onMouseDown:this.startEditing,className:"edit fa fa-pencil"}),e.default.createElement("i",{onMouseDown:this.props.deleteMessage,className:"delete fa fa-trash-o"})):null,m={message:!0};m[this.props.className]=this.props.className;
var q=this.state.editing?e.default.createElement(b.default,{ref:"editMessageView",saveMessage:this.props.updateMessage,cancelEdit:this.stopEditing,defaultValue:this.props.message,onSaveSucceed:this.stopEditing,active:!0,onChildHeightWillUpdate:this.props.onChildHeightWillUpdate}):e.default.createElement("div",{className:"message-content"},this.props.message);return e.default.createElement("div",{className:(0,h.default)(m)},c,e.default.createElement("div",{className:"message-author"},e.default.createElement("img",
{src:k.ResourceUrls.getResourceUrl("img/placeholder_pic.png"),className:"message-author-avatar"}),e.default.createElement("div",{className:"message-author-info"},e.default.createElement("h4",{className:"message-author-name"},this.props.displayName),e.default.createElement("p",{className:"message-posted-at"},a))),q)}});l.exports=a},{"../notebook/CommentEditMessageView.jsx":150,"../urls/ResourceUrls":322,classnames:411,react:1001}],152:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}
f=a("underscore");var e=c(f);f=a("backbone");f=c(f);var h=a("../notebook/BackboneRpcMixin"),h=c(h),b=a("../user_platform/BrowserUtils");a=f.default.Model.extend({defaults:{guid:b.BrowserUtils.generateGUID(),text:"",commentReference:{referenceType:"command"},postedAt:0,updatedAt:0,replies:{}},notebook:function(){return this.get("parent")},url:function(){return"/notebook/"+this.notebook().id+"/comment"},isLocalModel:function(){return!this.get("id")},getCommand:function(){return this.notebook().commandCollection().find(function(a){return a.get("nuid")===
this.get("commandNUID")},this)},getReplies:function(){return e.default.sortBy(e.default.values(this.get("replies")),function(a){return a.postedAt})},removeLocalModel:function(){this.isLocalModel&&this.notebook().commandCollection().remove(this)},saveNewComment:function(a,b){this.isLocalModel()?this.rpc("addComment",{text:a,guid:this.get("guid"),commandNUID:this.get("commandNUID"),reference:this.get("commentReference")},b):console.error("Comment Already saved to backend")},updateCommentText:function(a,
b){a&&!e.default.isEqual(a,this.get("text"))&&this.rpc("updateCommentText",{commentId:this.id,text:a},b)},updateCommentReference:function(a,b){e.default.isEqual(a,this.get("commentReference"))||this.rpc("updateCommentRef",{commentId:this.id,reference:a},b)},updateReferenceRange:function(a,b){this.isLocalModel()||this.updateCommentReference({referenceType:"commandFragment",selection:b,range:{from:{line:a.from.line,ch:a.from.ch},to:{line:a.to.line,ch:a.to.ch}}})},deleteComment:function(){this.rpc("removeComment",
{commentId:this.id})},addReply:function(a,c){this.rpc("addCommentReply",{commentId:this.id,text:a,nuid:b.BrowserUtils.generateGUID()},c)},updateReply:function(a,b,c){this.get("replies")[a]&&this.rpc("updateCommentReply",{commentId:this.id,replyNUID:a,text:b},c)},deleteReply:function(a){this.get("replies")[a]&&this.rpc("removeCommentReply",{commentId:this.id,replyNUID:a})}});e.default.extend(a.prototype,h.default);l.exports=a},{"../notebook/BackboneRpcMixin":134,"../user_platform/BrowserUtils":344,
backbone:407,underscore:1021}],153:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("react");var h=c(f);f=a("classnames");var b=c(f);f=a("../notebook/CommentModel");var k=a("../notebook/CommentMessageView.jsx"),d=a("../notebook/CommentEditMessageView.jsx");a=h.default.createClass({displayName:"CommentView",propTypes:{comment:h.default.PropTypes.instanceOf(f).isRequired,userId:h.default.PropTypes.number.isRequired,setActiveComment:h.default.PropTypes.func.isRequired,
styles:h.default.PropTypes.object.isRequired,active:h.default.PropTypes.bool.isRequired,onChildHeightWillUpdate:h.default.PropTypes.func.isRequired},onMouseDown:function(){if(!this.props.active){var a=this.props.comment.get("guid");this.props.setActiveComment(a);this.props.onChildHeightWillUpdate()}},onSaveSucceed:function(){this.props.setActiveComment(-1)},cancelNewCommentEdit:function(){this.props.comment.removeLocalModel()},componentWillUpdate:function(a){var b=this.props.comment;this.props.active&&
!a.active&&b.isLocalModel()&&this.refs.newComment&&""===this.refs.newComment.state.value.replace(/\s+/g,"")&&b.removeLocalModel()},render:function(){var a=this,c=this.props.comment,q=c.get("userFullname"),f=e.default.isEmpty(q)?c.get("userName"):q,q=(0,b.default)({"comment-wrapper":!0,active:this.props.active}),p=c.saveNewComment.bind(c);if(c.isLocalModel())return h.default.createElement("div",{className:q,style:this.props.styles,onMouseDown:this.onMouseDown},h.default.createElement("div",{className:"notebook-comment"},
h.default.createElement(d,{ref:"newComment",className:"comment-"+c.get("guid"),saveMessage:p,displayName:f,cancelEdit:this.cancelNewCommentEdit,onSaveSucceed:this.onSaveSucceed,active:!0,confirm:"Comment",onChildHeightWillUpdate:this.props.onChildHeightWillUpdate})));var p=e.default.map(c.getReplies(),function(b){var d=b.userId===a.props.userId,g=e.default.isEmpty(b.userFullname)?b.userName:b.userFullname,m=c.updateReply.bind(c,b.nuid),n=c.deleteReply.bind(c,b.nuid);return h.default.createElement(k,
{key:b.nuid,className:"reply-message",message:b.text,displayName:g,timestamp:b.postedAt,canEdit:d,updateMessage:m,deleteMessage:n,onChildHeightWillUpdate:a.props.onChildHeightWillUpdate})},this),r=c.get("userId")===this.props.userId,t=c.updateCommentText.bind(c),u=c.deleteComment.bind(c),f=h.default.createElement(k,{className:"comment-message",message:c.get("text"),displayName:f,timestamp:c.get("postedAt"),canEdit:r,updateMessage:t,deleteMessage:u,onChildHeightWillUpdate:this.props.onChildHeightWillUpdate}),
r=c.addReply.bind(c),r=c.isLocalModel()?null:h.default.createElement(d,{className:"new-reply",key:c.get("guid")+"-new-reply",saveMessage:r,placeholderText:"Reply...",confirm:"Reply",hidden:!this.props.active,onSaveSucceed:this.onSaveSucceed,onChildHeightWillUpdate:this.props.onChildHeightWillUpdate});return h.default.createElement("div",{className:q,style:this.props.styles,onMouseDown:this.onMouseDown},h.default.createElement("div",{className:"notebook-comment"},f,h.default.createElement("div",{className:"comment-replies"},
p),r))}});l.exports=a},{"../notebook/CommentEditMessageView.jsx":150,"../notebook/CommentMessageView.jsx":151,"../notebook/CommentModel":152,classnames:411,react:1001,underscore:1021}],154:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("react");var b=c(f);f=a("react-dom");var k=c(f);f=a("classnames");var d=c(f);f=a("../notebook/CodeMirrorUtils");var n=c(f);a=a("../notebook/CommentView.jsx");var m=c(a);a=b.default.createClass({displayName:"CommentsPanelView",
propTypes:{comments:b.default.PropTypes.array.isRequired,showCommentsPanel:b.default.PropTypes.bool.isRequired,userId:b.default.PropTypes.number.isRequired,getCommandViewOffsets:b.default.PropTypes.func.isRequired,onActiveCommentChanges:b.default.PropTypes.func.isRequired},getInitialState:function(){return{activeCommentGUID:-1}},setActiveComment:function(a){this.state.activeCommentGUID!==a&&(this.setState({activeCommentGUID:a}),this.highlightActiveCommentMark(a),this.scrollActiveCommentIntoView(a),
this.props.onActiveCommentChanges())},scrollActiveCommentIntoView:function(a){-1!==a&&h.default.defer(function(){var b=this.refs[a];b&&b.isMounted()&&(b=parseInt(k.default.findDOMNode(b).style.top,10),(0,e.default)(".shell-top").scrollParent().scrollTop()>b&&(0,e.default)(".shell-top").scrollParent().animate({scrollTop:b-10},"400"))}.bind(this))},highlightActiveCommentMark:function(a){(0,e.default)(".comment-mark").removeClass("active");(0,e.default)(".comment-mark-"+a).addClass("active")},getActiveComment:function(){return h.default.find(this.props.comments,
function(a){return a.get("guid")===this.state.activeCommentGUID},this)},getActiveCommentGUID:function(){return this.state.activeCommentGUID},resetActivateComment:function(){this.setActiveComment(-1)},onClickOutside:function(a){var b=(0,e.default)(".comment-wrapper.active"),c=0!==(0,e.default)(a.target).closest(".add-comment").length;b.is(a.target)||0!==b.has(a.target).length||c||this.resetActivateComment()},onClickCommentMark:function(a){a=(0,e.default)(a.target).closest(".comment-mark");if(0!==a.length){var b=
-1;a=a.attr("class").split(" ");h.default.each(a,function(a){0===a.indexOf("comment-mark-")&&(b=a.replace("comment-mark-",""))});this.setActiveComment(b)}},_hasRendered:!1,componentDidMount:function(){this.clickHandler=function(a){this.onClickOutside(a);this.onClickCommentMark(a)}.bind(this);(0,e.default)(document).mousedown(this.clickHandler);this.props.showCommentsPanel&&(this._hasRendered=!0,this.deferForceUpdate())},componentWillUpdate:function(a){!this._hasRendered&&a.showCommentsPanel&&(this._hasRendered=
!0,this.deferForceUpdate())},collectPositioningInfo:function(){this.collectCommentViewHeight();this.collectCommentReferenceOffsets()},_commentViewHeightMap:{},_commandViewOffsetMap:{},_commentReferenceTopMap:{},collectCommentViewHeight:function(){this.isMounted()&&h.default.each(this.props.comments,function(a){a=a.get("guid");var b=this.refs[a];b&&b.isMounted&&(b=(0,e.default)(k.default.findDOMNode(b)).height(),this._commentViewHeightMap[a]=b||this._commentViewHeightMap[a]||140)},this)},componentWillUnmount:function(){(0,
e.default)(document).off("mousedown",this.clickHandler)},collectCommentReferenceOffsets:function(){this._commandViewOffsetMap=this.props.getCommandViewOffsets();var a=(0,e.default)("#content").scrollTop();h.default.each(this.props.comments,function(b){var c=this._commandViewOffsetMap&&this._commandViewOffsetMap[b.get("commandNUID")],d=b.get("guid");if(c){var k=b.get("commentReference"),h=null;"commandFragment"===k.referenceType&&(k=k.referenceType&&k.range&&k.range.from.line,h=(b=b.get("editor"))&&
k&&b.heightAtLine(k));b=h?h+a:c;b<=c&&(b=c);this._commentReferenceTopMap[d]=b-74}else this._commentReferenceTopMap[d]=null},this)},commentsComparator:function(a,b){var c=a.get("commandNUID"),d=b.get("commandNUID"),k=a.get("commentReference"),h=b.get("commentReference"),e=k.referenceType,m=h.referenceType,g=["command","commandFragment","commandResults"];if(c!==d)return this._commandViewOffsetMap[c]-this._commandViewOffsetMap[d];if(e!==m)return g.indexOf(e)<g.indexOf(m);c=n.default.compareRange(k.range,
h.range);return"commandFragment"===e&&0!==c?c:a.get("postedAt")-b.get("postedAt")},lastActiveComment:-1,calculateDisplayPosition:function(){var a=h.default.filter(this.props.comments,function(a){return this._commentReferenceTopMap[a.get("guid")]},this).sort(this.commentsComparator),b=void 0,c=void 0,d=void 0,k=a.length;-1!==this.state.activeCommentGUID&&(this.lastActiveComment=this.state.activeCommentGUID);for(b=0;b<k;b++)if(a[b].get("guid")===this.lastActiveComment){d=b;break}d||(d=0);if(a[d]){for(var e=
0,m=void 0,n=void 0,b=d;b<k;b++)c=a[b],n=this._commentViewHeightMap[c.get("guid")],m=this._commentReferenceTopMap[c.get("guid")],b!==d&&c.top&&m>=c.top&&c.top-12>=e||(c.top=m-12>e?m:e+12),e=c.top+n;e=a[d].top;for(b=d-1;0<=b;b--)c=a[b],n=this._commentViewHeightMap[c.get("guid")],m=this._commentReferenceTopMap[c.get("guid")],c.top&&c.top>=m&&c.top+n+12<=e||(c.top=m+n+12>e?e-n-12:m),e=c.top}},deferForceUpdate:function(a){var b=this;setTimeout(function(){b.isMounted()&&b.forceUpdate()},a||0)},onChildHeightWillUpdate:function(){this.deferForceUpdate()},
render:function(){var a={"comments-panel-wrapper":!0,hidden:!this.props.showCommentsPanel};this.collectPositioningInfo();this.calculateDisplayPosition();var c=h.default.map(this.props.comments,function(a){var c=a.top||-100,d=a.get("guid");return b.default.createElement(m.default,{key:d,ref:d,styles:{position:"absolute",top:c+"px"},active:this.state.activeCommentGUID===d,setActiveComment:this.setActiveComment,comment:a,userId:this.props.userId,onChildHeightWillUpdate:this.onChildHeightWillUpdate})},
this),k=0<c.length?null:b.default.createElement("div",{className:"comment-wrapper no-comments-hint"},"Select some code from the notebook to start commenting");return b.default.createElement("div",{className:(0,d.default)(a)},b.default.createElement("div",{className:"comments-panel"},k,c))}});l.exports=a},{"../notebook/CodeMirrorUtils":139,"../notebook/CommentView.jsx":153,classnames:411,jquery:819,react:1001,"react-dom":865,underscore:1021}],155:[function(a,l,f){function c(a){return a&&a.__esModule?
a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.ContextBarLink=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("react");var b=c(l),k=a("../ui_building_blocks/icons/IconsForType"),d=c(k),k=a("../ui_building_blocks/highlight/Highlight.jsx"),n=c(k),m=a("../ui_building_blocks/Tooltip.jsx");(f.ContextBarLink=function(a){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a=(c.__proto__||Object.getPrototypeOf(c)).apply(this,
arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}e(c,a);h(c,[{key:"highlight",value:function(a){this.refs.highlightable.highlight(a)}},{key:"render",value:function(){var a=[],c=this.props;c.iconType&&d.default[c.iconType]&&a.push(b.default.createElement("i",{className:"fa fa-"+d.default[c.iconType]})," ");a.push(b.default.createElement("span",{className:"context-bar-link-text"},c.text));
c.caret&&a.push(" ",b.default.createElement("i",{className:"fa fa-caret-down"}));var k=c.classes||[];k.unshift("context-bar-item");c.inset&&k.unshift("inset");c.onClick||k.unshift("no-click");var h=c.id||String(Math.random()),a=b.default.createElement("a",{className:k.join(" "),id:h,"data-name":c.text,onClick:c.onClick,disabled:c.disabled?"disabled":null},a);return c.tooltip?b.default.createElement(m.Tooltip,{id:h,ref:"highlightable",text:c.tooltip},a):b.default.createElement(n.default,{id:h,ref:"highlightable"},
a)}}]);return c}(l.Component)).propTypes={text:b.default.PropTypes.string.isRequired,onClick:b.default.PropTypes.func,id:b.default.PropTypes.string,iconType:b.default.PropTypes.string,caret:b.default.PropTypes.bool,classes:b.default.PropTypes.array,tooltip:b.default.PropTypes.string,disabled:b.default.PropTypes.bool,inset:b.default.PropTypes.bool}},{"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/highlight/Highlight.jsx":302,"../ui_building_blocks/icons/IconsForType":304,react:1001}],
156:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};f=a("underscore");var h=c(f);f=a("react");var b=c(f),k=a("../acl/AclUtils.jsx"),d=a("../acl/PermissionEditView.jsx");f=a("../acl/WorkspacePermissions");var n=c(f),m=a("../notebook/ClusterDropdownItem.jsx");f=a("../clusters/ClusterList");f=c(f);
var q=a("../clusters/Common.jsx"),w=a("../filetree/NavFunc.jsx"),p=c(w),w=a("../notebook/KeyboardShortcutsView.jsx"),r=c(w),w=a("../notebook/NotebookConstants"),t=c(w),w=a("../notebook/NotebookModel"),w=c(w),u=a("../notebook/NotebookUtilities"),y=c(u),A=a("../notebook/PublishNotebookView.jsx"),g=a("../notebook/RestartClusterDropdownLink.jsx"),u=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),v=c(u),u=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx"),z=c(u),B=a("./ContextBarLink.jsx"),u=
a("../ui_building_blocks/dialogs/ReactModalUtils"),G=c(u),u=a("../ui_building_blocks/dropdowns/DropdownMenuView.jsx"),x=c(u),u=a("../ui_building_blocks/icons/IconsForType"),D=c(u),E=a("../ui_building_blocks/Tooltip.jsx"),F=a("../user_platform/BrowserUtils");a=b.default.createClass({displayName:"ContextBarView",propTypes:{clusters:b.default.PropTypes.instanceOf(f.default).isRequired,model:b.default.PropTypes.instanceOf(w.default).isRequired,isExampleNotebook:b.default.PropTypes.bool,displayMode:b.default.PropTypes.string,
changeDisplayCallback:b.default.PropTypes.func,showLoadScreenCallback:b.default.PropTypes.func,hideLoadScreenCallback:b.default.PropTypes.func,toggleCommentsPanel:b.default.PropTypes.func,showCommentsPanel:b.default.PropTypes.bool,toggleHistory:b.default.PropTypes.func,showHistory:b.default.PropTypes.bool,toggleSchedule:b.default.PropTypes.func,showSchedule:b.default.PropTypes.bool,currentDashboardId:b.default.PropTypes.oneOfType([b.default.PropTypes.string,b.default.PropTypes.number]),permissionLevel:b.default.PropTypes.string},
getDefaultProps:function(){var a=function(){};return{isExampleNotebook:!1,displayMode:"notebook",changeDisplayCallback:a,showLoadScreenCallback:a,hideLoadScreenCallback:a,toggleCommentsPanel:a,showCommentsPanel:!1,toggleHistory:a,showHistory:!1,toggleSchedule:a,showSchedule:!1,permissionLevel:n.default.MANAGE}},_forceUpdate:function(){this.isMounted()&&this.forceUpdate()},componentDidMount:function(){k.AclUtils.clusterAclsEnabled()&&k.AclUtils.fetchAndSetPermissions(this.props.clusters.attachableOrInProgressClusters(),
n.default.CLUSTER_TYPE)},tags:function(a){var b=this.props.model.tags();b.source="ContextBarView";b=h.default.defaults(b,a);return F.BrowserUtils.getMeasurementTags(b)},attachToCluster:function(a){var b=a.get("clusterId"),c=a.get("clusterName"),b=this.tags({clusterId:b,clusterName:c,actionSelected:"attachNotebook"});window.recordEvent("notebookActionsClicked",b);y.default.attachToCluster(this.props.model,a)},getClusters:function(){var a=this;return h.default.map(this.props.clusters.attachableOrInProgressClusters(),
function(c){var g=void 0,g=c.isAttachable()?function(){return a.attachToCluster(c)}:function(){window.settings.allowRunOnPendingClusters?a.attachToCluster(c):v.default.confirm({message:name+" is not ready yet. Do you want to attach this notebook to "+name+" when it is ready?",confirm:function(){return a.attachToCluster(c)}})};return b.default.createElement(m.ClusterDropdownItem,{cluster:c,clickHandler:g,tagsFunction:self.tags})})},getReattachClusterDropdownItems:function(){var a=this;return h.default.map(this.props.clusters.attachableOrInProgressClusters(),
function(c){var g=c.get("clusterName"),d=c.get("clusterId"),k=c.get("clusterName"),h=a.tags({clusterId:d,clusterName:k,actionSelected:"detachAndAttach"}),k=void 0,k=c.isAttachable()?function(){a.props.model.detachAndAttach(d);window.recordEvent("notebookActionsClicked",h)}:function(){window.settings.allowRunOnPendingClusters?a.props.model.detachAndAttach(d):z.default.confirm({message:g+" is not ready yet. Do you want to attach this notebook to "+g+" when it is ready?",confirm:function(){a.props.model.detachAndAttach(d);
window.recordEvent("notebookActionsClicked",h)}})};return b.default.createElement(m.ClusterDropdownItem,{cluster:c,clickHandler:k,tagsFunction:a.tags})})},handleShortcutsClick:function(){this.refs.shortcutView.toggleState();window.recordEvent("shortcutsViewed",{clickOrigin:"contextBarShortcutsIcon"})},getShortcutsIcon:function(){return b.default.createElement("div",{id:"shortcut-wrapper"},b.default.createElement("a",{className:"shortcut-menu-icon",onClick:this.handleShortcutsClick},b.default.createElement("i",
{className:"fa fa-keyboard-o"})))},getHistoryLink:function(){return window.settings.enableNotebookHistoryUI?b.default.createElement(B.ContextBarLink,{text:"Revision history",onClick:this.props.toggleHistory,iconType:"history",id:this.props.showHistory?"hide-history":"show-history",inset:this.props.showHistory}):null},getScheduleLink:function(){return window.settings.enableNotebookRefresh?b.default.createElement(B.ContextBarLink,{text:"Schedule",onClick:this.props.toggleSchedule,iconType:"jobs",id:this.props.showSchedule?
"hide-schedule":"show-schedule",disabled:!1,inset:this.props.showSchedule}):null},getCommentsLink:function(){return window.settings.enableReactNotebookComments?b.default.createElement(B.ContextBarLink,{text:"Comments",onClick:this.props.toggleCommentsPanel,iconType:"comments",id:this.props.showCommentsPanel?"hide-comments":"show-comments",inset:this.props.showCommentsPanel}):null},openPublishNotebookDialog:function(){window.recordEvent("notebookActionsClicked",this.tags({actionSelected:"openPublishNotebook"}));
(0,A.triggerPublishNotebookWorkflow)(this.getNodeId(),this.isDashboard())},openHubPublish:function(){(0,A.triggerHubPublishWorkflow)(this.getNodeId(),this.isDashboard(),this.props.model.get("name"))},togglePublishMenu:function(){this.setState({publishMenuVisible:!this.state.publishMenuVisible})},getPublishNotebookLink:function(){var a=this;if(!window.settings.enablePublishHub)return b.default.createElement(B.ContextBarLink,{text:"Publish",onClick:this.openPublishNotebookDialog,iconType:"publish",
id:"publish-notebook",disabled:this.props.showHistory,tooltip:"This notebook will be published publicly and anyone with the link can view it"});var c=b.default.createElement(x.default,{outsideClickHandler:this.togglePublishMenu,ignoreClickClasses:["actions-dropdown"],getItems:function(){return[b.default.createElement("a",{id:"action",onClick:a.openPublishNotebookDialog},"Private link"),b.default.createElement("a",{id:"action",onClick:a.openHubPublish},"NotebookHub")]},classes:["actions-dropdown-contents"]});
return b.default.createElement("div",{className:"dropdown actions-dropdown"},b.default.createElement(B.ContextBarLink,{text:"Publish",caret:!0,onClick:this.togglePublishMenu,iconType:"publish",id:"publish-dropdown-link",disabled:this.props.showHistory}),this.state.publishMenuVisible?c:null)},getPermissionLink:function(){if(!window.settings.enableWorkspaceAclsConfig)return null;var a=this.props.model.getPermissionLevel(),c=n.default.permissionToDescription(a,"shell","You");return this.props.model.canManage()?
b.default.createElement(B.ContextBarLink,{text:"Permissions",onClick:this.openEditPermissionDialog,iconType:"lock",id:"share",disabled:this.props.showHistory,tooltip:c+" Click to change permissions."}):b.default.createElement(B.ContextBarLink,{text:a,onClick:null,iconType:"share",id:"share",disabled:this.props.showHistory,tooltip:c})},openEditPermissionDialog:function(){window.recordEvent("notebookActionsClicked",this.tags({actionSelected:"openPermissions"}));var a=this.props.model;a.fetchWorkspaceAcl(function(){var c=
b.default.createElement(d.PermissionEditView,{workspaceAcl:a.get("workspaceAcl")});G.default.createModal(c)})},_runAll:function(){window.recordEvent("notebookActionsClicked",this.tags({actionSelected:"runAll"}));this.props.model.runAll()},_cancelRunAll:function(){window.recordEvent("notebookActionsClicked",this.tags({actionSelected:"cancelRunAll"}));this.props.model.cancelRunAll()},clearResults:function(a){a&&a.getModifierState&&a.getModifierState("Shift")?this.clearResultsWithoutConfirmation():this.clearResultsWithConfirmation()},
clearResultsWithoutConfirmation:function(){window.recordEvent("notebookActionsClicked",this.tags({actionSelected:"clearResults"}));this.props.model.clearResults()},clearResultsWithConfirmation:function(){var a=b.default.createElement("div",null,b.default.createElement("p",null,"Are you sure you want to clear all notebook results?"),b.default.createElement("p",{className:"hint-msg"},"Tip: bypass this dialog by holding the 'Shift' key when clicking on the button."));z.default.confirm({message:a,confirmButton:"Confirm",
confirm:this.clearResultsWithoutConfirmation})},getRunAllLink:function(){var a=this.props.model,c=n.default.canRun(this.props.permissionLevel),c=this.props.showHistory||!c;return y.default.isRunningAll(a)?b.default.createElement(B.ContextBarLink,{text:"Stop Execution",onClick:this._cancelRunAll,id:"stopExecution",ref:"stopExecutionLink",disabled:c,iconType:"stopRunAll"}):b.default.createElement(B.ContextBarLink,{text:"Run All",onClick:this._runAll,disabled:c,iconType:"runAll"})},getClearMenu:function(){if(!n.default.canRun(this.props.permissionLevel)||
"notebook"!==this.props.displayMode&&"resultsOnly"!==this.props.displayMode)return null;var a=b.default.createElement(x.default,{heading:null,outsideClickHandler:this.toggleClearMenu,ignoreClickClasses:["clear-dropdown"],getItems:this.getClearDropdownItems,classes:[]});if(window.settings.enableClearStateFeature)return b.default.createElement("div",{className:"dropdown clear-dropdown"},b.default.createElement(B.ContextBarLink,{text:"Clear",onClick:this.toggleClearMenu,iconType:"clearResults",caret:!0,
id:"clear-results-link"}),this.state.clearMenuVisible?a:null);a=this.props.model;return b.default.createElement(B.ContextBarLink,{text:"Clear Results",onClick:this.clearResults,disabled:this.props.showHistory||a.isRunning(),iconType:"clearResults"})},restartCluster:function(){var a=this,c=this.props.model.get("clusterName"),g=this.props.model.get("clusterId");v.default.confirm({message:b.default.createElement("div",null,"Are you sure you want to restart ",b.default.createElement("b",null,c),"? This action will affect all users of the cluster."),
confirm:function(){var b=a.props.clusters.findWhere({clusterId:g});b&&b.restart()}})},detachWithoutConfirm:function(){this.props.model.detach()},detachWithConfirm:function(){var a=b.default.createElement("div",null,"Are you sure you want to detach ",b.default.createElement("b",null,this.props.model.get("name")),"? This will clear all computed variable values from this notebook.");v.default.confirm({message:a,confirmButton:"Confirm",confirm:this.detachWithoutConfirm})},clearStateWithoutConfirm:function(a,
b){var c=this.props.model.get("clusterId"),g=this.props.model.get("clusterName");this.props.model.detachAndAttach(c);var d=this.tags();d.clusterId=c;d.clusterName=g;d.actionSelected="clearState";a&&(d.isRunAll=!0,d.actionSelected="clearStateAndRunAll",this.props.model.runAll());b&&(d.actionSelected="clearStateAndResults",this.props.model.clearResults());window.recordEvent("notebookActionsClicked",d)},clearStateWithConfirm:function(a){var c=b.default.createElement("div",null,"Are you sure you want to clear the notebook state? This will clear all computed variable values from this notebook.");
z.default.confirm({message:c,confirmButton:"Confirm",confirm:this.clearStateWithoutConfirm.bind(this,a,!1)})},clearStateAndResultsWithConfirm:function(){var a=b.default.createElement("div",null,"Are you sure you want to clear the notebook state and all results ? This will clear all computed variable values from this notebook.");z.default.confirm({message:a,confirmButton:"Confirm",confirm:this.clearStateWithoutConfirm.bind(this,!1,!0)})},getPendingDropDown:function(a){var c=a.get("clusterName"),g=
b.default.createElement("a",{"data-name":"Context Bar Detach",onClick:this.detachWithoutConfirm},"Detach");return this.makeAttachDetachDropDown(a.shortDisplayState()+": "+c,a.displayState(),function(){return[g]},!0)},getCreateClusterLink:function(){return window.settings.enableRestrictedClusterCreation?"#create/cluster":"#setting/clusters"},getDetachedDropDown:function(){var a=this.props.clusters.attachableOrInProgressClusters().length,c=0<a?"Attach to:":"No clusters available",g=this.getCreateClusterLink();
return this.makeAttachDetachDropDown("Detached",c,0<a?this.getClusters:function(){return[b.default.createElement("a",{"data-name":"Create a Cluster",href:g},"Create a Cluster")]},!1)},getAttachDropDown:function(){var a=this.props.clusters.findWhere({clusterId:this.props.model.get("clusterId")}),c=this.props.model.get("clusterName"),d=b.default.createElement("a",{"data-name":"Context Bar Detach",onClick:this.detachWithConfirm},"Detach"),k=b.default.createElement("a",{onClick:this.clearStateWithConfirm.bind(this,
!1)},"Re-Attach"),e=b.default.createElement("li",{className:"dropdown-submenu"},b.default.createElement("a",{id:"reattach-dropdown-menu"},"Detach & Attach to"),b.default.createElement("ul",{className:"dropdown-menu attach-dropdown"},h.default.map(this.getReattachClusterDropdownItems(),function(a){return b.default.createElement("li",null,a)}))),m=a&&a.isRestartable()?b.default.createElement(g.RestartClusterDropdownLink,{clusterModel:a,restartClusterFunc:this.restartCluster}):null,n=a?this._getSparkUILink(a):
null,v=a&&window.settings.enableDriverLogsUI?this._getDriverLogsLink(a):null,q=this.props.model.get("clusterReady"),f=q?"Attached: ":"Pending: ",z=this._getAttachDropdownHeadingText(a,f,c,q);return this.makeAttachDetachDropDown(f+c,this._getAttachDropdownHeading(a,z),function(){return window.settings.enableDetachAndAttachSubMenu?[d,m,n,v,k,e]:[d,m,n,v]},!q)},_getAttachDropdownHeadingText:function(a,b,c,g){b=a?a.displayState():b+c;a&&g&&(b+=" "+a.sizeAndSparkVersion());return b},_getClusterHref:function(a){return a&&
a.get("clusterId")?q.ClusterUtil.getDetailsLinks(a.get("clusterId")).notebooks:""},_getAttachDropdownHeading:function(a,c){return b.default.createElement("div",null,b.default.createElement("span",{className:"attach-dropdown-heading-text"},c),b.default.createElement("a",{href:this._getClusterHref(a),target:"_blank",rel:"noopener noreferrer",title:"Open cluster",className:"cluster-nav-link attach-dropdown-heading"},b.default.createElement("i",{className:"fa fa-fw fa-"+D.default.navigate})))},lacksClusterAttachPermissions:function(a){return k.AclUtils.clusterAclsEnabled()&&
!a.canAttach()},_getSparkUILink:function(a){var c=this.lacksClusterAttachPermissions(a);a=b.default.createElement("a",{"data-name":"View Spark UI",href:a.driverUrl(),target:"_blank",rel:"noopener noreferrer",disabled:c},"View Spark UI");c&&(a=this._getNoPermissionsWrappedElem(a));return a},_getDriverLogsLink:function(a){var c=this.lacksClusterAttachPermissions(a);a=b.default.createElement("a",{"data-name":"View Driver Logs",href:"#setting/sparkui/"+a.get("clusterId")+"/driver-logs",target:"_blank",
rel:"noopener noreferrer",disabled:c},"View Driver Logs");c&&(a=this._getNoPermissionsWrappedElem(a));return a},_getNoPermissionsWrappedElem:function(a){return b.default.createElement(E.Tooltip,{text:n.default.NO_VIEW_PERMISSIONS_WARNING,attachToBody:!0},a)},showRunCommandHighlight:function(a){a===t.default.state.NO_CLUSTER_ATTACHED?(a=this.props.clusters.findWhere({clusterId:this.props.model.get("targetClusterId")}))&&a.isInProgress()?this.showAttachDetachHighlight({tooltip:a.get("clusterName")+
" is not yet ready to run commands. Please wait or attach to another cluster.",classes:["error"]}):this.showAttachDetachHighlight({tooltip:"Please attach this notebook to a cluster to run commands.",classes:["error"]}):a===t.default.state.ALREADY_RUNNING?this.showStopExecutionHighlight({tooltip:"Can't run command during Run All, Please stop current execution first.",classes:["error"],autoHide:!0}):a===t.default.state.SELECTED_COMMAND_RUNNING&&v.default.alert("Command is running, Please wait or cancel current execution.")},
showAttachDetachHighlight:function(a){this.isMounted()&&this.refs.attachDetachLink.highlight(a)},showStopExecutionHighlight:function(a){this.refs.stopExecutionLink.highlight(a)},makeAttachDetachDropDown:function(a,c,g,d){var k=n.default.canRun(this.props.permissionLevel);c=b.default.createElement(x.default,{heading:c,outsideClickHandler:this.toggleMenu,ignoreClickClasses:["attach-detach-dropdown"],getItems:g,classes:["attach-detach-menu","skip-heading-hover"]});g=k?this.toggleMenu:null;var h="dropdown attach-detach-dropdown";
this.props.showHistory&&(h+=" history-panel-on");return b.default.createElement("div",{className:h},b.default.createElement(B.ContextBarLink,{text:a,onClick:g,iconType:d?"inProgress":"cluster",caret:k,id:"attach-detach-link",ref:"attachDetachLink",disabled:this.props.showHistory||!k}),this.state.menuVisible?c:null)},getAttachDetachDropDown:function(){var a=""!==this.props.model.get("clusterId"),b=this.props.model.get("targetClusterId"),b=this.props.clusters.findWhere({clusterId:b});return a?this.getAttachDropDown():
b&&!b.isTerminated()?this.getPendingDropDown(b):this.getDetachedDropDown()},getDashboardViews:function(a,c){var g=b.default.createElement("i",{className:"fa fa-"+D.default.active}),d="#notebook/"+this.props.model.id+"/dashboard/";return h.default.map(a,function(a){var k=c===a.id,h=this.tags({dashboardId:a.id,eventType:"open"});return b.default.createElement("a",{"data-name":"switch-view-dashboard-"+a.id,onClick:function(){window.recordEvent("dashboard",h)},href:d+a.id,className:k?"active":""},k?g:
null,a.get("title"))},this)},createDashboard:function(){var a=this.props;a.showLoadScreenCallback();var b=this.tags({eventType:"create"});window.recordEvent("dashboard",b);this.props.model.createNewDashboardView(function(b){b="notebook/"+a.model.get("id")+"/dashboard/"+b.dashboardId;window.router.navigate(b,{trigger:!0})})},getClearDropdownItems:function(){var a=""!==this.props.model.get("clusterId"),c=n.default.canRun(this.props.permissionLevel),g=this.props.model,a=!this.props.showHistory&&c&&a,
g=b.default.createElement("a",{"data-name":"clear-results",onClick:this.clearResults,className:this.props.showHistory||g.isRunning()?"disabled":"active"},"Clear Results"),c=b.default.createElement("a",{"data-name":"clear-state",onClick:this.clearStateWithConfirm.bind(this,!1),className:a?"active":"disabled"},"Clear State"),d=b.default.createElement("a",{"data-name":"clear-state-and-results",onClick:this.clearStateAndResultsWithConfirm,className:a?"active":"disabled"},"Clear State & Results"),a=b.default.createElement("a",
{"data-name":"clear-state-and-run",onClick:this.clearStateWithConfirm.bind(this,!0),className:a?"active":"disabled"},"Clear State & Run All");return[g,c,d,a]},getViewDropdownItems:function(){var a=this.props.displayMode,c=window.settings.enableNewDashboardViews,g="notebook"===a,g=b.default.createElement("a",{"data-name":"switch-view-notebook",onClick:function(){window.recordEvent("clickShowAllButton")},href:"#notebook/"+this.props.model.get("id"),className:g?"active":""},g?b.default.createElement("i",
{className:"fa fa-"+D.default.active}):null,"Code"),a="resultsOnly"===a,a=b.default.createElement("a",{"data-name":"switch-view-resultsOnly",onClick:function(){window.recordEvent("clickResultsOnlyButton")},href:"#notebook/"+this.props.model.get("id")+"/resultsOnly",className:a?"active":""},a?b.default.createElement("i",{className:"fa fa-"+D.default.active}):null,"Results Only"),g=[g,a];if(!c)return g;g.push(b.default.createElement("p",{role:"separator",className:"divider dashboard-views"}));c=this.props.model.getDashboardViewModels();
c.length&&(g.push(b.default.createElement("span",{className:"heading dashboard-views"},"Dashboards:")),a=this.getDashboardViews(c,this.props.currentDashboardId),g=g.concat(a));n.default.canEdit(this.props.permissionLevel)&&(c.length&&g.push(b.default.createElement("p",{role:"separator",className:"divider"})),c=b.default.createElement("a",{"data-name":"create-dashboard",onClick:this.createDashboard},b.default.createElement("i",{className:"fa fa-"+D.default.create}),"New Dashboard"),g.push(c));return g},
getCurrentDisplayModeTitle:function(){var a=this;if("dashboardView"===this.props.displayMode){var b=function(){var b=a.props,c=b.model.getDashboardViewModels();return 0===c.length?{v:"Loading..."}:(c=h.default.find(c,function(a){return a.get("id")===b.currentDashboardId}))?{v:"View: "+c.get("title")}:{v:"Loading..."}}();if("object"===("undefined"===typeof b?"undefined":e(b)))return b.v}return"resultsOnly"===this.props.displayMode?"View: Results Only":"View: Code"},getViewSelector:function(){var a=
b.default.createElement(x.default,{heading:null,outsideClickHandler:this.toggleViewMenu,ignoreClickClasses:["view-dropdown"],getItems:this.getViewDropdownItems,classes:[]});return b.default.createElement("div",{className:"dropdown view-dropdown"},b.default.createElement(B.ContextBarLink,{text:this.getCurrentDisplayModeTitle(),onClick:this.toggleViewMenu,iconType:"view",caret:!0,id:"view-mode-link"}),this.state.viewMenuVisible?a:null)},toggleViewMenu:function(){this.setState({viewMenuVisible:!this.state.viewMenuVisible})},
toggleClearMenu:function(){this.setState({clearMenuVisible:!this.state.clearMenuVisible})},getFileDropdown:function(){var a=this,c=b.default.createElement("a",{id:"clone-action",onClick:this.cloneNotebook},"Clone"),g=b.default.createElement("a",{id:"rename-action",onClick:this.renameNotebook},"Rename"),d=b.default.createElement("a",{id:"move-action",onClick:this.moveNotebook},"Move"),k=b.default.createElement("a",{id:"delete-action",onClick:this.deleteNotebook},"Delete"),h=this.getExportDropdownLink(),
e=this.getPublishFileDropdownLink(),m=this.props.isExampleNotebook,v=b.default.createElement(x.default,{heading:null,outsideClickHandler:this.toggleActionsMenu,ignoreClickClasses:["actions-dropdown"],getItems:function(){var b=n.default.canManage(a.props.permissionLevel);return!m&&b?window.settings.enablePublishNotebooks?[c,g,d,k,h,e]:[c,g,d,k,h]:[c,h]},classes:["actions-dropdown-contents"]}),q="dropdown actions-dropdown";this.props.showHistory&&(q+=" history-panel-on");return b.default.createElement("div",
{className:q},b.default.createElement(B.ContextBarLink,{text:"File",onClick:this.toggleActionsMenu,caret:!0,id:"actions-dropdown-link",disabled:this.props.showHistory,iconType:"shell"}),this.state.fileMenuVisible?v:null)},toggleActionsMenu:function(){this.setState({fileMenuVisible:!this.state.fileMenuVisible})},getInitialState:function(){return{menuVisible:!1,displayMenuVisible:!1,fileMenuVisible:!1,viewMenuVisible:!1,publishMenuVisible:!1}},toggleMenu:function(){this.setState({menuVisible:!this.state.menuVisible})},
toggleDisplayMenu:function(){this.setState({displayMenuVisible:!this.state.displayMenuVisible})},cloneNotebook:function(){window.recordEvent("notebookActionsClicked",{actionSelected:"cloneNotebook"});p.default.cloneNode(this.props.model.id,this.props.showLoadScreenCallback,function(a){window.location="#notebook/"+a},this.props.hideLoadScreenCallback)},renameNotebook:function(){window.recordEvent("notebookActionsClicked",{actionSelected:"renameNotebook"});p.default.renameNode(this.props.model.id,this.props.model)},
deleteNotebook:function(){window.recordEvent("notebookActionsClicked",{actionSelected:"deleteNotebook"});p.default.deleteNode(this.props.model.id,this.props.model,null)},moveNotebook:function(){window.recordEvent("notebookActionsClicked",{actionSelected:"moveNotebook"});var a=this.props.model,b=v.default.custom({title:"Moving '"+a.get("name")+"'",confirmButton:"  Select",class:"move-file-dialog",controls:[{controlType:"filetreePath",pathlabel:"Moving to folder: "},{controlType:"filetree",id:"picker",
nodeType:"folder",hideExamples:!0}],confirm:function(b){b=b.find("#picker")[0].fileTree.selectedFolder().node;var c=p.default.moveNodes.bind(this,[a],b,null);window.settings.enableWorkspaceAclsConfig?p.default.checkAndPreviewPermission(a,b.id,c):c()}}),c=window.fileBrowserView.getModel(this.props.model.attributes.parentId),c=window.fileBrowserView.toTreeNode(c);b.find("#picker")[0].fileTree.openToNode(c)},getPublishFileDropdownLink:function(){return window.settings.enablePublishHub?b.default.createElement("li",
{className:"dropdown-submenu"},b.default.createElement("a",{id:"publish-dropdown-link"},"Publish"),b.default.createElement("ul",{className:"dropdown-menu publish-dropdown"},b.default.createElement("li",null,b.default.createElement("a",{onClick:this.openPublishNotebookDialog},"Private link")),b.default.createElement("li",null,b.default.createElement("a",{onClick:this.openHubPublish},"NotebookHub")))):b.default.createElement("a",{id:"publish-action",onClick:this.openPublishNotebookDialog},"Publish")},
getExportDropdownLink:function(){var a=b.default.createElement("li",null,b.default.createElement("a",{id:"export-ipython-action",onClick:this.exportIPython},"IPython Notebook"));return b.default.createElement("li",{className:"dropdown-submenu"},b.default.createElement("a",{id:"export-dropdown-link"},"Export"),b.default.createElement("ul",{className:"dropdown-menu export-dropdown"},b.default.createElement("li",null,b.default.createElement("a",{id:"export-item-action",onClick:this.exportItem},"DBC Archive")),
b.default.createElement("li",null,b.default.createElement("a",{id:"export-source-action",onClick:this.exportSource},"Source File")),"python"===this.props.model.get("language")?a:null,this.getExportHTMLLink()))},exportItem:function(){window.recordEvent("notebookActionsClicked",{actionSelected:"exportNotebookDBCArchive"});p.default.exportItem(this.props.model.id)},exportSource:function(){window.recordEvent("notebookActionsClicked",{actionSelected:"exportNotebookSourceFile"});p.default.exportSource(this.props.model.id)},
exportIPython:function(){window.recordEvent("notebookActionsClicked",{actionSelected:"exportNotebookIPythonNotebook"});p.default.exportIPython(this.props.model.id)},getExportHTMLLink:function(){var a=this;return window.settings.enableStaticNotebooks||window.testMode?b.default.createElement("li",null,b.default.createElement("a",{id:"export-html-action",onClick:function(){window.recordEvent("notebookActionsClicked",{actionSelected:"exportNotebookHTML"});p.default.exportHTML(a.getNodeId())}},"HTML")):
null},getModeSpecificElements:function(){var a=n.default.canEdit(this.props.permissionLevel);return"notebook"===this.props.displayMode?b.default.createElement("div",{className:"context-bar-right-links"},this.getShortcutsIcon(),window.settings.enablePublishNotebooks?this.getPublishNotebookLink():null,window.settings.enableElasticSparkUI?this.getScheduleLink():null,this.getCommentsLink(),a?this.getHistoryLink():null):"resultsOnly"===this.props.displayMode?b.default.createElement("div",{className:"context-bar-right-links"},
this.getScheduleLink(),a?this.getHistoryLink():null):"dashboardView"===this.props.displayMode?b.default.createElement("div",{className:"context-bar-right-links"},this.getScheduleLink()):null},isDashboard:function(){return"dashboardView"===this.props.displayMode},getNodeId:function(){return this.isDashboard()?this.props.currentDashboardId:this.props.model.id},render:function(){return this.props.isExampleNotebook?b.default.createElement("div",{id:"context-bar"},this.getFileDropdown(),b.default.createElement(B.ContextBarLink,
{text:"Example Notebook",onClick:null})):b.default.createElement("div",{className:"new-notebook context-bar",id:"context-bar"},this.getAttachDetachDropDown(),this.getFileDropdown(),this.getViewSelector(),this.getPermissionLink(),this.getRunAllLink(),this.getClearMenu(),this.getModeSpecificElements(),b.default.createElement(r.default,{ref:"shortcutView",style:{right:10}}))}});l.exports=a},{"../acl/AclUtils.jsx":3,"../acl/PermissionEditView.jsx":6,"../acl/WorkspacePermissions":10,"../clusters/ClusterList":32,
"../clusters/Common.jsx":35,"../filetree/NavFunc.jsx":72,"../notebook/ClusterDropdownItem.jsx":137,"../notebook/KeyboardShortcutsView.jsx":173,"../notebook/NotebookConstants":176,"../notebook/NotebookModel":178,"../notebook/NotebookUtilities":179,"../notebook/PublishNotebookView.jsx":183,"../notebook/RestartClusterDropdownLink.jsx":189,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../ui_building_blocks/dialogs/ReactModalUtils":300,
"../ui_building_blocks/dropdowns/DropdownMenuView.jsx":301,"../ui_building_blocks/icons/IconsForType":304,"../user_platform/BrowserUtils":344,"./ContextBarLink.jsx":155,react:1001,underscore:1021}],157:[function(a,l,f){var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,k){c&&a(b.prototype,c);k&&a(b,k);return b}}(),e=(f=a("../notebook/Export"))&&f.__esModule?
f:{default:f},h=(a=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"))&&a.__esModule?a:{default:a},b=function(){function a(b,c,k,h,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.alwaysDownloadExistingData=b;this.mayHaveStoredResults=c;this.getExistingData=k;this.getResultDownloadURL=h;this.runCommandAndSaveResults=e}c(a,[{key:"handleDownload",value:function(){this.alwaysDownloadExistingData?this.downloadExistingData():this.handleLargeTableDownload()}},
{key:"downloadExistingData",value:function(){var a=this.getExistingData();e.default.downloadTableAsCSV(a.columnNames,a.rows,"export.csv")}},{key:"downloadStoredResults",value:function(a){this.getResultDownloadURL({success:function(b){b.hasStoredResults?e.default.downloadFromURL(b.url):a&&a()}})}},{key:"handleLargeTableDownload",value:function(){this.mayHaveStoredResults?this.downloadStoredResults(this.handleNoStoredResults.bind(this)):this.handleNoStoredResults()}},{key:"handleNoStoredResults",value:function(){h.default.confirm({message:"You must re-execute the command in order to download over "+
window.settings.displayRowLimit+" rows.",confirm:this.reexecuteCommand.bind(this),confirmButton:"Re-execute and download"})}},{key:"reexecuteCommand",value:function(){var a=function(){this.getResultDownloadURL({success:function(a){a.hasStoredResults&&e.default.downloadFromURL(a.url)}})}.bind(this);this.runCommandAndSaveResults({commandFinished:a})}}]);return a}();l.exports={download:function(a,c,h,e,q){(new b(a,c,h,e,q)).handleDownload()}}},{"../notebook/Export":158,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297}],
158:[function(a,l,f){function c(a){return/[,"\r\n]/.test(a)?'"'+a.replace(/"/g,'""')+'"':a}var e=a("../ui_building_blocks/text/StringRenderers"),h=(f=a("../../lib/filesaver/FileSaver"))&&f.__esModule?f:{default:f};a("../../lib/blob/Blob");var b={tableToCSV:function(a,b){var d="",k;for(k=0;k<a.length;k++)d+=c(a[k]),k<a.length-1&&(d+=",");d+="\n";for(k=0;k<b.length;k++){for(a=0;a<b[k].length;a++)d+=c(e.StringRenderers.renderString(b[k][a])),a<b[k].length-1&&(d+=",");d+="\n"}return d},downloadTableAsCSV:function(a,
c,e){a=b.tableToCSV(a,c);a=new Blob([a],{type:"application/csv;charset=utf-8"});window.recordUsage("dataExported",a.size);h.default.saveAs(a,e)},downloadFromURL:function(a){window.location=a}};l.exports=b},{"../../lib/blob/Blob":382,"../../lib/filesaver/FileSaver":399,"../ui_building_blocks/text/StringRenderers":317}],159:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("jquery");var h=c(f);f=a("react");var b=c(f);f=a("../notebook/ReactCellExportDialog.jsx");
var k=c(f);f=a("../ui_building_blocks/dialogs/ReactModalUtils");var d=c(f),n=a("../urls/ResourceUrls");a=function(){this._cssUris={};this._htmlUris={}};a.prototype.getStaticResourceUrl=function(a){return n.ResourceUrls.getResourceUrl(a,!0)};a.prototype._calcDataUri=function(a,b){var c=(0,h.default)("<img/>");c.load(function(){var a=document.createElement("canvas"),c=a.getContext("2d");a.height=this.height;a.width=this.width;c.drawImage(this,0,0);a=a.toDataURL();b(a)});c.error(function(c){console.error("failed to load image",
a,c);b(null)});c[0].src=a};a.prototype._fixCommandModel=function(a,b){var c=this,d=void 0!==window.settings.files?window.settings.files:"",k=a.clone();k.set({parent:null});"command"===k.get("type")?k.set({presenceMarks:[],state:"running"===k.get("state")||"cancelling"===k.get("state")?"finished":k.get("state"),stages:[],clusterId:"",clusterName:"",clusterMemory:0,comments:null,lastModifiedBy:""}):"comment"===k.get("type")&&k.set({editor:null});k.get("results")&&"image"===k.get("results").type?function(){var a=
e.default.clone(k.get("results"));c._calcDataUri(d+a.data,function(c){a.data=null===c?"":c;k.set({results:a});b(k)})}():b(k)};a.prototype.exportCell=function(a,c){var e=this;this._fixCommandModel(a,function(a){var m="div.cell-"+a.get("parentId")+"-"+a.get("id"),m=(0,h.default)(m).height()-(0,h.default)(m+" .command-result-stats").height()+8;a="<html><head><meta charset='utf-8'><meta name='google' content='notranslate'><meta http-equiv='Content-Language' content='en'><link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700'><link rel='stylesheet' type='text/css' href='"+
e.getStaticResourceUrl("lib/css/bootstrap.min.css")+"'><link rel='stylesheet' type='text/css' href='"+e.getStaticResourceUrl("css/main.css")+"'><meta http-equiv='content-type' content='text/html; charset=UTF8'></head><body><div id='databricks-notebook-cell'></div><script>window.settings = {staticNotebookResourceUrl: '"+window.settings.staticNotebookResourceUrl+"', deploymentMode: '"+window.settings.deploymentMode+"'};const notebookModelJson = '"+btoa(JSON.stringify(c))+"';const notebookModelCommandCollection = '"+
btoa(JSON.stringify([a]))+"';\x3c/script><script src='"+e.getStaticResourceUrl("js/cell-main.js")+"'>\x3c/script></body></html>";a='<iframe style="width:100%;border-width:0px;height:'+m+'px" srcdoc="'+a+'"></iframe>';a=b.default.createFactory(k.default)({codeSnippet:a.replace(/\\/g,"\\\\")});d.default.createModal(a)})};l.exports=a},{"../notebook/ReactCellExportDialog.jsx":184,"../ui_building_blocks/dialogs/ReactModalUtils":300,"../urls/ResourceUrls":322,jquery:819,react:1001,underscore:1021}],160:[function(a,
l,f){function c(a){var b=a.error;a=b.statusText;if(403===b.status){var b="Permission Denied",c=h.default.parsePermissionError(a);c&&(a=e.default.createElement("span",null,e.default.createElement("b",null,c.username)," does not have ",e.default.createElement("b",null,c.permission)," permissions on",e.default.createElement("i",null," ",c.path),".",e.default.createElement("br",null),e.default.createElement("br",null),"Please contact your administrator for access."))}else b="Loading Error";return e.default.createElement("div",
null,e.default.createElement("div",{className:"new-notebook context-bar",id:"context-bar"}),e.default.createElement("div",{id:"content"},e.default.createElement("div",{className:"new-notebook error-panel"},e.default.createElement("h1",null,b),e.default.createElement("p",null,a))))}Object.defineProperty(f,"__esModule",{value:!0});f.FetchErrorPanel=c;var e=(l=a("react"))&&l.__esModule?l:{default:l},h=(a=a("../acl/WorkspacePermissions"))&&a.__esModule?a:{default:a};c.propTypes={error:e.default.PropTypes.shape({statusText:e.default.PropTypes.string,
status:e.default.PropTypes.number}).isRequired}},{"../acl/WorkspacePermissions":10,react:1001}],161:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("jquery");var h=c(f);f=a("underscore");var b=c(f);a=a("../ui_building_blocks/dropdowns/DropdownMenuView.jsx");var k=c(a),d=e.default.createClass({displayName:"GitHubBranchListItem",propTypes:{onSelected:e.default.PropTypes.func.isRequired,value:e.default.PropTypes.string.isRequired,isCreateBranch:e.default.PropTypes.bool.isRequired,
currentBranch:e.default.PropTypes.string.isRequired,iconClasses:e.default.PropTypes.string},_onClick:function(){this.props.onSelected(this.props.value,this.props.isCreateBranch)},_isCurrentBranch:function(){return this.props.value===this.props.currentBranch},_renderRegularElement:function(){var a=this._isCurrentBranch()?"fa fa-check":"fa fa-check invisible";return e.default.createElement("div",{title:this.props.value},e.default.createElement("a",{className:"github-branch-list-icon"},e.default.createElement("i",
{className:a})),e.default.createElement("span",null,this.props.value))},_renderCreateBranchElement:function(){return e.default.createElement("div",{className:"github-branch-create"},e.default.createElement("div",null,e.default.createElement("a",{className:"github-branch-list-icon"},e.default.createElement("i",{className:"fa fa-code-fork"})),e.default.createElement("span",null,"Create branch: "+this.props.value)),e.default.createElement("div",{className:"git-branch-from-text"},e.default.createElement("a",
{className:"github-branch-list-icon"},e.default.createElement("i",{className:this.props.iconClasses+" invisible"})),e.default.createElement("span",null,"from "+this.props.currentBranch)))},render:function(){return e.default.createElement("div",{className:"github-branch-list-element","data-value":this.props.value,onClick:this._onClick},this.props.isCreateBranch?this._renderCreateBranchElement():this._renderRegularElement())}});a=e.default.createClass({displayName:"GitHubBranchDropdownView",propTypes:{setBranch:e.default.PropTypes.func.isRequired,
hideDropdown:e.default.PropTypes.func.isRequired,branchesForRepo:e.default.PropTypes.array.isRequired,currentBranch:e.default.PropTypes.string.isRequired},getInitialState:function(){return{branchFilter:""}},componentDidMount:function(){this.refs.dropdown.refs.branchFilter.focus()},_closeBranchDropdown:function(a){var b=!0;a&&0!==(0,h.default)(a.target).closest(".github-input-branch-filter").length&&(b=!1);b&&this.props.hideDropdown()},_setBranchFilter:function(){this.setState({branchFilter:this.refs.dropdown.refs.branchFilter.value})},
_renderBranchFilter:function(){return e.default.createElement("div",{className:"github-input-branch-filter"},e.default.createElement("input",{type:"text",ref:"branchFilter",className:"branchFilter",onInput:this._setBranchFilter,onChange:this._setBranchFilter,placeholder:"Find or create a branch..."}))},_onBranchSelected:function(a,b){this.props.setBranch(a,b)},_getBranchesForRepo:function(){var a=this,c=this.state.branchFilter,k=this.props.branchesForRepo.filter(function(a){return-1<a.indexOf(c)}),
h=b.default.contains(k,c),k=b.default.map(k,function(b){return e.default.createElement(d,{value:b,currentBranch:a.props.currentBranch,isCreateBranch:!1,onSelected:a._onBranchSelected})}),k=[this._renderBranchFilter()].concat(k);c&&!h&&(k=k.slice(0,5),h=e.default.createElement(d,{value:c,isCreateBranch:!0,onSelected:a._onBranchSelected,currentBranch:this.props.currentBranch}),k.push(h));return k.slice(0,6)},render:function(){return e.default.createElement("div",null,e.default.createElement(k.default,
{ref:"dropdown",outsideClickHandler:this._closeBranchDropdown,getItems:this._getBranchesForRepo,handleClickInMenu:!0,classes:["github-branch-dropdown"]}))}});l.exports=a},{"../ui_building_blocks/dropdowns/DropdownMenuView.jsx":301,jquery:819,react:1001,underscore:1021}],162:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){var c=void 0;switch(a.mode){case "link":c="GitHub Preferences";break;case "save":c="Save Notebook Revision"}return b.default.createElement("h3",
null,c)}function h(a){var c=a.confirm;a=a.confirmDisabled?"disable":"";return b.default.createElement("div",null,b.default.createElement("a",{"data-dismiss":"modal",className:"btn cancel-button",tabIndex:"2"},"Close"),b.default.createElement("a",{"data-dismiss":"modal",className:"btn btn-primary confirm-button",tabIndex:"1",disabled:a,onClick:c},"Save"))}f=a("react");var b=c(f);f=a("jquery");var k=c(f);f=a("lodash");var d=c(f);f=a("../notebook/GitHubBranchDropdownView.jsx");var n=c(f),m=a("../notebook/GitHubUtils");
f=a("../ui_building_blocks/dialogs/ReactModal.jsx");var q=c(f);f=a("../ui_building_blocks/dialogs/ReactModalUtils");var w=c(f);f=a("../ui_building_blocks/icons/IconsForType");var p=c(f),r=a("../ui_building_blocks/Tooltip.jsx");e.propTypes={mode:b.default.PropTypes.string.isRequired};var t=b.default.createClass({displayName:"GitHubBody",propTypes:{setFile:b.default.PropTypes.func.isRequired,setPath:b.default.PropTypes.func.isRequired,setBranch:b.default.PropTypes.func.isRequired,branchesForRepo:b.default.PropTypes.array.isRequired,
branchInfo:b.default.PropTypes.object.isRequired,rebaseBranch:b.default.PropTypes.func.isRequired,branchFetchError:b.default.PropTypes.string,setVersionControl:b.default.PropTypes.func.isRequired,pathInput:b.default.PropTypes.string.isRequired,gitHubUrl:b.default.PropTypes.string.isRequired,gitBranch:b.default.PropTypes.string.isRequired,createPRLink:b.default.PropTypes.func.isRequired,isVersionControlled:b.default.PropTypes.bool.isRequired},getInitialState:function(){return{}},_setFileName:function(){this.props.setFile(this.refs.fileLink.value)},
_setPath:function(){this.props.setPath(this.refs.path.value)},componentDidMount:function(){this.refs.fileLink&&this.refs.fileLink.focus()},_toggleVersionControl:function(a){this.props.setVersionControl(a)},_renderLinkToggle:function(){var a=this.props.isVersionControlled?"checked":void 0,c=this.props.isVersionControlled?void 0:"checked",d=this._toggleVersionControl.bind(this,!0),g=this._toggleVersionControl.bind(this,!1);return b.default.createElement("div",{id:"git-modal-status-container"},b.default.createElement("label",
{className:"unclickable"},"Status"),b.default.createElement("label",{htmlFor:"git-link-radio",className:"pointer git-modal-status git-modal-status-link"},b.default.createElement("input",{type:"radio",id:"git-link-radio",name:"link",value:"link",defaultChecked:a,onChange:d})," Link"),b.default.createElement("label",{htmlFor:"git-unlink-radio",className:"pointer git-modal-status git-modal-status-unlink"},b.default.createElement("input",{type:"radio",id:"git-unlink-radio",name:"link",value:"unlink",
defaultChecked:c,onChange:g})," Unlink"))},_renderPath:function(a){return b.default.createElement("div",null,b.default.createElement("label",{className:"unclickable"},"Path in GitHub Repo"),b.default.createElement("div",null,b.default.createElement("input",{type:"text",ref:"path",disabled:a,className:"github-input control-field github-input-path",onInput:this._setPath,onChange:this._setPath,value:this.props.pathInput})))},_renderLink:function(a){return b.default.createElement("div",null,b.default.createElement("label",
{className:"unclickable"},"Link"),b.default.createElement("div",null,b.default.createElement("input",{type:"text",ref:"fileLink",disabled:a,className:"github-input control-field github-input-link",onInput:this._setFileName,onChange:this._setFileName,value:this.props.gitHubUrl,placeholder:"Link of file on GitHub (e.g. https://github.com/example/repo/blob/master/README.md"})))},_renderBranch:function(a){var c=this.state.showBranchDropdown?b.default.createElement(n.default,{setBranch:this.props.setBranch,
hideDropdown:this._closeBranchDropdown,branchesForRepo:this.props.branchesForRepo,currentBranch:this.props.gitBranch}):null,d=this.props.createPRLink(),g=this.props.branchInfo,k=m.GitHubUtils.getDefaultBranchString(g),d=d&&!a?b.default.createElement("a",{href:d,className:"pointer github-input-pr",target:"_blank",title:"Create a Pull Request against "+k},"Create PR"):null,g=g&&g.canRebase&&!a?b.default.createElement("a",{className:"pointer github-input-rebase",onClick:this.props.rebaseBranch,title:"Rebase branch on "+
k},"Rebase"):null,k=(k=this.props.branchFetchError)?b.default.createElement(r.Tooltip,{text:k},b.default.createElement("i",{className:"git-branch-fetch-warn fa fa-"+p.default.warning})):null;return b.default.createElement("div",{className:"github-input-branch-div"},b.default.createElement("label",{className:"unclickable"},"Branch"),b.default.createElement("span",null,b.default.createElement("button",{className:"btn github-input control-field github-input-branch",disabled:a,onClick:this._renderBranchDropdown},
b.default.createElement("span",{className:"pull-left"},this.props.gitBranch),b.default.createElement("a",{className:"pull-right"},b.default.createElement("i",{className:"fa fa-caret-down"}))),k,d,g),c)},_closeBranchDropdown:function(){this.setState({showBranchDropdown:!1})},_renderBranchDropdown:function(){this.setState({showBranchDropdown:!0})},render:function(){var a=this.props.isVersionControlled?void 0:"disabled";return b.default.createElement("div",{className:"multi-input-row modal-github-link"},
this._renderLinkToggle(),this._renderLink(a),window.settings.enableNotebookGitBranching?this._renderBranch(a):null,this._renderPath(a))}});h.propTypes={confirmDisabled:b.default.PropTypes.bool.isRequired,confirm:b.default.PropTypes.func.isRequired};a=b.default.createClass({displayName:"GitHubModalView",propTypes:{mode:b.default.PropTypes.string.isRequired,notebookName:b.default.PropTypes.string,notebookId:b.default.PropTypes.number,linkCallback:b.default.PropTypes.func,unlinkCallback:b.default.PropTypes.func,
saveCallback:b.default.PropTypes.func,branchInfo:b.default.PropTypes.object,rebaseBranch:b.default.PropTypes.func,gitHubLink:b.default.PropTypes.object,hintMessage:b.default.PropTypes.string},getInitialState:function(){var a=window.prefs.get("git-hostname")?window.prefs.get("git-hostname"):"",b=window.prefs.get("git-owner")?window.prefs.get("git-owner"):"",c=window.prefs.get("git-repo")?window.prefs.get("git-repo"):"",g="notebooks/"+this.props.notebookName,d=this.props.gitHubLink,k=d||b&&c?m.GitHubUtils.getRepoURL(d,
a,b,c):"",h=void 0;d?(g=d.path,h=d.branch?d.branch:"master",this.fetchGitHubBranches(d.hostname,d.owner,d.repo)):b&&c&&this.fetchGitHubBranches(a,b,c);a=m.GitHubUtils.isValidGitHubLink(d);return{gitHubUrl:k,gitHubLink:d,gitBranchList:["master"],notebookPath:g,branch:h||"master",message:"",isVersionControlled:a,toGitHub:a&&"save"===this.props.mode}},_checkAndFetchBranches:d.default.debounce(function(a,b){m.GitHubUtils.shouldFetchBranches(a,b)&&(void 0).fetchGitHubBranches(b.hostname,b.owner,b.repo)},
1E3),componentWillUpdate:function(a,b){this._checkAndFetchBranches(this.state.gitHubLink,b.gitHubLink)},setGitHubLink:function(a){this.setState({gitHubUrl:a});a=m.GitHubUtils.parseGitHubData(a);"link"===this.props.mode&&d.default.isObject(a)&&a.path&&this.setState({notebookPath:a.path,gitHubLink:a,branch:a.branch?a.branch:this.state.branch})},setMessage:function(){this.setState({message:this.refs.message.value})},setGitHubCheckbox:function(a){this.setState({toGitHub:a})},setPath:function(a){this.setState({notebookPath:a})},
setBranch:function(a,b){this.setState({branch:a,shouldCreateBranch:b})},setVersionControl:function(a){this.setState({isVersionControlled:a})},teardownAndCallback:function(){w.default.destroyModal();if("save"===this.props.mode)this.props.saveCallback(this.state.message.trim(),this.state.toGitHub);else if("link"===this.props.mode)if(this.state.isVersionControlled){var a=m.GitHubUtils.parseGitHubData(this.state.gitHubUrl);d.default.isObject(a)&&(window.prefs.set("git-repo",a.repo),window.prefs.set("git-owner",
a.owner),m.GitHubUtils.isValidHostname(a.hostname)?window.prefs.set("git-hostname",a.hostname):window.prefs.set("git-hostname",void 0),a.withPath(this.state.notebookPath.trim()),a.withBranch(this.state.branch));this.props.linkCallback(a,this.state.shouldCreateBranch)}else this.props.unlinkCallback()},rebaseBranch:function(){w.default.destroyModal();this.props.rebaseBranch()},isMessageValid:function(a){return 1E3>=(a||"").length},areAllEntriesValid:function(){if("link"===this.props.mode){var a=this.state.notebookPath,
b=m.GitHubUtils.parseGitHubData(this.state.gitHubUrl);d.default.isObject(b)&&b.withPath(a);return m.GitHubUtils.isValidGitHubLink(b)}return"save"===this.props.mode?this.isMessageValid(this.state.message):!1},checkboxClick:function(){this.setState({toGitHub:this.refs.cb.checked})},createPRLink:function(){return m.GitHubUtils.createPRURL(this.props.gitHubLink,this.props.branchInfo)},fetchGitHubBranches:function(a,b,c){var g=this;window.settings&&window.settings.enableNotebookGitBranching&&function(){var d=
{owner:b,repo:c};m.GitHubUtils.isValidHostname(a)&&(d.hostname=a);d=k.default.param(d);k.default.ajax("/notebook/"+g.props.notebookId+"/git/refs?"+d,{type:"GET",success:function(a){g.setState({gitBranchList:a.branchList,branchFetchError:null})},error:function(a,b,c){a="Error while listing GitHub repo branches: "+(c||b);console.error(a);g.setState({branchFetchError:a})}})}()},renderWithMessage:function(){var a=void 0;this.state.isVersionControlled&&void 0===this.props.hintMessage&&(a=this.state.isVersionControlled?
"Also commit to GitHub":"Link and commit to GitHub",a=b.default.createElement("label",{style:{marginTop:"5px"}},b.default.createElement("input",{type:"checkbox",ref:"cb",id:"toGitHubCb",style:{marginTop:"0px"},onClick:this.checkboxClick,defaultChecked:this.state.toGitHub?"checked":null}),a));var c=this.props.hintMessage?b.default.createElement("div",{style:{marginBottom:"5px"}},this.props.hintMessage):null;return b.default.createElement("div",{style:{marginBottom:"10px"}},c,b.default.createElement("textarea",
{ref:"message",className:"prompt-input git-textarea",onInput:this.setMessage,onChange:this.setMessage,placeholder:"Revision description (optional, at most 1000 chars)"}),a)},renderGitHub:function(){return b.default.createElement(t,{setFile:this.setGitHubLink,setPath:this.setPath,setBranch:this.setBranch,branchesForRepo:this.state.gitBranchList,branchInfo:this.props.branchInfo,rebaseBranch:this.rebaseBranch,branchFetchError:this.state.branchFetchError,setVersionControl:this.setVersionControl,pathInput:this.state.notebookPath,
gitHubUrl:this.state.gitHubUrl,gitBranch:this.state.branch,createPRLink:this.createPRLink,isVersionControlled:this.state.isVersionControlled})},render:function(){var a=b.default.createElement(e,{mode:this.props.mode}),c=void 0;"save"===this.props.mode?c=this.renderWithMessage():"link"===this.props.mode&&(c=this.renderGitHub());var d=b.default.createElement(h,{confirmDisabled:!this.areAllEntriesValid(),confirm:this.teardownAndCallback});return b.default.createElement(q.default,{modalName:"github-load",
header:a,body:c,footer:d})}});l.exports=a},{"../notebook/GitHubBranchDropdownView.jsx":161,"../notebook/GitHubUtils":163,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/dialogs/ReactModal.jsx":299,"../ui_building_blocks/dialogs/ReactModalUtils":300,"../ui_building_blocks/icons/IconsForType":304,jquery:819,lodash:842,react:1001}],163:[function(a,l,f){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(f,"__esModule",{value:!0});
var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=a("lodash"),b=f.GitHubUtils=function(){function a(){c(this,a)}e(a,null,[{key:"isStringEntryValid",value:function(a){return h.isString(a)&&!h.isEmpty(a)}},{key:"isValidHostname",value:function(b){return a.isStringEntryValid(b)}},{key:"isValidGitHubLink",
value:function(a){return h.isObject(a)&&this.isStringEntryValid(a.owner)&&this.isStringEntryValid(a.repo)&&this.isStringEntryValid(a.path)}},{key:"getHostname",value:function(a){return a&&a.hostname?a.hostname:"github.com"}},{key:"getRepoURL",value:function(b,c,d,k){a.isValidGitHubLink(b)&&(d=b.owner,k=b.repo,c=a.isValidHostname(b.hostname)?b.hostname:c);c=c||a.getHostname();return a.isStringEntryValid(d)&&a.isStringEntryValid(k)&&a.isStringEntryValid(c)?"https://"+c+"/"+d+"/"+k:null}},{key:"getDefaultBranchString",
value:function(b,c){var d=void 0,k="master";a.isValidGitHubLink(c)&&(k=c.branch?c.branch:"master",d=c.owner);b&&(a.isStringEntryValid(b.parentOwner)&&(d=b.parentOwner),a.isStringEntryValid(b.parentBranch)&&(k=b.parentBranch));return d?d+":"+k:k}},{key:"shouldLink",value:function(b,c){return a.isValidGitHubLink(c)&&(!b||c.hostname!==b.hostname||c.owner!==b.owner||c.repo!==b.repo||c.branch!==b.branch||c.path!==b.path)}},{key:"createPRURL",value:function(b,c){var d=void 0,k=void 0;c=a.getDefaultBranchString(c);
a.isValidGitHubLink(b)&&("master"===c&&(c=b.owner+":"+c),k=a.getRepoURL(b),d=a.getDefaultBranchString(null,b));return d&&d!==c?k+"/compare/"+c+"..."+d:null}},{key:"shouldFetchBranches",value:function(a,b){return window.settings&&window.settings.enableNotebookGitBranching?!a&&b||a&&b&&(a.owner!==b.owner||a.repo!==b.repo)?!0:!1:!1}}]);return a}(),k=f.GitHubLink=function(){function a(b,d,k,e,f){c(this,a);h.isString(b)?(this.owner=b,this.repo=d,this.path=k,this.branch=e,this.hostname=f):h.isObject(b)?
(this.owner=b.owner,this.repo=b.repo,this.path=b.path,this.branch=b.branch,this.hostname=b.hostname):console.error("Unexpected format for GitHubLink owner: "+b)}e(a,[{key:"withPath",value:function(a){this.path=a}},{key:"withHostname",value:function(a){this.hostname=a}},{key:"withBranch",value:function(a){this.branch=a}},{key:"getGitHubLink",value:function(a){a=a||"master";return b.isValidGitHubLink(this)?b.getRepoURL(this)+"/blob/"+a+"/"+encodeURIComponent(this.path).replace(/%2F/g,"/"):null}}]);
return a}();b.parseGitHubData=function(a){a=a.trim().split("/");if(0>a[0].indexOf("http"))return null;var b=void 0;"github.com"!==a[2]&&(b=a[2]);var c,d=void 0,h=void 0;if(5>a.length)return null;var e=a[3];c=a[4];".git"===c.slice(-4)&&(c=c.slice(0,-4));8<=a.length&&"blob"===a[5]&&(h=a[6],d=decodeURIComponent(a.slice(7).join("/")));return new k(e,c,d,h,b)}},{lodash:842}],164:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=
a("react");var b=c(f);f=a("classnames");var k=c(f);f=a("../filetree/NavFunc.jsx");var d=c(f);f=a("../notebook/NotebookModel");f=c(f);var n=a("../notebook/GitHubModalView.jsx"),m=c(n),q=a("../notebook/GitHubUtils"),n=a("../presence/Presence"),w=c(n),n=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx"),p=c(n),n=a("../ui_building_blocks/dialogs/ReactModalUtils"),r=c(n),n=a("../ui_building_blocks/icons/IconsForType"),t=c(n),u=a("../ui_building_blocks/Tooltip.jsx"),y=a("../user_info/NameUtils"),A=a("../user_platform/DateTimeFormats");
a=b.default.createClass({displayName:"HistoryPanelView",notebookLoadTimeout:null,notebookKeepaliveTimeout:null,ajaxRequest:null,propTypes:{hideHistoryCallback:b.default.PropTypes.func.isRequired,showNotebookCallback:b.default.PropTypes.func.isRequired,showLoadScreenCallback:b.default.PropTypes.func.isRequired,notebook:b.default.PropTypes.instanceOf(f.default).isRequired,recordEvent:b.default.PropTypes.func},getInitialState:function(){return{loadStart:(new Date).getTime(),history:null,previewEntryJson:null,
isCommitting:!1,isSyncing:!1,syncOk:!0,commitFailed:!1}},componentWillMount:function(){this.refreshHistory(!0);this._recordClick("notebookHistoryClick",-1)},componentWillUnmount:function(){clearTimeout(this.notebookLoadTimeout);clearTimeout(this.notebookKeepaliveTimeout);this.abortOutstandingRequests()},singletonAjax:function(a,b){this.abortOutstandingRequests();this.ajaxRequest=e.default.ajax(a,b)},abortOutstandingRequests:function(){null!==this.ajaxRequest&&(this.ajaxRequest.abort(),this.ajaxRequest=
null)},_recordEvent:function(a,b){var c=this.props.recordEvent?this.props.recordEvent:window.recordEvent;if(c){var g=this.state.gitHubLinkInfo,d=h.default.isObject(g)&&!h.default.isEmpty(g),g={nbLinkedToGitHub:d,nbLinkedToGitHubEnterprise:d&&!h.default.isEmpty(g.hostname)};void 0!==this.state.nbExistsOnGitHub&&(g.nbExistsOnGitHub=this.state.nbExistsOnGitHub);b=h.default.extend(g,b);c(a,b)}},_recordGitHubEvent:function(a,b,c){a=h.default.extend({nbGitHubAction:a,nbGitHubError:b||this.state.gitHubError},
c);this._recordEvent("notebookHistoryGitHub",a)},_recordClick:function(a,b,c){b={nbHistoryClickPosition:b};c&&(c=JSON.parse(c),b.nbRevisionType=this.getEntryType(c),b.nbRevisionAge=Date.now()-c.timestamp);this._recordEvent(a,b)},getEntryType:function(a){return""!==a.gitHash&&a.hasFullSnapshot?"gitHubExported":""!==a.gitHash?"gitHubImported":""!==a.description?"manualSaved":"autoSaved"},refreshHistory:function(a,b){var c=this;this.setState({loadStart:(new Date).getTime()});setTimeout(function(){c.forceUpdate()},
500);e.default.ajax("/notebook/"+this.props.notebook.id+"/history",{type:"GET",success:function(g){if(c.isMounted()){var d=h.default.sortBy(g.history,function(a){return-a.timestamp});d&&0<d.length&&(d[0].isCurrent=!0);var k=!1;d.forEach(function(a){a.disabled=0<c.getHorizon()&&(new Date).getTime()-a.timestamp>36E5*c.getHorizon();a.gitHash&&(k=!0)});window.notebookHistory=d;g=h.default.isObject(g.gitHubLink)?new q.GitHubLink(g.gitHubLink):null;c.setState({gitHubLinkInfo:g,history:d,nbExistsOnGitHub:k});
var e=!1;d.forEach(function(a){JSON.stringify(a)===c.state.previewEntryJson&&(e=!0)});e||(c.setState({previewEntryJson:null}),c.previewHistory());g&&a&&c.syncWithGitHub(k);g&&!a&&b&&!k&&c.promptForInitialGitCommit()}else console.debug("Skipping history update when unmounted.")},error:function(a,b,g){c.setState({error:g||b})}})},showNotebook:function(a){clearTimeout(this.notebookLoadTimeout);var b=this;window.conn.prefetchNode(a,function(){var c=window.treeCollection.getNotebookModel(a);c&&c.loaded()?
b.props.showNotebookCallback(c):(c&&0===c.numInterested()&&c.registerInterest(b),b.notebookLoadTimeout=setTimeout(function(){b.showNotebook(a)},250))})},resetNotebook:function(){clearTimeout(this.notebookLoadTimeout);clearTimeout(this.notebookKeepaliveTimeout);this.props.showNotebookCallback(null)},pushHistory:function(a){a.preventDefault();0<this.getHorizon()?p.default.alert("This feature is only available at the Professional tier or greater."):this.showGitHubModal("save")},restoreHistory:function(a){a.preventDefault();
var b=JSON.stringify((0,e.default)(a.target).data("entry")),c=(0,e.default)(a.target).data("position"),g=this;p.default.confirm({message:"Are you sure you want to restore this revision? Unsaved changes will be lost.",confirm:function(){g._recordClick("notebookHistoryRestore",c,b);g.props.showLoadScreenCallback();e.default.ajax("/notebook/"+g.props.notebook.id+"/history/restore",{type:"POST",data:b,success:function(){g.resetNotebook();g.props.hideHistoryCallback()},error:function(a,b,c){p.default.alert("Failed to restore revision: "+
(c||b))}})}})},getHorizon:function(){return window.settings&&window.settings.notebookRevisionVisibilityHorizon||0},previewHistory:function(a){var b=this,c=void 0,g=void 0;a?(a.preventDefault(),c=(0,e.default)(a.currentTarget).data("entry"),g=(0,e.default)(a.currentTarget).data("position")):(c=this.state.history&&this.state.history[0],g=0);if(!c||c.disabled)console.debug("Not showing preview - disabled or missing revision.");else{var d=JSON.stringify(c);b._recordClick("notebookHistoryClick",g,d);this.setState({previewEntryJson:d});
this.props.showLoadScreenCallback();this.singletonAjax("/notebook/"+this.props.notebook.id+"/history"+(window.settings.enableNotebookHistoryDiffing?"/preview/diff":"/preview"),{type:"POST",data:d,success:function(a){b.showNotebook(parseInt(a.notebookId,10));b.setupKeepaliveLoop(d)},error:function(a,b,c){"abort"!==c&&p.default.alert("Failed to load preview: "+(c||b))}})}},setupKeepaliveLoop:function(a){var b=this;clearTimeout(this.notebookKeepaliveTimeout);this.notebookKeepaliveTimeout=setTimeout(function(){e.default.ajax("/notebook/"+
b.props.notebook.id+"/history/keepalive",{type:"GET",data:{entry:a},complete:function(){b.setupKeepaliveLoop(a)}})},5E3)},promptForInitialGitCommit:function(){this.showGitHubModal("save","The file you linked to does not exist on GitHub yet. Would you like to make a commit and save the current version?")},showGitHubModal:function(a,c){this._recordClick("save"===a?"notebookHistorySave":"notebookHistoryClick","save"===a?0:-2);if(0<this.getHorizon())p.default.alert("This feature is only available at the Professional tier or greater.");
else{var g=this.props.notebook.get("language"),g="scala"===g?".scala":"python"===g?".py":"r"===g?".r":"sql"===g?".sql":".txt",k=this.props.notebook.get("name"),h=d.default.getFullPath(this.props.notebook.get("id")).substring(1);h&&"??"!==h&&(k=h);a=b.default.createElement(m.default,{mode:a,notebookName:k+g,notebookId:this.props.notebook.get("id"),linkCallback:this.linkToGitHub,unlinkCallback:this.unlinkFromGitHub,saveCallback:this._saveNotebook,branchInfo:this.state.branchInfo,rebaseBranch:this.rebaseBranch,
gitHubLink:this.state.gitHubLinkInfo,hintMessage:c});r.default.createModal(a)}},_resetGitHubState:function(){this.setState({gitHubError:null,syncOk:!0,commitFailed:!1,gitHubLinkInfo:null})},linkToGitHub:function(a,b){var c=this,g=this.state.gitHubLinkInfo;q.GitHubUtils.shouldLink(g,a)&&(g=g?g.branch:"master",b||(g=a.branch),this._recordGitHubEvent("link","",{nbGitHubBranchUse:"master"!==a.branch,nbGitHubBranchCreate:b||!1}),this._resetGitHubState(),this.props.notebook.sendGitRPC("gitHubLink",{hostname:a.hostname?
a.hostname:"",owner:a.owner,repo:a.repo,baseBranch:g,branch:a.branch,path:a.path},function(){c.refreshHistory(!0)},function(a,b,g){a=g||b;p.default.alert("Error linking with GitHub: "+a);c._recordGitHubEvent("linkError",a)}))},unlinkFromGitHub:function(){var a=this;this._recordGitHubEvent("unlink","");p.default.confirm({message:"Are you sure you want to unlink from GitHub? This will remove imported git commits from this notebook's revision history.",confirm:function(){a._resetGitHubState();a.props.notebook.sendGitRPC("gitHubUnlink",
null,function(){a.refreshHistory()},function(a,b,c){a=c||b;p.default.alert("Error unlinking with GitHub: "+a);this._recordGitHubEvent("unlinkError",a)})}})},syncWithGitHub:function(a){var b=this;this.setState({isSyncing:!0});this.props.notebook.sendGitRPC("gitHubSync",null,function(){b.gitHubSyncCompleted(!0,null,a)},function(c,g,d){b.gitHubSyncCompleted(!1,"Error while syncing GitHub history: "+(d||g),a)})},gitHubSyncCompleted:function(a,b,c){var g=this;this.refreshHistory(!1,a);this.setState({isSyncing:!1,
syncOk:a,gitHubError:b});this._recordGitHubEvent("sync");a&&c&&function(){e.default.ajax("/notebook/"+g.props.notebook.id+"/git/refs/rebase",{type:"GET",success:function(a){g.setState({branchInfo:a})},error:function(a,b,c){g.gitHubSyncCompleted(!1,"Failed while checking branch history: "+(c||b))}})}()},saveToGitHub:function(a){var b=this;this.props.notebook.sendGitRPC("gitHubSave",{message:a||""},function(){b.gitHubSaveCompleted(!0)},function(a,c,g){b.gitHubSaveCompleted(!1,"Error committing to GitHub: "+
(g||c))});this.setState({isCommitting:!0})},saveToDatabaseOnly:function(a){this.props.showLoadScreenCallback();var b=this;e.default.ajax("/notebook/"+b.props.notebook.id+"/history/save",{type:"POST",data:JSON.stringify({description:a}),success:function(){b.refreshHistory()},error:function(a,b,c){p.default.alert("Failed to save revision: "+(c||b))}})},_saveNotebook:function(a,b){b?this.saveToGitHub(a):this.saveToDatabaseOnly(a)},rebaseBranch:function(){var a=this;this.props.notebook.sendGitRPC("gitHubRebase",
{owner:this.state.branchInfo.parentOwner||this.state.gitHubLinkInfo.owner,branch:this.state.branchInfo.parentBranch||"master"},function(){a.gitHubSaveCompleted(!0,null,"rebase")},function(b,c,g){a.gitHubSaveCompleted(!1,"Error rebasing branch: "+(g||c),"rebase")});this.setState({isCommitting:!0})},gitHubSaveCompleted:function(a,b,c){a?(this.refreshHistory(!0),this.setState({commitFailed:!1,isCommitting:!1,gitHubError:null})):this.setState({isCommitting:!1,commitFailed:!0,gitHubError:b});this._recordGitHubEvent(c||
"save")},renderEntry:function(a,c){var g=JSON.stringify(a),d=g===this.state.previewEntryJson;null===this.state.previewEntryJson&&(d=a.isCurrent);var h={"history-preview":!0,"history-preview-selected":d,"history-preview-disabled":a.disabled},e=a.isCurrent?b.default.createElement("a",{className:"history-save-link",onClick:this.pushHistory,href:"#"},"Save now"):null,m=a.unsavedChanges?null:b.default.createElement("span",{className:"history-all-changes-saved"},"All changes saved");return b.default.createElement("div",
{key:a.timestamp,className:(0,k.default)(h),title:a.disabled?"Older revisions are only browsable at the Professional tier.":null,"data-description":a.description,"data-entry":g,"data-position":c,onClick:d||a.disabled?null:this.previewHistory},b.default.createElement("span",{className:"history-date-title"},A.DateTimeFormats.formatTimestampNicely(a.timestamp)),b.default.createElement("div",null,b.default.createElement("div",null,this.renderEntryAuthors(a),b.default.createElement("span",{className:"history-description",
title:a.description},a.description)),a.isCurrent?b.default.createElement("div",null,m,e):b.default.createElement("a",{className:"history-restore-link",onClick:this.restoreHistory,"data-description":a.description,"data-position":c,"data-entry":g,href:""},"Restore this revision")))},renderEntryAuthors:function(a){var c=[];a.authors&&a.authors.forEach(function(a){c.push(b.default.createElement("div",{key:a.userId,className:"history-author-wrapper"},b.default.createElement("div",{className:"history-author-box",
style:{backgroundColor:w.default.colorScale(a.userId)}}),b.default.createElement("span",{className:"history-author-text"},y.NameUtils.capitalizeAllNames(a.userFullname))))});if(a.gitHash&&this.state.gitHubLinkInfo){var g=this.state.gitHubLinkInfo.getGitHubLink(a.gitHash);c.push(b.default.createElement("div",{key:"__git_hash__",className:"history-author-wrapper"},b.default.createElement("a",{className:"history-author-text pointer",href:g,target:"_blank"},"Commit "+a.gitHash.substring(0,10))))}return c},
_renderGitHubBase:function(a,c){var g=this.state.gitHubError;g&&-1<g.indexOf("GitHub Token missing.")&&(g+=" You may add/change your token in the Account Settings page, by clicking the user icon on the top right of the screen.");var d=this.showGitHubModal.bind(this,"link");return b.default.createElement(u.Tooltip,{id:"gitStatusTooltip",text:g},b.default.createElement("div",{onClick:d,className:"git-button"},b.default.createElement("span",null,b.default.createElement("i",{className:"fa fa-"+t.default.github}),
"\u00a0GitHub: ",a," ",c)))},renderGitHubBar:function(){return void 0===this.state.gitHubLinkInfo?this.renderGitHubEmpty():this.state.gitHubLinkInfo?this.state.isCommitting?this.renderGitHubCommitting():this.state.isSyncing?this.renderGitHubSyncing():this.state.syncOk&&!this.state.commitFailed?this.renderGitHubSynced():this.renderGitHubOperationFailed():this.renderGitHubNotebookUnlinked()},renderGitHubEmpty:function(){return this._renderGitHubBase()},renderGitHubNotebookUnlinked:function(){return this._renderGitHubBase("Not linked")},
renderGitHubSyncing:function(){return this._renderGitHubBase("Syncing...")},renderGitHubSynced:function(){var a=b.default.createElement("i",{className:"fa fa-"+t.default.success+" history-git-success pull-right"});return this._renderGitHubBase("Synced",a)},renderGitHubOperationFailed:function(){var a=this.state.gitHubError,c=void 0;q.GitHubUtils.isStringEntryValid(a)&&(c=-1<a.indexOf("GitHub Token missing."));a=b.default.createElement("i",{className:"fa fa-"+(c?t.default.warning:t.default.error)+
" state-message-icon pull-right history-git-"+(c?"warning":"error")});c&&!window.prefs.get("showGitHubTokenLink")&&(window.prefs.set("showGitHubTokenLink",!0),p.default.confirm({message:"You need to set your GitHub Api Token in order to use GitHub features. The token can be set in the Account Settings page.",confirmButton:"Account Settings",confirm:function(){window.router.navigate("setting/account/github",{trigger:!0,replace:!1})}}));return this._renderGitHubBase("Failed",a)},renderGitHubCommitting:function(){return this._renderGitHubBase("Committing...")},
renderGitHubStatusEntry:function(){return null===this.state.history?null:b.default.createElement("div",{className:"history-github-bar"},this.renderGitHubBar())},render:function(){var a=[];if(null!==this.state.history)for(var c in this.state.history)this.state.history.hasOwnProperty(c)&&a.push(this.renderEntry(this.state.history[c],c));c=!this.state.error&&null===this.state.history&&500<=(new Date).getTime()-this.state.loadStart;var d=window.settings.enableNotebookGitVersioning?this.renderGitHubStatusEntry():
null;return b.default.createElement("div",{className:(0,k.default)({"history-panel-wrapper":!0})},b.default.createElement("div",{className:"history-panel"},d,a,b.default.createElement("div",{className:"history-status-msg"},c?"Still loading...":null,this.state.error)))}});l.exports=a},{"../filetree/NavFunc.jsx":72,"../notebook/GitHubModalView.jsx":162,"../notebook/GitHubUtils":163,"../notebook/NotebookModel":178,"../presence/Presence":224,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,
"../ui_building_blocks/dialogs/ReactModalUtils":300,"../ui_building_blocks/icons/IconsForType":304,"../user_info/NameUtils":325,"../user_platform/DateTimeFormats":345,classnames:411,jquery:819,react:1001,underscore:1021}],165:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("react");var h=c(f);f=a("react-dom");var b=c(f);f=a("../InputWidgetManager.js");f=c(f);var k=a("../../forms/ReactFormElements.jsx"),k=c(k);a=a("../../notebook/NotebookConstants");
var d=c(a),n=k.default.Combobox;a=h.default.createClass({displayName:"ComboboxInputWidget",propTypes:{inputsMgr:h.default.PropTypes.instanceOf(f.default).isRequired,argName:h.default.PropTypes.string.isRequired,widget:h.default.PropTypes.object.isRequired,autoRunOption:h.default.PropTypes.oneOf(d.default.AUTO_RUN_ALL_OPTIONS)},save:function(a){this.props.inputsMgr.setInputValue(this.props.argName,a,{silent:!0,autoRunOption:this.props.autoRunOption})},onConfirm:function(a){this.props.inputsMgr.setInputValue(this.props.argName,
a,{silent:!1,autoRunOption:this.props.autoRunOption,changedArgs:[this.props.argName]})},generateLabel:function(){var a=this.props.widget.widgetInfo;return a.label?a.label:this.props.argName},getPosition:function(){var a=(0,e.default)(b.default.findDOMNode(this.refs.combobox)).offset();return{top:a.top+d.default.INPUT_BTN_HEIGHT-d.default.TOPBAR_HEIGHT+3+"px",left:a.left-d.default.SIDE_NAV_WIDTH+"px"}},render:function(){var a=this.props.widget,b=this.props.argName,c=a.widgetInfo.options.choices,d=
this.generateLabel();return h.default.createElement("div",{className:"combobox-input-widget"},h.default.createElement(n,{id:"widget-"+b,ref:"combobox",wrapperClassName:"combobox-input",defaultValue:a.currentValue,options:c,onChange:this.save,onConfirm:this.onConfirm,getPosition:this.getPosition}),h.default.createElement("label",{className:"input-label",title:d},d," : "))}});l.exports=a},{"../../forms/ReactFormElements.jsx":81,"../../notebook/NotebookConstants":176,"../InputWidgetManager.js":172,jquery:819,
react:1001,"react-dom":865}],166:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("../InputWidgetManager.js");f=c(f);var h=a("../../forms/ReactFormElements.jsx"),h=c(h);a=a("../../notebook/NotebookConstants");a=c(a);var b=h.default.Select;a=e.default.createClass({displayName:"DropdownInputWidget",propTypes:{inputsMgr:e.default.PropTypes.instanceOf(f.default).isRequired,argName:e.default.PropTypes.string.isRequired,widget:e.default.PropTypes.object.isRequired,
autoRunOption:e.default.PropTypes.oneOf(a.default.AUTO_RUN_ALL_OPTIONS)},save:function(a){this.props.inputsMgr.setInputValue(this.props.argName,a,{autoRunOption:this.props.autoRunOption,changedArgs:[this.props.argName]})},generateLabel:function(){var a=this.props.widget.widgetInfo;return a.label?a.label:this.props.argName},render:function(){var a=this.props.widget,c=this.props.argName,h=a.widgetInfo,m=this.generateLabel();return e.default.createElement("div",{className:"dropdown-input-widget"},e.default.createElement(b,
{selectID:"widget-"+c,defaultValue:a.currentValue,options:h.options.choices,onChange:this.save,useLowerCaseValue:!1}),e.default.createElement("label",{className:"input-label",title:m},m," : "))}});l.exports=a},{"../../forms/ReactFormElements.jsx":81,"../../notebook/NotebookConstants":176,"../InputWidgetManager.js":172,react:1001}],167:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){var c=a.getAllInputWidgetsList();return m.default.createElement("ul",null,d.default.map(c,function(c){var g=c.widgetInfo&&c.widgetInfo.name;return g?m.default.createElement("li",{key:"widget-widget-li-"+g},m.default.createElement(A.default,{inputsMgr:a,argName:g,widget:c,autoRunOption:b})):(console.error("Wrong input widget format: ",
c),null)}))}function b(a){var b=a.inputsMgr.isEmpty(),b=(0,w.default)({"input-widget-panel":!0,empty:b});return m.default.createElement("div",{id:"dashboard-input-widget-panel",className:b},h(a.inputsMgr))}Object.defineProperty(f,"__esModule",{value:!0});f.NotebookInputPanel=void 0;var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(b,c,g){c&&a(b.prototype,
c);g&&a(b,g);return b}}();f.renderWidgetLists=h;f.DashboardInputPanel=b;l=a("lodash");var d=c(l);l=a("jquery");var n=c(l);l=a("react");var m=c(l);l=a("react-dom");var q=c(l);l=a("classnames");var w=c(l),p=a("../../forms/ReactFormElements.jsx");l=a("../../forms/ReactFormFooter.jsx");var r=c(l);l=a("../../local_storage/LocalUserPreference");var t=c(l);l=a("../InputWidgetManager");l=c(l);var u=a("../NotebookConstants"),y=c(u),u=a("./WidgetView.jsx"),A=c(u),u=a("../../ui_building_blocks/dialogs/ReactModal.jsx"),
g=c(u);a=a("../../ui_building_blocks/dialogs/ReactModalUtils");var v=c(a),z=[{label:"Run Notebook",value:y.default.AUTO_RUN_ALL},{label:"Run Accessed Commands",value:y.default.AUTO_RUN_ACCESSED_COMMAND},{label:"Do Nothing",value:y.default.AUTO_RUN_NO_OP}];(f.NotebookInputPanel=function(a){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=(b.__proto__||Object.getPrototypeOf(b)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.togglePinned=a.togglePinned.bind(a);a.updateAutoRunOption=a.updateAutoRunOption.bind(a);a.configInputPanel=a.configInputPanel.bind(a);a.localPrefs=new t.default(a.props.inputsMgr.notebookGuid());var c=!1!==a.localPrefs.get("pinInputPanel");a.state={pinned:c,autoRun:a.localPrefs.get("autoRunOnWidgetChange")||y.default.AUTO_RUN_ACCESSED_COMMAND};return a}e(b,a);k(b,[{key:"getDisplayHeight",value:function(){return this.isEmpty()?0:(0,n.default)(q.default.findDOMNode(this)).outerHeight()}},
{key:"togglePinned",value:function(){var a=!this.state.pinned;this.localPrefs.set("pinInputPanel",a);this.setState({pinned:a})}},{key:"updateAutoRunOption",value:function(a){this.localPrefs.set("autoRunOnWidgetChange",a);this.setState({autoRun:a})}},{key:"isEmpty",value:function(){return this.props.inputsMgr.isEmpty()}},{key:"configInputPanel",value:function(){var a=m.default.createElement("div",{className:"input-widget-panel-settings-modal"},m.default.createElement("span",{className:"select-label"},
"On Widget Change:"),m.default.createElement(p.Select,{selectID:"input-widget-panel-on-widget-update",defaultValue:this.state.autoRun,options:z,onChange:this.updateAutoRunOption}),m.default.createElement(p.LabeledCheckbox,{checkboxID:"input-widget-panel-pinned-checkbox",label:"Pinned to top",defaultChecked:this.state.pinned,onChange:this.togglePinned})),b=m.default.createElement("h3",null,"Widgets Panel Settings"),c=m.default.createElement(r.default,{showCancel:!1,confirmButton:"OK"});v.default.createModal(m.default.createElement(g.default,
{header:b,body:a,footer:c}))}},{key:"render",value:function(){var a=this.isEmpty(),a=(0,w.default)({"input-widget-panel":!0,empty:a,pinned:this.state.pinned});return m.default.createElement("div",{id:"notebook-input-widget-panel",className:a},h(this.props.inputsMgr,this.state.autoRun),m.default.createElement("div",{className:"widget-panel-settings"},m.default.createElement("i",{className:"settings fa fa-cog",onClick:this.configInputPanel}),m.default.createElement("i",{className:"pinning fa fa-thumb-tack"+
(this.state.pinned?" pinned":""),onClick:this.togglePinned})))}}]);return b}(m.default.Component)).propTypes={inputsMgr:m.default.PropTypes.instanceOf(l.default).isRequired};b.propTypes={inputsMgr:m.default.PropTypes.instanceOf(l.default).isRequired}},{"../../forms/ReactFormElements.jsx":81,"../../forms/ReactFormFooter.jsx":82,"../../local_storage/LocalUserPreference":128,"../../ui_building_blocks/dialogs/ReactModal.jsx":299,"../../ui_building_blocks/dialogs/ReactModalUtils":300,"../InputWidgetManager":172,
"../NotebookConstants":176,"./WidgetView.jsx":170,classnames:411,jquery:819,lodash:842,react:1001,"react-dom":865}],168:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("lodash");var h=c(f);f=a("react");var b=c(f);f=a("react-dom");var k=c(f);f=a("../InputWidgetManager.js");f=c(f);var d=a("../../forms/ReactFormElements.jsx"),d=c(d);a=a("../../notebook/NotebookConstants");var n=c(a),m=d.default.MultiSelect;a=b.default.createClass({displayName:"MultiSelectInputWidget",
propTypes:{inputsMgr:b.default.PropTypes.instanceOf(f.default).isRequired,argName:b.default.PropTypes.string.isRequired,widget:b.default.PropTypes.object.isRequired,autoRunOption:b.default.PropTypes.oneOf(n.default.AUTO_RUN_ALL_OPTIONS)},save:function(a){a=a.join(",");this.props.inputsMgr.setInputValue(this.props.argName,a,{silent:!0,autoRunOption:this.props.autoRunOption})},onConfirm:function(a){a=a.join(",");this.props.inputsMgr.setInputValue(this.props.argName,a,{silent:!1,autoRunOption:this.props.autoRunOption,
changedArgs:[this.props.argName]})},generateLabel:function(){var a=this.props.widget.widgetInfo;return a.label?a.label:this.props.argName},getPosition:function(){var a=(0,e.default)(k.default.findDOMNode(this.refs.multiselect)).offset();return{top:a.top+n.default.INPUT_BTN_HEIGHT-n.default.TOPBAR_HEIGHT+3+"px",left:a.left-n.default.SIDE_NAV_WIDTH+"px"}},render:function(){var a=this.props.widget,c=this.props.argName,d=a.widgetInfo.options.choices,k=this.generateLabel(),a=a.currentValue.split(","),
a=h.default.reject(a,function(a){return!h.default.contains(d,a)});return b.default.createElement("div",{className:"multiselect-input-widget"},b.default.createElement(m,{id:"widget-"+c,ref:"multiselect",wrapperClassName:"multi-select-input",defaultSelection:a,options:d,onChange:h.default.throttle(this.save.bind(this),500),onConfirm:this.onConfirm,getPosition:this.getPosition}),b.default.createElement("label",{className:"input-label",title:k},k," : "))}});l.exports=a},{"../../forms/ReactFormElements.jsx":81,
"../../notebook/NotebookConstants":176,"../InputWidgetManager.js":172,jquery:819,lodash:842,react:1001,"react-dom":865}],169:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("lodash");var e=c(f);f=a("react");var h=c(f);f=a("../InputWidgetManager.js");f=c(f);var b=a("../../forms/ReactFormElements.jsx"),b=c(b);a=a("../../notebook/NotebookConstants");a=c(a);var k=b.default.Input;a=h.default.createClass({displayName:"TextInputWidget",propTypes:{inputsMgr:h.default.PropTypes.instanceOf(f.default).isRequired,
argName:h.default.PropTypes.string.isRequired,widget:h.default.PropTypes.object.isRequired,autoRunOption:h.default.PropTypes.oneOf(a.default.AUTO_RUN_ALL_OPTIONS)},save:function(a){this.props.inputsMgr.setInputValue(this.props.argName,a,{silent:!0,autoRunOption:this.props.autoRunOption})},onConfirm:function(a,b){this.props.inputsMgr.setInputValue(this.props.argName,b,{silent:!1,autoRunOption:this.props.autoRunOption,changedArgs:[this.props.argName]})},generateLabel:function(){var a=this.props.widget.widgetInfo;
return a.label?a.label:this.props.argName},render:function(){var a=this.props.widget,b=this.props.argName,c=this.generateLabel();return h.default.createElement("div",{className:"text-input-widget"},h.default.createElement(k,{type:"text",inputID:"widget-"+b,defaultValue:a.currentValue,onChange:e.default.throttle(this.save,500),confirm:this.onConfirm}),h.default.createElement("label",{className:"input-label",title:c},c," : "))}});l.exports=a},{"../../forms/ReactFormElements.jsx":81,"../../notebook/NotebookConstants":176,
"../InputWidgetManager.js":172,lodash:842,react:1001}],170:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("../InputWidgetManager.js");f=c(f);var h=a("./TextInputWidget.jsx"),b=c(h),h=a("./DropdownInputWidget.jsx"),k=c(h),h=a("./MultiSelectInputWidget.jsx"),d=c(h),h=a("./ComboboxInputWidget.jsx"),n=c(h);a=a("../NotebookConstants");a=c(a);a=e.default.createClass({displayName:"WidgetView",propTypes:{inputsMgr:e.default.PropTypes.instanceOf(f.default).isRequired,
argName:e.default.PropTypes.string.isRequired,widget:e.default.PropTypes.object.isRequired,autoRunOption:e.default.PropTypes.oneOf(a.default.AUTO_RUN_ALL_OPTIONS)},renderWidgetView:function(a){switch(a){case "text":return e.default.createElement(b.default,this.props);case "dropdown":return e.default.createElement(k.default,this.props);case "multiselect":return e.default.createElement(d.default,this.props);case "combobox":return e.default.createElement(n.default,this.props);default:return console.error("unknown widget type"),
null}},render:function(){var a="widget-div-"+this.props.argName;return e.default.createElement("div",{className:"input-widget-view",id:a,key:a,"data-widget-name":this.props.argName,"data-widget-type":this.props.widget.widgetInfo.widgetType},this.renderWidgetView(this.props.widget.widgetInfo.widgetType))}});l.exports=a},{"../InputWidgetManager.js":172,"../NotebookConstants":176,"./ComboboxInputWidget.jsx":165,"./DropdownInputWidget.jsx":166,"./MultiSelectInputWidget.jsx":168,"./TextInputWidget.jsx":169,
react:1001}],171:[function(a,l,f){var c=(a=a("../notebook/Widget"))&&a.__esModule?a:{default:a};a=c.default.extend({initialize:function(){c.default.prototype.initialize.call(this);this.set("type",this.get("type")||"input");this.setIfMissing("label",null);this.setIfMissing("binding",null);this.setIfMissing("controlType","text");this.setIfMissing("choices",[]);this.setIfMissing("globalVar",!1);this.setIfMissing("notebookNative",!0)}});l.exports=a},{"../notebook/Widget":196}],172:[function(a,l,f){Object.defineProperty(f,
"__esModule",{value:!0});f.default=function(a){var h=function(b,c,d){d=d||{};d.url=a.url()+"/inputwidget";a._notebookRpc(b,c,d)};this.notebookGuid=function(){return a.get("guid")};this.isEmpty=function(){var a=this.getAllInputWidgets();return!a||0===c.default.keys(a).length};this.getAllInputWidgets=function(){return a.get("inputWidgets")};this.getAllInputWidgetsList=function(){var b=c.default.values(a.get("inputWidgets"));return c.default.sortBy(b,function(a){return(a=a&&a.widgetInfo)&&(a.label?a.label:
a.name)})};this.addInputWidget=function(a){h("addInputWidget",{widgetInfo:a})};this.setInputValue=function(b,c,d){d=d||{};if(void 0===c||null===c)console.error("InputMgr:setInputValue with invalid value.");else{var k=function(){d.silent||a.trigger("widgetValueChanged",{autoRunOption:d.autoRunOption,changedArgs:d.changedArgs})},e=this.getAllInputWidgets()[b];e&&e.currentValue!==c?h("setInputValue",{argName:b,value:c},{success:k}):k()}};this.updateInputWidget=function(a,c){h("updateInputWidget",{argName:a,
widgetInfo:c})};this.removeInputWidget=function(a){h("removeInputWidget",{argName:a})};this.newTextInputWidget=function(a,c,d){d=d||{};return{widgetType:"text",name:a,defaultValue:c,label:d.label,options:{widgetType:"text",validationRegex:d.validationRegex}}};this.newDropdownInputWidget=function(a,k,d,h){h=h||{};c.default.isString(d)&&(d=d.split(";"));if(!c.default.isArray(d)||1>d.length)console.error("invalid choice input");else return{widgetType:"dropdown",name:a,defaultValue:k,label:h.label,options:{widgetType:"dropdown",
choices:d}}}};var c=(a=a("underscore"))&&a.__esModule?a:{default:a}},{underscore:1021}],173:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("react");var h=c(f);f=a("classnames");var b=c(f),k=a("../user_platform/MacUtils"),d=document.onkeydown;a=h.default.createClass({displayName:"KeyboardShortcutsView",propTypes:{defaultOpenState:h.default.PropTypes.bool,defaultCloseIcon:h.default.PropTypes.bool,style:h.default.PropTypes.object},getInitialState:function(){return{open:this.props.defaultOpenState,
closeIcon:this.props.defaultCloseIcon}},getDefaultProps:function(){return{defaultOpenState:!1,defaultCloseIcon:!1}},toggleState:function(){this.setState({open:!this.state.open})},componentDidMount:function(){var a=this;(0,e.default)(document).on("keyup.KeyboardShortcutsView.escapeHandler",function(b){b=b||window.event;if(27===b.keyCode){try{b.preventDefault()}catch(q){b.returnValue=!1}a.isMounted()&&a.setState({open:!1})}d&&d(b)});(0,e.default)(document).on("click.KeyboardShortcutsView.clickHandler",
function(b){if(0<(0,e.default)(b.target).parents("#shortcut-wrapper").length)return!1;var c=void 0;if(0<(0,e.default)(b.target).parents("#shortcut-content").length||b.target&&"shortcut-content"===b.target.id)c=!0;!c&&a.isMounted()&&a.setState({open:!1})})},componentWillUnmount:function(){(0,e.default)(document).off(".KeyboardShortcutsView")},closeIcon:function(){return h.default.createElement("i",{className:"fa fa-times-circle-o modal-close",onClick:function(){(0,e.default)(".react-modal-place").modal("hide")}})},
commandKeys:"Cmd Ctrl Alt Option Enter Shift Esc Tab Up Down".split(" "),shortcutContent:function(){var a=k.MacUtils.isMac()?"Cmd":"Ctrl",c=k.MacUtils.isMac()?"Option":"Alt",a={"Run command and move to next cell":["Shift","&&","Enter"],"Run command and insert new cell below":[c,"&&","Enter"],"Run command":["Ctrl","&&","Enter"],"Move to previous/next cell":[c,"&&","Up","||","Down"],"Insert a cell above":["Ctrl","&&",c,"&&","P"],"Insert a cell below":["Ctrl","&&",c,"&&","N"],"Move a cell up":["Ctrl",
"&&",c,"&&","Up"],"Move a cell down":["Ctrl","&&",c,"&&","Down"],"Toggle comments panel":["Ctrl","&&",c,"&&","M"],"Copy current cell":["Ctrl","&&",c,"&&","C"],"Cut current cell":["Ctrl","&&",c,"&&","X"],"Paste cell below":["Ctrl","&&",c,"&&","V"],"Delete current cell":["Ctrl","&&",c,"&&","D"],"Move up or to previous cell":["Up"],"Move down or to next cell":["Down"],"Autocomplete, indent selection":["Tab"],"Unindent selection":["Shift","&&","Tab"],"Indent/Unindent selection":[a,"&&","]","||","["],
"Undo typing":[a,"&&","Z"],"Redo typing":[a,"&&","Shift","&&","Z"],"Toggle line comment":[a,"&&","/"]},c=[],d;for(d in a)if(a.hasOwnProperty(d)){for(var e=a[d],f=[],r=0;r<e.length;r++)if("&&"===e[r])f.push(h.default.createElement("span",{key:r,className:"plus-sign"},"+"));else if("||"===e[r])f.push(h.default.createElement("span",{key:r,className:"plus-sign"},"/"));else{var t=(0,b.default)({"shortcut-command":!0,"command-key":0<=this.commandKeys.indexOf(e[r])});f.push(h.default.createElement("span",
{key:r,className:t},e[r]))}c.push(h.default.createElement("tr",{key:d},h.default.createElement("td",{className:"shortcut-instruction"},f),h.default.createElement("td",{className:"shortcut-colon"},":"),h.default.createElement("td",{className:"shortcut-description"},d)))}return h.default.createElement("table",{id:"shortcut-table"},h.default.createElement("tbody",null,c))},render:function(){return this.state.open?h.default.createElement("div",{id:"shortcut-content",style:this.props.style,ref:"shortcutView"},
this.props.defaultCloseIcon?this.closeIcon():null,this.shortcutContent()):null}});l.exports=a},{"../user_platform/MacUtils":347,classnames:411,jquery:819,react:1001}],174:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.LanguageNames={sql:"SQL",python:"Python",r:"R",scala:"Scala",markdown:"Markdown",run:"Run Notebook"}},{}],175:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("backbone");var h=c(f);f=a("../presence/Presence");
var b=c(f);f=a("../notebook/BackboneRpcMixin");f=c(f);var k=a("../notebook/CodeModeUtils"),d=a("../notebook/NotebookUtilities"),n=c(d),m=a("../user_platform/BrowserUtils");a=h.default.Model.extend({defaults:{deltaVersion:-1,localVersion:1,running:!1,state:"input",shouldRun:!1,rerunning:!1,stages:[],guid:m.BrowserUtils.generateGUID(),commandType:"auto",command:"",commandVersion:0,results:null,errorSummary:null,error:null,startTime:0,submitTime:0,finishTime:0,collapsed:!1,bindings:{},displayType:"table",
width:"auto",height:"auto",xColumns:null,yColumns:null,pivotColumns:null,commentThread:[],commentsVisible:!1,parentHierarchy:[],diffInserts:[],diffDeletes:[],presenceMarks:[],commandTitle:null,showCommandTitle:!1,hideCommandCode:!1,hideCommmandResult:!1,accessedArgs:{}},initialize:function(){this.listenTo(this,"change:results",this.parseNonNumericEntries);this.listenTo(this,"change:width change:height",e.default.debounce(this.formatWidthHeight,1),this);this.formatWidthHeight();window.settings&&window.settings.enableLegacySQLWidgets&&
(this.listenTo(this,"change:arguments",this.saveLocalBindings),this.saveLocalBindings());this.get("commentThread")||this.set("commentThread",[])},formatWidthHeight:function(){var a=this.get("width"),b=this.get("height");"auto"!==a&&isNaN(parseInt(a,10))&&this.set({width:"auto"});"auto"!==a&&isNaN(parseInt(b,10))&&this.set({height:"auto"})},localModifiableAttrs:"position command height width bindings displayType customPlotOptions pivotAggregation pivotColumns xColumns yColumns".split(" "),set:function(a,
b){if(!a)return this;b&&b.deltaEvent&&a.lastModifiedBy&&a.lastModifiedBy===m.BrowserUtils.getBrowserTabId()&&("update"===b.deltaEvent||"full"===b.deltaEvent?a=e.default.omit(a,this.localModifiableAttrs):"create"===b.deltaEvent&&delete a.command);this.get("localVersion")&&h.default.Model.prototype.set.call(this,{localVersion:this.get("localVersion")+1},{silent:!0});return h.default.Model.prototype.set.call(this,a,b)},commandRpc:function(a,b,c){var d=this;c=c||{};c.error||(c.error=n.default.handleRpcError);
c.sendCondition=function(){return!!d.get("id")};this.rpc(a,b,c)},urlRoot:function(){return(this.notebook()&&this.notebook().url())+"/command"},notebook:function(){return this.get("parent")},forceUpdateCommand:function(a){this.commandRpc("updateCmd",{changes:a},{optimisticChanges:a})},updateCommand:function(a,b,c){if(!a)return!1;if(!this.notebook().canEdit())return console.error("Current user has no EDIT permission."),!1;var d=e.default.filter(e.default.keys(a),function(b){return!e.default.isEqual(this.get(b),
a[b])},this);a=e.default.pick(a,d);if(e.default.isEmpty(a))return!1;a.lastModifiedBy=m.BrowserUtils.getBrowserTabId();this.set(a,b);this.commandRpc("updateCmd",{changes:a},c);return!0},updateBindings:function(a,b){e.default.isEqual(this.get("bindings"),a)||(this.set({bindings:a},b),this.commandRpc("updateBindings",{newBindings:a}))},clearLocalCmdResult:function(){var a=this.getParentCommmand();a&&a.isRunning()||(this.isRunning()?this.set({results:null,error:null,errorSummary:null}):this.set({results:null,
error:null,errorSummary:null,startTime:0,finishTime:0,arguments:[],stages:[]}))},clearResults:function(){this.clearLocalCmdResult();this.commandRpc("clearCommandResult",{})},displayType:function(){var a=this.get("results");return a?a.type:n.default.getDisplayType(this.get("command"))},tags:function(){var a={commandId:this.get("guid"),source:"NotebookCommandModel",displayType:this.displayType()};this.notebook()&&(a.commandLanguage=k.CodeModeUtils.determineCodeLang(this.get("command"),this.notebook().get("language")));
a.isParamQuery=this.isParamQuery();return a},isRunning:function(){return"running"===this.get("state")||"streaming"===this.get("state")},_setRunningState:function(){this.set({state:"running",stages:[]})},_runCommand:function(a){a=a||{};var b=a.command||this.get("command");a=a.bindings||this.get("bindings");this._setRunningState();this.commandRpc("runCmd",{newCommandText:b,newBindings:a});return!0},_runExistingCmd:function(a){a=a||{};var b=a.bindings||this.get("bindings");a=a.saveResultsToDBFS||!1;
this._setRunningState();this.commandRpc("runExistingCmd",{newBindings:b,saveResultsToDBFS:a});return!0},runCommand:function(a){this.notebook().runCommand(this,a)},getResultDownloadURL:function(a){this.commandRpc("getResultDownloadURL",{},a)},runCommandAndSaveResults:function(a){var b=function(c,d){"finished"===d&&a.commandFinished&&a.commandFinished();"running"!==d&&this.off("change:state",b)}.bind(this);this.on("change:state",b,this);var c=e.default.extend({},a,{saveResultsToDBFS:!0,commandFinished:null});
this.runCommand(c)},cancelCommand:function(){b.default.pushHistory("Cancelled command execution");this.commandRpc("cancelCmd")},removeCommand:function(){b.default.pushHistory("Deleted command");this.commandRpc("removeCmd")},parseNonNumericEntries:function(){var a=this.get("results");a&&a.data.map&&("collection"===a.type?e.default.each(a.collection,this.parseNonNumericEntriesInResult):this.parseNonNumericEntriesInResult(a))},parseNonNumericEntriesInResult:function(a){var b=this;a.data.forEach(function(a,
c){a.forEach(function(a,d){"Infinity"===a?b.get("results").data[c][d]=Infinity:"Negative Infinity"===a?b.get("results").data[c][d]=-Infinity:"NaN"===a&&(b.get("results").data[c][d]=NaN)})})},getCommand:function(){return this.get("command")},isChild:function(){return void 0!==this.get("parentHierarchy")&&null!==this.get("parentHierarchy")&&0<this.get("parentHierarchy").length},isParamQuery:function(){return!e.default.isEmpty(this.get("arguments"))},isComplexResult:function(){var a=this.get("results"),
b=this.get("command");return a&&"table"===a.type&&0<a.data.length||a&&"image"===a.type||a&&"htmlSandbox"===a.type||this.isMarkdownCommand(b)||this.isParamQuery()},isMarkdownCommand:function(a){return(a=a||this.get("command"))&&"markdown"===n.default.getDisplayType(a)},parentGuid:function(){return this.get("parentHierarchy")[0]},getParentCommmand:function(){if(this.isChild())return this.notebook().getCommand(this.parentGuid())},saveLocalBindings:function(){var a=this.get("arguments"),b=this.get("bindings");
if(a&&!e.default.isEqual(e.default.keys(a).sort(),e.default.keys(b).sort())){var c=e.default.reduce(e.default.keys(a),function(c,d){c[d]=b[d]||a[d]||"";return c},{});this.updateBindings(c)}},updatePresenceCommand:function(){this.notebook().updatePresenceCommand(this.get("id"))},updateCursorPosition:function(a,b){this.notebook().updateCursorPosition(this.get("id"),a,b)},getComments:function(){return this.get("comments")},getTitle:function(){return e.default.isEmpty(this.get("commandTitle"))?"Untitled":
this.get("commandTitle")}});e.default.extend(a.prototype,f.default);l.exports=a},{"../notebook/BackboneRpcMixin":134,"../notebook/CodeModeUtils":140,"../notebook/NotebookUtilities":179,"../presence/Presence":224,"../user_platform/BrowserUtils":344,backbone:407,underscore:1021}],176:[function(a,l,f){a={state:{NO_CLUSTER_ATTACHED:"NO_CLUSTER_ATTACHED",ALREADY_RUNNING:"ALREADY_RUNNING",COMMAND_EMPTY:"COMMAND_EMPTY",READY:"READY",SELECTED_COMMAND_RUNNING:"SELECTED_COMMAND_RUNNING",COMMAND_LIST_EMPTY:"COMMAND_LIST_EMPTY"},
message:{RUN_ERROR:"RUN_ERROR"},MAX_COMMAND_TITLE_LENGTH:400,AUTO_RUN_ACCESSED_COMMAND:"auto-run-selected-command",AUTO_RUN_ALL:"auto-run-all",AUTO_RUN_NO_OP:"no-auto-run",TOPBAR_HEIGHT:76,INPUT_BTN_HEIGHT:25,SIDE_NAV_WIDTH:76};a.AUTO_RUN_ALL_OPTIONS=[a.AUTO_RUN_ACCESSED_COMMAND,a.AUTO_RUN_ALL,a.AUTO_RUN_NO_OP];l.exports=a},{}],177:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}l=a("jquery");var e=c(l);l=a("underscore");var h=c(l);l=a("backbone");l=c(l);var b=a("react"),k=c(b);
a=a("react-dom");var d=c(a),n=k.default.createClass({displayName:"EmbeddedSparkUI",propTypes:{onHide:k.default.PropTypes.func,onShow:k.default.PropTypes.func},getInitialState:function(){return{hidden:!0,url:""}},componentDidMount:function(){var a=this;this.clickHandler=function(b){var c=0!==(0,e.default)(b.target).closest("#notebook-embedded-spark-ui").length;b=0!==(0,e.default)(b.target).closest(".spark-ui-link").length;c||b||a.hide()};(0,e.default)(document).click(this.clickHandler)},refresh:function(){if(this.isMounted()){var a=
this.refs.iframe;a.src=a.contentWindow.location.href}},hide:function(){if(this.isMounted()){this.setState({hidden:!0});if(this.props.onHide)this.props.onHide();(0,e.default)(".spark-ui-link").blur();this.events.trigger("onHide")}},showOrHide:function(a){if(this.isMounted()){var b=this.refs.iframe;!this.state.hidden&&b&&0<=b.contentWindow.location.href.indexOf(a)?this.hide():this.show(a)}},show:function(a){if(this.isMounted()){this.setState({hidden:!1,url:a});if(this.props.onShow)this.props.onShow();
this.events.trigger("onShow")}},currentUrl:function(){if(this.isMounted())return this.refs.iframe.contentWindow.location.href},events:h.default.extend({},l.default.Events),onLoad:function(){this.events.trigger("onLoad")},addOnloadCallback:function(a){this.onloadCallbacks.push(a)},removeOnloadCallback:function(a){this.onloadCallbacks=h.default.without(this.onloadCallbacks,a)},render:function(){return this.state.hidden||h.default.isEmpty(this.state.url)?null:k.default.createElement("div",{className:"wrapper"},
k.default.createElement("div",{className:"controls"},k.default.createElement("a",{onClick:this.refresh},k.default.createElement("i",{className:"fa fa-fw fa-refresh fa-lg"})),k.default.createElement("a",{onClick:this.hide},k.default.createElement("i",{className:"fa fa-fw fa-times fa-lg"}))),k.default.createElement("iframe",{id:"sparkui-iframe",ref:"iframe",src:this.state.url,frameBorder:"0",onLoad:this.onLoad}))}}),m=void 0,q=void 0;f.init=function(){m||((0,e.default)("body").append((0,e.default)("<div id='notebook-embedded-spark-ui'></div>")),
m=(0,e.default)("#notebook-embedded-spark-ui"),q=d.default.render(k.default.createElement(n,{onHide:function(){m.hide()},onShow:function(){m.show()}}),m[0]))};f.show=function(a){return q&&q.show(a)};f.showOrHide=function(a){return q&&q.showOrHide(a)};f.hide=function(){return q&&q.hide()};f.events=function(){return q&&q.events}},{backbone:407,jquery:819,react:1001,"react-dom":865,underscore:1021}],178:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);
f=a("backbone");var h=c(f);f=a("../acl/AclModelMixin");f=c(f);var b=a("../acl/WorkspacePermissions"),k=c(b),b=a("../delta_receiver/CollectionDeltaReceiver"),b=c(b),d=a("../filetree/PathNameUtils"),n=a("../notebook/dashboards/DashboardViewModel.js"),m=c(n),n=a("../presence/Presence"),q=c(n),n=a("../notebook/CommentModel"),w=c(n),n=a("../notebook/BackboneRpcMixin"),n=c(n),p=a("../notebook/InputWidgetManager"),r=c(p),p=a("../notebook/NotebookCommandModel"),t=c(p),p=a("../notebook/NotebookConstants"),
u=c(p),p=a("../notebook/NotebookUtilities"),y=c(p),p=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),A=c(p),g=a("../user_platform/BrowserUtils"),v=b.default.extend({loaded:!1,fetchAndUpdate:function(a){var b=this;h.default.sync("read",this,{complete:function(){b.loaded=!0},success:function(c){b.updateCollection(b,c);a&&a.success&&a.success()},error:function(b){console.error(b);a&&a.error&&a.error(b)},url:"/notebook/"+this.deltaPublisherRoot+"/command"})},updateCollection:function(a,b){e.default.each(b,
function(a){this.setModelParent(a)},this);a.set(b)}});a=h.default.Model.extend({urlRoot:"/notebook",destroy:function(a){a=e.default.extend({url:"/tree/"+this.id},a||{});return h.default.Model.prototype.destroy.call(this,a)},save:function(a,b){if(!a||!e.default.isEqual(e.default.keys(a),["parentId"])&&!e.default.isEqual(e.default.keys(a),["name"])&&!e.default.isEqual(e.default.keys(a),["sortIndex"]))throw Error("NotebookModel.save is deprecated, use rpc to call the NotebookHandler instead");b=e.default.extend({url:"/tree/"+
this.id},b||{});return h.default.Model.prototype.save.call(this,a,b)},initialize:function(a,b){this._conn=b&&void 0!==b.conn?b.conn:null;this._commandCollection=null;this._interestedContexts=[];this.inputs=new r.default(this)},getName:function(){return this.get("name")},clearResults:function(){this.getCommands().forEach(function(a){return a.clearLocalCmdResult()});this._notebookRpc("clearNotebookResults",{})},registerInterest:function(a,b){b=e.default.defaults(b||{},{registerCommandCollectionOnly:!1});
0===this._interestedContexts.length&&(this._registerCommandCollectionReceiver(b.done),b.registerCommandCollectionOnly||(this.updateCommentsInAllCommands(),this.fetchPermissionLevel(),this.commandCollection().on("add remove reset",this.updateCommentsInCommand,this),this.on("change:presenceMarks",this.updateCollectionPresenceMarks)));-1===this._interestedContexts.indexOf(a)&&this._interestedContexts.push(a)},unregisterInterest:function(a){e.default.defer(function(){this._interestedContexts=e.default.filter(this._interestedContexts,
function(b){return b!==a});0===this._interestedContexts.length&&(this._unregisterCommandCollectionReceiver(),this.off(null,null,this),this.commandCollection().off(null,null,this))}.bind(this))},numInterested:function(){return this._interestedContexts.length},validate:function(){},attach:function(a,b,c){var g=this.tags();g.clusterId=a;g.clusterName=b;window.recordEvent("attachNotebook",g);this._notebookRpc("attach",{clusterId:a},{optimisticChanges:{clusterId:a},error:c})},detach:function(){window.recordEvent("detachNotebook",
this.tags());this._notebookRpc("detach",{},{clusterId:""},{optimisticChanges:{clusterId:""}})},detachAndAttach:function(a){this._notebookRpc("detachAndAttach",{clusterId:a},{optimisticChanges:{clusterId:a}})},isRunnable:function(){return window.settings.allowRunOnPendingClusters?this.isAttached()||window.clusterList.isAttachableOrInProgress(this.get("targetClusterId")):this.isAttached()},isAttached:function(){return""!==this.get("clusterId")&&this.get("clusterReady")},_notebookRpc:function(a,b,c){c=
c||{};c.error||(c.error=y.default.handleRpcError);this.rpc(a,b,c)},sendGitRPC:function(a,b,c,g,d){window.settings.enableNotebookGitVersioning&&this.rpc(a,b,{url:"/notebook/"+this.id+"/git",success:c,error:g,httpMethod:d||"POST"})},clusterModel:function(a){return window.clusterList?window.clusterList.where?window.clusterList.where({clusterId:a})[0]:e.default.where(window.clusterList,{clusterId:a})[0]:null},tags:function(){var a=this.get("path"),a={notebookId:this.get("id"),notebookLanguage:this.get("language"),
notebookName:this.get("name"),path:d.PathNameUtils.generatePathNamesFromPathIds(a)},b=this.clusterModel(this.get("clusterId"));if(b){var b=b.tags(),c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}return a},tagsForCommand:function(a){var b=this.tags();a=a.tags();return e.default.extend(b,a)},_getOutstandingCommands:function(){return this.getCommands().filter(function(a){return a.isRunning()})},_hasOutstandingCommands:function(){return!e.default.isEmpty(this._getOutstandingCommands())},_getMissingRunNotebookRequirements:function(a){a=
a||{};var b=[];this.isRunnable()||a.allowRunPendingAttach||b.push(u.default.state.NO_CLUSTER_ATTACHED);this.isRunning()&&b.push(u.default.state.ALREADY_RUNNING);return b},_getMissingRunCommandRequirements:function(a){var b=[];e.default.isEmpty(a.get("command"))&&b.push(u.default.state.COMMAND_EMPTY);return b},_getMissingRunSelectedRequirements:function(a){a=a||[];var b=[];0<e.default.filter(a,function(a){return a.isRunning()}).length&&b.push(u.default.state.SELECTED_COMMAND_RUNNING);0===a.length&&
b.push(u.default.state.COMMAND_LIST_EMPTY);return b},_triggerRunErrorEvent:function(a){if(!a)throw Error("Missing run error data");this.trigger("message",{type:u.default.message.RUN_ERROR,data:a})},_handleRunCommandError:function(a,b){a=a.get("id");this._triggerRunErrorEvent({commandId:a,errorType:b})},_handleRunNotebookError:function(a){this._triggerRunErrorEvent({errorType:a})},_handleRunSelectedError:function(a){this._triggerRunErrorEvent({errorType:a})},isRunning:function(){return"runningFromRunAll"===
this.get("runStatus")},canRunNotebook:function(){return 0===this._getMissingRunNotebookRequirements().length},canRunCommand:function(a){return this.canRunNotebook()&&0===this._getMissingRunCommandRequirements(a).length},runCommand:function(a,b){if(!a)throw Error("No command provided to run command.");var c=this._getMissingRunNotebookRequirements(b);if(c.length)return this._handleRunCommandError(a,c),!1;c=this._getMissingRunCommandRequirements(a);return c.length?(this._handleRunCommandError(a,c),!1):
this._runCommand(a,b)},_runCommand:function(a,b){b=b||{};q.default.pushHistory("Ran a command");window.recordEvent("runSingleCommand",this.tagsForCommand(a));return this.canEdit()&&!b.saveResultsToDBFS?a._runCommand(b):a._runExistingCmd(b)},runAll:function(a){a=this._getMissingRunNotebookRequirements(a);if(a.length)return this._handleRunNotebookError(a),!1;this._hasOutstandingCommands()?A.default.confirm({message:"You can't Run All while individual commands are executing. Do you want to cancel existing executions and do a Run All?",
confirmButton:"Yes",cancelButton:"No",confirm:this._runAll.bind(this)}):this._runAll();return!0},runByAccessedArgs:function(a){if(a&&0!==a.length){var b=this.getTopLevelCommands().filter(function(b){b=e.default.keys(b.get("accessedArgs"));return e.default.any(b,function(b){return e.default.contains(a,b)})}),b=e.default.map(b,function(a){return a.get("nuid")});return 0<b.length?this.runSelected(b):!1}},_runAll:function(){window.recordEvent("runAll",this.tags());this._notebookRpc("runAll",{});this.set("runStatus",
"runningFromRunAll");e.default.each(this.getCommands(),function(a){a.set("state","running")});q.default.pushHistory("Ran this notebook")},runSelected:function(a,b){var c=this._getMissingRunNotebookRequirements();if(0<c.length)return this._handleRunNotebookError(c),!1;var g=this;a=e.default.uniq(a);var d={};a=e.default.flatten(e.default.map(a,function(a){var c=g.commandByNUID(a);return c?((a=b&&b[a])&&(d[String(c.id)]=a),[c]):[]}));c=this._getMissingRunSelectedRequirements(a);if(0<c.length)return this._handleRunSelectedError(c),
!1;a=e.default.sortBy(a,function(a){return a.get("position")});a=e.default.map(a,function(a){return a.id});this._notebookRpc("runSelected",{commandIds:a,newBindings:d})},cancelRunAll:function(){q.default.pushHistory("Cancelled notebook execution");window.recordEvent("cancelAll",this.tags());this._notebookRpc("cancelRunAll",{})},addCommand:function(a,b,c,d){q.default.pushHistory("Added a command");var k=g.BrowserUtils.generateGUID();this._commandCollection.addItem({type:"command",commandText:a,position:b,
guid:k,lastModifiedBy:g.BrowserUtils.getBrowserTabId()});d&&e.default.delay(d,100);this._notebookRpc("addCmd",{commandText:a,position:b,guid:k,execute:c,lastModifiedBy:g.BrowserUtils.getBrowserTabId()})},pasteCommand:function(a,b,c){var d=g.BrowserUtils.generateGUID();a=e.default.clone(a);a.id=void 0;a.position=b;a.guid=d;this._commandCollection.addItem(e.default.extend({type:"command",lastModifiedBy:g.BrowserUtils.getBrowserTabId()},a));c&&e.default.defer(c);this._notebookRpc("pasteCmd",{cmdAttrs:a})},
draggingCommand:null,registerDraggingCommand:function(a){this.draggingCommand=a},saveDropPosition:function(){this.draggingCommand&&(q.default.pushHistory("Rearranged commands"),window.recordEvent("reorderCommands",this.tags()),this.draggingCommand.forceUpdateCommand({position:this.draggingCommand.get("position")}))},updateDraggingPosition:function(a){this.draggingCommand&&this.draggingCommand.set("position",a)},updatePresenceCommand:function(a){q.default.updateCurrentCommand(this.get("id"),a)},updateCursorPosition:function(a,
b,c){q.default.updateCursorPosition(this.get("id"),a,b,c)},setPresenceCallback:function(){q.default.updateMarks=this.updatePresenceMarks.bind(this)},updatePresenceMarks:function(a){this.set("presenceMarks",e.default.filter(a.reverse(),function(a){return a.commandId&&a.cursorEnd&&a.cursorStart}))},updateCollectionPresenceMarks:function(){this._commandCollection.each(function(a){a.set("presenceMarks",e.default.where(this.get("presenceMarks"),{commandId:a.get("id")}))},this)},getCommand:function(a){return this.commandCollection().findWhere({id:a})||
this.commandCollection().findWhere({guid:a})},getCommands:function(){var a=this.commandCollection().filter(function(a){return"command"===a.get("type")});return e.default.sortBy(a,function(a){return a.get("position")||0})},getTopLevelCommands:function(){return e.default.sortBy(this.getCommands().filter(function(a){return!a.isChild()}),function(a){return a.get("position")})},getSubCommandMap:function(){var a=this.getCommands().filter(function(a){return a.isChild()}),b=e.default.groupBy(a,function(a){return a.parentGuid()});
e.default.each(b,function(a,c){b[c]=e.default.sortBy(a,function(a){return a.get("position")})});return b},getCommandIndex:function(a){for(var b=this.getTopLevelCommands(),c=0;c<b.length;c+=1){var g=b[c];if(g.get("id")===a||g.get("guid")===a)return c}console.error("Key not found in top level commands",a);return-1},getMaxPosition:function(){return e.default.max(this.getTopLevelCommands().map(function(a){return a.get("position")}).concat(0))},getCommandIds:function(){return e.default.map(this.getTopLevelCommands(),
function(a){return a.get("id")})},getCommandsForDashboard:function(){return this.getCommands().filter(function(a){return a.get("results")||a.get("error")||"markdown"===a.get("displayType")})},getComments:function(){var a=e.default.groupBy(this.getCommands(),function(a){return a.get("nuid")});return this.commandCollection().filter(function(b){return"comment"===b.get("type")&&a[b.get("commandNUID")]},this)},newLocalComment:function(a,b){a={type:"comment",guid:g.BrowserUtils.generateGUID(),commandNUID:a,
commentReference:b,userId:window.settings.userId,userName:window.settings.user,userFullname:window.settings.userFullname};return this._commandCollection.addItem(a)},commentsForCommand:function(a){return this.commandCollection().filter(function(b){return"comment"===b.get("type")&&b.get("commandNUID")===a})},updateCommentsInAllCommands:function(){var a=this.getComments();this.commandNUIDToComments=e.default.groupBy(a,function(a){return a.get("commandNUID")});e.default.each(this.getCommands(),function(a){a.set("comments",
this.commandNUIDToComments[a.get("nuid")])},this)},updateCommentsInCommand:function(a){if(a){var b=a.get("type");if("comment"===b){if(b=a.get("commandNUID"),a=this.commandByNUID(b))b=this.commentsForCommand(b),a.set("comments",b)}else"command"===b&&(b=a.get("nuid"),b=this.commentsForCommand(b),a.set("comments",b))}},getDashboardViewModels:function(){return this.commandCollection().filter(function(a){return"dashboardView"===a.get("type")})},getDashboardViewModelById:function(a){return this.commandCollection().find(function(b){return"dashboardView"===
b.get("type")&&b.id===a})},getDashboardViewModelByNuid:function(a){return this.commandCollection().find(function(b){return"dashboardView"===b.get("type")&&b.get("nuid")===a})},createNewDashboardView:function(a,b,c){c=c||this.plottableCommandNUIDs();this._notebookRpc("newDashboardView",{title:b,commandNUIDs:c},{success:a})},plottableCommandNUIDs:function(){return this.getCommands().filter(function(a){return a.isComplexResult()&&!a.isChild()}).map(function(a){return a.get("nuid")})},commandByNUID:function(a){return e.default.find(this.getCommands(),
function(b){return b.get("nuid")===a})},_getModel:function(a,b){switch(a.type){case "command":return new t.default(a,b);case "dashboardV2":return new h.default.Model(a,b);case "dashboardPage":return new h.default.Model(a,b);case "comment":return new w.default(a,b);case "dashboardView":return new m.default(a,b);default:console.error("_getModel","unknown type",a.type,a)}},commandCollection:function(){if(null===this._commandCollection){var a=new v([],{deltaPublisherRoot:this.id,model:this._getModel,
parent:this});a.shellId=this.id;a.path=this.get("path");this._commandCollection=a}return this._commandCollection},loaded:function(){var a=this.commandCollection();return a&&a.loaded},notebookFetchError:function(){return this.get("notebookFetchError")},_registerCommandCollectionReceiver:function(a){var b=this,c=this.commandCollection();this._conn&&(b.set({notebookFetchError:null}),c.fetchAndUpdate({success:function(){b._conn.setDataHandler(c.path,function(a){c.updateItem(a)});a&&a()},error:function(c){b.set({notebookFetchError:c});
a&&a()}}))},_unregisterCommandCollectionReceiver:function(){this._conn&&this._conn.removeDataHandler(this.get("path")+"/")},getAclObjectType:function(){return k.default.WORKSPACE_TYPE},getAclObjectId:function(){return this.id}});e.default.extend(a.prototype,n.default);e.default.extend(a.prototype,f.default);l.exports=a},{"../acl/AclModelMixin":1,"../acl/WorkspacePermissions":10,"../delta_receiver/CollectionDeltaReceiver":62,"../filetree/PathNameUtils":73,"../notebook/BackboneRpcMixin":134,"../notebook/CommentModel":152,
"../notebook/InputWidgetManager":172,"../notebook/NotebookCommandModel":175,"../notebook/NotebookConstants":176,"../notebook/NotebookUtilities":179,"../notebook/dashboards/DashboardViewModel.js":217,"../presence/Presence":224,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../user_platform/BrowserUtils":344,backbone:407,underscore:1021}],179:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("jquery");var h=c(f);f=a("../tables/HiveSchema");
var b=c(f);f=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var k=c(f);a=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx");var d=c(a),n={isRunning:function(a,b){return n.isRunningAll(a)||n.isRunningSingleCommand(a,b)},isRunningAll:function(a){var b=a.get("runStatus");return"RunAll"===a.get("jsRunAllAction")||"runningFromRunAll"===b?!0:!1},isRunningSingleCommand:function(a,b){if("running"===a.get("runStatus"))return!0;a=b?b.where({running:!0}).length:0;b=b?b.where({shouldRun:!0}).length:
0;return 0<a+b},isCancelling:function(a,b){var c=a.get("runStatus");return"Cancel"===a.get("jsRunAllAction")&&"idle"!==c||0<b.where({state:"cancelling"}).length?!0:!1},handleRpcError:function(a,b,c,d){b=void 0;b=403===a.status?"Permission denied: "+a.statusText:4!==a.readyState?"Oops! Network error. Please check your network connection.":"Oops! Server error: "+a.statusText;a={message:b,confirmButton:"Reload page",cancelButton:"Close",confirm:function(){window.location.reload(!0)}};e.default.extend(a,
d);k.default.confirm(a)},attachToCluster:function(a,b){var c=b.get("clusterName"),k=b.get("clusterId");a.attach(k,c,function(b){var c=b&&b.statusText;c&&c.startsWith("Failed to attach")?d.default.confirm({title:"Failed to attach notebook",message:c+" Do you want to force re-attach? This will clear all computed\n          variable values from this notebook.",confirmButton:"Yes",cancelButton:"No",confirm:function(){return a.detachAndAttach(k)}}):n.handleRpcError(b)})},isNumeric:function(a){var c="int double bigint smallint tinyint decimal float long short".split(" ");
return a instanceof b.default.AtomType&&e.default.contains(c,a.typeName)},getDisplayType:function(a){return a&&"%md"===a.trim().split(/\s/)[0]?"markdown":"table"},fixLength:function(a){a="auto"===a?"auto":parseInt(a,10)+"px";return"0px"===a?"auto":a},isDownloadable:function(a){return!e.default.contains(["markdown","image","html","htmlSandbox"],a)},isResizable:function(a){return"markdown"!==a&&"html"!==a},isOutOfView:function(a){var b=a.offset().top,c=a.height();a=a.scrollParent().height();return 80>
b+c||b>a?!0:!1},detachNotebooks:function(a,b,c){if(Array.isArray(a))return h.default.ajax({type:"POST",url:"/notebook/detach",data:JSON.stringify({notebookIds:a}),success:b,error:c,dataType:"json"});console.error("NotebookUtilities.detachNotebooks takes a list of notebook ids")}};l.exports=n},{"../tables/HiveSchema":255,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,jquery:819,underscore:1021}],180:[function(a,l,f){function c(a){return a&&
a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.PublishHubModal=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=
d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("lodash");var b=c(l);l=a("jquery");var k=c(l);l=a("react");var d=c(l);l=a("../ui_building_blocks/dialogs/ReactModal.jsx");var n=c(l);l=a("../ui_building_blocks/dialogs/ReactModalUtils");var m=c(l),q=a("../forms/ReactFormElements.jsx"),w=a("../proto.js"),p=a("../notebook/PublishNotebookConfirmed.jsx");(f.PublishHubModal=function(a){function c(){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");var a;a=(c.__proto__||Object.getPrototypeOf(c)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.state={submitEnabled:!1};a.onConfirm=a.onConfirm.bind(a);return a}e(c,a);h(c,[{key:"_getSparkVersions",value:function(){return b.default.uniq(window.settings.sparkVersions.map(function(a){return a.displayName})).sort().reverse()}},
{key:"checkEnableSubmit",value:function(){var a=!!this.refs.title.value()&&!!this.refs.description.value()&&!!this.refs.tags.value();this.setState({submitEnabled:a})}},{key:"_getPublishRequestProto",value:function(){var a=new w.NotebookProtos.PublishId({workspace_id:window.settings.orgId,node_id:this.props.notebookId,publish_type:w.NotebookProtos.PublishType.NOTEBOOKHUB}),b=new w.NotebookProtos.UserPublishMetadata({title:this.refs.title.value(),description:this.refs.description.value(),tags:this.refs.tags.value().split(",")});
return new w.NotebookProtos.PublishRequest({publish_id:a,user_metadata:b})}},{key:"onConfirm",value:function(a){var b=this;a.preventDefault();a=this._getPublishRequestProto();k.default.ajax({url:"/serialize/publish_hub/",dataType:"json",method:"POST",data:a.encodeJSON(),success:function(a){m.default.destroyModal();a=d.default.createElement(p.PublishNotebookConfirmed,{url:a.url,isDashboard:b.props.isDashboard});m.default.createModal(a)},error:function(a,b,c){window.oops("Error publishing to hub. "+
c)}})}},{key:"renderCancel",value:function(){return d.default.createElement("a",{href:"#",ref:"cancel",className:"btn cancel-button","data-dismiss":"modal",onClick:m.default.destroyModal,tabIndex:"2",style:{float:"left"}},"Cancel")}},{key:"renderPublish",value:function(){return d.default.createElement("a",{href:"#",ref:"confirm",className:"btn btn-primary confirm-button",onClick:this.onConfirm,tabIndex:"1",disabled:!this.state.submitEnabled},"Publish")}},{key:"renderFooter",value:function(){return d.default.createElement("div",
null,this.renderCancel(),this.renderPublish())}},{key:"renderBody",value:function(){var a=this.checkEnableSubmit.bind(this);return d.default.createElement("div",null,d.default.createElement("p",null,"Publishing to ",d.default.createElement("a",{href:"#"},"NotebookHub")," lets you to share your code and results with the broader Apache Spark community."),d.default.createElement("div",null,d.default.createElement("label",null,"Title"),d.default.createElement(q.Input,{type:"text",defaultValue:this.props.notebookName,
ref:"title",inputID:"title",onChange:a})),d.default.createElement("div",null,d.default.createElement("label",null,"Description"),d.default.createElement(q.TextArea,{type:"textarea",ref:"description",textareaID:"description",onChange:a})),d.default.createElement("div",null,d.default.createElement("label",null,"Tags"),d.default.createElement(q.Input,{type:"text",ref:"tags",inputID:"tags",placeholder:"tag1,tag2,...",onChange:a})),d.default.createElement("div",null,d.default.createElement("label",null,
"Spark Version"),d.default.createElement(q.Select,{options:this._getSparkVersions(),selectID:"spark-version",selectClassName:"spark-version",optionClassName:"spark-version-opt",onChange:null})))}},{key:"render",value:function(){var a=this.renderFooter(),b=this.renderBody();return d.default.createElement(n.default,{modalName:"publish-hub-notebook-modal",header:d.default.createElement("h3",null,"Publish to NotebookHub"),body:b,footer:a,ref:"dialog"})}}]);return c}(d.default.Component)).propTypes={notebookId:d.default.PropTypes.number.isRequired,
isDashboard:d.default.PropTypes.bool,notebookName:d.default.PropTypes.string}},{"../forms/ReactFormElements.jsx":81,"../notebook/PublishNotebookConfirmed.jsx":181,"../proto.js":226,"../ui_building_blocks/dialogs/ReactModal.jsx":299,"../ui_building_blocks/dialogs/ReactModalUtils":300,jquery:819,lodash:842,react:1001}],181:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&
b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.PublishNotebookConfirmed=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&l.__esModule?
l:{default:l},b=a("../forms/ReactConfirm.jsx"),k=a("../forms/ReactFormElements.jsx").Input;(f.PublishNotebookConfirmed=function(a){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var a=(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}c(d,a);e(d,[{key:"componentDidMount",value:function(){this.refs.url&&
this.refs.url.select()}},{key:"render",value:function(){var a=this.props.isDashboard?"Dashboard":"Notebook",c=h.default.createElement("h3",null,a," Published"),a=h.default.createElement("div",null,"The ",a.toLowerCase()," was published successfully. Please copy the url and save it",h.default.createElement("br",null),"(it may take a minute or two for your updates to be publicly available).",h.default.createElement("br",null),"The link will remain valid for 6 months."),d=h.default.createElement(k,{ref:"url",
type:"text",inputID:"publish-notebook-url",readOnly:!0,value:this.props.url}),a=h.default.createElement("div",null,a,d);return h.default.createElement(b,{title:c,message:a,confirmButton:"Done",showCancel:!1,name:"publish-notebook-confirm"})}}]);return d}(h.default.Component)).propTypes={url:h.default.PropTypes.string.isRequired,isDashboard:h.default.PropTypes.bool}},{"../forms/ReactConfirm.jsx":78,"../forms/ReactFormElements.jsx":81,react:1001}],182:[function(a,l,f){function c(a){return a&&a.__esModule?
a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.PublishNotebookModal=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("jquery");var b=c(l);l=a("react");var k=c(l),d=a("../notebook/PublishNotebookView.jsx");l=a("../ui_building_blocks/dialogs/ReactModal.jsx");var n=c(l);a=a("../ui_building_blocks/dialogs/ReactModalUtils");var m=c(a);(f.PublishNotebookModal=function(a){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a;
a=(c.__proto__||Object.getPrototypeOf(c)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.onConfirm=a.onConfirm.bind(a);return a}e(c,a);h(c,[{key:"onConfirm",value:function(a){a.preventDefault();(0,b.default)("input.pref-autoPublish").prop("checked")&&window.prefs.set("autoPublish",!0);m.default.destroyModal();(0,d.publishNotebookAndShowConfirmation)(this.props.notebookId,this.props.isDashboard)}},
{key:"render",value:function(){var a=this.props.isDashboard?"Dashboard":"Notebook",b=k.default.createElement("h3",null,"Publish ",a),c=k.default.createElement("input",{className:"pref-autoPublish",type:"checkbox",ref:"autoPublish"}," Don't show me this again"),d=k.default.createElement("a",{href:"#",ref:"cancel",className:"btn cancel-button","data-dismiss":"modal",onClick:m.default.destroyModal,tabIndex:"2"},"Cancel"),h=k.default.createElement("a",{href:"#",ref:"confirm",className:"btn btn-primary confirm-button",
onClick:this.onConfirm,tabIndex:"1"},"Publish"),c=k.default.createElement("div",null,c,k.default.createElement("span",{className:"publish-notebook-buttons"},d,h)),a=k.default.createElement("div",null,"Do you want to publish this ",a.toLowerCase()," publicly? This action will overwrite any previously-published version of this ",a.toLowerCase(),". Anyone with the link can view it and link will remain valid for 6 months.");return k.default.createElement(n.default,{modalName:"publish-notebook-modal",
header:b,body:a,footer:c})}}]);return c}(k.default.Component)).propTypes={notebookId:k.default.PropTypes.number.isRequired,isDashboard:k.default.PropTypes.bool}},{"../notebook/PublishNotebookView.jsx":183,"../ui_building_blocks/dialogs/ReactModal.jsx":299,"../ui_building_blocks/dialogs/ReactModalUtils":300,jquery:819,react:1001}],183:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,c){var d=window.settings.orgId.toString()+"/"+a.toString();h.default.ajax({url:"/serialize/publish/"+
d,async:!0,dataType:"json",success:function(a){a=b.default.createElement(k.PublishNotebookConfirmed,{url:a.url,isDashboard:c});m.default.createModal(a)},error:function(b,d,k){window.oops("There was an error publishing the "+(c?"dashboard":"notebook")+" with id "+a+": "+d+": "+k)}})}Object.defineProperty(f,"__esModule",{value:!0});f.publishNotebookAndShowConfirmation=e;f.triggerPublishNotebookWorkflow=function(a,c){window.prefs.get("autoPublish")?e(a,c):(a=b.default.createElement(d.PublishNotebookModal,
{notebookId:a,isDashboard:c}),m.default.createModal(a))};f.triggerHubPublishWorkflow=function(a,c,d){a=b.default.createElement(n.PublishHubModal,{notebookId:a,isDashboard:c,notebookName:d});m.default.createModal(a)};l=a("jquery");var h=c(l);l=a("react");var b=c(l),k=a("../notebook/PublishNotebookConfirmed.jsx"),d=a("../notebook/PublishNotebookModal.jsx"),n=a("../notebook/PublishHubModal.jsx");a=a("../ui_building_blocks/dialogs/ReactModalUtils.js");var m=c(a)},{"../notebook/PublishHubModal.jsx":180,
"../notebook/PublishNotebookConfirmed.jsx":181,"../notebook/PublishNotebookModal.jsx":182,"../ui_building_blocks/dialogs/ReactModalUtils.js":300,jquery:819,react:1001}],184:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f),h=a("../forms/ReactFormElements.jsx");f=a("../forms/ReactFormFooter.jsx");var b=c(f);a=a("../ui_building_blocks/dialogs/ReactModal.jsx");var k=c(a);a=e.default.createClass({displayName:"ReactCellExportDialog",propTypes:{codeSnippet:e.default.PropTypes.string.isRequired},
componentDidMount:function(){this.refs.textarea.select()},render:function(){var a=e.default.createElement("h3",null,"Cell Export"),c=e.default.createElement("div",null,e.default.createElement("span",null,"Paste the code below into the body of any HTML file."),e.default.createElement(h.TextArea,{ref:"textarea",textareaID:"cell-export-textarea",defaultValue:this.props.codeSnippet,rows:10})),m=e.default.createElement(b.default,{confirmButton:"Done"});return e.default.createElement(k.default,{modalName:"export-notebook-cell-dialog",
header:a,body:c,footer:m})}});l.exports=a},{"../forms/ReactFormElements.jsx":81,"../forms/ReactFormFooter.jsx":82,"../ui_building_blocks/dialogs/ReactModal.jsx":299,react:1001}],185:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("react");var b=c(f);f=a("react-dom");var k=c(f);f=a("classnames");var d=c(f);f=a("../acl/WorkspacePermissions");var n=c(f);f=a("../notebook/Clipboard");var m=c(f);f=a("../notebook/NotebookModel");
f=c(f);var q=a("../notebook/CommandDivider.jsx"),w=c(q),q=a("../notebook/ReactNotebookCommandView.jsx"),p=c(q),q=a("../notebook/KeyboardShortcutsView.jsx"),r=c(q),q=a("../presence/Presence"),t=c(q),q=a("../ui_building_blocks/dialogs/ReactModalUtils"),u=c(q),y=a("../urls/ResourceUrls"),A=a("../user_platform/MobileUtils");a=b.default.createClass({displayName:"ReactNotebookCommandListView",propTypes:{notebook:b.default.PropTypes.instanceOf(f.default).isRequired,resultsOnly:b.default.PropTypes.bool,permissionLevel:b.default.PropTypes.string,
isLocked:b.default.PropTypes.bool,isStatic:b.default.PropTypes.bool,showLoadScreen:b.default.PropTypes.bool,showLastDivider:b.default.PropTypes.bool,showSubmitHint:b.default.PropTypes.bool,onTextSelected:b.default.PropTypes.func,showCommentsPanel:b.default.PropTypes.bool,toggleCommentsPanel:b.default.PropTypes.func,commandIdToScroll:b.default.PropTypes.number,activeCommentCommandNUID:b.default.PropTypes.number,focusedCommandGuid:b.default.PropTypes.string,isEditing:b.default.PropTypes.bool},getDefaultProps:function(){return{resultsOnly:!1,
permissionLevel:n.default.MANAGE,showLastDivider:!0,showSubmitHint:!0,focusedCommandGuid:null,isEditing:!1}},getInitialState:function(){return{mobile:A.MobileUtils.isMobile(),waitingToScroll:!1}},currentHeightBelief:0,lastRenderWasIncremental:!1,calculateSpacerHeight:function(a){var b=(0,e.default)("#content").prop("scrollHeight")-(0,e.default)(".contentSpacer").prop("scrollHeight");if(a&&b<this.currentHeightBelief)return this.currentHeightBelief-b+"px";if(!a||b>this.currentHeightBelief)this.currentHeightBelief=
b;return"0px"},componentWillUpdate:function(a){a.notebook!==this.props.notebook&&(this.commandsToRenderMap={},h.default.each(a.notebook.getCommands(),function(a){this.commandsToRenderMap[a.get("id")]=!1},this));a.focusedCommandGuid&&!a.isEditing&&a.focusedCommandGuid!==this.props.focusedCommandGuid&&(a=a.notebook.getCommandIndex(a.focusedCommandGuid),this.refs[a]&&this.refs[a].scrollCommandIntoView())},componentDidUpdate:function(a){(0,e.default)(".contentSpacer").css("height",this.calculateSpacerHeight(this.lastRenderWasIncremental));
a.notebook!==this.props.notebook&&this.loadMoreCommandsToRender()},focusCommand:function(a){(a=this.props.notebook.getTopLevelCommands()[a])&&this.props.notebook.trigger("update-focus-command",{commandGuid:a.get("guid"),isEditing:!0})},moveCommandUp:function(a,b){b=b||{};0<a&&(this.swapCommandPositions(this.refs[a].props.command,this.refs[a-1].props.command),b.skipFocusCommand||h.default.defer(h.default.partial(this.focusCommand,a-1)))},moveCommandDown:function(a,b){b=b||{};this.refs[a].props.isLastCommand||
(this.swapCommandPositions(this.refs[a].props.command,this.refs[a+1].props.command),b.skipFocusCommand||h.default.defer(h.default.partial(this.focusCommand,a+1)))},swapCommandPositions:function(a,b){t.default.pushHistory("Rearranged commands");var c=a.get("position"),g=b.get("position");a.updateCommand({position:g});b.updateCommand({position:c})},getInsertPositionAbove:function(a){if(a>h.default.size(this.refs)-1)return this.props.notebook.getMaxPosition()+1;var b=this.refs[a].props.command.get("position");
a=0===a?0:this.refs[a-1].props.command.get("position");return a+(b-a)/2},getInsertPositionBelow:function(a){if(0>a)return this.getInsertPositionAbove(0);var b=this.refs[a],c=b.props.command.get("position");a=b.props.isLastCommand?c+2:this.refs[a+1].props.command.get("position");return c+(a-c)/2},pasteCommandAbove:function(a){var b=this.getInsertPositionAbove(a);this.pasteCommand(b,a)},pasteCommandBelow:function(a){var b=this.getInsertPositionBelow(a);this.pasteCommand(b,a+1)},pasteCommand:function(a,
b){var c=m.default.getCommand();c&&a&&this.props.notebook.pasteCommand(c,a,h.default.partial(this.focusCommand,b))},addCommandAbove:function(a){var b=this.getInsertPositionAbove(a);this.props.notebook.addCommand("",b,!1,h.default.partial(this.focusCommand,a))},addCommandBelow:function(a){var b=this.getInsertPositionBelow(a);this.props.notebook.addCommand("",b,!1,h.default.partial(this.focusCommand,a+1))},getCommandsToRender:function(){return this.commandsToRenderMap?h.default.filter(this.props.notebook.getTopLevelCommands(),
function(a){return!1!==this.commandsToRenderMap[a.get("id")]},this):this.props.notebook.getTopLevelCommands()},getCommandIdToScroll:function(){var a="#notebook/"+this.props.notebook.id+"/command/";return 0>window.location.hash.indexOf("/command")?!1:window.location.hash.replace(new RegExp(a),"")},scrollToCommand:function(){var a=this.props.commandIdToScroll||this.getCommandIdToScroll(),b=a?this.props.notebook.getCommandIndex(parseInt(a,10)):null,c=k.default.findDOMNode(this.refs[b]);if(!a)return!1;
if(a&&0>b)return this.setState({waitingToScroll:!1}),!1;c&&(this.setState({waitingToScroll:!1}),this.focusCommand(b),this.refs[b].refs[a].highlight())},loadMoreCommandsToRender:function(){var a=5;h.default.each(this.props.notebook.getCommandIds(),function(b){!this.commandsToRenderMap[b]&&0<a&&(a--,this.commandsToRenderMap[b]=!0)},this);this.forceUpdate();0>=a?h.default.defer(this.loadMoreCommandsToRender,500):h.default.defer(this.scrollToCommand,500)},initializeCommandsToRender:function(){this.commandsToRenderMap||
(this.commandsToRenderMap={},h.default.each(this.props.notebook.getCommandIds(),function(a){this.commandsToRenderMap[a]=!1},this),this.loadMoreCommandsToRender(),this.focusFirstCommandIfNotFromSearch())},focusFirstCommandIfNotFromSearch:function(){if(!window.fileBrowserView||!window.fileBrowserView.searchPanelOpen){var a=this.props.notebook.getTopLevelCommands()[0];if(a){var b=!a.isMarkdownCommand()&&!a.get("collapsed");this.props.notebook.trigger("update-focus-command",{commandGuid:a.get("guid"),
isEditing:b})}}},componentWillMount:function(){if(0<this.props.notebook.commandCollection().length)this.initializeCommandsToRender();else this.props.notebook.commandCollection().once("add reset",this.initializeCommandsToRender,this);(this.props.commandIdToScroll||this.getCommandIdToScroll())&&this.setState({waitingToScroll:!0})},componentWillUnmount:function(){this.props.notebook.commandCollection().off(null,null,this)},commandViewOffsetsMap:{},getCommandViewOffsets:function(){h.default.each(this.props.notebook.getTopLevelCommands(),
function(a,b){if((b=this.refs[b])&&b.isMounted()){b=(0,e.default)(k.default.findDOMNode(b));var c=b.offset();c.top+=b.scrollParent().scrollTop();this.commandViewOffsetsMap[a.get("nuid")]=c.top}},this);return this.commandViewOffsetsMap},partialWithCommandIndex:function(a,b){var c=this;return function(){var g=c.props.notebook.getCommandIndex(b);if(0<=g){for(var g=h.default.partial(a,g),d=arguments.length,k=Array(d),e=0;e<d;e++)k[e]=arguments[e];g.apply(c,k)}}},handleShortcutsClick:function(){window.recordEvent("shortcutsViewed",
{clickOrigin:"notebookBottomShortcutsLink"});u.default.createModal(b.default.createElement(r.default,{style:{left:0},defaultCloseIcon:!0,defaultOpenState:!0}))},render:function(){var a=this.props.notebook.getTopLevelCommands(),c=this.props.notebook.getSubCommandMap(),k=this.props.notebook.getMaxPosition(),e=0===a.length,m=void 0===this.props.isLocked?!1:this.props.isLocked,f=this.getCommandsToRender();this.lastRenderWasIncremental=f.length!==a.length;var f=h.default.flatten(f.map(function(a,g,d){var k=
a.get("guid"),e=a.get("id"),e=k||e,n=0===g,v=g+1===d.length;d=0<g?d[g-1].get("position"):0;d=b.default.createElement(w.default,{key:e+"-divider",notebook:this.props.notebook,insertCommand:h.default.partial(this.addCommandAbove,g),pasteCommand:h.default.partial(this.pasteCommandAbove,g),prevCommandPosition:d,nextCommandPosition:a.get("position")});var f=this.props.focusedCommandGuid===k;a=b.default.createElement(p.default,{key:e,index:g,ref:g,commandGuid:k,permissionLevel:this.props.permissionLevel,
pasteCommandBelow:this.partialWithCommandIndex(this.pasteCommandBelow,e),pasteCommandAbove:this.partialWithCommandIndex(this.pasteCommandAbove,e),addCommandAbove:this.partialWithCommandIndex(this.addCommandAbove,e),addCommandBelow:this.partialWithCommandIndex(this.addCommandBelow,e),moveUp:this.partialWithCommandIndex(this.moveCommandUp,e),moveDown:this.partialWithCommandIndex(this.moveCommandDown,e),isLocked:m,isStatic:this.props.isStatic,isFirstCommand:n,isLastCommand:v,command:a,showCommentMarks:this.props.showCommentsPanel,
toggleCommentsPanel:this.props.toggleCommentsPanel,isCommenting:void 0!==this.props.activeCommentCommandNUID&&a.get("nuid")===this.props.activeCommentCommandNUID,subCommands:c[k]||[],notebook:this.props.notebook,resultsOnly:this.props.resultsOnly,mobile:this.state.mobile,onTextSelected:this.props.onTextSelected,hasFocus:f,isEditing:f&&this.props.isEditing});return this.props.resultsOnly?[a]:[d,a]},this)),a=this.props.showLastDivider?b.default.createElement(w.default,{key:"last-command-divider",isEmptyNotebook:e,
notebook:this.props.notebook,insertCommand:h.default.partial(this.addCommandBelow,a.length-1),pasteCommand:h.default.partial(this.pasteCommandBelow,a.length-1),prevCommandPosition:k,nextCommandPosition:k+1}):null,k=n.default.canRun(this.props.permissionLevel),q=n.default.canEdit(this.props.permissionLevel),r=q?b.default.createElement("a",{className:"shortcuts-link",title:"View keyboard shortcuts",onClick:this.handleShortcutsClick},"shortcuts"):null,e=!this.props.showSubmitHint||m||e||!k?null:b.default.createElement("div",
{className:"submit-hint"},"Shift+Enter to run \u00a0\u00a0\u00a0",r),k=(0,d.default)({"shell-top":!0,"new-notebook":!0,"notebook-loading":this.props.showLoadScreen||this.state.waitingToScroll,locked:m,"no-edit":!q,"no-run":!k,"static-notebook":this.props.isStatic}),q=b.default.createElement("div",{className:"contentSpacer",style:{background:window.settings.notebookLoadingBackground,height:"0px"}});return b.default.createElement("div",{className:k},b.default.createElement("img",{className:"load-spinner",
src:y.ResourceUrls.getResourceUrl("img/spinner.svg")}),f,this.props.resultsOnly?null:a,this.props.resultsOnly?null:e,q)}});l.exports=a},{"../acl/WorkspacePermissions":10,"../notebook/Clipboard":136,"../notebook/CommandDivider.jsx":143,"../notebook/KeyboardShortcutsView.jsx":173,"../notebook/NotebookModel":178,"../notebook/ReactNotebookCommandView.jsx":186,"../presence/Presence":224,"../ui_building_blocks/dialogs/ReactModalUtils":300,"../urls/ResourceUrls":322,"../user_platform/MobileUtils":348,classnames:411,
jquery:819,react:1001,"react-dom":865,underscore:1021}],186:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],g;for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[g]=c[g])}return a};f=a("jquery");var h=c(f);f=a("lodash");var b=c(f);f=a("react");var k=c(f);f=a("react-dom");var d=c(f);f=a("classnames");var n=c(f);f=a("../acl/WorkspacePermissions");var m=c(f);f=a("../notebook/Clipboard");var q=
c(f);f=a("../notebook/CommandParserUtils");var w=c(f);f=a("../notebook/CodeMirrorKeywords");var p=c(f);f=a("../notebook/CodeMirrorUtils");var r=c(f),t=a("../notebook/CodeModeUtils");f=a("../notebook/CommandInput.jsx");var u=c(f);f=a("../notebook/CommandResult.jsx");var y=c(f);f=a("../notebook/CommandSpinner.jsx");var A=c(f);f=a("../notebook/CommandStats.jsx");var g=c(f);f=a("../notebook/dashboards/DataWidget");var v=c(f);f=a("../notebook/ExportUtility");var z=c(f);f=a("../notebook/InputWidget");var B=
c(f);f=a("../notebook/RichCommandError.jsx");var G=c(f);f=a("../notebook/SubCommandResults.jsx");var x=c(f);f=a("../notebook/NotebookCommandModel");f=c(f);var D=a("../notebook/NotebookConstants.js"),E=c(D),D=a("../notebook/NotebookModel"),D=c(D),F=a("../notebook/NotebookUtilities"),J=c(F),F=a("../notebook/StreamStatusView.jsx"),L=c(F),F=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),I=c(F),F=a("../ui_building_blocks/dropdowns/DropdownMenuView.jsx"),K=c(F),F=a("../ui_building_blocks/icons/IconsForType"),
N=c(F),F=a("../ui_building_blocks/highlight/Highlight.jsx"),P=c(F);a=a("../ui_building_blocks/text/InlineEditableText.jsx");var Y=c(a),M=k.default.createClass({displayName:"CommandButtons",propTypes:{index:k.default.PropTypes.number.isRequired,resultsOnly:k.default.PropTypes.bool.isRequired,isLocked:k.default.PropTypes.bool.isRequired,isFirstCommand:k.default.PropTypes.bool.isRequired,isLastCommand:k.default.PropTypes.bool.isRequired,removeFunc:k.default.PropTypes.func.isRequired,collapseFunc:k.default.PropTypes.func.isRequired,
isCollapsed:k.default.PropTypes.bool.isRequired,copyCommand:k.default.PropTypes.func.isRequired,cutCommand:k.default.PropTypes.func.isRequired,exportCommand:k.default.PropTypes.func.isRequired,pasteCommandAbove:k.default.PropTypes.func.isRequired,pasteCommandBelow:k.default.PropTypes.func.isRequired,addCommandAbove:k.default.PropTypes.func.isRequired,addCommandBelow:k.default.PropTypes.func.isRequired,moveUp:k.default.PropTypes.func.isRequired,moveDown:k.default.PropTypes.func.isRequired,getLanguage:k.default.PropTypes.func.isRequired,
runCommand:k.default.PropTypes.func.isRequired,permissionLevel:k.default.PropTypes.string,exportToDashboardFunc:k.default.PropTypes.func,dashboardViewModels:k.default.PropTypes.array,command:k.default.PropTypes.instanceOf(f.default),mobile:k.default.PropTypes.bool,isStatic:k.default.PropTypes.bool},getDefaultProps:function(){return{permissionLevel:m.default.MANAGE}},getInitialState:function(){return{menuVisible:!1}},toggleMenu:function(){this.setState({menuVisible:!this.state.menuVisible})},toggleDashboardMenu:function(){this.setState({dashboardMenuVisible:!this.state.dashboardMenuVisible})},
tags:function(){var a=this.props.command.tags();a.source="CommandButtons";return a},toggleCommandResultInDashboard:function(a,c){if("checkbox"===c.target.type){var g=this.tags(),g=b.default.extend(a.tags(),g);c.target.checked?(g.eventType="addCommand",a.addCommandElement(this.props.command.attributes.nuid)):(g.eventType="removeCommand",a.removeCommandElement(this.props.command.attributes.nuid));window.recordEvent("dashboard",g)}},openDashboardView:function(a){var b=this.props.command.notebook().id;
window.recordEvent("dashboard",{eventType:"open",notebookId:b,dashboardId:a,source:"command-dashboard-list-dashboard-view-nav-link"});window.router.navigate("#notebook/"+b+"/dashboard/"+a,{trigger:!0})},addNewDashboardView:function(){var a=this.props.command.notebook().id;window.recordEvent("dashboard",{eventType:"create",notebookId:a,source:"command-dashboard-list-new-dashboard-link"});this.setState({dashboardMenuVisible:!1});var b=this.props.command;b.notebook().createNewDashboardView(function(a){window.open("#notebook/"+
b.notebook().id+"/dashboard/"+a.dashboardId,"_blank")},null,[b.get("nuid")])},getDashboardMenuItems:function(){if(window.settings.enableNewDashboardViews){var a=m.default.canEdit(this.props.permissionLevel),b=this,c=this.props.dashboardViewModels,g=k.default.createElement("div",{className:"heading dashboard-list-title"},a?"Show in Dashboard View:":"Shown in Dashboard View:"),d=[];c.forEach(function(c){var g=b.toggleCommandResultInDashboard.bind(b,c),h=b.openDashboardView.bind(b,c.id),e=c.attributes;
d.push(k.default.createElement("a",{className:"dashboard-list-item"},k.default.createElement("div",{key:c.get("guid"),className:"element-toggle-input",onClick:g},k.default.createElement("input",{type:"checkbox",disabled:!a,className:"dashboard-checkbox",title:"Add command result to Dashboard "+e.title,id:"dashboard-view-input-"+e.id,defaultChecked:c.hasCommandElement(b.props.command.attributes.nuid)},k.default.createElement("label",{htmlFor:"dashboard-view-input-"+e.id,title:"Add command result to Dashboard "+
e.title},e.title))),k.default.createElement("div",{className:"dashboard-view-nav-link",onClick:h},k.default.createElement("i",{className:"fa fa-fw fa-"+N.default.navigate,title:"Go to Dashboard "+e.title}))))});0<d.length&&d.unshift(g);a&&(0<d.length&&d.push(k.default.createElement("p",{role:"separator",className:"divider"})),c=k.default.createElement("a",{className:"new-dashboard-link",onClick:this.addNewDashboardView},k.default.createElement("i",{className:"fa fa-"+N.default.create}),"Add to New Dashboard"),
d.push(c));return d}},renderDashboardMenu:function(){return k.default.createElement(K.default,{outsideClickHandler:this.toggleDashboardMenu,ignoreClickClasses:["dashboard-button-"+this.props.index],handleClickInMenu:!1,getItems:this.getDashboardMenuItems,classes:["command-dashboard-menu","right"]})},getMenuEditItems:function(){var a=m.default.canEdit(this.props.permissionLevel),b=k.default.createElement("a",{className:"copy-item",title:"Copy this cell",onClick:this.props.copyCommand},k.default.createElement("i",
{className:"fa fa-copy fa-fw"}),k.default.createElement("span",null,"Copy Cell")),c=a?k.default.createElement("a",{className:"cut-item",title:"Cut this cell",onClick:this.props.cutCommand},k.default.createElement("i",{className:"fa fa-cut fa-fw"}),k.default.createElement("span",null,"Cut Cell")):null,g=window.settings.enableStaticNotebooks?k.default.createElement("a",{className:"export-item",title:"Export this cell",onClick:this.props.exportCommand},k.default.createElement("i",{className:"fa fa-download fa-fw"}),
k.default.createElement("span",null,"Export Cell")):null,d=a&&!q.default.isEmpty()?k.default.createElement("a",{className:"paste-above-item",title:"Paste a cell above",onClick:this.props.pasteCommandAbove},k.default.createElement("i",{className:"fa fa-paste fa-fw"}),k.default.createElement("span",null,"Paste Above")):null,a=a&&!q.default.isEmpty()?k.default.createElement("a",{className:"paste-below-item",title:"Paste a cell below",onClick:this.props.pasteCommandBelow},k.default.createElement("i",
{className:"fa fa-paste fa-fw"}),k.default.createElement("span",null,"Paste Below")):null;return[b,c,g,d,a]},getMenuAddItems:function(){var a=k.default.createElement("a",{className:"add-above-item",title:"Add a cell above",onClick:this.props.addCommandAbove},k.default.createElement("i",{className:"fa fa-toggle-up fa-fw"}),k.default.createElement("span",null,"Add Cell Above")),b=k.default.createElement("a",{className:"add-below-item",title:"Add a cell below",onClick:this.props.addCommandBelow},k.default.createElement("i",
{className:"fa fa-toggle-down fa-fw"}),k.default.createElement("span",null,"Add Cell Below"));return[a,b]},getMenuMoveItems:function(){var a=m.default.canEdit(this.props.permissionLevel),c=a&&!this.props.isFirstCommand?k.default.createElement("a",{className:"move-up-item",title:"Move cell up one",onClick:this.props.moveUp},k.default.createElement("i",{className:"fa fa-long-arrow-up fa-fw"}),k.default.createElement("span",null,"Move Up")):null,a=a&&!this.props.isLastCommand?k.default.createElement("a",
{className:"move-down-item",title:"Move cell down one",onClick:this.props.moveDown},k.default.createElement("i",{className:"fa fa-long-arrow-down fa-fw"}),k.default.createElement("span",null,"Move Down")):null;return b.default.filter([c,a],function(a){return null!==a})},getMenuItems:function(){var a=m.default.canEdit(this.props.permissionLevel),b=this.getMenuEditItems(),c=a?this.getMenuAddItems():[],g=this.getMenuMoveItems(),a=a?this.getCommandMenuViewItems():[];return b.concat(0<c.length?k.default.createElement("hr",
null):null).concat(c).concat(0<g.length?k.default.createElement("hr",null):null).concat(g).concat(0<a.length?k.default.createElement("hr",null):null).concat(a)},_toggleCommandField:function(a){var b=this.props.command,c={};c[a]=!b.get(a);b.updateCommand(c)},_toggleTitleVisible:function(){this._toggleCommandField("showCommandTitle")},_toggleCodeVisible:function(){this._toggleCommandField("hideCommandCode")},_toggleResultVisible:function(){this._toggleCommandField("hideCommandResult")},getCommandMenuViewItems:function(){var a=
this.props.command,b=k.default.createElement("a",{className:"show-or-hide-title",title:a.get("showCommandTitle")?"Hide Command Title":"Show Command Title",onClick:this._toggleTitleVisible},k.default.createElement("i",{className:"fa fa-header fa-fw"}),k.default.createElement("span",null,a.get("showCommandTitle")?"Hide Title":"Show Title")),c=k.default.createElement("a",{className:"show-or-hide-code",title:a.get("hideCommandCode")?"Show Code":"Hide Code",onClick:this._toggleCodeVisible},k.default.createElement("i",
{className:"fa fa-code fa-fw"}),k.default.createElement("span",null,a.get("hideCommandCode")?"Show Code":"Hide Code")),a=k.default.createElement("a",{className:"show-or-hide-result",title:a.get("hideCommandResult")?"Show Result":"Hide Result",onClick:this._toggleResultVisible},k.default.createElement("i",{className:"fa fa-file-code-o fa-fw"}),k.default.createElement("span",null,a.get("hideCommandResult")?"Show Result":"Hide Result"));return[b,c,a]},renderMenu:function(){return k.default.createElement(K.default,
{outsideClickHandler:this.toggleMenu,ignoreClickClasses:["edit-button-"+this.props.index],handleClickInMenu:!0,getItems:this.getMenuItems,classes:["command-edit-menu","right"]})},runCommand:function(){this.props.runCommand()},render:function(){var a=m.default.canRun(this.props.permissionLevel),b=m.default.canEdit(this.props.permissionLevel),c=b&&this.props.command.isComplexResult()&&window.settings.enableNewDashboardViews&&!this.props.command.attributes.isExample,g=(0,n.default)({"command-buttons":!0,
"menu-visible":this.state.menuVisible,"dashboard-menu-visible":this.state.dashboardMenuVisible}),d=this.props.command;return k.default.createElement("div",{className:g},!a||d.isMarkdownCommand()||this.props.isStatic?null:k.default.createElement("a",{className:"run-command-button command-button",onClick:this.runCommand,title:"Run Cell"},k.default.createElement("i",{className:"fa fa-fw fa-play"})),c?k.default.createElement("a",{className:"dashboard-button dashboard-button-"+this.props.index+" command-button",
onClick:this.toggleDashboardMenu,title:"Show in Dashboard Menu"},k.default.createElement("i",{className:"fa fa-bar-chart fa-fw"})):null,c&&this.state.dashboardMenuVisible?this.renderDashboardMenu():null,this.props.resultsOnly?null:k.default.createElement("a",{className:"edit-button edit-button-"+this.props.index+" command-button",onClick:this.toggleMenu,title:"Edit Menu"},k.default.createElement("i",{className:"fa fa-fw fa-chevron-down"})),this.state.menuVisible?this.renderMenu():null,b?k.default.createElement("a",
{className:"toggle-collapse-button command-button",onClick:this.props.collapseFunc,title:this.props.isCollapsed?"Maximize":"Minimize"},k.default.createElement("i",{className:this.props.isCollapsed?"fa fa-fw fa-plus":"fa fa-fw fa-minus"})):null,b&&!this.props.resultsOnly?k.default.createElement("a",{className:"remove-button command-button",onClick:this.props.removeFunc,title:"Delete"},k.default.createElement("i",{className:"fa fa-fw fa-remove"})):null)}});a=k.default.createClass({displayName:"ReactNotebookCommandView",
propTypes:{commandGuid:k.default.PropTypes.string.isRequired,command:k.default.PropTypes.instanceOf(f.default).isRequired,notebook:k.default.PropTypes.instanceOf(D.default).isRequired,permissionLevel:k.default.PropTypes.string,subCommands:k.default.PropTypes.array,isLocked:k.default.PropTypes.bool,isFirstCommand:k.default.PropTypes.bool,isLastCommand:k.default.PropTypes.bool,pasteCommandAbove:k.default.PropTypes.func.isRequired,pasteCommandBelow:k.default.PropTypes.func.isRequired,addCommandAbove:k.default.PropTypes.func.isRequired,
addCommandBelow:k.default.PropTypes.func.isRequired,moveUp:k.default.PropTypes.func.isRequired,moveDown:k.default.PropTypes.func.isRequired,index:k.default.PropTypes.number.isRequired,resultsOnly:k.default.PropTypes.bool.isRequired,showCommentMarks:k.default.PropTypes.bool,toggleCommentsPanel:k.default.PropTypes.func,isCommenting:k.default.PropTypes.bool,onTextSelected:k.default.PropTypes.func,isStatic:k.default.PropTypes.bool,hasFocus:k.default.PropTypes.bool,isEditing:k.default.PropTypes.bool,mobile:k.default.PropTypes.bool},
stateProps:"permissionLevel isLocked resultsOnly subCommands showCommentMarks isCommenting isFirstCommand isLastCommand hasFocus isEditing".split(" "),hasStatePropsChanged:function(a){var c=b.default.map(this.stateProps,function(c){return!b.default.isEqual(this.props[c],a[c])},this);return b.default.reduce(c,function(a,b){return a||b},!1)},commandLocalVersion:1,subCommandLocalVersions:[],updateSubCommandVersions:function(a){this.subCommandLocalVersions=b.default.map(a.subCommands,function(a){return a.get("localVersion")})},
hasSubCommandsChanged:function(a){var c=this.subCommandLocalVersions;this.updateSubCommandVersions(a);return!b.default.isEqual(this.subCommandLocalVersions,c)},componentWillMount:function(){this.commandLocalVersion=this.props.command.get("localVersion");this.updateSubCommandVersions(this.props)},shouldComponentUpdate:function(a,c){var g=this.props.command.get("localVersion"),d=g!==this.commandLocalVersion;this.commandLocalVersion=g;g=this.hasSubCommandsChanged(a);return d||g||this.hasStatePropsChanged(a)||
!b.default.isEqual(this.state,c)?!0:!1},focusEditor:function(a){this.refs.input&&this.refs.input.focusEditor();a&&this.scrollCommandIntoView()},scrollCommandIntoView:function(){if(this.isMounted()){var a=d.default.findDOMNode(this),b=d.default.findDOMNode(this.refs.input);J.default.isOutOfView((0,h.default)(b))&&a.scrollIntoView(!0)}},getDefaultProps:function(){return{permissionLevel:m.default.MANAGE,isLocked:!1,subCommands:[]}},componentDidMount:function(){this.addToAutoCompleteList()},addToAutoCompleteList:function(){var a=
this.props.command,b=this.props.notebook;a.get("command")&&p.default.addPrevCommandString(a.get("command"),r.default.determineMode(null,a.get("command"),b.get("language")))},getInitialState:function(){return{dragging:!1}},toggleCollapse:function(){var a=this.props.command.get("collapsed");this.props.command.updateCommand({collapsed:!a})},remove:function(a,b){a&&a.preventDefault();if(this.props.isLocked)I.default.alert("This cell is locked or still executing.");else{var c=this,g=function(){(0,h.default)(d.default.findDOMNode(c)).slideUp(250,
function(){c.props.command.removeCommand()})};a&&a.getModifierState&&a.getModifierState("Shift")?g():b&&!0===b.noConfim?g():I.default.confirm({messageHTML:"Are you sure you want to delete this command?<p class='hint-msg'>Tip: bypass this dialog by holding the 'Shift' key when deleting a command.</p>",confirm:g})}},onMouseDown:function(a){((0,h.default)(a.target).is(".move-command-btn")||(0,h.default)(a.target).parent().is(".move-command-btn"))&&this.setState({dragging:!0})},onMouseUp:function(){this.setState({dragging:!1})},
onDragStart:function(a){this.state.dragging||a.preventDefault();a.nativeEvent.dataTransfer.setData("Text",a.target.innerHTML);a.nativeEvent.dataTransfer.effectAllowed="none";this.props.notebook.registerDraggingCommand(this.props.command)},onDragEnd:function(){this.setState({dragging:!1});this.props.notebook.saveDropPosition()},copyCommand:function(){q.default.putCommand(this.props.command.attributes,"copy")},cutCommand:function(){var a=this;q.default.putCommand(this.props.command.attributes,"cut");
(0,h.default)(d.default.findDOMNode(a)).slideUp(250,function(){a.props.command.removeCommand()})},exportCommand:function(){(new z.default).exportCell(this.props.command,this.props.notebook)},setLanguage:function(a){var b=this.getLanguage();b!==a&&("markdown"===b&&this.props.notebook.trigger("update-focus-command",{commandGuid:this.props.commandGuid,isEditing:!0}),b=this.props.command.get("command"),a=t.CodeModeUtils.changeCodeLang(b,this.props.notebook.get("language"),a),this.props.command.updateCommand({command:a}))},
getLanguage:function(){return t.CodeModeUtils.determineCodeLang(this.props.command.get("command"),this.props.notebook.get("language"))},isMarkdown:function(){return this.props.command.isMarkdownCommand()},_addToDashboard:function(a){var c=a.get("widgets").slice(0),g=a.getNewWidgetY(),d=this.props.command,k=d.get("command").replace(/^\s*%sql(\s+|$)/,""),e=d.get("width"),n=d.get("height"),f=d.get("displayType"),q=d.get("results"),p=t.CodeModeUtils.determineCodeLang(this.props.command.get("command"),
this.props.notebook.get("language")),r=d.get("bindings");window.recordEvent("exportToDashboard",{});[].forEach(function(a){c.push(new B.default({label:"Value of "+a,binding:a,x:0,y:g,width:660,height:40}));g+=40});c.push(new v.default({query:k,language:p,displayType:f,resultType:d.get("resultType"),xColumns:d.get("xColumns"),yColumns:d.get("yColumns"),pivotColumns:d.get("pivotColumns"),pivotAggregation:d.get("pivotAggregation"),customPlotOptions:b.default.cloneDeep(d.get("customPlotOptions")),x:0,
y:g,width:"auto"===e?660:e,height:"auto"===n?250:n,downloadable:q?J.default.isDownloadable(q.type):!1,customizable:!0,hideRunCommands:!m.default.canRun(this.props.permissionLevel)}));d={};h.default.extend(d,a.get("defaultBindings")||{},r);r={widgets:c,defaultBindings:d};a.set(r);a.save(r,{patch:!0,error:function(a,b){J.default.handleRpcError(b,null,null,{confirmButton:"OK",confirm:void 0,showCancel:!1})}})},shouldShowMarkdownDiff:function(){var a=this.props.command;return this.props.isLocked&&(!b.default.isEmpty(a.get("diffInserts"))||
!b.default.isEmpty(a.get("diffDeletes")))},isPresentingMarkdown:function(){if(!this.isMarkdown()||this.shouldShowMarkdownDiff())return!1;if(!m.default.canEdit(this.props.permissionLevel))return!0;var a=this.props.isCommenting;return this.props.isEditing||a?!1:!0},onDoubleClickMarkdown:function(){var a=m.default.canEdit(this.props.permissionLevel);this.isMarkdown()&&a&&!this.props.isLocked&&!this.props.resultsOnly&&this.props.notebook.trigger("update-focus-command",{commandGuid:this.props.commandGuid,
isEditing:!0})},tags:function(){return{commandLanguage:w.default.getLanguage(this.props.command.get("command")),notebookLanguage:this.props.notebook.get("language"),isParamQuery:this.props.command.isParamQuery()}},_cancelQueryConfirmationThreshold:12E4,cancelQuery:function(a){a.preventDefault();var c=b.default.bind(function(){window.recordEvent("cancelSingleCommand",this.tags());this.props.command.cancelCommand()},this),g=window.conn.wsClient.serverTime(),d=this.props.command.get("submitTime");!a.shiftKey&&
g-d>this._cancelQueryConfirmationThreshold&&0!==d?I.default.confirm({message:"Are you sure you want to cancel this query?",confirm:c,confirmButton:"Yes",cancelButton:"No"}):c()},runCommand:function(a,b){a=a||{};if(!m.default.canRun(this.props.permissionLevel)||this.props.isLocked)b&&b(!1);else if(this.props.command.isMarkdownCommand())a.command&&this.props.command.updateCommand({command:a.command}),b&&b(!0);else{var c=this.props.command,g=this,d=function(){g.addToAutoCompleteList();var d=g.props.notebook.runCommand(c,
a);b&&b(d)},k=this.props.command.get("state");"running"===k||"streaming"===k?I.default.confirm({message:"Do you want to cancel the current execution and re-run the command?",confirmButton:"Yes",cancelButton:"No",confirm:d}):d()}},renderStreams:function(a){if(!b.default.isObject(a)||b.default.isEmpty(a)||this.props.command.get("collapsed")||this.props.command.get("hideCommandResult"))return null;var c=b.default.map(Object.keys(a),function(b){var c=a[b];return k.default.createElement(L.default,{streamState:c[c.length-
1],key:b})});return k.default.createElement("div",null,c)},renderWorkflowProgress:function(a){if(!a||0===a.length)return null;a=b.default.map(a,function(a){return k.default.createElement("li",{key:a.jobId},k.default.createElement("a",{href:"#job/"+a.jobId+"/run/1"},"Notebook job #",a.jobId))});return k.default.createElement("ul",{className:"workflows"},a)},onTextSelected:function(a,b){if(this.props.onTextSelected)this.props.onTextSelected(this.props.command,a,b)},_updateTitle:function(a,b){this.props.command.updateCommand({commandTitle:a},
null,{success:b})},_getCommandTitle:function(){var a=this.props.command;if(!a.get("showCommandTitle"))return null;var b=m.default.canEdit(this.props.permissionLevel)&&!this.props.isStatic&&!this.props.resultsOnly&&!this.props.isLocked;return k.default.createElement(Y.default,{allowEmpty:!0,initialText:a.getTitle(),updateText:this._updateTitle,className:"notebook-command-title",allowEdit:b,showSaveAndEditBtn:!1,maxLength:E.default.MAX_COMMAND_TITLE_LENGTH})},onClickCommandResult:function(){this.props.notebook.trigger("update-focus-command",
{commandGuid:this.props.commandGuid})},render:function(){var a=m.default.canRun(this.props.permissionLevel),b=m.default.canEdit(this.props.permissionLevel),c=!this.props.isEditing&&this.props.command.get("collapsed"),d=this.props.command,h=this.props.notebook,v=0<this.props.subCommands.length,f=this.props.subCommands.map(function(a){return k.default.createElement("div",null,this.renderStreams(a.get("streamStates")),k.default.createElement(x.default,{key:a.get("guid"),model:a,tags:this.tags()}))},
this),q={diffInserts:d.get("diffInserts"),diffDeletes:d.get("diffDeletes")},b={"new-notebook":!0,command:!0,mainCommand:!0,dragging:this.state.dragging,"command-active":this.props.hasFocus&&!this.props.isStatic,"is-editing":this.props.isEditing,commenting:this.props.isCommenting,locked:this.props.isLocked,collapsed:c,"no-edit":!b,"no-run":!a,"results-only":this.props.resultsOnly};b["command-"+d.get("state")]=!0;b["cellIndex-"+this.props.index]=!0;b["cell-"+h.get("id")+"-"+d.get("id")]=!0;var p=this.isPresentingMarkdown(),
r=c||this.isMarkdown()&&!p||!this.isMarkdown()&&d.get("hideCommandResult"),z=this.props.resultsOnly||this.isMarkdown()||this.props.isStatic||d.get("hideCommandCode")||d.get("hideCommandResult")||d.get("collapsed"),t=!this.props.isEditing&&!this.props.isCommenting&&(d.get("showCommandTitle")&&d.get("collapsed")||d.get("hideCommandCode"));if(!0===this.props.resultsOnly&&!0===this.props.command.get("collapsed"))return null;var w=k.default.createElement(M,{index:this.props.index,resultsOnly:this.props.resultsOnly,
permissionLevel:this.props.permissionLevel,notebookLanguage:h.get("language"),getLanguage:this.getLanguage,isLocked:this.props.isLocked,isFirstCommand:this.props.isFirstCommand,isLastCommand:this.props.isLastCommand,runCommand:this.runCommand,removeFunc:this.remove,collapseFunc:this.toggleCollapse,isCollapsed:c,setLanguage:this.setLanguage,copyCommand:this.copyCommand,cutCommand:this.cutCommand,exportCommand:this.exportCommand,pasteCommandAbove:this.props.pasteCommandAbove,pasteCommandBelow:this.props.pasteCommandBelow,
addCommandAbove:this.props.addCommandAbove,addCommandBelow:this.props.addCommandBelow,moveUp:this.props.moveUp,moveDown:this.props.moveDown,mobile:this.props.mobile,exportToDashboardFunc:this._addToDashboard,dashboardViewModels:h.getDashboardViewModels(),command:d}),B=d.updateCommand.bind(d),l=d.updatePresenceCommand.bind(d),D=d.updateCursorPosition.bind(d),c=k.default.createElement(u.default,{ref:"input",notebook:this.props.notebook,commandGuid:this.props.commandGuid,permissionLevel:this.props.permissionLevel,
notebookLanguage:h.get("language"),isLastCommand:this.props.isLastCommand,isLocked:this.props.isLocked,isStatic:this.props.isStatic,updateCommand:B,updatePresenceCommand:l,updateCursorPosition:D,presenceMarks:d.get("presenceMarks"),comments:d.getComments(),showCommentMarks:this.props.showCommentMarks,toggleCommentsPanel:this.props.toggleCommentsPanel,addCommandAbove:this.props.addCommandAbove,addCommandBelow:this.props.addCommandBelow,pasteCommandBelow:this.props.pasteCommandBelow,copyCommand:this.copyCommand,
cutCommand:this.cutCommand,removeCommand:this.remove,moveUp:this.props.moveUp,moveDown:this.props.moveDown,command:d.get("command"),diffPointers:q,commandState:d.get("state"),collapsed:c,onDoubleClick:d.get("collapsed")?this.toggleCollapse:null,lastModifiedBy:d.get("lastModifiedBy")||"",hide:p||this.props.resultsOnly||t,hasFocus:this.props.hasFocus,isEditing:this.props.isEditing,onTextSelected:this.onTextSelected}),a=k.default.createElement("div",{className:"results-and-comments",onDoubleClick:this.onDoubleClickMarkdown},
k.default.createElement("div",{className:"command-result-wrapper"},k.default.createElement("div",{className:"command-result",onClick:this.onClickCommandResult},k.default.createElement(A.default,{ref:"spinner",cancelQuery:this.cancelQuery,state:d.get("state"),stages:d.get("stages"),showCancel:!h.isRunning()&&a,collapsed:r||t,clusterId:d.get("clusterId"),sparkCtxId:d.get("sparkCtxId"),hasSubCommands:v}),this.renderWorkflowProgress(d.get("workflows")),this.renderStreams(d.get("streamStates")),k.default.createElement(y.default,
e({ref:"result"},d.attributes,{permissionLevel:this.props.permissionLevel,isStatic:this.props.isStatic,isLocked:this.props.isLocked,collapsed:r,isChild:!1,tags:this.tags(),updateCommand:B,runCommand:this.runCommand,commandModel:d,isComplexResult:d.isComplexResult(),isParamQuery:d.isParamQuery()})),this.isMarkdown()?null:k.default.createElement(G.default,{parentCollapsed:this.props.command.get("collapsed"),state:d.get("state"),errorSummary:d.get("errorSummary")||"",error:d.get("error")||"",ref:"richError"}),
k.default.createElement(g.default,e({ref:"stats"},d.attributes,{hidden:z})))),k.default.createElement("div",{style:{clear:"both"}}));return k.default.createElement(P.default,{ref:d.id,duration:1800,withTooltip:!1,smallAnimate:!0},k.default.createElement("div",{className:(0,n.default)(b),draggable:"true",onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},k.default.createElement("div",{className:"command-comments-wrapper"}),k.default.createElement("a",
{className:"move-command-btn"},k.default.createElement("i",{className:"fa fa-sort"})),this.props.isStatic?null:w,this._getCommandTitle(),c,a,this.props.command.get("collapsed")?null:f))}});l.exports=a},{"../acl/WorkspacePermissions":10,"../notebook/Clipboard":136,"../notebook/CodeMirrorKeywords":138,"../notebook/CodeMirrorUtils":139,"../notebook/CodeModeUtils":140,"../notebook/CommandInput.jsx":144,"../notebook/CommandParserUtils":145,"../notebook/CommandResult.jsx":146,"../notebook/CommandSpinner.jsx":148,
"../notebook/CommandStats.jsx":149,"../notebook/ExportUtility":159,"../notebook/InputWidget":171,"../notebook/NotebookCommandModel":175,"../notebook/NotebookConstants.js":176,"../notebook/NotebookModel":178,"../notebook/NotebookUtilities":179,"../notebook/RichCommandError.jsx":190,"../notebook/StreamStatusView.jsx":194,"../notebook/SubCommandResults.jsx":195,"../notebook/dashboards/DataWidget":219,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/dropdowns/DropdownMenuView.jsx":301,
"../ui_building_blocks/highlight/Highlight.jsx":302,"../ui_building_blocks/icons/IconsForType":304,"../ui_building_blocks/text/InlineEditableText.jsx":316,classnames:411,jquery:819,lodash:842,react:1001,"react-dom":865}],187:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("react");f=c(f);var h=a("../acl/WorkspacePermissions"),b=c(h),h=a("../clusters/ClusterList"),h=c(h),k=a("../notebook/NotebookModel"),k=c(k);a=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");
var d=c(a);a={listening:!1,propTypes:{notebook:f.default.PropTypes.instanceOf(k.default),clusters:f.default.PropTypes.instanceOf(h.default)},getPermissionLevel:function(){return this.props.notebook.get("isExample")?b.default.VIEW:window.settings.enableWorkspaceAclService&&this.props.notebook?this.props.notebook.getPermissionLevel():b.default.MANAGE},componentWillUpdate:function(a,b){b.notebookToRender!==this.state.notebookToRender&&this.stopListening()},componentDidUpdate:function(){this.startListening()},
componentDidMount:function(){this.startListening();this.state.notebookToRender.on("remove",function(){d.default.alert("This notebook has been deleted",void 0,void 0,function(){window.router.navigate("#",{trigger:!0})})},this)},componentWillUnmount:function(){this.stopListening()},_onMessage:function(a){if(this.isMounted()&&this.listening&&this.onNotebookMessage)this.onNotebookMessage(a)},startListening:function(){if(!this.listening){this.listening=!0;var a=this;this.throttledForceUpdate=e.default.throttle(function(){a.isMounted()&&
a.listening&&a.forceUpdate()},100);this.state.notebookToRender.on("change",this.throttledForceUpdate,this);this.state.notebookToRender.on("message",this._onMessage,this);this.state.notebookToRender.registerInterest(this);this.state.notebookToRender.commandCollection().on("add remove reset change",this.throttledForceUpdate,this);if(this.props.clusters)this.props.clusters.on("add remove change reset",this.throttledForceUpdate,this)}},stopListening:function(){this.listening&&(this.listening=!1,this.state.notebookToRender.unregisterInterest(this),
this.state.notebookToRender.off(null,null,this),this.state.notebookToRender.commandCollection().off(null,null,this),this.props.clusters&&this.props.clusters.off(null,null,this))}};l.exports=a},{"../acl/WorkspacePermissions":10,"../clusters/ClusterList":32,"../notebook/NotebookModel":178,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,react:1001,underscore:1021}],188:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("lodash");var h=c(f);f=a("react");
var b=c(f);f=a("react-dom");var k=c(f);f=a("classnames");var d=c(f);f=a("../acl/WorkspacePermissions");var n=c(f);f=a("../clusters/ClusterList");f=c(f);var m=a("../local_storage/LocalUserPreference"),q=c(m),m=a("../notebook/AutoClusterAttach.jsx"),w=c(m),m=a("../notebook/CodeMirrorUtils"),p=c(m),m=a("../notebook/CommentsPanelView.jsx"),r=c(m),m=a("../notebook/CommandSelectionPopover.jsx"),t=c(m),m=a("../notebook/ContextBarView.jsx"),u=c(m),m=a("../notebook/HistoryPanelView.jsx"),y=c(m),m=a("../notebook/NotebookConstants"),
A=c(m),m=a("../notebook/NotebookModel"),m=c(m),g=a("../notebook/NotebookUtilities"),v=c(g),g=a("../notebook/ReactNotebookCommandListView.jsx"),z=c(g),g=a("../notebook/ReactNotebookListenerMixin.jsx"),g=c(g),B=a("../notebook/FetchErrorPanel.jsx"),G=a("../notebook/InputPanel/InputPanel.jsx"),x=a("./ScheduleSideMenuView.jsx");a=a("../ui_building_blocks/dialogs/ReactModalUtils");var D=c(a);a=b.default.createClass({displayName:"ReactNotebookView",propTypes:{notebook:b.default.PropTypes.instanceOf(m.default).isRequired,
clusters:b.default.PropTypes.instanceOf(f.default).isRequired,initialDisplayMode:b.default.PropTypes.string},mixins:[g.default],getInitialState:function(){this.localPrefs=new q.default(this.props.notebook.get("guid"));return{notebookToRender:this.props.notebook,commandViewOffsets:{},displayMode:this.props.initialDisplayMode,showLoadScreen:!1,visibleSideMenu:window.showHistoryByDefault?"historyPanel":"",focusedCommandGuid:null,isEditing:!1,inputPanelHeight:0}},setPreviewNotebook:function(a){var b=
(0,e.default)("#content").scrollTop();null===a?this.setState({notebookToRender:this.props.notebook}):this.setState({notebookToRender:a});this.setState({showLoadScreen:!1});(0,e.default)("#content").scrollTop(b);setTimeout(function(){(0,e.default)("#content").scrollTop(b)},0)},setInputpanelMargin:function(){if(this.refs.inputPanel){var a=this.refs.inputPanel.getDisplayHeight();a!==this.state.inputPanelHeight&&this.setState({inputPanelHeight:a})}},componentDidMount:function(){this.setInputpanelMargin();
this.setNotebookEventsHandler(this.state.notebookToRender);(0,e.default)(document).on("keydown",this.documentKeydownHandler);(0,e.default)(window).on("resize",this.setInputpanelMargin);window.addEventListener("blur",this.onWindowBlur,!0);window.addEventListener("focus",this.onWindowFocus);(0,e.default)("#content").on("scroll",this.onNotebookViewScroll);window.notebook=this.props.notebook},componentWillUnmount:function(){this.unsetNotebookEventsHandler(this.state.notebookToRender);(0,e.default)(document).off("keydown",
this.documentKeydownHandler);(0,e.default)(window).off("resize",this.setInputpanelMargin);window.removeEventListener("blur",this.onWindowBlur);window.removeEventListener("focus",this.onWindowFocus);(0,e.default)("#content").off("scroll",this.onNotebookViewScroll);this.tearDownContextBar();window.notebook=null},componentWillUpdate:function(a,b){b.notebookToRender!==this.state.notebookToRender&&(this.unsetNotebookEventsHandler(this.state.notebookToRender),this.setNotebookEventsHandler(b.notebookToRender))},
componentDidUpdate:function(){this.setInputpanelMargin()},tearDownContextBar:function(){(0,e.default)("#content").css("top","0");var a=(0,e.default)("#context-bar");a.hide();k.default.unmountComponentAtNode(a[0])},setNotebookEventsHandler:function(a){a.on("update-focus-command",this.onUpdateFocusedCommand,this);a.on("editor-blur",this.onEditorBlur,this);a.on("navigate-up",this.onNavigateUp,this);a.on("navigate-down",this.onNavigateDown,this);a.on("run-command",this.onRunCommand,this);a.on("widgetValueChanged",
this.onWidgetValueChanged,this)},unsetNotebookEventsHandler:function(a){a.off(null,null,this)},lastEditingCommandGuid:null,onWindowFocus:function(a){a.target===window&&this.lastEditingCommandGuid&&(this.state.notebookToRender.trigger("update-focus-command",{commandGuid:this.lastEditingCommandGuid,isEditing:!0}),this.lastEditingCommandGuid=null)},_getCommandRef:function(a){a=this.state.notebookToRender.getCommandIndex(a);return this.refs.commandList&&this.refs.commandList.refs[a]?this.refs.commandList.refs[a]:
null},onWindowBlur:function(){if(this.state.isEditing&&this.state.focusedCommandGuid){var a=this._getCommandRef(this.state.focusedCommandGuid);(a=a?k.default.findDOMNode(a.refs.input):null)&&!v.default.isOutOfView((0,e.default)(a))&&(this.lastEditingCommandGuid=this.state.focusedCommandGuid)}},onNotebookViewScroll:function(){this.lastEditingCommandGuid=null},documentKeydownHandler:function(a){if((window.jsTestMode||!D.default.hasActiveModal())&&"body"===a.target.tagName.toLowerCase()){var b=this.state.notebookToRender;
if(this.state.focusedCommandGuid&&!this.state.isEditing)if(13===a.keyCode&&a.shiftKey)this.onShiftEnter(),a.preventDefault();else if(13===a.keyCode&&a.ctrlKey)b.trigger("run-command",{commandGuid:this.state.focusedCommandGuid}),a.preventDefault();else{13===a.keyCode&&(b.trigger("update-focus-command",{commandGuid:this.state.focusedCommandGuid,isEditing:!0}),a.preventDefault());if(38===a.keyCode||75===a.keyCode||80===a.keyCode)b.trigger("navigate-up",{commandGuid:this.state.focusedCommandGuid}),a.preventDefault();
if(40===a.keyCode||74===a.keyCode||78===a.keyCode)b.trigger("navigate-down",{commandGuid:this.state.focusedCommandGuid}),a.preventDefault()}}},onUpdateFocusedCommand:function(a){var b=a.commandGuid;a=a.isEditing;a=null!==a?a:this.state.isEditing;this.setState({focusedCommandGuid:b,isEditing:a})},onEditorBlur:function(a){a=a.commandGuid;a===this.state.focusedCommandGuid&&this.state.notebookToRender.trigger("update-focus-command",{commandGuid:a,isEditing:!1})},onNavigateUp:function(a){var b=a.commandGuid;
if(b===this.state.focusedCommandGuid){a=this.state.notebookToRender;var c=this.state.notebookToRender.getTopLevelCommands(),g=h.default.find(c,function(a){return a.get("guid")===b}),g=c.indexOf(g);0>=g||(c=c[g-1],g=this.state.isEditing&&!c.isMarkdownCommand()&&!c.get("hideCommandCode")&&!c.get("collapsed"),a.trigger("update-focus-command",{commandGuid:c.get("guid"),isEditing:g}))}},onNavigateDown:function(a){var b=this,c=a.commandGuid,g=a.insertCommand;if(c===this.state.focusedCommandGuid){a=this.state.notebookToRender;
var d=a.getTopLevelCommands(),k=h.default.find(d,function(a){return a.get("guid")===c}),k=d.indexOf(k)+1;k<a.getTopLevelCommands().length?(g=d[k],d=this.state.isEditing&&!g.isMarkdownCommand()&&!g.get("hideCommandCode")&&!g.get("collapsed"),a.trigger("update-focus-command",{commandGuid:g.get("guid"),isEditing:d})):g&&a.addCommand("",a.getMaxPosition()+1,!1,function(){var a=b.state.notebookToRender,c=a.getTopLevelCommands();a.trigger("update-focus-command",{commandGuid:c[c.length-1].get("guid"),isEditing:!0})})}},
onShiftEnter:function(){var a=this.state.notebookToRender,b=this.state.focusedCommandGuid,c=a.getCommand(b);a.getCommandIndex(b)===a.getTopLevelCommands().length-1&&""===c.get("command")?a.trigger("update-focus-command",{commandGuid:b,isEditing:!0}):a.trigger("run-command",{commandGuid:b,callback:function(c){c&&a.trigger("navigate-down",{commandGuid:b,insertCommand:a.canEdit()})}})},onRunCommand:function(a){var b=a.commandGuid,c=a.options;a=a.callback;if(this.refs.commandList){var b=this.state.notebookToRender.getCommandIndex(b),
g=this.refs.commandList.refs[b];-1!==b&&g&&g.runCommand(c,a)}else console.error("runCommand only available when used in ReactNotebookView")},onWidgetValueChanged:function(a){var b=a.changedArgs;switch(a.autoRunOption){case A.default.AUTO_RUN_ALL:this.state.notebookToRender.runAll();break;case A.default.AUTO_RUN_ACCESSED_COMMAND:this.state.notebookToRender.runByAccessedArgs(b)}},showRunCommandError:function(a){var b=a.errorType[0];window.settings.allowRunOnPendingClusters&&b===A.default.state.NO_CLUSTER_ATTACHED&&
n.default.canEdit(this.getPermissionLevel())?w.default.promptForClusterAttach(b,a.commandId,this.props.clusters,this.props.notebook,this.refs.contextBar):this.refs.contextBar.showRunCommandHighlight(b)},onNotebookMessage:function(a){a.type===A.default.message.RUN_ERROR&&this.showRunCommandError(a.data)},showPopover:function(a){this.isMounted()&&this.refs.selectionPopover&&this.refs.selectionPopover.showPopover(a)},newLocalComment:function(){if(this.selectionInfo){var a=this.selectionInfo.command.get("nuid"),
b={referenceType:"commandFragment",selection:this.selectionInfo.selection,range:this.selectionInfo.range};this.setState({visibleSideMenu:"commentsPanel"},function(){var c=this.props.notebook.newLocalComment(a,b);this.refs.commentsPanel.setActiveComment(c.get("guid"));setTimeout(function(){(0,e.default)(".comment-"+c.get("guid")+" textarea").focus()},100)})}},getCommandViewOffsets:function(){var a=this.refs.commandList;return a&&a.isMounted()?a.getCommandViewOffsets():{}},getActiveCommentCommandNUID:function(a){if(!this.refs.commentsPanel)return-1;
var b=this.refs.commentsPanel.getActiveCommentGUID();return(a=h.default.find(a,function(a){return a.get("guid")===b},this))&&a.get("commandNUID")},onActiveCommentChanges:function(){h.default.defer(function(){this.forceUpdate()}.bind(this))},showLoadScreen:function(){this.setState({showLoadScreen:!0})},hideLoadScreen:function(){this.setState({showLoadScreen:!1})},onTextSelected:function(a,b,c){c=c||{};p.default.somethingNonEmptySelected(b)&&(this.selectionInfo={command:a,range:{from:b.getCursor("from"),
to:b.getCursor("to")},selection:b.getSelection()},c.showPopover&&this.showPopover(b),c.createComment&&this.newLocalComment())},renderNotebook:function(a){a=a||{};var c=a.resultsOnly;a=this.state.notebookToRender;var g=a.getComments(),k=this.getActiveCommentCommandNUID(g),k=b.default.createElement(z.default,{ref:"commandList",notebook:a,isLocked:this.isHistoryPanelVisible()?!0:void 0,permissionLevel:this.getPermissionLevel(),resultsOnly:c,showLoadScreen:this.state.showLoadScreen,onTextSelected:this.onTextSelected,
showCommentsPanel:this.isCommentsPanelVisible(),toggleCommentsPanel:this.toggleCommentsPanel,activeCommentCommandNUID:k,focusedCommandGuid:this.state.focusedCommandGuid,isEditing:this.state.isEditing}),h=window.settings.enableNewInputWidgetUI?b.default.createElement(G.NotebookInputPanel,{ref:"inputPanel",inputsMgr:a.inputs}):null,c={"new-notebook":!0,overallContainer:!0,"results-only":c,"comments-panel-on":this.isCommentsPanelVisible()};return b.default.createElement("div",{className:"notebook-view"},
h,b.default.createElement("div",{className:(0,d.default)(c),style:{"margin-top":this.state.inputPanelHeight+"px"}},b.default.createElement("div",{className:"sessionPane"}),k,b.default.createElement("div",{className:"notebook-footer"})),this.renderSideMenu(this.state.visibleSideMenu,this.getPermissionLevel(),a,g))},renderCurrentDisplayMode:function(){return"resultsOnly"===this.state.displayMode?this.renderNotebook({resultsOnly:!0}):this.renderNotebook({resultsOnly:!1})},toggleSideMenu:function(a){window.recordEvent("sideMenuToggle",
{nbPrevSideMenu:this.state.visibleSideMenu,nbCurrSideMenu:a});this.isHistoryPanelVisible()&&this.setPreviewNotebook(null);this.state.visibleSideMenu===a?this.setState({visibleSideMenu:""}):this.setState({visibleSideMenu:a})},isHistoryPanelVisible:function(){return"historyPanel"===this.state.visibleSideMenu},toggleHistory:function(){window.showHistoryByDefault=!this.isHistoryPanelVisible();this.toggleSideMenu("historyPanel")},isCommentsPanelVisible:function(){return"commentsPanel"===this.state.visibleSideMenu},
toggleCommentsPanel:function(){this.toggleSideMenu("commentsPanel")},renderSideMenu:function(a,c,g,d){switch(a){case "schedule":return b.default.createElement(x.ScheduleSideMenuView,{ref:"scheduleSideMenu",notebook:g,metricName:"notebook",jobSubView:this.state.displayMode});case "commentsPanel":return b.default.createElement(r.default,{ref:"commentsPanel",comments:d,showCommentsPanel:this.isCommentsPanelVisible(),getCommandViewOffsets:this.getCommandViewOffsets,onActiveCommentChanges:this.onActiveCommentChanges,
userId:window.settings.userId});case "historyPanel":return b.default.createElement(y.default,{ref:"historyPanel",showNotebookCallback:this.setPreviewNotebook,showLoadScreenCallback:this.showLoadScreen,hideHistoryCallback:this.toggleHistory,notebook:this.props.notebook});default:return null}},render:function(){var a=this;if(this.props.notebook.notebookFetchError())return b.default.createElement(B.FetchErrorPanel,{error:this.props.notebook.notebookFetchError()});var c={"history-panel-on":this.isHistoryPanelVisible(),
"new-notebook":!0};return b.default.createElement("div",null,b.default.createElement(u.default,{ref:"contextBar",model:this.props.notebook,clusters:this.props.clusters,isExampleNotebook:this.props.notebook.get("isExample"),displayMode:this.state.displayMode,permissionLevel:this.getPermissionLevel(),showLoadScreenCallback:this.showLoadScreen,hideLoadScreenCallback:this.hideLoadScreen,showCommentsPanel:this.isCommentsPanelVisible(),toggleCommentsPanel:this.toggleCommentsPanel,toggleHistory:this.toggleHistory,
showHistory:this.isHistoryPanelVisible(),currentDashboardId:this.state.currentDashboardId,toggleSchedule:function(){a.toggleSideMenu("schedule")},showSchedule:"schedule"===this.state.visibleSideMenu}),b.default.createElement("div",{id:"content",className:(0,d.default)(c)},this.renderCurrentDisplayMode(),b.default.createElement(t.default,{ref:"selectionPopover",createComment:this.newLocalComment})))}});l.exports=a},{"../acl/WorkspacePermissions":10,"../clusters/ClusterList":32,"../local_storage/LocalUserPreference":128,
"../notebook/AutoClusterAttach.jsx":133,"../notebook/CodeMirrorUtils":139,"../notebook/CommandSelectionPopover.jsx":147,"../notebook/CommentsPanelView.jsx":154,"../notebook/ContextBarView.jsx":156,"../notebook/FetchErrorPanel.jsx":160,"../notebook/HistoryPanelView.jsx":164,"../notebook/InputPanel/InputPanel.jsx":167,"../notebook/NotebookConstants":176,"../notebook/NotebookModel":178,"../notebook/NotebookUtilities":179,"../notebook/ReactNotebookCommandListView.jsx":185,"../notebook/ReactNotebookListenerMixin.jsx":187,
"../ui_building_blocks/dialogs/ReactModalUtils":300,"./ScheduleSideMenuView.jsx":192,classnames:411,jquery:819,lodash:842,react:1001,"react-dom":865}],189:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,
"__esModule",{value:!0});f.RestartClusterDropdownLink=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&l.__esModule?l:{default:l},b=a("../acl/AclUtils.jsx");l=(l=a("../clusters/Cluster"))&&l.__esModule?l:{default:l};var k=a("../ui_building_blocks/Tooltip.jsx");(f.RestartClusterDropdownLink=
function(a){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=(d.__proto__||Object.getPrototypeOf(d)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.state={canRestartAttachedCluster:!b.AclUtils.clusterAclsEnabled()||a.props.clusterModel.canRestart()};return a}c(d,a);e(d,[{key:"componentDidMount",value:function(){var a=this;b.AclUtils.clusterAclsEnabled()&&
this.props.clusterModel&&!this.props.clusterModel.permissionsHaveBeenFetched()&&this.props.clusterModel.fetchPermissionLevel(function(){a.setState({canRestartAttachedCluster:a.props.clusterModel.canRestart()})})}},{key:"render",value:function(){var a=this.state.canRestartAttachedCluster,c=h.default.createElement("a",{"data-name":"Restart Cluster",onClick:a?this.props.restartClusterFunc:null,disabled:!a,ref:"restartClusterLink"},"Restart Cluster");b.AclUtils.clusterAclsEnabled()&&!a&&(c=h.default.createElement(k.Tooltip,
{text:"You do not have restart permissions on this cluster. Please contact your administrator.",attachToBody:!0,classes:["no-restart-cluster"],ref:"tooltip"},c));return c}}]);return d}(h.default.Component)).propTypes={clusterModel:h.default.PropTypes.instanceOf(l.default).isRequired,restartClusterFunc:h.default.PropTypes.func.isRequired}},{"../acl/AclUtils.jsx":3,"../clusters/Cluster":21,"../ui_building_blocks/Tooltip.jsx":294,react:1001}],190:[function(a,l,f){function c(a){return a&&a.__esModule?
a:{default:a}}function e(a){return 0===a.indexOf("<")?a:h.default.escape(a)}f=a("underscore");var h=c(f);f=a("react");var b=c(f);a=a("../notebook/commands/LargeOutputWrapper.jsx");var k=c(a);a=b.default.createClass({displayName:"RichCommandError",propTypes:{state:b.default.PropTypes.string.isRequired,parentCollapsed:b.default.PropTypes.bool.isRequired,errorSummary:b.default.PropTypes.string.isRequired,error:b.default.PropTypes.string.isRequired,overrideStackTraceString:b.default.PropTypes.string},
getInitialState:function(){return{collapsed:!0}},toggleCollapse:function(){this.setState({collapsed:!this.state.collapsed})},render:function(){return"error"!==this.props.state||this.props.parentCollapsed?null:b.default.createElement("div",null,b.default.createElement("div",null,b.default.createElement("span",{className:"ansiout command-result-error-summary"},null===this.props.error||""===this.props.error?null:b.default.createElement("a",{className:"toggle-error-btn command-button",onClick:this.toggleCollapse,
title:this.state.collapsed?"Maximize":"Minimize"},b.default.createElement("i",{className:this.state.collapsed?"fa fa-fw fa-plus-square-o":"fa fa-fw fa-minus-square-o"})),b.default.createElement("span",{dangerouslySetInnerHTML:{__html:e(this.props.errorSummary)}}))),this.state.collapsed?null:b.default.createElement(k.default,null,b.default.createElement("div",{className:"ansiout command-result-error-stackTrace",dangerouslySetInnerHTML:{__html:e(this.props.error)}})))}});l.exports=a},{"../notebook/commands/LargeOutputWrapper.jsx":199,
react:1001,underscore:1021}],191:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.ScheduleItemView=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=
b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&l.__esModule?l:{default:l};l=a("../jobs/ElasticJobStatus");var b=a("../notebook/SideMenu.jsx"),k=a("../user_platform/BrowserUtils");a=f.ScheduleItemView=function(a){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=(d.__proto__||Object.getPrototypeOf(d)).call(this,
a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.displayName="ScheduleItemView";a._recordJobLinkClicked=a._recordJobLinkClicked.bind(a);a._recordLastRunClicked=a._recordLastRunClicked.bind(a);return a}c(d,a);e(d,[{key:"tags",value:function(){var a=this.props.job.tags();a.source="ScheduleItemView";return a}},{key:"_recordClick",value:function(a){var b=k.BrowserUtils.getMeasurementTags(this.tags());
b.eventType=a;window.recordEvent(this.props.metricName,b)}},{key:"_recordJobLinkClicked",value:function(){this._recordClick("job-link-clicked")}},{key:"_recordLastRunClicked",value:function(){this._recordClick("job-last-run-link-clicked")}},{key:"renderLastSuccessfulRun",value:function(a,b){var c=a.get("lastRunStatus");return c?(a="#/job/"+a.get("jobId")+"/run/latestSuccess",b&&(a+="/"+b),b=Date(c.startTime).toString(),h.default.createElement("a",{href:a,title:b,onClick:this._recordLastRunClicked},
"Last successful run:\u00a0",h.default.createElement("span",{className:"date-time"},b))):"Last successful run: none"}},{key:"render",value:function(){var a=this.props.job,c=a.get("jobId"),d=a.get("jobName"),k=a.getSchedString(),e=a.getStatusString();return h.default.createElement(b.SideMenuSection,null,h.default.createElement("div",null,h.default.createElement("a",{className:"name",title:d,href:"#/job/"+c,onClick:this._recordJobLinkClicked},d),h.default.createElement("span",{className:"job-status inlined pull-right",
title:e},e)),h.default.createElement("div",{className:"schedule",title:k},k),h.default.createElement("div",{className:"last-run"},this.renderLastSuccessfulRun(a,this.props.jobSubView)))}}]);return d}(h.default.Component);a.propTypes={job:h.default.PropTypes.instanceOf(l.ElasticJobStatus).isRequired,metricName:h.default.PropTypes.string,jobSubView:h.default.PropTypes.string};a.defaultProps={metricName:"notebook"}},{"../jobs/ElasticJobStatus":89,"../notebook/SideMenu.jsx":193,"../user_platform/BrowserUtils":344,
react:1001}],192:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.ScheduleSideMenuView=void 0;var h=function(){function a(a,
b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("react");var b=c(l);l=a("jquery");var k=c(l),d=a("../clusters/SparkVersionUtils"),n=a("./SideMenu.jsx"),m=a("../filetree/PathNameUtils"),q=a("../jobs/CronSchedule.jsx"),w=a("../jobs/JobListView.jsx");l=a("../notebook/NotebookModel");l=c(l);var p=a("../notebook/ScheduleItemView.jsx"),
r=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx"),t=c(r),u=a("../user_platform/BrowserUtils");a=f.ScheduleSideMenuView=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.newSchedule=a.newSchedule.bind(a);a.handleCreateScheduleSuccess=
a.handleCreateScheduleSuccess.bind(a);a.handleCreateScheduleError=a.handleCreateScheduleError.bind(a);var b="/"+m.PathNameUtils.generatePathNamesFromPathIds(a.props.notebook.get("path"));a._isNotebookAttachedToJobBound=a._isNotebookAttachedToJob.bind(a,b);return a}e(c,a);h(c,[{key:"componentWillUnmount",value:function(){this._createXHR&&this._createXHR.abort()}},{key:"tags",value:function(){var a=this.props.notebook.tags();a.source="ScheduleSideMenu";return a}},{key:"_recordClick",value:function(a){var b=
u.BrowserUtils.getMeasurementTags(this.tags());b.eventType=a;window.recordEvent(this.props.metricName,b)}},{key:"handleCreateScheduleSuccess",value:function(){this._createXHR=void 0}},{key:"handleCreateScheduleError",value:function(a,b,c){this._createXHR=void 0;console.log("Create job error",a,b,c);"Connection failed"===a.statusText?t.default.alert("Schedule creation failed. Unable to connect to Jobs Service."):t.default.alert(a.statusText)}},{key:"createSchedule",value:function(a,b,c){a={notebookId:a,
cronExpr:b.quartzCronExpression,timeZone:b.timeZoneId,name:c||"Untitled",workers:null,memoryTotalMb:2*window.settings.defaultMemoryPerContainerMB,sparkVersion:d.SparkVersionUtils.getDefaultSparkVersion()};this._createXHR=k.default.ajax("/jobs/create",{type:"POST",data:JSON.stringify(a),success:this.handleCreateScheduleSuccess,error:this.handleCreateScheduleError})}},{key:"_createDialogConfirmHandler",value:function(){var a=this.props.notebook;this.createSchedule(a.get("id"),this._cronSchedule.value(),
a.get("name"));this._cronSchedule=void 0;this._recordClick("confirm-create-schedule")}},{key:"newSchedule",value:function(){var a=this;this._recordClick("create-schedule");var c=[b.default.createElement(q.CronSchedule,{ref:function(b){return a._cronSchedule=b}}),b.default.createElement("div",null,b.default.createElement("br",null),b.default.createElement("p",null,"A new cluster will be created each time this schedule runs. You can modify settings from the ",b.default.createElement("a",{href:"#joblist",
target:"_blank"},"Jobs page")," once the job is created."))];t.default.confirm({title:"Create Schedule",name:"create-schedule-dialog",message:c,confirmButton:"Ok",cancelButton:"Cancel",confirm:function(b){a._createDialogConfirmHandler(b)},cancel:function(){a._cronSchedule=void 0;a._recordClick("cancel-create-schedule")}})}},{key:"_isNotebookAttachedToJob",value:function(a,b){return!!b.get("jobActions").find(function(b){return b.notebookPath===a})}},{key:"render",value:function(){return b.default.createElement(n.SideMenu,
{addClass:"schedule-side-menu"},b.default.createElement(n.SideMenuSection,{addClass:"title-section"},b.default.createElement("h3",{className:"title inlined"},"Schedule job"),b.default.createElement("button",{onClick:this.newSchedule,title:"Create a job to run this notebook periodically",className:"btn btn-primary add-button title-action pull-right"},b.default.createElement("i",{className:"fa fa-fw fa-plus"})," New")),b.default.createElement("div",{className:"list-section"},b.default.createElement(w.JobList,
{filter:this._isNotebookAttachedToJobBound,renderWith:p.ScheduleItemView,jobSubView:this.props.jobSubView,metricName:this.props.metricName})))}}]);return c}(b.default.Component);a.propTypes={notebook:b.default.PropTypes.instanceOf(l.default).isRequired,metricName:b.default.PropTypes.string,jobSubView:b.default.PropTypes.string};a.defaultProps={metricName:"notebook"}},{"../clusters/SparkVersionUtils":50,"../filetree/PathNameUtils":73,"../jobs/CronSchedule.jsx":87,"../jobs/JobListView.jsx":94,"../notebook/NotebookModel":178,
"../notebook/ScheduleItemView.jsx":191,"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../user_platform/BrowserUtils":344,"./SideMenu.jsx":193,jquery:819,react:1001}],193:[function(a,l,f){function c(a){return h.default.createElement("div",{className:"side-menu"+(a.addClass?" "+a.addClass:"")},a.children)}function e(a){return h.default.createElement("div",{className:"side-menu-section"+(a.addClass?" "+a.addClass:"")},a.children)}Object.defineProperty(f,"__esModule",{value:!0});f.SideMenu=c;
f.SideMenuSection=e;var h=(a=a("react"))&&a.__esModule?a:{default:a};c.propTypes={addClass:h.default.PropTypes.string,children:h.default.PropTypes.node};e.propTypes={addClass:h.default.PropTypes.string,children:h.default.PropTypes.node}},{react:1001}],194:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(f,"__esModule",{value:!0});f.StreamStateUtils=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;
d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=a("lodash"),b=c(h),h=a("react"),k=c(h);a=a("../notebook/RichCommandError.jsx");var d=c(a),n=f.StreamStateUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}e(a,null,[{key:"isNonEmptyString",value:function(a){return b.default.isString(a)&&!b.default.isEmpty(a)}},{key:"isNonEmptyObject",value:function(a){return b.default.isObject(a)&&
!b.default.isEmpty(a)}},{key:"isValidSource",value:function(a){return this.isNonEmptyObject(a)&&this.isNonEmptyString(a.description)}},{key:"isValidSink",value:function(a){return this.isNonEmptyObject(a)&&this.isNonEmptyString(a.description)}}]);return a}(),m=k.default.createClass({displayName:"StreamSourceStateView",propTypes:{sourceState:k.default.PropTypes.object},render:function(){var a=this.props.sourceState;if(!n.isValidSource(a))return null;var b=void 0;n.isNonEmptyString(a.latestOffset)&&
(b=" - Last Offset: "+a.latestOffset);return k.default.createElement("div",{"data-source":a.description},a.description+b)}}),q=k.default.createClass({displayName:"StreamSinkStateView",propTypes:{sinkState:k.default.PropTypes.object},render:function(){var a=this.props.sinkState;if(!n.isValidSink(a))return null;var b=void 0;n.isNonEmptyString(a.latestOffset)&&(b=" - Last Offset: "+a.latestOffset);return k.default.createElement("div",null,k.default.createElement("b",null,"Sink:"),k.default.createElement("br",
null),a.description+b)}});f=k.default.createClass({displayName:"StreamStatusView",propTypes:{streamState:k.default.PropTypes.object},getInitialState:function(){return{collapsed:!0}},toggleCollapsed:function(){this.setState({collapsed:!this.state.collapsed})},renderSources:function(a){a=b.default.filter(a.sources,function(a){return n.isValidSource(a)});a=b.default.map(a,function(a,b){return k.default.createElement("li",null,k.default.createElement(m,{sourceState:a,key:b}))});return 0===a.length?k.default.createElement("div",
null,"Awaiting data..."):k.default.createElement("div",null,k.default.createElement("b",null,"Sources (",a.length,"):"),k.default.createElement("ul",null,a))},renderDetailToggle:function(){return k.default.createElement("div",{className:"pointer stream-details-toggle",onClick:this.toggleCollapsed},k.default.createElement("i",{className:this.state.collapsed?"fa fa-caret-right fa-fw":"fa fa-caret-down fa-fw"}),"Details")},render:function(){var a=this.props.streamState;if(!n.isNonEmptyObject(a)||!n.isNonEmptyString(a.name))return null;
var b=a.name,c=a.isActive?"ACTIVE":"TERMINATED",h=this.state.collapsed?null:this.renderSources(a),e=this.state.collapsed?null:k.default.createElement(q,{sinkState:a.sink}),m=void 0;n.isNonEmptyString(a.exception)&&(m=a.exception.trim().split("\n"),a=m[0],m=1<m.length?m.slice(1).join("\n"):"",m=k.default.createElement(d.default,{state:"error",parentCollapsed:!1,errorSummary:a,error:m}));return k.default.createElement("div",{className:"stream-status"},k.default.createElement("h3",null,"Stream: ",b),
k.default.createElement("div",null,"Status: ",c),this.renderDetailToggle(),k.default.createElement("div",{className:"stream-status-details"},h,e),m)}});l.exports=f},{"../notebook/RichCommandError.jsx":190,lodash:842,react:1001}],195:[function(a,l,f){function c(a){var c=a.model;a=a.tags;var d=c.updateCommand.bind(c),f=c.runCommand.bind(c);return h.default.createElement("div",{className:"command-result command-child"},h.default.createElement(k,e({},c.attributes,{tags:a,updateCommand:d,runCommand:f,
isChild:!0,isComplexResult:c.isComplexResult(),isParamQuery:c.isParamQuery()})),h.default.createElement(b,{parentCollapsed:c.get("collapsed"),state:c.get("state"),errorSummary:c.get("errorSummary")||"",error:c.get("error")||""}))}var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},h=(f=a("react"))&&f.__esModule?f:{default:f},b=a("../notebook/RichCommandError.jsx"),k=a("../notebook/CommandResult.jsx");
a=a("../notebook/NotebookCommandModel");c.propTypes={model:h.default.PropTypes.instanceOf(a).isRequired,tags:h.default.PropTypes.object};l.exports=c},{"../notebook/CommandResult.jsx":146,"../notebook/NotebookCommandModel":175,"../notebook/RichCommandError.jsx":190,react:1001}],196:[function(a,l,f){f=(f=a("backbone"))&&f.__esModule?f:{default:f};var c=a("../user_platform/BrowserUtils");a=f.default.Model.extend({initialize:function(){this.setIfMissing("x",0);this.setIfMissing("y",0);this.setIfMissing("width",
"auto");this.setIfMissing("height","auto");this.setIfMissing("guid",c.BrowserUtils.generateGUID())},setIfMissing:function(a,c){this.has(a)||this.set(a,c)},getCSSLength:function(a){a=this.get(a);return"auto"===a?"auto":a+"px"}});l.exports=a},{"../user_platform/BrowserUtils":344,backbone:407}],197:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("backbone");f=c(f);var b=a("../../notebook/InputWidget"),k=c(b),b=a("../../notebook/dashboards/BaseQuery"),
d=c(b),b=a("../../notebook/dashboards/BaseQueryView"),n=c(b),b=a("../../notebook/dashboards/Bindings"),m=c(b),b=a("../../notebook/dashboards/DashboardConstants"),q=c(b),b=a("../../notebook/dashboards/DataView"),w=c(b),b=a("../../notebook/dashboards/DataWidget"),p=c(b),b=a("../../notebook/dashboards/InputView"),r=c(b),b=a("../../notebook/NotebookUtilities"),t=c(b),b=a("../../ui_building_blocks/dialogs/DeprecatedDialogBox"),u=c(b),y=a("../../user_platform/BrowserUtils"),A=a("../../templates/dashboardRefreshControls.html"),
g=a("../../templates/dashboardToolbox.html"),v=a("../../templates/dashboardEditControls.html"),z=a("../../templates/dashboardBaseQueries.html"),B=a("../../templates/editViewDialog.html"),G=a("../../templates/editInputDialog.html");a=f.default.View.extend({initialize:function(a){this.editable=a.editable||!1;this.autoSubmit=a.autoSubmit||!1;this.publishMode=a.publishMode||!1;this.editMode=a.editMode||!1;this.parent=a.parent||null;this.viewClass=a.viewClass||null;this.isStatic=a.isStatic;this.isLocked=
a.isLocked;this.gridAreaWidth=800;this.gridAreaHeight=600;this.widgetArea=null;this.bindings=void 0;this.widgetViews=[];this.guidToWidgetView={};this.baseQueryArea=null;this.baseQueryViews=[];this.guidToBaseQueryView={};this.defaultBindings=a.bindings;this.clickToScrollTables=a.clickToScrollTables||!1;this.autoCenterImg=a.autoCenterImg||!1;this.autoScaleImg=a.autoScaleImg||!1;this.id=this.model.get("id");window.treeCollection&&window.treeCollection.get&&(a=window.treeCollection.get(this.model.get("id")))&&
this.id&&(this.name=a.get("name"));this.name=this.name||this.model.get("title");this.listenTo(this.model,"change:widgets",this.widgetsChanged);this.listenTo(this.model,"change:baseQueries",this.baseQueriesChanged);this.listenTo(this.model,"change:lastRefreshTime change:lastRefreshResult change:curRefreshStatus change:baseQueries",this.updateRefreshStatus);this.listenTo(this.model,"change:refreshInterval",this.refreshIntervalChanged);this.listenTo(this.model,"change:lastRefreshTime",this.refreshFinished);
this.listenTo(this.model,"change:baseQueries",this.showOrHideRefreshControls);this.listenTo(this.model,"destroy remove",this.modelDestroyed)},events:{"click .edit-mode-button":"toggleEditMode","click .publish-button":"launchPublishView","click .base-queries-tab":"openBaseQueriesTab","click .widgets-tab":"openWidgetsTab","click .delete-button":"onDeleteButton","click .clone-button":"onCloneButton","click .add-button":"fixAddMenu","click .add-input":"addInput","click .add-view":"addView","change .size-box":"changeSize",
"click .add-base-query":"addBaseQuery","change .refresh-interval":"changeRefreshIntervalDropdown","change .custom-interval-value":"changeCustomIntervalControls","change .custom-interval-units":"changeCustomIntervalControls","click .refresh-now-button":"triggerRefresh"},render:function(){var a=void 0,b=this;this.$el.html("");this.$el.addClass("dashboard");this.viewClass&&this.$el.addClass(this.viewClass);var c=this.model.get("width"),c=(0,e.default)("<div>").css({width:"auto"===c?"auto":c+"px",position:"relative",
"margin-top":this.editable?"12px":"0"});this.$el.append(c);this.editable&&(a=(0,e.default)(g()),c.append(a));(this.publishMode||this.editable)&&0<this.name.length&&c.append((0,e.default)("<h2>").text(this.name));if(this.editable){this.editControlsArea=(0,e.default)(v());c.append(this.editControlsArea);this.coordinatesBox=this.editControlsArea.find(".coordinates-box");this.baseQueryArea=(0,e.default)(z(this.model.toJSON()));c.append(this.baseQueryArea);this.baseQueryArea.hide();this.refreshIntervalChanged();
this.baseQueryArea.find(".queries").sortable({update:function(a,c){b.baseQueriesReordered(c.item)},delay:100});for(var d=this.model.get("baseQueries"),a=0;a<d.length;a++)this.addBaseQueryView(d[a])}this.widgetArea=(0,e.default)("<div>");this.editable&&(this.widgetArea.css({top:"0px",left:"0px",width:q.default.EDIT_MAX_BORDER_WIDTH+"px",height:q.default.EDIT_MAX_BORDER_HEIGHT+"px","background-color":"white",padding:"0px",position:"relative"}),b.updateGrid(b.gridAreaWidth,b.gridAreaHeight));c.append(this.widgetArea);
d=this.model.get("widgets");for(a=0;a<d.length;a++)this.addWidgetView(d[a]);this.refreshControlsArea=(0,e.default)(A());this.refreshControlsArea.css({position:"absolute",left:0,top:0});c.append(this.refreshControlsArea);this.updateRefreshStatus();setTimeout(h.default.bind(this.updateHeight,this),0);this.publishMode&&this.$(".dashboard-toolbox").hide();this.showOrHideRefreshControls();this.editable&&this.changeEditMode(this.editMode)},getTotalHeight:function(){return h.default.reduce(this.widgetViews.map(function(a){return a.getCurrentHeight()}),
function(a,b){return a+b})},isRefreshable:function(){return this.editable},modelChanged:function(){this.model.collection&&this.model.collection.url&&this.model.save(null,{error:function(a,b){t.default.handleRpcError(b,null,null,{confirmButton:"OK",confirm:function(){window.location.href="/"}})}})},modelDestroyed:function(){},widgetsChanged:function(){var a=this.model.get("widgets"),b={},c;for(c=0;c<a.length;c++)b[a[c].get("guid")]=a[c];var g=[],d;for(c=0;c<this.widgetViews.length;c++)d=this.widgetViews[c].model.get("guid"),
d in b?g.push(this.widgetViews[c]):(this.widgetViews[c].remove(),this.widgetViews[c].model instanceof k.default&&this.widgetViews[c].model.get("notebookNative")&&this.parent&&this.parent.parent.removeInputView(d));for(c=0;c<a.length;c++)d=a[c].get("guid"),d in this.guidToWidgetView||(b=this.createWidgetView(a[c]),g.push(b),b instanceof r.default&&b.model.get("notebookNative")&&this.parent&&this.parent.parent.addInputView(b),this.widgetArea.append(b.el));this.widgetViews=g;this.guidToWidgetView={};
for(c=0;c<g.length;c++)d=g[c].model.get("guid"),this.guidToWidgetView[d]=g[c];this.changeEditMode(this.editMode);this.updateHeight()},getBindings:function(){if(void 0===this.bindings){var a=this.model.get("defaultBindings")||{};this.bindings=this.defaultBindings||new m.default(a)}return this.bindings},createWidgetView:function(a){a=new ({input:r.default,data:w.default}[a.get("type")])({model:a,parent:this,bindings:this.getBindings(),editable:this.editable,autoSubmit:this.autoSubmit,clickToScrollTables:this.clickToScrollTables,
isStatic:this.isStatic,isLocked:this.isLocked,autoCenterImg:this.autoCenterImg,autoScaleImg:this.autoScaleImg});this.editable&&a.$el.css("z-index","10");a.render();"image"===a.model.get("displayType")&&a.$el.find("div.results").css({height:"inherit"});return a},addWidgetView:function(a){var b=this.createWidgetView(a);b instanceof r.default&&b.model.get("notebookNative")&&this.parent&&this.parent.parent.addInputView(b);this.widgetViews.push(b);this.guidToWidgetView[a.get("guid")]=b;this.widgetArea.append(b.el)},
updateHeight:function(){if(this.editable){for(var a=this.widgetViews,b=0,c=0;c<a.length;c++){var g=a[c].$el.position().top+a[c].$el.height();g>b&&(b=g)}this.widgetArea.height(Math.max(this.gridAreaHeight,b)+(this.editable?100:0));this.refreshControlsArea.css("top",b+65+"px")}},updateGrid:function(a,b){var c,g=q.default.GRID_STEP,d=this.widgetArea;a=parseInt(a,10);a-=a%g;b=parseInt(b,10);b-=b%g;d.css({width:a,height:b});this.$(".hline").remove();this.$(".vline").remove();for(var k=0;k<b+g;k+=g)c=(0,
e.default)("<div/>",{class:"hline"}),d.append(c),c.css({left:"0px",top:k+"px",width:a+"px",height:"0px",position:"absolute"});for(k=0;k<a+g;k+=g)c=(0,e.default)("<div/>",{class:"vline"}),d.append(c),c.css({left:k+"px",top:"0px",width:"0px",height:b+"px",position:"absolute"});this.gridAreaWidth=a;this.gridAreaHeight=b},toggleEditMode:function(a){a.preventDefault();this.changeEditMode(!this.editMode)},launchPublishView:function(a){a.preventDefault();window.open(document.location.href+"/publish","_blank")},
openBaseQueriesTab:function(a){a.preventDefault();this.editControlsArea.find("li").removeClass("active");this.editControlsArea.find(".base-queries-tab").closest("li").addClass("active");this.editControlsArea.find(".widget-edit-controls").hide();this.widgetArea.hide();this.baseQueryArea.show()},openWidgetsTab:function(a){a.preventDefault();this.editControlsArea.find("li").removeClass("active");this.editControlsArea.find(".widgets-tab").closest("li").addClass("active");this.editControlsArea.find(".widget-edit-controls").show();
this.widgetArea.show();this.baseQueryArea.hide()},onDeleteButton:function(a){a.preventDefault();var b=this;u.default.confirm({message:"Are you sure you want to remove this dashboard ("+this.name+"? This cannot be undone.",confirmButton:"Remove Dashboard",confirm:function(){b.model.destroy();window.router.navigate("",{trigger:!0});console.log("activeView:",window.activeView)}})},changeSize:function(){var a=this.$(".size-box").find(":selected").text(),b=a.slice(0,a.indexOf("x")),a=a.slice(a.indexOf("x")+
1);this.updateGrid(b,a)},changeEditMode:function(a){(this.editMode=a)?(this.$(".hline").show(),this.$(".vline").show(),this.$(".widget").resizable("enable").draggable("enable").addClass("editable"),this.$(".ui-resizable-handle").show(),this.$(".edit-mode-button").addClass("active"),this.coordinatesBox.text(""),this.editControlsArea.show(),this.editControlsArea.find(".base-queries-tab").closest("li").hasClass("active")&&(this.widgetArea.hide(),this.baseQueryArea.show())):(this.$(".hline").hide(),this.$(".vline").hide(),
this.$(".widget").resizable("disable").draggable("disable").removeClass("ui-state-disabled").removeClass("editable"),this.$(".ui-resizable-handle").hide(),this.$(".edit-mode-button").removeClass("active"),this.$(".widget").removeClass("glow"),this.$(".widget").removeClass("glow-drag"),this.$(".widget").removeClass("glow-dep"),this.editControlsArea.hide(),this.widgetArea.show(),this.baseQueryArea.hide(),this.$(".results").css({height:"100%",width:"100%"}));this.showOrHideRefreshControls()},fixAddMenu:function(a){a=
(0,e.default)(a.target).closest("a");var b=a.position(),c=this.$(".dropdown-menu");c.css("top",b.top+a.height()+6);c.css("left",b.left)},addView:function(a){a.preventDefault();var b=this,c=y.BrowserUtils.generateGUID(),g=(0,e.default)(B({guid:c,language:"sql",mode:"create",label:"",query:""}));g.on("hidden",function(){(0,e.default)(".modal-backdrop").remove();g.remove()});g.modal("show");g.find(".save-button").on("click",function(a){a.preventDefault();a=g.find(".input-label").val()||null;var d=g.find(".input-query").val()||
"",k=g.find(".language-select").val()||"SQL",h=t.default.getDisplayType(d);a=new p.default({guid:c,label:a||null,query:d,language:k,x:0,y:b.model.getNewWidgetY(),width:660,height:250,customizable:!0,displayType:h,downloadable:t.default.isDownloadable(h)});a=b.model.get("widgets").concat([a]);b.model.set("widgets",a);b.modelChanged();g.modal("hide");g.remove();(0,e.default)(".modal-backdrop").remove()})},addInput:function(a){a.preventDefault();var b=this;this.model.get("widgets").forEach(function(a){a.get("label")});
var c=y.BrowserUtils.generateGUID(),g=(0,e.default)(G({guid:c,mode:"create",label:"Input undefined",binding:"constundefined",controlType:"text",choices:[]}));a=function(){"text"===g.find(".input-control-type").val()?g.find(".choices-area").hide():g.find(".choices-area").show()};a();g.find(".input-control-type").change(a);g.on("hidden",function(){g.remove();(0,e.default)(".modal-backdrop").remove()});g.modal("show");g.find(".save-button").on("click",function(a){a.preventDefault();a=g.find(".input-label").val()||
null;var d=g.find(".input-binding").val()||"",h=g.find(".input-control-type").val(),m=g.find(".input-choices").val().split(",").map(function(a){return a.trim()});"text"===h&&(m=[]);a=new k.default({guid:c,label:a,binding:d,controlType:h,choices:m,x:0,y:b.model.getNewWidgetY(),width:660,height:"multiSelect"===h?120:40});a=b.model.get("widgets").concat([a]);b.model.set("widgets",a);b.modelChanged();g.modal("hide");g.remove();(0,e.default)(".modal-backdrop").remove()})},addBaseQueryView:function(a){var b=
this.createBaseQueryView(a);this.baseQueryViews.push(b);this.guidToBaseQueryView[a.get("guid")]=b;this.baseQueryArea.find(".queries").append(b.el)},createBaseQueryView:function(a){a=new n.default({model:a,parent:this,bindings:this.getBindings()});a.render();return a},baseQueriesChanged:function(){var a=this.model.get("baseQueries"),b={},c;for(c=0;c<a.length;c++)b[a[c].get("guid")]=a[c];var g=[],d;for(c=0;c<this.baseQueryViews.length;c++)d=this.baseQueryViews[c].model.get("guid"),d in b?g.push(this.baseQueryViews[c]):
this.baseQueryViews[c].remove();for(c=0;c<a.length;c++)d=a[c].get("guid"),d in this.guidToBaseQueryView||(d=this.createBaseQueryView(a[c]),g.push(d),this.baseQueryArea.find(".queries").append(d.el));this.baseQueryViews=g;this.guidToBaseQueryView={};for(c=0;c<g.length;c++)d=g[c].model.get("guid"),this.guidToBaseQueryView[d]=g[c];g=this.baseQueryArea.find(".queries");for(c=0;c<a.length;c++)d=a[c].get("guid"),this.guidToBaseQueryView[d].$el.appendTo(g)},baseQueriesReordered:function(a){var b=this.baseQueryArea.find(".queries").children().toArray();
console.log("domElements:",b);for(var c=Array(b.length),g=0;g<b.length;g++)for(var d=0;this.baseQueryViews.length;d++)if(this.baseQueryViews[d].el===b[g]){c[g]=this.baseQueryViews[d].model;break}this.model.set("baseQueries",c);this.modelChanged();a.find("textarea").focus()},addBaseQuery:function(){var a=new d.default,a=this.model.get("baseQueries").concat([a]);this.model.set("baseQueries",a);this.modelChanged();this.baseQueryArea.find("textarea:last").focus()},updateRefreshStatus:function(){var a=
"Never",b=!1,c=!1,g=this.model.get("lastRefreshResult");"success"===g?a=this.model.get("lastRefreshTime"):g&&(a=g,b=!0);this.model.get("curRefreshStatus")&&(a="In progress, last: "+a,c=!0);this.$(".last-refresh").text(a).toggleClass("error",b).toggleClass("in-progress",c)},refreshIntervalChanged:function(){if(this.baseQueryArea){var a=this.model.get("refreshInterval"),b=this.$(".refresh-interval");"manual"===a?(b.val("manual"),this.$(".custom-interval-controls").hide()):"custom"!==b.val()&&h.default.contains(["1h",
"3h","6h","24h"],a)?(b.val(a),this.$(".custom-interval-controls").hide()):(this.$(".custom-interval-controls").show(),b=a.slice(0,a.length-1),a=a.slice(a.length-1),this.$(".custom-interval-value").val(b),this.$(".custom-interval-units").val(a),this.$(".refresh-interval").val("custom"))}},changeRefreshIntervalDropdown:function(){var a=this.baseQueryArea.find(".refresh-interval").val();"custom"===a?(this.$(".custom-interval").show(),"manual"===this.model.get("refreshInterval")?(a="1h",this.$(".custom-interval-value").val(1),
this.$(".custom-interval-units").val("h")):(a=this.model.get("refreshInterval"),this.refreshIntervalChanged())):this.$(".custom-interval").hide();this.model.set({refreshInterval:a});this.model.save({refreshInterval:a},{patch:!0})},changeCustomIntervalControls:function(){var a=this.$(".custom-interval-value").val()+this.$(".custom-interval-units").val();this.model.set({refreshInterval:a});this.model.save({refreshInterval:a},{patch:!0})},showOrHideRefreshControls:function(){this.isRefreshable()?(this.$(".refresh-button").css("display",
"inline-block"),this.$(".schedule-controls").show(),this.$(".refresh-controls").show()):(this.$(".refresh-button").css("display","none"),this.$(".schedule-controls").hide(),this.$(".refresh-controls").hide());this.editMode&&this.$(".refresh-controls").hide()},triggerRefresh:function(a){a.preventDefault();a=function(){e.default.ajax("/dashboardRuns/"+this.model.get("id"),{type:"PUT",contentType:"application/json; charset=UTF-8",data:{}})}.bind(this);this.model.get("curRefreshStatus")?u.default.confirm({message:"A refresh is already in progress (status: "+
this.model.get("curRefreshStatus")+"); cancel it to do a new one?",confirm:a}):a()},refreshFinished:function(){if("success"===this.model.get("lastRefreshResult")){console.log("Dashboard data refreshed, updating data views");for(var a=0;a<this.widgetViews.length;a++){var b=this.widgetViews[a];b instanceof w.default&&b.submitQuery()}}},onCloneButton:function(a){a.preventDefault();var b=this;u.default.prompt({message:"What is the name for the new dashboard",confirmButton:"Clone Dashboard",confirm:function(a){var c=
b.model.toJSON();delete c.id;c.name=a;c.title=a;window.treeCollection.create(c,{wait:!0,success:function(a){window.router.navigate("dashboard/"+a.get("id"),{trigger:!0})}})}})}});l.exports=a},{"../../notebook/InputWidget":171,"../../notebook/NotebookUtilities":179,"../../notebook/dashboards/BaseQuery":203,"../../notebook/dashboards/BaseQueryView":204,"../../notebook/dashboards/Bindings":205,"../../notebook/dashboards/DashboardConstants":208,"../../notebook/dashboards/DataView":218,"../../notebook/dashboards/DataWidget":219,
"../../notebook/dashboards/InputView":220,"../../templates/dashboardBaseQueries.html":270,"../../templates/dashboardEditControls.html":272,"../../templates/dashboardRefreshControls.html":273,"../../templates/dashboardToolbox.html":274,"../../templates/editInputDialog.html":277,"../../templates/editViewDialog.html":278,"../../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../../user_platform/BrowserUtils":344,backbone:407,jquery:819,underscore:1021}],198:[function(a,l,f){Object.defineProperty(f,
"__esModule",{value:!0});f.DisplayTypeUtils=void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var k=c[b];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(a,k.key,k)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("lodash"))&&a.__esModule?a:{default:a};f.DisplayTypeUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"computeDisplayType",
value:function(b,c,d){return d?d:null===c?b:"table"!==c||"markdown"===b||"html"===b||"image"===b||a.isMLSpecificDisplayType(b)?c:b}},{key:"isMLSpecificDisplayType",value:function(a){return e.default.contains(["ROC"],a)}}]);return a}()},{lodash:842}],199:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("react");var b=c(f);a("../../../lib/jquery-ui-bundle");a=b.default.createClass({displayName:"LargeOutputWrapper",propTypes:{lockParentScrollEnabled:b.default.PropTypes.bool,
scrollableParentSelector:b.default.PropTypes.string,resizeEnabled:b.default.PropTypes.bool,defaultWrapperHeight:b.default.PropTypes.number,minWrapperHeight:b.default.PropTypes.number,enabled:b.default.PropTypes.bool,children:b.default.PropTypes.node},getDefaultProps:function(){return{lockParentScrollEnabled:!0,scrollableParentSelector:"#content",enabled:!0,resizeEnabled:!0,defaultWrapperHeight:400,minWrapperHeight:100}},getInitialState:function(){return{showWrapper:!1,childFocused:!1}},componentDidMount:function(){this.props.enabled&&
(this.checkSizeAndSetWrapper(),(0,e.default)(window).on("resize",this.checkSizeAndSetWrapper))},componentDidUpdate:function(){this.props.enabled?this.checkSizeAndSetWrapper():(0,e.default)(window).off("resize",this.checkSizeAndSetWrapper)},componentWillUnmount:function(){(0,e.default)(window).off("resize",this.checkSizeAndSetWrapper)},getParentHeight:function(){return(0,e.default)(this.props.scrollableParentSelector).height()},getChildHeight:function(){return(0,e.default)(this.refs.child).height()},
checkSizeAndSetWrapper:function(){if(this.props.enabled&&this.isMounted()){var a=this.getParentHeight(),b=this.getChildHeight();b<.8*a&&this.state.showWrapper&&this.setState({showWrapper:!1});b>.8*a&&!this.state.showWrapper&&this.setState({showWrapper:!0});this.state.showWrapper&&this.setWrapper()}},setWrapper:function(){if(this.state.showWrapper){var a=(0,e.default)(this.refs.resizableWrapper),b=(0,e.default)(this.refs.child).height(),c=(0,e.default)(this.props.scrollableParentSelector).height();
if(this.props.resizeEnabled){var m=(0,e.default)(this).parent().width();a.width(m);a.resizable({handles:"se",minHeight:this.props.minWrapperHeight,maxHeight:h.default.min([b,.8*c]),minWidth:m,maxWidth:m})}}},getChildWithRef:function(){var a=b.default.Children.only(this.props.children);return b.default.cloneElement(a,{ref:"child"})},onFocus:function(){this.setState({childFocused:!0})},onBlur:function(){this.setState({childFocused:!1})},onMouseLeave:function(){(0,e.default)(this.refs.noscrollWrapper).blur();
this.setState({childFocused:!1})},onKeyUp:function(a){27===a.which&&((0,e.default)(this.refs.noscrollWrapper).blur(),this.setState({childFocused:!1}))},render:function(){var a=this.getChildWithRef(),c=this.state.childFocused&&this.props.lockParentScrollEnabled;return this.state.showWrapper?(c?(0,e.default)(this.props.scrollableParentSelector).addClass("lock-scroll"):(0,e.default)(this.props.scrollableParentSelector).removeClass("lock-scroll"),b.default.createElement("div",{ref:"resizableWrapper",
className:"resizable-wrapper",style:{height:this.props.defaultWrapperHeight},onKeyUp:this.onKeyUp,onMouseLeave:this.onMouseLeave},b.default.createElement("div",{ref:"noscrollWrapper",className:"noscroll-wrapper"+(this.state.childFocused?"":" noscroll"),tabIndex:"-1",onFocus:this.onFocus,onBlur:this.onBlur},b.default.createElement("div",{className:"inner"},[a])))):a}});l.exports=a},{"../../../lib/jquery-ui-bundle":402,jquery:819,react:1001,underscore:1021}],200:[function(a,l,f){function c(a){return a&&
a.__esModule?a:{default:a}}f=a("sanitize-html");var e=c(f);f=a("../../notebook/commands/RenderMath");var h=c(f);a=a("../../../lib/marked.min");var b=c(a),k={allowedTags:"h3 h4 h5 h6 blockquote p a ul ol nl li b i strong em strike code hr br div table thead caption tbody tr th td pre img tt font h1 h2".split(" "),allowedAttributes:{a:["href","name","target"],img:["src","width","height"],"*":["style"]},selfClosing:"img br hr area base basefont input link meta".split(" "),allowedSchemes:["http","https",
"ftp","mailto"],allowedSchemesByTag:{}},d=!1;a=function(a){this.elem=a;d||(b.default.setOptions({sanitize:!(window.settings&&window.settings.sanitizeMarkdownHtml),headerPrefix:"databricks-markdown-header-"}),d=!0)};a.prototype.render=function(a){null!==a&&void 0!==a&&(this.elem.html(this.renderToString(a)),(0,h.default)(this.elem[0]))};a.prototype.renderToString=function(a){var c=window.settings&&window.settings.sanitizeMarkdownHtml;if(null!==a&&void 0!==a)return a=0<a.length&&"%md"===a.trim().split(/\s/)[0]?
a.replace(/^\s*%md/,""):a,a=(0,b.default)(a),c?(0,e.default)(a,k):a};l.exports=a},{"../../../lib/marked.min":405,"../../notebook/commands/RenderMath":201,"sanitize-html":1017}],201:[function(a,l,f){var c=a("./SplitAtDelimiters.js"),e=a("katex"),h=function n(a,b,k){for(var h=0;h<a.childNodes.length;h++){var m=a.childNodes[h];if(3===m.nodeType){var f;f=b;for(var q=[{type:"text",data:m.textContent}],y=0;y<f.length;y++)var w=f[y],q=c(q,w.left,w.right,w.display||!1);f=q;q=document.createDocumentFragment();
for(y=0;y<f.length;y++)if("text"===f[y].type)q.appendChild(document.createTextNode(f[y].data));else{var w=document.createElement("span"),g=f[y].data;try{e.render(g,w,{displayMode:f[y].display})}catch(v){if(!(v instanceof e.ParseError))throw v;console.error("KaTeX auto-render: Failed to parse `"+f[y].data+"` with ",v);q.appendChild(document.createTextNode(f[y].rawData));continue}q.appendChild(w)}f=q;h+=f.childNodes.length-1;a.replaceChild(f,m)}else 1===m.nodeType&&-1===k.indexOf(m.nodeName.toLowerCase())&&
n(m,b,k)}},b=[{left:"$$",right:"$$",display:!0},{left:"\\[",right:"\\]",display:!0},{left:"\\(",right:"\\)",display:!1}],k="script noscript style textarea pre code".split(" ");l.exports=function(a){if(!a)throw Error("No element provided to render");h(a,b,k)}},{"./SplitAtDelimiters.js":202,katex:820}],202:[function(a,l,f){l.exports=function(a,e,h,b){for(var c=[],d=0;d<a.length;d++)if("text"===a[d].type){var n=a[d].data,m=!0,f=0,w;w=n.indexOf(e);-1!==w&&(f=w,c.push({type:"text",data:n.slice(0,f)}),
m=!1);for(;;){if(m){w=n.indexOf(e,f);if(-1===w)break;c.push({type:"text",data:n.slice(f,w)});f=w}else{a:{w=h;for(var p=n,r=f+e.length,t=0,u=w.length;r<p.length;){var y=p[r];if(0>=t&&p.slice(r,r+u)===w){w=r;break a}else"\\"===y?r++:"{"===y?t++:"}"===y&&t--;r++}w=-1}if(-1===w)break;c.push({type:"math",data:n.slice(f+e.length,w),rawData:n.slice(f,w+h.length),display:b});f=w+h.length}m=!m}c.push({type:"text",data:n.slice(f)})}else c.push(a[d]);return c}},{}],203:[function(a,l,f){f=(f=a("backbone"))&&
f.__esModule?f:{default:f};var c=a("../../user_platform/BrowserUtils");a=f.default.Model.extend({initialize:function(){this.set("command",this.get("command")||"");this.set("type",this.get("type")||"sql");this.has("guid")||this.set("guid",c.BrowserUtils.generateGUID())}});l.exports=a},{"../../user_platform/BrowserUtils":344,backbone:407}],204:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("backbone");f=c(f);var h=a("../../templates/dashboardBaseQuery.html"),
b=c(h);a=a("../../ui_building_blocks/dialogs/DeprecatedDialogBox");var k=c(a);a=f.default.View.extend({initialize:function(a){this.parent=a.parent;this.listenTo(this.model,"change:command",this.modelCommandChanged);this.listenTo(this.model,"change:type",this.modelTypeChanged);this.listenTo(this.model,"change",this.modelChanged)},modelChanged:function(){var a=this;setTimeout(function(){a.parent.modelChanged()},0)},events:{"click .delete-query-button":"removeFromDashboard","change .command-box":"localCommandChanged",
"blur .command-box":"localCommandChanged","change .command-type":"localTypeChanged"},render:function(){this.$el.html((0,b.default)({model:this.model.toJSON()}))},removeFromDashboard:function(a){a.preventDefault();var b=function(){var a=this.parent.model;a.set("baseQueries",e.default.without(a.get("baseQueries"),this.model));this.model.destroy();this.parent.baseQueryViews=e.default.without(this.parent.baseQueryViews,this);delete this.parent.guidToBaseQueryView[this.model.get("guid")];this.parent.modelChanged();
this.remove()}.bind(this);a.shiftKey?b():k.default.confirm({message:"Are you sure you want to delete this query?",confirm:b})},localCommandChanged:function(){this.model.set("command",this.$(".command-box").val())},localTypeChanged:function(){this.model.set("type",this.$(".command-type").val())},modelCommandChanged:function(){this.$(".command-box").val(this.model.get("command"))},modelTypeChanged:function(){this.$(".command-type").val(this.model.get("type"))}});l.exports=a},{"../../templates/dashboardBaseQuery.html":271,
"../../ui_building_blocks/dialogs/DeprecatedDialogBox":297,backbone:407,underscore:1021}],205:[function(a,l,f){a=a("backbone");a=(a&&a.__esModule?a:{default:a}).default.Model.extend({});l.exports=a},{backbone:407}],206:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("../../forms/ReactFormElements.jsx");f=c(f);var h=a("../../forms/ReactFormFooter.jsx"),b=c(h),h=a("../../notebook/dashboards/DashboardElementModel"),h=c(h),k=a("../../notebook/ButtonBar.jsx"),
d=c(k),k=a("../../notebook/dashboards/DashboardViewConstants.js"),n=c(k),k=a("../../ui_building_blocks/dialogs/ReactModal.jsx"),m=c(k);a=a("../../ui_building_blocks/dialogs/ReactModalUtils");var q=c(a),w=f.default.Input,p=f.default.LabeledCheckbox;a=e.default.createClass({displayName:"ConfigureDashboardElementDialog",propTypes:{element:e.default.PropTypes.instanceOf(h.default).isRequired},componentDidMount:function(){this.props.element.on("change",function(){this.isMounted()&&this.forceUpdate()}.bind(this),
this)},componentWillUnmount:function(){this.props.element.off(null,null,this)},getInitialState:function(){return{originalOptions:this.props.element.getOptions(),titleError:!1,confirmed:!1}},_validateTitle:function(a){if(a.length>n.default.MAX_ELEMENT_TITLE_LENGTH)return this.setState({titleError:!0}),!1;this.setState({titleError:!1});return!0},_onTitleAlignChange:function(a,b){this.props.element.setLocalOptions({titleAlign:a},b)},_confirm:function(){this.setState({confirmed:!0});this.props.element.saveLocalOptions(function(){q.default.destroyModal()})},
_cancel:function(){this.state.confirmed||this.props.element.updateOptions(this.state.originalOptions,function(){q.default.destroyModal()})},_showRunButton:function(a,b){this.props.element.setLocalOptions({showRunButton:b.target.checked})},_onShowTitleChanged:function(a,b){this.props.element.setLocalOptions({showTitle:b.target.checked})},_onTitleChanged:function(a){this.props.element.setLocalOptions({title:a})},render:function(){var a=this.props.element.getOptions(),c=e.default.createElement("span",
{className:"warning-font title-error"},"Maximum ",n.default.MAX_ELEMENT_TITLE_LENGTH," characters."),a=e.default.createElement("div",null,e.default.createElement(p,{label:"Show Title",checkboxClassName:"show-title-checkbox",onChange:this._onShowTitleChanged,defaultChecked:a.showTitle}),e.default.createElement(w,{ref:"titleInput",disabled:a.showTitle?null:!0,defaultValue:a.title,onChange:this._onTitleChanged,validate:this._validateTitle,placeholder:"Untitled",inputClassName:"dashboard-element-title-input"}),
e.default.createElement(d.default,{className:"title-align-config",disabled:!a.showTitle,defaultValue:a.title,buttons:{left:"left",center:"center",right:"right"},useIcons:!0,defaultActiveBtnKey:a.titleAlign?a.titleAlign:"center",onChange:this._onTitleAlignChange}),e.default.createElement("div",{className:"error-wrapper"},this.state.titleError?c:null),e.default.createElement(p,{label:"Show Run button",checkboxClassName:"show-run-btn-checkbox",onChange:this._showRunButton,defaultChecked:a.showRunButton})),
c=e.default.createElement(b.default,{confirm:this._confirm,confirmButton:"Save",confirmDisabled:this.state.titleError,closeOnConfirm:!1,cancel:this._cancel});return e.default.createElement(m.default,{onHide:this._cancel,header:e.default.createElement("h3",null,"Configure Dashboard Element"),body:a,footer:c,modalName:"configure-dashboard-element-modal"})}});l.exports=a},{"../../forms/ReactFormElements.jsx":81,"../../forms/ReactFormFooter.jsx":82,"../../notebook/ButtonBar.jsx":135,"../../notebook/dashboards/DashboardElementModel":210,
"../../notebook/dashboards/DashboardViewConstants.js":215,"../../ui_building_blocks/dialogs/ReactModal.jsx":299,"../../ui_building_blocks/dialogs/ReactModalUtils":300,react:1001}],207:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("backbone");var h=c(f);f=a("../../acl/AclModelMixin");f=c(f);var b=a("../../acl/WorkspacePermissions"),k=c(b),b=a("../../notebook/InputWidget"),d=c(b),b=a("../../notebook/dashboards/BaseQuery"),n=c(b);a=a("../../notebook/dashboards/DataWidget");
var m=c(a);a=h.default.Model.extend({initialize:function(){this.set("defaultBindings",this.get("defaultBindings")||{});this.set("title",this.get("title")||"");this.set("widgets",this.get("widgets")||[]);this.set("width",this.get("width")||"auto");this.set("lastRefreshTime",this.get("lastRefreshTime")||null);this.set("lastRefreshResult",this.get("lastRefreshResult")||null);this.set("curRefreshStatus",this.get("curRefreshStatus")||null);this.set("refreshInterval",this.get("refreshInterval")||"manual");
this.set("baseQueries",this.get("baseQueries")||[])},getName:function(){return this.get("title")},getNewWidgetY:function(){var a=e.default.max(this.get("widgets").map(function(a){return parseInt(a.get("y"),10)+parseInt(a.get("height"),10)}));return-Infinity===a?0:a+10},parse:function(a){if(""===a)return"";"widgets"in a&&(a.widgets=a.widgets.map(function(a){return"input"===a.type?new d.default(a):new m.default(a)}));"baseQueries"in a&&(a.baseQueries=a.baseQueries.map(function(a){return new n.default(a)}));
return a},set:function(a,b,c){var d=b;"string"===typeof a&&(d=a,a={},a[d]=b,d=c);d=d||{};if("widgets"in a){var k=this.get("widgets");c={};if(k)for(b=0;b<k.length;b++)c[k[b].get("guid")]=k[b];k=a.widgets;for(b=0;b<k.length;b++){var e=k[b],m=c[e.get("guid")];m&&(m.set(e.toJSON(),{silent:!0}),k[b]=m)}}if("baseQueries"in a){k=this.get("baseQueries");c={};if(k)for(b=0;b<k.length;b++)c[k[b].get("guid")]=k[b];k=a.baseQueries;for(b=0;b<k.length;b++)if(e=k[b],m=c[e.get("guid")])m.set(e.toJSON()),k[b]=m}return h.default.Model.prototype.set.call(this,
a,d)},getAclObjectType:function(){return k.default.WORKSPACE_TYPE},getAclObjectId:function(){return this.id}});e.default.extend(a.prototype,f.default);l.exports=a},{"../../acl/AclModelMixin":1,"../../acl/WorkspacePermissions":10,"../../notebook/InputWidget":171,"../../notebook/dashboards/BaseQuery":203,"../../notebook/dashboards/DataWidget":219,backbone:407,underscore:1021}],208:[function(a,l,f){l.exports={GRID_STEP:10,EDIT_MAX_BORDER_WIDTH:1200,EDIT_MAX_BORDER_HEIGHT:1600,EDIT_BORDER_WEIGHT:4,OPTION_BUTTON_HEIGHT:32,
OVERFLOW_HEIGHT:20,SIDEBAR_WIDGET_HEIGHT:200,SIDEBAR_WIDGET_WIDTH:200,SIDEBAR_GRID_OFFSET:8,PRESENTATION_BOTTOM_RIGHT_MARGIN:10,WIDGET_RESIZE_HANDLE_WIDTH:5,WIDGET_RESIZE_HANDLE_HEIGHT:5,MIN_WIDGET_WIDTH:20,MIN_WIDGET_HEIGHT:20}},{}],209:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("classnames");var h=c(f);f=a("../../clusters/ClusterList");f=c(f);var b=a("../../notebook/ContextBarView.jsx"),k=c(b),b=a("../../notebook/dashboards/DashboardLayoutView.jsx"),
d=c(b),b=a("../../notebook/dashboards/DashboardSideMenuView.jsx"),n=c(b),b=a("../../notebook/dashboards/DashboardViewMixin.jsx"),b=c(b),m=a("../../notebook/FetchErrorPanel.jsx"),q=a("../../notebook/NotebookConstants"),w=c(q),q=a("../../notebook/NotebookModel"),q=c(q),p=a("../../notebook/ScheduleSideMenuView.jsx"),r=a("../../urls/DbGuideLinks"),t=c(r),u=a("../../urls/ResourceUrls");a=e.default.createClass({displayName:"DashboardEditView",propTypes:{clusters:e.default.PropTypes.instanceOf(f.default).isRequired,
notebook:e.default.PropTypes.instanceOf(q.default).isRequired,dashboardId:e.default.PropTypes.string.isRequired},mixins:[b.default],getInitialState:function(){return{visibleSideMenu:""}},populateDashboard:function(){this.state.dashboard&&(this.setContentLoading(!0),this.state.dashboard.populateElements(function(){this.setContentLoading(!1)}.bind(this)))},showRunCommandError:function(a){this.refs.contextBar.showRunCommandHighlight(a.errorType[0])},onNotebookMessage:function(a){a.type===w.default.message.RUN_ERROR&&
this.showRunCommandError(a.data)},_getEmptyHint:function(a,b){var c=encodeURI(t.default.VISUALIZATIONS_URL);if(b.isEmpty()&&0<a.plottableCommandNUIDs().length)return e.default.createElement("div",{className:"empty-dashboard-hint"},"Dashboard is currently empty. You can ",e.default.createElement("a",{onClick:this.populateDashboard},"Import All Graphs")," from notebook, or import individual command from ",e.default.createElement("a",{href:"#notebook/"+a.id}," Notebook view"),".");if(0===a.plottableCommandNUIDs().length)return e.default.createElement("div",
{className:"empty-dashboard-hint"},"Dashboard is currently empty. You can start by ",e.default.createElement("a",{href:c,target:"_blank"},"creating some data visualizations")," in your ",e.default.createElement("a",{href:"#notebook/"+a.id,target:"_blank"},"notebook."))},toggleSideMenu:function(a){this.state.visibleSideMenu===a?this.setState({visibleSideMenu:""}):this.setState({visibleSideMenu:a})},removeAllElements:function(){this.refs.layoutView&&this.refs.layoutView.removeAllElementsAtOnce()},renderSideMenu:function(a,
b){switch(a){case "schedule":return e.default.createElement(p.ScheduleSideMenuView,{ref:"scheduleSideMenu",notebook:this.props.notebook,metricName:"dashboard",jobSubView:"dashboard/"+this.state.dashboard.get("nuid")});default:return e.default.createElement(n.default,{ref:"sideMenu",dashboard:this.state.dashboard,permissionLevel:b,removeAllElements:this.removeAllElements})}},render:function(){var a=this,b=this.props.notebook,c=this.state.dashboard;if(b.notebookFetchError())return e.default.createElement(m.FetchErrorPanel,
{error:b.notebookFetchError()});var n=this.getPermissionLevel(),f=void 0;if(this.dashboardModelReady())var f={width:c.getDashboardWidth()+"px"},q={"dashboard-edit-view":!0,"dashboard-loading":this.state.showSpinner},f=e.default.createElement("div",{id:"content",className:(0,h.default)(q)},e.default.createElement("img",{className:"load-spinner",src:"../img/spinner.svg"}),this.renderSideMenu(this.state.visibleSideMenu,n),e.default.createElement("div",{className:"dashboard-view-wrapper",style:f},this._getEmptyHint(b,
c),e.default.createElement("div",{className:"dashboard-layout-view-wrapper"},e.default.createElement(d.default,{ref:"layoutView",permissionLevel:n,setContentLoading:this.setContentLoading,dashboard:this.state.dashboard}))));else f=e.default.createElement("div",{id:"content",className:"dashboard-loading"},e.default.createElement("img",{className:"load-spinner",src:u.ResourceUrls.getResourceUrl("img/spinner.svg")}));return e.default.createElement("div",null,e.default.createElement(k.default,{ref:"contextBar",
model:b,clusters:this.props.clusters,currentDashboardId:this.props.dashboardId,isExampleNotebook:b.get("isExample"),displayMode:"dashboardView",permissionLevel:n,toggleSchedule:function(){a.toggleSideMenu("schedule")},showSchedule:"schedule"===this.state.visibleSideMenu}),f)}});l.exports=a},{"../../clusters/ClusterList":32,"../../notebook/ContextBarView.jsx":156,"../../notebook/FetchErrorPanel.jsx":160,"../../notebook/NotebookConstants":176,"../../notebook/NotebookModel":178,"../../notebook/ScheduleSideMenuView.jsx":192,
"../../notebook/dashboards/DashboardLayoutView.jsx":212,"../../notebook/dashboards/DashboardSideMenuView.jsx":214,"../../notebook/dashboards/DashboardViewMixin.jsx":216,"../../urls/DbGuideLinks":320,"../../urls/ResourceUrls":322,classnames:411,react:1001}],210:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("backbone");f=c(f);a=a("../../notebook/dashboards/DashboardViewConstants");var h=c(a);a=f.default.Model.extend({displayWidth:function(){return this.gridWidth()*
this.dashboard().displayColumnWidth()-14},displayHeight:function(){return this.gridHeight()*this.dashboard().displayCellHeight()+h.default.CELL_VERTICAL_MARGIN*(this.gridHeight()-1)-8},gridHeight:function(){var a=this.get("position");return a&&a.height?a.height:h.default.DEFAULT_ELEMENT_HEIGHT},gridWidth:function(){var a=this.get("position");return a&&a.width?a.width:h.default.DEFAULT_ELEMENT_WIDTH},dashboard:function(){return this.get("dashboard")},notebook:function(){return this.dashboard().notebook()},
elementNUID:function(){return this.get("elementNUID")},getCommandModel:function(){return this.notebook().commandByNUID(this.elementNUID())},updateOptions:function(a,c){this.dashboard().updateElementOptions(this.get("guid"),a,c)},saveLocalOptions:function(a){this.dashboard().updateElementOptions(this.get("guid"),this.get("options"),a)},setLocalOptions:function(a,c){this.set("options",e.default.defaults(a,this.get("options")));c&&c()},_getCommandTitleAsDefaultOption:function(){var a=this.getCommandModel();
return a&&a.get("showCommandTitle")&&!a.isMarkdownCommand()?{title:a.getTitle(),showTitle:!0}:{showTitle:!1}},getOptions:function(){var a=e.default.defaults(this.get("options")||{},h.default.DEFAULT_ELEMENT_OPTIONS);void 0===a.showTitle&&(a=e.default.extend(a,this._getCommandTitleAsDefaultOption()),this.setLocalOptions(a));return a},getOption:function(a){return this.getOptions()[a]},tags:function(){var a=this.dashboard().tags();e.default.extend(a,this.getCommandModel().tags());a.source="DashboardElementModel";
return a}});l.exports=a},{"../../notebook/dashboards/DashboardViewConstants":215,backbone:407,underscore:1021}],211:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};f=a("underscore");var h=c(f);f=a("react");var b=c(f);f=a("../../acl/WorkspacePermissions");var k=c(f);f=a("./ConfigureDashboardElementDialog.jsx");var d=
c(f);f=a("./DashboardElementModel.js");f=c(f);var n=a("./Scalar.jsx"),m=c(n),n=a("../../notebook/CommandResult.jsx"),q=c(n),n=a("../../notebook/dashboards/DashboardViewConstants.js"),w=c(n),n=a("../../ui_building_blocks/dialogs/ReactDialogBox.jsx"),p=c(n),n=a("../../ui_building_blocks/dialogs/ReactModalUtils.js"),r=c(n),n=a("../../ui_building_blocks/icons/IconsForType.js"),t=c(n),u=a("../../urls/ResourceUrls");a=b.default.createClass({displayName:"DashboardElementView",propTypes:{element:b.default.PropTypes.instanceOf(f.default).isRequired,
static:b.default.PropTypes.bool.isRequired,removeElement:b.default.PropTypes.func.isRequired,permissionLevel:b.default.PropTypes.string},tags:function(){var a=this.props.element.tags();a.source="DashboardElementView";return a},componentDidMount:function(){var a=this,b=this.props.element.getCommandModel(),c=h.default.throttle(function(){a.isMounted()&&a.forceUpdate()},200);b.on("change",c);this.props.element.on("change",c)},_getCommandUrl:function(){var a=this.props.element.notebook().id,b=this.props.element.getCommandModel().id;
return"#notebook/"+a+"/command/"+b},_runCommand:function(a){var b=this.tags();b.eventType="dashboardElementRun";window.recordEvent("dashboardElement",b);this.props.element.getCommandModel().runCommand(a)},_updateCommand:function(a){this.props.element.getCommandModel().updateCommand(a)},_onClickGoToCommandFromError:function(){var a=this.tags();a.eventType="goToCommandFromError";a.source="DashboardElementView";window.recordEvent("dashboardElement",a)},_generateErrorMessage:function(a){var c=b.default.createClass({displayName:"ErrorComponent",
propTypes:{showRunButton:b.default.PropTypes.bool.isRequired,commandUrl:b.default.PropTypes.string.isRequired},render:function(){return b.default.createElement("div",{className:"command-error-notice"+(this.props.showRunButton?" has-run-button":""),ref:"error"},b.default.createElement("i",{className:"fa fa-"+t.default.error}),b.default.createElement("span",{className:"command-error-text"},"Error running command. "),b.default.createElement("a",{href:this.props.commandUrl,className:"error-notebook-nav",
onClick:this._onClickGoToCommandFromError},"Go to command",b.default.createElement("i",{className:"fa fa-"+t.default.navigate})))}});return b.default.createElement(c,{showRunButton:a,commandUrl:this._getCommandUrl()})},getContentHeight:function(){return this.refs.commandResult?this.refs.commandResult.getContentHeight():null},_generateDashboardElement:function(){var a=this.props.element,c=a.getCommandModel(),d=this._showTitle()?w.default.ELEMENT_TITLE_HEIGHT:0,k=h.default.keys(c.get("bindings")||{}).length*
w.default.INPUT_WIDGET_HEIGHT,d=a.displayHeight()-d-k,k=a.getOptions().scale,n=w.default.SCALAR_BASE,n=a.displayWidth()/Math.pow(n,k);return b.default.createElement(m.default,{scale:k},b.default.createElement(q.default,e({ref:"commandResult"},c.attributes,{tags:this.tags(),resizable:!1,collapsed:!1,width:n.toString(),height:d.toString(),hidePlotControls:!0,enablePointerEvents:this.props.static,enableLargeOutputWrapper:!1,downloadable:!1,autoCenterImg:!0,permissionLevel:this.props.permissionLevel,
updateCommand:this._updateCommand,runCommand:this._runCommand,autoScaleImg:a.getOption("autoScaleImg"),isComplexResult:c.isComplexResult(),isParamQuery:c.isParamQuery()})))},shouldShowRunButton:function(a){var b=k.default.canRun(this.props.permissionLevel);return a.showRunButton&&b},getRunButtonOrSpinner:function(a,c){return a.get("running")?b.default.createElement("div",{className:"spinner-wrapper"},b.default.createElement("img",{className:"dashboard-element-spinner",title:"Command is running..",
src:u.ResourceUrls.getResourceUrl("img/spinner.svg")})):this.shouldShowRunButton(c)?b.default.createElement("span",{className:"run-btn-wrapper"},b.default.createElement("a",{title:"Re-run the command",className:"run-btn"},b.default.createElement("i",{className:"fa fa-"+t.default.refresh,onClick:this._runCommand}))):null},_showTitle:function(){var a=this.props.element.getOptions();return a.showTitle&&!h.default.isEmpty(a.title)},render:function(){var a=this.props.element.getCommandModel(),c=this.props.element.getOptions(),
d=b.default.createElement("h2",{className:"dashboard-element-title "+c.titleAlign},this.props.element.getOptions().title),k;k=!a.get("error")&&!a.get("errorSummary")||a.get("results")?this._generateDashboardElement():this._generateErrorMessage(c.showRunButton);return b.default.createElement("div",{className:"dashboard-element-wrapper"},b.default.createElement("div",{className:"run-btn-title-wrapper"+(this._showTitle()?" show-title":" no-title")},this.getRunButtonOrSpinner(a,c),this._showTitle()?d:
null),b.default.createElement(y,e({},this.props,{commandUrl:this._getCommandUrl(),ref:"elementViewButtons"})),k)}});var y=b.default.createClass({displayName:"ElementViewButtons",propTypes:{element:b.default.PropTypes.instanceOf(f.default).isRequired,static:b.default.PropTypes.bool.isRequired,removeElement:b.default.PropTypes.func.isRequired,commandUrl:b.default.PropTypes.string.isRequired},tags:function(){var a=this.props.element.tags();a.source="DashboardElementView";return a},_openConfigureElementDialog:function(){var a=
this.tags();a.eventType="openConfigureElementDialog";window.recordEvent("dashboardElement",a);r.default.createModal(b.default.createElement(d.default,{element:this.props.element}))},_adjustScale:function(a){var b=this.tags();b.eventType="propertyChange";b.property="scale";b.propertyValue=a?"increase":"decrease";window.recordEvent("dashboardElement",b);b=this.props.element.getOptions().scale;this.props.element.updateOptions({scale:a?b+1:b-1})},_increaseScale:function(){this._adjustScale(!0)},_decreaseScale:function(){this._adjustScale(!1)},
onRemoveBtnClick:function(a){var b=this,c=this.tags();c.eventType="removeElement";window.recordEvent("dashboardElement",c);a&&a.getModifierState&&a.getModifierState("Shift")?this.props.removeElement():p.default.confirm({messageHTML:"Remove this element from current dashboard? (This will not delete the command from notebook)<p class='hint-msg'>Tip: bypass this dialog by holding the 'Shift' key when deleting an element.</p>",confirm:function(){return b.props.removeElement()}})},recordGoToCommandButtonClicked:function(){var a=
this.tags();a.eventType="goToCommand";a.source="DashboardElementViewButtons";window.recordEvent("dashboardElement",a)},render:function(){var a=this.props.element.getCommandModel(),c=b.default.createElement("button",{className:"btn btn-mini left-btn configure-element",onClick:this._openConfigureElementDialog},b.default.createElement("i",{className:"fa fa-"+t.default.setting})),d=b.default.createElement("a",{onClick:this.recordGoToCommandButtonClicked,href:this.props.commandUrl},b.default.createElement("button",
{className:"btn btn-mini go-to-command",title:"Go to command"},b.default.createElement("i",{className:"fa fa-"+t.default.navigate}))),k=b.default.createElement("span",null,b.default.createElement("button",{title:"Increase text size",className:"btn btn-mini left-btn increase-scale",onClick:this._increaseScale},b.default.createElement("i",{className:"fa fa-"+t.default.zoomLarge})),b.default.createElement("button",{title:"Decrease text size",className:"btn btn-mini left-btn decrease-scale",onClick:this._decreaseScale},
b.default.createElement("i",{className:"fa fa-"+t.default.zoomSmall})));return this.props.static?null:b.default.createElement("div",{className:"dashboard-element-btns"},a.isMarkdownCommand()?null:c,d,a.isMarkdownCommand()?k:null,b.default.createElement("button",{title:"Remove from dashboard view",className:"btn btn-mini",onClick:this.onRemoveBtnClick},b.default.createElement("i",{className:"fa fa-times"})))}});l.exports=a},{"../../acl/WorkspacePermissions":10,"../../notebook/CommandResult.jsx":146,
"../../notebook/dashboards/DashboardViewConstants.js":215,"../../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../../ui_building_blocks/dialogs/ReactModalUtils.js":300,"../../ui_building_blocks/icons/IconsForType.js":304,"../../urls/ResourceUrls":322,"./ConfigureDashboardElementDialog.jsx":206,"./DashboardElementModel.js":210,"./Scalar.jsx":221,react:1001,underscore:1021}],212:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=
c(f);f=a("react");var b=c(f);f=a("react-dom");var k=c(f);a("../../../lib/gridstack");f=a("../../notebook/dashboards/DashboardViewConstants");var d=c(f);f=a("../../notebook/dashboards/DashboardViewModel");f=c(f);var n=a("../../notebook/dashboards/DashboardElementView.jsx"),m=c(n),q=a("../../notebook/InputPanel/InputPanel.jsx");a=b.default.createClass({displayName:"DashboardLayoutView",propTypes:{dashboard:b.default.PropTypes.instanceOf(f.default).isRequired,setContentLoading:b.default.PropTypes.func.isRequired,
showInputWidgets:b.default.PropTypes.bool,static:b.default.PropTypes.bool,permissionLevel:b.default.PropTypes.string},getDefaultProps:function(){return{static:!1,showInputWidgets:!0}},shouldComponentUpdate:function(){return!1},componentDidMount:function(){this._initGridstack();this._renderGridstackNodes();this.props.dashboard.on("elementsUpdated",this._updateElementViews,this);this.props.dashboard.on("change:width change:layoutOption",this._onDashboardSettingsChanged,this)},componentWillUnmount:function(){this.props.dashboard.off(null,
null,this);this._removeAllElementViews()},_removeAllElementViews:function(){h.default.keys(this._elementsViewMap).forEach(this._removeElementView)},_onDashboardSettingsChanged:function(){this.props.setContentLoading(!0);this._removeAllElementViews();this._destroyGridstack();h.default.defer(function(){this._initGridstack();this._renderGridstackNodes(!0);this.props.setContentLoading(!1)}.bind(this))},_updateElementViews:function(){var a=this.props.dashboard.getElementsMap(),b=h.default.filter(h.default.keys(this._elementsViewMap),
function(b){return!h.default.has(a,b)});h.default.each(b,this._removeElementView);this._renderGridstackNodes()},_getGridstackOptions:function(){var a=this.props.dashboard;return{resizable:{handles:"se, sw"},animate:!0,vertical_margin:d.default.CELL_VERTICAL_MARGIN,cell_height:a.displayCellHeight(),width:d.default.NUMBER_OF_COLUMNS,static_grid:this.props.static,float:!a.getLayoutOption("stack")}},_initGridstack:function(){this.$el||(this.$el=(0,e.default)(k.default.findDOMNode(this)).find(".grid-stack.dashboard-layout-view"));
this.$el.gridstack(this._getGridstackOptions());this.$el.css("min-height",this.props.dashboard.getDashboardMinHeight()+"px");this.grid=this.$el.data("gridstack");this.$el.on("resizestop",this._recordAndSaveLayoutChanges);this.$el.on("dragstop",this._recordAndSaveLayoutChanges)},_destroyGridstack:function(){this.$el.off("resizestop",this._recordAndSaveLayoutChanges);this.$el.off("dragstop",this._recordAndSaveLayoutChanges);this.$el.data("gridstack",null)},_getNodesForRendering:function(){return h.default.map(this.props.dashboard.getElements(),
this._elementToNode)},_elementToNode:function(a){var b=a.get("position");return{guid:a.get("guid"),x:b?b.x:void 0,y:b?b.y:void 0,width:a.gridWidth(),height:a.gridHeight(),element:a}},_elementsViewMap:{},_renderGridstackNodes:function(a){var b=GridStackUI.Utils.sort(this._getNodesForRendering(),1,d.default.NUMBER_OF_COLUMNS),c=!!h.default.find(b,function(a){return void 0===a.x});this.gridStackNodes=c?this._sortNodesWithCommandPosition(b):b;h.default.each(this.gridStackNodes,this._updateOrAddElementView);
(a||c)&&this._saveCurrentLayout()},_sortNodesWithCommandPosition:function(a){var b=h.default.filter(a,function(a){return void 0===a.x});return a.filter(function(a){return void 0!==a.x}).concat(h.default.sortBy(b,function(a){return(a=a.element.getCommandModel())?a.get("position"):Infinity}))},_updateOrAddElementView:function(a){a.guid in this._elementsViewMap?this._updateElementView(a):this._addElementView(a)},_addElementView:function(a){var c=(0,e.default)('<div><div id="'+a.guid+'" class="grid-stack-item-content" /><div/>'),
d=void 0===a.x||void 0===a.y;this.grid.add_widget(c,a.x,a.y,a.width,a.height,d);this.grid.min_width(c,2);this.grid.min_height(c,1);var h=this.removeElement.bind(this,a.guid),h=k.default.render(b.default.createElement(m.default,{permissionLevel:this.props.permissionLevel,element:a.element,"static":this.props.static,removeElement:h}),c.find(".grid-stack-item-content")[0]);this._elementsViewMap[a.guid]={guid:a.guid,$el:c,view:h};d&&this._fixElementHeight(a)},_fixElementHeight:function(a){var b=a.element.getCommandModel(),
c=b.get("results"),k=a.element.dashboard().displayCellHeight(),h=d.default.CELL_VERTICAL_MARGIN,e=d.default.DEFAULT_ELEMENT_HEIGHT;b&&b.isMarkdownCommand()&&(b=this._elementsViewMap[a.guid].view.getContentHeight(),this._resetElementHeight(a,b));c&&"table"===c.type&&(c=26*(c.data.length+1)+6,c<e*(k+h)&&this._resetElementHeight(a,c))},_resetElementHeight:function(a,b){a.element.getOption("showTitle")&&(b+=d.default.ELEMENT_TITLE_HEIGHT);var c=a.element.dashboard().displayCellHeight(),k=d.default.CELL_VERTICAL_MARGIN,
h=Math.floor(b/(c+k));h*c+(h-1)*k<b&&h++;a.height=h;this._updateElementView(a)},_updateElementView:function(a){var b=this._elementsViewMap[a.guid].$el,c=b.data("_gridstack_node");c.x===a.x&&c.y===a.y&&c.width===a.width&&c.height===a.height||this.grid.update(b,a.x,a.y,a.width,a.height)},_removeElementView:function(a){var b=this._elementsViewMap[a].$el;k.default.unmountComponentAtNode(b.find(".grid-stack-item-content")[0]);this.grid.remove_widget(b);delete this._elementsViewMap[a]},_recordAndSaveLayoutChanges:function(a,
b){this._recordLayoutChange(b);this._saveCurrentLayout()},tags:function(){var a=this.props.dashboard.tags();a.source="DashboardLayoutView";return a},_recordLayoutChange:function(a){var b=this.tags();b.eventType="layoutChange";if(a.size&&!h.default.isEqual(a.originalSize,a.size))b.property="size";else if(a.position&&!h.default.isEqual(a.originalPosition,a.position))b.property="position";else return;window.recordEvent("dashboardElement",b)},_saveCurrentLayout:function(){var a=this.props.dashboard;h.default.each(h.default.values(this._elementsViewMap),
function(b){var c=b.$el.data("_gridstack_node");a.updateLocalElement(b.guid,{position:{x:c.x,y:c.y,width:c.width,height:c.height}})});a.syncLocalChanges()},removeElement:function(a){this._removeElementView(a);this.props.dashboard.removeLocalElement(a);this._saveCurrentLayout()},removeAllElementsAtOnce:function(){var a=this;h.default.keys(this._elementsViewMap).forEach(function(b){a._removeElementView(b);a.props.dashboard.removeLocalElement(b)});this.props.dashboard.syncLocalChanges()},addElement:function(a){this.props.dashboard.addCommandElement(a)},
render:function(){var a=this,c=function(){a.props.dashboard.notebook().runAll()},c=window.settings.enableNewInputWidgetUI&&this.props.showInputWidgets?b.default.createElement(q.DashboardInputPanel,{inputsMgr:this.props.dashboard.notebook().inputs,onApply:c}):null;return b.default.createElement("div",null,c,b.default.createElement("div",{className:"grid-stack dashboard-layout-view"}))}});l.exports=a},{"../../../lib/gridstack":400,"../../notebook/InputPanel/InputPanel.jsx":167,"../../notebook/dashboards/DashboardElementView.jsx":211,
"../../notebook/dashboards/DashboardViewConstants":215,"../../notebook/dashboards/DashboardViewModel":217,jquery:819,react:1001,"react-dom":865,underscore:1021}],213:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("classnames");var h=c(f);f=a("../../clusters/ClusterList");f=c(f);var b=a("../../clusters/Common.jsx"),k=a("../../notebook/NotebookModel"),k=c(k),d=a("../../notebook/dashboards/DashboardLayoutView.jsx"),n=c(d),d=a("../../notebook/dashboards/DashboardViewMixin.jsx"),
d=c(d),m=a("../../notebook/FetchErrorPanel.jsx"),q=a("../../notebook/NotebookUtilities"),w=c(q),p=a("../../urls/ResourceUrls");a=e.default.createClass({displayName:"DashboardPresentView",propTypes:{clusters:e.default.PropTypes.instanceOf(f.default),notebook:e.default.PropTypes.instanceOf(k.default).isRequired,dashboardId:e.default.PropTypes.number.isRequired,exitRoute:e.default.PropTypes.string,showExitBtn:e.default.PropTypes.bool,showUpdateBtn:e.default.PropTypes.bool,showInputWidgets:e.default.PropTypes.bool},
getDefaultProps:function(){return{showExitBtn:!0,showUpdateBtn:!0,showInputWidgets:!0}},mixins:[d.default],getInitialState:function(){return{isCancelling:!1}},_tags:function(){var a=this.state.dashboard.tags();a.source="DashboardPresentView";return a},onUpdate:function(){this.setState({isCancelling:!1});this.props.notebook.runAll();var a=this._tags();a.eventType="runAll";window.recordEvent("dashboard",a)},onCancel:function(){this.setState({isCancelling:!0});this.props.notebook.cancelRunAll();var a=
this._tags();a.eventType="cancelRunAll";window.recordEvent("dashboard",a)},renderUpdateButton:function(){return!this.props.showUpdateBtn||w.default.isRunningAll(this.props.notebook)?null:e.default.createElement("span",{className:"refresh-btn"},e.default.createElement(b.SubmitButton,{text:"Update",onClick:this.onUpdate}))},renderCancelUpdateButton:function(){if(!this.props.showUpdateBtn||!w.default.isRunningAll(this.props.notebook))return null;var a=e.default.createElement("span",null,e.default.createElement("img",
{className:"update-btn-spinner",title:"Dashboard is updating..",src:p.ResourceUrls.getResourceUrl("img/spinner.svg")}),this.state.isCancelling?"Cancelling":"Cancel");return e.default.createElement("span",{className:"cancel-refresh-btn"},e.default.createElement(b.SubmitButton,{text:a,onClick:this.onCancel,disabled:this.state.isCancelling}))},render:function(){var a=this.props.notebook,b=this.state.dashboard;if(a.notebookFetchError())return e.default.createElement(m.FetchErrorPanel,{error:a.notebookFetchError()});
a=this.getPermissionLevel();if(!this.dashboardModelReady())return e.default.createElement("div",{className:"dashboard-present-content dashboard-loading"},e.default.createElement("img",{className:"load-spinner",src:p.ResourceUrls.getResourceUrl("img/spinner.svg")}));var c=this.props.exitRoute?this.props.exitRoute:b.getDashboardViewRoute(),d={"dashboard-present-view-wrapper":!0,"dashboard-loading":this.state.showSpinner},k={width:b.getDashboardWidth()+"px"},g=b.isEmpty()?e.default.createElement("div",
{className:"empty-dashboard-hint"},"Dashboard is currently empty. ",e.default.createElement("a",{href:b.getDashboardViewRoute()},"Back to edit view.")):null,c=this.props.showExitBtn?e.default.createElement("div",{className:"exit-present-btn"},e.default.createElement("a",{href:c},"Exit")):null,b=b.get("title"),v=e.default.createElement("div",{ref:"dashboardTitle",className:"dashboard-title"},b);return e.default.createElement("div",{className:""},e.default.createElement("div",{className:(0,h.default)(d),
style:k},c,this.renderUpdateButton(),this.renderCancelUpdateButton(),g,b&&"Untitled"!==b?v:null,e.default.createElement(n.default,{ref:"layoutView","static":!0,permissionLevel:a,setContentLoading:this.setContentLoading,showInputWidgets:this.props.showInputWidgets,dashboard:this.state.dashboard})))}});l.exports=a},{"../../clusters/ClusterList":32,"../../clusters/Common.jsx":35,"../../notebook/FetchErrorPanel.jsx":160,"../../notebook/NotebookModel":178,"../../notebook/NotebookUtilities":179,"../../notebook/dashboards/DashboardLayoutView.jsx":212,
"../../notebook/dashboards/DashboardViewMixin.jsx":216,"../../urls/ResourceUrls":322,classnames:411,react:1001}],214:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){return h.default.createElement("div",{className:"side-menu dashboard-side-menu"},h.default.createElement(p,a),h.default.createElement(r,a),h.default.createElement(t,a),h.default.createElement(u,a),h.default.createElement(y,a))}f=a("react");var h=c(f);f=a("../../notebook/dashboards/DashboardViewConstants");
var b=c(f);f=a("../../notebook/dashboards/DashboardViewModel");f=c(f);var k=a("../../notebook/dashboards/SelectionInput.jsx"),d=c(k),k=a("../../notebook/ButtonBar.jsx"),n=c(k),k=a("../../ui_building_blocks/dialogs/DeprecatedDialogBox"),m=c(k),k=a("../../ui_building_blocks/text/InlineEditableText.jsx"),q=c(k),w=a("../../ui_building_blocks/Tooltip.jsx");e.propTypes={dashboard:h.default.PropTypes.instanceOf(f.default).isRequired,removeAllElements:h.default.PropTypes.func};var p=h.default.createClass({displayName:"DashboardTitle",
propTypes:{dashboard:h.default.PropTypes.instanceOf(f.default).isRequired},tags:function(){var a=this.props.dashboard.tags();a.source="DashboardTitle";return a},componentDidMount:function(){"Untitled"===this.props.dashboard.get("title")&&(this.refs.title.startEditing(),this.refs.titleTooltip.showTooltip())},_updateTitle:function(a,b){this.props.dashboard.setDashboardTitle(a,b)},_onTitleClicked:function(){var a=this.tags();a.eventType="editTitle";window.recordEvent("dashboard",a);this.refs.title.startEditing()},
render:function(){var a=this.props.dashboard.get("title"),c=this.props.dashboard.notebook(),c=h.default.createElement("p",null,"View of notebook: ",h.default.createElement("a",{href:"#notebook/"+c.id,className:"notebook-title"},c.get("name")));return h.default.createElement("div",{className:"dashboard-settings-title"},h.default.createElement(w.Tooltip,{text:"Your dashboard view is untitled! Please enter a title here.",toggleOnHover:!1,ref:"titleTooltip"},h.default.createElement(q.default,{ref:"title",
initialText:a,updateText:this._updateTitle,className:"dashboard-title",maxLength:b.default.MAX_DASHBOARD_TITLE_LENGTH},h.default.createElement("h1",{onClick:this._onTitleClicked},a))),c)}}),r=h.default.createClass({displayName:"DashboardControls",propTypes:{dashboard:h.default.PropTypes.instanceOf(f.default).isRequired},recordClickPresent:function(){var a=this.tags();a.eventType="presentDashboard";window.recordEvent("dashboard",a)},tags:function(){var a=this.props.dashboard.tags();a.source="DashboardSideMenuView";
return a},render:function(){return h.default.createElement("div",{className:"dashboard-controls"},h.default.createElement("a",{className:"btn",onClick:this.recordClickPresent,href:this.props.dashboard.getPresentViewRoute()},h.default.createElement("i",{className:"fa fa-play"})," Present Dashboard"))}}),t=h.default.createClass({displayName:"DashboardConfigs",propTypes:{dashboard:h.default.PropTypes.instanceOf(f.default).isRequired},tags:function(){var a=this.props.dashboard.tags();a.source="DashboardSideMenuView";
return a},onStackOptionChange:function(a,b){var c=this.tags();c.eventType="propertyChange";c.property="stack";c.propertyValue=a;window.recordEvent("dashboard",c);this.props.dashboard.setLayoutOption({stack:a},b)},onWidthSettingChange:function(a,b){var c=this.tags();c.eventType="propertyChange";c.property="width";c.propertyValue=a;window.recordEvent("dashboard",c);a=parseInt(a,10);this.props.dashboard.setDashboardWidth(a,b)},render:function(){var a=this.props.dashboard;return h.default.createElement("div",
{className:"dashboard-configs"},h.default.createElement(n.default,{className:"dashboard-config-item layout-stack-option",label:"Layout option",buttons:{Stack:!0,Float:!1},defaultActiveBtnKey:a.getLayoutOption("stack")?"Stack":"Float",onChange:this.onStackOptionChange}),h.default.createElement(d.default,{className:"dashboard-config-item",label:"Dashboard width",defaultValue:a.get("width")+"px",options:b.default.WIDTH_OPTIONS.map(function(a){return a+"px"}),onChange:this.onWidthSettingChange}))}}),
u=h.default.createClass({displayName:"DashboardRemoveElementsBtn",propTypes:{dashboard:h.default.PropTypes.instanceOf(f.default).isRequired,removeAllElements:h.default.PropTypes.func},tags:function(){var a=this.props.dashboard.tags();a.source="DashboardRemoveElementsBtn";return a},_removeAllElements:function(){var a=this.tags();a.eventType="removeAllElements";window.recordEvent("dashboard",a);this.props.removeAllElements()},removeElements:function(){m.default.confirm({message:"This operation will remove all graphs from this dashboard. The graphs can be added again from the notebook. Continue?",
confirm:this._removeAllElements})},render:function(){return h.default.createElement("div",{className:"dashboard-remove-all-btn"},h.default.createElement("a",{onClick:this.removeElements,className:"btn"},h.default.createElement("i",{className:"fa fa-eraser"})," Remove all graphs"))}}),y=h.default.createClass({displayName:"DashboardDeleteBtn",propTypes:{dashboard:h.default.PropTypes.instanceOf(f.default).isRequired},tags:function(){var a=this.props.dashboard.tags();a.source="DashboardDeleteBtn";return a},
_deleteDashboardView:function(){var a=this.tags();a.eventType="delete";window.recordEvent("dashboard",a);var a=this.props.dashboard,b=a.notebook().id;a.deleteDashboardView(function(){window.router.navigate("#notebook/"+b,{trigger:!0})})},deleteDashboardView:function(){m.default.confirm({message:"This operation will delete the current dashboard view. No change will be made to the graphs in notebook. Continue?",confirm:this._deleteDashboardView})},render:function(){return h.default.createElement("div",
{className:"dashboard-delete-btn"},h.default.createElement("a",{onClick:this.deleteDashboardView,className:"btn btn-danger"},h.default.createElement("i",{className:"fa fa-trash-o"})," Delete this dashboard"))}});l.exports=e},{"../../notebook/ButtonBar.jsx":135,"../../notebook/dashboards/DashboardViewConstants":215,"../../notebook/dashboards/DashboardViewModel":217,"../../notebook/dashboards/SelectionInput.jsx":222,"../../ui_building_blocks/Tooltip.jsx":294,"../../ui_building_blocks/dialogs/DeprecatedDialogBox":297,
"../../ui_building_blocks/text/InlineEditableText.jsx":316,react:1001}],215:[function(a,l,f){a=(a=a("../../notebook/NotebookConstants"))&&a.__esModule?a:{default:a};f={DEFAULT_WIDTH:1024,NUMBER_OF_COLUMNS:24};f.CELL_HEIGHT_RATIO=1/f.NUMBER_OF_COLUMNS;f.CELL_VERTICAL_MARGIN=6;f.DEFAULT_ELEMENT_OPTIONS={titleAlign:"center",autoScaleImg:!1,scale:0};f.WIDTH_OPTIONS=[800,1024,1440,1600,1920,2048,2560,4E3];f.MAX_DASHBOARD_TITLE_LENGTH=40;f.DEFAULT_PAGE_RATIO=16/9;f.SCALAR_BASE=1.1;f.ELEMENT_TITLE_HEIGHT=
50;f.DEFAULT_ELEMENT_WIDTH=Math.floor(f.NUMBER_OF_COLUMNS/2);f.DEFAULT_ELEMENT_HEIGHT=6;f.INPUT_WIDGET_HEIGHT=38;f.MAX_ELEMENT_TITLE_LENGTH=a.default.MAX_COMMAND_TITLE_LENGTH;l.exports=f},{"../../notebook/NotebookConstants":176}],216:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("react");f=c(f);var h=a("../../acl/WorkspacePermissions"),b=c(h);a=a("../../notebook/NotebookModel");a=c(a);a={listening:!1,propTypes:{notebook:f.default.PropTypes.instanceOf(a.default).isRequired,
dashboardId:f.default.PropTypes.string.isRequired,redirectWhenDashboardNotFound:f.default.PropTypes.bool},getDefaultProps:function(){return{redirectWhenDashboardNotFound:!0}},getInitialState:function(){return{dashboard:null,showSpinner:!1}},tags:function(){var a=this.props.notebook.tags();a.dashboardId=this.props.dashboardId;a.source="DashboardViewMixin";return a},setContentLoading:function(a){this.setState({showSpinner:a})},getPermissionLevel:function(){return window.settings.enableWorkspaceAclService?
this._getDashboardPermission():b.default.MANAGE},_getDashboardPermission:function(){return this.state.dashboard?this.state.dashboard.notebook().get("isExample")?b.default.VIEW:this.state.dashboard.getPermissionLevel():b.default.NONE},dashboardModelReady:function(){return!(!this.state.dashboard||this.getPermissionLevel()===b.default.NONE)},_onMessage:function(a){if(this.isMounted()&&this.onNotebookMessage)this.onNotebookMessage(a)},handleDashboardNotFound:function(){var a=this.tags();a.eventType="notFound";
window.recordEvent("dashboard",a);this.props.redirectWhenDashboardNotFound&&window.router.navigate("notebook/"+this.props.notebook.get("id"),{trigger:!0,replace:!0})},getDashboardNode:function(){var a=this.props.notebook,b=a.getDashboardViewModelById(this.props.dashboardId);b||(b=a.getDashboardViewModelByNuid(this.props.dashboardId));return b},onDashboardReady:function(){var a=this.props.notebook,b=this.getDashboardNode();b?(this.setState({dashboard:b}),window.dashboard=b,window.settings.enableWorkspaceAclService&&
!window.settings.isStaticNotebook&&b.fetchPermissionLevel(this.throttledForceUpdate),b.on("change",this.throttledForceUpdate,this),a.on("change",this.throttledForceUpdate,this),a.on("message",this._onMessage,this)):this.handleDashboardNotFound()},initialize:function(a){var b=this;a=a||this.props;this.setState(this.getInitialState());a=a.notebook;this.throttledForceUpdate=e.default.throttle(function(){b.isMounted()&&b.forceUpdate()},100);a.registerInterest(this,{registerCommandCollectionOnly:!0,done:this.throttledForceUpdate});
if(this.getDashboardNode())this.onDashboardReady();else a.commandCollection().once("add reset",this.onDashboardReady,this)},componentDidMount:function(){this.initialize(this.props)},componentWillReceiveProps:function(a){this.props.notebook.id!==a.notebook.id&&this.initialize(a)},componentWillUnmount:function(){this.props.notebook.unregisterInterest(this);this.props.notebook.off(null,null,this);this.state.dashboard&&this.state.dashboard.off(null,null,this)}};l.exports=a},{"../../acl/WorkspacePermissions":10,
"../../notebook/NotebookModel":178,react:1001,underscore:1021}],217:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("backbone");f=c(f);var h=a("../../notebook/BackboneRpcMixin"),h=c(h),b=a("../../notebook/NotebookUtilities"),k=c(b),b=a("../../notebook/dashboards/DashboardElementModel"),d=c(b);a=a("../../notebook/dashboards/DashboardViewConstants");var n=c(a);a=f.default.Model.extend({_elementsMap:{},populateElements:function(a){this.addCommandElements(this.notebook().plottableCommandNUIDs(),
a)},initialize:function(){this._deletedElementGUIDs=[];this._changedElementsMap={};this._elementsMap={};e.default.each(this.get("elements"),function(a){this._elementsMap[a.guid]=(new d.default(a)).set("dashboard",this)},this);this.listenTo(this,"change:elements",this._updateElements)},_updateElements:function(){var a={};e.default.each(this.get("elements"),function(b){a[b.guid]=this._elementsMap[b.guid]?this._elementsMap[b.guid].set(b):(new d.default(b)).set("dashboard",this)},this);this._elementsMap=
a;this.trigger("elementsUpdated")},notebook:function(){return this.get("parent")},isEmpty:function(){return 0===this.getElements().length},_dashboardRpc:function(a,b,c){c=c||{};c.error||(c.error=k.default.handleRpcError);b=e.default.extend({updates:{},removedElements:[],newElements:[],changedElements:[]},b);c.url||(c.url="/notebook/"+this.notebook().id+"/dashboard/"+this.id);this.rpc(a,b,c)},deleteDashboardView:function(a){this._dashboardRpc("removeDashboardView",{},{success:a})},getElementsMap:function(){return this._elementsMap},
getElements:function(){return e.default.values(this._elementsMap)},setLayoutOption:function(a,b){this._updateDashboard({layoutOption:e.default.defaults(a,this.get("layoutOption"))},b)},getLayoutOption:function(a){return this.get("layoutOption")[a]},setDashboardWidth:function(a,b){if(!e.default.contains(n.default.WIDTH_OPTIONS,a))throw Error("Can't set dashboard width to: "+a);this._updateDashboard({width:a},b)},setDashboardTitle:function(a,b){this.get("title")!==a&&this._updateDashboard({title:a},
b)},_updateDashboard:function(a,b){this._dashboardRpc("updateDashboardView",{updates:a},{success:b})},hasCommandElement:function(a){var b=this.attributes.elements,c;for(c=0;c<b.length;c++)if(b[c].elementNUID===a)return!0;return!1},addCommandElement:function(a,b){this.addCommandElements([a],b)},addCommandElements:function(a,b){this._dashboardRpc("updateDashboardView",{newElements:e.default.map(a,function(a){return{elementType:"command",elementNUID:a}})},{success:b})},removeCommandElement:function(a,
b){this.removeCommandElements([a],b)},removeCommandElements:function(a,b){var c=this.attributes.elements,d=[],k,h;for(k=0;k<c.length;k++)for(h=0;h<a.length;h++)c[k].elementNUID===a[h]&&d.push(c[k].guid);this._dashboardRpc("updateDashboardView",{removedElements:d},{success:b})},updateElementOptions:function(a,b,c){b=e.default.defaults(b,this._elementsMap[a].get("options"));this.updateLocalElement(a,{options:b});this.syncLocalChanges(c)},_deletedElementGUIDs:[],_changedElementsMap:{},removeLocalElement:function(a){delete this._elementsMap[a];
this._deletedElementGUIDs.push(a)},updateLocalElement:function(a,b){this._elementsMap[a].set(b);this._changedElementsMap[a]?e.default.extend(this._changedElementsMap[a],b):this._changedElementsMap[a]=e.default.extend({guid:a},b)},hasLocalchanges:function(){return!e.default.isEmpty(this._deletedElementGUIDs)||!e.default.isEmpty(this._changedElementsMap)},syncLocalChanges:function(a){this.hasLocalchanges()&&this._dashboardRpc("updateDashboardView",{removedElements:this._deletedElementGUIDs,changedElements:e.default.values(this._changedElementsMap)},
{success:function(){this._deletedElementGUIDs=[];this._changedElementsMap={};a&&a.apply(this,arguments)}.bind(this)})},getDashboardViewRoute:function(){return"#notebook/"+this.notebook().id+"/dashboard/"+this.id},getPresentViewRoute:function(){return this.getDashboardViewRoute()+"/present"},getDashboardWidth:function(){return this.get("width")},getDashboardMinHeight:function(){return this.getDashboardWidth()/n.default.DEFAULT_PAGE_RATIO},displayColumnWidth:function(){return Math.floor(this.get("width")/
n.default.NUMBER_OF_COLUMNS)},displayCellHeight:function(){return Math.floor(this.get("width")*n.default.CELL_HEIGHT_RATIO)-n.default.CELL_VERTICAL_MARGIN},tags:function(){return e.default.extend(this.notebook().tags(),{dashboardId:this.id,source:"DashboardViewModel"})}});e.default.extend(a.prototype,h.default);e.default.extend(a.prototype,{getName:function(){return this.notebook().get("name")},fetchPermissions:function(a){return this.notebook().fetchPermissions(a)},fetchPermissionLevel:function(a){return this.notebook().fetchPermissionLevel(a)},
fetchWorkspaceAcl:function(a){return this.notebook().fetchWorkspaceAcl(a)},getPermissionLevel:function(){return this.notebook().getPermissionLevel()},canView:function(){return this.notebook().canView()},canEdit:function(){return this.notebook().canEdit()},canManage:function(){return this.notebook().canManage()}});l.exports=a},{"../../notebook/BackboneRpcMixin":134,"../../notebook/NotebookUtilities":179,"../../notebook/dashboards/DashboardElementModel":210,"../../notebook/dashboards/DashboardViewConstants":215,
backbone:407,underscore:1021}],218:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};f=a("jquery");var h=c(f);f=a("lodash");var b=c(f);f=a("react");var k=c(f);f=a("react-dom");var d=c(f);f=a("../../acl/WorkspacePermissions");var n=c(f),m=a("../../notebook/CodeModeUtils");f=a("../../notebook/NotebookUtilities");
var q=c(f),w=a("../../notebook/commands/DisplayTypeUtils");f=a("../../notebook/commands/LargeOutputWrapper.jsx");var p=c(f);f=a("../../notebook/commands/Markdown");var r=c(f);f=a("../../notebook/dashboards/DashboardConstants");var t=c(f);f=a("../../notebook/dashboards/Dashboard");var u=c(f);f=a("../../notebook/dashboards/DataWidget");var y=c(f);f=a("../../notebook/dashboards/WidgetView");var A=c(f),g=a("../../requests/PostMessage");f=a("../../tables/HiveSchema");var v=c(f);f=a("../../ui_building_blocks/Nestify");
var z=c(f),B=a("../../urls/ResourceUrls"),G=a("../../user_platform/BrowserUtils");f=a("../../visualizations/BarChart");var x=c(f);f=a("../../visualizations/BoxPlot");var D=c(f);f=a("../../visualizations/Chart");var E=c(f);f=a("../../visualizations/DomUtil");var F=c(f);f=a("../../visualizations/Histogram");var J=c(f);f=a("../../visualizations/LineChart");var L=c(f);f=a("../../visualizations/AreaChart");var I=c(f);f=a("../../visualizations/MapPlot");var K=c(f);f=a("../../visualizations/PieChart");var N=
c(f);f=a("../../visualizations/Pivot");var P=c(f);f=a("../../visualizations/PlotControls");var Y=c(f);f=a("../../visualizations/QuantilePlot");var M=c(f);f=a("../../visualizations/QQPlot");var O=c(f);f=a("../../visualizations/ROCPlot");var Q=c(f);f=a("../../visualizations/ScatterPlotMatrix");var U=c(f);a("../../../lib/jquery.floatThead-patched");f=a("../../templates/customizeDialog.html");var R=c(f);f=a("../../templates/customPlotOptionsTemplate.html");var ba=c(f);f=a("../../templates/downloadControls.html");
var T=c(f);f=a("../../templates/editViewDialog.html");var ca=c(f);f=a("../../templates/iframeSandbox.html");var ha=c(f);f=a("../../templates/plotControls.html");var X=c(f);f=a("../../templates/urlSandbox.html");var aa=c(f);window.addEventListener("message",function(a){var b=g.PostMessage.isEventFromSandboxedIframe(a,document);if(b||g.PostMessage.isValidPostMessageOrigin(a,window))if(g.PostMessage.isValidPostMessageData(a.data))if(a.data.type===g.POST_MESSAGE_TYPE.RESIZE_EVENT){var c=(0,h.default)(document.getElementById(a.data.frameId));
if(!c.hasClass("frameResizeEventReceived")){c.addClass("frameResizeEventReceived");var d=c.closest(".widget");0!==d.length&&("auto"===d[0].style.height?c.height(a.data.height):c.height(Math.min(a.data.height,d.height()-25)),b=b?"*":a.origin,a.source.postMessage({type:g.POST_MESSAGE_TYPE.SIZED_EVENT,frameWidth:c.width(),frameHeight:c.height()},b))}}else a.data.type===g.POST_MESSAGE_TYPE.JS_ERROR&&(0,h.default)(document.getElementById(a.data.frameId)).parent().text(a.data.error);else console.error("PostMessage Data Violation")});
f=A.default.extend({initialize:function(a){A.default.prototype.initialize.call(this,a);this.bindings=a.bindings;this.autoSubmit=a.autoSubmit||!1;this.editable=a.editable;this.parent=a.parent;this.customizable=this.model.get("customizable");this.resizable=this.model.get("resizable");this.autoCenterImg=a.autoCenterImg||!1;this.autoScaleImg=a.autoScaleImg||!1;this.usingAggData=!1;this.isStatic=a.isStatic;this.isLocked=a.isLocked;this.listenTo(this.model,"change:query",this.queryChanged);this.listenTo(this.model,
"change",this.render);this.lastCustomPlotOptions=this.lastDisplayType=null;this.resultDiv=(0,h.default)("<div>").addClass("results");this.chart=null;this.clickToScrollTables=a.clickToScrollTables||!1;this.lastComplexView=this.model.get("displayType");"table"===this.lastComplexView&&(this.lastComplexView="barChart");!0===this.autoSubmit&&"running"===this.model.get("state")&&this.submitQuery()},events:{"click .display-type-button":"changeDisplayType","click .replot-link":"replotOverAllData","click .customize-button":"customizePlotData",
"click .results-download":"downloadData","click .results-download-preview":"downloadDataPreview","focus .results-table":"resultsTableFocused","blur .results-table":"resultsTableBlurred"},makeErrorLink:function(a,b){console.error(a+": "+b);a=(0,h.default)("<span class='caught-error-message'>"+a+": <a href=#>Report error.</a></span>");a.children("a").click(function(a){a&&a.preventDefault();window.oops(b)});return a},render:function(){try{this.render0()}catch(ga){this.contentArea.append(this.makeErrorLink("Error rendering output",
ga.stack)),window.recordEvent("renderingError",{error:"Error rendering data view"},ga.stack)}},render0:function(){this.updateBindingListeners();var a=this.model.changedAttributes();if(!1!==a){var c=b.default.keys(a);if(b.default.isEqual(c,["file"])||b.default.isEqual(a,{running:!0}))return}this.contentArea.empty();this.contentArea.addClass("dashboard");this.model.has("guid")&&this.$el.attr("data-guid",this.model.get("guid"));this.$el.css({width:q.default.fixLength(this.model.get("width")),height:q.default.fixLength(this.model.get("height"))});
this.model.has("label")&&this.contentArea.append((0,h.default)("<p>").text(this.model.get("label")+":"));if(null===this.model.get("error")){a=this.model.get("displayType");c=JSON.stringify(this.model.get("customPlotOptions"));"table"!==a&&(this.lastComplexView=a);this.contentArea.append(this.resultDiv);!this.model.get("data")||a===this.lastDisplayType&&c===this.lastCustomPlotOptions&&"table"!==a&&"pivotTable"!==a&&"markdown"!==a&&"html"!==a&&"htmlSandbox"!==a&&"image"!==a||(!1===q.default.isResizable(a)?
this.model.set({resizable:!1}):!1===q.default.isResizable(this.lastDisplayType)&&this.model.set({resizable:!0}),this.updateResultDiv(),this.lastDisplayType=a,this.lastCustomPlotOptions=c);this.showPlotOptions()&&(c=this.createPlotControls(),this.contentArea.append(c));if(!this.model.has("downloadable")||this.model.get("downloadable")){var c=window.settings&&window.settings.enableLargeResultDownload&&!this.isStatic&&!this.isLocked&&"table"===this.model.get("displayType")&&this.model.get("dataOverflowed"),
g;n.default.canRun(this.model.get("permissionLevel"))||(g="You must have run permission on this notebook in order to download over "+window.settings.displayRowLimit+" rows.");g=this.createDownloadControls(c,g);this.contentArea.append(g)}g=null;this.chart&&(this.removeUnusedKeys(),g=this.getDataForPlotting());var c=[],d=this.canUsePreaggregatedData(),k=!0===this.model.get("dataOverflowed")&&this.model.get("aggData")&&0<this.model.get("aggData").length&&this.matchingAggType(a)===this.model.get("aggType")&&
d;if(k)this.model.get("aggDataOverflowed")&&(a=this.model.get("aggData").length,c.push("Showing the first "+a+" rows."));else if(this.model.get("dataOverflowed")&&this.model.get("data")&&0<this.model.get("data").length){var e=this.model.get("data").length;"table"===a?c.push("Showing the first "+e+" rows."):d&&!this.model.get("hideRunCommands")?c.push("Showing sample based on the first "+e+" rows. <a href='#' class='replot-link'>Plot over all results.</a><span class='replot-text'>Apply plot options for full results.</span>"):
c.push("Showing sample based on the first "+e+" rows.")}(a=this.model.get("aggError"))&&d&&c.push(this.makeErrorLink("Error plotting over all results",a));(k&&!0===this.model.get("aggSeriesLimitReached")||!k&&g&&!0===g.seriesLimitReached)&&c.push("Only showing the first ten series.");if(this.chart){a=this.getPlottingArea(c.length);d=this.model.get("yColumns")||g.columns;k=this.model.get("pivotColumns");try{this.chart.plot(g.data,g.key,g.columns,a.width,a.height,{yColumns:d,pivotColumns:k,usingAggData:this.usingAggData}),
"auto"===this.model.get("width")&&this.model.set({width:this.chart.width})}catch(pa){c.push(this.makeErrorLink("Error rendering plot",pa.stack)),window.recordEvent("renderingError",{error:"Error rendering plot"},pa.stack)}}this.resultDiv.find(".plotWarning").remove();for(var m in c)c.hasOwnProperty(m)&&this.resultDiv.append((0,h.default)("<p>").addClass("plotWarning").append(c[m]))}this.model.trigger("rendered")},queryChanged:function(){this.updateBindingListeners();this.chart=null;this.resultDiv=
(0,h.default)("<div>").addClass("results");this.lastCustomPlotOptions=this.lastDisplayType=null;this.model.set({resultType:null,data:null,schema:null,state:"running",running:!0},{silent:!0});this.autoSubmit&&this.submitQuery()},updateBindingListeners:function(){if(this.autoSubmit&&this.model.has("arguments")){this.stopListening(this.bindings);var a=this;b.default.keys(this.model.get("arguments")).forEach(function(b){a.listenTo(a.bindings,"change:"+b,a.submitQuery)})}},submitQuery:function(){this.model.submitQuery(this.bindings.toJSON())},
showPlotOptions:function(){var a=this.model.get("displayType");return this.isPlottable()&&!w.DisplayTypeUtils.isMLSpecificDisplayType(a)&&!this.model.get("hidePlotControls")},isPlottable:function(){return!1===this.customizable?!1:"table"===this.model.get("resultType")?!0:this.model.getParsedSchema().some(function(a){return q.default.isNumeric(a.type)})},getPlottingArea:function(a){var b=this.model.get("height");a&&b&&"auto"!==b&&(b-=t.default.OVERFLOW_HEIGHT*a);if(!this.customizable&&!this.resizable)return{width:this.model.get("maxChartWidth"),
height:b||230};a=this.model.get("width");!this.editable&&this.showPlotOptions()&&(b-=t.default.OPTION_BUTTON_HEIGHT);this.model.has("label")&&(b-=parseInt(F.default.getCSSProperty(this.model.get("label"),{width:a},"height"),10));return{width:a,height:b}},updateResultDiv:function(){var a=this.model.get("displayType");d.default.unmountComponentAtNode(this.resultDiv[0]);var c=(0,h.default)(this).parent(".results-and-comments");c.removeClass("figure-results-and-comments");"image"!==a||0===this.resultDiv.find(".figure").length?
this.resultDiv.html(""):console.log("Keeping old resultDiv for smooth transition");var g=this.model.getParsedSchema(),e=this.model.get("data");if("table"===a||"pivotTable"===a){if(g&&e){var n=g.map(function(a){return a.name}),v=this.getPlottingArea().height-7,f=(0,h.default)("<div>").addClass("results-table");f.css({"max-height":Math.max(v,0)+"px"});this.clickToScrollTables&&(f.attr("tabindex","-1"),f.addClass("noscroll"));var q=(0,h.default)("<div>").addClass("inner");f.append(q);q.css({"max-height":Math.max(v,
0)+"px"});"pivotTable"===a?(e=this.getDataForPlotting(),q.append(F.default.createTable(e.data,[e.key].concat(e.columns))),q.find("table").addClass("table-pivoted")):(a=g.map(function(a){return a.type}),q.append(F.default.createTable(e,n,a)));e=q.find("table");z.default.enable(e,!0);e.floatThead({scrollContainer:function(){return q},zIndex:1});e.floatThead("reflow");c.addClass("figure-results-and-comments");this.resultDiv.append(f);this.chart=null}}else if("markdown"===a)e=(0,h.default)("<div>").addClass("markdown"),
(new r.default(e)).render(m.CodeModeUtils.getCode(this.model.get("data"))),this.resultDiv.append(e);else if("image"===a){if(e&&0!==e.length){var f=void 0!==window.settings.files?window.settings.files:"",u=(0,h.default)('<div class="figure"></div>');this.autoCenterImg&&(u=(0,h.default)('<div class="figure auto-center-wrapper"></div>'));0<this.resultDiv.find(".figure").length?u=this.resultDiv.find(".figure"):this.resultDiv.append(u);c.addClass("figure-results-and-comments");c="";this.autoCenterImg&&
(c="auto-center-img");if(this.autoScaleImg||this.model.get("autoScaleImg"))c="auto-scale-img";var y=(0,h.default)('<img class="'+c+'"/>');0===e.indexOf("data:image/png")?y[0].src=e:y[0].src=f+e;y.load(function(){u.html(y)});c="";this.model.has("file")&&(c=this.model.get("file"));c!==e&&this.model.set({file:e},{silent:!0})}}else if("html"===a){var t=k.default.createElement(p.default,{enabled:this.resizable},k.default.createElement("div",{dangerouslySetInnerHTML:{__html:e}})),t=d.default.render(t,this.resultDiv[0]);
b.default.defer(function(){t.checkSizeAndSetWrapper()})}else"htmlSandbox"===a?0===e.indexOf("http")?this.resultDiv.html((0,aa.default)({frameId:G.BrowserUtils.generateGUID(),htmlContent:e})):(c="null"===window.location.origin?"*":window.location.origin,this.resultDiv.html((0,ha.default)({frameId:G.BrowserUtils.generateGUID(),cssUrl:B.ResourceUrls.getResourceUrl("lib/css/bootstrap.min.css"),parentUri:c,htmlContent:e}))):(this.chart=new {barChart:x.default,boxPlot:D.default,histogram:J.default,lineChart:L.default,
areaChart:I.default,mapPlot:K.default,pieChart:N.default,qqPlot:O.default,ROC:Q.default,quantilePlot:M.default,scatterPlot:U.default}[a](this.resultDiv[0],this.isStatic),e=this.model.has("customPlotOptions")?this.model.get("customPlotOptions"):{},b.default.has(e,a)?this.chart.setOptions(e[a]):(e[a]=this.chart.getOptions(),this.model.set(e,{silent:!0})),this.resultDiv.append(this.chart))},removeUnusedKeys:function(){var a=this;["xColumns","yColumns","pivotColumns"].forEach(function(c){var g=a.model.get(c)||
[];g.forEach(function(d){if("<id>"!==d&&!b.default.findWhere(a.model.get("schema"),{name:d})){var k={};k[c]=b.default.without(g,d);a.model.set(k)}})})},getDataForPlotting:function(){var a=null,a=this.model.get("xColumns")||this.model.get("yColumns")||this.model.get("pivotColumns")?this.getPreChosenPlotData():this.inferDataForPlotting();a.data.forEach(function(a){for(var b=0;b<a.length;b++)"string"===typeof a[b]||isFinite(a[b])||(a[b]=0)});return a},getPreChosenPlotData:function(){var a=this.model.get("displayType"),
b=this.model.get("aggData"),c;this.usingAggData=!1;!0===this.model.get("dataOverflowed")&&this.canUsePreaggregatedData()&&b&&0<b.length&&this.matchingAggType(a)===this.model.get("aggType")?(this.usingAggData=!0,c=this.model.getParsedAggregatedSchema()):(b=this.addIndexField(this.model.get("data")),c=this.model.getParsedSchema());var g=this.model.get("xColumns"),d=this.model.get("yColumns"),k=this.model.get("pivotColumns"),h=this.model.get("pivotAggregation")||"sum",e=h;this.usingAggData&&"count"===
h&&(e="sum");h=P.default[e];return"pivotTable"===a?(a=c.concat([{name:"<id>",metadata:{}}]),P.default.pivot(b,a,g,d,k,h)):"histogram"===a&&this.usingAggData?{data:b,columns:d,key:g.join(", ")}:this.chart.prepareData(b,c,g,d,k,h)},addIndexField:function(a){for(var b=Array(a.length),c=0;c<a.length;c++)b[c]=a[c].concat([c]);return b},inferColumnsForPlotting:function(){var a=this.model.getParsedSchema();return this.chart?this.chart.inferColumns(a):E.default.prototype.inferColumns(a)},inferDataForPlotting:function(){var a=
this.addIndexField(this.model.get("data")||[]),b=this.model.get("displayType"),c=[],g=this.model.getParsedSchema(),d=P.default.sum;if("pivotTable"===b)return g=g.concat([{name:"<id>",metadata:{}}]),b=this.inferColumnsForPlotting(),P.default.pivot(a,g,b.xColumns,b.yColumns,c,d);b=this.chart.inferColumns(g);return this.chart.prepareData(a,g,b.xColumns,b.yColumns,c,d)},createPlotControls:function(){var a=this.model.get("displayType");b.default.contains(Y.default.complexPlotTypes,this.lastComplexView)||
(this.lastComplexView=Y.default.complexPlotTypes[0]);var c=(0,h.default)((0,X.default)({curType:a,lastComplexView:this.lastComplexView,PlotControls:Y.default}));c.find("a[data-type="+a+"]").addClass("active");var g=c.find(".btn-group");g.on("click",function(){var a=c.find(".dropdown-menu"),b=a.height(),d=g.height();g.offset().top+2*d+b>=window.innerHeight?a.css("top",-d/2-b-4+"px"):a.css("top","100%")});return c},createDownloadControls:function(a,b){var c=(0,h.default)((0,T.default)({showFullDownloadOption:a,
disableFullDownloadReason:b})),g=c.find(".btn-group");g.on("click",function(){var a=c.find(".dropdown-menu"),b=a.height(),d=g.height();g.offset().top+2*d+b>=window.innerHeight?a.css("top",-d/2-b-4+"px"):a.css("top","100%")});return c},changeDisplayType:function(a){a.preventDefault();a=(0,h.default)(a.target).closest("a").data("type");if(a!==this.model.get("displayType")){var b={displayType:a};"auto"===this.model.get("width")||"table"!==a&&"pivotTable"!==a||(b.width="auto");this.model.set(b);this.$(".active").removeClass("active");
this.$("a[data-type="+a+"]").addClass("active")}},replotOverAllData:function(a){a.preventDefault();var c=this.inferColumnsForPlotting();a=this.model.get("xColumns")||c.xColumns;var c=this.model.get("yColumns")||c.yColumns,g=this.model.get("pivotColumns")||[],d=this.model.get("pivotAggregation")||"sum",k=this.model.get("customPlotOptions")||{};this.model.set({xColumns:a,yColumns:c,pivotColumns:g,pivotAggregation:d,customPlotOptions:b.default.cloneDeep(k)},{silent:!0});this.model.trigger("plotOverAll");
!0===this.autoSubmit&&this.submitQuery()},extractItems:function(a){var c=[];a.find("li").each(function(){var a=b.default.unescape((0,h.default)(this).data("name"));c.push(a)});return c},customizePlotData:function(c){c.preventDefault();var g=this;c=this.inferColumnsForPlotting();var d=this.model.get("xColumns")||c.xColumns,k=this.model.get("yColumns")||c.yColumns,e=this.model.get("pivotColumns")||[];c=this.model.get("schema").map(function(a){return a.name}).concat(["<id>"]);var m=this.model.get("pivotAggregation")||
"sum",n=this.model.get("displayType"),v=(0,h.default)((0,R.default)({allColumns:c,xColumns:d,yColumns:k,pivotColumns:e,pivotAggregation:m,displayType:n,PlotControls:Y.default})),f=function(a){var c=a.model.get("displayType");if(a.chart){var g=[],d=[];v.find(".custom-plot-options input").each(function(){if("text"===this.type){var a=b.default.unescape((0,h.default)(this).val().trim());g.push(a)}else"checkbox"===this.type?g.push(this.checked):"radio"===this.type&&g.push(this.checked)});var k=a.chart.getOptions();
if(g.length===k.length){for(var e=0;e<k.length;e++)d.push({key:k[e].key,value:g[e]});a.chart.setOptions(d);k=a.model.get("customPlotOptions");k[c]=d;a.model.set(k,{silent:!0});a.render()}}},q=function(a){if(a.chart){var c=v.find(".custom-plot-options");c.empty();b.default.each(a.chart.getOptions(),function(a){c.append((0,ba.default)({inputType:a.inputType||"text",label:a.label,key:a.key,value:a.value}))});var g;c.find(".plot-options").on("keyup change input",function(){clearTimeout(g);g=setTimeout(function(){f(a)},
500)})}};c=v.find(".plot-preview");var p=new y.default({query:"",data:g.model.get("data"),dataOverflowed:g.model.get("dataOverflowed"),schema:g.model.get("schema"),isJsonSchema:g.model.get("isJsonSchema"),running:!1,maxChartWidth:480,height:250,displayType:w.DisplayTypeUtils.computeDisplayType(this.model.get("displayType"),this.model.get("resultType")),resultType:g.model.get("resultType"),xColumns:d,yColumns:k,pivotColumns:e,pivotAggregation:m,customPlotOptions:b.default.cloneDeep(g.model.get("customPlotOptions")),
customizable:!1,resizable:!1,downloadable:!1,hideRunCommands:g.model.get("hideRunCommands")}),z=a("../../notebook/commands/DashboardView"),r=new u.default({widgets:[p]}),t=new z({model:r,autoSubmit:!1});c.append(t.el);t.render();q(t.widgetViews[0]);var B=function(){d=g.extractItems(v.find(".dst-list-x"));k=g.extractItems(v.find(".dst-list-y"));e=g.extractItems(v.find(".dst-list-pivot"));m=v.find(".input-aggregation").val();n=v.find(".input-display-type").val()},l=function(){B();var a=t.widgetViews[0];
p.set({xColumns:d,yColumns:k,pivotColumns:e,pivotAggregation:m,displayType:n});f(a);q(a)};v.find(".src-item").draggable({connectToSortable:".dst-list",helper:"clone",revert:"invalid",revertDuration:250,appendTo:".customize-dialog-body"});v.find(".dst-list-item").each(function(){var a=(0,h.default)(this);a.find(".closeButton").click(function(){a.remove();l()})});v.find(".dst-list").sortable({revert:250,connectWith:".dst-list",tolerance:"pointer",stop:function(a,b){var c=0;(0,h.default)(this).find("li").each(function(){if((0,
h.default)(this).text().trim()===b.item.text().trim())if(c++,2===c)b.item.remove();else if(!(0,h.default)(this).hasClass("dst-list-item")){(0,h.default)(this).attr("class","dst-list-item");var a=(0,h.default)('<btn class="closeButton"><i class="fa fa-remove"></i></btn>');(0,h.default)(this).prepend(a);var g=(0,h.default)(this);a.click(function(){g.remove();l()})}});l()}});v.find("select").on("change",l);v.on("hidden",function(){v.remove();(0,h.default)(".modal-backdrop").remove()});v.modal("show");
v.find(".save-button").on("click",function(a){a.preventDefault();B();g.model.set({xColumns:[],yColumns:[],pivotColumns:[],pivotAggregation:""},{silent:!0});g.model.set({xColumns:d,yColumns:k,pivotColumns:e,pivotAggregation:m,customPlotOptions:b.default.cloneDeep(p.get("customPlotOptions")),displayType:n});f(g);v.modal("hide");(0,h.default)(".modal-backdrop").remove();!0===g.autoSubmit&&g.submitQuery()})},showEditDialog:function(){var a=this,b=(0,h.default)((0,ca.default)({mode:"edit",language:this.model.get("language")||
"sql",guid:this.model.get("guid")||G.BrowserUtils.generateGUID(),label:this.model.get("label")||"",query:this.model.get("query")||""}));b.on("hidden",function(){b.remove();(0,h.default)(".modal-backdrop").remove()});b.modal("show");b.find(".save-button").on("click",function(c){c.preventDefault();c=b.find(".input-label").val()||null;var g=b.find(".input-query").val()||"",d=b.find(".language-select").val();a.model.set({label:c,language:d,query:g,resultType:null});a.autoSubmit&&a.submitQuery();b.modal("hide");
b.remove();(0,h.default)(".modal-backdrop").remove()})},getBrowserData:function(){if("table"!==this.model.get("displayType")){var a=this.getDataForPlotting();return{columnNames:[a.key].concat(a.columns),rows:a.data}}var b=this.model.getParsedSchema(),a=b.map(function(a){return a.name}),c=this.model.get("data").map(function(a){for(var c=Array(a.length),g=0;g<a.length;g++)"object"===e(a[g])&&b[g].type?c[g]=v.default.apply(a[g],b[g].type):c[g]=a[g];return c});return{columnNames:a,rows:c}},downloadDataPreview:function(a){a.preventDefault();
this.model.trigger("triggerDownload",this.getBrowserData.bind(this),!0)},downloadData:function(a){a.preventDefault();this.model.trigger("triggerDownload",this.getBrowserData.bind(this),!1)},resultsTableFocused:function(){this.clickToScrollTables&&this.$(".results-table").removeClass("noscroll")},resultsTableBlurred:function(){this.clickToScrollTables&&this.$(".results-table").addClass("noscroll")},canUsePreaggregatedData:function(){var a=this.inferColumnsForPlotting(),c=this.model.get("xColumns")||
a.xColumns,a=this.model.get("yColumns")||a.yColumns,g=this.model.get("pivotColumns")||[];return 0<=c.concat(a).concat(g).indexOf("<id>")?!1:b.default.contains("barChart lineChart areaChart pieChart mapPlot pivotTable histogram".split(" "),this.model.get("displayType"))},matchingAggType:function(a){var c={barChart:"scalar",lineChart:"scalar",areaChart:"scalar",pieChart:"scalar",mapPlot:"scalar",pivotTable:"scalar",histogram:"histogram"};return b.default.contains(b.default.keys(c),a)?c[a]:""}});l.exports=
f},{"../../../lib/jquery.floatThead-patched":404,"../../acl/WorkspacePermissions":10,"../../notebook/CodeModeUtils":140,"../../notebook/NotebookUtilities":179,"../../notebook/commands/DashboardView":197,"../../notebook/commands/DisplayTypeUtils":198,"../../notebook/commands/LargeOutputWrapper.jsx":199,"../../notebook/commands/Markdown":200,"../../notebook/dashboards/Dashboard":207,"../../notebook/dashboards/DashboardConstants":208,"../../notebook/dashboards/DataWidget":219,"../../notebook/dashboards/WidgetView":223,
"../../requests/PostMessage":229,"../../tables/HiveSchema":255,"../../templates/customPlotOptionsTemplate.html":268,"../../templates/customizeDialog.html":269,"../../templates/downloadControls.html":276,"../../templates/editViewDialog.html":278,"../../templates/iframeSandbox.html":280,"../../templates/plotControls.html":283,"../../templates/urlSandbox.html":289,"../../ui_building_blocks/Nestify":292,"../../urls/ResourceUrls":322,"../../user_platform/BrowserUtils":344,"../../visualizations/AreaChart":353,
"../../visualizations/BarChart":354,"../../visualizations/BoxPlot":355,"../../visualizations/Chart":357,"../../visualizations/DomUtil":360,"../../visualizations/Histogram":361,"../../visualizations/LineChart":364,"../../visualizations/MapPlot":366,"../../visualizations/PieChart":368,"../../visualizations/Pivot":370,"../../visualizations/PlotControls":371,"../../visualizations/QQPlot":373,"../../visualizations/QuantilePlot":374,"../../visualizations/ROCPlot":375,"../../visualizations/ScatterPlotMatrix":378,
jquery:819,lodash:842,react:1001,"react-dom":865}],219:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("lodash");var e=c(f);f=a("../../acl/WorkspacePermissions");var h=c(f);f=a("../../notebook/Widget");var b=c(f),k=a("../../notebook/commands/DisplayTypeUtils");a=a("../../tables/HiveSchema");var d=c(a);a=b.default.extend({initialize:function(){b.default.prototype.initialize.call(this);this.setIfMissing("label",null);this.setIfMissing("type","data");this.setIfMissing("schema",
[]);this.setIfMissing("isJsonSchema",!1);this.setIfMissing("data",[]);this.setIfMissing("aggSchema",[]);this.setIfMissing("aggData",[]);this.setIfMissing("state","running");this.setIfMissing("error",null);this.setIfMissing("displayType","table");this.setIfMissing("resultType",null);this.setIfMissing("running",!0);this.setIfMissing("language","sql");this.setIfMissing("customizable",!0);this.setIfMissing("dbfsResultPath",null);this.setIfMissing("dataOverflowed",!1);this.setIfMissing("aggDataOverflowed",
!1);this.setIfMissing("aggError","");this.setIfMissing("xColumns",null);this.setIfMissing("yColumns",null);this.setIfMissing("pivotColumns",null);this.setIfMissing("pivotAggregation",null);this.setIfMissing("customPlotOptions",{});this.setIfMissing("resizable",!0);this.setIfMissing("hideRunCommands",!0);this.setIfMissing("permissionLevel",h.default.MANAGE)},_parseSchema:function(a){var b=this.get("isJsonSchema");return(a||[]).map(function(a){var c;c=b?d.default.parseJson(JSON.parse(a.type)):d.default.parse(a.type);
return{name:a.name,type:c,metadata:a.metadata?JSON.parse(a.metadata):{}}})},getParsedSchema:function(){return this._parseSchema(this.get("schema"))},getParsedAggregatedSchema:function(){return this._parseSchema(this.get("aggSchema"))},toJSON:function(a){return e.default.omit(b.default.prototype.toJSON.call(this,a),"data schema isJsonSchema aggData aggSchema state running error dbfsResultPath permissionLevel".split(" "))},submitQuery:function(a){if(this.has("query")){a=a||{};var b=this.get("query"),
c=this.get("language");this.set("running",!0);this.lastRPC&&!this.lastRPC.completed&&this.lastRPC.cancel();this.lastRPC=window.conn.wsClient.sendRPC("query",{data:{query:b,xColumns:this.get("xColumns"),yColumns:this.get("yColumns"),pivotColumns:this.get("pivotColumns"),pivotAggregation:this.get("pivotAggregation"),customPlotOptions:e.default.cloneDeep(this.get("customPlotOptions")),displayType:this.get("displayType"),language:c,bindings:a},success:e.default.bind(this.onResult,this),error:e.default.bind(this.onError,
this)})}},onResult:function(a){this.set({state:"finished",displayType:k.DisplayTypeUtils.computeDisplayType(this.get("displayType"),a.type),resultType:a.type,error:null,schema:a.schema,isJsonSchema:a.isJsonSchema,data:a.data,arguments:a.arguments,dataOverflowed:a.overflow,aggSchema:a.aggSchema,aggData:a.aggData,aggDataOverflowed:a.aggOverflow,aggError:a.aggError,aggSeriesLimitReached:a.aggSeriesLimitReached,aggType:a.aggType,running:!1,dbfsResultPath:a.dbfsResultPath})},onError:function(a,b){b.clientCancelled||
this.set({state:"error",data:a,resultType:"html",displayType:"html",schema:null,aggData:null,aggSchema:null,running:!1})}});l.exports=a},{"../../acl/WorkspacePermissions":10,"../../notebook/Widget":196,"../../notebook/commands/DisplayTypeUtils":198,"../../tables/HiveSchema":255,lodash:842}],220:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("./WidgetView");var b=c(f);f=a("../../ui_building_blocks/dialogs/DeprecatedDialogBox");
var k=c(f),d=a("../../user_platform/BrowserUtils");f=a("../../templates/editInputDialog.html");var n=c(f);a=a("../../templates/comboBox.html");var m=c(a);a=b.default.extend({initialize:function(a){b.default.prototype.initialize.call(this,a);var c=this;this.bindings=a.bindings;this.configurable=(this.editable=a.editable)||this.model.get("configurable");this.listenTo(this.bindings,"change:"+this.model.get("binding"),this.bindingValueChanged);this.listenTo(this.model,"change",this.render);this.$el.addClass("widget-input");
this.editable&&this.$el.droppable({tolerance:"intersect",drop:function(a,b){a=c.parent.widgetViews;for(var d=null,h=0;h<a.length;h++)if(a[h].el===b.draggable[0]){d=a[h];break}b=c.model.get("binding");d.model.get("binding")===b?k.default.confirm({message:"Do you want to merge these input widgets?",confirmButton:"Confirm and merge",cancelButton:"Cancel",confirm:function(){d.$el.fadeOut(250,function(){d.removeFromDashboard()})}}):k.default.alert("Cannot merge widgets with different bound variables.")},
over:function(a,b){(0,e.default)(b.draggable).addClass("glow-drop");(0,e.default)(c.$el).hasClass("glow-dep")&&((0,e.default)(c.$el).addClass("had-glow-dep"),(0,e.default)(c.$el).removeClass("glow-dep"));(0,e.default)(c.$el).addClass("glow-drop")},out:function(){(0,e.default)(".widget").removeClass("glow-drop");(0,e.default)(c.$el).hasClass("had-glow-dep")&&((0,e.default)(c.$el).addClass("glow-dep"),(0,e.default)(c.$el).removeClass("had-glow-dep"))}})},events:{"change .input-box":"onValueChanged",
"keyup .input-box":"onKeyUp","click .dropdown-item":"onDropdownItemClicked"},render:function(){var a=this,b=this;this.contentArea.html("");var c="",d="";this.model.has("label")&&(c=this.model.get("label")+": ",d=this.model.get("label"));var k=this.bindings.get(this.model.get("binding")),n=this.model.get("controlType");if("text"===n){var f=(0,e.default)("<p>"),l=(0,e.default)("<input>");l.addClass("input-box");l.attr("type","text");l.attr("value",k);l.attr("data-name",d);f.text(c);f.append(l);this.contentArea.append(f);
this.changeTextBoxFormatting()}else"dropdown"===n||"multiSelect"===n?function(){var b=[k];"multiSelect"===n&&(b=k.split(",").map(function(a){return a.trim()}));var d=(0,e.default)("<select>",{class:"input-box"});"multiSelect"===n&&d.attr("multiple","");a.model.get("choices").forEach(function(a){var c=(0,e.default)("<option>");c.attr("value",a);c.prop("selected",h.default.contains(b,a));c.text(a);d.append(c)});var m=(0,e.default)("<p>").text(c);"dropdown"===n?(a.contentArea.append(m),m.append(d)):
(""!==c&&a.contentArea.append(m),a.contentArea.append(d))}():"comboBox"===n&&function(){var g=(0,e.default)((0,m.default)({label:c,value:k,choices:a.model.get("choices")}));a.contentArea.append(g);var d=g.find(".dropdown-menu"),h=g.find(".input-box"),n=g.find("button");n.click(function(){b.parent.$el.find(".widget").css("z-index",10);b.$el.css("z-index",20);d.css({left:-h.outerWidth()+"px",width:h.outerWidth()+n.outerWidth()})})}();this.model.has("guid")&&b.$el.attr("data-guid",b.model.get("guid"))},
changeTextBoxFormatting:function(){!0===this.model.get("globalConst")?this.$(".input-box").addClass("globalConstiable"):this.$(".input-box").removeClass("globalConstiable")},getInput:function(){var a=this.$(".input-box").val();h.default.isArray(a)&&(a=a.join(", "));null===a&&(a="");return a},submitQuery:function(){var a=this.model.get("binding"),b=this.getInput();this.bindings.get(a)===b?(this.bindings.trigger("change:"+a),this.bindings.trigger("change")):this.bindings.set(a,b);this.bindings.trigger("submitBindings")},
saveChange:function(){var a={};a[this.model.get("binding")]=this.getInput();this.bindings.set(a,{silent:!0})},onValueChanged:function(){var a=this.model.get("controlType");"text"!==a&&"comboBox"!==a?this.submitQuery():this.saveChange()},onKeyUp:function(a){var b=this.model.get("controlType");"text"!==b&&"comboBox"!==b||13!==a.keyCode||this.submitQuery()},bindingValueChanged:function(){var a=this.bindings.get(this.model.get("binding"))||"";"multiSelect"===this.model.get("controlType")&&(a=a.split(",").map(function(a){return a.trim()}));
this.$(".input-box").val(a)},onDropdownItemClicked:function(a){a.preventDefault();a=(0,e.default)(a.target).text();this.$(".input-box").val(a);this.submitQuery()},showEditDialog:function(){var a=this,b=(0,e.default)((0,n.default)({mode:"edit",guid:this.model.get("guid")||d.BrowserUtils.generateGUID(),label:this.model.get("label")||"",binding:this.model.get("binding")||"",controlType:this.model.get("controlType")||"text",choices:this.model.get("choices")||[]})),c=function(){"text"===b.find(".input-control-type").val()?
b.find(".choices-area").hide():b.find(".choices-area").show()};c();b.find(".input-control-type").change(c);b.on("hidden",function(){b.remove();(0,e.default)(".modal-backdrop").remove()});b.modal("show");b.find(".save-button").on("click",function(c){c.preventDefault();c=b.find(".input-label").val()||null;var d=b.find(".input-binding").val()||"",k=b.find(".input-control-type").val(),h=b.find(".input-choices").val().split(",").map(function(a){return a.trim()});"text"===k&&(h=[]);var m=a.model.get("binding");
d!==m&&(a.stopListening(a.bindings,"change:"+m),a.listenTo(a.bindings,"change:"+d,a.bindingValueChanged),a.bindingValueChanged());a.model.set({label:c,binding:d,controlType:k,choices:h});b.modal("hide");b.remove();(0,e.default)(".modal-backdrop").remove()})}});l.exports=a},{"../../templates/comboBox.html":267,"../../templates/editInputDialog.html":277,"../../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../../user_platform/BrowserUtils":344,"./WidgetView":223,jquery:819,underscore:1021}],221:[function(a,
l,f){var c=(f=a("react"))&&f.__esModule?f:{default:f},e=(a=a("../../notebook/dashboards/DashboardViewConstants"))&&a.__esModule?a:{default:a};a=c.default.createClass({displayName:"Scalar",propTypes:{children:c.default.PropTypes.node,scale:c.default.PropTypes.number},getDefaultProps:function(){return{scale:1}},_getStyle:function(){return{transform:"scale("+Math.pow(e.default.SCALAR_BASE,this.props.scale)+")",transformOrigin:"left top"}},render:function(){return c.default.createElement("div",{className:"scalar",
style:this._getStyle()},this.props.children)}});l.exports=a},{"../../notebook/dashboards/DashboardViewConstants":215,react:1001}],222:[function(a,l,f){var c=(f=a("underscore"))&&f.__esModule?f:{default:f},e=(a=a("react"))&&a.__esModule?a:{default:a};a=e.default.createClass({displayName:"SelectionInput",propTypes:{defaultValue:e.default.PropTypes.string.isRequired,options:e.default.PropTypes.arrayOf(e.default.PropTypes.string).isRequired,onChange:e.default.PropTypes.func.isRequired,className:e.default.PropTypes.string,
label:e.default.PropTypes.string},getInitialState:function(){return{value:this.props.defaultValue,updating:!1}},getLabel:function(){return this.props.label?e.default.createElement("span",null,this.props.label,":"):null},getOptions:function(){return c.default.uniq(this.props.options).map(function(a){return e.default.createElement("option",{key:a,value:a},a)})},onChange:function(a){var b=this;a=a.target.value;this.setState({value:a,updating:!0});this.props.onChange(a,function(){return b.setState({updating:!1})})},
render:function(){return e.default.createElement("div",{className:"react-selection "+this.props.className},this.getLabel(),e.default.createElement("select",{value:this.state.value,onChange:this.onChange,disabled:this.state.updating?!0:null},this.getOptions()))}});l.exports=a},{react:1001,underscore:1021}],223:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("backbone");f=c(f);var b=a("../../notebook/dashboards/DashboardConstants"),
k=c(b),b=a("../../notebook/NotebookUtilities"),d=c(b);a=a("../../ui_building_blocks/dialogs/DeprecatedDialogBox");var n=c(a);a=f.default.View.extend({initialize:function(a){var b=this;this.options=a||{};var c=this;this.editable=this.options.editable;this.configurable=this.model.has("configurable")?this.model.get("configurable"):!1;this.parent=this.options.parent;this.resizable=this.model.get("resizable");this.customizable=this.model.get("customizable");this.$el.addClass("widget");this.editable&&this.$el.addClass("movable");
this.$el.css({left:this.model.get("x")+"px",top:this.model.get("y")+"px",width:d.default.fixLength(this.model.get("width")),height:d.default.fixLength(this.model.get("height"))});this.editable?function(){var a=k.default.GRID_STEP;b.$el.draggable({grid:[a,a],stack:".widget"});b.$el.resizable({grid:a,handles:"all",minWidth:140,minHeight:30});var d=function(a){c.parent.coordinatesBox.text(Math.round(a.position().left)+", "+Math.round(a.position().top)+", "+Math.round(a.width())+"x"+Math.round(a.height()))};
b.$el.click(function(){c.parent.editMode&&(c.select(),c.bringWidgetOnTop(),d(c.$el))});b.$el.on("resizestart",function(a,b){c.select();c.bringWidgetOnTop();c.parent.$el.addClass("resize-active");d(b.element)});b.$el.on("resize",function(a,b){d(b.element);c.parent.updateHeight()});b.$el.on("resizestop",function(a,b){d(b.element);c.model.set({width:b.element.width(),height:b.element.height(),x:b.helper.position().left,y:b.helper.position().top});c.parent.$el.removeClass("resize-active");c.render()});
b.$el.on("dragstart",function(){c.select();c.parent.$el.addClass("drag-active")});b.$el.on("dragstop",function(a,b){c.parent.$(".widget").removeClass("glow-drop");c.select();d(b.helper);c.model.set({x:b.helper.position().left,y:b.helper.position().top});c.parent.$el.removeClass("drag-active")});b.$el.on("drag",function(a,b){b&&(d(b.helper),c.parent.updateHeight())})}():this.resizable&&(this.$el.resizable({handles:"se",minWidth:140,minHeight:30,maxWidth:this.customizable?this.parent.$el.width():this.model.get("maxChartWidth")}),
this.$el.on("resizestart",function(){c.select();c.$el.resizable({maxWidth:c.customizable?c.parent.$el.width():c.model.get("maxChartWidth")})}),this.$el.on("resizestop",function(a,b){c.model.set({width:b.element.width(),height:b.element.height()});c.deselect();c.parent.modelChanged();c.render()}));if(this.configurable||this.editable){a=(0,e.default)('<div class="widget-controls"></div>');var m=(0,e.default)('<span class="wrapper"></div>');a.append(m);var n=(0,e.default)('<a class="edit-button" title="Edit" href="#"><i class="fa fa-pencil"></i></a>');
n.on("click",h.default.bind(this.onEdit,this));m.append(n);this.editable&&(n=(0,e.default)('<a class="remove-button" title="Delete" href="#"><i class="fa fa-remove"></i></a>'),n.on("click",h.default.bind(this.onRemove,this)),m.append(n));this.$el.append(a)}this.contentArea=(0,e.default)("<div>").attr("class","widget-content");this.$el.append(this.contentArea);this.listenTo(this.model,"change:x change:y change:width change:height",this.coordinatesChanged);this.listenTo(this.model,"change:resizable",
this.resizabilityChanged);this.listenTo(this.model,"change",this.modelChanged);h.default.defer(function(){c.curHeight=c.$el.height()})},resizabilityChanged:function(){if(!this.editable){this.resizable=this.model.get("resizable");var a=this;!0===a.resizable?(a.oldWidth&&a.oldHeight&&this.model.set({width:a.oldWidth,height:a.oldHeight}),a.$el.resizable({handles:"se",minWidth:140,minHeight:30,maxWidth:this.customizable?this.parent.$el.width():this.model.get("maxChartWidth")}),a.$el.on("resizestart",
function(){a.select();a.$el.resizable({maxWidth:a.customizable?a.parent.$el.width():a.model.get("maxChartWidth")})}),a.$el.on("resizestop",function(b,c){a.model.set({width:c.element.width(),height:c.element.height()});a.deselect()})):(a.$el.resizable("destroy"),a.oldWidth=a.model.get("width"),a.oldHeight=a.model.get("height"),a.model.set({width:"auto",height:"auto"}))}},getCurrentHeight:function(){return this.curHeight},modelChanged:function(){var a=this;if(this.model.changedAttributes()){var b=h.default.keys(this.model.changedAttributes());
0<h.default.difference(b,["data","schema","state","running","error"]).length&&setTimeout(function(){a.parent.modelChanged()},0)}},coordinatesChanged:function(){this.$el.css({left:this.model.get("x")+"px",top:this.model.get("y")+"px",width:d.default.fixLength(this.model.get("width")),height:d.default.fixLength(this.model.get("height"))});this.parent.updateHeight()},select:function(){this.parent.$(".widget").removeClass("glow");this.parent.$(".widget").removeClass("glow-dep");this.$el.addClass("glow");
for(var a=this.getDependentWidgets(),b=0;b<a.length;b++)a[b].$el.addClass("glow-dep")},deselect:function(){this.parent.$(".widget").removeClass("glow");this.parent.$(".widget").removeClass("glow-dep");this.$el.removeClass("glow");for(var a=this.getDependentWidgets(),b=0;b<a.length;b++)a[b].$el.removeClass("glow-dep")},onRemove:function(a){a.preventDefault();var b=this;a.shiftKey?b.removeFromDashboard():n.default.confirm({message:"Are you sure you want to remove this widget?",confirmButton:"Remove Widget",
confirm:function(){b.removeFromDashboard()}})},removeFromDashboard:function(){console.log("removeFromDashboard");var a=this.parent.model;a.set("widgets",h.default.without(a.get("widgets"),this.model));this.model.destroy();this.parent.widgetViews=h.default.without(this.parent.widgetViews,this);delete this.parent.guidToWidgetView[this.model.get("guid")];this.parent.modelChanged();this.remove()},onEdit:function(a){a.preventDefault();void 0!==this.showEditDialog&&this.showEditDialog()},bringWidgetOnTop:function(){var a=
this.parent.widgetViews,b=0,c=-1E3,d,k;for(d=0;d<a.length;d++)k=parseInt(a[d].$el.css("z-index"),10),k>b?b=k:c=k;if(c===b)this.$el.css("z-index",parseInt(b+1,10));else{c=parseInt(this.$el.css("z-index"),10);for(d=0;d<a.length;d++)k=parseInt(a[d].$el.css("z-index"),10),c<k&&a[d].$el.css("z-index",parseInt(k-1,10));this.$el.css("z-index",b)}},getDependentWidgets:function(){var a=this.parent.widgetViews,b=[],c,d,k,e,n;if("input"===this.model.get("type"))for(c=this.model.get("binding"),k=0;k<a.length;k++)e=
a[k],e!==this&&("input"===e.model.get("type")?c===e.model.get("binding")&&b.push(e):(d=e.model.get("query"),n=e.model.has("arguments")?h.default.keys(e.model.get("arguments")):{},console.log("compare "+c," to ",d),"undefined"!==typeof d&&"undefined"!==typeof c&&h.default.contains(n,c)&&b.push(e)));else for(d=this.model.get("query"),n=this.model.has("arguments")?h.default.keys(this.model.get("arguments")):{},k=0;k<a.length;k++)e=a[k],"input"===e.model.get("type")&&(c=e.model.get("binding"),e!==this&&
(console.log("compare "+c," to ",d),"undefined"!==typeof d&&"undefined"!==typeof c&&h.default.contains(n,c)&&b.push(e)));return b}});l.exports=a},{"../../notebook/NotebookUtilities":179,"../../notebook/dashboards/DashboardConstants":208,"../../ui_building_blocks/dialogs/DeprecatedDialogBox":297,backbone:407,jquery:819,underscore:1021}],224:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(){return window.settings&&window.settings.enablePresenceUI}f=a("jquery");var h=c(f);
f=a("underscore");var b=c(f);f=a("backbone");f=c(f);var k=a("d3"),k=c(k),d=a("../user_platform/BrowserUtils"),n=f.default.Model.extend({defaults:{locationId:null,hasFocus:!0,commandId:null},initAttributes:function(a){this.set({landingTimestamp:(new Date).getTime(),sessionId:d.BrowserUtils.getBrowserTabId(),locationId:a})}});a=f.default.Model.extend({defaults:{sessions:[],history:[],currentStatus:null},listenerReady:!1,initialize:function(){var a=this;this.set("currentStatus",new n);this.listenTo(this.get("currentStatus"),
"change",this.onStatusChange);setInterval(function(){return a.hasFocus=document.hasFocus()},5E3);setInterval(function(){return a.saveCurrentStatus()},1E3)},checkUnreadAndAck:function(a){return a>this.notificationAckTime?(this.notificationAckTime=a,!0):!1},notificationAckTime:new Date,rpc:null,colorScale:k.default.scale.category10(),updateMarks:null,onPresenceUpdate:function(a,b){if(e())try{this.onPresenceUpdate0(a,b)}catch(w){console.error("Error processing presence update",w),window.recordEvent("renderingError",
{error:"Error processing presence update"},w.stack)}},onPresenceUpdate0:function(a){this.listenerReady=!0;var c=this,k=b.default.filter(a.sessions,function(a){return a.sessionId!==d.BrowserUtils.getBrowserTabId()});b.default.each(k,function(a){a.userName&&0<a.userName.length&&(a.displayInitial=a.userName[0].toUpperCase(),a.bgColor=c.colorScale(a.userId),a.opacity=a.hasFocus?1:.4)});k=b.default.sortBy(k,function(a){return a.timestamp});this.set("sessions",k);this.set("history",a.history);this.updateMarks&&
this.updateMarks(this.get("sessions"))},setLocation:function(a){function c(){d.rpc=window.conn.wsClient.sendRPC("presence",{data:d.get("currentStatus").toJSON(),update:b.default.bind(d.onPresenceUpdate,d),silent:!0,error:function(a,b){d.listenerReady=!1;b.clientCancelled||(console.log("Presence RPC disconnected, retrying..."),setTimeout(c,1E3))}})}if(e()){this.notificationAckTime=new Date;this.clear();this.showPresenceView();this.get("currentStatus").initAttributes(a);this.listenTo(this.get("currentStatus"),
"change",this.update);var d=this;c()}},pushHistory:function(a,b,c){e()&&window.conn.wsClient.sendRPC("presencePushHistory",{data:{locationId:c||this.get("currentStatus").get("locationId"),entry:{text:a,important:b}},silent:!0})},updateCurrentCommand:function(a,b){e()&&(this.notebookId=a,this.commandId=b)},updateCursorPosition:function(a,b,c,d){e()&&(this.notebookId=a,this.commandId=b,this.cursorStart=c,this.cursorEnd=d)},saveCurrentStatus:function(){e()&&this.get("currentStatus").set({hasFocus:this.hasFocus,
notebookId:this.notebookId,commandId:this.commandId,cursorStart:this.cursorStart,cursorEnd:this.cursorEnd})},onStatusChange:function(){e()&&this.listenerReady&&window.conn.wsClient.sendRPC("presenceUpdate",{silent:!0,data:this.get("currentStatus").toJSON()})},clear:function(){e()&&(this.hidePresenceView(),this.listenerReady=!1,this.rpc&&this.rpc.cancel())},showPresenceView:function(){(0,h.default)(".tb-status-presence").show()},hidePresenceView:function(){(0,h.default)(".tb-status-presence").hide();
(0,h.default)("#history").hide()}});l.exports=new a},{"../user_platform/BrowserUtils":344,backbone:407,d3:707,jquery:819,underscore:1021}],225:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("backbone");f=c(f);var b=a("../presence/Presence"),k=c(b),b=a("../templates/presence.html"),d=c(b),b=a("../templates/history.html"),n=c(b),m=a("../user_info/NameUtils"),q=a("../user_platform/DateTimeFormats");a=f.default.View.extend({initialize:function(){this.listenTo(this.model,
"change:sessions",this.render);this.listenTo(this.model,"change:history",this.renderHistory);this.renderHistory()},events:{"click li.presence-history":"toggleHistory","click li.presence-user":"focusUser"},previousHighlightedCommands:[],renderPresenceBorders:function(){var a=this;h.default.each(this.previousHighlightedCommands,function(a){(0,e.default)(a).css("border-color","#fff")});this.previousHighlightedCommands=[];h.default.each(this.model.get("sessions"),function(b){if(b.commandId){var c=".cell-"+
b.notebookId+"-"+b.commandId;(0,e.default)(c).css("border-color",b.bgColor);a.previousHighlightedCommands.push(c)}})},render:function(){this.$el.html((0,d.default)({NameUtils:m.NameUtils,sessions:h.default.sortBy(this.model.get("sessions"),function(a){return a.landingTimestamp})}));this.$el.find(".presence-user").tooltip({container:this.$el,placement:"bottom"});this.renderPresenceBorders()},focusUser:function(a){a=(0,e.default)(a.target).data("sessionid");var b=h.default.where(this.model.get("sessions"),
{sessionId:a});1!==b.length?console.error("Could not find target session",a):(a=b[0],a.commandId?(a=".cell-"+a.notebookId+"-"+a.commandId,(a=(0,e.default)(a).position())&&(0,e.default)("#content").animate({scrollTop:a.top},400)):(0,e.default)("#content").animate({scrollTop:0},400))},toggleHistory:function(){k.default.checkUnreadAndAck(new Date);(0,e.default)("#history").is(":visible")?(this.$el.find("li.presence-history").removeClass("active"),(0,e.default)("#history").hide()):(this.$el.find("li.presence-history").addClass("active").removeClass("new-message"),
(0,e.default)("#history").show(),(0,e.default)(".message-input-box").focus())},renderHistory:function(){var a=this.model.get("history"),b=!1,c=(0,e.default)("#history .message-input-box").remove();(0,e.default)("#history").html((0,n.default)({user:window.settings.user,myColor:k.default.colorScale(window.settings.userId),myDisplayInitial:window.settings.user[0].toUpperCase(),history:h.default.map(a,function(a){var c=new Date(a.timestamp);a.date=q.DateTimeFormats.formatDate(c);a.bgColor=k.default.colorScale(a.userId);
a.displayInitial=a.userName[0].toUpperCase();a.important&&c>k.default.notificationAckTime&&(b=!0);return a})}));(0,e.default)("#history").is(":visible")?((0,e.default)("ul li.presence-history").addClass("active"),(0,e.default)("ul li.presence-history").removeClass("new-message")):((0,e.default)("ul li.presence-history").removeClass("active"),b&&(0,e.default)("ul li.presence-history").addClass("new-message"));0<c.length&&(0,e.default)("#history .message-input-box").replaceWith(c);(0,e.default)("#history .message-input-box").keyup(function(a){13===
a.keyCode&&(a=(0,e.default)(this).val(),(0,e.default)(this).val(""),k.default.pushHistory(a,!0))});(0,e.default)("#history .hide-recent-activity").on("click",function(a){a.preventDefault();(0,e.default)("#history").hide();(0,e.default)("ul li.presence-history").removeClass("active")})}});l.exports=a},{"../presence/Presence":224,"../templates/history.html":279,"../templates/presence.html":284,"../user_info/NameUtils":325,"../user_platform/DateTimeFormats":345,backbone:407,jquery:819,underscore:1021}],
226:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.InstanceProfilesProtos=f.NotebookProtos=f.Protos=void 0;a=(a=a("protobufjs"))&&a.__esModule?a:{default:a};l=a.default.newBuilder();window.customProtoJson?a.default.loadJsonFile(window.customProtoJson,l):a.default.loadJsonFile("../proto/protobuf.json",l);a=l.build();f.Protos=a.central;f.NotebookProtos=a.notebook;f.InstanceProfilesProtos=a.instanceProfiles},{protobufjs:862}],227:[function(a,l,f){Object.defineProperty(f,"__esModule",
{value:!0});f.Counter=void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var k=c[b];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(a,k.key,k)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("jquery"))&&a.__esModule?a:{default:a};(f.Counter=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"incrementCounter",value:function(b,c){void 0===
a.counters[b]&&(a.counters[b]=0);a.counters[b]+=c||1;if(window.settings.showDebugCounters){b=[];for(var d in this.counters)this.counters.hasOwnProperty(d)&&b.push(d+": "+this.counters[d]);(0,e.default)("#debugCounters").text(b.join(", "))}}}]);return a}()).counters={xhr:0,ws:0,bytes:0}},{jquery:819}],228:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){this.dataHandlers={};this.sidebarHandler=a;this.clientVersion=-1;this.healthCheckRequest=this.pollTimeout=this.pollRequest=
null;this.healthCheckCount=0;this.wsClient=new k.default("/websocket?o="+window.settings.orgId);this.loggerClient=new d.UsageLogger(this.wsClient);this.updateQueue=[];this.updateQueueTask=null;this.onNextSuccessCallbacks=[];this.onConnectCallbacks=[];this.onDisconnectCallbacks=[];this.onBannerUpdateCallbacks=[];this.onInternalErrorCallbacks=[]}f=a("jquery");var h=c(f);f=a("underscore");var b=c(f);f=a("../requests/WebSocketClient");var k=c(f),d=a("../user_activity/UsageLogging"),n=a("../user_platform/BrowserUtils"),
m="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";-1!==m.indexOf("BUILD_ID_HERE")?console.warn("Client build id not set (expected in local mode)."):console.info("Client build id: "+m);e.prototype.start=function(){this.pollTimeout||this.sendPollRequest();this.scheduleHealthCheck();setInterval(b.default.bind(this.scheduleHealthCheck,this),15E3)};e.prototype.onNextSuccess=function(a){this.onNextSuccessCallbacks.push(a)};e.prototype.onConnect=function(a){this.onConnectCallbacks.push(a)};e.prototype.onDisconnect=function(a){this.onDisconnectCallbacks.push(a)};
e.prototype.onBannerUpdate=function(a){this.onBannerUpdateCallbacks.push(a)};e.prototype.onInternalError=function(a){this.onInternalErrorCallbacks.push(a)};e.prototype.setDataHandler=function(a,b){-1===a.indexOf("/",a.length-1)&&(a+="/");this.dataHandlers[a]=b;this.sendPollRequest()};e.prototype.removeDataHandler=function(a){delete this.dataHandlers[a];this.sendPollRequest()};e.prototype.prefetchNode=function(a,b){this.prefetchNodes([a],b)};e.prototype.prefetchNodes=function(a,c){console.debug("prefetching nodes: "+
a);var d=this;this.wsClient.sendRPC("deltas",{data:{prefetchNodes:a},success:function(a){console.debug("node prefetch success",a);b.default.each(a,function(a){d.sidebarHandler(a)});d.onNextSuccessCallbacks.forEach(function(a){a()});d.onNextSuccessCallbacks.length=0;c&&c()},error:function(a){window.oops("Failed to load item: "+a)}})};e.prototype.loadDirectory=function(a,c,d){console.debug("loading directory: "+a+", existing children "+JSON.stringify(c));var k=this;k.wsClient.sendRPC("deltas",{data:{loadDirectory:a,
childIdsToValidate:c},success:function(a){console.debug("loaded directory",a);b.default.each(a,function(a){k.sidebarHandler(a)});k.onNextSuccessCallbacks.forEach(function(a){a()});k.onNextSuccessCallbacks.length=0;d&&setTimeout(d,10)},error:function(a){window.oops("Failed to load directory: "+a)}})};e.prototype.sendPollRequest=function(){var a=this,c={sidebar:!0,subtrees:b.default.map(this.dataHandlers,function(a,b){a=b.split("/");return a[a.length-2]}).join(","),clientVersion:this.clientVersion};
this.pollTimeout&&clearTimeout(this.pollTimeout);this.pollTimeout=setTimeout(function(){null===a.updateQueueTask&&(c.clientVersion=a.clientVersion,a._sendPollRequestWebSocket(c))},10)};e.prototype._sendPollRequestWebSocket=function(a){this.pollRequest&&!this.pollRequest.completed&&this.pollRequest.cancel();this.pollRequest=this.wsClient.sendRPC("deltas",{data:a,success:b.default.bind(this.onWebSocketResult,this),error:b.default.bind(this.onWebSocketError,this)})};e.prototype.scheduleHealthCheck=function(){null===
this.healthCheckRequest&&(this.healthCheckCount+=1,this.healthCheckRequest=h.default.ajax("/health",{type:"GET",success:b.default.bind(this.onHealthCheckSuccess,this),error:b.default.bind(this.onHealthCheckFailed,this),timeout:1E4}),this.loggerClient.recordUsage("browserActivity",15E3,{browserHealthCheckCount:this.healthCheckCount}))};e.prototype.onHealthCheckSuccess=function(a,b,c){200===c.status&&a&&"ok"===a.health?((b=c.getResponseHeader("X-Databricks-Server-Name"))&&(0,h.default)("#debugRoute").text(b),
window.buildId=a.buildId,a.tablesError!==window.tablesError&&(window.tablesError=a.tablesError,window.sidebar.forceUpdateTables(),window.fileBrowserView.queueFileTreeRefresh()),this.onConnectCallbacks.forEach(function(a){a()}),this.onBannerUpdateCallbacks.forEach(function(b){b(a.banner)}),document.hasFocus()&&-1===m.indexOf("BUILD_ID_HERE")&&(a.buildId?m!==a.buildId&&(window.recordEvent("buildIdMismatch",{serverBuildId:a.buildId,clientBuildId:m}),console.warn("Server has different build id",a.buildId),
m=a.buildId):console.warn("Server sent empty build id.")),this.healthCheckRequest=null):(this.redirectIfCaptivePortal(a),this.onHealthCheckFailed(c,b))};e.prototype.onHealthCheckFailed=function(a){403===a.status&&(console.error("CSRF token rejected, attempting to fetch new token."),n.BrowserUtils.getSettings(window.settings.orgId));this.onDisconnectCallbacks.forEach(function(a){a()});this.healthCheckRequest=null};e.prototype.onWebSocketResult=function(a,b){if(!b.clientCancelled)try{this.onResultInternal(a)}catch(p){this.handleInternalError(p),
this.sendDelayedPollRequest()}};e.prototype.onResultInternal=function(a){if(void 0===a.version)this.redirectIfCaptivePortal(a),console.error("Strange result from server polling: "+a);else{a.version>=this.clientVersion?this.clientVersion=a.version:console.error("Server version "+a.version+" older than client version "+this.clientVersion);var c=this;b.default.each(a.updates,function(a){c.clientVersion<a.deltaVersion&&(c.clientVersion=a.deltaVersion);c.updateQueue.push(a)});c.processUpdateQueue();this.onConnectCallbacks.forEach(function(a){a()})}};
e.prototype.processUpdateQueue=function(){if(null===this.updateQueueTask)if(0===this.updateQueue.length)this.onNextSuccessCallbacks.forEach(function(a){a()}),this.onNextSuccessCallbacks.length=0,this.sendPollRequest();else{console.debug("processing delta updates: "+this.updateQueue.length+" items left");var a=this,b=function(){a.updateQueueTask=null;for(var b=0;0<a.updateQueue.length&&b<window.settings.deltaProcessingBatchSize;){var b=b+1,c=a.updateQueue.shift(),d;for(d in a.dataHandlers)if(a.dataHandlers.hasOwnProperty(d))try{if(0===
c.path.lastIndexOf(d,0)){a.dataHandlers[d](c);break}}catch(u){a.handleInternalError(u)}if(void 0!==a.sidebarHandler)try{a.sidebarHandler(c)}catch(u){a.handleInternalError(u)}}a.processUpdateQueue()};window.settings.deltaProcessingAsyncEnabled?this.updateQueueTask=setTimeout(b,10):b()}};e.prototype.onWebSocketError=function(a,b){try{this.onWebSocketErrorInternal(a,b)}catch(p){this.handleInternalError(p),this.sendDelayedPollRequest()}};e.prototype.onWebSocketErrorInternal=function(a,b){b.clientCancelled||
(console.error("Polling server failed:",a,b),this.sendDelayedPollRequest(),this.onDisconnectCallbacks.forEach(function(a){a()}))};e.prototype.redirectIfCaptivePortal=function(a){0===a.indexOf("<!DOCTYPE")&&(window.location="/login.html/?"+location.search+location.hash)};e.prototype.sendDelayedPollRequest=function(){console.log("Scheduling new poll in 3000 ms");this.pollTimeout&&clearTimeout(this.pollTimeout);this.pollRequest=null;this.pollTimeout=setTimeout(b.default.bind(this.sendPollRequest,this),
3E3)};e.prototype.handleInternalError=function(a){console.error("Internal error",a);try{this.onInternalErrorCallbacks.forEach(function(b){b(a)})}catch(w){console.error("Error handling internal error",w)}};l.exports=e},{"../requests/WebSocketClient":232,"../user_activity/UsageLogging":324,"../user_platform/BrowserUtils":344,jquery:819,underscore:1021}],229:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.PostMessage=f.POST_MESSAGE_TYPE=void 0;var c=function(){function a(a,b){for(var c=
0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),e=(a=a("lodash"))&&a.__esModule?a:{default:a},h=f.POST_MESSAGE_TYPE={RESIZE_EVENT:"frameResizeEvent",SIZED_EVENT:"frameSizedEvent",JS_ERROR:"frameJsError"};f.PostMessage=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"isEventFromSandboxedIframe",
value:function(a,b){if("null"!==a.origin)return!1;b=b.getElementsByTagName("iframe");a=a.source;for(var c=0;c<b.length;c++)if(a===b[c].contentWindow)return!0;return!1}},{key:"isValidPostMessageOrigin",value:function(a,b){var c=b.location.origin===(a.origin||a.originalEvent.origin);if(a.source===b||c)return!0;console.error("PostMessage Origin Violation");return!1}},{key:"isValidPostMessageData",value:function(a){return e.default.isObject(a)&&"string"===typeof a.type&&0<=e.default.values(h).indexOf(a.type)}}]);
return a}()},{lodash:842}],230:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.ProtoService=void 0;var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),e=(l=a("jquery"))&&l.__esModule?l:{default:l},h=(a=a("lodash"))&&a.__esModule?a:{default:a};f.ProtoService=function(){function a(b){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");b?this._service=new b:console.error("ServiceProto not found, proto file may be outdated")}c(a,[{key:"rpc",value:function(b){if(!this._service||!this._service[b])return function(){console.error("RPC: "+b+" not found, proto file may be outdated")};var c=this._service[b].$options,k=c["(rpc).endpoints.method"],h="/ajax-api/"+c["(rpc).endpoints.since.major"]+"."+c["(rpc).endpoints.since.minor"]+c["(rpc).endpoints.path"];return function(b,c,d){return e.default.ajax(h,
{type:k,dataType:"json",data:a.encodeRpcJson(b),success:c,error:d})}}}],[{key:"flattenInlineAttributes",value:function(b){var c=1>=arguments.length||void 0===arguments[1]?5:arguments[1];if(0>c)return console.error("Proto RPC Error: maximum recursion depth exceeded when flattening RPC arg"),null;if(!b||!b.$type)return b;if(!b.$type._fields)return console.error("Error parsing RPC proto object, rpcProto.$type._fields does not exist"),null;var k={};b.$type._fields.forEach(function(d){var e=d.name;k[e]=
a.flattenInlineAttributes(b[e],c-1);d.options&&!0===d.options["(json_inline)"]&&(d=k[e],delete k[e],h.default.extend(k,d))});return k}},{key:"encodeRpcJson",value:function(b){return b?b.$type&&b.$type._fields?JSON.stringify(a.flattenInlineAttributes(b)):JSON.stringify(b):null}}]);return a}()},{jquery:819,lodash:842}],231:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.enableRequestPerfMetrics=function(a){a.ajaxSend(function(a,b,k){-1===c.indexOf(k.url)&&(b.timeStarted=Date.now())});
a.ajaxComplete(function(a,b,k){-1===c.indexOf(k.url)&&window.recordEvent("ajaxRequest",{requestTime:Date.now()-b.timeStarted,requestSize:b.getResponseHeader("Content-Length")})})};var c=["/applications","/health"]},{}],232:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){this._path=a;this._socket=this._getConnection();this._nextRPCId=1E3;this._queuedRPCs=[];this._outstandingRPCs={};this._onConnectCallbacks=[];this._onDisconnectCallbacks=[];this._healthCheckRPC=null;
setInterval(h.default.bind(this._sendHealthCheck,this),1E4);this._serverClockDelta=0;this._debugVerbose=!1}f=a("underscore");var h=c(f);f=a("pako");var b=c(f),k=a("../requests/Counter");f=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var d=c(f),n=a("../user_platform/BrowserUtils"),m=["silent","success","error","update","data"];e.prototype.onConnect=function(a){this._onConnectCallbacks.push(a)};e.prototype.onDisconnect=function(a){this._onDisconnectCallbacks.push(a)};e.prototype.sendRPC=function(a,
b){var c=this._nextRPCId;++this._nextRPCId;var d={clientCancelled:!1,completed:!1,startTime:Date.now(),rpcId:c,tags:n.BrowserUtils.getMeasurementTags(),type:"rpc_request",method:a};b&&m.forEach(function(a){a in b&&(d[a]=b[a])});1===this._socket.readyState?this._send(d):(this._queuedRPCs.push(d),d.cancel=h.default.bind(function(){this._queuedRPCs=h.default.reject(this._queuedRPCs,function(a){return a.rpcId===c});d.clientCancelled=!0;d.error&&d.error("cancelled",d)},this));return d};e.prototype.serverTime=
function(){return Date.now()+this._serverClockDelta};e.prototype._getConnection=function(){var a=new WebSocket(("https:"===location.protocol?"wss://":"ws://")+location.host+this._path);a.binaryType="arraybuffer";a.onopen=h.default.bind(function(){console.info("WebSocket opened",a);this._sendInternal(JSON.stringify({csrfToken:window.settings?window.settings.csrfToken:null}));this._connected();this._flushPendingRPCs();this._healthCheckRPC=null;this._sendHealthCheck()},this);a.onmessage=h.default.bind(function(a){k.Counter.incrementCounter("ws");
this._connected();var c=a.data,d=-1;try{if(c instanceof ArrayBuffer){var e=Date.now(),c=b.default.inflate(new Uint8Array(c),{to:"string"}),h=Date.now()-e;100<h&&console.debug("Decompressed",c.length,"bytes in",h,"ms.")}d=c.length;c=JSON.parse(c)}catch(y){console.error("Error parsing server response",y,a);return}this._debugVerbose&&console.debug("received message",c);k.Counter.incrementCounter("bytes",d);"rpc_response"===c.type?this._handleRPCResponse(c,d):"rpc_update"===c.type?this._handleRPCUpdate(c,
d):console.error("Unknown response type",c.type)},this);a.onclose=h.default.bind(function(a){console.error("WebSocket closed",a);1008===a.code?d.default.alert("Your session has expired or you have too many windows logged into Databricks. Please reload the page to continue.",!1,"Reload page",function(){location.reload()}):(console.log("Scheduling websocket reconnect in 3000ms"),setTimeout(h.default.bind(function(){this._socket=this._getConnection()},this),3E3));this._disconnected();this._abortAll()},
this);a.onerror=h.default.bind(function(a){this._disconnected();console.error("WebSocket error",a)},this);return a};e.prototype._handleRPCResponse=function(a,b){var c=this._outstandingRPCs[a.rpcId];delete this._outstandingRPCs[a.rpcId];c?(c.completed=!0,a.error?c.clientCancelled?console.debug("Cancelled method="+c.method,"id="+a.rpcId,"msg="+a.error):console.error("Failed method="+c.method,"id="+a.rpcId,"latency="+(Date.now()-c.startTime)+"ms","error="+a.error):c.silent||console.debug("RPC method="+
c.method,"id="+a.rpcId,"bytes="+b,"latency="+(Date.now()-c.startTime)+"ms"),a.error?c.error&&c.error(a.error,c):c.success&&c.success(a.data,c)):console.error("Could not find rpc",a.rpcId)};e.prototype._handleRPCUpdate=function(a,b){var c=this._outstandingRPCs[a.rpcId];c?(c.silent||console.debug("Update method="+c.method,"bytes="+b,"id="+a.rpcId),c.update&&c.update(a.data,c)):console.error("Could not find rpc",a.rpcId)};e.prototype._abortAll=function(){for(var a in this._outstandingRPCs)if(this._outstandingRPCs.hasOwnProperty(a)){var b=
this._outstandingRPCs[a];try{b.error&&b.error("socket closed",b)}catch(p){console.error(p)}}this._outstandingRPCs={};this._healthCheckRPC=null};e.prototype._flushPendingRPCs=function(){for(var a in this._queuedRPCs)this._queuedRPCs.hasOwnProperty(a)&&this._send(this._queuedRPCs[a]);this._queuedRPCs=[]};e.prototype._send=function(a){k.Counter.incrementCounter("ws");this._debugVerbose&&console.debug("sent message",a);this._outstandingRPCs[a.rpcId]=a;this._sendInternal(JSON.stringify(a));a.cancel=h.default.bind(function(){k.Counter.incrementCounter("ws");
this._sendInternal(JSON.stringify({type:"rpc_cancel",rpcId:a.rpcId}));a.clientCancelled=!0},this)};e.prototype._sendInternal=function(a){k.Counter.incrementCounter("bytes",a.length);this._socket.send(a)};e.prototype._sendHealthCheck=function(){1!==this._socket.readyState?(this._disconnected(),this._healthCheckRPC=null):null!==this._healthCheckRPC?this._disconnected():this._healthCheckRPC=this.sendRPC("healthCheck",{silent:!0,success:h.default.bind(function(a,b){var c=Date.now();b=c-b.startTime;1E4<
b?console.warn("Server latency too large, not syncing clock."):this._serverClockDelta=a.time+b/2-c;this._healthCheckRPC=null;this._connected()},this),error:h.default.bind(function(){this._healthCheckRPC=null;this._disconnected()},this)})};e.prototype._disconnected=function(){this._onDisconnectCallbacks.forEach(function(a){a()})};e.prototype._connected=function(){this._onConnectCallbacks.forEach(function(a){a()})};e.prototype.cancelAll=function(){for(var a in this._outstandingRPCs)this._outstandingRPCs.hasOwnProperty(a)&&
this._outstandingRPCs[a].cancel()};l.exports=e},{"../requests/Counter":227,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../user_platform/BrowserUtils":344,pako:845,underscore:1021}],233:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("../search/RestSearch");var h=c(f);a=a("../ui_building_blocks/icons/IconsForType");var b=c(a),k=function(a){try{return e.default.map(a.list,function(a){return{id:"com.databricks.forum."+a.id,category:"forum",
itemType:"help",icon:b.default.help,displayName:a.title,fullName:a.title,url:"http://forums.databricks.com/questions/"+a.id+"/"+a.slug+".html",context:null,highlighter:null,rankHint:1}})}catch(m){console.warn("DatabricksForumSearch error parsing results:",m)}},d=function(a,b){return new h.default(a,b,"http://forums.databricks.com/services/v2/question.json?q=",k,!0)};a=function(){};a.prototype.search=function(a,b){return new d(a,b)};l.exports=a},{"../search/RestSearch":240,"../ui_building_blocks/icons/IconsForType":304,
underscore:1021}],234:[function(a,l,f){var c=(f=a("underscore"))&&f.__esModule?f:{default:f},e=a("../filebrowser/FileBrowserUtils"),h=(a=a("../search/SearchUtils"))&&a.__esModule?a:{default:a},b=function(a,b,c){this.topLevelFolders=a;this.maxBatchSize=b||30;this.filterTopLevel=c||!1},k=function(a,b,k){var d=this;this.queue=[];this.query=b.toLowerCase();this.cb=k;this.adapter=a;""!==this.query?(this.queue=c.default.map(this.adapter.topLevelFolders,function(a){return{node:a,path:""}}),c.default.delay(function(){d._fillSearchResults()},
1)):k(null)};k.prototype._isTopLevel=function(a){return c.default.any(this.adapter.topLevelFolders,function(b){return b.model.get("id")===a.id})};k.prototype.matches=function(a){if(""===this.query||this.adapter.filterTopLevel&&this._isTopLevel(a))return!1;var b="shell"===a.itemType?"notebook":a.itemType;return-1!==a.displayName.toLowerCase().indexOf(this.query)||-1!==b.toLowerCase().indexOf(this.query)||-1!==a.category.toLowerCase().indexOf(this.query)};k.prototype._fillSearchResults=function(){for(var a=
this,k=function(b,d){b.children&&c.default.each(b.children,function(b){!0!==b.model.get("hidden")&&a.queue.push({node:b,path:d})})},e=[],h=0;h<this.adapter.maxBatchSize&&0!==this.queue.length;h++){var f=this.queue.shift(),p=f.node.model.get("name"),r=b.toSearchResult(f.node,f.path);this.matches(r)&&e.push(r);k(f.node,f.path+"/"+p)}0<e.length&&this.cb(e);0===this.queue.length?this.cb(null):c.default.delay(function(){a._fillSearchResults()},1)};k.prototype.stop=function(){this.queue=[]};k.prototype.isFinished=
function(){return 0===this.queue.length};b.toSearchResult=function(a,b){var c=a.model,d=h.default.categoryForNode(c)||"unknown",k=c.get("name")||"",n=c.has("id")?c.get("id"):k,f=e.FileBrowserUtils.iconsForModel(c).icon;a=a.url||h.default.urlForNode(c);return{id:n,category:d,itemType:c.get("type")||"",icon:f,displayName:k,fullName:b+"/"+k,url:a,context:null,highlighter:null,rankHint:2}};b.prototype.search=function(a,b){return new k(this,a,b)};l.exports=b},{"../filebrowser/FileBrowserUtils":65,"../search/SearchUtils":243,
underscore:1021}],235:[function(a,l,f){function c(a,c,e){this.adapter=e;return new b(a,c,"GoogleCustomSearch/"+e.cx+"/fields=items(title,link,snippet)&q=",this.toResults.bind(this),!0,!1,500)}function e(a,b){this.cx=a;this.categoryParams=b}var h=(f=a("underscore"))&&f.__esModule?f:{default:f},b=a("../search/RestSearch");c.prototype.getCategoryParams=function(a){a=a.replace(/^https?:\/\//,"");for(var b=0;b<this.adapter.categoryParams.length;b+=1){var c=this.adapter.categoryParams[b];if(0===a.indexOf(c.urlPrefix))return c}return null};
c.prototype.toResults=function(a){var b=this;try{if(!a||!a.items)return[];var c=a.items.map(function(a){var c=b.getCategoryParams(a.link);return c?{id:"gcse:"+a.link,category:c.category,itemType:"help",icon:c.icon,displayName:c.getDisplayName?c.getDisplayName(a):a.title,fullName:a.snippet,url:a.link,context:{type:"list",matches:[a.snippet]},highlighter:null,rankHint:1}:(console.warn("didn't find category params for ",a.link),null)});return h.default.filter(c,function(a){return null!==a})}catch(m){console.warn("GoogleCustomSearchAdapter error parsing results:",
m)}};e.prototype.search=function(a,b){return new c(a,b,this)};l.exports=e},{"../search/RestSearch":240,underscore:1021}],236:[function(a,l,f){a=a("../ui_building_blocks/icons/IconsForType");f={};f.sparkDocs={urlPrefix:"spark.apache.org/docs/latest",category:"spark-docs",icon:a.document,getDisplayName:function(a){var c=a.title;-1!==a.link.indexOf("/api/scala")?c="Scaladoc: "+c:-1!==a.link.indexOf("/api/java")?c="Javadoc: "+c:-1!==a.link.indexOf("/api/python")&&(c="Python: "+c);return c}};f.databricksGuide=
{urlPrefix:"docs.cloud.databricks.com/docs/latest",category:"help",icon:a.shell};l.exports=f},{"../ui_building_blocks/icons/IconsForType":304}],237:[function(a,l,f){function c(a,c,k){var d=this;this.query=c;this.adapter=a;this.finished=!1;b.default.defer(function(){d.finished=!0;var e=b.default.filter(a.list,function(b){return a.matchFunc(c,b)});e&&k(e);k(null)})}function e(a,b){return k.default.textMatches(a,b.displayName)}function h(a,b){this.list=a;this.matchFunc=b||e}var b=(f=a("underscore"))&&
f.__esModule?f:{default:f},k=(a=a("../search/SearchUtils"))&&a.__esModule?a:{default:a};c.prototype.matches=function(a){return this.adapter.matchFunc(this.query,a)};c.prototype.stop=function(){};c.prototype.isFinished=function(){return this.finished};h.prototype.search=function(a,b){return new c(this,a,b)};l.exports=h},{"../search/SearchUtils":243,underscore:1021}],238:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){try{var c=function(){var b=[];a.response&&k.default.each(a.response.docs,
function(c,k){c=(new d.default).parse(k,a.isTest);c.isValid()&&b.push(c)});return{v:b}}();if("object"===("undefined"===typeof c?"undefined":b(c)))return c.v}catch(w){console.warn("MavenCentralSearch error parsing results:",w)}}function h(a,b){a=k.default.param({q:a,wt:"json",rows:20});return new n.default(a,b,"http://search.maven.org/solrsearch/select?",e,!0,!0)}var b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol?"symbol":typeof a};f=a("jquery");var k=c(f);f=a("../libraries/search/MavenPackage");var d=c(f);a=a("../search/RestSearch");var n=c(a);a=function(){};a.prototype.search=function(a,b){return new h(a,b)};l.exports=a},{"../libraries/search/MavenPackage":114,"../search/RestSearch":240,jquery:819}],239:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){return k.default.map(a,function(a){return{id:a.id,category:a.category,itemType:a.itemType,icon:m.default[a.itemType],
displayName:a.displayName,fullName:a.fullName,url:n.default.urlForUrlInfo(a.urlInfo),context:a.context,highlighter:a.highlighter,rankHint:a.rankHint}})}function h(a,b,c){return new d.default(a.wsClient,b,c,"search",function(a){return{adapter:"NotebookFullText",query:a}},e)}function b(a){this.wsClient=a}f=a("underscore");var k=c(f);f=a("../search/WebsocketSearch");var d=c(f);f=a("../search/SearchUtils");var n=c(f);a=a("../ui_building_blocks/icons/IconsForType");var m=c(a);b.prototype.search=function(a,
b){return new h(this,a,b)};l.exports=b},{"../search/SearchUtils":243,"../search/WebsocketSearch":245,"../ui_building_blocks/icons/IconsForType":304,underscore:1021}],240:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);a=a("../search/SearchUtils");var b=c(a);a=function(a,b,c,e,f,l,p){this.searchId=h.default.random(0,9007199254740992);this.query=a.trim();this.request=null;""===this.query?(this.finished=!0,b(null)):(a=h.default.bind(this._startQuery,
this,a,b,c,e,f,l),p?h.default.delay(a,p):a())};a.prototype._startQuery=function(a,b,c,m,f,l){if(!this.finished){var d=this;a=c;a=l?a+this.query:a+encodeURIComponent(this.query);var k=f?"/proxy/"+encodeURIComponent(a):a;this.request=e.default.ajax({type:"GET",url:k,success:function(a){a=m(a);h.default.each(a,function(a){return a.__searchId=d.searchId});a&&null!==d.request&&b(a);d.request=null;d.finished=!0;b(null)},error:function(a,c,e){"abort"!==c&&console.error("RestSearch '"+k+"' failed with error:",
e);d.request=null;d.finished=!0;b(null)}})}};a.prototype.matches=function(a){return a.__searchId===this.searchId||b.default.contextMatches(this.query,a.context)};a.prototype.stop=function(){this.finished=!0;null!==this.request&&(this.request.abort(),this.request=null)};a.prototype.isFinished=function(){return this.finished};l.exports=a},{"../search/SearchUtils":243,jquery:819,underscore:1021}],241:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("../search/SearchViewMixin.jsx");
f=c(f);var h=a("../search/FileTreeNameSearchAdapter"),b=c(h);a=a("../search/NotebookFullTextSearchAdapter");var k=c(a);a=e.default.createClass({displayName:"SearchPanelView",propTypes:{topLevelFolders:e.default.PropTypes.array.isRequired,toggleSearchPanelFunc:e.default.PropTypes.func.isRequired,closeFileBrowserFunc:e.default.PropTypes.func.isRequired,navigateFunc:e.default.PropTypes.func.isRequired,enableFullTextSearch:e.default.PropTypes.bool.isRequired},mixins:[f.default],searchName:"panel",initSearchAdapters:function(){var a=
[new b.default(this.props.topLevelFolders,null,!0)];this.props.enableFullTextSearch&&a.push(new k.default(window.conn.wsClient));return a},categoryProps:{workspace:{displayName:"Workspace",order:1},table:{displayName:"Tables",order:2},menu:{displayName:"Menu",order:3},help:{displayName:"Databricks Guide",order:4}},onShowPanel:function(){this.getSearchInput().select();this.getSearchInput().focus();this.forceUpdate()},onHidePanel:function(){},onSearchSelectionEnterKey:function(a){this.props.navigateFunc(a.url);
"shell"===a.itemType&&this.props.toggleSearchPanelFunc()},onSearchSelectionClick:function(a,b,c){this._prepareToShowSearchResult(a);c?(this.props.toggleSearchPanelFunc(),b.preventDefault()):this.getSearchInput().focus()},onSearchSelectionLinger:function(a){this._prepareToShowSearchResult(a);"shell"===a.itemType&&this.props.navigateFunc(a.url);this.getSearchInput().focus()},_prepareToShowSearchResult:function(a){0!==a.url.indexOf("#folder")&&this.props.closeFileBrowserFunc()},render:function(){var a=
this.renderSearchInput(["searchbox"]),b=this.renderSpinner(),c=this.renderSearchResults();return e.default.createElement("div",null,e.default.createElement("div",{className:"newsearch"},a,b),c)}});l.exports=a},{"../search/FileTreeNameSearchAdapter":234,"../search/NotebookFullTextSearchAdapter":239,"../search/SearchViewMixin.jsx":244,react:1001}],242:[function(a,l,f){var c=(f=a("underscore"))&&f.__esModule?f:{default:f},e=a("../js_polyfill/ArrayUtils");a=function(a){this.searches=[];this.results=[];
this.searching=!0;this.searchAdapters=a;this.resultReceiveIndex=0};a.prototype._refineResults=function(a){var b=c.default.map(this.searches,function(b){return c.default.filter(a,function(a){return b.matches(a)})}),b=c.default.groupBy(c.default.flatten(b),function(a){return a.id}),b=c.default.map(b,function(a){return e.ArrayUtils.argmax(a,function(a){return a.rankHint})}),b=c.default.sortBy(b,function(a){return a._searchServiceReceiveTime});return c.default.sortBy(b,function(a){return-a.rankHint})};
a.prototype.search=function(a,b,k){var d=this;d.searching=!0;var e=function(){d.results=d._refineResults(d.results);b&&b(d.results,d.searching)},h=function(a){if(a)for(var b=0;b<a.length;b+=1)a[b]._searchServiceReceiveTime=d.resultReceiveIndex,d.resultReceiveIndex+=1,d.results.push(a[b]);else d.searching=!c.default.every(d.searches,function(a){return a.isFinished()});e()};c.default.each(d.searches,function(a){a.stop()});k||(d.results=[]);d.searches=c.default.map(d.searchAdapters,function(b){return b.search(a,
h)});e()};a.prototype.isFinished=function(){return c.default.every(this.searches,function(a){return a.isFinished()})};l.exports=a},{"../js_polyfill/ArrayUtils":102,underscore:1021}],243:[function(a,l,f){var c=(f=a("underscore"))&&f.__esModule?f:{default:f},e=(a=a("../filetree/NavFunc.jsx"))&&a.__esModule?a:{default:a},h={CategoryForType:{folder:"workspace",table:"table",shell:"workspace",dashboard:"workspace",library:"workspace",setting:"menu",help:"help"},categoryForNode:function(a){return 0>a.get("id")?
"menu":e.default.isExampleNode(a.get("id"))?"help":this.CategoryForType[a.get("type")]},urlForNode:function(a){return a.has("viewRoute")?"#"+a.get("viewRoute"):"shell"===a.get("type")?"#notebook/"+a.id:"#"+a.get("type")+"/"+a.id},urlForUrlInfo:function(a){if("treenode"===a.type)return"#"+a.nodeType+"/"+a.id;console.warn("unknown urlInfo type in ",a);return""},contextMatches:function(a,k){if(""!==a&&k)switch(k.type){case "list":return c.default.some(k.matches,function(b){return h.textMatches(a,b)});
default:return console.warn("unknown SearchContext type "+k.type),!1}else return!1},textMatches:function(a,k){a=c.default.filter(a.split(" "),function(a){return"AND"!==a});return c.default.every(a,function(a){return-1!==k.toLowerCase().indexOf(a)})},sparkPackageMatches:function(a,c){return c?h.textMatches(a,c.searchText()):null}};l.exports=h},{"../filetree/NavFunc.jsx":72,underscore:1021}],244:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){b in a?Object.defineProperty(a,
b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c;return a}f=a("underscore");var h=c(f);f=a("react");var b=c(f);f=a("react-dom");var k=c(f);f=a("classnames");var d=c(f);f=a("../search/SearchService");var n=c(f);a=a("../ui_building_blocks/icons/IconsForType");var m=c(a),q=b.default.createClass({displayName:"SearchResultItem",propTypes:{result:b.default.PropTypes.object.isRequired,selected:b.default.PropTypes.bool.isRequired,selectFunc:b.default.PropTypes.func.isRequired},getInitialState:function(){return{}},
onClick:function(a){var b=(new Date).getTime();this.props.selectFunc(a,1E3>b-(this.lastClickTime||0));this.lastClickTime=b},render:function(){var a=(0,d.default)({selected:this.props.selected});return b.default.createElement("li",{className:"result"},b.default.createElement("a",{href:this.props.result.url||"#",className:a,"data-name":this.props.result.displayName,title:this.props.result.fullName,onClick:this.onClick},b.default.createElement("i",{className:"fa fa-"+this.props.result.icon+" fa-fw"}),
b.default.createElement("span",null,this.props.result.displayName)))}});a={propTypes:{searchName:b.default.PropTypes.string,recordEvent:b.default.PropTypes.func,searchService:b.default.PropTypes.object,searchPlaceholder:b.default.PropTypes.string},getInitialState:function(){var a=this;if(this.props.searchService)this.service=this.props.searchService;else{var b=void 0;this.props.searchAdapters?b=this.props.searchAdapters:this.searchAdapters?b=this.searchAdapters:this.initSearchAdapters?(b=this.initSearchAdapters())||
console.warn("SearchMixin subclass initSearchAdapters() returned no search adapters!"):(console.error("SearchViewMixin requires searchAdapters or initSearchAdapters() to be defined."),b=[]);this.service=new n.default(b)}this.getCategoryProps||(this.getCategoryProps=function(){if(this.props.categoryProps)return a.props.categoryProps;if(this.categoryProps)return a.categoryProps;console.error("SearchViewMixin requires categoryProps or getCategoryProps() to be defined.");return{}});this.lastSearchText=
"";this.lastSearchTime=0;this.scrollToSelectedSearchNode=!1;this.previewSearchNodeTimer=null;h.default.defer(function(){a._updateSearchResults("",!0)});return{orderedResults:[],selectedSearchNodeId:null}},_organizeResults:function(a){var b=this.getCategoryProps();a=h.default.filter(a,function(a){return b[a.category]});var c=h.default.groupBy(a,function(a){return a.category});a=h.default.sortBy(h.default.keys(c),function(a){return b[a].order});var d=[];h.default.each(a,function(a){h.default.each(c[a],
function(a){d.push(a)})});return d},_updateSearchResults:function(a,b){var c=this;if(c.isMounted()){var d=a.trim();(d!==c.lastSearchText||b)&&function(){var a=(new Date).getTime();c.service.search(d,function(a,b){c.isMounted()&&(c.setState({orderedResults:c._organizeResults(a)}),b&&c._recordQueryFinished())},3E3>a-c.lastSearchTime&&1<d.length);c.lastSearchText=d;c.lastSearchTime=a;var b=c.state.selectedSearchNodeId;h.default.every(c.state.orderedResults,function(a){return a.id!==b})&&c.setState({selectedSearchNodeId:null});
c._recordQueryEntered()}()}},_updateSearchSelection:function(a){for(var b=this,c=this.state.orderedResults,d=void 0,k=void 0,e=null,k=0;k<c.length;k++)if(c[k].id===this.state.selectedSearchNodeId){e=k;break}if(13===a){if(null!==e){d=c[k];this.onSearchSelectionEnterKey&&(this.onSearchSelectionEnterKey(d),this._recordResultSelected(d,e,"enter"));return}}else if(38===a)null!==e&&0<e&&(d=c[e-1]);else if(40===a)null!==e&&e<c.length?d=c[k+1]:0<c.length&&(d=c[0]);else return;d&&(this.scrollToSelectedSearchNode=
!0,this.state.selectedSearchNodeId!==d.id&&(this.previewSearchNodeTimer&&clearTimeout(this.previewSearchNodeTimer),this.previewSearchNodeTimer=h.default.delay(function(){b.isMounted()&&b.onSearchSelectionLinger&&(b.onSearchSelectionLinger(d),b._recordResultSelected(d,c.indexOf(d),"linger"));b.previewSearchNodeTimer=null},200),this.setState({selectedSearchNodeId:d.id})))},_onUpdate:function(a){this._updateSearchResults(a.target.value)},_onKeyDown:function(a){if(13===a.which||38===a.which||40===a.which)this._updateSearchSelection(a.which),
a.preventDefault();if(this.onSearchInputKeyDown)this.onSearchInputKeyDown(a)},renderSearchInput:function(a){var c,d=["newsearch"];a&&(d=d.concat(a));a=d.join(" ");return b.default.createElement("input",(c={ref:"searchInput",className:a,type:"text"},e(c,"ref","searchInput"),e(c,"placeholder",this.props.searchPlaceholder),e(c,"onChange",this._onUpdate),e(c,"onPaste",this._onUpdate),e(c,"onKeyUp",this._onUpdate),e(c,"onKeyPress",this._onUpdate),e(c,"onKeyDown",this._onKeyDown),c))},renderSpinner:function(){var a=
"search-mixin-spinner";this.service.isFinished()||(a+=" visible");return b.default.createElement("span",{ref:"spinner",className:a},b.default.createElement("i",{className:"fa fa-"+m.default.inProgress}))},renderSearchResults:function(){var a=this,c=this.getCategoryProps(),d=h.default.groupBy(this.state.orderedResults,function(a){return a.category}),d=h.default.map(d,function(d,k){d=h.default.map(d,function(c,d){var g=c.id===a.state.selectedSearchNodeId;return b.default.createElement(q,{key:c.id,result:c,
selected:g,ref:g?"selected":null,selectFunc:function(b,g){a.setState({selectedSearchNodeId:c.id});a.onSearchSelectionClick&&(a.onSearchSelectionClick(c,b,g),a._recordResultSelected(c,d,g?"doubleclick":"click"))}})});return c[k].noHeader?d:[b.default.createElement("li",{className:"category",key:k},c[k].displayName)].concat(d)});return b.default.createElement("ul",{ref:"searchResults"},h.default.flatten(d))},getSearchInput:function(){return this.refs.searchInput},getSearchResults:function(){return this.refs.searchResults},
getSelectedSearchResult:function(){for(var a=this.state.orderedResults||[],b=0;b<a.length;b++)if(a[b].id===this.state.selectedSearchNodeId)return a[b];return null},clearSelectedSearchResult:function(){this.setState({selectedSearchNodeId:null})},componentDidUpdate:function(){if(this.scrollToSelectedSearchNode){this.scrollToSelectedSearchNode=!1;var a=k.default.findDOMNode(this.refs.searchResults),b=k.default.findDOMNode(this.refs.selected);if(b){var a=a.getBoundingClientRect(),c=b.getBoundingClientRect();
c.top<a.top?b.scrollIntoView(!0):c.bottom>a.bottom&&b.scrollIntoView(!1)}}},tags:function(a){var b={searchName:this.props.searchName?this.props.searchName:this.searchName?this.searchName:"default",searchQuery:this.lastSearchText,searchQueryTime:this.lastSearchTime,searchResultCount:this.searchResultCount?this.searchResultCount:this.state.orderedResults.length};this.getEventTags&&(b=h.default.extend(b,this.getEventTags()));return h.default.extend(b,a)},_recordEvent:function(a,b){(this.props.recordEvent?
this.props.recordEvent:window.recordEvent)(a,b)},_recordResultSelected:function(a,b,c){this._recordEvent("searchResultSelected",this.tags({searchResultTrigger:c,searchResultId:a.id,searchResultName:a.displayName,searchResultUrl:a.url,searchResultRank:b}))},_recordQueryEntered:h.default.debounce(function(){""!==this.lastSearchText&&this._recordEvent("searchQueryEntered",this.tags())},1E3),_recordQueryFinished:h.default.debounce(function(){""!==this.lastSearchText&&this._recordEvent("searchQueryFinished",
this.tags())},1E3)};l.exports=a},{"../search/SearchService":242,"../ui_building_blocks/icons/IconsForType":304,classnames:411,react:1001,"react-dom":865,underscore:1021}],245:[function(a,l,f){var c=(f=a("underscore"))&&f.__esModule?f:{default:f},e=(a=a("../search/SearchUtils"))&&a.__esModule?a:{default:a};a=function(a,b,k,d,e,m){var h=this;this.searchId=c.default.random(0,9007199254740992);this.query=b.trim();this.request=null;if(""===this.query)k(null);else{var n=e(b);this.request=a.sendRPC(d,{data:n,
success:function(){h.request=null;k(null)},update:function(a){a=m(a);c.default.each(a,function(a){a.__searchId=h.searchId});a&&null!==h.request&&k(a)},error:function(a){"RPC cancelled"!==a&&console.error("WebsocketSearch '"+d+"' with",n,"failed with error",a);h.request=null;k(null)}})}};a.prototype.matches=function(a){return a.__searchId===this.searchId||e.default.contextMatches(this.query,a.context)};a.prototype.stop=function(){null!==this.request&&(this.request.cancel(),this.request=null)};a.prototype.isFinished=
function(){return null===this.request};l.exports=a},{"../search/SearchUtils":243,underscore:1021}],246:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a){return a.enableCssTransitions?n.default.createElement(m.default,{transitionName:"sidebar-panel",transitionAppear:!0,transitionAppearTimeout:250,transitionEnterTimeout:250,transitionLeaveTimeout:250},a.children):n.default.createElement("div",null,a.children)}function h(){return n.default.createElement("div",{className:"sidebar-spacer"})}
function b(a){var b=a.label,c=a.icontype,g=a.onClick,d=a.selected,k=a.dataName,e=a.href;a=a.target;var h={"sidebar-element":!0,selected:d},m=n.default.createElement("i",{className:"fa fa-fw fa-"+v.default[c]||c});"databricks"===c&&(c=z.ResourceUrls.getResourceUrl("img/Databricks_Logo_Side_Nav_"+(d?"Orange":"Gray")+".svg"),m=n.default.createElement("img",{src:c,alt:"databricks-logo"}));return n.default.createElement("li",null,n.default.createElement("a",{href:e,className:(0,q.default)(h),onClick:g,
"data-name":k,target:a},n.default.createElement("div",{className:"sidebar-element-icon"},n.default.createElement("div",{className:"sidebar-element-icon-inner"},m)),n.default.createElement("div",null,n.default.createElement("span",null,b))))}f=a("underscore");var k=c(f);f=a("d3");var d=c(f);f=a("react");var n=c(f);f=a("react-addons-css-transition-group");var m=c(f);f=a("classnames");var q=c(f);f=a("../controllers/ReactRouter.jsx");f=c(f);var w=a("../delta_receiver/CollectionDeltaReceiver"),w=c(w),
p=a("../filebrowser/TreeNodeCollection"),p=c(p),r=a("../filetree/NavFunc.jsx"),t=c(r),u=a("../filetree/RoutingConstants"),r=a("../filetree/WorkspaceConstants"),y=c(r),r=a("../sidebar/SidebarTablePanel.jsx"),A=c(r),r=a("../sidebar/SidebarRecentPanel.jsx"),g=c(r),r=a("../ui_building_blocks/icons/IconsForType"),v=c(r),z=a("../urls/ResourceUrls");e.propTypes={children:n.default.PropTypes.node,enableCssTransitions:n.default.PropTypes.bool};b.propTypes={label:n.default.PropTypes.string.isRequired,icontype:n.default.PropTypes.string.isRequired,
onClick:n.default.PropTypes.func.isRequired,selected:n.default.PropTypes.bool.isRequired,dataName:n.default.PropTypes.string,href:n.default.PropTypes.string,target:n.default.PropTypes.string};a=n.default.createClass({displayName:"Sidebar",propTypes:{router:n.default.PropTypes.object.isRequired,fileBrowser:n.default.PropTypes.object.isRequired,fileTree:n.default.PropTypes.object.isRequired,treeCollection:n.default.PropTypes.instanceOf(p.default).isRequired,tables:n.default.PropTypes.instanceOf(w.default).isRequired,
enableThirdPartyApplicationsUI:n.default.PropTypes.bool,enableElasticSparkUI:n.default.PropTypes.bool,recentViewRoutes:n.default.PropTypes.array,enableCssTransitions:n.default.PropTypes.bool,reactRouter:n.default.PropTypes.instanceOf(f.default).isRequired},getDefaultProps:function(){return{enableThirdPartyApplicationsUI:!1,enableElasticSparkUI:!0,enableCssTransitions:!0}},hide:function(){this.setState({hidden:!0})},show:function(){this.setState({hidden:!1})},isHidden:function(){return this.state.hidden},
getInitialState:function(){return{hidden:!1,openPanel:null,recentPinned:!1}},componentDidMount:function(){var a=this;this.props.router.on("route",this.onRoute,this);this.props.reactRouter.on("route",this.onRoute,this);this.throttledUpdate=k.default.throttle(function(){a.forceUpdateRecents()},250);this.props.treeCollection.on("reset add remove change",this.throttledUpdate,this)},componentWillUnmount:function(){this.props.treeCollection.off(null,null,this);this.props.router.off(null,null,this);this.props.reactRouter.off(null,
null,this)},componentDidUpdate:function(){this.handleTransitions(this.state.openPanel)},forceUpdateRecents:function(){this.isMounted()&&"Recent"===this.state.openPanel&&this.forceUpdate()},forceUpdateTables:function(){this.isMounted()&&"Tables"===this.state.openPanel&&this.forceUpdate()},isFileBrowserPinned:function(){return this.isFileBrowserPanel(this.state.openPanel)&&this.props.fileTree.isPinned()},isRecentPinned:function(){return"Recent"===this.state.openPanel&&this.state.recentPinned},toggleRecentPinned:function(){this.setState({recentPinned:!this.state.recentPinned})},
shouldClosePanelOnRoute:function(a){return"folder"===a||this.isFileBrowserPinned()||this.isRecentPinned()||"Search"===this.state.openPanel?!1:!0},onRoute:function(a){this.shouldClosePanelOnRoute(a)&&this.closePanels();this.forceUpdate()},openPanel:function(a){this.setState({openPanel:a})},closePanels:function(){this.openPanel(null)},pushContent:function(){d.default.selectAll(y.default.RIGHT_PANE_SELECTOR).transition().style("left","271px")},unpushContent:function(){d.default.selectAll(y.default.RIGHT_PANE_SELECTOR).transition().style("left",
"75px")},openFileBrowserToHome:function(){var a=this.props.fileBrowser.getModel(t.default.getDefaultFolderId()),a=this.props.fileBrowser.toTreeNode(a);this.props.fileTree.openToNode(a)},isFileBrowserPanel:function(a){return"Workspace"===a||"HomeFolder"===a},handleTransitions:function(a){a?"Tables"!==a&&"Recent"!==a||this.pushContent():this.unpushContent();this.isFileBrowserPanel(a)?(this.props.fileBrowser.toggleFileBrowser(!0,!0,!1,!0,!0),"HomeFolder"===a&&this.openFileBrowserToHome()):"Search"===
a?this.props.fileBrowser.toggleSearchPanel(!0,!0,!0):(this.props.fileBrowser.toggleFileBrowser(!1,!1,!1,!1,!0),this.props.fileBrowser.toggleSearchPanel(!1,!1,!0))},ensureStateInSyncWithFileBrowser:function(a){var b=this.isFileBrowserPanel(this.state.openPanel);a&&!b?this.openPanel("Workspace"):!a&&b&&this.openPanel(null)},ensureStateInSyncWithSearchPanel:function(a){var b="Search"===this.state.openPanel;a&&!b?this.openPanel("Search"):!a&&b&&this.openPanel(null)},openWorkspace:function(a){this.props.fileBrowser.openToNodeId(a);
this.openPanel("Workspace")},onClickNavigate:function(a){window.recordEvent("clickSidebarButton",{parentMenuName:a});this.openPanel(a)},getSelectedItem:function(){return this.state.openPanel?this.state.openPanel:this.props.router.isWorkspaceRoute()?"Workspace":this.props.router.isTableRoute()?"Tables":this.props.router.isClusterRoute()?"Clusters":this.props.router.isJobsRoute()?"Jobs":this.props.router.isApplicationsRoute()?"Applications":this.props.router.isHomeRoute()?"HomePage":null},getCurrentNotebookId:function(){return window.activeView&&
window.activeView.props&&window.activeView.props.notebook&&window.activeView.props.notebook.id},getCurrentTableId:function(){return window.activeView&&window.activeView.props&&window.activeView.props.tableName},getCurrentView:function(){var a=this.getCurrentNotebookId(),b=this.getCurrentTableId();if(a)return{type:u.RoutingConstants.NODE_TYPE,id:a};if(b)return{type:u.RoutingConstants.TABLE_TYPE,id:b}},render:function(){var a=this,c=this.getSelectedItem(),d=function(b){return a.state.openPanel===b?
a.closePanels:a.onClickNavigate.bind(null,b)},k=this.onClickNavigate.bind(null,null);return n.default.createElement("div",{className:"sidebar-outer"+(this.state.hidden?" hidden":"")},n.default.createElement("div",{className:"sidebar-main","data-panel":"Workspace"},n.default.createElement("ul",{className:"sidebar-ul"},n.default.createElement(b,{label:"databricks",dataName:"Databricks",icontype:"databricks",href:"#",onClick:k,selected:"HomePage"===c}),n.default.createElement(h,null),n.default.createElement(b,
{label:"Home",dataName:"Home",icontype:"home",onClick:d("HomeFolder"),selected:"HomeFolder"===c}),n.default.createElement(b,{label:"Workspace",dataName:"Workspace",icontype:"workspace",onClick:d("Workspace"),selected:"Workspace"===c}),n.default.createElement(b,{label:"Recent",dataName:"Recent",icontype:"recent",onClick:d("Recent"),selected:"Recent"===c}),n.default.createElement(h,null),n.default.createElement(b,{label:"Tables",dataName:"Tables",icontype:"table",onClick:d("Tables"),selected:"Tables"===
c}),n.default.createElement(b,{label:"Clusters",dataName:"Clusters",icontype:"cluster",href:"#setting/clusters",onClick:k,selected:"Clusters"===c}),n.default.createElement(b,{label:"Jobs",dataName:"Jobs",icontype:"jobs",href:"#joblist",onClick:k,selected:"Jobs"===c}),this.props.enableThirdPartyApplicationsUI?n.default.createElement(b,{label:"Apps",dataName:"Applications",icontype:"apps",href:"#setting/applications",onClick:k,selected:"Applications"===c}):null,window.settings.showNotebookhubSidebarButton?
n.default.createElement(b,{label:"Hub",dataName:"Hub",icontype:"apps",onClick:k,href:window.settings.notebookHubUrl,selected:!1,target:"_blank"}):null,n.default.createElement(b,{label:"Search",dataName:"Search",icontype:"search",onClick:d("Search"),selected:"Search"===c}))),n.default.createElement(e,{enableCssTransitions:this.props.enableCssTransitions},"Tables"===this.state.openPanel?n.default.createElement(A.default,{key:"tables",tables:this.props.tables}):null,"Recent"===this.state.openPanel?n.default.createElement(g.default,
{currentView:this.getCurrentView(),key:"recents",pinned:this.state.recentPinned,toggleRecentPinned:this.toggleRecentPinned,fbView:this.props.fileBrowser,recentRoutes:window.router.recentViewRoutes}):null))}});l.exports=a},{"../controllers/ReactRouter.jsx":59,"../delta_receiver/CollectionDeltaReceiver":62,"../filebrowser/TreeNodeCollection":69,"../filetree/NavFunc.jsx":72,"../filetree/RoutingConstants":74,"../filetree/WorkspaceConstants":75,"../sidebar/SidebarRecentPanel.jsx":249,"../sidebar/SidebarTablePanel.jsx":250,
"../ui_building_blocks/icons/IconsForType":304,"../urls/ResourceUrls":322,classnames:411,d3:707,react:1001,"react-addons-css-transition-group":863,underscore:1021}],247:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("react");var h=c(f);f=a("react-dom");var b=c(f);a=a("classnames");var k=c(a);a=h.default.createClass({displayName:"SidebarPanelElement",propTypes:{display:h.default.PropTypes.string,domAttributes:h.default.PropTypes.object,hasMenu:h.default.PropTypes.bool,
highlight:h.default.PropTypes.bool,icon:h.default.PropTypes.string.isRequired,isHomeFolder:h.default.PropTypes.bool.isRequired,name:h.default.PropTypes.string.isRequired,url:h.default.PropTypes.string.isRequired,onMenuClicked:h.default.PropTypes.func,nameHTML:h.default.PropTypes.element,selected:h.default.PropTypes.bool},getDefaultProps:function(){return{domAttributes:{},hasMenu:!1,highlight:!1,isHomeFolder:!1,onMenuClicked:function(){}}},getMenuOffset:function(){return(0,e.default)(b.default.findDOMNode(this.refs.menu)).offset()},
render:function(){var a={"highlight-recent":this.props.highlight,"home-folder":this.props.isHomeFolder,"top-link":"top-link"===this.props.display,heading:"heading"===this.props.display,selected:this.props.selected,"sidebar-panel-element":!0},b=this.props.icon||"file-alt",c="data-cluster-ready"in this.props.domAttributes?this.props.domAttributes["data-cluster-ready"]:null,e="data-cache-state"in this.props.domAttributes?this.props.domAttributes["data-cache-state"]:null;return h.default.createElement("li",
{key:this.props.url,className:(0,k.default)(a)},h.default.createElement("a",{href:this.props.url,"data-name":this.props.name,className:"sidebar-panel-link",title:this.props.name},h.default.createElement("i",{className:"fa fa-fw fa-"+b,"data-cache-state":e,"data-cluster-ready":c}),h.default.createElement("span",null,this.props.nameHTML?this.props.nameHTML:this.props.name)),this.props.hasMenu?h.default.createElement("div",{className:"dropdown sidebar-dropdown sidebar-dropdown-"+this.props.name,onClick:this.props.onMenuClicked,
ref:"menu"},h.default.createElement("i",{className:"fa fa-caret-down"})):null)}});l.exports=a},{classnames:411,jquery:819,react:1001,"react-dom":865}],248:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,
"__esModule",{value:!0});f.SidebarPanelFilter=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,k){c&&a(b.prototype,c);k&&a(b,k);return b}}(),h=(l=a("lodash"))&&l.__esModule?l:{default:l},b=(a=a("react"))&&a.__esModule?a:{default:a};f=f.SidebarPanelFilter=function(a){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
a=(d.__proto__||Object.getPrototypeOf(d)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.onChange=h.default.throttle(a.onChange.bind(a),a.props.throttleWait);return a}c(d,a);e(d,[{key:"onChange",value:function(){this.props.onFilterChange(this.input.value)}},{key:"render",value:function(){var a=this;return b.default.createElement("li",{key:"filter",className:"sidebar-panel-element sidebar-panel-filter"},
b.default.createElement("i",{className:"fa fa-fw fa-search"}),b.default.createElement("input",{ref:function(b){return a.input=b},placeholder:this.props.placeholder,onChange:this.onChange}))}}]);return d}(a.Component);f.propTypes={onFilterChange:a.PropTypes.func.isRequired,placeholder:a.PropTypes.string,throttleWait:a.PropTypes.number};f.defaultProps={throttleWait:100,placeholder:""}},{lodash:842,react:1001}],249:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=
c(f);f=a("../filebrowser/FileBrowserView");f=c(f);a=a("./SidebarPanelElement.jsx");var h=c(a);a=e.default.createClass({displayName:"SidebarRecentPanel",propTypes:{fbView:e.default.PropTypes.instanceOf(f.default),recentRoutes:e.default.PropTypes.array.isRequired,pinned:e.default.PropTypes.bool.isRequired,toggleRecentPinned:e.default.PropTypes.func.isRequired,currentView:e.default.PropTypes.object,depth:e.default.PropTypes.number},getDefaultProps:function(){return{depth:1}},shouldHighlightElement:function(a){return a.type&&
a.uniqueId&&this.props.currentView?this.props.currentView.type===a.type&&this.props.currentView.id.toString()===a.uniqueId.toString():!1},render:function(){var a=this,c=[];this.props.recentRoutes.forEach(function(b){(b=a.props.fbView.entryFromViewRoute(b))&&c.push(e.default.createElement(h.default,{key:b.name,display:void 0,domAttributes:b.domAttributes,highlight:a.shouldHighlightElement(b),hasMenu:!1,icon:b.icon,isHomeFolder:b.isHomeFolder,name:b.name,url:b.url,menuItems:[]}))},this);return e.default.createElement("div",
{className:"sidebar-panel filetree sidebar-panel-"+this.props.depth},e.default.createElement("div",{className:"ft-panel ft-recents-panel","data-panel":"Recent"},e.default.createElement("ul",null,c),e.default.createElement("a",{className:"ft-pin-button"+(this.props.pinned?" active":""),title:"Pin recent menu",onClick:this.props.toggleRecentPinned},e.default.createElement("i",{className:"fa fa-thumb-tack"}))))}});l.exports=a},{"../filebrowser/FileBrowserView":66,"./SidebarPanelElement.jsx":247,react:1001}],
250:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("backbone");var b=c(f);f=a("classnames");var k=c(f);f=a("react");var d=c(f);f=a("react-dom");var n=c(f);f=a("../delta_receiver/CollectionDeltaReceiver");f=c(f);var m=a("../filetree/NavFunc.jsx"),q=c(m),m=a("../sidebar/SidebarPanelElement.jsx"),w=c(m),p=a("../sidebar/SidebarPanelFilter.jsx"),m=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx"),r=c(m);a=a("../ui_building_blocks/dropdowns/DropdownMenuView.jsx");
var t=c(a);a=d.default.createClass({displayName:"SidebarTablePanel",propTypes:{tables:d.default.PropTypes.instanceOf(f.default).isRequired,depth:d.default.PropTypes.number},getDefaultProps:function(){return{depth:1}},getInitialState:function(){return{menuShowing:null,filterQuery:"",above:!1,dropdownHeight:0}},showMenu:function(a){var b=this.refs[a.get("name")].getMenuOffset();this.setState({menuShowing:{model:a,position:b}})},hideMenu:function(){this.setState({menuShowing:null,above:!1,dropdownHeight:0})},
isShowingMenuFor:function(a){return this.state.menuShowing&&this.state.menuShowing.model===a},toggleMenu:function(a){this.isShowingMenuFor(a)?this.hideMenu():this.showMenu(a)},componentDidUpdate:function(){if(this.state.menuShowing&&!this.state.above){var a=this._getHeight();this.state.menuShowing.position.top+(a+29)>window.innerHeight&&this.setState({above:!0,dropdownHeight:a})}},componentDidMount:function(){var a=this,b=h.default.throttle(function(){a.isMounted()&&a.forceUpdate()},1E3);this.props.tables.on("reset add remove change",
b,this);this._refresh()},componentWillUnmount:function(){this.props.tables.off(null,null,this)},_refresh:function(){e.default.ajax("/tables/refresh",{error:function(a,b,c){console.warn("Error refreshing tables: "+(c||b))}})},_getHeight:function(){return(0,e.default)(n.default.findDOMNode(this.refs.dropdownMenu)).height()},deleteTable:function(a){q.default.deleteNode(a.get("id"),a,0,function(){a.set({icon:"spinner fa fa-spin"});window.conn.wsClient.sendRPC("query",{data:{bindings:{},language:"sql",
query:"drop table `"+a.get("name")+"`"}});b.default.history.getFragment()===a.get("viewRoute")&&window.router.navigate("",{trigger:!0})})},renderErrorElement:function(a){return null!==a?("No default cluster set"===a&&(a=0===window.clusterList.attachableClusters().length?"You need to create a cluster to access tables":"Set a default cluster to access tables"),d.default.createElement(w.default,{id:"--table-error",name:a,url:"#setting/clusters",display:"multiline",icon:"Waiting for tables list..."===
a?"spinner fa fa-spin":"exclamation-circle"})):null},confirmAction:function(a,b){this.props.tables.models.filter(function(b){return b.get("name")===a}).forEach(function(a){return a.save({action:b},{patch:!0})})},onClickMenuItem:function(a,b,c,g,d){d&&d.preventDefault();r.default.confirm({message:b,confirmButton:c,confirm:this.confirmAction.bind(this,a,g)})},addCacheMenuItem:function(a,b,c){var g="Are you sure you want to "+a.toLowerCase()+" "+b+"?";b=this.onClickMenuItem.bind(this,b,g,"Confirm and "+
a,c);return d.default.createElement("a",{"data-name":a,onClick:b},a)},getMenuItems:function(a){var b=a.get("name"),c=[];if(!0===a.get("hasError")){var g=this.onClickMenuItem.bind(this,"Error message",a.get("comments"),"OK","cancel");c.push(d.default.createElement("a",{"data-name":"Error message",onClick:g},"Error message"))}!0!==a.get("progress")?.995<=a.get("fractionCached")?c.push(this.addCacheMenuItem("Uncache",b,"uncache")):0<a.get("fractionCached")?(c.push(this.addCacheMenuItem("Re-cache",b,
"cache")),c.push(this.addCacheMenuItem("Uncache",b,"uncache"))):!0===a.get("canCache")&&c.push(this.addCacheMenuItem("Cache",b,"cache")):(b=this.onClickMenuItem.bind(this,b,"Are you sure you want to cancel caching "+b+"?","Confirm","cancel"),c.push(d.default.createElement("a",{"data-name":"Cancel",className:"sidebar-dropdown-link",onClick:b},"Cancel")));a=this.deleteTable.bind(null,a);c.push(d.default.createElement("a",{"data-name":"Delete",className:"sidebar-dropdown-link",onClick:a},"Delete"));
return c},dropdownPosition:function(a,b,c){return{position:"fixed",top:b?a.top-(c+13):a.top+21,left:a.left-11}},renderDropdown:function(a,b,c,g){var e=a.get("name");a=this.getMenuItems.bind(this,a);var h={"filebrowser-context-menu":!0,"table-dropdown":!0,above:c};h["table-dropdown-"+e]=!0;return d.default.createElement("ul",{className:"table-panel-dropdown",style:this.dropdownPosition(b,c,g)},d.default.createElement(t.default,{ref:"dropdownMenu",getItems:a,classes:(0,k.default)(h).split(" "),outsideClickHandler:this.hideMenu,
ignoreClickClasses:["sidebar-dropdown"]}))},getCachedPercent:function(a){return a.fractionCached&&0<a.fractionCached?Math.round(100*a.fractionCached):0},onFilterChange:function(a){this.setState({filterQuery:a})},getFilteredTables:function(){var a=this;return this.props.tables.filter(function(b){return b.get("name").includes(a.state.filterQuery)})},render:function(){var a=this,b=[];b.push(d.default.createElement(w.default,{key:"--create-table",id:"--create-table",url:"#create/table",name:"Create Table",
display:"top-link",icon:"plus"}));b.push(this.renderErrorElement(window.tablesError));0<this.props.tables.length&&b.push(d.default.createElement(p.SidebarPanelFilter,{onFilterChange:this.onFilterChange,placeholder:"Search Tables"}));this.getFilteredTables().forEach(function(c){var g=c.attributes,k=null,e={},h=a.getCachedPercent(g);if(0<h){var m=k="";if(100<=h)k=String.fromCharCode(10003),m="cached";else if(0<h||!0===g.progress)k=h+"%",m="in-progress";k=d.default.createElement("span",null,d.default.createElement("span",
{className:"table-name"},g.name),d.default.createElement("span",{className:"table-cache"},k));e["data-cache-state"]=m}c=a.toggleMenu.bind(a,c);b.push(d.default.createElement(w.default,{key:g.name,id:g.id,name:g.name,nameHTML:k,url:"#"+g.viewRoute,icon:"table",hasMenu:!0,ref:g.name,onMenuClicked:c,domAttributes:e}))});return d.default.createElement("div",{className:"sidebar-panel filetree sidebar-panel-"+this.props.depth},d.default.createElement("div",{className:"ft-panel ft-tables-panel","data-panel":"Tables"},
d.default.createElement("ul",null,b)),this.state.menuShowing?this.renderDropdown(this.state.menuShowing.model,this.state.menuShowing.position,this.state.above,this.state.dropdownHeight):null)}});l.exports=a},{"../delta_receiver/CollectionDeltaReceiver":62,"../filetree/NavFunc.jsx":72,"../sidebar/SidebarPanelElement.jsx":247,"../sidebar/SidebarPanelFilter.jsx":248,"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../ui_building_blocks/dropdowns/DropdownMenuView.jsx":301,backbone:407,classnames:411,
jquery:819,react:1001,"react-dom":865,underscore:1021}],251:[function(a,l,f){var c=(f=a("jquery"))&&f.__esModule?f:{default:f},e=(a=a("react"))&&a.__esModule?a:{default:a};a=e.default.createClass({displayName:"SparkUIContextBar",propTypes:{hostUrl:e.default.PropTypes.string.isRequired},isHistoryServer:function(){return"HISTORY_SERVER"===this.props.hostUrl},componentDidMount:function(){(0,c.default)("iframe").on("load",function(){var a=(0,c.default)("iframe").contents().find(".version").text();1<a.length&&
(0,c.default)(".spark-version-placeholder").text(" Spark Version: "+a)})},componentWillUnmount:function(){(0,c.default)("iframe").off("load")},render:function(){(0,c.default)("#topbar .tb-title").text(this.isHistoryServer()?"Spark UI (Historical)":"Spark UI");return this.isHistoryServer()?e.default.createElement("span",{className:"context-bar-item"}):e.default.createElement("div",null,e.default.createElement("span",{className:"context-bar-item"},"Hostname: ",this.props.hostUrl),e.default.createElement("span",
{className:"spark-version-placeholder context-bar-item"}))}});l.exports=a},{jquery:819,react:1001}],252:[function(a,l,f){function c(a){return e.default.createElement("iframe",{id:"sparkui-iframe",src:a.sparkUiUrl,frameBorder:"0",width:"100%"})}var e=(a=a("react"))&&a.__esModule?a:{default:a};c.propTypes={sparkUiUrl:e.default.PropTypes.string};l.exports=c},{react:1001}],253:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.FramedStaticNotebookView=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,g){c&&a(b.prototype,c);g&&a(b,
g);return b}}();l=a("react");var b=c(l);l=a("jquery");var k=c(l);l=a("classnames");var d=c(l);l=a("../filetree/NavFunc.jsx");var n=c(l);l=a("../local_storage/LocalUserPreference");l=c(l);var m=a("../notebook/LanguageNames"),q=a("../ui_building_blocks/icons/IconsForType"),w=c(q),p=a("../ui_building_blocks/Tooltip.jsx"),r=a("../urls/ResourceUrls"),q=a("../user_activity/IdleIndicator.jsx"),t=a("../user_platform/BrowserUtils");a=f.FramedStaticNotebookView=function(a){function c(a){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._iframeListener=a._iframeListener.bind(a);a.state={currentUrl:null,currentTitle:null,loading:!1};return a}e(c,a);h(c,[{key:"_urlPrefix",value:function(){var a=document.createElement("a");a.href=this.props.url;return a.protocol+"//"+a.host}},
{key:"_iframeListener",value:function(a){if(a&&a.data){var b=(0,k.default)(".tb-title"),c=(0,k.default)(".tb-title-lang");"setLocation"===a.data.type?(b.text(a.data.title),t.BrowserUtils.setDocumentTitle(a.data.title),(b=a.data.language)?(c.text("("+m.LanguageNames[b]+")"),c.attr({"data-lang":b})):(c.text(""),c.attr({"data-lang":"none"})),c=this._urlPrefix()+a.data.path,this.props.historyReplaceState(null,null,"#externalnotebook/"+encodeURIComponent(c)),this._safeSetState({currentUrl:c,currentTitle:a.data.title}),
this.props.idleIndicator.markActivity()):"unload"===a.data.type&&(b.text(""),c.text(""),c.attr({"data-lang":"none"}),this._safeSetState({currentUrl:null,currentTitle:null}),this.props.idleIndicator.markActivity())}}},{key:"componentWillMount",value:function(){window.addEventListener("message",this._iframeListener);this._isMounted=!0}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this._iframeListener);this._isMounted=!1}},{key:"_safeSetState",value:function(a){this._isMounted&&
this.setState(a)}},{key:"_getSafeName",value:function(a){a=a.split("/");return a[a.length-1].trim()}},{key:"_clone",value:function(){var a=this;n.default.cloneNodeOrUrl({url:this.state.currentUrl,name:this._getSafeName(this.state.currentTitle),onConfirm:function(){a._safeSetState({loading:!0})},onSuccess:function(b){a._safeSetState({loading:!1});a.props.navigate("notebook/"+b,{trigger:!0})},onFailure:function(){a._safeSetState({loading:!1})}})}},{key:"render",value:function(){var a=!this.state.currentUrl,
c=a?null:"Make a copy of this notebook that you can run",k=(0,d.default)({"framed-static-notebook":!0,"notebook-loading":this.state.loading});return b.default.createElement("div",{className:k},b.default.createElement("img",{className:"load-spinner",src:r.ResourceUrls.getResourceUrl("img/spinner.svg")}),b.default.createElement("div",{className:"new-notebook context-bar",id:"context-bar"},b.default.createElement(p.Tooltip,{ref:"import-tooltip",text:c},b.default.createElement("a",{className:"context-bar-item",
"data-name":"Import Notebook",onClick:a?null:this._clone.bind(this),disabled:a},b.default.createElement("i",{className:"fa fa-"+w.default.import}),b.default.createElement("span",{className:"context-bar-link-text"},"Import Notebook")))),b.default.createElement("div",{id:"content"},b.default.createElement("iframe",{src:this.props.url})))}},{key:"componentDidMount",value:function(){this.props.prefs.get("seenImportHint")||(this.refs["import-tooltip"].showTooltip(),this.props.prefs.set("seenImportHint",
!0))}}]);return c}(b.default.Component);a.propTypes={url:b.default.PropTypes.string.isRequired,prefs:b.default.PropTypes.instanceOf(l.default).isRequired,historyReplaceState:b.default.PropTypes.func,navigate:b.default.PropTypes.func,idleIndicator:b.default.PropTypes.instanceOf(q.IdleIndicator)};a.defaultProps={historyReplaceState:function(a,b,c){history.replaceState(a,b,c)},navigate:function(a,b){window.router.navigate(a,b)},idleIndicator:q.IdleIndicator.default}},{"../filetree/NavFunc.jsx":72,"../local_storage/LocalUserPreference":128,
"../notebook/LanguageNames":174,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/icons/IconsForType":304,"../urls/ResourceUrls":322,"../user_activity/IdleIndicator.jsx":323,"../user_platform/BrowserUtils":344,classnames:411,jquery:819,react:1001}],254:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,
d.key,d)}}return function(c,b,k){b&&a(c.prototype,b);k&&a(c,k);return c}}();f.StaticNotebookUrls=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"getFramedStaticNotebookUrl",value:function(a){return"#externalnotebook/"+encodeURIComponent(a)}}]);return a}()},{}],255:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol?"symbol":typeof a},e={},h=function(a){this.fields=a};h.prototype.toString=function(){return"struct<"+this.fields.join(",")+">"};h.prototype.toJson=function(){return{type:"struct",fields:this.fields.map(function(a){return a.toJson()})}};var b=function(a,b){this.name=a;this.dataType=b};b.prototype.toString=function(){return this.name+":"+this.dataType};b.prototype.toJson=function(){return{name:this.name,type:this.dataType.toJson()}};var k=function(a){this.elementType=a};k.prototype.toString=
function(){return"array<"+this.elementType+">"};k.prototype.toJson=function(){return{type:"array",elementType:this.elementType.toJson()}};var d=function(a,b){this.keyType=a;this.valueType=b};d.prototype.toString=function(){return"map<"+this.keyType+","+this.valueType+">"};d.prototype.toJson=function(){return{type:"map",keyType:this.keyType.toJson(),valueType:this.valueType.toJson()}};var n=function(a){this.dataTypes=a};n.prototype.toString=function(){return"union<"+this.dataTypes.join(",")+">"};var m=
{integer:"int","byte":"tinyint","short":"smallint","long":"bigint"},q={},w;for(w in m)m.hasOwnProperty(w)&&(q[m[w]]=w);var p=function(a){this.typeName=a};p.prototype.toString=function(){return m[this.typeName]||this.typeName};p.prototype.toJson=function(){return this.typeName};e.StructType=h;e.StructField=b;e.ArrayType=k;e.MapType=d;e.UnionType=n;e.AtomType=p;e.parseJson=function(a){return"struct"===a.type?new h((a.fields||[]).map(function(a){return new b(a.name,e.parseJson(a.type))})):"array"===
a.type?new k(e.parseJson(a.elementType)):"map"===a.type?new d(e.parseJson(a.keyType),e.parseJson(a.valueType)):new p(a)};e.parse=function(a){try{return e._parseInternal(a)}catch(t){return new e.AtomType("invalid type")}};e._parseInternal=function(a){var c=0,e=function(){for(var b=c;c<a.length&&-1!=="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890_".indexOf(a[c]);)c++;if(c===b)throw Error("Invalid schema string: "+a+", expected identifier at position "+c);return a.substring(b,c)},m=
function(b){if(c===a.length||a[c]!==b)throw Error("Invalid schema string: "+a+", expected "+b+" at position "+c);c++},f=function v(){if("struct<"===a.substring(c,c+7)){c+=7;for(var f=[];">"!==a[c];){var r=e();m(":");var u=v();f.push(new b(r,u));">"!==a[c]&&m(",")}m(">");return new h(f)}if("array<"===a.substring(c,c+6))return c+=6,f=v(),m(">"),new k(f);if("map<"===a.substring(c,c+4))return c+=4,f=v(),m(","),r=v(),m(">"),new d(f,r);if("union<"===a.substring(c,c+6)){c+=6;for(f=[];">"!==a[c];)f.push(v()),
">"!==a[c]&&m(",");m(">");return new n(f)}if("decimal("===a.substring(c,c+8)){c+=8;f=e();if(")"===a[c])return m(")"),new p("decimal("+f+")");m(",");r=e();m(")");return new p("decimal("+f+","+r+")")}f=e();return new p(q[f]||f)}();if(c<a.length)throw Error("Invalid schema string: "+a);return f};e.apply=function(a,b){var m;if(!a)return a;if(b instanceof h){var n={};"object"===c(a.values)&&(a=a.values);for(m=0;m<b.fields.length;m++)n[b.fields[m].name]=e.apply(a[m],b.fields[m].dataType);return n}if(b instanceof
k){n=Array(a.length);for(m=0;m<a.length;m++)n[m]=e.apply(a[m],b.elementType);return n}if(b instanceof d){m={};for(n in a)a.hasOwnProperty(n)&&(m[n]=e.apply(a[n],b.valueType));return m}return a};l.exports=e},{}],256:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.isValidHiveTableName=function(a){return!0===/^[A-Za-z_][A-Za-z0-9_]*$/.test(a)};f.isValidTableColumnName=function(a){return!1===/[,`"';]/.test(a)}},{}],257:[function(a,l,f){a=a("backbone");a=(a&&a.__esModule?a:{default:a}).default.Model.extend({defaults:{rows:[],
schema:{},colNames:[],colTypes:[],canModifySchema:!1,cTypes:"STRING TIMESTAMP BOOLEAN BINARY TINYINT SMALLINT INT BIGINT FLOAT DOUBLE".split(" ")},updateRowsAndSchema:function(a,e){for(var c=[],b=[],k=0;k<e.length;k++)c[k]=e[k].name,b[k]=e[k].type.toString();this.set({rows:a,schema:e,colNames:c,colTypes:b})},updateColNames:function(a){this.set({colNames:a},{silent:!0})},updateColTypes:function(a){this.set({colTypes:a},{silent:!0})}});l.exports=a},{backbone:407}],258:[function(a,l,f){function c(a){return a&&
a.__esModule?a:{default:a}}var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};f=a("jquery");var h=c(f);f=a("backbone");f=c(f);var b=a("../tables/HiveSchema"),k=c(b),b=a("../ui_building_blocks/Nestify"),d=c(b),n=a("../ui_building_blocks/text/StringRenderers");a=a("../templates/previewTableTemplate.html");var m=c(a);a=f.default.View.extend({initialize:function(){this.listenTo(this.model,
"change",this.render)},tagName:"div",className:"inner",events:{"change input.column-name":"nameChanged","change select.column-type":"typeChanged"},nameChanged:function(){for(var a=this.$("input.column-name"),b=a.length,c=[],d=0;d<b;d++)c[d]=(0,h.default)(a[d]).val();this.model.updateColNames(c)},typeChanged:function(){for(var a=this.$(".column-type"),b=a.length,c=[],d=0;d<b;d++)c[d]=(0,h.default)(a[d]).val();this.model.updateColTypes(c)},convertToDetailedStrings:function(a){for(var b=[],c=0;c<a.length;c++){for(var d=
[],k=0;k<a[c].length;k++)d.push(n.StringRenderers.renderString(a[c][k],200));b.push(d)}return b},render:function(){for(var a=this.model.get("rows"),b=this.model.get("schema"),c=this.model.get("colNames"),n=this.model.get("colTypes"),f=this.model.get("canModifySchema"),u=[],y=function(a,b){return n[a].toUpperCase()===b?(0,h.default)("<div>").append((0,h.default)("<option selected>").text(b)).html():(0,h.default)("<div>").append((0,h.default)("<option>").text(b)).html()},l=0;l<n.length;l++)u[l]=this.model.get("cTypes").map(y.bind(this,
l));this.$el.html((0,m.default)({typeOptions:u,colNames:c,colTypes:n,rows:this.convertToDetailedStrings(a),canModifySchema:f}));c=this.$(".table-preview td");f=b.length;for(u=0;u<a.length;u++)for(y=0;y<f;y++)l=c[u*f+y],null!==a[u][y]&&"object"===e(a[u][y])&&(l.__nfData__=k.default.apply(a[u][y],b[y]),l.classList.add("nestify"));d.default.enable(this.$("table"))}});l.exports=a},{"../tables/HiveSchema":255,"../templates/previewTableTemplate.html":285,"../ui_building_blocks/Nestify":292,"../ui_building_blocks/text/StringRenderers":317,
backbone:407,jquery:819}],259:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a){a=new w.default(d.default.extend({runAsQuery:!0},a));return d.default.extend(a,
u.default)}var b=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],g;for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[g]=c[g])}return a},k=function(){function a(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(b,c,g){c&&a(b.prototype,c);g&&a(b,g);return b}}();f=a("underscore");var d=c(f);f=a("react");var n=c(f);f=a("../acl/WorkspacePermissions");
var m=c(f);f=a("../clusters/ClusterList");f=c(f);var q=a("../notebook/NotebookCommandModel"),w=c(q),q=a("../notebook/CommandSpinner.jsx"),p=c(q),q=a("../notebook/CommandResult.jsx"),r=c(q),q=a("../notebook/commands/LargeOutputWrapper.jsx"),t=c(q);a=a("../tables/TableQueryMixin");var u=c(a),y=function(){},A={hasError:!1,errorMessage:null};a=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,
a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.refresh=a.refresh.bind(a);a.setError=a.setError.bind(a);a.clearError=a.clearError.bind(a);a.onCommandChange=a.onCommandChange.bind(a);a.state={errorInfo:A};return a}e(c,a);k(c,[{key:"refresh",value:function(){var a=this.props.clusters;a.finishedInitialFetch?void 0===a.getDefaultCluster()?this.setError(n.default.createElement("p",null,"You need to ",
n.default.createElement("a",{href:"#setting/clusters"},"set a default cluster")," to view table.")):a.isDefaultClusterUsable()?(this.clearError(),this.schemaCommand.runQuery(),this.previewCommand.runQuery()):this.setError(n.default.createElement("p",null,"Default cluster is not healthy, please",n.default.createElement("a",{href:"#setting/clusters"}," restart it or set another cluster as default "),"before viewing tables.")):setTimeout(this.refresh,200)}},{key:"componentWillMount",value:function(){this.schemaCommand=
h({command:"describe "+this.props.tableName,resizable:!1,tableCommandType:"schema"});this.previewCommand=h({command:"select * from `"+this.props.tableName+"` limit 20",height:"400",tableCommandType:"preview"})}},{key:"componentDidMount",value:function(){this.schemaCommand.on("change",this.onCommandChange.bind(this,null),this);this.previewCommand.on("change",this.onCommandChange.bind(this,null),this);this.refresh()}},{key:"setError",value:function(a){this.setState({errorInfo:{hasError:!0,errorMessage:a}})}},
{key:"clearError",value:function(){this.setState({errorInfo:A})}},{key:"onCommandChange",value:function(){this.schemaCommand.hasError()?this.setError(this.getCommandError(this.schemaCommand)):this.previewCommand.hasError()?this.setError(this.getCommandError(this.previewCommand)):this.forceUpdate()}},{key:"getCommandError",value:function(a){a=a.getError();return 0<=a.indexOf("AnalysisException: no such table")?n.default.createElement("p",null,"No such table"):n.default.createElement("p",null,a)}},
{key:"componentWillUnmount",value:function(){this.schemaCommand.off(null,null,this);this.previewCommand.off(null,null,this)}},{key:"getTableCommandView",value:function(a){var c=a.get("state");if("running"===c)return n.default.createElement(p.default,{state:c,stages:a.get("stages"),showCancel:!1,cancelQuery:y});if((c=a.get("results"))&&c.data&&0===c.data.length)return n.default.createElement("p",null,"Table is empty.");c=a.runQuery.bind(a);return n.default.createElement(r.default,b({},a.attributes,
{permissionLevel:m.default.VIEW,isChild:!1,isComplexResult:a.isComplexResult(),isParamQuery:a.isParamQuery(),runCommand:c}))}},{key:"getRefreshButton",value:function(){return n.default.createElement("button",{className:"btn",onClick:this.refresh},n.default.createElement("i",{className:"fa fa-refresh"})," ","Refresh")}},{key:"renderError",value:function(a){return n.default.createElement("div",{className:"table-view error"},this.getRefreshButton(),n.default.createElement("h1",null,n.default.createElement("i",
{className:"fa fa-exclamation-triangle fa-1x text-danger"}),"An error occurred while fetching table ",n.default.createElement("b",null,this.props.tableName)),n.default.createElement(t.default,null,a))}},{key:"renderHeader",value:function(){return n.default.createElement("h1",null,this.props.tableName,n.default.createElement("span",{className:"header-separator"},"|"),this.getRefreshButton())}},{key:"render",value:function(){return this.state.errorInfo.hasError?this.renderError(this.state.errorInfo.errorMessage):
n.default.createElement("div",{className:"table-view"},this.renderHeader(),n.default.createElement("h2",null,"Schema:"),n.default.createElement("div",{className:"schema"},this.getTableCommandView(this.schemaCommand)),n.default.createElement("h2",null,"Sample Data:"),n.default.createElement("div",{className:"preview"},this.getTableCommandView(this.previewCommand)))}}]);return c}(n.default.Component);a.propTypes={tableName:n.default.PropTypes.string,clusters:n.default.PropTypes.instanceOf(f.default)};
l.exports=a},{"../acl/WorkspacePermissions":10,"../clusters/ClusterList":32,"../notebook/CommandResult.jsx":146,"../notebook/CommandSpinner.jsx":148,"../notebook/NotebookCommandModel":175,"../notebook/commands/LargeOutputWrapper.jsx":199,"../tables/TableQueryMixin":263,react:1001,underscore:1021}],260:[function(a,l,f){a=a("backbone");a=(a&&a.__esModule?a:{default:a}).default.Model.extend({defaults:{type:"table",name:"Untitled",progress:!1,fractionCached:0,canCache:!1,viewRoute:null,hasError:!1,comments:""},
nodeMapKey:function(){return"table-"+this.get("name")},url:function(){return"/tables/table-"+this.get("name")}});l.exports=a},{backbone:407}],261:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("backbone");var b=c(f);f=a("react");var k=c(f);f=a("react-dom");var d=c(f);f=a("../filetree/FileTree");var n=c(f);f=a("../filetree/NavFunc.jsx");var m=c(f),q=a("../forms/DropzoneUtils"),w=a("../js_polyfill/TimingUtils");f=a("../../js/local_storage/LocalUserPreference");
var p=c(f);f=a("../tables/HiveSchema");var r=c(f);f=a("../tables/PreviewTable");var t=c(f);f=a("../tables/PreviewTableView");var u=c(f),y=a("../tables/TableCreateViewFileUploadPreview.jsx"),A=a("../tables/NameValidators.js");f=a("../templates/tableCreate.html");var g=c(f);f=a("../templates/tableCreateNoCluster.html");var v=c(f);f=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var z=c(f);a=a("../ui_building_blocks/icons/IconsForType");var B=c(a),G=!1,x=/Table \w+ already exists/g;a=b.default.View.extend({initialize:function(){this.dataSource=
"S3";this.files=[];this.name="Create Table";this.selectors={dataSource:"select[name='data-source-select']",awsKey:"input[name='s3-aws-key']",awsKeyId:"input[name='s3-aws-key-id']",bucket:"input[name='s3-bucket']",path:"input[name='s3-path']",tableName:"input[name='table-name']",fileType:"select[name='file-type']",fileUploadMessage:".file-upload-message",preview:"button.submit-preview-table",submitButton:"button.submit-create-table",s3browser:"div.s3-source.s3-browser",tableDetails:".table-details",
fileTreeSpinner:"i.file-tree-preview-spinner",tableDetailsSpinner:"i.table-preview-spinner",createSpinner:"i.create-spinner",overflowMessage:".filetree-overflow-message"};this.fileTypeToSelector={CSV:".csv-table-details",Avro:".avro-table-details",Parquet:".parquet-table-details",JSON:".json-table-details"};this.extraOptionsForType={CSV:{delimiter:"input[name='field-delimiter']",useHeader:"input[name='use-header']"},Avro:{},Parquet:{},JSON:{useFullTableInference:"input[name='use-full-table-inference']"}};
this.localPref=new p.default("TableCreateView")},render:function(){var a=window.clusterList;a.finishedInitialFetch&&0===a.attachableClusters().length?this.$el.html((0,v.default)({message:"You need to create a cluster to import tables."})):a.finishedInitialFetch&&void 0===a.getDefaultCluster()?this.$el.html((0,v.default)({message:"You need to set a default cluster to import tables."})):a.finishedInitialFetch&&!a.isDefaultClusterUsable()?this.$el.html((0,v.default)({message:"Your Default Cluster is unhealthy, please restart it or set another cluster asdefault before importing tables."})):
(this.$el.html(g.default),(a=this.localPref.get("defaultDataSource"))&&this.$("select.table-import-select-field").val(a));this.$el.attr("class","table-import");!1===window.settings.enableJdbcImport&&this.$("#jdbc-data-source-option").hide();this.onDataSourceChanged()},remove:function(){b.default.View.prototype.remove.call(this);try{this.hideFileUploadMessage()}catch(D){}},_s3TempUrlDropZoneOptions:function(){var a=this;return{uploadMultiple:!1,thumbnailWidth:50,thumbnailHeight:50,maxFilesize:window.settings.dropzoneMaxFileSize,
url:window.settings.dbfsS3Host,dictRemoveFile:"Remove file",method:"POST",addRemoveLinks:!0,dictDefaultMessage:"Drop file or click here to upload",init:function(){this.on("success",function(b,c){b=e.default.parseXML(c);b=(0,e.default)(b).find("Key").text();a.files.push(b);if(0===this.getUploadingFiles().length)a.onFileUploaded()});this.on("removedfile",function(b){"rejected"!==b.CUSTOM_STATUS&&e.default.ajax("/upload/s3_delete/",{type:"GET",data:{fileName:b.name,dstDirectoryName:a.dstDirectoryName},
success:function(){a.files=h.default.without(a.files,b.postData.key);if(0===a.files.length)a.hideAllExtraOptions(),a.$(a.selectors.preview).hide(),a.$(a.selectors.tableDetails).hide(),a.$(a.selectors.submitButton).hide(),a.$(".table-import-columns").empty(),a.hideFileUploadMessage();else a.onFileUploaded()},error:function(){z.default.alert("Unable to remove uploaded file from S3")}})});this.on("error",function(b,c){b.CUSTOM_STATUS="rejected";this.removeFile(b);z.default.alert("Error occurred when processing file "+
b.name+": "+c);if(0!==a.files.length&&0===this.getUploadingFiles().length)a.onFileUploaded()})},accept:function(b,c){b.postData=[];e.default.ajax("/upload/s3/",{contentType:"application/json; charset=UTF-8",type:"GET",data:{fileName:b.name,dstDirectoryName:a.dstDirectoryName},success:function(a){b.CUSTOM_STATUS="ready";b.postData=a;c()},error:function(){b.CUSTOM_STATUS="rejected";z.default.alert("Error preparing upload header");c(" ")}})},canceled:function(){},sending:function(a,b,c){e.default.each(a.postData,
function(a,b){c.append(a,b)})}}},_directDropZoneOptions:function(){var a=this;return{url:"/upload/table/"+this.dstDirectoryName,uploadMultiple:!1,thumbnailWidth:50,thumbnailHeight:50,maxFilesize:window.settings.dropzoneMaxFileSize,dictRemoveFile:"Remove file",addRemoveLinks:!0,dictDefaultMessage:"Drop file or click here to upload",init:function(){this.on("success",function(b,c){b.dbfsPath=window.settings.fileStoreBase+c[0].fsPath;a.files.push(b.dbfsPath);a.requestPath=a.getFilePath();if(0===this.getUploadingFiles().length)a.onFileUploaded()});
this.on("removedfile",function(b){"rejected"!==b.CUSTOM_STATUS&&e.default.ajax("/ajax-api/2.0/dbfs/delete",{method:"POST",data:JSON.stringify({path:"/"+b.dbfsPath}),success:function(){a.files=h.default.without(a.files,b.dbfsPath);if(0===a.files.length)a.hideAllExtraOptions(),a.$(a.selectors.preview).hide(),a.$(a.selectors.tableDetails).hide(),a.$(a.selectors.submitButton).hide(),a.$(".table-import-columns").empty(),a.hideFileUploadMessage();else a.onFileUploaded()},error:function(){z.default.alert("Unable to remove uploaded file from DBFS")}})});
this.on("error",function(b,c){b.CUSTOM_STATUS="rejected";this.removeFile(b);z.default.alert("Error occurred when processing file "+b.name+": "+c);if(0!==a.files.length&&0===this.getUploadingFiles().length)a.onFileUploaded()})}}},renderDropZone:function(){var a=this,b=(0,e.default)("div#dropzoneTableFiles");if(b.hasClass("dz-clickable")){if(0<a.files.length)this.onFileUploaded()}else{this.dstDirectoryName=a.generateUUID();this.dropzoneFiles=q.DropzoneUtils.installDropzone(b,window.settings.useTempS3UrlForTableUpload?
this._s3TempUrlDropZoneOptions():this._directDropZoneOptions(),!1);var c=this.$("div.dropzone form");c&&c.submit(function(){e.default.ajax({url:"upload/table/"+this.dstDirectoryName,type:"POST",data:new FormData(c.get(0)),success:function(b){h.default.forEach(b,function(b){a.files.push(window.settings.fileStoreBase+"/"+b.fsPath)});a.dataSource="DBFS";a.requestPath=a.getFilePath();a.onFileUploaded()},error:function(a){console.log("renderDropZone","error",a)},contentType:!1,processData:!1});return!1})}},
_getFilenameFromPath:function(a){a=a.split("/");return a[a.length-1]},showFileUploadMessage:function(){var a=this.$(this.selectors.fileUploadMessage);a.show();var b=this.files.map(this._getFilenameFromPath),b=k.default.createElement(y.TableCreateViewFileUploadPreview,{dbfsDirPath:this._dbfsDirPath(),filenames:b});d.default.render(b,a[0])},hideFileUploadMessage:function(){var a=this.$(this.selectors.fileUploadMessage);d.default.unmountComponentAtNode(a[0]);a.hide()},onFileUploaded:function(){this.showFileUploadMessage();
if(this.$(this.selectors.tableDetails).is(":visible"))this.onTableSourceGiven();else{var a=this.$(this.selectors.preview);a.show();a.attr("disabled",!1)}},generateUUID:function(){return Math.random().toString(36).substring(2,10)+(new Date).getTime()},renderDBFSFileTree:function(){var a=this,b=new n.default.Node("#","root",null,!0);this.treeProvider={getRootNode:function(){return b},selectionChanged:function(b){"#"!==b.id&&a.$(a.selectors.preview).attr("disabled",!1);a.requestPath="#"===b.id?"/":b.id+
"/"},getChildren:function(b,c){a.requestPath="#"===b.id?"dbfs:/":"dbfs:"+b.id;a.$(a.selectors.fileTreeSpinner).css("opacity","1");"#"!==b.id&&a.$(a.selectors.preview).attr("disabled",!1);e.default.ajax("/import/dbfs/list",{type:"POST",data:JSON.stringify({path:a.requestPath,dataSource:a.dataSource}),success:function(b){b.overflow?(console.warn("Missing children when listing ",a.requestPath),a.$(a.selectors.overflowMessage).css("visibility","visible")):a.$(a.selectors.overflowMessage).css("visibility",
"hidden");b=b.paths.map(function(a){return{id:a.id,name:a.text,icon:a.children?B.default.folder:"file",openIcon:a.children?B.default.openFolder:void 0,hasChildren:a.children}});a.$(a.selectors.fileTreeSpinner).css("opacity","0");c(b)},error:function(b,c,g){a.$(a.selectors.fileTreeSpinner).css("opacity","0");console.error("Got an error:",c,g);b="";try{var d=e.default.parseXML(g);b=(0,e.default)(d).find("Message").text()}catch(P){b=g}z.default.alert("AWS Error: "+b)}})}};this.fileTree=new n.default(this.$(".FileTree"),
this.treeProvider,{scrollElement:this.$(".filetree-container")})},renderFileTree:function(a){var b=this,c=new n.default.Node("#","root",null,!0);this.treeProvider={getRootNode:function(){return c},selectionChanged:function(c){"#"!==c.id&&b.$(b.selectors.preview).attr("disabled",!1);b.requestPath="s3a://"+("#"===c.id?a:c.id)+"/"},getChildren:function(c,g){b.requestPath="s3a://"+("#"===c.id?a:c.id)+"/";b.$(b.selectors.fileTreeSpinner).css("opacity","1");"#"!==c.id&&b.$(b.selectors.preview).attr("disabled",
!1);e.default.ajax("/import/s3/list",{type:"POST",data:JSON.stringify({path:b.requestPath,awsKeyId:b.$(b.selectors.awsKeyId).val(),awsKey:b.$(b.selectors.awsKey).val(),dataSource:b.dataSource}),success:function(a){a.overflow?(console.warn("Missing children when listing ",b.requestPath),b.$(b.selectors.overflowMessage).css("visibility","visible")):b.$(b.selectors.overflowMessage).css("visibility","hidden");a=a.paths.map(function(a){return{id:a.id,name:a.text,icon:a.children?B.default.folder:"file",
openIcon:a.children?B.default.openFolder:void 0,hasChildren:a.children}});b.$(b.selectors.fileTreeSpinner).css("opacity","0");g(a)},error:function(a,c,g){b.$(b.selectors.fileTreeSpinner).css("opacity","0");console.error("Got an error:",c,g);a="";try{var d=e.default.parseXML(g);a=(0,e.default)(d).find("Message").text()}catch(Y){a=g}z.default.alert("AWS Error: "+a,!1,"OK")}})}};this.fileTree=new n.default(this.$(".FileTree"),this.treeProvider,{scrollElement:this.$(".filetree-container")})},events:{"change select[name='data-source-select']":"onDataSourceChanged",
"change select[name='file-type']":"onFileTypeChanged","click .submit-create-table":"onUserSubmit","keyup input[name='table-name']":"onTableNameChanged","keydown input[name='table-name']":"onTableNameChanged","change input[name='table-name']":"onTableNameChanged","click button.s3-browse-submit":"onAWSKeysGiven","click button.submit-preview-table":"onTableSourceGiven","click button.refresh-btn":"onFileTreeRefresh","click button.jdbc-connect":"onTableSourceGiven","focus .table-import-columns":"tableFocused",
"blur .table-import-columns":"tableBlurred","click button.add-jdbc-property":"addJDBCPropField","change input[name='field-delimiter']":"onTableInfoChanged","change input[name='use-header']":"onTableInfoChanged","change input[name='use-full-table-inference']":"onTableInfoChanged"},hideAllOptions:function(){this.$(".s3-source").hide();this.$(".file-source").hide();this.$(".jdbc-source").hide();this.$(".jdbc-extra-properties").hide();this.$(this.selectors.tableDetails).hide();this.hideAllExtraOptions()},
onDataSourceChanged:function(){this.$(this.selectors.submitButton).hide();this.hideAllOptions();this.dataSource=this.$(this.selectors.dataSource).val();"File"===this.dataSource?(this.$(".file-source").show(),h.default.defer(this.renderDropZone.bind(this)),this.$(".refresh-btn").hide(),this.$(this.selectors.preview).hide()):"S3"===this.dataSource?(this.$(".s3-source").show(),this.$(this.selectors.s3browser).hide(),this.$(this.selectors.preview).hide(),this.$(".refresh-btn").show()):"DBFS"===this.dataSource?
(this.$(this.selectors.s3browser).show(),this.$(this.selectors.preview).show(),this.renderDBFSFileTree(),this.$(".refresh-btn").hide()):"JDBC"===this.dataSource&&(this.$(".jdbc-source").show(),this.$(".jdbc-extra-properties").show(),this.$(this.selectors.fileType).val("JDBC"),this.$(".refresh-btn").hide());this.localPref.set("defaultDataSource",this.dataSource)},onFileTypeChanged:function(){var a=this.$(this.selectors.fileType).val(),b=void 0;for(b in this.fileTypeToSelector)a===b?this.$(this.fileTypeToSelector[b]).show():
this.$(this.fileTypeToSelector[b]).hide();this.onTableInfoChanged()},openS3Bucket:function(){var a=this.$(this.selectors.awsKeyId).val(),b=this.$(this.selectors.awsKey).val();b&&a&&this.s3Bucket&&"S3"===this.dataSource?(this.$(this.selectors.s3browser).show(),this.$(this.selectors.preview).show(),this.renderFileTree(this.s3Bucket)):(a="AWS Key ID",""===b?a="AWS Key":""===this.s3Bucket&&(a="S3 Bucket Name"),z.default.alert("Please provide an "+a+".",!1,"OK"))},onAWSKeysGiven:function(){G=!1;this.s3Bucket=
this.$(this.selectors.bucket).val();this.openS3Bucket()},onFileTreeRefresh:function(){G=!0;var a=this.fileTree.openNodes;this.openS3Bucket();1<a.length&&w.TimingUtils.retryUntil({condition:function(){return G&&this.fileTree&&this.isFileTreeLoading()}.bind(this),success:function(){var b=a[a.length-2].selectedChild.split("/"),c;for(c=1;c<b.length;c++)this.openFileTreeTo(1===c?"root":b[c-1],b[c])}.bind(this),interval:500,maxAttempts:5E3})},isFileTreeLoading:function(){return"0"===(0,e.default)("body").find("i.file-tree-preview-spinner").css("opacity")},
openFileTreeTo:function(a,b){w.TimingUtils.retryUntil({condition:function(){var c=(0,e.default)("body").find("div[data-panel='"+a+"']").find("a[data-name='"+b+"']").find("span");return G&&void 0!==c[0]},success:function(){(0,e.default)("body").find("div[data-panel='"+a+"']").find("a[data-name='"+b+"']").find("span").click()},interval:100,maxAttempts:24E3})},onTableSourceGiven:function(){var a=this.requestPath?this.requestPath:this.getFilePath(),b=a?a.split("/").filter(function(a){return""!==a}):null,
b=(b=b?b[b.length-1]:"")?b.replace(/\W+/g,"_"):"";if("S3"===this.dataSource){var c=this.$(this.selectors.awsKeyId).val(),g=this.$(this.selectors.awsKey).val();a&&c&&g?(this.$(this.selectors.tableDetails).show(),this.$(".table-import-columns").show(),this.$(".table-import-submit").show(),this.$(this.selectors.createSpinner).css("opacity","0"),this.$(this.selectors.tableName).val(b)):(this.$(this.selectors.tableDetails).hide(),this.$(".table-import-columns").hide())}else"File"===this.dataSource?0!==
this.files.length?(this.$(this.selectors.tableDetails).show(),this.$(".table-import-columns").show(),this.$(".table-import-submit").show(),this.$(this.selectors.createSpinner).css("opacity","0"),this.$(this.selectors.tableName).focus(),this.guessFileType(this.files[0])):this.$(this.selectors.tableDetails).hide():"DBFS"===this.dataSource?(this.$(this.selectors.tableDetails).show(),this.$(".table-import-columns").show(),this.$(".table-import-submit").show(),this.$(this.selectors.createSpinner).css("opacity",
"0"),this.$(this.selectors.tableName).val(b)):"JDBC"===this.dataSource&&(this.$(this.selectors.tableDetails).show(),this.$(".table-import-columns").show(),this.$(".table-import-submit").show(),this.$(this.selectors.createSpinner).css("opacity","0"),this.$(".filetype-options").hide());(0,e.default)("#content").animate({scrollTop:(0,e.default)("#content").height()},1E3);this.onFileTypeChanged()},getFilePath:function(){var a=("/"+this.files[0]).split("/");return 0<a.length?a.slice(0,a.length-1).join("/"):
"/"},_dbfsDirPath:function(){var a=this.getFilePath();if(!window.settings.useTempS3UrlForTableUpload)return a;var b=a.split("/",3).join("/").length;return a.substring(b)},addJDBCPropField:function(){this.$(".jdbc-extra-properties").append("<div class='row-fluid jdbc-table-details'>  <div class='table-preview-left-panel'>    <input type='text' placeholder='Key (e.g. useSSL)'      class='jdbcPropName table-details-input-field' />  </div>  <div class='table-preview-right-panel'>    <input type='text' placeholder='Value (e.g. true)'      class='jdbcPropVal table-import-input-field' />    <a class='removeJdbcProp'><i class='fa fa-remove fa-fw' /></a>  </div></div>");
this.$(".removeJdbcProp").last().click(function(){(0,e.default)(this).parent().parent().remove()})},collectJDBCProperties:function(a){if("JDBC"!==a)return"";a={url:this.$("input[name='jdbc-url']").val(),dbtable:this.$("input[name='jdbc-query']").val(),user:this.$("input[name='jdbc-username']").val(),password:this.$("input[name='jdbc-password']").val()};for(var b=this.$(".jdbcPropName"),c=this.$(".jdbcPropVal"),g=0;g<b.lenght;g++)a[this.$(b[g]).val()]=this.$(c[g]).val();return JSON.stringify(a)},onTableNameChanged:function(){""!==
this.$(this.selectors.tableName).val()?this.$(this.selectors.submitButton).attr("disabled",!1):this.$(this.selectors.submitButton).attr("disabled",!0)},onTableInfoChanged:function(){var a=this,b=this.requestPath;"File"===this.dataSource&&0!==this.files.length&&(b=this.getFilePath());var c=this.$(this.selectors.awsKeyId).val(),g=this.$(this.selectors.awsKey).val(),d=this.$(this.selectors.fileType).val();this.onTableNameChanged();var k=!1;"S3"===this.dataSource&&b&&c&&g?k=!0:"File"===this.dataSource&&
b?k=!0:"DBFS"===this.dataSource&&b?k=!0:"JDBC"===this.dataSource&&(d="JDBC",k=!0);k?function(){a.$(".table-import-columns-message").html("Loading table preview  ");a.$(a.selectors.tableDetailsSpinner).css("opacity","1");a.$(".table-error-zone").removeClass("table-error-message");a.$(".table-error-zone").text("");a.$(".table-import-columns").css("visibility","hidden");a.previewTable=new t.default({canModifySchema:"CSV"===d});a.previewTableView=new u.default({model:a.previewTable});e.default.ajax("/import/s3/preview",
{type:"POST",data:JSON.stringify(e.default.extend({numLines:20,path:b,dataSource:a.dataSource,awsKeyId:c,awsKey:g,fileType:d,jdbcProps:a.collectJDBCProperties(a.dataSource)},a.getExtraOptionsForType(d))),success:function(b){a.$(".table-import-columns").css("visibility","visible");if(b&&b.data){var c=b.schema.map(function(a){return{name:a.name,type:r.default.parseJson(JSON.parse(a.type))}});a.previewTable.updateRowsAndSchema(b.data,c);a.$(".table-import-columns").attr("tabindex","-1");a.$(".table-import-columns").html(a.previewTableView.$el);
a.$(a.selectors.submitButton).show()}else z.default.alert("There was a problem with getting your data.",!1,"OK");(0,e.default)(a.extraOptionsForType.CSV.delimiter).val()||void 0===b.detectedDelimiter||("\t"===b.detectedDelimiter&&(b.detectedDelimiter="\\t"),(0,e.default)(a.extraOptionsForType.CSV.delimiter).val(b.detectedDelimiter));(0,e.default)(".table-import-columns-message").html("Previewing table");a.$(a.selectors.tableDetailsSpinner).css("opacity","0")},error:function(b,c,g){a.$(".table-error-zone").addClass("table-error-message");
a.$(".table-error-zone").text("ERROR: "+g);a.$(".table-import-columns-message").html("");a.$(".table-import-columns").html("");a.$(a.selectors.tableDetailsSpinner).css("opacity","0");"JDBC"===a.dataSource&&a.$(a.selectors.tableDetails).hide()}})}():(z.default.alert("Not enough information to fetch table data",!1,"OK"),this.$(this.selectors.tableDetailsSpinner).css("opacity","0"))},onUserSubmit:function(){var a=this,b=this.$(this.selectors.tableName).val(),c=this.requestPath,g=this.$(this.selectors.awsKeyId).val(),
d=this.$(this.selectors.awsKey).val(),k=this.$(this.selectors.fileType).val();if((0,A.isValidHiveTableName)(b)){"JDBC"===this.dataSource&&(k="JDBC");"File"===this.dataSource&&0!==this.files.length&&(c=this.getFilePath());for(var h=a.previewTable.get("colNames"),n=a.previewTable.get("colTypes"),v=h.length,f=[],q=0;q<v;q++){var p={name:h[q],schema:n[q]};if(!(0,A.isValidTableColumnName)(p.name)){z.default.alert("Invalid table column name: "+p.name+". Column names can consist of any characters except: , ` \" ' ;",
!1,"OK");return}f.push(p)}a.$(a.selectors.submitButton).attr("disabled",!0);a.$(a.selectors.createSpinner).css("opacity","1");e.default.ajax("/import/new-table",{contentType:"application/json; charset=UTF-8",type:"PUT",data:JSON.stringify(e.default.extend({name:b,path:c,awsKeyId:g,awsKey:d,dataSource:a.dataSource,external:!0,columns:f,fileType:k,jdbcProps:a.collectJDBCProperties(a.dataSource)},this.getExtraOptionsForType(k))),success:function(){m.default.removeView(a);window.router.navigate("#/table/"+
b,{trigger:!0})},error:function(c,g,d){a.$(a.selectors.submitButton).attr("disabled",!1);a.$(a.selectors.createSpinner).css("opacity","0");404===c.status&&0<=d.indexOf("Bad Target")?z.default.alert("No default cluster found. Please designate one.",!1,"OK"):500===c.status&&d.match(x)?z.default.alert("There is already a table named "+b+", please rename your table",!1,"OK",function(){(0,e.default)("input[name='table-name']").focus();(0,e.default)("input[name='table-name']").select()}):z.default.alert(d.substring(0,
1E3),!1,"OK")}})}else z.default.alert("Invalid Hive Table name: "+b+". Table names can only contain alphanumeric and underscore, and must start with a letter or underscore.",!1,"OK")},tableFocused:function(){this.$(".table-import-columns").removeClass("noscroll")},tableBlurred:function(){this.$(".table-import-columns").addClass("noscroll")},hideAllExtraOptions:function(){var a=void 0;for(a in this.fileTypeToSelector)this.fileTypeToSelector.hasOwnProperty(a)&&this.$(this.fileTypeToSelector[a]).hide()},
getExtraOptionsForType:function(a){var b={};a=this.extraOptionsForType[a];var c=void 0;for(c in a)this.$(a[c]).is(":checkbox")?b[c]=this.$(a[c]).is(":checked"):b[c]=this.$(a[c]).val();return b},guessFileType:function(a){a.match("avro$")?this.$(this.selectors.fileType).val("Avro"):a.match("parquet$")?this.$(this.selectors.fileType).val("Parquet"):a.match("json$")?this.$(this.selectors.fileType).val("JSON"):this.$(this.selectors.fileType).val("CSV")}});l.exports=a},{"../../js/local_storage/LocalUserPreference":128,
"../filetree/FileTree":71,"../filetree/NavFunc.jsx":72,"../forms/DropzoneUtils":76,"../js_polyfill/TimingUtils":106,"../tables/HiveSchema":255,"../tables/NameValidators.js":256,"../tables/PreviewTable":257,"../tables/PreviewTableView":258,"../tables/TableCreateViewFileUploadPreview.jsx":262,"../templates/tableCreate.html":287,"../templates/tableCreateNoCluster.html":288,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/icons/IconsForType":304,backbone:407,jquery:819,react:1001,
"react-dom":865,underscore:1021}],262:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.TableCreateViewFileUploadPreview=
void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("react");var b=c(l);l=a("../ui_building_blocks/icons/IconsForType");var k=c(l),d=a("../ui_building_blocks/Tooltip.jsx"),n=a("../urls/DbGuideUrls");a=a("../urls/DbGuideLinks");var m=c(a);(f.TableCreateViewFileUploadPreview=function(a){function c(){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");var a=(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}e(c,a);h(c,[{key:"_dbfsFilePaths",value:function(){var a=this.props.dbfsDirPath;return this.props.filenames.map(function(b){return a+"/"+b})}},{key:"render",value:function(){var a=this._dbfsFilePaths();if(0===a.length)return null;
var c=b.default.createElement("div",null,a.map(function(a){return b.default.createElement("div",{key:a},b.default.createElement("code",null,a))})),a=1===a.length?a[0]:this.props.dbfsDirPath+"/*",e=n.DbGuideUrls.getDbGuideUrl(m.default.DBFS_PYTHON_URL),a=b.default.createElement("div",null,b.default.createElement("p",null,"Spark can access files in the Databricks File System (DBFS). For example, you can use:"),b.default.createElement("p",null,b.default.createElement("code",null,'sc.textFile("',a,'")')),
b.default.createElement("p",null,"Click ",b.default.createElement("em",null,"Preview Table")," to create a table from these files.\u00a0",b.default.createElement("a",{target:"_blank",href:e},"Learn more about DBFS."))),a=b.default.createElement(d.Tooltip,{text:a,customPosition:{contentLeft:"0px"}},b.default.createElement("i",{className:"fa fa-"+k.default.hint}));return b.default.createElement("div",{className:"file-upload-row"},b.default.createElement("div",{className:"table-preview-left-panel"},
b.default.createElement("label",null,"Uploaded to DBFS ",a)),b.default.createElement("div",{className:"table-preview-right-panel"},c))}}]);return c}(b.default.Component)).propTypes={dbfsDirPath:b.default.PropTypes.string.isRequired,filenames:b.default.PropTypes.array.isRequired}},{"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/icons/IconsForType":304,"../urls/DbGuideLinks":320,"../urls/DbGuideUrls":321,react:1001}],263:[function(a,l,f){var c=(f=a("lodash"))&&f.__esModule?f:{default:f},
e=a("../notebook/commands/DisplayTypeUtils");l.exports={runQuery:function(a){a=a||{};var b=a.command||this.get("command");a=a.bindings||this.get("bindings");this.set({state:"running",stages:[]});this.lastRPC&&!this.lastRPC.completed&&this.lastRPC.cancel();this.lastRPC=window.conn.wsClient.sendRPC("query",{data:{query:b,xColumns:this.get("xColumns"),yColumns:this.get("yColumns"),pivotColumns:this.get("pivotColumns"),pivotAggregation:this.get("pivotAggregation"),customPlotOptions:c.default.cloneDeep(this.get("customPlotOptions")),
displayType:this.get("displayType"),language:"sql",bindings:a},success:c.default.bind(this.onQueryResult,this),error:c.default.bind(this.onQueryError,this)})},onQueryResult:function(a){if("html"===a.type)return this.onQueryError(a);this.set({state:"finished",running:!1,displayType:e.DisplayTypeUtils.computeDisplayType(this.get("displayType"),a.type),results:a,error:null,arguments:a.arguments})},onQueryError:function(a,b){b&&b.clientCancelled||this.set({state:"error",error:a,displayType:"html",running:!1})},
hasError:function(){return"error"===this.get("state")},getError:function(){var a=this.get("error");return this.hasError()?"string"===typeof a?a:a&&"string"===typeof a.data?a.data:null:null}}},{"../notebook/commands/DisplayTypeUtils":198,lodash:842}],264:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e;with(a||{})a=""+('<iframe class="app-iframe" frameBorder="0" style="width: 100%; height: 100%"></iframe>\n\n<iframe class="app-iframe-auth" src="'+(null==(e=cookieUrl)?"":c.escape(e))+
'" style="visibility: hidden; display:none; width: 100%; height: 0%"></iframe>\n');return a}},{underscore:1021}],265:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e;with(a||{})a="\n\x3c!-- applicationTemplate --\x3e\n",window.settings.applications&&(a+='\n<td data-application-name="'+(null==(e=applicationInstName)?"":c.escape(e))+'" data-application-state="'+(null==(e=state)?"":c.escape(e))+'">\n  '+(null==(e=applicationInstName)?"":c.escape(e))+"\n</td>\n"),a+='\n<td data-application-type="'+
(null==(e=applicationType)?"":c.escape(e))+'" data-application-state="'+(null==(e=state)?"":c.escape(e))+'">\n    <a href='+(null==(e=driver)?"":c.escape(e))+'><img src="/images/apps/'+(null==(e=applicationLogo)?"":c.escape(e))+'" border="0" alt="Application UI page"></a>\n</td>\n<td>\n  '+(null==(e=state)?"":c.escape(e))+'\n</td>\n<td>\n  <div>\n      <a style="cursor: pointer" class="restart-button with-icon"\n         data-restart-application="'+(null==(e=applicationInstName)?"":c.escape(e))+'">\n          <div style="display: inline-block"><i class="fa fa-refresh fa-fw"></i>Restart</div>\n      </a>\n      <a style="cursor: pointer" class="remove-button with-icon"\n       data-remove-application="'+
(null==(e=applicationInstName)?"":c.escape(e))+'">\n      <div style="display: inline-block"><i class="fa fa-remove fa-fw"></i>Terminate</div>\n    </a>\n  </div>\n</td>\n';return a}},{underscore:1021}],266:[function(a,l,f){a("underscore");l.exports=function(a){with(a||{})a="\x3c!-- applicationsViewTemplate --\x3e\n\n\x3c!-- Only show the Add button if applications are enabled --\x3e\n",window.settings.applications&&(a+='\n<h5>\n  <a style="cursor: pointer" class="add-button with-icon" id="application-add-button">\n    <i class="fa fa-plus fa-fw"></i>Add Application\n  </a>\n</h5>\n'),
a+='\n\n<table class="table table-bordered-outer">\n  <thead>\n  <tr>\n',window.settings.applications&&(a+='\n    <th class="span2">Name</th>\n');return a+'\n    <th class="span2">Application</th>\n    <th class="span2">State</th>\n    <th class="span2">Options</th>\n  </tr>\n  </thead>\n  <tr style="display:none" id="application-view-new-indicator">\n    <td colspan="8" style="background-color: #7A9CFF; color:#ffffff">\n      <span>\n      The new application is being created and will be visible in the list soon.  Actual application memory size may differ slightly from requested size.\n      </span>\n    </td>\n  </tr>\n  <tbody id="applications-table">\n  \x3c!-- The rest will be filled in by JavaScript --\x3e\n  </tbody>\n</div>\n\n'}},
{underscore:1021}],267:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e;with(a||{}){a=""+("\x3c!-- comboBoxTemplate --\x3e\n<div>"+(null==(e=label)?"":e)+'\n  <div class="input-append">\n    <input class="input-box" type="text" value="'+(null==(e=value)?"":c.escape(e))+'" />\n    <div class="btn-group">\n      <button class="btn btn-small dropdown-toggle combo-box-button" data-toggle="dropdown">\n        <b class="caret"></b>\n      </button>\n      <ul class="dropdown-menu">\n        ');
for(var b=0;b<choices.length;b++)a+='\n        <li>\n          <a href="#" class="dropdown-item">'+(null==(e=choices[b])?"":c.escape(e))+"</a>\n        </li>\n        "}return a+"\n      </ul>\n    </div>\n  </div>\n</div>\n"}},{underscore:1021}],268:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e;with(a||{})a="<li>\n  <label>\n    ","text"===inputType&&(a+="\n      "+(null==(e=label)?"":c.escape(e))+'\n      <input type="text" class="plot-options" value='+(null==(e=value)?"":c.escape(e))+
" />\n    "),a+="\n    ","checkbox"===inputType&&(a+="\n      "+(null==(e=label)?"":c.escape(e))+'\n      <input type="checkbox" class="plot-options" style="vertical-align:baseline;" ',value&&(a+=' checked="checked" '),a+=" />\n    "),a+="\n    ","radio"===inputType&&(a+='\n      <input name="radio" type="radio" value='+(null==(e=value)?"":c.escape(e))+' class="plot-options '+(null==(e=key)?"":c.escape(e))+'"\n      style="vertical-align:baseline;" ',value&&(a+=" checked "),a+=" />"+(null==(e=label)?
"":c.escape(e))+"\n    "),a+="\n    ","slider"===inputType&&(a+="\n      "+(null==(e=label)?"":c.escape(e))+'\n      <div id="slider" class="plot-options" style="width:206px; float: left;"></div>\n      <p id="slider-value" class="plot-options" style="display: inline">: '+(null==(e=value)?"":c.escape(e))+'</p>\n      <input id="input" class="plot-options" style="display:none;" value='+(null==(e=value)?"":c.escape(e))+' />\n      <script>\n        $(".plot-options#slider").slider({\n          range: "min",\n          value: '+
(null==(e=value)?"":c.escape(e))+',\n          step: 0.01,\n          min: 0.02,\n          max: 0.99,\n          slide: function(event, ui) {\n            $( ".plot-options#input" ).val(ui.value);\n            $( ".plot-options#slider-value" ).text(": " + ui.value);\n            $( ".plot-options#input" ).trigger("change");\n          }\n        });\n\n        $(".plot-options#input").change(function () {\n          var value = this.value.substring(1);\n          $("#slider").slider("value", parseInt(value));\n        });\n      \x3c/script>\n    ');
return a+"\n  </label>\n</li>\n"}},{underscore:1021}],269:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e;with(a||{}){a='\x3c!-- customizeDialogTemplate --\x3e\n<div class="modal modal-wide plot-customization">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>Customize Plot</h3>\n  </div>\n  <div class="modal-body">\n    <div class="row-fluid customize-dialog-body">\n      <div class="span2">\n        <label>All fields:</label>\n        <ul class="src-list">\n          ';
for(var b=0;b<allColumns.length;b++)a+='\n          <li class="src-item item'+(null==(e=b)?"":e)+'" title="'+(null==(e=allColumns[b])?"":e)+'" data-name="'+(null==(e=allColumns[b])?"":c.escape(e))+'">'+(null==(e=allColumns[b].trim())?"":c.escape(e))+"</li>\n          ";a+='\n        </ul>\n      </div>\n      <div class="span3">\n        <label>Keys:</label>\n        <ul class="dst-list dst-list-x plot-keys">\n          ';for(b=0;b<xColumns.length;b++)a+='\n          <li class="dst-list-item" title="'+
(null==(e=xColumns[b])?"":e)+'" data-name="'+(null==(e=xColumns[b])?"":c.escape(e))+'">\n            <btn class="closeButton"><i class="fa fa-remove"></i></btn>'+(null==(e=xColumns[b].trim())?"":c.escape(e))+"\n          </li>\n          ";a+='\n        </ul>\n        <label>Series groupings:</label>\n        <ul class="dst-list dst-list-pivot plot-series-groupings">\n          ';for(b=0;b<pivotColumns.length;b++)a+='\n          <li class="dst-list-item" title="'+(null==(e=pivotColumns[b])?"":e)+
'" data-name="'+(null==(e=pivotColumns[b])?"":c.escape(e))+'">\n            <btn class="closeButton"><i class="fa fa-remove"></i></btn>'+(null==(e=pivotColumns[b].trim())?"":c.escape(e))+"\n          </li>\n          ";a+='\n        </ul>\n        <label>Values:</label>\n        <ul class="dst-list dst-list-y plot-values">\n          ';for(b=0;b<yColumns.length;b++)a+='\n          <li class="dst-list-item" title="'+(null==(e=yColumns[b])?"":e)+'" data-name="'+(null==(e=yColumns[b])?"":c.escape(e))+
'">\n            <btn class="closeButton"><i class="fa fa-remove"></i></btn>'+(null==(e=yColumns[b].trim())?"":c.escape(e))+"\n          </li>\n          ";a+='\n        </ul>\n      </div>\n      <div class="span7">\n        <div class="plot-preview"></div>\n        <div class="span3 custom-plot-options">\n          <ul >\n            \x3c!-- populated based on plugin custom options --\x3e\n          </ul>\n        </div>\n      </div>\n\n    </div>\n    <div class="row-fluid">\n      <div class="span5">\n        <label>Aggregation:\n          <select class="input-aggregation">\n            <option value="sum" '+
(null==(e="sum"===pivotAggregation?"selected":"")?"":e)+' >SUM</option>\n            <option value="avg" '+(null==(e="avg"===pivotAggregation?"selected":"")?"":e)+' >AVG</option>\n            <option value="min" '+(null==(e="min"===pivotAggregation?"selected":"")?"":e)+' >MIN</option>\n            <option value="max" '+(null==(e="max"===pivotAggregation?"selected":"")?"":e)+' >MAX</option>\n            <option value="count" '+(null==(e="count"===pivotAggregation?"selected":"")?"":e)+' >\n            COUNT\n            </option>\n          </select>\n        </label>\n      </div>\n      <div class="span7">\n        <label>Display type:\n          <select class="input-display-type">\n            ';
for(b=0;b<PlotControls.complexPlotTypes.length;b++){var k=PlotControls.complexPlotTypes[b];a+='\n            <option value="'+(null==(e=k)?"":e)+'" '+(null==(e=k===displayType?"selected":"")?"":e)+" >\n            "+(null==(e=PlotControls.displayTypeNames[k])?"":e)+"\n            </option>\n            "}}return a+'\n          </select>\n        </label>\n      </div>\n    </div>\n  </div>\n  <div class="modal-footer">\n    <a href="#" data-dismiss="modal" class="btn">Cancel</a>\n    <a href="#" class="btn btn-primary save-button">Apply</a>\n  </div>\n</div>\n'}},
{underscore:1021}],270:[function(a,l,f){a("underscore");l.exports=function(a){with(a||{});return'\x3c!-- dashboardBaseQueriesTemplate --\x3e\n<div class="dashboard-base-queries">\n  <p style="color: #c00">\n    Setup queries are deprecated, and may be targeted for removal in future releases.\n    Consider using the <a href="#joblist">Jobs scheduler</a> to precompute data for your dashboards instead.<br>\n    You can still use the scheduling functionality below to periodically refresh the visible dashboard.\n  </p>\n  <div class="queries">\n    \x3c!-- Filled in by JS --\x3e\n  </div>\n  <div>\n    <button class="btn btn-small add-base-query">\n      <i class="fa fa-plus"></i> Add query\n    </button>\n  </div>\n  <div class="schedule-controls">\n    <p>\n      Last refresh: <span class="last-refresh">Never</span>\n      <button class="btn btn-small refresh-now-button">Refresh now</button>\n    </p>\n    <p>\n      Schedule:\n      <select class="refresh-interval">\n        <option value="manual">Refresh manually</option>\n        <option value="1h">Every hour</option>\n        <option value="3h">Every 3 hours</option>\n        <option value="6h">Every 6 hours</option>\n        <option value="24h">Every day</option>\n        <option value="custom">Custom...</option>\n      </select>\n      <span class="custom-interval-controls">\n        Every <input class="custom-interval-value" type="text" value="1">\n        <select class="custom-interval-units">\n          <option value="s">seconds</option>\n          <option value="m">minutes</option>\n          <option value="h">hours</option>\n        </select>\n      </span>\n    </p>\n  </div>\n</div>\n'}},
{underscore:1021}],271:[function(a,l,f){a("underscore");l.exports=function(a){var c;with(a||{})a=""+('\x3c!-- dashboardBaseQueryTemplate --\x3e\n<div class="dashboard-base-query">\n  <div class="left-controls">\n    <i class="fa fa-move"></i>\n  </div>\n  <div class="right-controls">\n    <div class="delete-control-div">\n      <a class="delete-query-button border-box" href="#"><i class="fa fa-remove"></i></a>\n    </div>\n    <select class="border-box command-type" style="width: 100%;">\n      <option value="sql" '+
(null==(c="sql"===model.type?"selected":"")?"":c)+'>SQL</option>\n      <option value="scala" '+(null==(c="scala"===model.type?"selected":"")?"":c)+'>Scala</option>\n       <option value="python" '+(null==(c="python"===model.type?"selected":"")?"":c)+'>Python</option>\n    </select>\n  </div>\n  <div class="edit-div">\n    <textarea rows="5" class="border-box source-code command-box">'+(null==(c=model.command)?"":c)+"</textarea>\n  </div>\n</div>");return a}},{underscore:1021}],272:[function(a,l,
f){a("underscore");l.exports=function(a){with(a||{});return'\x3c!-- dashboardEditControlsTemplate --\x3e\n<div class="dashboard-edit-controls">\n  <div class="widget-edit-controls">\n    Position: <span class="coordinates-box"></span>\n    Size:\n    <select class="size-box">\n      <option value="800x600">800x600</option>\n      <option value="800x800">800x800</option>\n      <option value="1024x768">1024x768</option>\n      <option value="1024x1600">1024x1600</option>\n    </select>\n    <div class="btn-group btn-small">\n      <a class="btn btn-small dropdown-toggle add-button" data-toggle="dropdown" href="#">\n        Add <b class="caret"></b>\n      </a>\n      <ul class="dropdown-menu add-widget-dropdown right">\n        <li><a class="add-input" href="#">Input</a></li>\n        <li><a class="add-view" href="#">View</a></li>\n      </ul>\n    </div>\n  </div>\n  <ul class="nav nav-tabs">\n    <li><a href="#" class="base-queries-tab">Setup queries</a></li>\n    <li class="active"><a href="#" class="widgets-tab">Controls</a></li>\n  </ul>\n</div>'}},
{underscore:1021}],273:[function(a,l,f){a("underscore");l.exports=function(a){with(a||{});return'\x3c!-- dashboardRefreshControlsTemplate --\x3e\n<div class="refresh-controls">\n  <hr>\n  Last refresh: <span class="last-refresh">Never</span>\n  <button class="btn btn-small refresh-now-button">Refresh now</button>\n</div>'}},{underscore:1021}],274:[function(a,l,f){a("underscore");l.exports=function(a){with(a||{});return'\x3c!-- dashboardToolboxTemplate --\x3e\n<div class="dashboard-toolbox">\n  <div class="dashboard-toolbox-inner">\n    <a class="btn btn-small edit-mode-button" href="#"><i class="fa fa-edit"></i> Edit</a>\n    <a class="btn btn-small publish-button" href="#">Publish</a>\n    <a class="btn btn-small clone-button" href="#">Clone</a>\n  </div>\n</div>'}},
{underscore:1021}],275:[function(a,l,f){a("underscore");l.exports=function(a){with(a||{});return'\x3c!-- DialogBaseTemplate --\x3e\n<div data-backdrop="static" class="modal modal-narrow hide">\n  <div class="modal-header">\n    <div></div>\n  </div>\n  <div class="modal-body">\n    \x3c!--content goes here--\x3e\n  </div>\n  <div class="modal-footer">\n    <a href="#" class="btn cancel-button" data-dismiss="modal">Cancel</a>\n    <a href="#" class="btn btn-primary confirm-button">OK</a>\n  </div>\n</div>\n'}},
{underscore:1021}],276:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e;with(a||{})a='\x3c!-- downloadControlsTemplate --\x3e\n<div class="download-controls">\n  ',showFullDownloadOption?(a+='\n  <div class="btn-group btn-small" style="padding-left: 4px; padding-right: 4px;">\n    <a class="btn btn-small results-download-preview" title="Download CSV">\n      <i class="fa fa-download"></i>\n    </a><a class="btn btn-small dropdown-toggle" data-toggle="dropdown"\n           style="padding-left: 6px; padding-right: 6px">\n    <b class="caret"></b>\n  </a>\n    <div class="dropdown-menu" role="menu">\n      <div class="row-fluid" style="">\n        <ul class="span12 multicol-menu">\n          <li>\n            <a href="#" class="results-download-preview">\n              Download preview\n            </a>\n          </li>\n          ',
a=disableFullDownloadReason?a+('\n            <li title="'+(null==(e=disableFullDownloadReason)?"":c.escape(e))+'">\n              <a href="#" class="dropdown-disabled" disabled>\n                Download full results\n              </a>\n            </li>\n          '):a+'\n            <li>\n              <a href="#" class="results-download">\n                Download full results\n              </a>\n            </li>\n          ',a+="\n        </ul>\n      </div>\n    </div>\n  </div>\n  "):a+=
'\n  <a class="btn btn-small results-download-preview" title="Download CSV">\n    <i class="fa fa-download"></i>\n  </a>\n  ';return a+"\n</div>\n"}},{underscore:1021}],277:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e;with(a||{})a=""+('\x3c!-- editInputDialogTemplate --\x3e\n<div class="modal">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>'+(null==(e="create"===mode?"Create":"Edit")?"":
e)+' Input Widget</h3>\n  </div>\n  <div class="modal-body">\n    <form style="margin: 0;">\n      <label>Label:</label>\n      <input type="hidden" name="guid" value="'+(null==(e=guid)?"":c.escape(e))+'">\n      <input type="text" class="input-label" value="'+(null==(e=label)?"":c.escape(e))+'" spellcheck="false">\n      <label>Bound variable:</label>\n      <input type="text" class="input-binding" value="'+(null==(e=binding)?"":c.escape(e))+'" spellcheck="false">\n      <label>Control type:</label>\n      <select class="input-control-type" >\n        <option value="text" '+
(null==(e="text"===controlType?"selected":"")?"":e)+' >\n        Text box\n        </option>\n        <option value="dropdown" '+(null==(e="dropdown"===controlType?"selected":"")?"":e)+' >\n        Dropdown\n        </option>\n        <option value="comboBox" '+(null==(e="comboBox"===controlType?"selected":"")?"":e)+' >\n        Combo box\n        </option>\n        <option value="multiSelect" '+(null==(e="multiSelect"===controlType?"selected":"")?"":e)+' >\n        Multi-selection list\n        </option>\n      </select>\n      <div class="choices-area">\n        <label>Choices (comma-separated):</label>\n        <textarea class="input-choices" spellcheck="false">'+
(null==(e=choices.join(", "))?"":c.escape(e))+'</textarea>\n      </div>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <a href="#" data-dismiss="modal" class="btn">Cancel</a>\n    <a href="#" class="btn btn-primary save-button">Save</a>\n  </div>\n</div>');return a}},{underscore:1021}],278:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e,b="",k=Array.prototype.join,d=function(){b+=k.call(arguments,"")};with(a||{})b+='\x3c!-- editViewDialogTemplate --\x3e\n<div class="modal">\n  <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n    <h3>'+
(null==(e="create"===mode?"Create":"Edit")?"":e)+' Data View</h3>\n  </div>\n  <div class="modal-body">\n    <form style="margin: 0;">\n      <div>\n        <label>Label:</label>\n        <input type="text" class="input-label" value="'+(null==(e=label)?"":c.escape(e))+'">\n        <label>Language:</label>\n        <select class="language-select">\n          <option value="sql"\n          ',"sql"===language&&d("selected"),b+='\n          >SQL</option>\n          <option value="python"\n          ',
"python"===language&&d("selected"),b+='\n          >Python</option>\n          <option value="r"\n          ',"r"===language&&d("selected"),b+='\n          >R</option>\n        </select>\n      </div>\n      <input type="hidden" name="guid" value="'+(null==(e=guid)?"":c.escape(e))+'">\n      <label>Query:</label>\n      <textarea rows="6" class="input-query source-code" spellcheck="false">'+(null==(e=query)?"":c.escape(e))+'</textarea>\n    </form>\n  </div>\n  <div class="modal-footer">\n    <a href="#" data-dismiss="modal" class="btn">Cancel</a>\n    <a href="#" class="btn btn-primary save-button">Save</a>\n  </div>\n</div>\n';
return b}},{underscore:1021}],279:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e,b="";with(a||{})b+='<div id="history-head">\n  ',b=history&&0!==history.length?b+'\n  <h3 class="history-title">\n    Recent Activity\n    <i class="hide-recent-activity remove-button fa fa-remove fa-fw"></i>\n  </h3>\n  ':b+'\n  <h3 class="history-title">\n    No Recent Activity\n    <i class="hide-recent-activity fa fa-remove fa-fw"></i>\n  </h3>\n  ',b+='\n</div>\n\n<div id="history-list">\n  <ul>\n    ',
c.each(history.reverse(),function(a){b+='\n    <li class="history-item">\n      <div class="history-user-avatar" style="background-color: '+(null==(e=a.bgColor)?"":c.escape(e))+'">\n        '+(null==(e=a.displayInitial)?"":c.escape(e))+'\n      </div>\n      <div class="history-item-action">\n        <p class="user-name">'+(null==(e=a.userName)?"":c.escape(e))+':</p>\n        <p class="user-message">'+(null==(e=a.text)?"":c.escape(e))+'</p>\n      </div>\n      <div class="history-item-timestamp">\n        <p>'+
(null==(e=a.date.toLocaleString())?"":c.escape(e))+"</p>\n      </div>\n    </li>\n    "}),b+="\n  </ul>\n</div>\n";return b}},{underscore:1021}],280:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e;with(a||{})a=""+('\x3c!-- iframeSandboxTemplate allows for the safe embedding of arbitrary html including scripts --\x3e\n<div class="ansiout">\n<iframe\n  id="'+(null==(e=frameId)?"":c.escape(e))+'"\n  width="100%"\n  height="0"\n  frameBorder="0"\n  style="overflow: hidden"\n  scrolling="no"\n  sandbox="allow-scripts allow-popups allow-popups-to-escape-sandbox"\n  seamless="seamless"\n  srcdoc="\n  <link rel=stylesheet href='+
(null==(e=cssUrl)?"":c.escape(e))+">\n  <style>\n    body {\n      background-color: transparent;\n    }\n  </style>\n  <base target=_blank>\n  <script>\n    (function() {\n      var parentUri = '"+(null==(e=parentUri)?"":c.escape(e))+"';\n      var originalWidth = null;\n      var originalHeight = null;\n      window.onerror = function(error) {\n        window.parent.postMessage({\n          type: 'frameJsError',\n          loc: window.location.href,\n          frameId: '"+(null==(e=frameId)?"":
c.escape(e))+"',\n          error: error,\n        }, parentUri);\n      };\n      window.onload = function() {\n        originalWidth = document.body.scrollWidth;\n        originalHeight = document.body.scrollHeight;\n        window.parent.postMessage({\n          type: 'frameResizeEvent',\n          frameId: '"+(null==(e=frameId)?"":c.escape(e))+"',\n          loc: window.location.href,\n          height: originalHeight,\n          width: originalWidth,\n        }, parentUri);\n      };\n      window.addEventListener('message', function(msg) {\n        var origin = msg.origin || msg.originalEvent.origin;\n        if (origin !== parentUri) {\n          console.error('Invalid origin', origin, parentUri);\n          return;\n        }\n\n        if (msg.data.type === 'frameSizedEvent') {\n          var xRatio = msg.data.frameWidth / originalWidth;\n          var yRatio = msg.data.frameHeight / originalHeight;\n          var scaleFactor = 1.0;\n          if (xRatio < 1 || yRatio < 1) {\n            scaleFactor = Math.min(xRatio, yRatio);\n          }\n          document.body.style['transform'] = 'scale(' + scaleFactor + ')';\n          document.body.style['transformOrigin'] = 'top left';\n        }\n      });\n    })();\n  \x3c/script>\n  "+
(null==(e=htmlContent)?"":c.escape(e))+'"></iframe>\n</div>\n');return a}},{underscore:1021}],281:[function(a,l,f){a("underscore");l.exports=function(a){with(a||{})a='\x3c!-- libraryCreateTemplate --\x3e\n<h2>New Library</h2>\n\n<div class="row-fluid">\n  <div class="multi-input-row">\n    <div class="row-fluid span12">\n      <label class="control-label">Source</label>\n      <div>\n        <select id="lib-selector" class="source">\n          <option value="scala" selected="true">Upload Java/Scala JAR</option>\n          <option value="python">Upload Python Egg or PyPI</option>\n          ',
window.settings.enableMavenLibraries&&(a+='\n          <option value="maven">Maven Coordinate</option>\n          ');return a+'\n        </select>\n      </div>\n    </div>\n  </div>\n\n  <div class="row-fluid">\n    <div id="table-import-details">\n      <div class="multi-input-row">\n        <div>\n          <label class="control-label">Library Name</label>\n          <div><input type="text" class="field_library_name" placeholder="My Library"></div>\n        </div>\n      </div>\n      <div class="multi-input-row">\n        <div>\n          <label>JAR File</label>\n          <div id="dropzoneJarFiles" class="dropzoneJarFiles"></div>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="row-fluid table-import-submit">\n    <div class="library-create-message">\x3c!-- Will be filled in by JavaScript --\x3e</div>\n    <button class="btn btn-small submit-create-library">Create Library</button>\n  </div>\n</div>\n'}},
{underscore:1021}],282:[function(a,l,f){a("underscore");l.exports=function(a){with(a||{})a='\x3c!-- mavenLibraryCreateTemplate --\x3e\n\n<h2>New Library</h2>\n\n<div class="row-fluid">\n    <div class="multi-input-row">\n        <div class="row-fluid">\n            <label class="control-label">Source</label>\n            <div>\n                <select id="lib-selector" class="source">\n                    <option value="scala">Upload Java/Scala JAR</option>\n                    <option value="python">Upload Python Egg or PyPI</option>\n                    <option value="maven" selected="true">Maven Coordinate</option>\n                </select>\n            </div>\n        </div>\n    </div>\n\n    <div class="row-fluid">\n        <h5>Install Maven Artifacts</h5>\n        <div id="maven-installer" class="multi-input-row">\n            <div class="row-fluid">\n                <label class="control-label">Coordinate</label>\n                <div><input type="text" class="maven_library_name" placeholder="Maven Coordinate (e.g. com.databricks:spark-csv_2.10:1.0.0)"></div>\n            </div>\n        </div>\n        <div>\n            ',
window.settings.enableSparkPackages&&(a+='\n            <button class="btn btn-small open-package-browse" style="margin-bottom: 10px;">Search Spark Packages and Maven Central</button>\n            ');return a+'\n        </div>\n        <div class="advanced-pointer pointer" style="margin-bottom:10px;" data-toggle="collapse" data-target="#advanced-options">\n            <a class="with-icon fa-fw spark-toggle">\n                <i id="options-arrow" class="node-arrow fa fa-caret-right"></i>\n            </a><span>Advanced Options</span>\n        </div>\n        <div class="row-fluid">\n            <div id="advanced-options" class="collapse">\n                <div class="multi-input-row">\n                    <div class="row-fluid">\n                        <label class="control-label">Repository</label>\n                        <div><input type="text" class="maven_repo_name" placeholder="Repository URL (https://oss.sonatype.org/content/repositories/)"></div>\n                    </div>\n                    <div class="row-fluid">\n                        <label class="control-label">Excludes</label>\n                        <div><input type="text" class="maven_excludes" placeholder="Dependencies to exclude (log4j:log4j,junit:junit)"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row-fluid table-import-submit">\n            <div class="maven-resolve-process" hidden="hidden"><i class="fa fa-spinner fa-spin"></i> Resolving Maven Dependencies</div>\n            <div class="library-create-message">\x3c!-- Will be filled in by JavaScript --\x3e</div>\n            <div>\n            <button class="btn btn-small submit-create-library">Create Library</button>\n            </div>\n        </div>\n    </div>\n</div>'}},
{underscore:1021}],283:[function(a,l,f){a("underscore");l.exports=function(a){var c,h="";with(a||{})h+='\x3c!-- plotControlsTemplate --\x3e\n<div class="plot-controls">\n  ',a="table"===curType?lastComplexView:curType,h+='\n  <a class="btn btn-small display-type-button"\n     data-type="table" title="Raw table">\n    <i class="fa fa-table"></i>\n  </a>\n  <div class="btn-group btn-small" style="padding-left: 4px; padding-right: 4px;">\n    <a class="btn btn-small display-type-button" data-type="'+
(null==(c=a)?"":c)+'"\n       title="'+(null==(c=PlotControls.displayTypeNames[a])?"":c)+'">\n      <i class="'+(null==(c=PlotControls.displayTypeIcons[a])?"":c)+'"></i>\n    </a><a class="btn btn-small dropdown-toggle" data-toggle="dropdown"\n           style="padding-left: 6px; padding-right: 6px">\n    <b class="caret"></b>\n  </a>\n    <div class="dropdown-menu" role="menu">\n      <div class="row-fluid" style="width: 220px;">\n        ',["barChart scatterPlot mapPlot lineChart areaChart pieChart".split(" "),
["quantilePlot","histogram","boxPlot","qqPlot","pivotTable"]].forEach(function(a){h+='\n        <ul class="span6 multicol-menu">\n          ';a.forEach(function(a){h+='\n          <li>\n            <a href="#" class="display-type-button" data-type="'+(null==(c=a)?"":c)+'">\n              <i class="'+(null==(c=PlotControls.displayTypeIcons[a])?"":c)+' fa fa-fw"></i>\n              '+(null==(c=PlotControls.displayTypeShortNames[a])?"":c)+"\n            </a>\n          </li>\n          "});h+="\n        </ul>\n\n        "}),
h+="\n      </div>\n    </div>\n  </div>\n  ","table"!==curType&&(h+='\n  <a href="#" class="btn btn-small customize-button">Plot Options...</a>\n  '),h+="\n</div>\n";return h}},{underscore:1021}],284:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e,b="";with(a||{})b+='\x3c!-- presenceTemplate --\x3e\n\n<ul class="noselect">\n  ',c.each(sessions,function(a){b+='\n    <li class="presence-user"\n        style="opacity: '+(null==(e=a.opacity)?"":c.escape(e))+";\n               border-color: "+
(null==(e=a.bgColor)?"":c.escape(e))+";\n               background-color: "+(null==(e=a.bgColor)?"":c.escape(e))+';"\n        title="'+(null==(e=NameUtils.capitalizeAllNames(a.userName))?"":c.escape(e))+'">\n      <div class="presence-avatar" data-sessionid="'+(null==(e=a.sessionId)?"":c.escape(e))+'">\n        '+(null==(e=a.displayInitial)?"":c.escape(e))+"\n      </div>\n    </li>\n  "}),b+='\n  <li title="Recent Activity" class="presence-history">\n    <div><i class="fa fa-clock-o"></i></div>\n  </li>\n</ul>\n\n';
return b}},{underscore:1021}],285:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e;with(a||{}){a='<table class="table table-bordered table-condensed table-hover">\n  <thead class="table-preview">\n  <tr>\n    ';for(i in colNames)a+='\n    <th class="table-preview-header">\n      ',a=canModifySchema?a+("\n        <input type=text class='column-name' value=\""+(null==(e=colNames[i])?"":c.escape(e))+"\" />\n        <select class='column-type'> "+(null==(e=typeOptions[i])?"":e)+" </select>\n      "):
a+('\n        <p><span class="fixed-column-name">'+(null==(e=colNames[i])?"":c.escape(e))+"</span> ["+(null==(e=i)?"":c.escape(e))+"]</p>\n        <p>"+(null==(e=colTypes[i])?"":c.escape(e))+"</p>\n      "),a+="\n    </th>\n    ";a+='\n  </tr>\n  </thead>\n  <tbody class="table-preview">\n  ';for(row in rows){a+="\n  <tr>\n    ";for(col in colNames)a+="\n    <td>\n      <p>"+(null==(e=rows[row][col])?"":c.escape(e))+"</p>\n    </td>\n    ";a+="\n  </tr>\n  "}}return a+"\n  </tbody>\n</table>\n"}},
{underscore:1021}],286:[function(a,l,f){a("underscore");l.exports=function(a){with(a||{})a='\x3c!-- libraryCreateTemplate --\x3e\n\n<h2>New Library</h2>\n\n<div class="row-fluid">\n  <div class="multi-input-row">\n    <div class="row-fluid">\n      <label class="control-label">Language</label>\n      <div>\n        <select id="lib-selector" class="source">\n          <option value="scala">Upload Java/Scala JAR</option>\n          <option value="python" selected="true">Upload Python Egg or PyPI</option>\n          ',
window.settings.enableMavenLibraries&&(a+='\n          <option value="maven">Maven Coordinate</option>\n          ');return a+'\n        </select>\n      </div>\n    </div>\n  </div>\n\n  <div class="row-fluid">\n    <h5>Install PyPi Package</h5>\n    <div id="pip-installer" class="multi-input-row">\n      <div class="row-fluid">\n        <label class="control-label">PyPi Name</label>\n        <div><input type="text" class="pip_library_name" placeholder="PyPi Package"></div>\n      </div>\n      <div class="row-fluid">\n        <button class="btn btn-small submit-pip-library">Install Library</button>\n      </div>\n    </div>\n\n    <div class="row-fluid">\n      <h5>Upload Egg</h5>\n      <div id="table-import-details">\n        <div class="multi-input-row">\n          <div>\n            <label class="control-label">Library Name</label>\n            <div><input type="text" class="field_library_name" placeholder="Library Name"></div>\n          </div>\n        </div>\n        <div class="multi-input-row">\n          <div>\n            <label>Egg File</label>\n            <div class="dropzoneEggFiles"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="row-fluid table-import-submit">\n      <div class="library-create-message">\x3c!-- Will be filled in by JavaScript --\x3e</div>\n      <button class="btn btn-small submit-create-library">Create Library</button>\n    </div>\n  </div>\n</div>\n'}},
{underscore:1021}],287:[function(a,l,f){a("underscore");l.exports=function(a){with(a||{})a='\x3c!-- tableCreateTemplate --\x3e\n<div class="container-fluid table-create">\n  <div class="table-error-zone"></div>\n\n  <div class="row-fluid">\n    <div class="data-import">\n      <h2>Data Import</h2>\n    </div>\n  </div>\n\n  <div class="data-source">\n\n    <div class="row-fluid">\n      <div class="table-preview-left-panel"> <label>Data Source</label> </div>\n      <div class="table-preview-right-panel">\n        <select name="data-source-select" class="table-import-select-field">\n          <option value="File" selected="selected">File</option>\n          ',
window.settings.disableS3TableImport||(a+='\n          <option value="S3">S3</option>\n          ');return a+'\n          <option value="DBFS">DBFS</option>\n          <option value="JDBC" id ="jdbc-data-source-option">JDBC</option>\n        </select>\n      </div>\n    </div>\n\n    <div class="row-fluid file-source hidden">\n      <div class="table-preview-left-panel"> <label>File(s)</label> </div>\n      <div class="table-preview-right-panel">\n        <div id="dropzoneTableFiles" class="dropzone"></div>\n      </div>\n    </div>\n\n    \x3c!-- the message that shows up after you have uploaded one or more files --\x3e\n    <div class="row-fluid file-source hidden">\n      <div class="file-upload-message"></div>\n    </div>\n\n    <div class="row-fluid s3-source">\n      <div class="table-preview-left-panel"> <label>AWS Key ID</label> </div>\n      <div class="table-preview-right-panel">\n        <input type="text" name="s3-aws-key-id" placeholder="AWS Key ID"\n               class="table-import-input-field" />\n      </div>\n    </div>\n\n    <div class="row-fluid s3-source">\n      <div class="table-preview-left-panel"> <label>Secret Access Key</label> </div>\n      <div class="table-preview-right-panel">\n        <input type="password" name="s3-aws-key" placeholder="Secret Access Key"\n               class="table-import-input-field" />\n      </div>\n    </div>\n    <div class="row-fluid s3-source">\n      <div class="table-preview-left-panel"> <label>S3 Bucket Name</label> </div>\n      <div class="table-preview-right-panel">\n        <input type="text" name="s3-bucket" class="table-import-input-field" required />\n      </div>\n    </div>\n\n    <div class="row-fluid s3-source">\n      <button class="btn btn-primary btn-medium s3-browse-submit">Browse Bucket</button>\n    </div>\n\n    <div class="row-fluid jdbc-source hidden">\n      <div class="table-preview-left-panel"> <label>URL</label> </div>\n      <div class="table-preview-right-panel">\n        <input type="text" name="jdbc-url" class="table-import-input-field"\n               placeholder="(Required)" />\n      </div>\n    </div>\n    <div class="row-fluid jdbc-source hidden">\n      <div class="table-preview-left-panel"> <label>Username</label> </div>\n      <div class="table-preview-right-panel">\n        <input type="text" name="jdbc-username" class="table-import-input-field"\n               placeholder="(Leave blank if not needed)"/>\n      </div>\n    </div>\n    <div class="row-fluid jdbc-source hidden">\n      <div class="table-preview-left-panel"> <label>Password</label> </div>\n      <div class="table-preview-right-panel">\n        <input type="password" name="jdbc-password" class="table-import-input-field"\n               placeholder="(Leave blank if not needed)" />\n      </div>\n    </div>\n    <div class="row-fluid jdbc-source hidden">\n      <div class="table-preview-left-panel"> <label>Table / Query</label> </div>\n      <div class="table-preview-right-panel">\n        <input type="text" name="jdbc-query" class="table-import-input-field"\n               placeholder="(Required)"/>\n      </div>\n    </div>\n    <div class="jdbc-extra-properties"></div>\n    <div class="row-fluid jdbc-source hidden">\n      <button class="btn btn-primary btn-medium jdbc-connect">Connect</button>\n      <button class="btn btn-primary btn-medium add-jdbc-property">Add Property</button>\n    </div>\n\n    <div class="row-fluid s3-source s3-browser hidden">\n      <div class="span12">\n        <div class="table-title-div">\n          <h2>Select table source\n            <i class="preview-spinner file-tree-preview-spinner fa fa-spinner fa-spin"></i>\n            <button class="btn btn-primary btn-medium refresh-btn">\n              <i class="fa fa-repeat"></i>\n              Refresh\n            </button>\n          </h2>\n        </div>\n        <div class="filetree-container">\n          <div class="FileTree"></div>\n        </div>\n        <div class="filetree-overflow-message" style="visibility: hidden;">\n          Warning: too many elements to display</div>\n      </div>\n    </div>\n\n    <div class="row-fluid s3-source s3-browser file-source hidden">\n      <div class="table-preview-left-panel">\n        <button class="btn btn-primary btn-medium submit-preview-table hidden" disabled>\n          Preview Table\n        </button>\n      </div>\n    </div>\n\n    <div class="row-fluid table-details hidden">\n      <div class="table-details-header">\n        <h2>Table Details</h2>\n      </div>\n    </div>\n    <div class="row-fluid table-details">\n      <div class="table-preview-left-panel detail-fields">\n        <div class="table-title-div hidden" style="display: block;">\n          <label>Table name</label>\n          <input type="text" name="table-name" class="table-details-input-field"\n                 placeholder="Enter table name (required)" required="">\n        </div>\n        <div class="filetype-options hidden" style="display: block;">\n          <label>File type</label>\n          <select name="file-type" class="table-details-select-field">\n            <option value="CSV" selected="selected">CSV</option>\n            <option value="JSON">JSON</option>\n            <option value="Avro">Avro</option>\n            <option value="Parquet">Parquet</option>\n          </select>\n        </div>\n        \x3c!-- CSV-specific options --\x3e\n        <div class="csv-table-details hidden" style="display: block;">\n          <label>Column Delimiter</label>\n          <input type="text" name="field-delimiter" value="" class="table-details-input-field"\n                 placeholder="(Autodetected if not given)" required="">\n        </div>\n        <div class="csv-table-details hidden" style="display: block;">\n          <input class="checkbox-option" type="checkbox" name="use-header">\n          <label class="checkbox-option">First row is header</label>\n        </div>\n        \x3c!-- End of CSV-specific options --\x3e\n        \x3c!-- JSON-specific options --\x3e\n        <div class="json-table-details hidden" style="display: block;">\n          <input class="checkbox-option" type="checkbox" name="use-full-table-inference">\n          <label class="checkbox-option">Infer schema using all data</label>\n        </div>\n        \x3c!-- End of JSON-specific options --\x3e\n        <div class="table-import-submit hidden" style="display: block;">\n          <button class="btn btn-primary btn-medium submit-create-table" disabled="disabled"\n                  style="display: none;">Create Table</button>\n          <i class="create-spinner fa fa-spinner fa-spin" style="opacity: 0;"></i>\n        </div>\n        <div>\n          <div class="table-create-message"></div>\n        </div>\n      </div>\n      <div class="table-preview-right-panel">\n        <div class="hidden" style="display: block;">\n          <div class="flex-div">\n            <div class="table-import-columns-message">Loading table preview  </div>\n            <i class="preview-spinner table-preview-spinner fa fa-spinner fa-spin"\n                 style="opacity: 0;"></i>\n          </div>\n          <div class="table-import-columns results noscroll hidden" style="display: block;">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="span8">\n  <div class="table-create-message">\n    \x3c!-- Will be filled by Javascript --\x3e\n  </div>\n</div>\n'}},
{underscore:1021}],288:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e;with(a||{})a=""+('\x3c!-- tableCreateNoClusterTemplate --\x3e\n<div class="container-fluid table-create">\n  <div class="table-error-zone"></div>\n\n  <div class="row-fluid">\n    <div class="data-import">\n      <h2>Table Import</h2>\n    </div>\n  </div>\n\n  <div class="table-error-message table-error-message-padded">\n    '+(null==(e=message)?"":c.escape(e))+'\n    <a href="#setting/clusters">Go to Clusters page.</a>\n  </div>\n</div>\n\n<div class="span8">\n  <div class="table-create-message">\n    \x3c!-- Will be filled by Javascript --\x3e\n  </div>\n</div>\n');
return a}},{underscore:1021}],289:[function(a,l,f){var c=a("underscore");l.exports=function(a){var e;with(a||{})a=""+('\x3c!-- urlSandboxTemplate allows for the safe embedding of a single url. --\x3e\n<div class="ansiout">\n<iframe\n  id="'+(null==(e=frameId)?"":c.escape(e))+'"\n  width="100%"\n  height="450"\n  frameBorder="0"\n  seamless="seamless"\n  src="'+(null==(e=htmlContent)?"":c.escape(e))+'"></iframe>\n</div>\n\n');return a}},{underscore:1021}],290:[function(a,l,f){function c(a){var c=a.text,
k=a.link,e=a.className;a=a.divider;c=k?b.default.createElement("a",{href:k},c):c;return b.default.createElement("span",{className:e},c,a)}function e(a){a=a.links.map(function(a,k,e){e=k<e.length-1?b.default.createElement("span",{className:"divider"}," / "):null;return b.default.createElement(c,h({key:k},a,{divider:e}))});return b.default.createElement("span",{className:"breadcrumbs"},a)}Object.defineProperty(f,"__esModule",{value:!0});var h=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=
arguments[b],k;for(k in c)Object.prototype.hasOwnProperty.call(c,k)&&(a[k]=c[k])}return a};f.Breadcrumbs=e;var b=(a=a("react"))&&a.__esModule?a:{default:a};c.propTypes={text:b.default.PropTypes.string,link:b.default.PropTypes.string,className:b.default.PropTypes.string,divider:b.default.PropTypes.element};e.propTypes={links:b.default.PropTypes.array.isRequired}},{react:1001}],291:[function(a,l,f){function c(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}Object.defineProperty(f,"__esModule",{value:!0});f.Collapsible=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),
h=(a=a("react"))&&a.__esModule?a:{default:a};f=f.Collapsible=function(a){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c;c=(b.__proto__||Object.getPrototypeOf(b)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.getIcon=c.getIcon.bind(c);c.toggle=c.toggle.bind(c);c.renderSpacedChildren=c.renderSpacedChildren.bind(c);c.state={collapsed:a.collapseByDefault};
return c}c(b,a);e(b,[{key:"getIcon",value:function(){var a=this.state.collapsed?h.default.createElement("i",{className:"fa fa-caret-right"}):h.default.createElement("i",{className:"fa fa-caret-down"});return h.default.createElement("div",{className:"icon-width-expander"},h.default.createElement("center",null,a))}},{key:"toggle",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"renderSpacedChildren",value:function(){return h.default.createElement("div",{className:"collapsible-children"},
this.props.children)}},{key:"render",value:function(){return h.default.createElement("div",{className:"collapsible-region"},h.default.createElement("div",{onClick:this.toggle,className:"collapsible-header"},this.getIcon(),this.props.title),this.state.collapsed?null:this.renderSpacedChildren())}}]);return b}(h.default.Component);f.propTypes={title:h.default.PropTypes.node.isRequired,children:h.default.PropTypes.element.isRequired,collapseByDefault:h.default.PropTypes.bool};f.defaultProps={collapseByDefault:!1}},
{react:1001}],292:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},e=(f=a("jquery"))&&f.__esModule?f:{default:f},h=a("../ui_building_blocks/text/StringRenderers");a={};var b=function(a){if(null===a||"object"!==("undefined"===typeof a?"undefined":c(a)))return!1;for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};a.initializeCollapsedHTML=
function(a,c){return b(c)?'<i class="nestify-expand fa fa-caret-right"></i>'+(0,e.default)("<div/>").html(h.StringRenderers.renderString(c)).html():h.StringRenderers.renderString(a,1E3)};var k=function(a){var c=a[0].__nfData__,d=a[0].__nfKey__;a.empty();var k=(0,e.default)('<span class="nestify-key"/>'),n=(0,e.default)('<span class="nestify-colon"/>');d&&(k.text(d),n.text(": "));var d=(0,e.default)("<div/>").text(h.StringRenderers.htmlEscape(h.StringRenderers.renderString(c,1E3))),f=b(c),c=f?(0,e.default)('<i class="nestify-expand fa fa-caret-right"></i>'):
(0,e.default)("<i>&nbsp;</i>");a.append(c);a.append(k);a.append(n);a.append(d);a.removeClass("nestify-collapsible");f&&a.addClass("nestify-expandable")},d=function(a){a=(0,e.default)(a.target);if(a.is("i"))if(a=a.closest(".nestify"),a.hasClass("nestify-expandable")){var b=a[0].__nfData__,c=a[0].__nfKey__;a.empty();var d=(0,e.default)('<i class="nestify-collapse fa fa-caret-down"></i>'),h=(0,e.default)('<span class="nestify-key"/>'),n=(0,e.default)('<span class="nestify-colon"/>');c?(h.text(c),n.text(": ")):
(h.text(Array.isArray(b)?"array":"object"),h.addClass("nestify-object"));var c=(0,e.default)("<ul/>"),f;for(f in b)if(b.hasOwnProperty(f)){var u=(0,e.default)("<li/>"),y=(0,e.default)('<div class="nestify"/>');y[0].__nfData__=b[f];y[0].__nfKey__=f;Array.isArray(b)&&y.addClass("nestify-array");k(y);u.append(y);c.append(u)}a.append(d);a.append(h);a.append(n);a.append(c);a.removeClass("nestify-expandable");a.addClass("nestify-collapsible")}else a.hasClass("nestify-collapsible")&&k(a)};a.enable=function(a,
b){var c=a.find(".nestify").addBack(".nestify");if(!b)for(b=0;b<c.length;b++){var h=(0,e.default)(c[b]);h[0].__nfData__||(h[0].__nfData__=JSON.parse(h.text()));k(h)}a.click(d)};l.exports=a},{"../ui_building_blocks/text/StringRenderers":317,jquery:819}],293:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("underscore");var h=c(f);f=a("classnames");var b=c(f),k=a("../ui_building_blocks/Tooltip.jsx");a=e.default.createClass({displayName:"Tabs",propTypes:{activeTab:e.default.PropTypes.string,
linkClass:e.default.PropTypes.string,onTabClick:e.default.PropTypes.func,children:e.default.PropTypes.node},getInitialState:function(){var a=this.props.children.find(function(a){return(null!==a||void 0!==a)&&!a.props.disabled});return{activeTab:this.props.activeTab||a.props.name}},componentWillReceiveProps:function(a){a.activeTab&&this.setState({activeTab:a.activeTab})},_onClick:function(a,b){if(a.props.onClick)a.props.onClick();a.props.href||this._setActiveTab(a.props.name,b)},_setActiveTab:function(a,
b){b.preventDefault();if(this.props.onTabClick)this.props.onTabClick(a);this.setState({activeTab:a})},_initializeChildren:function(){this.props.children&&0!==this.props.children.length||console.error("TabsView must contain at least one Panel")},_renderNav:function(){var a=this,c=h.default.map(this.props.children,function(c,d){if(c){d="tab-nav-"+d;var h={"tab-nav-item":!0,active:a.state.activeTab===c.props.name},m=a.props.linkClass?a.props.linkClass:"";if(c.props.disabled)return m=e.default.createElement("a",
{disabled:!0,className:"disabled-tab "+m},c.props.title),e.default.createElement("li",{key:d,ref:d,className:(0,b.default)(h),"data-tab-name":c.props.title},c.props.tooltipText?e.default.createElement(k.Tooltip,{text:c.props.tooltipText},m):m);var n=a._onClick.bind(a,c);return e.default.createElement("li",{key:d,ref:d,className:(0,b.default)(h),"data-tab-name":c.props.title,onClick:n},e.default.createElement("a",{href:c.props.href?c.props.href:"#",className:m},c.props.title))}},this);return e.default.createElement("ul",
{className:"nav nav-tabs"},c)},_renderActivePanel:function(){var a=this,b=this.props.children.find(function(b){return b&&b.props.name===a.state.activeTab});return e.default.createElement("div",{className:"active-panel"},b)},render:function(){this._initializeChildren();return e.default.createElement("div",{className:"react-tab-view"},this._renderNav(),this._renderActivePanel())}});f=function(a){return e.default.createElement("div",{className:"react-tabs-panel"},a.children)};f.propTypes={title:e.default.PropTypes.node.isRequired,
name:e.default.PropTypes.string.isRequired,href:e.default.PropTypes.string,disabled:e.default.PropTypes.bool,tooltipText:e.default.PropTypes.oneOfType([e.default.PropTypes.element,e.default.PropTypes.string,e.default.PropTypes.bool]),onClick:e.default.PropTypes.func,children:e.default.PropTypes.node};l.exports.Tabs=a;l.exports.Panel=f},{"../ui_building_blocks/Tooltip.jsx":294,classnames:411,react:1001,underscore:1021}],294:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,
b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.Tooltip=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&
(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("jquery");var b=c(l);l=a("underscore");var k=c(l);l=a("react");var d=c(l);l=a("react-dom");var n=c(l);a=a("classnames");var m=c(a);f=f.Tooltip=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._onMouseLeave=a._onMouseLeave.bind(a);a._onMouseEnterElement=a._onMouseEnterElement.bind(a);a.tooltipStyle={};a.state={isHovered:!1,tooltipActive:!1,tooltipWidth:null};a.pendingCallbacks=[];return a}e(c,a);h(c,null,[{key:"getGenericUpgradeElement",value:function(a){var b=d.default.createElement("a",{href:"https://databricks.com/product/pricing",target:"_blank"},"upgrade your Databricks subscription.");return d.default.createElement("span",
null,a,", please ",b)}},{key:"getUpgradeElement",value:function(a,b){var c=d.default.createElement("a",{href:"https://databricks.com/product/pricing",target:"_blank",rel:"noopener noreferrer"},"Upgrade now");return d.default.createElement("span",null,a+(b?" are ":" is ")+"only available in Databricks Professional and Enterprise accounts. ",c)}}]);h(c,[{key:"componentDidMount",value:function(){var a=this;this.documentEscHandler=function(b){27===(b.keyCode||b.which)&&a.state.tooltipActive&&a.hideTooltip()};
(0,b.default)(document).on("keydown",this.documentEscHandler);this.clickHandler=function(c){0===(0,b.default)(c.target).closest(".tooltip-react-content").length&&a.hideTooltip()};var c=this.props.toggleOnOutsideClick?document:n.default.findDOMNode(this);(0,b.default)(c).on("click",this.clickHandler);this.props.attachToBody&&this.attachToBody();this._recalculateTooltipWidth()}},{key:"componentWillUnmount",value:function(){(0,b.default)(document).off("keydown",this.documentEscHandler);var a=this.props.toggleOnOutsideClick?
document:n.default.findDOMNode(this);(0,b.default)(a).off("click",this.clickHandler);this.props.attachToBody&&this.$tooltipNode[0]&&(n.default.unmountComponentAtNode(this.$tooltipNode[0]),(0,b.default)(".body-tooltip-wrapper").remove());this.pendingCallbacks.forEach(function(a){clearTimeout(a)})}},{key:"showTooltip",value:function(){this.state.tooltipActive||this.setState({tooltipActive:!0})}},{key:"hideTooltip",value:function(){this.state.tooltipActive&&this.setState({tooltipActive:!1});this.props.attachToBody&&
!this.state.tooltipActive&&this.$tooltipNode[0]&&n.default.unmountComponentAtNode(this.$tooltipNode[0])}},{key:"componentWillUpdate",value:function(a,b){this.props.attachToBody?this.positionBodyTooltip():this.positionInnerTooltip(a,b)}},{key:"positionInnerTooltip",value:function(a,c){var d=this.outer;if(d){var k=(0,b.default)(d).offset();a=(0,b.default)(d).position();var e=(0,b.default)(d).outerHeight(!0),d=(0,b.default)(d).outerWidth(!0),d=a.left+d/2,k=k.left+c.tooltipWidth+10-window.innerWidth;
this.tooltipStyle={left:Math.max(d-c.tooltipWidth/2,10),top:a.top+e,width:c.tooltipWidth-k*(0<k)};this.arrowStyle={left:10<this.tooltipStyle.left&&0>=k?c.tooltipWidth/2:d};this.props.customPosition&&(this.props.customPosition.contentLeft&&(this.tooltipStyle.left=this.props.customPosition.contentLeft),this.props.customPosition.arrowLeft&&(this.arrowStyle.left=this.props.customPosition.arrowLeft),this.props.customPosition.contentTop&&(this.tooltipStyle.top=this.props.customPosition.contentTop),this.props.customPosition.arrowTop&&
(this.arrowStyle.top=this.props.customPosition.arrowTop),this.props.customPosition.width&&(this.tooltipStyle.width=this.props.customPosition.width))}else console.error("Tooltip: positionInnerTooltip can't find it's DOM node.")}},{key:"renderTooltip",value:function(){var a={"tooltip-react-content":!0,visible:this.state.tooltipActive&&(null!==this.state.tooltipWidth||this.props.attachToBody)&&!k.default.isEmpty(this.props.text)};k.default.each(this.props.classes,function(b){a[b]=!0});var b=this.props.attachToBody?
null:"inner",c=this.props.setMinWidth?"":" tooltip-no-min-width";return d.default.createElement("div",{style:this.tooltipStyle,id:this.props.id,className:(0,m.default)(a),onMouseEnter:this.props.toggleOnHover?this._onMouseEnterTooltip.bind(this):null,onMouseLeave:this.props.toggleOnHover?this._onMouseLeaveTooltip.bind(this):null},d.default.createElement("div",{style:this.arrowStyle,className:"tooltip-react-arrow"}),d.default.createElement("div",{className:"tooltip-react-inner"+c,ref:b},this.props.text))}},
{key:"_onMouseEnterTooltip",value:function(){this.state.tooltipActive&&this.setState({isHovered:!0})}},{key:"_onMouseLeaveTooltip",value:function(){var a=this;this.state.tooltipActive&&this.props.attachToBody&&(this.setState({isHovered:!1}),this.pendingCallbacks.push(k.default.delay(function(){a.state.tooltipActive&&a.hideTooltip()},150)))}},{key:"_onMouseEnterElement",value:function(){var a=this;this.setState({isHovered:!0});this.pendingCallbacks.push(k.default.delay(function(){a.state.isHovered&&
!a.state.tooltipActive&&a.showTooltip()},this.props.hoverDelayMillis))}},{key:"_onMouseLeave",value:function(){var a=this;this.setState({isHovered:!1});this.pendingCallbacks.push(k.default.delay(function(){!a.state.isHovered&&a.state.tooltipActive&&a.hideTooltip()},150))}},{key:"attachToBody",value:function(){if(!this.$tooltipNode){var a=Math.random().toString(36).substring(7);this.$tooltipNode=(0,b.default)('<div class="body-tooltip-wrapper" id='+a+"></div>").appendTo("body");n.default.render(this.renderTooltip(),
this.$tooltipNode[0])}}},{key:"render",value:function(){var a=this,b={"tooltip-react-outer":!0,"body-tooltip-outer":this.props.attachToBody,"inline-auto-position":this.props.inlineAutoPosition};return d.default.createElement("div",{ref:function(b){return a.outer=b},className:(0,m.default)(b),onMouseLeave:this.props.toggleOnHover?this._onMouseLeave:null},d.default.createElement("div",{className:"tooltip-react-element",onMouseEnter:this.props.toggleOnHover?this._onMouseEnterElement:null},this.props.children),
this.props.attachToBody?null:this.renderTooltip())}},{key:"componentDidUpdate",value:function(){this._recalculateTooltipWidth();this.props.attachToBody&&this.$tooltipNode[0]&&(n.default.unmountComponentAtNode(this.$tooltipNode[0]),n.default.render(this.renderTooltip(),this.$tooltipNode[0]))}},{key:"_recalculateTooltipWidth",value:function(){var a;a=this.props.attachToBody?this.$tooltipNode.find(".tooltip-react-inner").outerWidth(!0):(0,b.default)(this.refs.inner).outerWidth(!0);this.state.tooltipWidth!==
a&&this.setState({tooltipWidth:a})}},{key:"positionBodyTooltip",value:function(){var a=(0,b.default)(this.outer).offset(),c=this.$tooltipNode.find(".tooltip-react-inner").outerWidth(!0),d=(0,b.default)(this.outer).outerWidth(!0),k=(0,b.default)(this.outer).outerHeight(!0),e=this.$tooltipNode.find(".tooltip-react-arrow").outerHeight(!0);this.tooltipStyle={left:a.left-c/2+d/2,top:a.top+k/2+e};this.arrowStyle={left:c/2}}}]);return c}(d.default.Component);f.propTypes={children:d.default.PropTypes.node,
text:d.default.PropTypes.node,toggleOnHover:d.default.PropTypes.bool,hoverDelayMillis:d.default.PropTypes.number,toggleOnOutsideClick:d.default.PropTypes.bool,classes:d.default.PropTypes.array,id:d.default.PropTypes.string,attachToBody:d.default.PropTypes.bool,customPosition:d.default.PropTypes.object,inlineAutoPosition:d.default.PropTypes.bool,setMinWidth:d.default.PropTypes.bool};f.defaultProps={text:"",toggleOnHover:!0,hoverDelayMillis:300,toggleOnOutsideClick:!0,classes:[],id:null,attachToBody:!1,
customPosition:{},inlineAutoPosition:!1,setMinWidth:!0}},{classnames:411,jquery:819,react:1001,"react-dom":865,underscore:1021}],295:[function(a,l,f){function c(a){var b=a.href,c=a.label,n=a.disabled,m=a.moreButtonProps;a=a.onClick;b&&(a=function(){return window.router.navigate(b,{trigger:!0})});return h.default.createElement("button",e({className:"btn btn-primary add-button",disabled:n,onClick:a},m),h.default.createElement("i",{className:"fa fa-plus fa-fw"}),"Add",c?" "+c:null)}Object.defineProperty(f,
"__esModule",{value:!0});var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],e;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(a[e]=c[e])}return a};f.AddButton=c;var h=(a=a("react"))&&a.__esModule?a:{default:a};c.propTypes={onClick:h.default.PropTypes.func,href:h.default.PropTypes.string,label:h.default.PropTypes.string,disabled:h.default.PropTypes.bool,moreButtonProps:h.default.PropTypes.object};c.defaultProps={disabled:!1,moreButtonProps:{}}},{react:1001}],
296:[function(a,l,f){function c(a){return e.default.createElement("button",{className:"btn btn-default",disabled:a.disabled,onClick:a.onClick},e.default.createElement("i",{className:"fa fa-times"})," ","Delete")}Object.defineProperty(f,"__esModule",{value:!0});f.DeleteButton=c;var e=(a=a("react"))&&a.__esModule?a:{default:a};c.propTypes={onClick:e.default.PropTypes.func.isRequired,disabled:e.default.PropTypes.bool};c.defaultProps={disabled:!1}},{react:1001}],297:[function(a,l,f){function c(a){return a&&
a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("jquery");var h=c(f);f=a("react");var b=c(f);f=a("../../filetree/FileTree");var k=c(f),d=a("../../forms/DropzoneUtils");f=a("../../forms/ReactCustom.jsx");var n=c(f);f=a("../../templates/dialogBaseTemplate.html");var m=c(f);f=a("../../ui_building_blocks/dialogs/ReactDialogBox.jsx");var q=c(f);f=a("../../ui_building_blocks/dialogs/ReactModalUtils");var w=c(f);a("../../../lib/jquery-cron");a("../../../lib/jquery-ui-bundle");a("../../../lib/jquery.ajaxQueue");
a("../../../lib/bootstrap");l.exports={alert:function(a,b,c,d,e){return q.default.alert(a,b,c,d,e)},confirm:function(a){return q.default.confirm(a)},prompt:function(a){return q.default.prompt(a)},custom:function(b,c,n){var f=(0,h.default)((0,m.default)()),q=f.find(".modal-header"),r=f.find(".modal-body");q.append((0,h.default)("<h3/>").text(b.title));this.setupButtons(f,".cancel-button",b.cancelButton,void 0!==b.showCancelButton?b.showCancelButton:!0);this.setupButtons(f,".confirm-button",b.confirmButton,
void 0!==b.showConfirmButton?b.showConfirmButton:!0);var g=function(){var a=!0;b.validateForm?a=b.validateForm(f):f.find(".control-field").each(function(){(0,h.default)(this).hasClass("invalid-form")&&(a=!1)});a?f.find(".confirm-button").removeAttr("disabled"):f.find(".confirm-button").attr("disabled",!0)},v=function(a,b){return function(){b.toggleClass("invalid-form",!a.validate(b.val(),f));g()}},z=function(a,b,c){return function(){c.toggleClass("invalid-form",!a.validate(b.selectedNode(),f));g()}},
p=function(a,b){return function(){var c=b[0].dropzone,c=a.validate?!a.validate(c):0===c.getAcceptedFiles().length;b.toggleClass("invalid-form",c);g()}},t=function(a){return function(b){13!==b.which||a.find(".confirm-button").attr("disabled")||(b.preventDefault(),a.find(".confirm-button").click())}},l=function(a,b){e.default.each(b,function(b,c){a.prop(c,b)})},w=null,q=null;if(void 0!==b.controls){for(var E=(0,h.default)("<div></div>"),F=0;F<b.controls.length;++F){var J=b.controls[F];if(null!==J){var L=
void 0,I=(0,h.default)("<div></div>");if(void 0!==J.label){var K=(0,h.default)("<label></label>").text(J.label);void 0!==J.title&&K.prop("title",J.title);I.append(K)}K=void 0;switch(J.controlType){case "select":K=(0,h.default)("<select></select>");for(L=0;L<J.options.length;++L){var N=void 0,N=void 0!==J.options[L].toLowerCase?J.options[L].toLowerCase():J.options[L];K.append((0,h.default)("<option/>").prop("value",N).text(J.options[L]))}J.disabled&&K.attr("disabled",!0);J.title&&K.attr("title",J.title);
break;case "selectWithValue":K=(0,h.default)("<select></select>");for(L=0;L<J.options.length;++L){var N=J.options[L].label,P=J.options[L].value,Y=J.value===J.options[L].value;K.append((0,h.default)("<option/>").prop("value",P).attr("data-label",N).attr("selected",Y).text(N))}J.disabled&&K.attr("disabled",!0);J.title&&K.attr("title",J.title);break;case "input":K="textarea"===J.type?(0,h.default)("<textarea/>"):(0,h.default)("<input/>").prop("type",J.type);J.required&&K.attr("required","true");void 0!==
J.props&&l(K,J.props);void 0!==J.title&&K.attr("title",J.title);void 0!==J.value&&K.attr("value",J.value);J.placeholder&&K.attr("placeholder",J.placeholder);J.max?K.attr("max",J.max):J.min&&K.attr("min",J.min);break;case "text":K=(0,h.default)("<div/>").text(J.message);break;case "html":K=(0,h.default)("<div/>").html(J.message);break;case "dropzone":K=(0,h.default)("<div></div>");K.addClass("dropzone");d.DropzoneUtils.installDropzone(K,J.options);if(J.required||J.validate)L=p(J,K),K[0].dropzone.on("success",
L),K[0].dropzone.on("error",L),K[0].dropzone.on("removedfile",L),L();break;case "filetreePath":K=(0,h.default)("<div/>").html(J.pathlabel+"<span class='filetree-path'></span>");w=function(b){b.treeProvider.selectionChanged=function(b){b=a("../../filetree/NavFunc.jsx").getFSPath(b.id);b="/"===b?b:b+"/";r.find("span.filetree-path").html(b)}};(L=(0,h.default)(".dialog-filetree-container")[0])&&w(L.fileTree);break;case "filetree":K=(0,h.default)('<div class="dialog-filetree-container">');L=(0,h.default)("<div>");
K.append(L);L=new k.default(L,window.fileBrowserView.getReadOnlyTreeProvider(J.nodeType,J.hideExamples),{scrollElement:K[0]});K[0].fileTree=L;w&&w(L);f.addClass("file-picker-dialog");void 0!==J.validate&&(N=z(J,L,K),L.treeProvider.selectionChanged=N,N());break;case "cron":K=(0,h.default)('<div class="dialog-cron-container"></div>');try{K.cron({initial:null===J.initialSched?void 0:J.initialSched,initialTimeZone:J.initialTimeZone,onChange:J.onChange})}catch(O){console.warn("Could not create control, retrying with no cron expr.",
O),K.html(""),K.cron({onChange:J.onChange}),K.find("select").addClass("cron-widget-invalid")}f.css("width","600px");break;case "multifield":K=(0,h.default)('<div class="dialog-multifield-container"></div>');for(L=0;L<J.subfields.length;L++)if(N=J.subfields[L],"html"===N.type)K.append((0,h.default)("<span/>").html(N.html));else if("select"===N.type)for(P=(0,h.default)("<select></select>").appendTo(K),N.width&&P.css("width",N.width),N.id&&P.prop("id",N.id),Y=0;Y<N.options.length;Y++){var M=N.options[Y];
M[1]===N.value?P.append((0,h.default)("<option selected/>").prop("value",M[1]).text(M[0])):P.append((0,h.default)("<option/>").prop("value",M[1]).text(M[0]))}else throw Error("Unknown field type: "+N.type);break;default:console.warn("Unknown type of control: "+J.controlType)}K.addClass("control-field");void 0!==J.class&&K.addClass(J.class);void 0!==J.id&&K.attr("id",J.id);J.focus&&(q=K);void 0===J.validate||"input"!==J.controlType&&"select"!==J.controlType||(L=v(J,K),L(),K.on("change paste keyup focus keypress",
L));!0===J.confirmOnEnter&&(L=t(f),K.on("keypress",L));L=(0,h.default)("<div></div>");L.append(K);J.labelLeft?I.prepend(L):I.append(L);K=(0,h.default)("<div class='multi-input-row'></div>");J.id&&K.attr("data-row-for",J.id);J.hidden&&K.hide();K.append(I);E.append(K)}}r.append(E)}void 0!==c&&(v=document.createElement("div"),v.innerHTML=c,r.append(v));void 0!==b.topHtml&&(c=document.createElement("div"),c.innerHTML=b.topHtml,r.prepend(c));void 0!==b.class&&f.addClass(b.class);f.on("remove",function(){(0,
h.default)(".modal-backdrop").remove()});f.find(".confirm-button").unbind("click");f.find(".confirm-button").on("click",function(){n||f.remove();b.confirm&&b.confirm(f);return!1});f.on("hidden",function(){f.remove();b.cancel&&b.cancel();return!1});g();f.modal();null!==q&&q.focus();return f},reactCustom:function(a,c,d){var e=b.default.createFactory(n.default);void 0!==c&&(c=b.default.createElement("div",{dangerouslySetInnerHTML:{__html:c}}),a.children=c);a=e(a);d||w.default.createModal(a);return a},
setupButtons:function(a,b,c,d){a=a.find(b);d?(a.css("display",""),a.text(c)):a.hide()}}},{"../../../lib/bootstrap":383,"../../../lib/jquery-cron":401,"../../../lib/jquery-ui-bundle":402,"../../../lib/jquery.ajaxQueue":403,"../../filetree/FileTree":71,"../../filetree/NavFunc.jsx":72,"../../forms/DropzoneUtils":76,"../../forms/ReactCustom.jsx":79,"../../templates/dialogBaseTemplate.html":275,"../../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../../ui_building_blocks/dialogs/ReactModalUtils":300,
jquery:819,react:1001,underscore:1021}],298:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("../../forms/ReactAlert.jsx");var h=c(f);f=a("../../forms/ReactConfirm.jsx");var b=c(f);f=a("../../forms/ReactPrompt.jsx");var k=c(f);a=a("../../ui_building_blocks/dialogs/ReactModalUtils");var d=c(a);l.exports={alert:function(a,b,c,k,f){var m={message:a};b&&(console.warn("HTML strings are no longer supported."),m.message=e.default.createElement("div",{dangerouslySetInnerHTML:{__html:a}}));
c&&(m.button=c);k&&(m.callback=k);f&&(m.className=f);a=e.default.createElement(h.default,m);d.default.createModal(a);return a},confirm:function(a){a.messageHTML&&(console.warn("HTML strings are no longer supported."),a.message=e.default.createElement("div",{dangerouslySetInnerHTML:{__html:a.messageHTML}}));a=e.default.createElement(b.default,a);d.default.createModal(a);return a},prompt:function(a){a=e.default.createElement(k.default,a);d.default.createModal(a);return a}}},{"../../forms/ReactAlert.jsx":77,
"../../forms/ReactConfirm.jsx":78,"../../forms/ReactPrompt.jsx":83,"../../ui_building_blocks/dialogs/ReactModalUtils":300,react:1001}],299:[function(a,l,f){var c=(a=a("react"))&&a.__esModule?a:{default:a};a=c.default.createClass({displayName:"ReactModal",propTypes:{modalName:c.default.PropTypes.string.isRequired,classes:c.default.PropTypes.string,header:c.default.PropTypes.oneOfType([c.default.PropTypes.object,c.default.PropTypes.array]),body:c.default.PropTypes.oneOfType([c.default.PropTypes.object,
c.default.PropTypes.array]),footer:c.default.PropTypes.oneOfType([c.default.PropTypes.object,c.default.PropTypes.array]),onHide:c.default.PropTypes.func},componentWillUnmount:function(){if(this.props.onHide)this.props.onHide()},render:function(){var a="modal modal-narrow modal-main-"+this.props.modalName,a=a+(" "+this.props.modalName);this.props.classes&&(a+=" "+this.props.classes);var h="modal-body modal-body-"+this.props.modalName,b="modal-footer modal-footer-"+this.props.modalName;return c.default.createElement("div",
{className:a},c.default.createElement("div",{className:"modal-header modal-header-"+this.props.modalName},this.props.header),c.default.createElement("div",{className:h},this.props.body),c.default.createElement("div",{className:b},this.props.footer))}});l.exports=a},{react:1001}],300:[function(a,l,f){var c=(f=a("jquery"))&&f.__esModule?f:{default:f},e=(f=a("react-dom"))&&f.__esModule?f:{default:f};a("../../../lib/jquery-ui-bundle");a("../../../lib/bootstrap");l.exports={createModal:function(a){(0,
c.default)("body").append((0,c.default)("<div class='modal react-modal-place'></div>"));var b=(0,c.default)(".react-modal-place"),k=document.onkeydown;b.modal("show");var d=function(){return b.modal("hide")};b.on("hidden",function(){b.remove();(0,c.default)(".modal-backdrop").remove();document.onkeydown=k;window.removeEventListener("hashchange",d,!1);setTimeout(function(){e.default.unmountComponentAtNode(b[0])},0)});window.addEventListener("hashchange",d,!1);document.activeElement.blur();document.onkeydown=
function(a){a=a||window.event;if(27===a.keyCode){try{a.preventDefault()}catch(m){a.returnValue=!1}b.modal("hide")}k&&k(a)};e.default.render(a,b[0])},hideModal:function(){(0,c.default)(".react-modal-place").hide();(0,c.default)(".modal-backdrop").hide()},showModal:function(){(0,c.default)(".react-modal-place").show();(0,c.default)(".modal-backdrop").show()},destroyModal:function(){(0,c.default)(".react-modal-place").modal("hide")},hasActiveModal:function(){return 0<(0,c.default)(".modal:visible").length}}},
{"../../../lib/bootstrap":383,"../../../lib/jquery-ui-bundle":402,jquery:819,"react-dom":865}],301:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("lodash");var h=c(f);a=a("react");var b=c(a);a=b.default.createClass({displayName:"DropdownMenuView",propTypes:{heading:b.default.PropTypes.oneOfType([b.default.PropTypes.string,b.default.PropTypes.node]),outsideClickHandler:b.default.PropTypes.func.isRequired,getItems:b.default.PropTypes.func.isRequired,
handleClickInMenu:b.default.PropTypes.bool,ignoreClickClasses:b.default.PropTypes.array,classes:b.default.PropTypes.array,getPosition:b.default.PropTypes.func},getDefaultProps:function(){return{handleClickInMenu:!0,classes:[],getPosition:function(){}}},componentDidMount:function(){var a=this;this.clickHandler=function(b){var c=["dropdown-menu"].concat(a.props.ignoreClickClasses?a.props.ignoreClickClasses:[]);!h.default.some(c,function(a){return 0!==(0,e.default)(b.target).closest("."+a).length})&&
a.props.outsideClickHandler&&a.props.outsideClickHandler();return!0};(0,e.default)(document).click(this.clickHandler);(0,e.default)("#sparkui-iframe").contents().click(this.clickHandler)},componentWillUnmount:function(){(0,e.default)(document).off("click",this.clickHandler);(0,e.default)("#sparkui-iframe").contents().off("click",this.clickHandler)},render:function(){var a=h.default.extend({display:"block"},this.props.getPosition()),c=0,e=h.default.map(this.props.getItems(),function(a){c++;return b.default.createElement("li",
{key:c,className:"dropdown-menu-item"},a)}),m="dropdown-menu "+this.props.classes.join(" "),f=this.props.heading?b.default.createElement("li",{className:"heading"},b.default.createElement("span",null,this.props.heading)):null;return b.default.createElement("div",{className:m,style:a,onClick:this.props.handleClickInMenu?this.props.outsideClickHandler:null},f,e)}});l.exports=a},{jquery:819,lodash:842,react:1001}],302:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}var e=Object.assign||
function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};f=a("underscore");var h=c(f);f=a("react");var b=c(f);f=a("classnames");var k=c(f),d=a("../../ui_building_blocks/Tooltip.jsx");a=b.default.createClass({displayName:"Highlight",propTypes:{tooltip:b.default.PropTypes.node,withTooltip:b.default.PropTypes.bool,animate:b.default.PropTypes.bool,smallAnimate:b.default.PropTypes.bool,autoHideTooltip:b.default.PropTypes.bool,
duration:b.default.PropTypes.number,children:b.default.PropTypes.node},getDefaultProps:function(){return{animate:!0,smallAnimate:!1,tooltip:"",withTooltip:!0,autoHideTooltip:!1,duration:2E3}},getInitialState:function(){return{highlightTimer:null}},componentWillUnmount:function(){this.clearHighlight()},clearHighlight:function(){this.state.highlightTimer&&"forever"!==this.state.highlightTimer&&clearTimeout(this.state.highlightTimer)},highlight:function(a){if(this.isMounted()){a=void 0!==a?a:{};var b=
void 0!==a.tooltip?a.tooltip:this.props.tooltip,c=void 0!==a.duration?a.duration:this.props.duration,d=void 0!==a.animate?a.animate:this.props.animate,e=void 0!==a.autoHideTooltip?a.autoHideTooltip:this.props.autoHideTooltip;a=a.classes;this.clearHighlight();c=0<c?setTimeout(this.unhighlight,c):"forever";this.setState({highlightTimer:c,tooltip:b,animate:d,autoHideTooltip:e,classes:a});b&&this.refs.tooltip.showTooltip()}},unhighlight:function(a){this.isMounted()&&this.isHighlighted()&&(this.clearHighlight(),
this.setState({highlightTimer:null}),(a||this.state.autoHideTooltip)&&this.refs.tooltip.hideTooltip())},isHighlighted:function(){return null!==this.state.highlightTimer},render:function(){var a=void 0;this.isHighlighted()?(a={"highlight-active":!0,"highlight-animation":this.state.animate,"small-frame":this.props.smallAnimate},h.default.each(this.state.classes,function(b){a[b]=!0})):a={"highlight-inactive":!0};var c=b.default.createElement("div",{className:(0,k.default)(a)},this.props.children);return this.props.withTooltip?
b.default.createElement(d.Tooltip,e({ref:"tooltip",toggleOnHover:!1},this.props,{text:this.state.tooltip}),c):c}});l.exports=a},{"../../ui_building_blocks/Tooltip.jsx":294,classnames:411,react:1001,underscore:1021}],303:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.Icons=void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,
c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("react"))&&a.__esModule?a:{default:a};f.Icons=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"getNum",value:function(a){return e.default.createElement("span",{className:"fa-stack fa-lg"},e.default.createElement("i",{className:"fa fa-circle-thin fa-stack-1x num-icon-circle"}),e.default.createElement("i",{className:"fa fa-stack-1x num-icon-digit"},a))}}]);return a}()},{react:1001}],
304:[function(a,l,f){l.exports={ban:"ban",error:"exclamation-circle",warning:"exclamation-triangle",success:"check-circle",folder:"folder-o",openFolder:"folder-open-o",table:"table",close:"remove",cached:"check",inProgress:"spinner fa-spin",shell:"file-text-o",dashboard:"bar-chart",library:"book",setting:"gear",help:"question",cluster:"sitemap",view:"picture-o",comments:"comments",github:"github",lock:"lock",example:"question",user:"user",users:"users",shared:"share-alt-square",jobs:"calendar",recent:"clock-o",
apps:"th",workspace:"folder-open-o",search:"search",home:"home",userFolder:"folder",openUserFolder:"folder-open",history:"history",runAll:"play-circle-o",stopRunAll:"stop",clearResults:"eraser",chevronUp:"chevron-up",chevronDown:"chevron-down",chevronRight:"chevron-right",document:"file-o",create:"plus",link:"external-link",navigate:"external-link",left:"align-left",right:"align-right",center:"align-center",refresh:"refresh",zoomLarge:"search-plus",zoomSmall:"search-minus",active:"check",publish:"share-square-o",
hint:"question-circle help-icon",download:"cloud-download","import":"cloud-upload"}},{}],305:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.FilterInput=void 0;var e=
function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),h=(l=a("react"))&&l.__esModule?l:{default:l},b=a("../../forms/ReactFormElements.jsx");(f.FilterInput=function(a){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var a=(d.__proto__||Object.getPrototypeOf(d)).apply(this,
arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}c(d,a);e(d,[{key:"render",value:function(){return h.default.createElement("div",{className:"filter-input"},h.default.createElement("i",{className:"fa fa-search fa-fw"}),h.default.createElement(b.Input,{ref:"input",placeholder:"Filter",onChange:this.props.onChange}))}}]);return d}(h.default.Component)).propTypes={onChange:h.default.PropTypes.func.isRequired}},
{"../../forms/ReactFormElements.jsx":81,react:1001}],306:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function b(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.Column=f.Table=void 0;var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();
l=a("react");var d=c(l);l=a("lodash");var n=c(l);l=a("fixed-data-table");l=c(l);a=a("../../ui_building_blocks/tables/ReactTableUtils.jsx");var m=l.default.Table;l=l.default.Column;(f.Table=function(a){function c(){e(this,c);return h(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}b(c,a);k(c,[{key:"buildProps",value:function(){var a=this,b={ref:"table",rowHeight:26,headerHeight:26,maxHeight:5E4,fixed:!0};this.props.rows&&n.default.assign(b,{rowGetter:function(b){return[a.props.rows[b]]},
rowsCount:this.props.rows.length});this.props.isHeaderless&&(b=n.default.assign(b,{headerHeight:0}));return n.default.assign(b,this.props)}},{key:"render",value:function(){return d.default.createElement("div",{className:this.props.isHeaderless?"headerless-table":void 0},d.default.createElement(m,this.buildProps(),this.props.children))}}]);return c}(d.default.Component)).propTypes={children:d.default.PropTypes.array.isRequired,rows:d.default.PropTypes.array,isHeaderless:d.default.PropTypes.bool};f=
f.Column=function(a){function c(){e(this,c);return h(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}b(c,a);return c}(l);f.defaultProps={headerRenderer:a.HeaderRenderers.unsortableRenderer,headerClassName:"header-cell",cellClassName:"body-cell",dataKey:0};f.propTypes={headerRenderer:d.default.PropTypes.func,headerClassName:d.default.PropTypes.string,cellClassName:d.default.PropTypes.string,dataKey:d.default.PropTypes.number}},{"../../ui_building_blocks/tables/ReactTableUtils.jsx":307,
"fixed-data-table":807,lodash:842,react:1001}],307:[function(a,l,f){function c(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}Object.defineProperty(f,"__esModule",{value:!0});f.CompareTos=f.CellRenderers=f.HeaderRenderers=void 0;var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=
d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=(l=a("jquery"))&&l.__esModule?l:{default:l},k=(l=a("react"))&&l.__esModule?l:{default:l},d=a("../../ui_building_blocks/tables/SortableHeaderCellLink.jsx"),n=a("../../ui_building_blocks/Tooltip.jsx");f.HeaderRenderers=function(){function a(){c(this,a)}h(a,null,[{key:"unsortableRenderer",value:function(a){return k.default.createElement("span",
null,a)}},{key:"centeredUnsortableRenderer",value:function(a){return k.default.createElement("center",null,a)}},{key:"getSortableRenderer",value:function(a,b,c,e){return function(h){return k.default.createElement(d.SortableHeaderCellLink,{label:h,sortFunc:a,isSorted:b,initiallySorted:c,className:e})}}},{key:"getCheckboxHeaderRenderer",value:function(a){var b=1>=arguments.length||void 0===arguments[1]?"checkbox-for-table-column":arguments[1];return function(){return k.default.createElement("span",
null,k.default.createElement("input",{className:b,type:"checkbox",onClick:a}))}}}]);return a}();f.CellRenderers=function(){function a(){c(this,a)}h(a,null,[{key:"get2dArrayStringRenderer",value:function(a){return function(b){return b?k.default.createElement("span",null,b[a]):null}}},{key:"getActionsCellRenderer",value:function(a,b){var c=this,d=a.deleteFunc;return function(a){if(!a||!d)return null;a=d.bind(c,a);return k.default.createElement("span",{className:"actions-cell"},k.default.createElement("a",
{onClick:a,className:b},k.default.createElement("i",{className:"fa fa-times"}))," ")}}},{key:"getClickableRowCell",value:function(a,c,d){var e=function(c){(0,b.default)(c.target).hasClass("clickable-row")&&a()},h="clickable-row"+(d?" content-centered":"");return function(a){return k.default.createElement("div",{className:h,onClick:e},c(a))}}},{key:"getIconCellRenderer",value:function(a,b,c){return function(d){var e=a(d),h=c?c(d):"";return k.default.createElement("span",{className:"inline-block"+h},
e?k.default.createElement("span",{className:"cell-icon-left-of-text"},e):null,b(d))}}},{key:"getTooltipCellRenderer",value:function(a,b){var c=2>=arguments.length||void 0===arguments[2]?{}:arguments[2];return function(d){return k.default.createElement("div",{className:"tooltip-cell"},k.default.createElement(n.Tooltip,e({text:b(d)},c),a(d)))}}},{key:"getLinkCellRenderer",value:function(a,b,c,d){return function(e){if(!e)return null;var h=c?c(e):!1;return k.default.createElement("div",null,k.default.createElement("a",
{href:a(e),disabled:h,target:d?"_blank":void 0},b(e)))}}},{key:"getCheckboxCellRenderer",value:function(a,b,c){var d=3>=arguments.length||void 0===arguments[3]?"checkbox-for-table-column":arguments[3];return function(e){return k.default.createElement("span",null,k.default.createElement("input",{className:d,type:"checkbox",checked:b(e),disabled:c(e),onClick:function(){return a(e)}}))}}},{key:"getTextInputCellRenderer",value:function(a,b){var c=2>=arguments.length||void 0===arguments[2]?{}:arguments[2],
d=3>=arguments.length||void 0===arguments[3]?{}:arguments[3];return function(h){var m=d.className?d.className:"full-width-of-cell",m=!b||b(h)?m:m+" invalid",n={};Object.keys(c).forEach(function(a){var b=c[a];n[a]=function(a){return b(a,h)}});return k.default.createElement("input",e({type:"text",className:m,value:a(h)},n,d))}}}]);return a}();f.CompareTos=function(){function a(){c(this,a)}h(a,null,[{key:"getSimpleCompareTo",value:function(a,b){return function(c,d){return a(c)<a(d)?-1*b:a(c)>a(d)?1*
b:0}}},{key:"getNameListCompareTo",value:function(b,c,d){var e=a.getSimpleCompareTo(function(a){return a},d);return function(a,k){if(0<b(a).length&&0===b(k).length)return-1*d;if(0===b(a).length&&0<b(k).length)return 1*d;if(0<b(a).length&&0<b(k).length){var h=e(b(a)[0],b(k)[0]);return 0!==h?h:e(c(a)[0],c(k)[0])}return 0<c(a).length&&0<c(k).length?e(c(a)[0],c(k)[0]):0<c(a).length?-1*d:0<c(k).length?1*d:0}}}]);return a}()},{"../../ui_building_blocks/Tooltip.jsx":294,"../../ui_building_blocks/tables/SortableHeaderCellLink.jsx":310,
jquery:819,react:1001}],308:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.SortDirections={ASC:1,DESC:-1,flip:function(a){return-1*a}}},{}],309:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.SortIcons=void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=
(a=a("react"))&&a.__esModule?a:{default:a};f.SortIcons=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"getAscIcon",value:function(){return e.default.createElement("i",{className:"fa fa-arrow-up fa-fw"})}},{key:"getDescIcon",value:function(){return e.default.createElement("i",{className:"fa fa-arrow-down fa-fw"})}}]);return a}()},{react:1001}],310:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.SortableHeaderCellLink=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);
return b}}(),h=(l=a("react"))&&l.__esModule?l:{default:l},b=a("../../ui_building_blocks/tables/SortDirections"),k=a("../../ui_building_blocks/tables/SortIcons.jsx");a=f.SortableHeaderCellLink=function(a){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var c;c=(d.__proto__||Object.getPrototypeOf(d)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?
this:c;c.onClick=c.onClick.bind(c);c.state={dir:a.initiallySorted?b.SortDirections.ASC:b.SortDirections.DESC};return c}c(d,a);e(d,[{key:"onClick",value:function(){var a=b.SortDirections.flip(this.state.dir);this.props.sortFunc(a);this.setState({dir:a})}},{key:"getDirIcon",value:function(){return this.props.isSorted?this.state.dir===b.SortDirections.ASC?k.SortIcons.getAscIcon():k.SortIcons.getDescIcon():null}},{key:"render",value:function(){return h.default.createElement("a",{ref:"link",className:this.props.className,
onClick:this.onClick},this.props.label,this.getDirIcon())}}]);return d}(h.default.Component);a.propTypes={label:h.default.PropTypes.string.isRequired,sortFunc:h.default.PropTypes.func.isRequired,isSorted:h.default.PropTypes.bool.isRequired,initiallySorted:h.default.PropTypes.bool,className:h.default.PropTypes.string};a.defaultProps={initiallySorted:!1,className:"header-cell"}},{"../../ui_building_blocks/tables/SortDirections":308,"../../ui_building_blocks/tables/SortIcons.jsx":309,react:1001}],311:[function(a,
l,f){function c(a){var b=a.title,c=a.extraClasses,n=a.key,m=a.sortedDesc,f=a.sortedAsc;a=a.onClick;m=(0,h.default)({"fa fa-caret-down fa-fw":m,"fa fa-caret-up fa-fw":f});return e.default.createElement("th",{className:"sortable-header "+c,key:n,onClick:a},b,e.default.createElement("i",{className:m}))}var e=(f=a("react"))&&f.__esModule?f:{default:f},h=(a=a("classnames"))&&a.__esModule?a:{default:a};c.propTypes={title:e.default.PropTypes.string.isRequired,extraClasses:e.default.PropTypes.string.isRequired,
sortedDesc:e.default.PropTypes.bool.isRequired,sortedAsc:e.default.PropTypes.bool.isRequired,onClick:e.default.PropTypes.func,key:e.default.PropTypes.string};l.exports=c},{classnames:411,react:1001}],312:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}function e(a){var c=a.headers,e=a.content,k=a.bodyId;if(a=a.moreProps)a.hasOwnProperty("headers")&&(c=c.concat(a.headers)),a.hasOwnProperty("content")&&(e=e.concat(a.content));return b.default.createElement("div",null,b.default.createElement("table",{className:"table table-bordered-outer"},b.default.createElement("thead",null,b.default.createElement("tr",null,c)),b.default.createElement("tbody",{id:k},e)))}Object.defineProperty(f,"__esModule",{value:!0});f.CollapsibleTableView=void 0;
var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}();f.TableView=e;var b=(a=a("react"))&&a.__esModule?a:{default:a};e.propTypes={headers:b.default.PropTypes.array.isRequired,content:b.default.PropTypes.array.isRequired,bodyId:b.default.PropTypes.string,moreProps:b.default.PropTypes.object};f=f.CollapsibleTableView=
function(a){function d(a){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var b;b=(d.__proto__||Object.getPrototypeOf(d)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.state={collapsed:a.collapseByDefault};b.toggle=b.toggle.bind(b);return b}c(d,a);h(d,[{key:"toggle",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",
value:function(){var a=this.state.collapsed?b.default.createElement("i",{className:"fa fa-caret-right"}):b.default.createElement("i",{className:"fa fa-caret-down"});return b.default.createElement("div",null,b.default.createElement("div",{onClick:this.toggle,className:"header"},a," ",this.props.headers),b.default.createElement(e,{headers:[],content:this.state.collapsed?[]:this.props.content,bodyId:this.props.bodyId||void 0,moreProps:this.props}))}}]);return d}(b.default.Component);f.propTypes={headers:b.default.PropTypes.array.isRequired,
content:b.default.PropTypes.array.isRequired,bodyId:b.default.PropTypes.string,collapseByDefault:b.default.PropTypes.bool};f.defaultProps={collapseByDefault:!1}},{react:1001}],313:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=
b)}Object.defineProperty(f,"__esModule",{value:!0});f.TableRowAdder=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&l.__esModule?l:{default:l},b=(l=a("lodash"))&&l.__esModule?l:{default:l},k=a("../../ui_building_blocks/tables/TableRowAdderView.jsx");(f.TableRowAdder=function(a){function d(a){if(!(this instanceof
d))throw new TypeError("Cannot call a class as a function");a=(d.__proto__||Object.getPrototypeOf(d)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.onClickAdd=a.onClickAdd.bind(a);a.validateAndSetState=a.validateAndSetState.bind(a);a.clearInvalidInputState=a.clearInvalidInputState.bind(a);a.onInputKeydown=a.onInputKeydown.bind(a);a.onInputBlur=a.onInputBlur.bind(a);a.state={inputValidStateMap:a.getInitialInputValidMap(),
invalidInputMsgList:[]};return a}c(d,a);e(d,[{key:"getInitialInputValidMap",value:function(){var a={};this.props.inputPropertiesList.forEach(function(b){a[b.id]=!0});return a}},{key:"getInputIDs",value:function(){return this.props.inputPropertiesList.map(function(a){return a.id})}},{key:"getAllInputValues",value:function(){var a=this,b={};this.getInputIDs().forEach(function(c){b[c]=a.adderView.getInputValue(c).trim()});return b}},{key:"areAllInputsValid",value:function(){return!b.default.includes(this.state.inputValidStateMap,
!1)}},{key:"areAllInputsEmpty",value:function(){return Object.values(this.getAllInputValues()).every(b.default.isEmpty)}},{key:"validateInput",value:function(a,b){return(a=a.validator)?a(b):!0}},{key:"onClickAdd",value:function(){!this.validateAllInputs()||this.props.disabled||this.areAllInputsEmpty()||(this.props.onAddValidRow(this.getAllInputValues()),this.adderView.clearInputs(),this.adderView.focusFirstInput())}},{key:"setInputValidStateMap",value:function(a,c){var d=b.default.cloneDeep(this.state.inputValidStateMap);
d[c]=a;this.setState({inputValidStateMap:d})}},{key:"validateAndSetState",value:function(a,b){var c=this.getInputPropertyObj(a);b=this.validateInput(c,b);if(b===this.state.inputValidStateMap[a])return b;this.setInputValidStateMap(b,a);b||this.addToInvalidInputMsgList(c.invalidMsg);return b}},{key:"hideTooltip",value:function(a){(a=this.adderView[a+"Tooltip"])&&a.hideTooltip()}},{key:"showTooltip",value:function(a){(a=this.adderView[a+"Tooltip"])&&a.showTooltip()}},{key:"addToInvalidInputMsgList",
value:function(a){a=b.default.cloneDeep(this.state.invalidInputMsgList).concat(a);this.setState({invalidInputMsgList:a})}},{key:"removeFromInvalidInputMsgList",value:function(a){var b=this,c=[];this.props.inputPropertiesList.forEach(function(d){var e=d.id===a;b.isInputValid(d.id)||e||c.push(d.invalidMsg)});this.setState({invalidInputMsgList:c})}},{key:"isInputValid",value:function(a){return this.state.inputValidStateMap[a]}},{key:"getInputPropertyObj",value:function(a){return b.default.find(this.props.inputPropertiesList,
function(b){return b.id===a})}},{key:"clearInvalidInputState",value:function(a){this.state.inputValidStateMap[a]||(this.setInputValidStateMap(!0,a),this.removeFromInvalidInputMsgList(a))}},{key:"validateAllInputs",value:function(){var a=this,c=!0;b.default.forEach(this.getAllInputValues(),function(b,d){c=a.validateAndSetState(d,b)&&c});return c}},{key:"onInputKeydown",value:function(a){var b=a.target.id;if(13===a.keyCode)this.onClickAdd();else this.clearInvalidInputState(b),this.showTooltip(b)}},
{key:"clearAllInvalidState",value:function(){this.setState({inputValidStateMap:this.getInitialInputValidMap(),invalidInputMsgList:[]})}},{key:"onInputBlur",value:function(a,b){if(!this.props.disabled){var c=this.areAllInputsEmpty();b=a.trimTrailingLeadingWhitespace?this.adderView.trimAndSetValue(a.id):b.target.value;a.validator&&!c&&this.validateAndSetState(a.id,b);c&&this.clearAllInvalidState();this.hideTooltip(a.id)}}},{key:"buildInputElementAttrs",value:function(){var a=this,c=b.default.cloneDeep(this.props.inputPropertiesList);
c.forEach(function(b){b.onBlur=a.onInputBlur.bind(null,b);b.className=a.isInputValid(b.id)?"":"invalid";b.onKeyDown=a.onInputKeydown});return c}},{key:"render",value:function(){var a=this;return h.default.createElement(k.TableRowAdderView,{ref:function(b){return a.adderView=b},header:this.props.header,onAddValidRow:this.props.onAddValidRow,inputElementAttrs:this.buildInputElementAttrs(),disableAddButton:!this.areAllInputsValid()||this.props.disabled,disabled:this.props.disabled,invalidInputMsgList:this.state.invalidInputMsgList,
onClickAdd:this.onClickAdd})}}]);return d}(h.default.Component)).propTypes={header:h.default.PropTypes.node,onAddValidRow:h.default.PropTypes.func.isRequired,inputPropertiesList:h.default.PropTypes.arrayOf(h.default.PropTypes.shape({id:h.default.PropTypes.string.isRequired,key:h.default.PropTypes.string.isRequired,validator:h.default.PropTypes.func,placeholder:h.default.PropTypes.string,invalidMsg:h.default.PropTypes.string,tooltipTextRenderer:h.default.PropTypes.func,trimTrailingLeadingWhitespace:h.default.PropTypes.bool})).isRequired,
disabled:h.default.PropTypes.bool}},{"../../ui_building_blocks/tables/TableRowAdderView.jsx":314,lodash:842,react:1001}],314:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});
f.TableRowAdderView=void 0;var e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=(l=a("react"))&&l.__esModule?l:{default:l},k=(l=a("lodash"))&&
l.__esModule?l:{default:l},d=a("../../ui_building_blocks/Tooltip.jsx");a=f.TableRowAdderView=function(a){function m(){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");var a=(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}c(m,a);h(m,[{key:"renderInputs",value:function(){var a=this;return this.props.inputElementAttrs.map(function(c){var k=
b.default.createElement("input",e({type:"text",ref:function(b){return a[c.id]=b}},c,{disabled:a.props.disabled}));c.tooltipTextRenderer&&(k=b.default.createElement(d.Tooltip,{ref:function(b){return a[c.id+"Tooltip"]=b},key:c.key,text:c.tooltipTextRenderer(),toggleOnHover:!1,children:k}));return k})}},{key:"componentDidMount",value:function(){this.focusFirstInput()}},{key:"focusFirstInput",value:function(){this.props.disabled||this[k.default.first(this.props.inputElementAttrs).id].focus()}},{key:"getInputValue",
value:function(a){return this[a].value}},{key:"trimAndSetValue",value:function(a){var b=this.getInputValue(a).trim();return this[a].value=b}},{key:"clearInputs",value:function(){var a=this;this.props.inputElementAttrs.forEach(function(b){a[b.id].value=""})}},{key:"renderInvalidMessages",value:function(){return k.default.map(this.props.invalidInputMsgList,function(a){return b.default.createElement("span",{key:a},a)})}},{key:"render",value:function(){return b.default.createElement("div",{className:"table-row-adder"},
this.props.header,b.default.createElement("div",{className:"input-list"},this.renderInputs()),b.default.createElement("button",{className:"btn cancel-btn",onClick:this.props.onClickAdd,disabled:this.props.disableAddButton||this.props.disabled},"Add"),b.default.createElement("div",{className:"invalid-msg"},this.renderInvalidMessages()))}}]);return m}(b.default.Component);a.propTypes={onClickAdd:b.default.PropTypes.func.isRequired,header:b.default.PropTypes.node,onAddValidRow:b.default.PropTypes.func.isRequired,
inputElementAttrs:b.default.PropTypes.arrayOf(b.default.PropTypes.shape({id:b.default.PropTypes.string.isRequired,key:b.default.PropTypes.string.isRequired,onBlur:b.default.PropTypes.func,placeholder:b.default.PropTypes.string,validator:b.default.PropTypes.func,invalidMsg:b.default.PropTypes.string,className:b.default.PropTypes.string,onKeyDown:b.default.PropTypes.func,tooltipTextRenderer:b.default.PropTypes.func,trimTrailingLeadingWhitespace:b.default.PropTypes.bool})).isRequired,disableAddButton:b.default.PropTypes.bool,
disabled:b.default.PropTypes.bool,invalidInputMsgList:b.default.PropTypes.arrayOf(b.default.PropTypes.string)};a.defaultProps={invalidInputMsgList:[]}},{"../../ui_building_blocks/Tooltip.jsx":294,lodash:842,react:1001}],315:[function(a,l,f){function c(a){return e.default.createElement("div",{className:"alert-message success-alert-message"},a.message)}Object.defineProperty(f,"__esModule",{value:!0});f.SuccessMessage=c;var e=(a=a("react"))&&a.__esModule?a:{default:a};c.propTypes={message:e.default.PropTypes.string.isRequired}},
{react:1001}],316:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("react");var b=c(f);f=a("react-dom");var k=c(f);a=a("classnames");var d=c(a);a=b.default.createClass({displayName:"InlineEditableText",propTypes:{initialText:b.default.PropTypes.string.isRequired,updateText:b.default.PropTypes.func.isRequired,allowEdit:b.default.PropTypes.bool,className:b.default.PropTypes.string,maxLength:b.default.PropTypes.number,allowEmpty:b.default.PropTypes.bool,
onStopEdit:b.default.PropTypes.func,optimisticUpdate:b.default.PropTypes.bool,showSaveAndEditBtn:b.default.PropTypes.bool,children:b.default.PropTypes.node},getDefaultProps:function(){return{allowEdit:!0,className:"",maxLength:50,allowEmpty:!1,optimisticUpdate:!0,showSaveAndEditBtn:!0}},getInitialState:function(){return{editing:!1,text:this.props.initialText}},startEditing:function(a){if(this.props.allowEdit){this.setState({editing:!0});a=h.default.defaults(a||{},{setFocus:!0,setSelect:!0,setCursor:!1});
if(!a.setFocus)return!0;var b=function(){var b=(0,e.default)(k.default.findDOMNode(this.refs.input));if(0===b.length)return!1;b.focus();if(a.setSelect)b.select();else if(a.setCursor){var c=this.state.text.length||0;b[0].setSelectionRange(c,c)}return!0}.bind(this);b()||h.default.defer(b)}},_saveChanges:function(){var a=this;if(this.props.onStopEdit)this.props.onStopEdit();if(this.props.allowEdit){if(this.props.initialText===this.state.text)return this.setState({editing:!1});if(!this.props.allowEmpty&&
h.default.isEmpty(this.state.text.trim()))return this.setState({editing:!1,text:this.props.initialText});this.props.updateText(this.state.text,function(){a.isMounted()&&a.setState({editing:!1})});this.props.optimisticUpdate&&this.setState({editing:!1})}},_handleChange:function(a){this.props.allowEdit&&this.setState({text:a.target.value})},_handleKeyDown:function(a){13!==a.keyCode&&27!==a.keyCode||this._saveChanges()},_setEditing:function(){this.props.allowEdit&&this.setState({editing:!0})},_getButtons:function(){var a=
[];this.props.showSaveAndEditBtn&&(this.state.editing?a.push(b.default.createElement("a",{key:"save-btn",className:"save-btn",onMouseDown:this._saveChanges},b.default.createElement("i",{className:"fa fa-floppy-o"}))):a.push(b.default.createElement("a",{key:"edit-btn",className:"edit-btn",onMouseDown:this.startEditing},b.default.createElement("i",{className:"fa fa-pencil"}))));return 0===a.length?null:b.default.createElement("div",{className:"buttons"},a)},render:function(){var a={"inline-editable":!0,
editing:this.state.editing,viewing:!this.state.editing};a[this.props.className]=!0;var c;c=!this.state.editing&&this.props.children?this.props.children:b.default.createElement("input",{ref:"input",type:"text",value:this.state.text,disabled:!this.props.allowEdit,size:this.state.text.length,maxLength:this.props.maxLength?this.props.maxLength:-1,className:"editing-text",onClick:this._setEditing,onBlur:this._saveChanges,onChange:this._handleChange,onKeyDown:this._handleKeyDown});return b.default.createElement("div",
{className:(0,d.default)(a)},c,this._getButtons())}});l.exports=a},{classnames:411,jquery:819,react:1001,"react-dom":865,underscore:1021}],317:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.StringRenderers=void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("jquery"))&&
a.__esModule?a:{default:a};f.StringRenderers=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"htmlEscape",value:function(a){return(0,e.default)("<div/>").text(a).html()}},{key:"renderString",value:function(b,c){"string"!==typeof b&&(b=JSON.stringify(b));if(void 0===b)return"";c&&b.length>c&&(b=b.substring(0,c)+"...");return a.htmlEscape(b)}}]);return a}()},{jquery:819}],318:[function(a,l,f){function c(a,c){return h.default.createElement("span",
null,a.toFixed(2)," ",b.Pluralize.simplePluralize(a,c))}function e(a){a=a.seconds;return 60>a?c(a,"second"):60>a/60?c(a/60,"minute"):24>a/60/60?c(a/60/60,"hour"):c(a/60/60/24,"day")}Object.defineProperty(f,"__esModule",{value:!0});f.TimeSpan=e;var h=(l=a("react"))&&l.__esModule?l:{default:l},b=a("../../i18n/Pluralize");e.propTypes={seconds:h.default.PropTypes.number.isRequired}},{"../../i18n/Pluralize":86,react:1001}],319:[function(a,l,f){function c(a){return a.list.length<=a.untruncatedMax?e.default.createElement("span",
{className:a.className},a.list.join(", ")):e.default.createElement("span",{className:a.className},a.list.slice(0,a.truncatedMax).join(", "),", and ",a.list.length-a.truncatedMax," more")}Object.defineProperty(f,"__esModule",{value:!0});f.TruncatedList=c;var e=(a=a("react"))&&a.__esModule?a:{default:a};c.propTypes={list:e.default.PropTypes.arrayOf(e.default.PropTypes.string).isRequired,untruncatedMax:e.default.PropTypes.number,truncatedMax:e.default.PropTypes.number,className:e.default.PropTypes.string};
c.defaultProps={untruncatedMax:4,truncatedMax:3,className:""}},{react:1001}],320:[function(a,l,f){l.exports={ACCESSING_DATA_URL:"#workspace/databricks_guide/03 Data Sources/0 Accessing Data",ACL_CLUSTERS_URL:"#workspace/databricks_guide/01 Databricks Overview/12 Access Controls/02 Cluster ACLs",ACL_WORKSPACE_URL:"#workspace/databricks_guide/01 Databricks Overview/12 Access Controls/01 Workspace ACLs",CLUSTER_AUTOSCALING_URL:"#workspace/databricks_guide/01 Databricks Overview/02 Cluster Autoscaling",
CLUSTERS_URL:"#workspace/databricks_guide/01 Databricks Overview/01 Clusters",VISUALIZATIONS_URL:"#workspace/databricks_guide/01 Databricks Overview/15 Visualizations/0 Visualizations Overview",DBFS_PYTHON_URL:"#workspace/databricks_guide/01 Databricks Overview/09 Databricks File System - DBFS",IAM_ROLES_URL:"#workspace/databricks_guide/01 Databricks Overview/12 Access Controls/IAM Roles",JAR_JOBS_URL:"#workspace/databricks_guide/01 Databricks Overview/06 Jobs",JOBS_URL:"#workspace/databricks_guide/01 Databricks Overview/06 Jobs",
NOTEBOOKS_OVERVIEW_URL:"#workspace/databricks_guide/01 Databricks Overview/03 Notebooks",PYTHON_INTRO_URL:"#workspace/databricks_guide/02 Tutorials/01 Intro to Python",R_INTRO_URL:"#workspace/databricks_guide/02 Tutorials/01 Intro to R",RELEASE_NOTES_URL:"http://docs.databricks.com/release-notes/product/latest.html",SCALA_INTRO_URL:"#workspace/databricks_guide/02 Tutorials/01 Intro to Scala",SQL_INTRO_URL:"#workspace/databricks_guide/02 Tutorials/01 Intro to SQL",SQL_ENDPOINTS_URL:"#workspace/databricks_guide/01 Databricks Overview/14 Third Party Integrations/01 Setup JDBC or ODBC",
SSH_URL:"#workspace/databricks_guide/01 Databricks Overview/13 Advanced Features/05 SSH Access",SSO_PING_IDENTITY_URL:"#workspace/databricks_guide/01 Databricks Overview/09 Single Sign-On/04 Setup Instructions: Ping Identity",SSO_OKTA_URL:"#workspace/databricks_guide/01 Databricks Overview/09 Single Sign-On/02 Setup Instructions: Okta",SSO_ONE_LOGIN_URL:"#workspace/databricks_guide/01 Databricks Overview/09 Single Sign-On/03 Setup Instructions: OneLogin",SSO_OVERVIEW_URL:"#workspace/databricks_guide/01 Databricks Overview/09 Single Sign-On/01 Overview",
WELCOME_GUIDE_URL:"#workspace/databricks_guide/00 Welcome to Databricks",INDEX_URL:"http://docs.databricks.com"}},{}],321:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.DbGuideUrls=void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=a("../static/StaticNotebookUrls");f.DbGuideUrls=
function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"getDbGuideUrl",value:function(a){if(!window.settings.useStaticGuide)return a;a=a.substring(11);a=a.substring(a.indexOf("/")+1);a=window.settings.databricksGuideStaticUrl+"/index.html#"+a+".html";return window.settings.useFramedStaticNotebooks?e.StaticNotebookUrls.getFramedStaticNotebookUrl(a):a}}]);return a}()},{"../static/StaticNotebookUrls":254}],322:[function(a,l,f){Object.defineProperty(f,
"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}();f.ResourceUrls=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"getResourceUrl",value:function(a,b){if(0===a.indexOf("http://")||0===a.indexOf("https://"))return a;
if(window.jsTestMode)return"../"+a;b=b||window.settings&&window.settings.isStaticNotebook;if(!b)return"/"+a;if(!window.settings.staticNotebookResourceUrl)throw Error("in a static notebook but staticNotebookResourceUrl is undefined");return window.settings.staticNotebookResourceUrl+a}}]);return a}()},{}],323:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.IdleIndicator=void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=
!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("jquery"))&&a.__esModule?a:{default:a};f=f.IdleIndicator=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,[{key:"start",value:function(a,c){this._onIdleCallback=a;this._idleTimeoutMillis=1E3*c;this._markActivity=this.markActivity.bind(this);(0,e.default)(document).on("mousemove",this._markActivity);(0,
e.default)(document).on("mousedown",this._markActivity);(0,e.default)(document).on("keypress",this._markActivity);this.markActivity();this._onTimeout()}},{key:"stop",value:function(){(0,e.default)(document).off("mousemove",this._markActivity);(0,e.default)(document).off("mousedown",this._markActivity);(0,e.default)(document).off("keypress",this._markActivity);this._timer&&(clearTimeout(this._timer),this._timer=null)}},{key:"markActivity",value:function(){this._lastActiveTimeMillis=Date.now()}},{key:"idleTimeMillis",
value:function(){return Date.now()-this._lastActiveTimeMillis}},{key:"_onTimeout",value:function(){if(this._onIdleCallback){var a=this.idleTimeMillis();a>=this._idleTimeoutMillis?this._onIdleCallback():this._timer=setTimeout(this._onTimeout.bind(this),this._idleTimeoutMillis-a)}}}]);return a}();f.default=new f},{jquery:819}],324:[function(a,l,f){function c(a){this.wsClient=a}f=(f=a("react"))&&f.__esModule?f:{default:f};var e=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx"),h=e&&e.__esModule?
e:{default:e},b=a("../user_platform/BrowserUtils"),k=!1;c.errorHandler=function(a){"socket closed"===a||k||(k=!0,"development"===window.settings.deploymentMode&&h.default.alert(a))};c.prototype.recordUsage=function(a,b,e){this.wsClient.sendRPC("recordUsage",{silent:!0,data:{metric:a,quantity:b,tags:e||{}},error:c.errorHandler})};c.prototype.recordEvent=function(a,b,e){this.wsClient.sendRPC("recordEvent",{silent:!0,data:{eventName:a,eventData:e||null,tags:b||{}},error:c.errorHandler})};c.prototype.recordDebugEvent=
function(a,b,c){window.settings.logDebugEventsToBackend&&this.recordEvent(a,b,c);window.settings.logDebugEventsToConsole&&console.log(a,b,c)};l.exports.RecordEventMixin={propTypes:{recordEvent:f.default.PropTypes.func,recordUsage:f.default.PropTypes.func},recordEvent:function(a,c,e){var d=this.props.recordEvent?this.props.recordEvent:window.recordEvent;d?d(a,b.BrowserUtils.getMeasurementTags(c),e):console.error("recordEvent for "+a+" failed, no usage reporting available.")},recordUsage:function(a,
b,c){var d=this.props.recordUsage?this.props.recordUsage:window.recordUsage;d?d(a,b,c):console.error("recordUsage for "+a+"  failed, no usage reporting available.")}};l.exports.UsageLogger=c;l.exports.initLogDebugFlags=function(){window.settings.logDebugEventsToBackend=!1;window.settings.logDebugEventsToConsole=!1}},{"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../user_platform/BrowserUtils":344,react:1001}],325:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.NameUtils=
void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("lodash"))&&a.__esModule?a:{default:a};f.NameUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"capitalizeAllNames",value:function(a){return a.split(" ").map(function(a){return 0<=
a.indexOf("@")?a:e.default.capitalize(a)}).join(" ")}}]);return a}()},{lodash:842}],326:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");f=c(f);var e=a("backbone"),e=c(e);a=a("../notebook/BackboneRpcMixin");a=c(a);e=e.default.Model.extend({defaults:{username:"",fullname:"",password:"",organization:"",isAdmin:!1},urlRoot:"/accounts",toggleAdmin:function(a){var b=this,c={setAdmin:!this.get("isAdmin")};this.rpc("setAdmin",c,{success:function(c){b.set(c);a&&a(c)},
url:"/accounts/"+this.id})},isValid:function(){return""!==this.get("username")}});f.default.extend(e.prototype,a.default);l.exports=e},{"../notebook/BackboneRpcMixin":134,backbone:407,underscore:1021}],327:[function(a,l,f){f=(f=a("backbone"))&&f.__esModule?f:{default:f};a=a("../user_menu/Account");a=f.default.Collection.extend({model:(a&&a.__esModule?a:{default:a}).default,url:"/accounts"});l.exports=a},{"../user_menu/Account":326,backbone:407}],328:[function(a,l,f){function c(a){return a&&a.__esModule?
a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.AccountSettingsView=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||
!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),b=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],g=!0,d=!1,e=void 0;try{for(var k=a[Symbol.iterator](),h;!(g=(h=k.next()).done)&&(c.push(h.value),!b||c.length!==b);g=!0);}catch(E){d=!0,e=E}finally{try{if(!g&&k["return"])k["return"]()}finally{if(d)throw e;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}(),k=a("jquery"),d=c(k),k=a("react"),n=c(k),k=a("classnames"),m=c(k),k=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx"),q=c(k),w=a("../ui_building_blocks/TabsView.jsx"),p=a("../urls/ResourceUrls"),r=a("../validators/PasswordValidators"),t=n.default.createClass({displayName:"PreferencesPanel",sections:[{title:"Notebook Settings",prefs:[{prefType:"boolean",prefKey:"autoLaunchAndAttach",description:"When running commands in Notebooks, automatically launch and attach to clusters without prompting"},
{prefType:"boolean",prefKey:"disableSmartQuotes",description:"Turn off smart quote and bracket matching"}]}],render:function(){return n.default.createElement("div",{className:"accounts-prefs-area"},this.renderSections(this.sections))},renderSections:function(a){var b=this;return a.map(function(a){return n.default.createElement("div",null,n.default.createElement("div",{className:"row-fluid"},n.default.createElement("h2",null,a.title)),n.default.createElement("div",{className:"row-fluid"},n.default.createElement("div",
null,a.prefs.map(b.renderPref))))})},renderPref:function(a){var b=this;if("boolean"!==a.prefType)throw Error("Unsupported pref type: "+a.prefType);return n.default.createElement("div",null,n.default.createElement("input",{key:a.prefKey,className:"user-pref-key pref-"+a.prefKey,type:"checkbox",onClick:function(){return b.togglePref(a.prefKey)},checked:window.prefs.get(a.prefKey)},a.description))},togglePref:function(a){window.prefs.set(a,!window.prefs.get(a));window.recordEvent("prefChange",{property:a,
propertyValue:window.prefs.get(a).toString()});this.forceUpdate()}}),u=n.default.createClass({displayName:"GitHubSettingsPanel",getInitialState:function(){return{gitNotification:"",gitNotificationStatus:"",showTokenArea:!0,enableSaveTokenBtn:!1,showEditTokenBtn:!1,showRetryTokenBtn:!1}},componentDidMount:function(){this.getTokenStatus()},allowGitHubSave:function(){return 0===(window.settings&&window.settings.notebookRevisionVisibilityHorizon||0)},getTokenStatus:function(){this.setState({showRetryTokenBtn:!1});
d.default.ajax("/account/git/credentials",{context:this,type:"GET",error:function(){console.error("Error checking user's token.");this.setState({gitNotification:"Error checking GitHub token.",gitNotificationStatus:"error"})},complete:function(a,b){var c={};"success"===b?a.responseJSON.hasToken?(c.showEditTokenBtn=!0,c.showTokenArea=!1):(c.showEditTokenBtn=!1,c.showTokenArea=!0):c.showRetryTokenBtn=!0;this.setState(c)}})},onSaveToken:function(){this.allowGitHubSave()?(this.setState({showTokenArea:!1}),
d.default.ajax("/account/git",{context:this,type:"POST",data:JSON.stringify({token:this.refs.gitToken.value}),success:function(){this.setState({gitNotification:"Successfully saved GitHub token.",gitNotificationStatus:"success"})},error:function(a,b,c){console.error(c);this.setState({gitNotification:"Failed to save GitHub token. Please try again.",gitNotificationStatus:"error"})},complete:function(a,b){"nocontent"!==b?this.setState({showTokenArea:!0}):this.setState({showEditTokenBtn:!0})}})):q.default.alert("This feature is only available at the Professional tier or greater.")},
onTokenInput:function(a){a.preventDefault();a=this.refs.gitToken.value;null!==a&&40===a.trim().length?this.setState({enableSaveTokenBtn:!0}):this.setState({enableSaveTokenBtn:!1})},onEditToken:function(){this.setState({showEditTokenBtn:!1,showTokenArea:!0,enableSaveTokenBtn:!1,gitNotification:""})},onRetryToken:function(){this.setState({showRetryTokenBtn:!1});this.getTokenStatus()},render:function(){var a=n.default.createElement("div",{className:"alert-area alert-area-git"},n.default.createElement("span",
{className:"alert alert-git alert-"+this.state.gitNotificationStatus},this.state.gitNotification)),b=n.default.createElement("div",{id:"retry-git-token-button",onClick:this.onRetryToken},n.default.createElement("button",{className:"btn btn-medium git-button"},"Retry")),c=n.default.createElement("div",{id:"edit-git-token-button",onClick:this.onEditToken},n.default.createElement("button",{className:"btn btn-medium git-button"},"Change GitHub Token")),d=this.state.enableSaveTokenBtn,e=(0,m.default)({"btn btn-medium git-button":!0,
"btn-primary":d,disabled:!d}),d=n.default.createElement("div",{id:"git-token-area"},n.default.createElement("div",{className:"row-fluid"},n.default.createElement("div",{className:"span10"},n.default.createElement("label",null,"Token",n.default.createElement("input",{type:"password",placeholder:"GitHub Api Token with repo permissions",id:"gitToken",ref:"gitToken",name:"gitToken",onChange:this.onTokenInput,required:"true"})))),n.default.createElement("div",{className:"row-fluid"},n.default.createElement("div",
{className:"span12"},n.default.createElement("button",{className:e,id:"save-git-token-button",onClick:this.onSaveToken,disabled:d?void 0:"disabled",title:d?"Save your GitHub Token.":"Your GitHub token should be 40 characters long."},"Save"))));return n.default.createElement("div",{className:"accounts-git-area"},n.default.createElement("div",{className:"row-fluid"},n.default.createElement("h2",null,"Connect to your GitHub Account")),n.default.createElement("div",{className:"row-fluid"},n.default.createElement("p",
null,"In order to seamlessly connect your notebooks to GitHub repositories, we need a GitHub",n.default.createElement("br",null),"Personal Access Token. Generating one is very easy. Simply follow the steps provided in",n.default.createElement("br",null),n.default.createElement("a",{href:"https://help.github.com/articles/creating-an-access-token-for-command-line-use/",target:"_blank"},"the GitHub documentation.")),n.default.createElement("p",null,"In order to make commits, and connect to private repositories, we need the token to",
n.default.createElement("br",null),'provide "repo" authorization as shown in the image below.'),n.default.createElement("img",{src:p.ResourceUrls.getResourceUrl("images/github-auth.png"),width:"35%"})),n.default.createElement("div",{className:"row-fluid"},n.default.createElement("div",{className:"span12"},this.state.showEditTokenBtn?c:null,this.state.showRetryTokenBtn?b:null)),this.state.showTokenArea?d:null,""!==this.state.gitNotification?a:null)}}),y=n.default.createClass({displayName:"PasswordChangePanel",
getInitialState:function(){return{passwordMessage:"",passwordValid:!1,passwordsMatch:!1,notification:"",notificationStatus:""}},onSubmit:function(a){a.preventDefault();a={};this.state.passwordValid&&this.state.passwordsMatch&&(a.newPassword=this.refs.password1.value,a.currentPassword=this.refs.currentPassword.value,d.default.ajax({url:"/account/changePassword",method:"POST",dataType:"json",data:JSON.stringify(a),context:this}).done(function(){this.setState({notification:"Your Password was successfully saved.",
notificationStatus:"success"})}).fail(function(a,b,c){this.setState({notification:c||"Your Password was not saved. Please please try again or contact your account admin.",notificationStatus:"error"})}))},onPasswordChange:function(){var a=this.refs.password1.value,c=this.refs.password2.value,d=r.PasswordValidators.validatePassword(a,window.settings.user,window.settings.userFullname),d=b(d,2),e=d[1];d[0]?a===c?this.setState({passwordMessage:"",passwordValid:!0,passwordsMatch:!0}):this.setState({passwordMessage:"Passwords don't match",
passwordValid:!0,passwordsMatch:!1}):this.setState({passwordMessage:e,passwordValid:!1,passwordsMatch:!1})},render:function(){var a=(0,m.default)({error:!this.state.passwordValid,success:this.state.passwordValid}),b=(0,m.default)({"btn btn-medium":!0,disabled:!this.state.passwordValid||!this.state.passwordsMatch,"btn-primary":this.state.passwordValid&&this.state.passwordsMatch}),c=n.default.createElement("div",{className:"alert-area"},n.default.createElement("span",{className:"alert alert-"+this.state.notificationStatus},
this.state.notification));return n.default.createElement("div",{id:"password-change",className:"content-wrapper"},n.default.createElement("form",{className:"container-fluid",role:"form"},""!==this.state.notification?c:null,n.default.createElement("div",{className:"row-fluid"},n.default.createElement("h2",null,"Change Your Password")),n.default.createElement("div",{className:"row-fluid"},n.default.createElement("p",{className:"instructions"},"Your password should be longer than 8 characters.")),n.default.createElement("div",
{className:"row-fluid"},n.default.createElement("div",{className:"span2"},n.default.createElement("label",null,"Current Password")),n.default.createElement("div",{className:"span10"},n.default.createElement("input",{type:"password",placeholder:"Current Password",ref:"currentPassword",id:"currentPassword",name:"currentPassword",required:"true"}))),n.default.createElement("div",{className:"row-fluid"},n.default.createElement("div",{className:"span2"},n.default.createElement("label",null,"New Password")),
n.default.createElement("div",{className:"span10"},n.default.createElement("input",{type:"password",ref:"password1",className:a,onChange:this.onPasswordChange,placeholder:"New Password",id:"newPassword",name:"newPassword",required:"true"}))),n.default.createElement("div",{className:"row-fluid"},n.default.createElement("div",{className:"span2"},n.default.createElement("label",null,"Confirm Password")),n.default.createElement("div",{className:"span10"},n.default.createElement("input",{type:"password",
ref:"password2",className:a,onChange:this.onPasswordChange,placeholder:"Confirm New Password",id:"newPassword2",name:"newPassword2",required:"true"}))),n.default.createElement("div",{className:"row-fluid"},n.default.createElement("span",{className:"span2"}),n.default.createElement("span",{ref:"passwordMessage",className:"span10 passwordMessage"},this.state.passwordMessage)),n.default.createElement("div",{className:"row-fluid"},n.default.createElement("div",{className:"span12"},n.default.createElement("button",
{onClick:this.onSubmit,className:b,id:"change-password-button"},"Change Password")))))}});(f.AccountSettingsView=function(a){function b(a){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");a=(b.__proto__||Object.getPrototypeOf(b)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.activeTab=a.getActiveTab();return a}e(b,a);h(b,[{key:"getActiveTab",value:function(){return this.props.disablePasswordTab?
this.props.defaultTab&&"password"!==this.props.defaultTab?this.props.defaultTab:"github":this.props.defaultTab}},{key:"render",value:function(){return n.default.createElement(w.Tabs,{activeTab:this.activeTab,ref:"tab"},n.default.createElement(w.Panel,{title:"Password",name:"password",ref:"pwTab",tooltipText:this.props.disablePasswordTooltip,disabled:this.props.disablePasswordTab},n.default.createElement(y,{ref:"pwChangePanel"})),n.default.createElement(w.Panel,{title:"GitHub Integration",name:"github"},
n.default.createElement(u,null)),n.default.createElement(w.Panel,{title:"Notebook Settings",name:"prefs"},n.default.createElement(t,null)))}}]);return b}(n.default.Component)).propTypes={defaultTab:n.default.PropTypes.string,disablePasswordTab:n.default.PropTypes.bool,disablePasswordTooltip:n.default.PropTypes.string};l.exports.PasswordChangePanel=y;l.exports.GitHubSettingsPanel=u;l.exports.PreferencesPanel=t},{"../ui_building_blocks/TabsView.jsx":293,"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,
"../urls/ResourceUrls":322,"../validators/PasswordValidators":351,classnames:411,jquery:819,react:1001}],329:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("jquery"))&&a.__esModule?a:{default:a};a=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"addUser",value:function(a,c,d){e.default.ajax("/accounts",{type:"POST",data:a.encodeJSON(),success:c,error:d})}},{key:"inviteUser",value:function(a,c,d){e.default.ajax("/accounts/sendinvite",{type:"POST",data:a.encodeJSON(),success:c,error:d})}}]);return a}();f.default=a},{jquery:819}],330:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");var e=c(f);f=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx");
var h=c(f);a=a("../ui_building_blocks/icons/IconsForType");var b=c(a);a=e.default.createClass({displayName:"OrgSwitcherView",propTypes:{availableWorkspaces:e.default.PropTypes.array.isRequired,currentOrg:e.default.PropTypes.number.isRequired,linkTarget:e.default.PropTypes.string},getDefaultProps:function(){return{linkTarget:"_blank"}},getInitialState:function(){return{showInvited:!1}},_recordClick:function(a,b,c){var d=this.props.availableWorkspaces.filter(function(a){return!a.needsConfirmation}).length,
e=this.props.availableWorkspaces.length-d,k=null;b&&(k=c?"true":"false");window.recordEvent("userMenuActionClicked",{userMenuAction:"organization",numConfirmedOrgs:d,numInvitedOrgs:e,selectedOrgId:a.orgId,selectedOrgName:a.name,selectedOrgOwner:a.owner,orgInviteAccepted:k})},_toggleInvited:function(){this.setState({showInvited:!this.state.showInvited})},_workspaceItem:function(a,b,c,h,f){var d=a.name;a.owner&&(d+=" ("+a.owner+")");return e.default.createElement("li",{key:a.orgId},e.default.createElement("a",
{className:"workspace-link","data-name":a.name,target:h,href:c,onClick:f,title:d},e.default.createElement("div",{className:"workspace-item"},e.default.createElement("div",{className:"workspace-text"},e.default.createElement("div",{className:"icon"},b),e.default.createElement("div",{className:"workspace-name"},a.name)),a.owner?e.default.createElement("div",{className:"workspace-owner"},a.owner):null)))},_confirmedLinks:function(){var a=this,c=this.props.currentOrg,h=this.props.availableWorkspaces.filter(function(a){return!a.needsConfirmation}).sort(function(a,
b){return a.name.localeCompare(b.name)}).map(function(d){var k=void 0,h=void 0;d.orgId===c?(k=null,h=e.default.createElement("i",{className:"fa fa-"+b.default.active})):(k="?o="+d.orgId,h=null);return a._workspaceItem(d,h,k,a.props.linkTarget,function(){a._recordClick(d,!1)})});return e.default.createElement("div",{className:"org-section"},e.default.createElement("div",{className:"header"},"Organizations"),e.default.createElement("ul",{className:"confirmed-workspaces"},h))},_confirmInvite:function(a){var b=
this,c=e.default.createElement("span",null,"Accept invitation to join ",e.default.createElement("b",null,a.name)," (",a.owner,")?"),k="?o="+a.orgId;h.default.confirm({title:"Accept Invitation",message:c,confirmButton:"Yes",cancelButton:"No",confirm:function(){b._recordClick(a,!0,!0);a.needsConfirmation=!1;window.open(k,b.props.linkTarget);b.forceUpdate()},cancel:function(){b._recordClick(a,!0,!1)}})},_invitedLinks:function(){var a=this,b=this.props.availableWorkspaces.filter(function(a){return a.needsConfirmation}).sort(function(a,
b){return a.name.localeCompare(b.name)});if(0===b.length)return null;var c=this.state.showInvited?"angle-double-up":"angle-double-down",c=e.default.createElement("div",{className:"header invited-header no-close-user-menu",onClick:this._toggleInvited},e.default.createElement("div",{className:"invited-text"},"Invitations ",e.default.createElement("span",{className:"invite-count"},b.length)),e.default.createElement("div",{className:"expand-icon"},e.default.createElement("i",{className:"fa fa-"+c}))),
b=this.state.showInvited?b.map(function(b){return a._workspaceItem(b,null,null,null,a._confirmInvite.bind(null,b))}):[];return e.default.createElement("div",{className:"invited-section"},c,e.default.createElement("ul",{className:"invited-workspaces"},b))},render:function(){var a=this._confirmedLinks(),b=this._invitedLinks();return e.default.createElement("div",null,a,b?e.default.createElement("hr",null):null,b)}});l.exports=a},{"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../ui_building_blocks/icons/IconsForType":304,
react:1001}],331:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}var e=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],g=!0,d=!1,e=void 0;try{for(var k=a[Symbol.iterator](),h;!(g=(h=k.next()).done)&&(c.push(h.value),!b||c.length!==b);g=!0);}catch(Y){d=!0,e=Y}finally{try{if(!g&&k["return"])k["return"]()}finally{if(d)throw e;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();f=a("jquery");
var h=c(f);f=a("underscore");var b=c(f);f=a("fixed-data-table");f=c(f);var k=a("react"),d=c(k),n=a("../acl/AclUtils.jsx"),k=a("../acl/WorkspacePermissions"),m=c(k),k=a("../clusters/Cluster"),q=c(k),k=a("../clusters/ClusterList"),k=c(k),w=a("../clusters/Common.jsx"),p=a("../presence/Presence"),r=c(p),p=a("../ui_building_blocks/dialogs/DeprecatedDialogBox"),t=c(p),p=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx"),u=c(p),y=a("../ui_building_blocks/tables/Table.jsx"),A=a("../ui_building_blocks/Tooltip.jsx"),
p=a("../user_menu/Account"),p=c(p),g=a("../user_menu/AccountList"),g=c(g),v=a("../user_menu/ReactAccountsTableCheckbox.jsx"),z=c(v),B=a("../validators/PasswordValidators"),G=f.default.Table,x=f.default.Column,D=d.default.createClass({displayName:"ClustersCheckbox",propTypes:{model:d.default.PropTypes.instanceOf(p.default).isRequired,disabled:d.default.PropTypes.bool,tooltipElem:d.default.PropTypes.object,clusterRootAclService:d.default.PropTypes.object.isRequired},getDefaultProps:function(){return{disabled:!1,
tooltipElem:null}},getInitialState:function(){return{checked:this._getInitialChecked()}},componentWillReceiveProps:function(a){this.setState({checked:this._getInitialChecked(a)})},componentWillUnmount:function(){(0,h.default)(".body-tooltip-wrapper").remove()},_getInitialChecked:function(a){var b=a||this.props;a=b.model;b=(b=b.clusterRootAclService)&&b.userHasPermission(a,m.default.CLUSTER_CREATE_ACTION);return!(!a.get("isAdmin")&&!b&&n.AclUtils.clusterAclsEnabled())},componentWillMount:function(){this.setState({checked:this._getInitialChecked()})},
onClickClustersCheckbox:function(){var a=this;u.default.confirm({title:"Change cluster create permissions?",message:"Are you sure you want to "+(this.state.checked?"turn off":"turn on")+" cluster create permissions for this user?",confirm:function(){a.toggleClustersCheckbox(!0)},cancel:function(){a.toggleClustersCheckbox(!1)}})},toggleClustersCheckbox:function(a){var b=this,c=a?!this.state.checked:this.state.checked;a=this.props.clusterRootAclService;a.setPermission(this.props.model.id,c?[m.default.CLUSTER_CREATE_ACTION]:
[]);a.commit({sync:!0,success:function(){b.setState({checked:c})},error:function(a){u.default.alert("<p>Oops! Error setting permissions:</p><p>"+a+"</p>",!0)}})},render:function(){var a=this.props.model,b=a.get("isAdmin"),c=this.props.tooltipElem?this.props.tooltipElem:"Cannot remove create cluster permissions for admin users.",a=d.default.createElement("div",{ref:"clustersCheckbox",className:"checkbox-wrapper"},d.default.createElement("input",{type:"checkbox",className:"clusters-checkbox","data-name":a.get("username")+
"-clusters-checkbox",name:a.get("username")+"-clusters-checkbox",key:a.get("username")+"-clusters-checkbox",onChange:this.onClickClustersCheckbox,checked:this.state.checked,disabled:b||this.props.disabled}));if(b||this.props.disabled)a=d.default.createElement(A.Tooltip,{ref:"clustersTooltip",text:c,attachToBody:!0,hoverDelayMillis:0,classes:["cluster-tooltip"]},a);return a}});a=d.default.createClass({displayName:"ReactAccountListTable",propTypes:{accounts:d.default.PropTypes.instanceOf(g.default).isRequired,
adminCheckboxDisabled:d.default.PropTypes.bool.isRequired,clusterList:d.default.PropTypes.instanceOf(k.default).isRequired,adminCheckboxDisabledReason:d.default.PropTypes.node,numAdmins:d.default.PropTypes.number},getInitialState:function(){return{editingPassword:!1,sortBy:null,sortAsc:!0,tableWidth:this.getWidth()}},componentDidMount:function(){this.props.accounts.on("change add remove reset",this.forceUpdate.bind(this,null),this);var a=this;this.resizeHandler=function(){a.isMounted()&&a.setState({tableWidth:a.getWidth()})};
(0,h.default)(window).resize(this.resizeHandler);n.AclUtils.clusterAclsEnabled()&&q.default.ROOT.fetchWorkspaceAcl(function(b){b.on("change",function(){a.isMounted()&&a.forceUpdate()});a.setState({clusterRootAclService:b})})},componentWillMount:function(){this.props.accounts.fetch({reset:!0})},componentWillUnmount:function(){this.props.accounts.off(null,null,this);n.AclUtils.clusterAclsEnabled()&&this.state.clusterRootAclService&&this.state.clusterRootAclService.off("change");(0,h.default)(window).unbind("resize",
this.resizeHandler)},setSortState:function(a){this.isMounted()&&(this.state.sortBy===a?this.setState({sortAsc:!this.state.sortAsc}):this.setState({sortBy:a,sortAsc:!0}))},rowGetter:function(a){return[this.getModels()[a]]},getModels:function(){var a=this;if(null===this.state.sortBy)return this.props.accounts.models;var c=b.default.sortBy(this.props.accounts.models,function(b){return b.get(a.state.sortBy).toLowerCase()});return!0===this.state.sortAsc?c:c.reverse()},getUsernameElement:function(a){a=
a.get("username");return d.default.createElement("span",{"data-username":a,className:"username-cell"},a)},getNameElement:function(a){a=a.get("fullname");return d.default.createElement("span",{"data-name":a,className:"name-cell"},a)},getResetPasswordLink:function(a){return d.default.createElement("a",{onClick:function(){t.default.custom({title:"Change Password: "+a.get("username"),controls:[{controlType:"input",id:"newPassword",type:"password",label:"New Password",placeholder:"",required:!0,validate:function(b){b=
B.PasswordValidators.validatePassword(b,a.get("username"),a.get("fullname"));var c=e(b,2);b=c[0];c=c[1];(0,h.default)("#passwordErrorMessage").text(c);return b}},{controlType:"input",id:"newPassword2",type:"password",label:"Confirm New Password",placeholder:"",required:!0,validate:function(b){if(b!==(0,h.default)("#newPassword").val())return(0,h.default)("#passwordErrorMessage").text("Passwords don't match"),!1;b=B.PasswordValidators.validatePassword(b,a.get("username"),a.get("fullname"));var c=e(b,
2);b=c[0];c=c[1];b?(0,h.default)("#passwordErrorMessage").text("All set!"):(0,h.default)("#passwordErrorMessage").text(c);return b}},{controlType:"text",id:"passwordErrorMessage",message:""}],confirm:function(b){r.default.pushHistory("Changed password for "+a.get("username"));if(b.find("#newPassword").val()===b.find("#newPassword2").val()){var c=a.attributes;c.password=b.find("#newPassword").val();a.save(c,{patch:!0,success:function(){b.remove()},error:function(a,b){t.default.alert("Error: "+b.statusText)}})}},
cancel:function(){}},null,!0)},className:"reset-password pointer"},"Reset password")},getAdminCheckbox:function(a){var b=this;return d.default.createElement(z.default,{ref:"adminCheckbox",model:a,onChangeCallback:function(){n.AclUtils.clusterAclsEnabled()&&b.state.clusterRootAclService.fetch()},adminCheckboxDisabled:this.props.adminCheckboxDisabled,adminCheckboxDisabledReason:this.props.adminCheckboxDisabledReason,numAdmins:this.props.numAdmins})},getClustersCheckbox:function(a){var b=void 0;n.AclUtils.clusterAclsAvailableWithTierUpgrade()?
b=A.Tooltip.getGenericUpgradeElement("To enable cluster access control"):n.AclUtils.couldEnableClusterAcls()&&(b="Admin users can enable cluster-level ACLs under 'Access Control'");return d.default.createElement(D,{model:a,disabled:!n.AclUtils.clusterAclsEnabled(),tooltipElem:b,clusterRootAclService:this.state.clusterRootAclService})},renderResource:function(a,b,c){return d.default.createElement("tr",{className:"user-resource",key:a},d.default.createElement("td",null,d.default.createElement("a",{href:b,
target:"_blank"},d.default.createElement("span",{className:"name"},c),d.default.createElement("i",{className:"fa fa-fw fa-external-link pull-right"}))))},renderUserResources:function(a,b){var c=this;return d.default.createElement("div",{className:"resources"},"The following resources will be removed with the user:",b.length?d.default.createElement("div",{className:"resource-list"},d.default.createElement(y.CollapsibleTableView,{headers:["Jobs ("+b.length+")"],content:b.map(function(a){return c.renderResource(a.jobId,
"#job/"+a.jobId,a.jobName)})})):null,a.length?d.default.createElement("div",{className:"resource-list"},d.default.createElement(y.CollapsibleTableView,{headers:["Clusters ("+a.length+")"],content:a.map(function(a){return c.renderResource(a.get("clusterId"),"#setting/clusters",a.get("clusterName"))})})):null)},renderRemoveUserDetails:function(a,b,c){return d.default.createElement("div",{className:"remove-user-dialog"},"Are you sure you want to remove access for ",a.get("username"),"?",c.length||b.length?
this.renderUserResources(b,c):null)},removeUser:function(a,b,c){var g=this;b.forEach(function(a){w.ClusterUtil.deleteCluster(g.props.clusterList,a.get("clusterId"))});c.forEach(function(a){h.default.ajax("/jobs/remove",{type:"POST",data:a.jobId.toString(),error:function(a,b,c){console.error("error deleting job",a,b,c)}})});a.destroy()},fetchUserJobs:function(a,b,c){h.default.ajax("/jobs/user/"+a.toString(),{type:"GET",error:function(a,b,g){console.error("Error fetch jobs for user",a,b,g);c&&c(a,b,
g)},success:function(a){b&&b(a)}})},showRemoveDialogForUser:function(a,b,c){var g=this;u.default.confirm({name:"remove-user",title:"Remove User",message:this.renderRemoveUserDetails(a,b,c),confirmButton:"Remove User",confirm:function(){return g.removeUser(a,b,c)}})},onRemoveUserHandler:function(a){var b=this,c=a.get("id"),g=this.props.clusterList.activeClustersForUser(c);window.settings.enableElasticSparkUI?this.fetchUserJobs(c,function(c){return b.showRemoveDialogForUser(a,g,c)},function(a,b,c){u.default.alert("\n            Error removing user\n            "+
c+"\n          ")}):this.showRemoveDialogForUser(a,g,[])},getRemoveUserElement:function(a){var b=this;return a.get("id")===window.settings.userId?null:d.default.createElement("div",{style:{marginRight:"8px"}},d.default.createElement("a",{onClick:function(){return b.onRemoveUserHandler(a)},className:"remove-button pointer",title:"Remove",key:a.get("username"),"data-username":a.get("username")},d.default.createElement("i",{className:"fa fa-remove"})))},getUsernameHeader:function(a){var b=this.setSortState.bind(this,
"username");return d.default.createElement("a",{onClick:b,className:"table-header username-header"},a)},getNameHeader:function(a){var b=this.setSortState.bind(this,"fullname");return d.default.createElement("a",{onClick:b,className:"table-header name-header"},a)},getBasicHeader:function(a){return d.default.createElement("span",{className:"table-header basic-header"},a)},getSortIcon:function(a){return this.state.sortBy===a?this.state.sortAsc?" \u2191":" \u2193":""},getWidth:function(){return(0,h.default)("#content").innerWidth()-
25},render:function(){var a=this,b=this.getSortIcon("username"),c=this.getSortIcon("fullname"),g=n.AclUtils.clusterAclsFeatureFlag(),e=window.settings.enableAdminPasswordReset&&!window.settings.enableX509Authentication,k=3;g&&(k+=1);e&&(k+=1);var k=(this.state.tableWidth-100)/k,h=function(b){return a.getResetPasswordLink(b)},m=function(b){return a.getClustersCheckbox(b)};return d.default.createElement("div",{className:"accounts-table"},d.default.createElement(G,{rowHeight:26,rowGetter:this.rowGetter,
rowsCount:this.getModels().length,width:this.state.tableWidth,maxHeight:5E4,headerHeight:26,rowClassNameGetter:function(){return"account-list-row"},ref:"table"},d.default.createElement(x,{headerRenderer:this.getUsernameHeader,headerClassName:"header-container",label:"Username"+b,width:k,dataKey:0,cellClassName:"cell-container",cellRenderer:function(b){return a.getUsernameElement(b)}}),d.default.createElement(x,{headerRenderer:this.getNameHeader,headerClassName:"header-container",label:"Name"+c,width:k,
dataKey:0,cellClassName:"cell-container",cellRenderer:function(b){return a.getNameElement(b)}}),e?d.default.createElement(x,{headerRenderer:this.getBasicHeader,headerClassName:"header-container",label:"Password",width:k,dataKey:0,cellClassName:"cell-container",cellRenderer:h}):null,d.default.createElement(x,{headerRenderer:this.getBasicHeader,headerClassName:"header-container admin-column-header",label:"Admin",align:"center",width:k,dataKey:0,cellClassName:"cell-container",cellRenderer:function(b){return a.getAdminCheckbox(b)}}),
g?d.default.createElement(x,{headerRenderer:this.getBasicHeader,headerClassName:"header-container create-cluster-column-header",label:"Allow cluster creation",align:"center",width:k,dataKey:0,cellClassName:"cell-container",cellRenderer:m}):null,d.default.createElement(x,{headerRenderer:this.getBasicHeader,headerClassName:"header-container",label:"",align:"right",width:100,dataKey:0,cellClassName:"cell-container",cellRenderer:function(b){return a.getRemoveUserElement(b)}})))}});l.exports=a},{"../acl/AclUtils.jsx":3,
"../acl/WorkspacePermissions":10,"../clusters/Cluster":21,"../clusters/ClusterList":32,"../clusters/Common.jsx":35,"../presence/Presence":224,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../ui_building_blocks/tables/Table.jsx":312,"../user_menu/Account":326,"../user_menu/AccountList":327,"../user_menu/ReactAccountsTableCheckbox.jsx":333,"../validators/PasswordValidators":351,"fixed-data-table":807,
jquery:819,react:1001,underscore:1021}],332:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}var e=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],g=!0,d=!1,e=void 0;try{for(var k=a[Symbol.iterator](),h;!(g=(h=k.next()).done)&&(c.push(h.value),!b||c.length!==b);g=!0);}catch(E){d=!0,e=E}finally{try{if(!g&&k["return"])k["return"]()}finally{if(d)throw e;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}();f=a("jquery");var h=c(f);f=a("react");var b=c(f);f=a("../presence/Presence");var k=c(f),d=a("../proto.js"),n=a("../ui_building_blocks/buttons/AddButton.jsx");f=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var m=c(f);f=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx");var q=c(f),w=a("../ui_building_blocks/Tooltip.jsx");f=a("../user_menu/AccountList");f=c(f);var p=a("../user_menu/AccountUtil.jsx"),r=c(p),p=a("../user_menu/ReactAccountListTable.jsx"),t=c(p),u=a("../validators/EmailValidators"),
y=a("../validators/PasswordValidators");a=b.default.createClass({displayName:"ReactAccountListView",propTypes:{accounts:b.default.PropTypes.instanceOf(f.default).isRequired,enableX509Authentication:b.default.PropTypes.bool},getDefaultProps:function(){return{enableX509Authentication:!1}},componentDidMount:function(){var a=this;this.props.accounts.on("change add remove reset",function(){a.isMounted()&&a.forceUpdate()},this)},componentWillUnmount:function(){this.props.accounts.off(null,null,this)},componentWillMount:function(){this.props.accounts.fetch({reset:!0})},
_getCredentialsInput:function(){return this.props.enableX509Authentication?{controlType:"input",id:"certSubject",type:"text",label:"X.509 Certificate Subject",placeholder:"/CN=emailAddress=jason@example.com/C=US/...",required:!0,confirmOnEnter:!0}:{controlType:"input",id:"password",type:"password",label:"New Account Password",placeholder:"",required:!0,confirmOnEnter:!0,validate:function(a,b){var c=b.find("#fullname").val();b=b.find("#username").val();a=y.PasswordValidators.validatePassword(a,c,b);
c=e(a,2);a=c[0];c=c[1];(0,h.default)("#passwordErrorMessage").text(c);return a}}},_getInviteUserProto:function(a){a=a.find("#username").val();return new d.Protos.InviteUser({email:a,shard_url:window.location.protocol+"//"+window.location.host})},_getAddUserProto:function(a){var b=a.find("#username").val(),c=a.find("#fullname").val();if(this.props.enableX509Authentication)return a=a.find("#certSubject").val(),new d.Protos.AddUser({username:b,fullname:c,subject_name:a});a=a.find("#password").val();
return new d.Protos.AddUser({username:b,fullname:c,password:a})},_getConfirmationText:function(a){return"An invitation has been sent to "+a+"\n\nIf they do not receive the invitation within 5 minutes, tell them to check their spam filter or contact Databricks support (support@databricks.com)"},addAccount:function(){var a=this,b=window.settings.requireEmailUserName;m.default.custom({title:"Add User",controls:[{controlType:"input",id:"username",type:b?"email":"text",label:b?"Email":"Username",placeholder:"",
required:!0,validate:function(a,c){c=c.find("#userNameErrorMessage");if(b){if(u.EmailValidators.isValidEmail(a))return c.text(""),!0;c.text("Invalid Email Address");return!1}if(u.EmailValidators.isValidEmail(a)||/^[a-zA-Z0-9]{4,}$/.test(a))return c.text(""),!0;if(""===a)return c.text("Cannot have empty username"),!1;if(4>a.length)return c.text("Username must be at least 4 characters"),!1;c.text("Username must be a valid email or contain only alphanumeric characters");return!1},confirmOnEnter:window.settings.enableUserInviteWorkflow},
window.settings.enableUserInviteWorkflow?null:{controlType:"input",id:"fullname",type:"text",label:"Full Name",placeholder:"",required:!1},window.settings.enableUserInviteWorkflow?null:this._getCredentialsInput(),{controlType:"text",id:"userNameErrorMessage",message:""},window.settings.enableUserInviteWorkflow?null:{controlType:"text",id:"passwordErrorMessage",message:""}],confirm:function(b){window.settings.enableUserInviteWorkflow?function(){var c=a._getInviteUserProto(b);r.default.inviteUser(c,
function(){k.default.pushHistory("Sent an invite to "+c.email);b.remove();a.props.accounts.fetch();q.default.alert(a._getConfirmationText(c.email),!1,null,null,"invite-sent-alert")},function(a){b.remove();m.default.alert("Request failed: "+a.statusText)})}():function(){var c=a._getAddUserProto(b);r.default.addUser(c,function(){k.default.pushHistory("Created user "+c.username);b.remove();a.props.accounts.fetch()},function(a){b.remove();m.default.alert("Error: "+a.statusText)})}()},confirmButton:window.settings.enableUserInviteWorkflow?
"Send invite":"Ok",cancel:function(){},topHtml:'<div class="add-user-help">Databricks will email an invitation to this address</div>',class:"add-user-dialog"},null,!0)},_getAddButton:function(){var a=this,c=function(c){return b.default.createElement(n.AddButton,{onClick:a.addAccount,disabled:c,label:"User",moreButtonProps:{id:"account-add-button"}})};if(window.settings&&0<=window.settings.accountsLimit&&window.settings.accountsLimit<=this.props.accounts.size()){var d=b.default.createElement("span",
null,b.default.createElement("span",null,"Your plan does not allow more than ",window.settings.accountsLimit," user\u00a0",1===window.settings.accountsLimit?"account":"accounts",". "),w.Tooltip.getGenericUpgradeElement("To add more users"));return b.default.createElement(w.Tooltip,{text:d},c(!0))}return c(!1)},getCheckboxDisabling:function(a){var b=!1,c=null;!window.settings.allowNonAdminUsers||window.settings.disallowAddingAdmins?(b=!0,c=w.Tooltip.getGenericUpgradeElement("For role-based access control")):
a&&(b=!a.get("isAdmin"),c="You do not have permission to modify this setting.");return{checkboxDisabled:b,messageIfCheckboxDisabled:c}},render:function(){var a=this.props.accounts.where({id:window.settings.userId})[0],c=this.props.accounts.where({isAdmin:!0}).length,a=this.getCheckboxDisabling(a);return b.default.createElement("div",{className:"row-fluid accounts-view"},b.default.createElement("div",{className:"table-preamble"},this._getAddButton()),b.default.createElement(t.default,{ref:"table",
accounts:this.props.accounts,adminCheckboxDisabled:a.checkboxDisabled,clusterList:window.clusterList,adminCheckboxDisabledReason:a.messageIfCheckboxDisabled,numAdmins:c}))}});l.exports=a},{"../presence/Presence":224,"../proto.js":226,"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/buttons/AddButton.jsx":295,"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../user_menu/AccountList":327,"../user_menu/AccountUtil.jsx":329,
"../user_menu/ReactAccountListTable.jsx":331,"../validators/EmailValidators":349,"../validators/PasswordValidators":351,jquery:819,react:1001}],333:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("react");var h=c(f),b=a("../ui_building_blocks/Tooltip.jsx");a=a("../user_menu/Account");a=c(a);a=h.default.createClass({displayName:"ReactAccountsTableCheckbox",propTypes:{adminCheckboxDisabled:h.default.PropTypes.bool,adminCheckboxDisabledReason:h.default.PropTypes.object,
model:h.default.PropTypes.instanceOf(a.default).isRequired,numAdmins:h.default.PropTypes.number,onChangeCallback:h.default.PropTypes.func},getInitialState:function(){return{updateInFlight:!1}},onChangeAdmin:function(){var a=this;a.isMounted()&&a.setState({updateInFlight:!0});var b=function(){a.isMounted()&&a.setState({updateInFlight:!1});a.props.onChangeCallback()};e.default.defer(function(){return a.props.model.toggleAdmin(b)})},render:function(){var a=this.props.model.get("isAdmin");this.state.updateInFlight&&
(a=!a);var c=!1,e=null;this.state.updateInFlight?c=!0:this.props.adminCheckboxDisabled?(c=!0,e=this.props.adminCheckboxDisabledReason):a&&1===this.props.numAdmins&&(c=!0,e="Cannot remove last admin user");a=h.default.createElement("div",{ref:"adminCheckbox",className:"checkbox-wrapper"},h.default.createElement("input",{type:"checkbox",className:"admin-checkbox",key:this.props.model.get("username")+"-admin-checkbox","data-name":this.props.model.get("username")+"-admin-checkbox",name:"admin",onChange:this.onChangeAdmin,
defaultChecked:a,disabled:c,"data-tooltip-text":function(a){if(null===a)return a;var b="";(a.props?a.props.children:[a]).forEach(function(a){b+=a.props?a.props.children:a});return b}(e)}));e&&(a=h.default.createElement(b.Tooltip,{ref:"stateTooltip",text:e,attachToBody:!0,hoverDelayMillis:0},a));return a}});l.exports=a},{"../ui_building_blocks/Tooltip.jsx":294,"../user_menu/Account":326,react:1001,underscore:1021}],334:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("react");
var e=c(f),h=a("../acl/AclSettingsView.jsx"),b=a("../ui_building_blocks/TabsView.jsx"),k=a("../ui_building_blocks/Tooltip.jsx"),d=a("../user_menu/iam_roles/IamRolesList.jsx");f=a("../user_menu/AccountList");f=c(f);var n=a("../user_menu/ReactAccountListView.jsx"),m=c(n),q=a("../user_menu/SingleSignOnSettingsView.jsx");a=e.default.createClass({displayName:"SettingsView",propTypes:{accounts:e.default.PropTypes.instanceOf(f.default).isRequired,activeTab:e.default.PropTypes.string},_renderSSOPanel:function(){var a=
!window.settings.enableSingleSignOnByTier,c=k.Tooltip.getGenericUpgradeElement("To enable single sign-on");return e.default.createElement(b.Panel,{title:"Single Sign On",disabled:a,tooltipText:a?c:void 0,href:"#setting/accounts/singleSignOnSettings",name:"singleSignOnSettings"},e.default.createElement(q.SingleSignOnSettingsView,null))},_renderIamRolesPanel:function(){var a=!window.settings.enableInstanceProfilesByTier,c=k.Tooltip.getUpgradeElement("IAM roles",!0);return e.default.createElement(b.Panel,
{title:"IAM Roles",disabled:a,tooltipText:a?c:void 0,href:"#setting/accounts/iamRoles",name:"iamRoles"},e.default.createElement(d.IamRolesList,null))},render:function(){var a=this;return e.default.createElement(b.Tabs,{activeTab:this.props.activeTab},e.default.createElement(b.Panel,{title:"Users",href:"#setting/accounts/users",name:"users"},e.default.createElement(m.default,{accounts:this.props.accounts,enableX509Authentication:window.settings.enableX509Authentication})),window.settings.enableInstanceProfilesUI?
this._renderIamRolesPanel():null,e.default.createElement(b.Panel,{title:"Access Control",href:"#setting/accounts/accessControl",name:"accessControl"},e.default.createElement(h.AclSettingsView,{ref:function(b){return a.aclSettingsView=b}})),window.settings.enableSingleSignOn?this._renderSSOPanel():null)}});l.exports=a},{"../acl/AclSettingsView.jsx":2,"../ui_building_blocks/TabsView.jsx":293,"../ui_building_blocks/Tooltip.jsx":294,"../user_menu/AccountList":327,"../user_menu/ReactAccountListView.jsx":332,
"../user_menu/SingleSignOnSettingsView.jsx":335,"../user_menu/iam_roles/IamRolesList.jsx":340,react:1001}],335:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,
"__esModule",{value:!0});f.SingleSignOnSettingsView=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("jquery");var b=c(l);l=a("react");var k=c(l);l=a("../ui_building_blocks/dialogs/ReactDialogBox.jsx");l=c(l);var d=a("../ui_building_blocks/icons/Icons.jsx"),n=a("../ui_building_blocks/icons/IconsForType"),
m=c(n),q=a("../ui_building_blocks/Tooltip.jsx"),w=a("../urls/DbGuideUrls"),n=a("../urls/DbGuideLinks"),p=c(n),r=a("../validators/UrlValidators");a=f.SingleSignOnSettingsView=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.state={fetching:!0,
blankCert:!1,invalidTarget:!1};a.fetchSamlSettings=a.fetchSamlSettings.bind(a);a.onClickEnable=a.onClickEnable.bind(a);a.onClickDisable=a.onClickDisable.bind(a);a.onTargetInputBlur=a.onTargetInputBlur.bind(a);a.onCertInputBlur=a.onCertInputBlur.bind(a);a.fetchSamlSettings();a.samlConsumerUrl=location.origin+"/saml/consume";a.DISABLED_DB_HELP="Use the URL below to create a Databricks application with your identity provider.";a.DISABLED_SAML_HELP="Enter the SAML 2.0 Endpoint URL given by your identity provider.";
a.DISABLED_IPI_HELP="Enter the identity provider issuer URL (Entity ID).";a.DISABLED_CERT_HELP="Provide the entire x.509 certificate from your identity provider.";a.ENABLED_DB_HELP="The URL below should be used to create a Databricks application with your identity provider.";a.ENABLED_SAML_HELP="This should be the SAML 2.0 Endpoint URL given by your identity provider.";a.ENABLED_IPI_HELP="This should be the identity provider issuer URL.";a.ENABLED_CERT_HELP="This should be the entire x.509 certificate from your identity provider.";
return a}e(c,a);h(c,[{key:"fetchSamlSettings",value:function(a){var c=this;b.default.get("/samlsettings",function(b){c.setState({fetching:!1,enabled:b.SAML_SSO_ENABLED,idpIssuer:b.SAML_IDP_ISSUER_URL,ssoTarget:b.SAML_IDP_SSO_TARGET_URL,certificate:b.SAML_IDP_CERTIFICATE});a&&a()}).error(function(a,b,d){c.setState({fetching:!1});"error"===b&&c.props.dialogBox.alert(d)})}},{key:"enableSaml",value:function(a){var c=this;b.default.ajax({url:"/samlsettings/enable",type:"POST",data:JSON.stringify({issuer:a.issuer,
idpSsoTarget:a.idpSsoTarget,certificate:a.certificate}),success:function(){c.fetchSamlSettings(function(){c.props.dialogBox.confirm({title:"Single sign-on enabled",message:"Single sign-on is enabled for your organization.",showCancel:!1,confirmButton:"OK"})})},error:function(a,b,d){"error"===b&&c.props.dialogBox.alert(d)}})}},{key:"disableSaml",value:function(){b.default.ajax({url:"/samlsettings/disable",type:"POST",success:this.fetchSamlSettings})}},{key:"onClickEnable",value:function(){var a=this.refs.idpSsoTargetInput.value.trim(),
b=this.refs.issuerInput.value.trim(),c=this.refs.certificateInput.value.trim(),d=r.UrlValidators.validateUrl(a),e=""===c;d||this.setState({invalidTarget:!0});e&&this.setState({blankCert:!0});a&&c&&d&&!e&&this.enableSaml({idpSsoTarget:a,issuer:b,certificate:c})}},{key:"onClickDisable",value:function(){this.props.dialogBox.confirm({title:"Disabling SAML-based Single Sign-On",message:"Once Single Sign On is disabled, users without a password should reset their password using the 'Forgot Password?' option on the sign-in page to sign in to Databricks. Alternatively, you can manually reset their password for them in the 'Users' tab in Admin Console.",
confirmButton:"Disable SSO",confirmBtnClassName:"btn",cancelButton:"Cancel",confirm:this.disableSaml.bind(this)})}},{key:"getHeader",value:function(){return k.default.createElement("span",null,k.default.createElement("h1",{className:"sso-header"},"Single Sign-On "),k.default.createElement("span",{className:"subheader"},"(",this.state.enabled?"Enabled":"Disabled",")"))}},{key:"onTargetInputBlur",value:function(a){this.setState({invalidTarget:!r.UrlValidators.validateUrl(a.target.value)})}},{key:"removeCertificateComments",
value:function(a){return a.replace(/(^\-\-\-.*\-\-\-$)/gm,"").trim()}},{key:"onCertInputBlur",value:function(a){var b=this.removeCertificateComments(a.target.value);a.target.value=b;this.setState({blankCert:""===b})}},{key:"getStar",value:function(){return k.default.createElement("div",{className:"star"},"*")}},{key:"samlSettingsForm",value:function(){var a=this.state.enabled?!0:null,b=k.default.createElement("div",null,d.Icons.getNum("2"),k.default.createElement("span",{className:"step-help-text"},
"Provide information from your identity provider"));return k.default.createElement("div",{className:"saml-settings-form"},this.state.enabled?null:b,k.default.createElement("div",{className:"saml-setting-input-container "+(a?"disable":"left-indent")},k.default.createElement("div",{className:"saml-setting-input"},k.default.createElement("div",{className:"saml-input-label"},"Single Sign-On URL",this.getStar(),this.getHelp(""+(a?this.ENABLED_SAML_HELP:this.DISABLED_SAML_HELP),!0)),k.default.createElement("div",
{className:"input-wrapper"},k.default.createElement("input",{type:"text",ref:"idpSsoTargetInput",defaultValue:this.state.ssoTarget,className:this.state.invalidTarget?"invalid-input":"",disabled:a,onBlur:this.onTargetInputBlur}),this.state.invalidTarget?k.default.createElement("span",{className:"invalid-warning",ref:"targetWarning"},"Invalid URL format; please enter again."):null)),k.default.createElement("div",{className:"saml-setting-input"},k.default.createElement("div",{className:"saml-input-label"},
"Identity Provider Issuer URL",this.getHelp(""+(a?this.ENABLED_IPI_HELP:this.DISABLED_IPI_HELP))),k.default.createElement("div",{className:"input-wrapper"},k.default.createElement("input",{type:"text",ref:"issuerInput",disabled:a,defaultValue:this.state.idpIssuer}))),k.default.createElement("div",{className:"saml-setting-input"},k.default.createElement("div",{className:"saml-input-label"},"x.509 Certificate",this.getStar(),this.getHelp(""+(a?this.ENABLED_CERT_HELP:this.DISABLED_CERT_HELP),!0)),k.default.createElement("div",
{className:"input-wrapper"},k.default.createElement("textarea",{ref:"certificateInput",rows:12,defaultValue:this.state.certificate,onBlur:this.onCertInputBlur,className:this.state.blankCert?"invalid-input":"",disabled:a}),this.state.blankCert?k.default.createElement("div",{className:"invalid-cert",ref:"certWarning"},"This field is required."):null))))}},{key:"getEnableDisableBtn",value:function(){return this.state.enabled?k.default.createElement("div",{className:"disable-btn-wrapper"},k.default.createElement("button",
{className:"btn",onClick:this.onClickDisable},"Disable SSO")):k.default.createElement("div",null,k.default.createElement("button",{className:"btn left-indent",onClick:this.onClickEnable},"Enable SSO"),k.default.createElement("span",{className:"enable-btn-msg"},"Once enabled, non-admin users are required to sign in with Single Sign-On only."))}},{key:"getHelp",value:function(a,b){return k.default.createElement(q.Tooltip,{text:a,customPosition:b?{contentLeft:"0px"}:null},k.default.createElement("i",
{className:"fa fa-"+m.default.hint}))}},{key:"renderStaticIdpUrl",value:function(a){var b=k.default.createElement("div",null,d.Icons.getNum("1"),k.default.createElement("span",{className:"step-help-text"},"Use this URL to configure your identity provider"));return k.default.createElement("div",{className:"static-idp-url-section"},a?null:b,k.default.createElement("div",{className:"static-idp-url-container "+(this.state.enabled?"":"left-indent")},k.default.createElement("div",{className:"static-idp-url-header"},
"Databricks SAML URL",this.getHelp(""+(this.state.enabled?this.ENABLED_DB_HELP:this.DISABLED_DB_HELP))),k.default.createElement("div",{className:"static-idp-url"},this.samlConsumerUrl)))}},{key:"getInstructions",value:function(){var a=k.default.createElement("a",{href:w.DbGuideUrls.getDbGuideUrl(p.default.SSO_OVERVIEW_URL)},this.state.enabled?"here":"other identity providers");if(this.state.enabled)return k.default.createElement("p",{className:"get-started-text"},"Single Sign-On is enabled in your organization. You may need to authorize people in your identity provider settings to allow access to Databricks. For more help, click ",
a,".");var b=k.default.createElement("a",{className:"id-provider-help-link",href:w.DbGuideUrls.getDbGuideUrl(p.default.SSO_OKTA_URL)},"Okta"),c=k.default.createElement("a",{className:"id-provider-help-link",href:w.DbGuideUrls.getDbGuideUrl(p.default.SSO_PING_IDENTITY_URL)},"Ping Identity"),d=k.default.createElement("a",{className:"id-provider-help-link",href:w.DbGuideUrls.getDbGuideUrl(p.default.SSO_ONE_LOGIN_URL)},"OneLogin");return k.default.createElement("p",{className:"get-started-text"},"View instructions for SAML 2.0 single sign-on for ",
b,", ",c,", ",d," or ",a,".")}},{key:"render",value:function(){return this.state.fetching?k.default.createElement("div",{className:"single-sign-on-admin-settings"},k.default.createElement("p",null,k.default.createElement("i",{className:"spinner fa fa-spinner fa-spin"}),"Fetching Single Sign On settings...")):k.default.createElement("div",{className:"single-sign-on-admin-settings"},this.getHeader(),this.getInstructions(),this.renderStaticIdpUrl(this.state.enabled),this.samlSettingsForm(),this.getEnableDisableBtn(),
this.state.enabled?null:k.default.createElement("span",{className:"required-field-notice"},this.getStar(),k.default.createElement("span",null,"indicates required field")))}}]);return c}(k.default.Component);a.propTypes={dialogBox:k.default.PropTypes.object};a.defaultProps={dialogBox:l.default}},{"../ui_building_blocks/Tooltip.jsx":294,"../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../ui_building_blocks/icons/Icons.jsx":303,"../ui_building_blocks/icons/IconsForType":304,"../urls/DbGuideLinks":320,
"../urls/DbGuideUrls":321,"../validators/UrlValidators":352,jquery:819,react:1001}],336:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",
{value:!0});f.UserMenuView=void 0;var h=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("jquery");var b=c(l);l=a("react");var k=c(l);l=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var d=c(l);a=a("../user_menu/OrgSwitcherView.jsx");var n=c(a);f=f.UserMenuView=function(a){function c(){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");var a;a=(c.__proto__||Object.getPrototypeOf(c)).call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a._logout=a._logout.bind(a);a._settings=a._settings.bind(a);a._adminConsole=a._adminConsole.bind(a);a._manageAccounts=a._manageAccounts.bind(a);return a}e(c,a);h(c,[{key:"_gotoLoginPage",value:function(){window.location="/login.html"}},
{key:"_logout",value:function(a){var c=this;window.recordEvent("userMenuActionClicked",{userMenuAction:"logout"});d.default.confirm({message:"Are you sure you want to log out?",confirmButton:"Log Out",confirm:function(){b.default.ajax({url:"/account/logout",async:!1}).always(c._gotoLoginPage.bind(c))}});a.preventDefault()}},{key:"_settings",value:function(a){window.recordEvent("userMenuActionClicked",{userMenuAction:"account-settings"});window.router.navigate("setting/account",{trigger:!0});a.preventDefault()}},
{key:"_adminConsole",value:function(a){window.recordEvent("userMenuActionClicked",{userMenuAction:"admin-console"});window.router.navigate("setting/accounts",{trigger:!0});a.preventDefault()}},{key:"_manageAccounts",value:function(a){window.recordEvent("userMenuActionClicked",{userMenuAction:"manage-account"});window.open(window.settings.accountsOwnerUrl);a.preventDefault()}},{key:"_accountLinks",value:function(){return k.default.createElement("div",{className:"account-section"},k.default.createElement("div",
{className:"header",title:this.props.user},"Signed in as ",8<this.props.user.length?k.default.createElement("br",null):null,k.default.createElement("b",null,this.props.user)),k.default.createElement("ul",null,k.default.createElement("li",null,k.default.createElement("a",{href:"#setting/account",className:"accounts-link settings-button",onClick:this._settings},k.default.createElement("div",{className:"accounts-text"},"User Settings"))),this.props.enableAccounts?k.default.createElement("li",null,k.default.createElement("a",
{href:"#setting/account",className:"accounts-link admin-console-button",onClick:this._adminConsole},k.default.createElement("div",{className:"accounts-text"},"Admin Console"))):null,this.props.isAccountOwner?k.default.createElement("li",null,k.default.createElement("a",{href:window.settings.accountsOwnerUrl,className:"accounts-link manage-account-button",onClick:this._manageAccounts},k.default.createElement("div",{className:"accounts-text"},"Manage Account"))):null,k.default.createElement("li",null,
k.default.createElement("a",{href:"#setting/logout",className:"accounts-link logout-button",onClick:this._logout},k.default.createElement("div",{className:"accounts-text"},"Log Out")))))}},{key:"_orgLinks",value:function(){return window.settings.enableOrgSwitcherUI?k.default.createElement(n.default,{user:this.props.user,currentOrg:this.props.currentOrg,availableWorkspaces:this.props.availableWorkspaces}):null}},{key:"render",value:function(){var a=this._orgLinks();return k.default.createElement("div",
{className:"user-menu-view"},this._accountLinks(),a?k.default.createElement("hr",null):null,a)}}]);return c}(k.default.Component);f.propTypes={user:k.default.PropTypes.string.isRequired,currentOrg:k.default.PropTypes.number,availableWorkspaces:k.default.PropTypes.array,enableAccounts:k.default.PropTypes.bool,isAccountOwner:k.default.PropTypes.bool};f.defaultProps={currentOrg:0,availableWorkspaces:[],enableAccounts:!0,isAccountOwner:!1}},{"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../user_menu/OrgSwitcherView.jsx":330,
jquery:819,react:1001}],337:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.IamRoleDeleteDialog=void 0;var h=function(){function a(a,
b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("jquery");var b=c(l);l=a("react");var k=c(l);l=a("../../delta_receiver/CollectionDeltaReceiver");var d=c(l);l=a("../../jobs/FullElasticJobStatus");var n=c(l),m=a("../../js_polyfill/TimingUtils"),q=a("./IamRoleDeleteDialogView.jsx");(f.IamRoleDeleteDialog=function(a){function c(a){if(!(this instanceof
c))throw new TypeError("Cannot call a class as a function");a=(c.__proto__||Object.getPrototypeOf(c)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.setJobsUsingRole=a.setJobsUsingRole.bind(a);a.state={jobList:[],jobCollection:null};return a}e(c,a);h(c,[{key:"componentDidMount",value:function(){this.setupCollectionDeltaReceiver()}},{key:"componentWillUnmount",value:function(){this.state.jobCollection&&
this.state.jobCollection.stopWatching()}},{key:"clusterTerminationFilter",value:function(a){return!a.isTerminating()&&!a.isTerminated()}},{key:"clusterModelToRow",value:function(a){var b=a.get("clusterId");return{name:a.get("clusterName"),href:"#setting/clusters/"+b+"/configuration"}}},{key:"getClustersUsingRole",value:function(){return window.clusterList.where({instanceProfileArn:this.props.arn}).filter(this.clusterTerminationFilter).map(this.clusterModelToRow)}},{key:"jobModelToRow",value:function(a){return{name:a.get("jobName"),
href:"#job/"+a.get("jobId")}}},{key:"getJobsUsingRole",value:function(a){var b=this;return a.filter(function(a){return a.get("resources").instanceProfileArn===b.props.arn}).map(this.jobModelToRow)}},{key:"setJobsUsingRole",value:function(){var a=this;if(0===this.state.jobCollection.length)m.TimingUtils.retryUntil({condition:function(){return 0<a.state.jobCollection.length},interval:50,maxAttempts:100,success:this.setJobsUsingRole});else{var b=this.getJobsUsingRole(this.state.jobCollection);this.setState({jobList:b})}}},
{key:"setupCollectionDeltaReceiver",value:function(){var a=this;b.default.ajax("/jobs/root",{success:function(b){b=new d.default([],{deltaPublisherRoot:b.root,model:n.default});a.setState({jobCollection:b});b.startWatching();a.setJobsUsingRole()}})}},{key:"render",value:function(){return k.default.createElement(q.IamRoleDeleteDialogView,{deleteFunc:this.props.deleteFunc,clustersUsingRole:this.getClustersUsingRole(),jobsUsingRole:this.state.jobList,showShiftTip:this.props.showShiftTip})}}]);return c}(k.default.Component)).propTypes=
{arn:k.default.PropTypes.string.isRequired,deleteFunc:k.default.PropTypes.func.isRequired,showShiftTip:k.default.PropTypes.bool}},{"../../delta_receiver/CollectionDeltaReceiver":62,"../../jobs/FullElasticJobStatus":91,"../../js_polyfill/TimingUtils":106,"./IamRoleDeleteDialogView.jsx":338,jquery:819,react:1001}],338:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||
"object"!==typeof b&&"function"!==typeof b?a:b}function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.IamRoleDeleteDialogView=void 0;var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=
b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("react");var k=c(l);l=a("../../forms/ReactFormFooter.jsx");var d=c(l),n=a("../../i18n/Pluralize"),m=a("../../ui_building_blocks/Collapsible.jsx");l=a("../../ui_building_blocks/dialogs/ReactModal.jsx");var q=c(l),w=a("../../ui_building_blocks/tables/ReactTable.jsx"),p=a("../../ui_building_blocks/tables/ReactTableUtils.jsx");
a=f.IamRoleDeleteDialogView=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=e(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a.renderBody=a.renderBody.bind(a);a.nameCellRenderer=p.CellRenderers.getLinkCellRenderer(function(a){return a.href},function(a){return a.name},function(){return!1},!0);return a}h(c,a);b(c,[{key:"linkCellRenderer",value:function(a){return k.default.createElement("div",null,k.default.createElement("a",{href:a.href,
target:"_blank"},k.default.createElement("i",{className:"fa fa-fw fa-external-link pull-right"})))}},{key:"getCollapsibleTable",value:function(a,b){return 0===b.length?null:k.default.createElement(m.Collapsible,{ref:a.toLowerCase()+"Table",title:a+(" ("+b.length+")")},k.default.createElement(w.Table,{rows:b,width:446,rowHeight:30,isHeaderless:!0},k.default.createElement(w.Column,{width:406,cellRenderer:this.nameCellRenderer}),k.default.createElement(w.Column,{width:40,cellRenderer:this.linkCellRenderer})))}},
{key:"getPluralizedClusterMessage",value:function(a){if(0===a)return"";var b=1===a?"it":"them";return"The running "+n.Pluralize.simplePluralize(a,"cluster")+" shown below will continue to use this IAM role to access AWS resources until you "+("terminate "+b+".")}},{key:"getJobMessageWithTransition",value:function(a){return(a?" In addition, all":"All")+" jobs using this IAM role will fail as a result of deleting the IAM role."}},{key:"getPrimaryMessageText",value:function(a){var b=this.getPluralizedClusterMessage(a);
a=this.getJobMessageWithTransition(0<a);return b+a}},{key:"renderBody",value:function(){var a=this.getPrimaryMessageText(this.props.clustersUsingRole.length),b=this.props.showShiftTip?k.default.createElement("p",{className:"hint-msg"},"Tip: bypass this dialog by holding the 'Shift' key when deleting an IAM role."):null;return k.default.createElement("div",null,k.default.createElement("span",{ref:"message"},a),b,this.getCollapsibleTable("Clusters",this.props.clustersUsingRole),this.getCollapsibleTable("Jobs",
this.props.jobsUsingRole))}},{key:"render",value:function(){var a=k.default.createElement(d.default,{ref:"footer",confirm:this.props.deleteFunc,confirmButton:"Delete Role",confirmBtnClassName:"btn btn-danger"});return k.default.createElement(q.default,{modalName:"iam-role-delete-dialog",header:k.default.createElement("h3",null,"Delete IAM Role"),body:this.renderBody(),footer:a})}}]);return c}(k.default.Component);a.propTypes={deleteFunc:k.default.PropTypes.func.isRequired,clustersUsingRole:k.default.PropTypes.array.isRequired,
jobsUsingRole:k.default.PropTypes.array.isRequired,showShiftTip:k.default.PropTypes.bool};a.defaultProps={showShiftTip:!1}},{"../../forms/ReactFormFooter.jsx":82,"../../i18n/Pluralize":86,"../../ui_building_blocks/Collapsible.jsx":291,"../../ui_building_blocks/dialogs/ReactModal.jsx":299,"../../ui_building_blocks/tables/ReactTable.jsx":306,"../../ui_building_blocks/tables/ReactTableUtils.jsx":307,react:1001}],339:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.IamRoleView=void 0;var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var g=
b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(b,c,g){c&&a(b.prototype,c);g&&a(b,g);return b}}();l=a("react");var k=c(l),d=a("../../proto.js"),n=a("../../requests/ProtoApi.js"),m=a("../../acl/PermissionEditView.jsx"),q=a("../../acl/WorkspaceAcl"),w=c(q),q=a("../../acl/WorkspacePermissions"),p=c(q),r=a("../../ui_building_blocks/buttons/DeleteButton.jsx"),q=a("../../ui_building_blocks/dialogs/ReactDialogBox.jsx"),t=
c(q),q=a("../../ui_building_blocks/dialogs/ReactModalUtils"),u=c(q),y=a("../../../js/user_platform/BrowserUtils"),A=a("./IamRolesUtils.jsx"),g=a("./IamRoleDeleteDialog.jsx");a=f.IamRoleView=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var b=e(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));b.protoService=new n.ProtoService(d.InstanceProfilesProtos.InstanceProfilesService);b.iamRoleName=A.IamRolesUtils.parseIamRoleName(b.props.arn);
b.iamRoleName||(a=y.BrowserUtils.getMeasurementTags({error:"Invalid IAM role in IAM Role View page"}),window.recordEvent("renderingError",a,b.props.arn),t.default.alert("Invalid IAM role arn",null,null,function(){return window.router.navigate(A.IamRolesUtils.LIST_VIEW_ROUTE,{trigger:!0})}));b.deleteIamRole=b.deleteIamRole.bind(b);b.confirmAclChanges=b.confirmAclChanges.bind(b);b.cancelAclChanges=b.cancelAclChanges.bind(b);b.workspaceAcl=new w.default({model:{getName:function(){return b.iamRoleName},
getAclObjectType:function(){return p.default.IAM_ROLE_TYPE},getAclObjectId:function(){return encodeURIComponent(b.props.arn)}}});return b}h(c,a);b(c,[{key:"componentDidMount",value:function(){this.workspaceAcl.on("change",this.forceUpdate.bind(this,null),this);this.workspaceAcl.fetch()}},{key:"componentWillUnmount",value:function(){this.workspaceAcl.off("change")}},{key:"getFuncToDeleteRole",value:function(){var a=this,b=function(){return window.router.navigate("#setting/accounts/iamRoles",{trigger:!0})};
return function(){return a.protoService.rpc("removeInstanceProfile")({instance_profile_arn:a.props.arn},b)}}},{key:"deleteIamRole",value:function(){u.default.createModal(k.default.createElement(g.IamRoleDeleteDialog,{arn:this.props.arn,deleteFunc:this.getFuncToDeleteRole()}))}},{key:"confirmAclChanges",value:function(){var a=this;t.default.confirm({message:"You are changing who has access to this IAM role. Are you sure you want to continue?",confirm:function(){a.workspaceAcl.commit({sync:!0})}})}},
{key:"cancelAclChanges",value:function(){this.workspaceAcl.resetAllChanges()}},{key:"renderChangeHeader",value:function(){return k.default.createElement("span",{className:"change-buttons"},k.default.createElement("button",{className:"btn btn-primary",onClick:this.confirmAclChanges},"Confirm"),k.default.createElement("button",{className:"btn btn-default",onClick:this.cancelAclChanges},"Cancel"))}},{key:"render",value:function(){var a=this.workspaceAcl.hasChanges();return k.default.createElement("div",
{className:"instance-profile-view instance-profile-details-view"},k.default.createElement("h2",null,k.default.createElement("a",{href:A.IamRolesUtils.LIST_VIEW_ROUTE,className:"back-btn"},k.default.createElement("i",{className:"fa fa-angle-left"})),this.iamRoleName,k.default.createElement("span",{className:"header-separator"},"|"),a?this.renderChangeHeader():null,k.default.createElement(r.DeleteButton,{onClick:this.deleteIamRole})),k.default.createElement("label",null,"Instance Profile ARN ",k.default.createElement(A.ArnTooltip,
null)),k.default.createElement("p",null,this.props.arn),k.default.createElement("label",null,"Name"),k.default.createElement("p",null,this.iamRoleName),k.default.createElement("div",{className:"workspace-acl"},k.default.createElement(m.PermissionEditBody,{workspaceAcl:this.workspaceAcl})))}}]);return c}(l.Component);a.propTypes={arn:l.PropTypes.string.isRequired,workerEnvId:l.PropTypes.string};a.defaultProps={workerEnvId:"default-worker-env"}},{"../../../js/user_platform/BrowserUtils":344,"../../acl/PermissionEditView.jsx":6,
"../../acl/WorkspaceAcl":9,"../../acl/WorkspacePermissions":10,"../../proto.js":226,"../../requests/ProtoApi.js":230,"../../ui_building_blocks/buttons/DeleteButton.jsx":296,"../../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../../ui_building_blocks/dialogs/ReactModalUtils":300,"./IamRoleDeleteDialog.jsx":337,"./IamRolesUtils.jsx":342,react:1001}],340:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.IamRolesList=void 0;var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var g=
b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(b,c,g){c&&a(b.prototype,c);g&&a(b,g);return b}}();l=a("lodash");var k=c(l);l=a("react");var d=c(l),n=a("../../acl/AclUtils.jsx");l=a("../../acl/WorkspacePermissions");var m=c(l),q=a("../../proto.js"),w=a("../../js_polyfill/ObjectUtils"),p=a("../../requests/ProtoApi.js");l=a("../../ui_building_blocks/dialogs/ReactModalUtils");var r=c(l),t=a("../../ui_building_blocks/tables/ReactTableUtils.jsx"),
u=a("../../user_info/NameUtils"),y=a("../../user_menu/iam_roles/IamRoleDeleteDialog.jsx"),A=a("../../user_menu/iam_roles/IamRolesListView.jsx"),g=a("../../user_menu/iam_roles/IamRolesUtils.jsx");f.IamRolesList=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=e(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a.accessSortFunc=a.accessSortFunc.bind(a);a.deleteHandler=a.deleteHandler.bind(a);a.filter=a.filter.bind(a);a.fetchPermissions=
a.fetchPermissions.bind(a);a.updateListWithPermissions=a.updateListWithPermissions.bind(a);a.nameSortFunc=a.getSortFunc(function(a){return g.IamRolesUtils.parseIamRoleName(a.arn)});a.arnSortFunc=a.getSortFunc(function(a){return a.arn});a.protoService=new p.ProtoService(q.InstanceProfilesProtos.InstanceProfilesService);a.state={list:[],currentFilter:""};return a}h(c,a);b(c,[{key:"componentWillMount",value:function(){this.updateList()}},{key:"transformArnToListElem",value:function(a){return k.default.assign({arn:a},
{thoseWithAccess:{individuals:[],groups:[]}})}},{key:"updateListWithPermissions",value:function(a){var b=this,c=this.state.list.slice();c.forEach(function(c){var g=a[c.arn];g&&(g=g.permissions,c.thoseWithAccess.individuals=b.getListOfThoseWithAccess(g,"user"),c.thoseWithAccess.groups=b.getListOfThoseWithAccess(g,"group"))});this.setState({list:c})}},{key:"getListOfThoseWithAccess",value:function(a,b){var c=this,g=[];a.forEach(function(a){var d=a.user.kind===b;0<a.permission.length&&d&&(a=c.getUserDisplayName(a.user,
b),g.push(a))});return g}},{key:"getUserDisplayName",value:function(a,b){a=a.fullName||a.username;return"group"===b?u.NameUtils.capitalizeAllNames(a):a}},{key:"fetchPermissions",value:function(a,b){a=a.map(function(a){return a.instance_profile_arn});n.AclUtils.bulkFetchEffectivePermissions(a,m.default.IAM_ROLE_TYPE,b)}},{key:"updateList",value:function(){var a=this;this.protoService.rpc("listInstanceProfiles")(void 0,function(b){b=b.instance_profiles?b.instance_profiles:[];0<b.length&&a.fetchPermissions(b,
a.updateListWithPermissions);b=b.map(function(b){return a.transformArnToListElem(b.instance_profile_arn)});a.setState({list:b})})}},{key:"getSortFunc",value:function(a){var b=this;return function(c){c=b.state.list.sort(t.CompareTos.getSimpleCompareTo(a,c));b.setState({list:c})}}},{key:"accessSortFunc",value:function(a){a=this.state.list.sort(t.CompareTos.getNameListCompareTo(function(a){return a.thoseWithAccess.groups},function(a){return a.thoseWithAccess.individuals},a));this.setState({list:a})}},
{key:"getFuncToDeleteRole",value:function(a){var b=this,c=function(b){return b.arn!==a},g=function(){return b.setState({list:b.state.list.filter(c)})};return function(){return b.protoService.rpc("removeInstanceProfile")({instance_profile_arn:a},g)}}},{key:"deleteHandler",value:function(a,b){b&&b.getModifierState&&b.getModifierState("Shift")?this.getFuncToDeleteRole(a.arn)():r.default.createModal(d.default.createElement(y.IamRoleDeleteDialog,{arn:a.arn,deleteFunc:this.getFuncToDeleteRole(a.arn),showShiftTip:!0}))}},
{key:"filter",value:function(a){this.setState({currentFilter:a})}},{key:"getFilteredList",value:function(){var a=this;return this.state.list.filter(function(b){return w.ObjectUtils.deepIncludesString(b,a.state.currentFilter)})}},{key:"render",value:function(){return d.default.createElement(A.IamRolesListView,{rows:this.getFilteredList(),nameSortFunc:this.nameSortFunc,arnSortFunc:this.arnSortFunc,accessSortFunc:this.accessSortFunc,deleteFunc:this.deleteHandler,filterFunc:this.filter})}}]);return c}(d.default.Component)},
{"../../acl/AclUtils.jsx":3,"../../acl/WorkspacePermissions":10,"../../js_polyfill/ObjectUtils":105,"../../proto.js":226,"../../requests/ProtoApi.js":230,"../../ui_building_blocks/dialogs/ReactModalUtils":300,"../../ui_building_blocks/tables/ReactTableUtils.jsx":307,"../../user_info/NameUtils":325,"../../user_menu/iam_roles/IamRoleDeleteDialog.jsx":337,"../../user_menu/iam_roles/IamRolesListView.jsx":341,"../../user_menu/iam_roles/IamRolesUtils.jsx":342,lodash:842,react:1001}],341:[function(a,l,f){function c(a){return a&&
a.__esModule?a:{default:a}}function e(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!==typeof b&&"function"!==typeof b?a:b}function h(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=
b)}Object.defineProperty(f,"__esModule",{value:!0});f.IamRolesListView=void 0;var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var g=b[c];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(a,g.key,g)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("jquery");var k=c(l);l=a("lodash");var d=c(l);l=a("react");var n=c(l),m=a("../../ui_building_blocks/buttons/AddButton.jsx"),q=a("../../ui_building_blocks/tables/FilterInput.jsx"),
w=a("../../ui_building_blocks/tables/ReactTable.jsx"),p=a("../../ui_building_blocks/tables/ReactTableUtils.jsx"),r=a("../../ui_building_blocks/text/TruncatedList.jsx"),t=a("./IamRolesUtils.jsx"),u=function(){};(f.IamRolesListView=function(a){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");a=e(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,a));a.nameCellRenderer=p.CellRenderers.getLinkCellRenderer(function(a){return t.IamRolesUtils.getIamRoleUrl(a.arn)},
function(a){return t.IamRolesUtils.parseIamRoleName(a.arn)});a.arnCellRenderer=a.cellRendererBuilder(function(a){return n.default.createElement("span",{className:"hide-wrap",title:a.arn},a.arn)});a.accessCellRenderer=a.cellRendererBuilder(function(a){return n.default.createElement(r.TruncatedList,{list:a.thoseWithAccess.groups.concat(a.thoseWithAccess.individuals),className:"access-cell"})});a.actionsCellRenderer=a.cellRendererBuilder(p.CellRenderers.getActionsCellRenderer({deleteFunc:a.props.deleteFunc},
"delete-btn"),!0);a.state={sortedCol:1,width:(0,k.default)(window).width()-98};return a}h(c,a);b(c,[{key:"cellRendererBuilder",value:function(a,b){return p.CellRenderers.getClickableRowCell(u,a,b)}},{key:"componentDidMount",value:function(){var a=this;d.default.debounce(function(){return a.setState({width:(0,k.default)(".react-tabs-panel")[0].clientWidth,widthHasUpdated:!0})})}},{key:"getHeaderRenderer",value:function(a,b){var c=this;return p.HeaderRenderers.getSortableRenderer(function(g){a(g);c.setState({sortedCol:b})},
this.state.sortedCol===b,1===b)}},{key:"getColumnWidths",value:function(){var a=2*Math.floor((this.state.width-90)/5);return{name:this.state.width-2*a-90,arn:a,access:a,actions:90}}},{key:"render",value:function(){var a=this.getColumnWidths();return n.default.createElement("div",{className:"row-fluid"},n.default.createElement("div",{className:"table-preamble"},n.default.createElement(m.AddButton,{href:"#setting/accounts/iamRoles/new",label:"IAM Role"}),n.default.createElement(q.FilterInput,{onChange:this.props.filterFunc})),
n.default.createElement(w.Table,{ref:"table",rows:this.props.rows,width:this.state.width},n.default.createElement(w.Column,{label:"Name",width:a.name,cellRenderer:this.nameCellRenderer,headerRenderer:this.getHeaderRenderer(this.props.nameSortFunc,0)}),n.default.createElement(w.Column,{label:"Instance Profile ARN",width:a.arn,cellRenderer:this.arnCellRenderer,headerRenderer:this.getHeaderRenderer(this.props.arnSortFunc,1)}),n.default.createElement(w.Column,{label:"Who has Access",width:a.access,cellRenderer:this.accessCellRenderer,
headerRenderer:this.getHeaderRenderer(this.props.accessSortFunc,2)}),n.default.createElement(w.Column,{label:"Actions",width:a.actions,cellRenderer:this.actionsCellRenderer,headerRenderer:p.HeaderRenderers.centeredUnsortableRenderer})))}}]);return c}(n.default.Component)).propTypes={rows:n.default.PropTypes.array.isRequired,nameSortFunc:n.default.PropTypes.func.isRequired,arnSortFunc:n.default.PropTypes.func.isRequired,accessSortFunc:n.default.PropTypes.func.isRequired,deleteFunc:n.default.PropTypes.func.isRequired,
filterFunc:n.default.PropTypes.func.isRequired}},{"../../ui_building_blocks/buttons/AddButton.jsx":295,"../../ui_building_blocks/tables/FilterInput.jsx":305,"../../ui_building_blocks/tables/ReactTable.jsx":306,"../../ui_building_blocks/tables/ReactTableUtils.jsx":307,"../../ui_building_blocks/text/TruncatedList.jsx":319,"./IamRolesUtils.jsx":342,jquery:819,lodash:842,react:1001}],342:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.IamRolesUtils=void 0;var c=function(){function a(a,
b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();f.ArnTooltip=function(){return e.default.createElement(b.Tooltip,{text:"\n    The instance profile ARN for an IAM role can be found in the AWS web UI by navigating to the\n    IAM console, searching for the role name, and clicking on the role.",inlineAutoPosition:!0},e.default.createElement("i",
{className:"fa fa-question-circle help-icon"}))};f.IamRoleBreadcrumbsTitle=function(a){return e.default.createElement(k.Breadcrumbs,{links:[{text:"Settings",link:"#setting/accounts/users"},{text:"IAM roles",link:n.LIST_VIEW_ROUTE},a]})};var e=(l=a("react"))&&l.__esModule?l:{default:l},h=a("../../controllers/ReactRouter.jsx"),b=a("../../ui_building_blocks/Tooltip.jsx"),k=a("../../ui_building_blocks/Breadcrumbs.jsx"),d=/^arn:aws(-[^:]+)?:iam::(\d+):instance-profile\/(\S+)$/,n=f.IamRolesUtils=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"isValidAccountId",value:function(a){return/^[0-9- ]{9,15}$/.test(a)}},{key:"parseIamRoleName",value:function(a){return(a=d.exec(a))&&4===a.length&&this.isValidAccountId(a[2])?a[3]:null}},{key:"getIamRoleUrl",value:function(b,c){if(!b)return console.error("IamRole arn must be provided"),a.LIST_VIEW_ROUTE;b=encodeURIComponent(b);return c?a.LIST_VIEW_ROUTE+"/"+b+"/"+c:a.LIST_VIEW_ROUTE+"/"+b}},{key:"LIST_VIEW_ROUTE",get:function(){return"#"+
h.RouteConstants.IAM_ROLE_ROUTE_ROOT}},{key:"invalidArnSyntaxMsg",get:function(){return e.default.createElement("div",null,e.default.createElement("span",null,"An instance profile ARN should look like:"),e.default.createElement("br",null),e.default.createElement("span",null,'"arn:aws<partition>:iam::<account>:instance-profile/<role-name>"'))}}]);return a}()},{"../../controllers/ReactRouter.jsx":59,"../../ui_building_blocks/Breadcrumbs.jsx":290,"../../ui_building_blocks/Tooltip.jsx":294,react:1001}],
343:[function(a,l,f){function c(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}Object.defineProperty(f,"__esModule",{value:!0});f.NewIamRoleView=void 0;var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),h=(l=a("react"))&&l.__esModule?l:{default:l},b=a("../../ui_building_blocks/dialogs/ReactDialogBox.jsx"),k=b&&b.__esModule?b:{default:b},d=a("../../forms/ReactFormElements.jsx"),n=a("../../user_platform/BrowserUtils"),m=a("../../requests/ProtoApi.js"),q=a("../../proto.js"),w=a("./IamRolesUtils.jsx");f.NewIamRoleView=function(a){function b(a){if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");a=(b.__proto__||Object.getPrototypeOf(b)).call(this,a);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=!a||"object"!==typeof a&&"function"!==typeof a?this:a;a.protoService=new m.ProtoService(q.InstanceProfilesProtos.InstanceProfilesService);a.addInstanceProfileRpc=a.addInstanceProfileRpc.bind(a);a.onArnInputChange=a.onArnInputChange.bind(a);a.addInstanceProfile=a.addInstanceProfile.bind(a);
a.recordAddInstanceProfileEvent=a.recordAddInstanceProfileEvent.bind(a);a.state={arn:""};return a}c(b,a);e(b,[{key:"addInstanceProfileRpc",value:function(a,b,c){a=new q.InstanceProfilesProtos.AddInstanceProfile((new q.InstanceProfilesProtos.InstanceProfile).setInstanceProfileArn(a));this.protoService.rpc("addInstanceProfile")(a,b,c)}},{key:"recordAddInstanceProfileEvent",value:function(){var a=n.BrowserUtils.getMeasurementTags({error:0>=arguments.length||void 0===arguments[0]?"":arguments[0]});window.recordEvent("createInstanceProfile",
a)}},{key:"addInstanceProfile",value:function(){var a=this;this.addInstanceProfileRpc(this.state.arn,function(){a.recordAddInstanceProfileEvent();window.router.navigate(w.IamRolesUtils.getIamRoleUrl(a.state.arn),{trigger:!0})},function(b){var c="Unknown error, please contact Databricks for support.";b.responseJSON&&b.responseJSON.message&&(c=b.responseJSON.message);a.recordAddInstanceProfileEvent(c);k.default.confirm({title:"Error Encountered",message:c,confirmButton:"OK",showCancel:!1,confirm:function(){return a.input&&
a.input.focus()}})})}},{key:"onArnInputChange",value:function(a){this.setState({arn:a})}},{key:"getErrorMsg",value:function(){var a=!!w.IamRolesUtils.parseIamRoleName(this.state.arn),b=this.state.arn&&0<this.state.arn.length;return a||!b?null:h.default.createElement("div",{className:"error"},w.IamRolesUtils.invalidArnSyntaxMsg)}},{key:"getParsedNameField",value:function(a){return a?h.default.createElement("div",null,h.default.createElement("label",null,"IAM Role Name"),h.default.createElement("p",
null,a)):null}},{key:"render",value:function(){var a=this,c=w.IamRolesUtils.parseIamRoleName(this.state.arn);return h.default.createElement("div",{className:"instance-profile-view new-instance-profile-view"},h.default.createElement("h2",null,h.default.createElement("a",{href:w.IamRolesUtils.LIST_VIEW_ROUTE,className:"back-btn"},h.default.createElement("i",{className:"fa fa-angle-left"})),"Add IAM Role",h.default.createElement("span",{className:"header-separator"},"|"),h.default.createElement("a",
{className:"btn",href:w.IamRolesUtils.LIST_VIEW_ROUTE},"Cancel"),h.default.createElement("button",{className:"btn btn-primary",disabled:!c,onClick:this.addInstanceProfile},"Add")),b.IamRoleIntro(),h.default.createElement("label",null,"Instance Profile ARN ",h.default.createElement(w.ArnTooltip,null)),h.default.createElement(d.Input,{type:"text",ref:function(b){return a.input=b},inputID:"new-iam-role-arn",onChange:this.onArnInputChange}),this.getErrorMsg(),this.getParsedNameField(c))}}],[{key:"IamRoleIntro",
value:function(){return h.default.createElement("div",{className:"iam-role-intro"},h.default.createElement("p",null,"IAM roles allow you to access your data from Databricks clusters without the need to manage, deploy, or rotate AWS keys."),h.default.createElement("p",null,'In order to use an IAM role in Databricks, the access policy used by Databricks to launch clusters must be given the "PassRole" permission for that role.'))}}]);return b}(l.Component)},{"../../forms/ReactFormElements.jsx":81,"../../proto.js":226,
"../../requests/ProtoApi.js":230,"../../ui_building_blocks/dialogs/ReactDialogBox.jsx":298,"../../user_platform/BrowserUtils":344,"./IamRolesUtils.jsx":342,react:1001}],344:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})}function h(a){if(8===a.which){var b=a.srcElement||a.target,c=b.nodeName.toLowerCase();"input"===c||"textarea"===
c?(c=void 0!==b.type?b.type.toLowerCase():"",(b.readOnly||b.disabled||"checkbox"===c||"radio"===c)&&a.preventDefault()):a.preventDefault()}}Object.defineProperty(f,"__esModule",{value:!0});f.BrowserUtils=void 0;var b=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();l=a("jquery");var k=c(l);l=a("lodash");var d=
c(l);l=a("../ui_building_blocks/dialogs/DeprecatedDialogBox");var n=c(l),m=a("../user_activity/IdleIndicator.jsx"),q=e(),w={};f.BrowserUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}b(a,null,[{key:"generateGUID",value:function(){return e()}},{key:"getBrowserTabId",value:function(){return q}},{key:"truncate",value:function(a,b){return a&&a.length>b?a.substring(0,b-11)+"[TRUNCATED]":a}},{key:"setGlobalMeasurementTags",value:function(a){w=
a}},{key:"getMeasurementTags",value:function(b){var c=d.default.clone(w);b&&(c=d.default.extend(c,b));window.notebook&&-1<window.location.hash.indexOf("notebook")&&(b=window.treeCollection.get(window.notebook.id))&&(c=d.default.extend(c,b.tags()));b={browserTabId:q,browserHasFocus:document.hasFocus(),browserHash:a.truncate(window.location.hash,200),browserHostName:window.location.hostname,browserUserAgent:navigator.userAgent};for(var e in b)b.hasOwnProperty(e)&&(c[e]=b[e]);window.settings&&window.settings.enableSessionIdleDetection&&
(c.browserIdleTime=m.IdleIndicator.default.idleTimeMillis());return c}},{key:"setDocumentTitle",value:function(a){(0,k.default)(document).attr("title",a?a+" - Databricks":"Databricks")}},{key:"disableBackspace",value:function(a){if(void 0!==a?a:1)(0,k.default)(document).on("keydown",h);else(0,k.default)(document).off("keydown",h)}},{key:"getSettings",value:function(a,b){k.default.ajax({dataType:"json",beforeSend:function(b){null!==a&&b.setRequestHeader("X-Databricks-Org-Id",a.toString())},url:"/config",
success:function(a){window.settings=a;b&&b()},error:function(a){window.location="/login.html";503===a.status&&n.default.alert("Databricks Community Edition is currently experiencing heavy load. Please try again later.")}})}}]);return a}()},{"../ui_building_blocks/dialogs/DeprecatedDialogBox":297,"../user_activity/IdleIndicator.jsx":323,jquery:819,lodash:842}],345:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.DateTimeFormats=void 0;var c=function(){function a(a,b){for(var c=0;c<
b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}();a=(a=a("d3"))&&a.__esModule?a:{default:a};var e=a.default.time.format("%Y-%m-%d %H:%M:%S"),h=a.default.time.format("%B %e, %I:%M %p");f.DateTimeFormats=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"getTimeZone",value:function(a){return/\((.*)\)/.exec(a.toString())[1]}},
{key:"formatDate",value:function(a){return e(a)}},{key:"formatTimestamp",value:function(b){if(!b)return"";b=new Date(b);return a.formatDate(b)+" "+a.getTimeZone(b)}},{key:"formatTimestampNicely",value:function(b){if(!b)return"";b=new Date(b);return h(b).replace(" 0"," ")+" "+a.getTimeZone(b)}},{key:"formatDuration",value:function(a){return 60>a?a+"s":3600>a?parseInt(a/60,10)+"m "+a%60+"s":parseInt(a/3600,10)+"h "+parseInt(a%3600/60,10)+"m "+a%60+"s"}}]);return a}()},{d3:707}],346:[function(a,l,f){Object.defineProperty(f,
"__esModule",{value:!0});f.FeedbackUtils=void 0;var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),e=(l=a("jquery"))&&l.__esModule?l:{default:l};a("../../lib/feedback");var h=(a=a("../urls/DbGuideLinks"))&&a.__esModule?a:{default:a};f.FeedbackUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
}c(a,null,[{key:"setupFeedbackWidget",value:function(a,b,c){var d=a?"Feedback":"Email Support";e.default.feedback({ajaxURL:"/feedback",html2canvasURL:"/lib/html2canvas.min.js",initButtonText:a?"Send Feedback":"Email Support",tpl:{highlighter:'<div id="feedback-highlighter">\n  <div class="feedback-logo">'+d+"</div>\n  <p>"+(a?'Please send us problem reports and comments about Databricks and Spark. If you want to know more about how to use Databricks or Spark, please first check our <a target="_blank" href="'+
h.default.INDEX_URL+'">User Guide</a>. If you still have questions, please use the <a target="_blank" href="'+c+'">Databricks Forum</a>.':'You can contact support to send us problem reports and questions about Databricks and Spark. If you want to know more about how to use Databricks or Spark, please first check our <a target="_blank" href="'+h.default.INDEX_URL+'">User Guide</a>.')+'</p>\n  <p>\n    Click and drag on the page to help us better understand your feedback.\n    You can move this dialog if it\'s in the way.\n  </p>\n  <button class="feedback-sethighlight feedback-active">\n    <div class="ico"></div>\n    <span>Highlight</span>\n  </button>\n  <label>Highlight areas relevant to your feedback.</label>\n  <button class="feedback-setblackout">\n    <div class="ico"></div>\n    <span>Black out</span>\n  </button>\n  <label class="lower">Black out any personal information.</label>\n  <div class="feedback-buttons">\n    <button id="feedback-highlighter-next" class="feedback-next-btn feedback-btn-gray">\n      Next\n    </button>\n    <button id="feedback-highlighter-back" class="feedback-back-btn feedback-btn-gray">\n      Back\n    </button>\n  </div>\n  <div class="feedback-wizard-close"></div>\n</div>\n',
overview:'<div id="feedback-overview">\n  <div class="feedback-logo">'+d+'</div>\n  <div id="feedback-overview-description">\n    <div id="feedback-overview-description-text">\n      <h3>Description</h3>\n      <h3 class="feedback-additional">Additional info</h3>\n      <div id="feedback-additional-none">\n        <span>None</span>\n      </div>\n      <div id="feedback-browser-info">\n        <span>&#10004; Browser Info</span>\n      </div>\n      <div id="feedback-page-info">\n        <span>&#10004; Page Info</span>\n      </div>\n      <div id="feedback-user-info">\n        <span>&#10004; Username</span>\n      </div>\n    </div>\n  </div>\n  <div id="feedback-overview-screenshot">\n    <h3>Screenshot</h3>\n  </div>\n  <div class="feedback-buttons">\n    <button id="feedback-submit" class="feedback-submit-btn feedback-btn-blue">\n      Submit\n    </button>\n    <button id="feedback-overview-back" class="feedback-back-btn feedback-btn-gray">\n      Back\n    </button>\n  </div>\n  <div id="feedback-overview-error">\n    Please enter a description.\n  </div>\n  <div class="feedback-wizard-close"></div>\n</div>\n',
submitSuccess:'<div id="feedback-submit-success">\n  <div class="feedback-logo">'+d+'</div>\n  <p>\n    Thank you for your feedback. You can also send feedback directly to\n    <a href="mailto:'+b+'">'+b+'</a>.\n  </p>\n  <button class="feedback-close-btn feedback-btn-blue">\n    OK\n  </button>\n  <div class="feedback-wizard-close"></div>\n</div>\n',submitError:'<div id="feedback-submit-error">\n  <div class="feedback-logo">'+d+'</div>\n  <p>\n    Oops! We failed to record your feedback. You can also send feedback directly to\n    <a href="mailto:'+
b+'">'+b+'</a>.\n  </p>\n  <button class="feedback-close-btn feedback-btn-blue">\n    OK\n  </button>\n  <div class="feedback-wizard-close"></div>\n</div>\n'}})}}]);return a}()},{"../../lib/feedback":398,"../urls/DbGuideLinks":320,jquery:819}],347:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.MacUtils=void 0;var c=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,
e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=(a=a("jquery"))&&a.__esModule?a:{default:a};f.MacUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"isMac",value:function(){return/Mac/.test(navigator.platform)}},{key:"disableMacHistoryScroll",value:function(){this.isMac()&&function(){var a=new Date(2013,5,31),c=a,d=window.location.hash;(0,e.default)(window).on("mousewheel wheel",function(){c=
Date.now();d=window.location.hash});(0,e.default)(window).on("click keydown keyup",function(){c=a});(0,e.default)(window).on("hashchange",function(){500>Date.now()-c&&window.location.hash!==d&&(window.location.hash=d)})}()}}]);return a}()},{jquery:819}],348:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,
d)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}();f.MobileUtils=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"isMobile",value:function(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)?
!0:!1}}]);return a}()},{}],349:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.EmailValidators=void 0;var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),e=(a=a("lodash"))&&a.__esModule?a:{default:a},h=new RegExp("^"+/(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))/.source+
"@"+/((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/.source+"$");f.EmailValidators=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"isValidEmail",value:function(a){a=a.trim();return h.test(a)}},{key:"isValidEmailsField",value:function(b){return e.default.every(b.split(","),function(b){b=b.trim();return 0===b.length||a.isValidEmail(b)})}}]);return a}()},{lodash:842}],350:[function(a,l,
f){Object.defineProperty(f,"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}();f.NodeNameValidators=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"isValidName",value:function(a){return 0<a.length&&0>a.indexOf("/")}}]);
return a}()},{}],351:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});f.PasswordValidators=void 0;var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),e=(a=a("underscore"))&&a.__esModule?a:{default:a},h,b;h={checks:{length:function(a){return 8<a.length},lower:function(a){return/[a-z]/.test(a)},
upper:function(a){return/[A-Z]/.test(a)},digits:function(a){return/\d/.test(a)},nonWords:function(a){return/[^A-Za-z0-9]/.test(a)}},messages:{length:"Password must be longer than eight characters",lower:"Password must have at least one lowercase character",upper:"Password must have at least one uppercase character",digits:"Password must have at least one digit",nonWords:"Password must have at least one symbol"}};b={checks:{length:function(a){return 10<=a.length},lower:function(a){return/[a-z]/.test(a)},
upper:function(a){return/[A-Z]/.test(a)},digits:function(a){return/\d/.test(a)},nonWords:function(a){return/[^A-Za-z0-9]/.test(a)},nonUsername:function(a,b){return e.default.every(b,function(b){return-1===a.toLowerCase().indexOf(b.toLowerCase())})}},messages:{length:"Password must have at least ten characters",lower:"Password must have at least one lowercase character",upper:"Password must have at least one uppercase character",digits:"Password must have at least one digit",nonWords:"Password must have at least one symbol",
nonUsername:"Password must not include user name"}};f.PasswordValidators=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"validatePassword",value:function(a){for(var c=arguments.length,d=Array(1<c?c-1:0),k=1;k<c;k++)d[k-1]=arguments[k];if(!a)return[!1,"Password must not be empty"];k=h;window.settings&&window.settings.enableStrongPassword&&(k=b);var d=e.default.unique(e.default.flatten(e.default.map(d,function(a){return a?a.split(" ").concat(a.split("@")):
[]}))),c=k.checks,k=k.messages,f;for(f in c)if(!0!==c[f](a,d))return[!1,k[f]];return[!0,""]}}]);return a}()},{underscore:1021}],352:[function(a,l,f){Object.defineProperty(f,"__esModule",{value:!0});var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}}();f.UrlValidators=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");}c(a,null,[{key:"validateUrl",value:function(a){return a&&null!==a.match(/^https?:\/\/.+$/)}}]);return a}()},{}],353:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("d3");var h=c(f);f=a("../visualizations/CategoricalChart");var b=c(f);f=a("../visualizations/ChartConstants");var k=c(f);a=a("../visualizations/VizUtil");var d=c(a),n=b.default.extend({constructor:function(a){b.default.call(this,
a);this.areaContainer=this.foreground.append("g");this.setDefaultOptions([{inputType:"radio",label:"Overlapped",key:"grouped",value:!0},{inputType:"radio",label:"Stacked",key:"stacked",value:!1},{inputType:"radio",label:"100% Stacked",key:"100_stacked",value:!1}])},setupYScale:function(){var a=n.__super__.setupYScale.apply(this,arguments),b=a.domain()[0],c=a.domain()[1];a.domain([0<b?0:b,0>c?0:c]).nice();return a},plotSeries:function(a,b,c){var f=this;b=0<a.length?a[0].length-b-2:0;var m=void 0,m=
this.getOption("grouped")?.85:1,n=this.xMargin,q=c.groupWidth,y=c.yScale,l=c.keyFunc;c.drawYAxis();c.drawXAxis();var g=function(a,b){return n+(b+.5)*q},v=this,z=function(a){return y(d.default.getBarY.call(v,a,b,d.default.plotType.AREA_PLOT))},B=h.default.svg.area().x(g).y1(z).y0(y(0)),w=this.areaContainer.selectAll(".area"+b).data(),x=[];0<w.length&&(x=w[0]);var D=this.areaContainer.selectAll(".area"+b).data([a]);D.enter().append("path").attr("class","area"+b).attr("fill","none").attr("stroke",k.default.COLOR_SCALE(b)).attr("stroke-width",
"2px");0<x.length&&x[0].length===a.length&&!e.default.isEqual(x,a)?D.transition().attr("d",B):(D.attr("class","removed").transition().attr("opacity",0).remove(),D=this.areaContainer.selectAll(".area"+b).data([a]),D.enter().append("path").attr("class","area"+b).attr("fill",k.default.COLOR_SCALE(b)).attr("stroke",h.default.rgb(k.default.COLOR_SCALE(b)).brighter().toString()).attr("stroke-width","2px").attr("opacity",0).attr("d",B).transition().attr("opacity",m),D.on("mouseenter",function(){h.default.select(this).attr("stroke-width",
"4px").attr("opacity",1);var a=h.default.mouse(this);f.showTooltip(a[0],a[1]-10,c.valueColumnNames[b])}),D.on("mouseleave",function(){h.default.select(this).attr("stroke-width","2px").attr("opacity",m);f.hideTooltip()}));var E=h.default.scale.linear().domain([15,50]).range([3.5,1.5]).clamp(!0)(a.length),F=h.default.scale.linear().domain([15,50]).range([1.5,1]).clamp(!0)(a.length);50<a.length&&(F=E=0);var J=this.foreground.selectAll(".circle"+b).data(a,l);J.enter().append("circle").attr("class","circle"+
b).attr("fill","white").attr("stroke",k.default.COLOR_SCALE(b)).attr("stroke-width","0px").attr("r","0px").attr("cx",g).attr("cy",z).attr("opacity",0);J.transition().attr("cx",g).attr("cy",z).attr("r",E+"px").attr("stroke-width",F+"px").attr("opacity",0);J.exit().transition().attr("opacity",0).remove();this.hovers.selectAll(".hoverArea"+b).remove();var l=this.hovers.selectAll(".hoverArea"+b).data(a,l).enter().append("circle").attr("class","hoverArea"+b).attr("fill","black").attr("stroke","none").attr("opacity",
0).attr("r","12px").attr("cx",g).attr("cy",z),L=d.default.tooltipNumFormat;l.on("mouseenter",function(c,d){h.default.select(J[0][d]).attr("fill",k.default.COLOR_SCALE(b));d=g(c,d);var e=y(c[b+1])-6-E-F-(50<a.length?1.5:0);f.showTooltip(d,e,c[0]+": "+L(c[b+1]));D.attr("stroke-width","4px")});l.on("mouseleave",function(a,b){h.default.select(J[0][b]).attr("fill","white");D.attr("stroke-width","2px");f.hideTooltip()})},removeSeries:function(a,b){this.foreground.selectAll(".area"+b).attr("class","removed").transition().attr("opacity",
0).remove();this.foreground.selectAll(".circle"+b).attr("class","removed").transition().attr("opacity",0).remove();this.hovers.selectAll(".hoverArea"+b).remove()}});l.exports=n},{"../visualizations/CategoricalChart":356,"../visualizations/ChartConstants":358,"../visualizations/VizUtil":381,d3:707,underscore:1021}],354:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("d3");var e=c(f);f=a("../visualizations/CategoricalChart");var h=c(f);f=a("../visualizations/ChartConstants");
var b=c(f);a=a("../visualizations/VizUtil");var k=c(a);a=h.default.extend({constructor:function(a){h.default.call(this,a);this.setDefaultOptions([{inputType:"radio",label:"Grouped",key:"grouped",value:!0},{inputType:"radio",label:"Stacked",key:"stacked",value:!1},{inputType:"radio",label:"100% Stacked",key:"100_stacked",value:!1}])},getBarX:function(a,b,c){c=this.getOption("stacked")||this.getOption("100_stacked")?.125:.125+.75*c/a.numSeries;return this.xMargin+(b+c)*a.groupWidth},getBarWidth:function(a){return this.getOption("stacked")||
this.getOption("100_stacked")?.75*a.groupWidth:.75*a.groupWidth/a.numSeries},getBarHeight:function(a,b,c){a=a.yScale;c=Math.abs(a(0)-a(b[c+1]));if(this.getOption("100_stacked")){a=0;for(var d=1;d<b.length;d++)a+=Math.abs(b[d]);c=0===a?0:100*c/a}return c},plotSeries:function(a,c,h){var d=h.keyFunc,f=h.yScale,m=f.domain();0<m[0]&&(m[0]=0,f.domain(m).nice());0>m[1]&&(m[1]=0,f.domain(m).nice());h.drawYAxis();h.drawXAxis();var n=this;a=this.foreground.selectAll(".series"+c).data(a,d);a.enter().append("rect").attr("class",
"series"+c).attr("y",f(0)).attr("x",function(a,b){return n.getBarX(h,b,c)}).attr("height",0).attr("width",n.getBarWidth(h)).attr("fill",b.default.COLOR_SCALE(c));a.transition().attr("y",function(a){a=k.default.getBarY.call(n,a,c,k.default.plotType.BAR_PLOT);return f(a)}).attr("x",function(a,b){return n.getBarX(h,b,c)}).attr("height",function(a){return n.getBarHeight(h,a,c)}).attr("width",n.getBarWidth(h));a.exit().transition().attr("y",f(0)).attr("height",0).remove();var l=k.default.tooltipNumFormat,
u=this;a.on("mouseover",function(a,d){var g=e.default.rgb(b.default.COLOR_SCALE(c));e.default.select(this).attr("fill",g.darker(1));d=n.getBarX(h,d,c)+n.getBarWidth(h)/2;g=f(k.default.getBarY.call(n,a,c,k.default.plotType.BAR_PLOT))-6;u.showTooltip(d,g,a[0]+": "+l(a[c+1]))});a.on("mouseout",function(){e.default.select(this).attr("fill",b.default.COLOR_SCALE(c));u.hideTooltip()})},removeSeries:function(a,b,c){a=c.yScale;this.foreground.selectAll(".series"+b).attr("class","removed").transition().attr("y",
a(0)).attr("height",0).remove()}});l.exports=a},{"../visualizations/CategoricalChart":356,"../visualizations/ChartConstants":358,"../visualizations/VizUtil":381,d3:707}],355:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("d3");var b=c(f);f=a("../visualizations/Chart");var k=c(f);f=a("../visualizations/ChartConstants");var d=c(f);f=a("../visualizations/PlotLayout");var n=c(f);f=a("../visualizations/DomUtil");var m=c(f);
a=a("../visualizations/VizUtil");var q=c(a);a=k.default.extend({showText:function(a){this.svg.append("text").text(a).attr("x","0px").attr("y",this.height-5).attr("text-align","left").attr("fill","#999")},inferColumns:function(a){return q.default.findColumns(1,1,a)},prepareData:function(a,b,c,d){return q.default.projectColumns(a,b,c,d)},removePlot:function(){k.default.prototype.removePlot.call(this);this.svg.selectAll(".cell").remove();this.svg.selectAll(".axis").remove()},plot:function(a,c,f,q,u){function y(a){for(var c=
b.default.quantile(a,.25),g=b.default.quantile(a,.5),d=b.default.quantile(a,.75),e=1.5*(d-c),k=0;a[k]<c-e;)k++;for(var h=a.length-1;a[h]>d+e;)h--;return{q1:c,q2:g,q3:d,w1:a[k],w2:a[h]}}k.default.prototype.plot.call(this,a,c,f,q,u);var p=0===c.length?[]:c.split(", ");if(1>a.length)this.showText("No data to plot."),(0,e.default)(this.svg.node()).empty();else if(1>a[0].length)this.removePlot(),this.showText("Need at least one column to create a box-plot.");else if(1!==f.length)this.removePlot(),this.showText("Need at least one column to create a box-plot.");
else if("string"===typeof a[0][p.length])this.removePlot(),this.showText("Cannot plot non-numeric values");else{var g=1,v=[];if(1===p.length)v=h.default.uniq(a.map(function(a){return a[0]})),g=v.length;else if(1<p.length){q=[];var z,r;u=function(a,b){return a+", "+b};for(g=0;g<a.length;g++)r=a[g],z=h.default.reduce(r.slice(0,p.length),u),z=[z,r[p.length]],q.push(z);p=[c];a=q;v=h.default.uniq(a.map(function(a){return a[0]}));g=v.length}this.removePlot();u="";0<v.length&&(u=h.default.max(v,function(a){return a.length}));
var l=d.default.LABEL_FONT_SIZE;c=d.default.LABEL_FONT_WEIGHT;q=d.default.FONT_SIZE;var t=1.5*m.default.strSize(u,l).width+15,w=b.default.format(".2s"),E=m.default.strSize(w(10000.0001),q).width;z=n.default.getGridLayout(1,g,t,20,this.width,this.height-40,10,20);u=z[g-1].y+z[0].height;if(15>z[0].height){for(;25>(this.height-40)/g;)g--;this.showText("The plot area is too small. Showing first "+g+" keys.");z=n.default.getGridLayout(1,g,t,20,this.width,this.height-40,10,20)}var F=b.default.scale.linear().domain(b.default.extent(a,
function(a){return a[p.length]})).range([2,z[0].width-2]);this.svg.selectAll(".cell").data(z).enter().append("g").attr("class","cell").attr("transform",function(a){return"translate("+(2+a.x)+","+(2+a.y)+")"}).each(function(c){var g;0<p.length&&(g=v[c.row]);var d=h.default.filter(a,function(a){return void 0===g?!0:a[0]===g}).map(function(a){return a[p.length]}).sort(b.default.ascending),k=b.default.select(this),f=y(d);f.label=g;c=c.height;d=h.default.filter(d,function(a){return a<f.w1||a>f.w2});k=
k.selectAll("line").data([f]);k.enter().append("line").attr("class","whisker").attr("x1",function(a){return F(a.w1)}).attr("y1",c/2).attr("x2",function(a){return F(a.w2)}).attr("y2",c/2);k.enter().append("line").attr("class","box").attr("x1",function(a){return F(a.w1)}).attr("y1",c/4+2).attr("x2",function(a){return F(a.w1)}).attr("y2",3*c/4-2);k.enter().append("line").attr("class","box").attr("x1",function(a){return F(a.w2)}).attr("y1",c/4+2).attr("x2",function(a){return F(a.w2)}).attr("y2",3*c/4-
2);k.enter().append("rect").attr("class","box").attr("x",function(a){return F(a.q1)}).attr("y",2).attr("width",function(a){return F(a.q3)-F(a.q1)}).attr("height",c-4).attr("median",function(a){return a.q2}).on("mousemove",function(a,c){a=b.default.select(this).attr("median");a="Median: "+w(a);c=(0,e.default)("#tooltip").css("font-size");c=parseFloat(c.slice(0,c.length-2));b.default.select("#tooltip").style("left",b.default.event.pageX-c*a.length/3+"px").style("top",b.default.event.pageY-2*c+"px").select("#value").text(a);
b.default.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){b.default.select("#tooltip").classed("hidden",!0)});k.enter().append("line").attr("class","box").attr("x1",function(a){return F(a.q2)}).attr("y1",2).attr("x2",function(a){return F(a.q2)}).attr("y2",c-2);k.data(d).enter().append("circle").attr("class","box").attr("cx",function(a){return F(a)}).attr("cy",c/2).attr("r",2.5).on("mousemove",function(a,c){a=parseFloat(a).toFixed(2);c=(0,e.default)("#tooltip").css("font-size");
c=parseFloat(c.slice(0,c.length-2));b.default.select("#tooltip").style("left",b.default.event.pageX-c*a.length/3+"px").style("top",b.default.event.pageY-2*c+"px").select("#value").text(a);b.default.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){b.default.select("#tooltip").classed("hidden",!0)});void 0!==g&&k.enter().append("text").attr("class","axis").attr("font-size",l+"px").text(function(a){return a.label}).attr("text-anchor","left").attr("x",-t+10).attr("y",c/2+l/4);k.enter().append("text").attr("class",
"axis").attr("font-size","10px").text(function(a){return w(a.q1)}).attr("text-anchor","left").attr("x",function(a){return F(a.q1)-E}).attr("y",2);k.enter().append("text").attr("class","axis").attr("font-size","10px").text(function(a){return w(a.q3)}).attr("text-anchor","right").attr("x",function(a){return F(a.q3)}).attr("y",2)});g=b.default.svg.axis().scale(F);this.svg.append("g").attr("class","x axis").attr("transform","translate("+z[0].x+","+(u+20)+")").attr("font-size",q+"px").attr("fill","#333").call(g.orient("bottom").tickFormat(w));
f=f[0];this.svg.selectAll(".xlabel").data([1]).enter().append("text").attr("class","xlabel").text(f).attr("text-anchor","middle").attr("x",this.width/2-m.default.strSize(f,l).width/2).attr("y",u+60).attr("font-size",l+"px").attr("fill","#333").style("font-weight",c);0<v.length&&(f=m.default.strSize(p,l),this.svg.selectAll(".ylabel").data(p).enter().append("text").attr("class","ylabel").text(function(a){return a}).attr("text-anchor","left").attr("transform","translate(0, "+this.height/2+") rotate(-90)").attr("y",
f.height-2).attr("font-size",l+"px").attr("fill","#333").style("font-weight",c))}}});l.exports=a},{"../visualizations/Chart":357,"../visualizations/ChartConstants":358,"../visualizations/DomUtil":360,"../visualizations/PlotLayout":372,"../visualizations/VizUtil":381,d3:707,jquery:819,underscore:1021}],356:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("d3");var e=c(f);f=a("../visualizations/Chart");var h=c(f);f=a("../visualizations/ChartConstants");var b=c(f);f=a("../visualizations/DomUtil");
var k=c(f);f=a("../visualizations/Legend");var d=c(f);a=a("../visualizations/VizUtil");var n=c(a);a=h.default.extend({constructor:function(a){h.default.call(this);this.width=660;this.height=250;this.yMargin=52;this.svg=e.default.select(a).append("svg").attr({width:this.width,height:this.height,"class":"chart"});this.background=this.svg.append("g");this.foreground=this.svg.append("g");this.tooltip=this.svg.append("g").attr("opacity",0);this.tooltip.append("rect").attr("fill","#333").attr("opacity",
.75).attr("rx",4).attr("ry",4).attr("height",15).attr("width",300);this.tooltip.append("polygon").attr("fill","#333").attr("opacity",.75);this.tooltip.append("text").text("TOOLTIP").attr("class","tooltip-text").attr("font-size","12px").attr("text-anchor","middle").attr("fill","white");this.hovers=this.svg.append("g");this.firstRender=!0},plotSeries:function(){},removeSeries:function(){},removePlot:function(){this.svg.selectAll(".xlabel").remove();this.svg.selectAll(".ylabel").remove()},inferColumns:function(a){a=
n.default.findColumns(1,2,a);0===a.xColumns.length&&a.xColumns.push("<id>");return a},setupYScale:function(a){var b=this.getOption("stacked"),c=this.getOption("100_stacked"),d=void 0,k=void 0;if(b)for(b=k=d=0;b<a.length;b++){for(var h=0,f=0,m=1;m<a[b].length;m++){var n=a[b][m];0<=n?h+=n:f+=n}d=Math.max(d,h);k=Math.min(k,f)}else c?(a=a.map(function(a){return a.slice(1)}).reduce(function(a,b){return a.concat(b)}),d=0<e.default.max(a)?100:0,k=0>e.default.min(a)?-100:0):(a=a.map(function(a){return a.slice(1)}).reduce(function(a,
b){return a.concat(b)}),d=e.default.max(a),k=e.default.min(a));a=e.default.scale.linear().domain([k,d]).nice();b=.02*(a.domain()[1]-a.domain()[0]);!c&&b>a.domain()[1]-d&&a.domain([0===k?0:k-b,0===d?0:d+b]).nice();return a},plot:function(a,c,f,n,r,l){h.default.prototype.plot.call(this,a,c,f,n,r);this.removePlot();a=this.dropDuplicateKeys(a);var m=l.yColumns?l.yColumns.join(", "):"",q=b.default.LABEL_FONT_SIZE,p=b.default.LABEL_FONT_WEIGHT,g=this.oldNumSeries||0,v=f.length;this.oldNumSeries=v;n=this.width;
r=this.height;var z=this.yMargin,t=0,w=b.default.FONT_SIZE;1<v&&(t=d.default.getMaxLabelWidth(this.svg,f,w),t+=4*w);var x=function(a){return a[0]},D=this.setupYScale(a),E=(r-z-25)/w/2.5,E=Math.ceil(Math.max(E,2)),F=D.ticks(E),J=e.default.max(F),L=e.default.format("0,.f"),I=function(a){return L(a)+"%"},K=this.xMargin=k.default.strSize(L(J),q).width+10+2*k.default.strSize(m,q).height;D.range([r-z,25]);var N=e.default.scale.ordinal().domain(a.map(x)).rangePoints([K,n-10-t],1),J=(n-10-t-K)/a.length;this.svg.selectAll(".xlabel").data([c]).enter().append("text").attr("class",
"xlabel").text(function(a){return a}).attr("text-anchor","middle").transition().attr("x",(this.width+K)/2-k.default.strSize(c,q).width/2).attr("y",this.height-k.default.strSize(c,q).height).attr("font-size",q+"px").attr("fill","#333").style("font-weight",p);c=k.default.strSize(m,q);this.svg.selectAll(".ylabel").data([m]).enter().append("text").attr("class","ylabel").text(m).attr("text-anchor","left").attr("transform","translate(0, "+this.height/2+") rotate(-90)").attr("y",c.height-2).attr("font-size",
q+"px").attr("fill","#333").style("font-weight",p);m=this.background.selectAll(".tick-line").data(F);m.enter().append("line").attr("class","tick-line").style("stroke","#ccc").attr("opacity",0);m.transition().attr({x1:K,x2:n-10-t,y1:D,y2:D,opacity:1});m.exit().transition().attr("opacity",0).remove();for(var P=this.getOption("100_stacked"),m={yScale:D,xScale:N,keyFunc:x,groupWidth:J,numSeries:v,oldNumSeries:g,valueColumnNames:f,drawXAxis:function(){var b=5;0<a.length&&(b=a.map(x).map(function(a){return a.length}).reduce(function(a,
b){return a+b})/a.length,b=(n-K-t)/(8*b));b=this.limitTicks(a.map(x),b);this.xAxis=e.default.svg.axis().scale(N).orient("bottom").tickValues(b);this.firstRender&&this.background.append("g").attr("class","axis x-axis").attr("opacity",0);this.background.selectAll(".x-axis").transition().attr("transform","translate(0,"+(r-z)+")").attr("opacity",a.length?1:0).call(this.xAxis).attr("transform","translate(0,"+(r-z)+")")}.bind(this),drawYAxis:function(){this.yAxis=e.default.svg.axis().scale(D).orient("left").ticks(E).tickFormat(L);
P&&this.yAxis.tickFormat(I);this.firstRender&&this.background.append("g").attr("class","axis y-axis").attr("opacity",0);this.background.selectAll(".y-axis").transition().attr("transform","translate("+K+",0)").attr("opacity",a.length?1:0).call(this.yAxis)}.bind(this)},q=void 0,q=0;q<v;q++)this.plotSeries(a,q,m);for(q=v;q<g;q++)this.removeSeries(a,q,m);1<v?d.default.plotVerticalLegend(this.svg,f,100,n-t+w,z,w,b.default.COLOR_SCALE,!0,l.pivotColumns?l.pivotColumns.join(", "):""):this.svg.selectAll(".legend").remove();
this.firstRender=!1},dropDuplicateKeys:function(a){var b={},c=[];a.forEach(function(a){b[a[0]]||(b[a[0]]=!0,c.push(a))});c.length<a.length&&console.warn("Array with duplicate keys passed to CategoricalChart",a);return c},limitTicks:function(a,b){if(b>=a.length)return a;b=Math.max(1,Math.ceil(a.length/b));for(var c=[],d=0;d<a.length;d+=b)c.push(a[d]);return c},showTooltip:function(a,b,c){var d=this.tooltip;b=Math.round(b);d.select("polygon").attr("points",a-3+","+(b+3)+" "+a+","+(b+6)+" "+(a+3)+" "+
(b+3));d.select("text").text(c).attr("x",a).attr("y",b);c=d.select("text").node().getComputedTextLength()+10;a+c/2>this.width?(a-=a+c/2-this.width,d.select("text").attr("x",a)):0>a-c/2&&(a+=c/2-a,d.select("text").attr("x",a));d.select("rect").attr("x",a-c/2).attr("y",b-12).attr("width",c);d.attr("opacity",1)},hideTooltip:function(){this.tooltip.attr("opacity",0)}});l.exports=a},{"../visualizations/Chart":357,"../visualizations/ChartConstants":358,"../visualizations/DomUtil":360,"../visualizations/Legend":362,
"../visualizations/VizUtil":381,d3:707}],357:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("backbone");f=c(f);var e=a("d3"),h=c(e),e=a("../notebook/NotebookUtilities"),b=c(e),e=a("../visualizations/ChartConstants"),k=c(e);a=a("../visualizations/Pivot");var d=c(a);a=function(a){this.width=k.default.DEFAULT_AUTO_WIDTH;this.height=k.default.DEFAULT_AUTO_HEIGHT;this.parentElement=a;this.canvas=h.default.select(a).append("canvas").attr({"class":"chart",width:this.width,height:this.height}).node();
this.svg=h.default.select(a).append("svg").attr({width:this.width,height:this.height,"class":"chart"});this._plotOptions=[];this._parsedOptions={}};a.prototype.plot=function(a,b,c,d,e){!isNaN(d)&&0<d&&(this.width=d);!isNaN(e)&&0<e&&(this.height=e);this.svg.attr({width:this.width,height:this.height});h.default.select(this.canvas).attr({width:this.width,height:this.height})};a.prototype.removePlot=function(){this.svg.selectAll("text").remove()};a.prototype.getOptions=function(){return this._plotOptions};
a.prototype.setOptions=function(a){var b={},c;for(c=0;c<a.length;c++)b[a[c].key]=a[c].value;this._parsedOptions={};for(c=0;c<this._plotOptions.length;c++)a=this._plotOptions[c].key,void 0!==b[a]&&(this._plotOptions[c].value=b[a]),this._parsedOptions[a]=this._plotOptions[c].value};a.prototype.setDefaultOptions=function(a){this._plotOptions=a;this.setOptions(a)};a.prototype.getOption=function(a){return this._parsedOptions[a]};a.prototype.inferColumns=function(a){if(0===a.length)return{xColumns:["<id>"],
yColumns:[]};for(var c=a.length-1,d=[],e=[];0<=c;)0<e.length?2>e.length&&e.push(a[c].name):b.default.isNumeric(a[c].type)&&(0<c||0===d.length)?2>d.length&&d.push(a[c].name):0<d.length&&2>e.length&&e.push(a[c].name),c--;0===e.length&&e.push("<id>");e.reverse();d.reverse();return{xColumns:e,yColumns:d}};a.prototype.prepareData=function(a,b,c,e,k,h){b=b.concat([{name:"<id>",metadata:{}}]);return d.default.pivot(a,b,c,e,k,h)};a.prototype.showText=function(a){this.svg.append("text").text(a).attr("x","0px").attr("y",
"20px").attr("text-align","left").attr("fill","#999")};a.extend=f.default.Model.extend;l.exports=a},{"../notebook/NotebookUtilities":179,"../visualizations/ChartConstants":358,"../visualizations/Pivot":370,backbone:407,d3:707}],358:[function(a,l,f){a=a("d3");a={COLOR_SCALE:(a&&a.__esModule?a:{default:a}).default.scale.category10(),FONT_SIZE:13,LABEL_FONT_SIZE:15,LABEL_FONT_WEIGHT:500,DEFAULT_AUTO_HEIGHT:160,DEFAULT_AUTO_WIDTH:260};l.exports=a},{d3:707}],359:[function(a,l,f){l.exports={ABW:"Aruba",
AFG:"Afghanistan",AGO:"Angola",AIA:"Anguilla",ALA:"\u00c5land Islands",ALB:"Albania",AND:"Andorra",ARE:"United Arab Emirates",ARG:"Argentina",ARM:"Armenia",ASM:"American Samoa",ATA:"Antarctica",ATF:"French S. and Antarctic Lands",ATG:"Antigua and Barbuda",AUS:"Australia",AUT:"Austria",AZE:"Azerbaijan",BDI:"Burundi",BEL:"Belgium",BEN:"Benin",BES:"Caribbean Netherlands",BFA:"Burkina Faso",BGD:"Bangladesh",BGR:"Bulgaria",BHR:"Bahrain",BHS:"The Bahamas",BIH:"Bosnia and Herzegovina",BLM:"Saint Barth\u00e9lemy",
BLR:"Belarus",BLZ:"Belize",BMU:"Bermuda",BOL:"Bolivia",BRA:"Brazil",BRB:"Barbados",BRN:"Brunei",BTN:"Bhutan",BVT:"Bouvet Island",BWA:"Botswana",CAF:"Central African Republic",CAN:"Canada",CCK:"Cocos Islands",CHE:"Switzerland",CHL:"Chile",CHN:"China",CIV:"C\u00f4te d'Ivoire",CMR:"Cameroon",COD:"Dem. Rep. Congo",COG:"Congo",COK:"Cook Islands",COL:"Colombia",COM:"Comoros",CPV:"Cape Verde",CRI:"Costa Rica",CUB:"Cuba",CUW:"Cura\u00e7ao",CXR:"Christmas Island",CYM:"Cayman Islands",CYP:"Cyprus",CYN:"N. Cyprus",
CZE:"Czech Republic",DEU:"Germany",DJI:"Djibouti",DMA:"Dominica",DNK:"Denmark",DOM:"Dominican Republic",DZA:"Algeria",ECU:"Ecuador",EGY:"Egypt",ERI:"Eritrea",ESH:"Western Sahara",ESP:"Spain",EST:"Estonia",ETH:"Ethiopia",FIN:"Finland",FJI:"Fiji",FLK:"Falkland Islands",FRA:"France",FRO:"Faroe Islands",FSM:"Fed. States of Micronesia",GAB:"Gabon",GBR:"United Kingdom",GEO:"Georgia",GGY:"Guernsey",GHA:"Ghana",GIB:"Gibraltar",GIN:"Guinea",GLP:"Guadeloupe",GMB:"Gambia",GNB:"Guinea-Bissau",GNQ:"Equatorial Guinea",
GRC:"Greece",GRD:"Grenada",GRL:"Greenland",GTM:"Guatemala",GUF:"French Guiana",GUM:"Guam",GUY:"Guyana",HKG:"Hong Kong",HMD:"Heard Island and McDonald Islands",HND:"Honduras",HRV:"Croatia",HTI:"Haiti",HUN:"Hungary",IDN:"Indonesia",IMN:"Isle of Man",IND:"India",IOT:"British Indian Ocean Territory",IRL:"Ireland",IRN:"Iran",IRQ:"Iraq",ISL:"Iceland",ISR:"Israel",ITA:"Italy",JAM:"Jamaica",JEY:"Jersey",JOR:"Jordan",JPN:"Japan",KAZ:"Kazakhstan",KEN:"Kenya",KGZ:"Kyrgyzstan",KHM:"Cambodia",KIR:"Kiribati",KNA:"Saint Kitts and Nevis",
KOR:"South Korea",KOS:"Kosovo",KWT:"Kuwait",LAO:"Laos",LBN:"Lebanon",LBR:"Liberia",LBY:"Libya",LCA:"Saint Lucia",LIE:"Liechtenstein",LKA:"Sri Lanka",LSO:"Lesotho",LTU:"Lithuania",LUX:"Luxembourg",LVA:"Latvia",MAC:"Macau",MAF:"Collectivity of Saint Martin",MAR:"Morocco",MCO:"Monaco",MDA:"Moldova",MDG:"Madagascar",MDV:"Maldives",MEX:"Mexico",MHL:"Marshall Islands",MKD:"Republic of Macedonia",MLI:"Mali",MLT:"Malta",MMR:"Myanmar",MNE:"Montenegro",MNG:"Mongolia",MNP:"Northern Mariana Islands",MOZ:"Mozambique",
MRT:"Mauritania",MSR:"Montserrat",MTQ:"Martinique",MUS:"Mauritius",MWI:"Malawi",MYS:"Malaysia",MYT:"Mayotte",NAM:"Namibia",NCL:"New Caledonia",NER:"Niger",NFK:"Norfolk Island",NGA:"Nigeria",NIC:"Nicaragua",NIU:"Niue",NLD:"Netherlands",NOR:"Norway",NPL:"Nepal",NRU:"Nauru",NZL:"New Zealand",OMN:"Oman",PAK:"Pakistan",PAN:"Panama",PCN:"Pitcairn Islands",PER:"Peru",PHL:"Philippines",PLW:"Palau",PNG:"Papua New Guinea",POL:"Poland",PRI:"Puerto Rico",PRK:"North Korea",PRT:"Portugal",PRY:"Paraguay",PSE:"Palestine",
PSX:"Palestine",PYF:"French Polynesia",QAT:"Qatar",REU:"R\u00e9union",ROU:"Romania",RUS:"Russia",RWA:"Rwanda",SAH:"W. Sahara",SAU:"Saudi Arabia",SDN:"Sudan",SEN:"Senegal",SGP:"Singapore",SGS:"S. Georgia and the S. Sandwich Islands",SHN:"Saint Helena, Ascension and Tristan da Cunha",SJM:"Svalbard and Jan Mayen",SLB:"Solomon Islands",SLE:"Sierra Leone",SLV:"El Salvador",SMR:"San Marino",SOM:"Somalia",SOL:"Somaliland",SPM:"Saint Pierre and Miquelon",SRB:"Serbia",SSD:"S. Sudan",SDS:"S. Sudan",STP:"S\u00e3o Tom\u00e9 and Pr\u00edncipe",
SUR:"Suriname",SVK:"Slovakia",SVN:"Slovenia",SWE:"Sweden",SWZ:"Swaziland",SXM:"Sint Maarten",SYC:"Seychelles",SYR:"Syria",TCA:"Turks and Caicos Islands",TCD:"Chad",TGO:"Togo",THA:"Thailand",TJK:"Tajikistan",TKL:"Tokelau",TKM:"Turkmenistan",TLS:"East Timor",TON:"Tonga",TTO:"Trinidad and Tobago",TUN:"Tunisia",TUR:"Turkey",TUV:"Tuvalu",TWN:"Taiwan",TZA:"Tanzania",UGA:"Uganda",UKR:"Ukraine",UMI:"United States Minor Outlying Islands",URY:"Uruguay",USA:"United States",UZB:"Uzbekistan",VAT:"Vatican City",
VCT:"Saint Vincent and the Grenadines",VEN:"Venezuela",VGB:"British Virgin Islands",VIR:"Virgin Islands, U.S.",VNM:"Vietnam",VUT:"Vanuatu",WES:"W. Sahara",WLF:"Wallis and Futuna",WSM:"Samoa",YEM:"Yemen",ZAF:"South Africa",ZMB:"Zambia",ZWE:"Zimbabwe"}},{}],360:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":
typeof a};f=a("jquery");var h=c(f);f=a("underscore");var b=c(f);f=a("d3");var k=c(f);f=a("../tables/HiveSchema");var d=c(f);a=a("../ui_building_blocks/Nestify");var n=c(a);l.exports={findMaxFontSize:function(a,b,c,d){b+=.5;var e;do b-=.5,e=this.strSize(a,b);while((e.height>d||e.width>c)&&1<b);return b},createTable:function(a,c,f){function m(a){y.selectAll("tr").data(a).enter().append("tr").selectAll("td").data(q).enter().append("td").each(function(a,b){null!==a&&"object"===("undefined"===typeof a?
"undefined":e(a))&&(this.__nfData__=f&&f[b]?d.default.apply(a,f[b]):a)}).classed({nestify:function(){return!!this.__nfData__},"nestify-expandable":function(){return!!this.__nfData__}}).html(function(a){return n.default.initializeCollapsedHTML(a,this.__nfData__)})}var q=function(a){for(;a.length<c.length;)a.push("");return a},l=document.createElement("table"),u=k.default.select(l).attr("class","table table-bordered table-condensed table-hover");u.append("thead").append("tr").selectAll("th").data(c).enter().append("th").text(String);
var y=u.append("tbody"),w=100;window.testMode&&(w=Infinity);m(a.slice(0,w));b.default.defer(function(){var b=(0,h.default)(l),c=b.parent(),d=a.length;c.scroll(function(){w<d&&500>b.height()-c.scrollTop()&&m(a.slice(0,w+=100))})});return l},getCSSProperty:function(a,b,c){b=h.default.extend({},b,{position:"absolute",visibility:"hidden"});a=(0,h.default)("<div/>").text(a).css(b).appendTo((0,h.default)("body"));c=a.css(c);a.remove();return c},strSize:function(a,b){b=(b||12)+"px arial";a=(0,h.default)("<div/>").text(a).css({position:"absolute",
"float":"left","white-space":"nowrap",visibility:"hidden",font:b}).appendTo((0,h.default)("body"));b=a.width();var c=a.height();a.remove();return{width:b,height:c}}}},{"../tables/HiveSchema":255,"../ui_building_blocks/Nestify":292,d3:707,jquery:819,underscore:1021}],361:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("d3");var b=c(f);f=a("../visualizations/PieChartConstants");var k=c(f);a=a("../visualizations/TrellisPlot");
var d=c(a);a=d.default.extend({constructor:function(a){d.default.call(this,a);this.setDefaultOptions([{inputType:"text",label:"Number of bins",key:"bins",value:"20"}])},getXLabel:function(a,b,c){return c[0]},getYLabel:function(a,b,c){return"Density"},getXScale:function(a,c,d,e,k){a=parseInt(this.getOption("bins"),10);c=b.default.extent(c,function(a){return a[d.length]});a=2*(c[1]-c[0])/a;return b.default.scale.linear().domain([c[0]-a,c[1]+a])},getYScale:function(a,c,d,e,k){var f,m;if(2<d.length)this.showText("Error inferring columns. There should not be more than two keys.");
else{2===d.length?(f=h.default.uniq(c.map(function(a){return a[0]})),m=h.default.uniq(c.map(function(a){return a[1]}))):1===d.length&&(f=h.default.uniq(c.map(function(a){return a[0]})));var n=function(a,b){return function(c){return void 0===a?!0:void 0===b?c[0]===a:c[0]===a&&c[1]===b}},y=function(a){var b,c;1<d.length&&(c=m[a.row]);0<d.length&&(b=f[a.col]);return{X:b,Y:c}};if(!0===k.usingAggData){var q=d.length,g=d.length+1,v=c[1][q]-c[0][q];this.hists=a.map(function(a){a=y(a);a=h.default.filter(c,
n(a.X,a.Y));a=h.default.sortBy(a,function(a){return a[q]});return h.default.map(a,function(a){return{dx:v,x:a[q],y:a[g]}})})}else{var z=this.getXScale(a,c,d,e,k),p=parseInt(this.getOption("bins"),10);this.hists=a.map(function(a){a=y(a);a=h.default.filter(c,n(a.X,a.Y)).map(function(a){return a[d.length]});return b.default.layout.histogram().bins(z.ticks(p))(a)})}var l;a=h.default.map(this.hists,function(a){a=a.map(function(a){return a.y});l=h.default.reduce(a,function(a,b){return a+b},0);0===l&&(l=
1);return h.default.max(a)/l});a=h.default.max(a);return b.default.scale.linear().domain([0,1.1*a])}},plotPanel:function(a,c,d,h,f,l,t){var m=this,n;d=this.hists[c.index];h=d.map(function(a){return a.y});n=b.default.sum(h);0===n&&(n=1);void 0!==d[0]&&void 0!==d[0].dx&&(h=f(d[0].dx),1<d.length&&(h=f(d[1].x)-f(d[0].x)),1>h&&(h=1),a.selectAll("rect").data(d).enter().append("rect").attr("width",Math.floor(h)).attr("transform",function(a){return"translate("+f(a.x)+","+(l(a.y/n)-m.padding)+")"}).attr("height",
function(a){a=c.height-l(a.y/n);return 0<a?a:0}).attr("fill",k.default.COLOR_SCALE(0)).on("mousemove",function(a,c){c=b.default.rgb(k.default.COLOR_SCALE(0));b.default.select(this).attr("fill",c.darker(1));a=parseFloat(a.x).toFixed(2)+": "+parseFloat(a.y/n).toFixed(2);c=(0,e.default)("#tooltip").css("font-size");c=parseFloat(c.slice(0,c.length-2));b.default.select("#tooltip").style("left",b.default.event.pageX-c*a.length/3+"px").style("top",b.default.event.pageY-2*c+"px").select("#value").text(a);
b.default.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){b.default.select(this).attr("fill",k.default.COLOR_SCALE(0));b.default.select("#tooltip").classed("hidden",!0)}))}});l.exports=a},{"../visualizations/PieChartConstants":369,"../visualizations/TrellisPlot":380,d3:707,jquery:819,underscore:1021}],362:[function(a,l,f){var c=(f=a("../visualizations/LegendConstants"))&&f.__esModule?f:{default:f},e=(a=a("../visualizations/ChartConstants"))&&a.__esModule?a:{default:a};l.exports=
{getMaxLabelWidth:function(a,b,c){var d=a.selectAll("text.computeMaxWidth");d.attr("class","").remove();d=a.selectAll("text.computeMaxWidth").data(b);d.enter().append("text").attr("class","computeMaxWidth").text(String).attr("x",0).attr("y",0).attr("font-size",c+"px").attr("fill","#333").attr("opacity",0);var e=0;d.each(function(a){var b=this.getComputedTextLength();0===b&&(b=a.length*c/2);e=Math.max(e,b)});d.exit().remove();return e},removeLegend:function(a,b){a.selectAll("rect.series"+b).remove();
a.selectAll("text.series"+b).remove();a.selectAll("text.legend-title").remove()},plotVerticalLegend:function(a,b,k,d,f,m,q,l,p){a=a.selectAll(".legend").data([1]);a.enter().append("g").attr("class","legend");var h=e.default.LABEL_FONT_SIZE,n=e.default.LABEL_FONT_WEIGHT;a.selectAll("text.legend-title").remove();a.selectAll(".legend-title").data([p]).enter().append("text").attr("class","legend-title").text(p).attr("text-anchor","left").transition().attr("x",d).attr("y",function(a,d){return l?f+d*h*
c.default.LINE_SPACING-h/2-5:f+(b.length-d-1)*h*c.default.LINE_SPACING}).attr("font-size",h+"px").attr("fill","#333").style("font-weight",n);p=a.selectAll("rect.series"+k).data(b);p.enter().append("rect").attr("class","series"+k).attr("x",d).attr("y",function(a,d){return l?f+d*m*c.default.LINE_SPACING:f+(b.length-d-1)*m*c.default.LINE_SPACING}).attr("width",m).attr("height",m).attr("fill",function(a,b){return q(b)}).attr("stroke","white").attr("opacity",1);p.transition().attr("x",d).attr("y",function(a,
d){return l?f+d*m*c.default.LINE_SPACING:f+(b.length-d-1)*m*c.default.LINE_SPACING}).attr("width",m).attr("height",m).attr("fill",function(a,b){return q(b)});p.exit().transition().attr("height",0).remove();p=a.selectAll("text.series"+k).data(b);p.enter().append("text").attr("class","series"+k).text(function(a){return a}).attr("text-anchor","start").attr("x",d+Math.ceil(1.6*m)).attr("y",function(a,d){return l?f+d*m*c.default.LINE_SPACING+m*c.default.LINE_SPACING/2+2:f+(b.length-d-1)*m*c.default.LINE_SPACING+
m*c.default.LINE_SPACING/2+2}).attr("font-size",m+"px").attr("fill","#333");p.transition().text(function(a){return a}).attr("x",d+Math.ceil(1.6*m)).attr("y",function(a,d){return l?f+d*m*c.default.LINE_SPACING+m*c.default.LINE_SPACING/2+2:f+(b.length-d-1)*m*c.default.LINE_SPACING+m*c.default.LINE_SPACING/2+2}).attr("font-size",m+"px");p.exit().remove()},plotHorizontalLegend:function(a,b,e,d,f,m,q,l,p){a=a.selectAll(".legend").data([1]);a.enter().append("g").attr("class","legend");var k=Math.floor(q/
m);1>k&&(k=1);q=a.selectAll("rect.series"+e).data(b);q.enter().append("rect").attr("class","series"+e).attr("x",function(a,b){return d+b%k*m}).attr("y",function(a,b){return f+Math.floor(b/k)*l*c.default.LINE_SPACING+l*(c.default.LINE_SPACING-1)}).attr("width",l).attr("height",0).attr("fill",function(a,b){return p(b)}).attr("opacity",1);q.transition().attr("x",function(a,b){return d+b%k*m}).attr("y",function(a,b){return f+Math.floor(b/k)*l*c.default.LINE_SPACING+l*(c.default.LINE_SPACING-1)}).attr("width",
l).attr("height",l).attr("fill",function(a,b){return p(b)});q.exit().transition().attr("height",0).remove();b=a.selectAll("text.series"+e).data(b);b.enter().append("text").attr("class","series"+e).text(function(a){return a}).attr("text-anchor","start").attr("x",function(a,b){return d+b%k*m+Math.ceil(1.6*l)}).attr("y",function(a,b){return f+Math.floor(b/k)*l*c.default.LINE_SPACING+l*(3*c.default.LINE_SPACING/2-1)}).attr("font-size",l+"px").attr("fill","#333");b.transition().text(function(a){return a}).attr("x",
function(a,b){return d+b%k*m+Math.ceil(1.6*l)}).attr("y",function(a,b){return f+Math.floor(b/k)*l*c.default.LINE_SPACING+l*(3*c.default.LINE_SPACING/2-1)}).attr("font-size",l+"px");b.exit().remove()}}},{"../visualizations/ChartConstants":358,"../visualizations/LegendConstants":363}],363:[function(a,l,f){l.exports={LINE_SPACING:1.45,DEF_FONT_SIZE:12,MIN_FONT_SIZE:8}},{}],364:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("d3");var h=c(f);f=a("../visualizations/CategoricalChart");
var b=c(f);f=a("../visualizations/ChartConstants");var k=c(f);a=a("../visualizations/VizUtil");var d=c(a);a=b.default.extend({constructor:function(a){b.default.call(this,a);this.lineContainer=this.foreground.append("g")},plotSeries:function(a,b,c){var f=this,m=this.xMargin,n=c.groupWidth,q=c.yScale,u=c.keyFunc;c.drawYAxis();c.drawXAxis();var y=function(a,b){return m+(b+.5)*n},l=function(a){return q(a[b+1])},g=h.default.svg.line().x(y).y(l),v=this.lineContainer.selectAll(".line"+b).data(),z=[];0<v.length&&
(z=v[0]);var B=this.lineContainer.selectAll(".line"+b).data([a]);B.enter().append("path").attr("class","line"+b).attr("fill","none").attr("stroke",k.default.COLOR_SCALE(b)).attr("stroke-width","2px");0<z.length&&z[0].length===a.length&&!e.default.isEqual(z,a)?B.transition().attr("d",g):(B.attr("class","removed").transition().attr("opacity",0).remove(),B=this.lineContainer.selectAll(".line"+b).data([a]),B.enter().append("path").attr("class","line"+b).attr("fill","none").attr("stroke",k.default.COLOR_SCALE(b)).attr("stroke-width",
"2px").attr("opacity",0).attr("d",g).transition().attr("opacity",1),B.on("mouseenter",function(){h.default.select(this).attr("stroke-width","4px");var a=h.default.mouse(this);f.showTooltip(a[0],a[1]-10,c.valueColumnNames[b])}),B.on("mouseleave",function(){h.default.select(this).attr("stroke-width","2px");f.hideTooltip()}));var G=h.default.scale.linear().domain([15,50]).range([3.5,1.5]).clamp(!0)(a.length),x=h.default.scale.linear().domain([15,50]).range([1.5,1]).clamp(!0)(a.length);50<a.length&&(x=
G=0);var D=this.foreground.selectAll(".circle"+b).data(a,u);D.enter().append("circle").attr("class","circle"+b).attr("fill","white").attr("stroke",k.default.COLOR_SCALE(b)).attr("stroke-width","0px").attr("r","0px").attr("cx",y).attr("cy",l).attr("opacity",0);D.transition().attr("cx",y).attr("cy",l).attr("r",G+"px").attr("stroke-width",x+"px").attr("opacity",1);D.exit().transition().attr("opacity",0).remove();this.hovers.selectAll(".hoverArea"+b).remove();var u=this.hovers.selectAll(".hoverArea"+
b).data(a,u).enter().append("circle").attr("class","hoverArea"+b).attr("fill","black").attr("stroke","none").attr("opacity",0).attr("r","12px").attr("cx",y).attr("cy",l),E=d.default.tooltipNumFormat;u.on("mouseenter",function(c,g){h.default.select(D[0][g]).attr("fill",k.default.COLOR_SCALE(b));g=y(c,g);var d=q(c[b+1])-6-G-x-(50<a.length?1.5:0);f.showTooltip(g,d,c[0]+": "+E(c[b+1]));B.attr("stroke-width","4px")});u.on("mouseleave",function(a,b){h.default.select(D[0][b]).attr("fill","white");B.attr("stroke-width",
"2px");f.hideTooltip()})}});l.exports=a},{"../visualizations/CategoricalChart":356,"../visualizations/ChartConstants":358,"../visualizations/VizUtil":381,d3:707,underscore:1021}],365:[function(a,l,f){var c=(f=a("../visualizations/CountryCodeMap"))&&f.__esModule?f:{default:f},e=(a=a("../visualizations/StateCodeMap"))&&a.__esModule?a:{default:a},h={coverage:function(a,c){for(var b=[],e=[],k=0;k<a.length;k++)a[k][0].toUpperCase()in c?b.push(a[k][0]):e.push(a[k][0]);return{in:b,out:e}},USStates:function(a){return h.coverage(a,
e.default)},World:function(a){return h.coverage(a,c.default)}};l.exports=h},{"../visualizations/CountryCodeMap":359,"../visualizations/StateCodeMap":379}],366:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("d3");var b=c(f),k=a("../urls/ResourceUrls");f=a("../visualizations/Chart");var d=c(f);f=a("../visualizations/CountryCodeMap");var n=c(f);f=a("../visualizations/Legend");var m=c(f);f=a("../visualizations/LegendConstants");
var q=c(f);f=a("../visualizations/MapCodes");var w=c(f);f=a("../visualizations/MapPlotConstants");var p=c(f);a=a("../visualizations/StateCodeMap");var r=c(a),t=d.default.extend({constructor:function(a){d.default.call(this);this.width=650;this.height=260;this.parentElement=a;this.svg=b.default.select(a).append("svg").attr({width:this.width,height:this.height,"class":"chart"});this.zoomArea=this.svg.append("g");this.mapArea=this.zoomArea.append("g");this.legendArea=this.zoomArea.append("g");this.buttons=
this.svg.append("g");this.plusButton=this.buttons.append("g").attr("class","map-zoom-button").attr("width",20).attr("height",20).on("click",h.default.bind(this.zoomIn,this));this.plusButton.append("rect").attr("width",20).attr("height",20).attr("rx",3).attr("ry",3);this.plusButton.append("text").text("+").attr("x",4).attr("y",15);this.minusButton=this.buttons.append("g").attr("class","map-zoom-button").attr("transform","translate(0,26)").attr("width",20).attr("height",20).on("click",h.default.bind(this.zoomOut,
this));this.minusButton.append("rect").attr("width",20).attr("height",20).attr("rx",3).attr("ry",3);this.minusButton.append("text").html("&#8722;").attr("x",4).attr("y",15);this.oldHeight=this.oldWidth=null},showText:function(a){this.svg.append("text").attr("class","warning-msg").text(a).attr("x","0px").attr("y","20px")},showMultilineText:function(a){for(var b=0;b<a.length;b++){var c=20+b*p.default.LABEL_FONT_SIZE*q.default.LINE_SPACING+"px";this.svg.append("text").attr("class","warning-msg").text(a[b]).attr("x",
"0x").attr("y",c)}},removeText:function(){this.svg.selectAll(".warning-msg").remove()},getCode:function(a,b){switch(a){case p.default.TYPE_US:return b.properties.postal;case p.default.TYPE_WORLD:return b.properties.adm0_a3}},getLabel:function(a,b){switch(a){case p.default.TYPE_US:return b.properties.postal;case p.default.TYPE_WORLD:return n.default[b.properties.adm0_a3]}},getTooltipText:function(a,b,c,g){var d=0,e=void 0,k=void 0;switch(a){case p.default.TYPE_US:e=b.properties.postal;k=r.default[e];
break;case p.default.TYPE_WORLD:e=b.properties.adm0_a3,k=n.default[e]}a=k;if(e in g)for(e=g[e],b=1;b<=c.length;b++)g=1===c.length?": "+this.roundNumber(e[b]):", "+c[b-1]+": "+this.roundNumber(e[b]),g.length>d&&(d=g.length),a+=g;return{maxLineLength:d,label:a}},getValue:function(a,b,c){var g=void 0;switch(a){case p.default.TYPE_US:g=b.properties.postal;break;case p.default.TYPE_WORLD:g=b.properties.adm0_a3}for(a=0;a<c.length;a++)if(c[a][0].toUpperCase()===g)return parseFloat(c[a][1])},getRangeTicks:function(a){var c=
[],d=void 0,d=a.map(function(a){return parseFloat(a[1])});a=h.default.max(d);if(0===a)return[0,0];for(var g=b.default.scale.linear().domain([0,a]).nice(p.default.MAX_TICKS),d=p.default.MAX_TICKS;0<d&&!(c=g.ticks(d),c.length<p.default.MAX_TICKS);d--);if(1===c.length)for(d=0;d<=p.default.MAX_TICKS;d++)c[d]=d*a/p.default.MAX_TICKS;return c},getColorIdx:function(a,b){if(void 0===a)return a;if(a<b[0])return 0;for(var c=0;c<b.length;c++)if(a<b[c])return c;return a>=b[b.length-1]?b.length-1:0},initMapProjection:function(a,
c,d){var g=void 0,e=void 0,h=void 0,f=void 0;switch(a){case p.default.TYPE_US:g=Math.min(p.default.SCALE_HEIGHT_US_ALBERSUSA*d,p.default.SCALE_WIDTH_US_ALBERSUSA*c);e=Math.floor(8E3/g);h=b.default.geo.albersUsa().scale(g).translate([c/2,d/2]);f=k.ResourceUrls.getResourceUrl("data/us-map.json");break;case p.default.TYPE_WORLD:g=Math.min(p.default.SCALE_HEIGHT_WORLD_MERCATOR*d,p.default.SCALE_WIDTH_WORLD_MERCATOR*c),e=Math.floor(1500/g),h=b.default.geo.mercator().scale(g).translate([c/2,.7*d]),f=k.ResourceUrls.getResourceUrl("data/world-map.json")}return{initScale:g,
maxZoom:e,projection:h,filemap:f}},roundNumber:function(a){return a===Math.floor(a)?a:1>a?a.toFixed(2):100>a?a.toFixed(1):a.toFixed(0)},plotMap:function(a,c,d,g,k){var h=void 0,f=this.getRangeTicks(c),v=!1;if(g!==this.oldWidth||k!==this.oldHeight)this.oldWidth=g,this.oldHeight=k,v=!0;for(var n={},h=0;h<c.length;h++)n[c[h][0].toUpperCase()]=c[h];for(var l=["N/A"],h=0;h<f.length-1;h++)l[h+1]=f[h]+"-"+f[h+1];var y=m.default.getMaxLabelWidth(this.svg,l,p.default.LABEL_FONT_SIZE);g-=y;g-=2*p.default.LEGEND_BORDER;
g-=2*p.default.LABEL_FONT_SIZE;var u=this.initMapProjection(a,g,k),r=b.default.geo.path().projection(u.projection),t=this;this.loadMap(u.filemap,function(h,z){if(h)return this.mapArea.html(""),console.warn(h);t.showMap();var B=t.mapArea.selectAll("g.mapunits").data(z.features),x=t.mapArea.selectAll(".mapunit-label").data(z.features),G=(0,e.default)(".mapunit-label").css("font-size");t.zoom=b.default.behavior.zoom().translate([0,0]).scale(1).scaleExtent([1,u.maxZoom]).on("zoom",function(){B.attr("transform",
"translate("+b.default.event.translate+")scale("+b.default.event.scale+")");B.selectAll("path").style("stroke-width",1/b.default.event.scale+"px");x.attr("transform",function(c){c=t.adjustPos(a,t.getCode(a,c),r.bounds(c),r.centroid(c));if(1<b.default.event.scale){var g=[b.default.event.translate[0]/(1-b.default.event.scale),b.default.event.translate[1]/(1-b.default.event.scale)];c[0]=g[0]+(c[0]-g[0])*b.default.event.scale;c[1]=g[1]+(c[1]-g[1])*b.default.event.scale}else c[0]+=b.default.event.translate[0],
c[1]+=b.default.event.translate[1];return"translate("+c+")"}).style("display",function(c){var g=t.getLabel(a,c);if(void 0===g||!(c.properties.adm0_a3 in n))return"none";var d=b.default.event.scale*t.width/600;return t.getFontSize(r.bounds(c),g)*d>=G||d>=u.maxZoom-.1?"inline":"none"})});t.mapArea.select(".map-overlay").empty()&&t.mapArea.append("rect").attr("class","map-overlay").attr("width",g).attr("height",k);t.mapArea.call(t.zoom).on("wheel.zoom",null);v&&(t.mapArea.selectAll("g.mapunits").remove(),
t.mapArea.selectAll(".mapunit-label").remove());B.enter().append("g").attr("class","mapunits").append("path").attr("d",r).style("fill",function(b){return p.default.FILL_COLOR_SCALE(t.getColorIdx(t.getValue(a,b,c),f))});B.select("path").transition().style("fill",function(b){return p.default.FILL_COLOR_SCALE(t.getColorIdx(t.getValue(a,b,c),f))});B.on("mousemove",function(c){c=t.getTooltipText(a,c,d,n);var g=c.label,k=(0,e.default)("#tooltip p").css("font-size"),k=parseFloat(k.slice(0,k.length-2));b.default.select("#tooltip").style("left",
b.default.event.pageX-k*c.maxLineLength/3+"px").style("top",b.default.event.pageY-2*k+"px").select("#value").text(g);b.default.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){b.default.select("#tooltip").classed("hidden",!0)});b.default.select("#tooltip").classed("hidden",!0);x.enter().append("text").attr("class","mapunit-label").attr("transform",function(b){return"translate("+t.adjustPos(a,t.getCode(a,b),r.bounds(b),r.centroid(b))+")"}).attr("dy",".35em").text(function(b){return t.getLabel(a,
b)}).style("fill",function(b){return p.default.TEXT_COLOR_SCALE(t.getColorIdx(t.getValue(a,b,c),f))});x.transition().text(function(b){return t.getLabel(a,b)}).style("fill",function(b){return p.default.TEXT_COLOR_SCALE(t.getColorIdx(t.getValue(a,b,c),f))});G=void 0===G?p.default.LABEL_FONT_SIZE:parseFloat(G.slice(0,G.length-2));x.style("display",function(b){var c=t.getLabel(a,b);if(void 0===c||!(b.properties.adm0_a3 in n))return"none";var g=t.width/600;return t.getFontSize(r.bounds(b),c)*g>=G?"inline":
"none"});null===t.legendArea.select(".map-legend")[0][0]&&t.legendArea.append("rect").attr("class","map-legend");h=l.length*p.default.LABEL_FONT_SIZE*q.default.LINE_SPACING;t.legendArea.select(".map-legend").attr("x",g).attr("y",-4).attr("width",y+2*p.default.LEGEND_BORDER+2*p.default.LABEL_FONT_SIZE+8).attr("height",h+p.default.LEGEND_BORDER+2+4).attr("rx",4).attr("ry",4);m.default.plotVerticalLegend(t.legendArea,l,0,g+p.default.LEGEND_BORDER,p.default.LEGEND_BORDER,p.default.LABEL_FONT_SIZE,p.default.FILL_COLOR_SCALE,
!1)})},getFontSize:function(a,b){return Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1])/b.length},adjustPos:function(a,b,c,g){switch(a){case p.default.TYPE_WORLD:switch(b){case "USA":g[0]+=.15*(c[1][0]-c[0][0]);g[1]+=.2*(c[1][1]-c[0][1]);break;case "CAN":g[0]-=.15*(c[1][0]-c[0][0]);g[1]+=.2*(c[1][1]-c[0][1]);break;case "NOR":g[0]-=.3*(c[1][0]-c[0][0]);g[1]+=.45*(c[1][1]-c[0][1]);break;case "FRA":g[0]+=.05*(c[1][0]-c[0][0]),g[1]-=.05*(c[1][1]-c[0][1])}}return g},plot:function(a,b,c,g,e){d.default.prototype.plot.call(this,
a,b,c,g,e);this.removeText();this.buttons.attr("transform","translate(4.5,4.5)");if(1>a.length)this.hideMap(),this.showText("No data to plot.");else if(1>a[0].length)this.hideMap(),this.showText("Need at least two columns to create a map.");else{1<c.length&&(this.showText("More than two numerical columns. Only the values of the first one will be shown."),this.buttons.attr("transform","translate(4.5,28.5)"));var k=w.default.USStates(a);if(k.in>k.out){if(b=p.default.TYPE_US,k.out.length){this.removeText();
g="Following states were not found: ";for(e=0;e<k.out.length;e++)g+=k.out[e],e<k.out.length-1&&(g+=", ");this.showText(g);this.buttons.attr("transform","translate(4.5,28.5)")}}else if(k=w.default.World(a),k.in>k.out){if(b=p.default.TYPE_WORLD,k.out.length){this.removeText();g="Following countries were not found: ";for(e=0;e<k.out.length;e++)g+=k.out[e],e<k.out.length-1&&(g+=", ");this.showText(g);this.buttons.attr("transform","translate(4.5,28.5)")}}else{a=[];this.removeText();a[0]="Unrecognizable values in the first column. The values should be either ";
a[1]="country codes in ISO 3166-1 alpha-3 format or US state postal codes";this.hideMap();this.showMultilineText(a);return}for(e=0;e<a.length;e++)if(a[e][1]=parseFloat(a[e][1]),isNaN(a[e][1])){this.hideMap();this.showText("Second column must contain numerical values");return}this.plotMap(b,a,c,this.width,this.height)}},hideMap:function(){this.buttons.style("display","none");this.zoomArea.style("display","none");this.mapArea.html("");this.zoom=null},showMap:function(){this.buttons.style("display",
"inline");this.zoomArea.style("display","inline")},zoomBy:function(a){if(this.zoom){var b=this.zoom.scale(),c=this.zoom.scaleExtent();a=Math.min(c[1],Math.max(c[0],b*a));var c=this.zoom.translate()[0],c=this.width/2-(this.width/2-c)/b*a,g=this.zoom.translate()[1],b=this.height/2-(this.height/2-g)/b*a;this.zoom.scale(a);this.zoom.translate([c,b]);this.zoom.event(this.mapArea)}},zoomIn:function(){this.zoomBy(1.5)},zoomOut:function(){this.zoomBy(1/1.5)},loadMap:function(a,c){t.mapCache[a]?c(null,t.mapCache[a]):
b.default.json(a,function(b,g){b||(t.mapCache[a]=g);c(b,g)})}});t.mapCache={};l.exports=t},{"../urls/ResourceUrls":322,"../visualizations/Chart":357,"../visualizations/CountryCodeMap":359,"../visualizations/Legend":362,"../visualizations/LegendConstants":363,"../visualizations/MapCodes":365,"../visualizations/MapPlotConstants":367,"../visualizations/StateCodeMap":379,d3:707,jquery:819,underscore:1021}],367:[function(a,l,f){l.exports={TYPE_US:1,TYPE_WORLD:2,SCALE_HEIGHT_WORLD_MERCATOR:.24,SCALE_WIDTH_WORLD_MERCATOR:.155,
SCALE_HEIGHT_US_ALBERSUSA:2.08,SCALE_WIDTH_US_ALBERSUSA:1.25,MAX_TICKS:8,FILL_COLOR_SCALE:function(a){switch(a){case 0:return"#ccc";case 1:return"#B6DBEF";case 2:return"#9ECAE1";case 3:return"#6BAED6";case 4:return"#4292C6";case 5:return"#3181B5";case 6:return"#2171B5";case 7:return"#14519C";case 8:return"#10519C";default:return"#ccc"}},TEXT_COLOR_SCALE:function(a){switch(a){case 0:return"#666";case 1:return"#666";case 2:return"#666";case 3:return"#666";case 4:return"#eee";case 5:return"#eee";case 6:return"#eee";
case 7:return"#eee";default:return"#666"}},LEGEND_BORDER:8,LABEL_FONT_SIZE:13}},{}],368:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("d3");var h=c(f);f=a("../visualizations/Chart");var b=c(f);f=a("../visualizations/ChartConstants");var k=c(f);f=a("../visualizations/Legend");var d=c(f);f=a("../visualizations/LegendConstants");var n=c(f);f=a("../visualizations/PieChartConstants");var m=c(f);f=a("../visualizations/PlotLayout");var q=c(f);a=a("../visualizations/VizUtil");
var w=c(a);a=b.default.extend({constructor:function(a){b.default.call(this,a);this.setDefaultOptions([{inputType:"checkbox",label:"Donut",key:"donut",value:!0}])},getHorizLegendSize:function(a,b,c,d){d=Math.max(Math.floor(d/c),1);return{height:(b+n.default.LINE_SPACING)*Math.max(Math.ceil(a/d),1),width:c*Math.min(d,a)}},getLayout:function(a,b,c){var e=d.default.getMaxLabelWidth(this.svg,a,n.default.DEF_FONT_SIZE)+2*n.default.DEF_FONT_SIZE,k=this.getHorizLegendSize(a.length,n.default.DEF_FONT_SIZE,
e,b).height;return c-k>b-e?this.getHorizontalLayout(a.length,e,n.default.DEF_FONT_SIZE,b,c):this.getVerticalLayout(a.length,e,n.default.DEF_FONT_SIZE,b,c)},getVerticalLayout:function(a,b,c,d,e){var k;e<a*c*n.default.LINE_SPACING&&(k=Math.max(n.default.MIN_FONT_SIZE,Math.floor(e/(a*n.default.LINE_SPACING))),b*=k/c,c=k);b<d-e-e/4?(d=(d-e-e/4-b)/2,k=e/2):(k=Math.floor(Math.min(c,(c+n.default.MIN_FONT_SIZE)/2)),b*=k/c,c=k,b<d-e-e/4?(d=(d-e-e/4-b)/2,k=e/2):(k=3*e/8,b<d-5*k/2?d=(d-5*k/2-b)/2:(b*=n.default.MIN_FONT_SIZE/
c,c=n.default.MIN_FONT_SIZE,k=2*(d-b)/5,d=0)));return{vertical:!0,pieRadius:k,xPieCenter:Math.floor(d+k),yPieCenter:Math.floor(e/2),xLegend:Math.floor(d+2*k+k/2),yLegend:Math.floor(e-c*a*n.default.LINE_SPACING>>1),fontSize:c,labelWidth:b}},getHorizontalLayout:function(a,b,c,d,e){var k=this.getHorizLegendSize(a,c,b,d).height;d>e-k&&(k=Math.floor(Math.min(c,(c+n.default.MIN_FONT_SIZE)/2)),b*=k/c,c=k,k=this.getHorizLegendSize(a,c,b,d).height);d>e-k&&3*d/4>e-k&&(b*=n.default.MIN_FONT_SIZE/c,k=this.getHorizLegendSize(a,
c,b,d).height);a=Math.floor(Math.min(d,e-k)/2);return{vertical:!1,pieRadius:a,xPieCenter:Math.floor(d/2),yPieCenter:Math.floor((e-k-2*a)/2+a),xLegend:0,yLegend:Math.floor(e-k),fontSize:c,labelWidth:b}},getSeries:function(a,b){var c=[],d=[],e;for(e=0;e<Math.min(a.length,m.default.MAX_NUM_PIE_PIECES);e++)c[e]=a[e][b],d[e]=a[e][0];if(a.length>m.default.MAX_NUM_PIE_PIECES){var k=0;for(e=m.default.MAX_NUM_PIE_PIECES;e<a.length;e++)k+=a[e][b];c[m.default.MAX_NUM_PIE_PIECES]=k;d[m.default.MAX_NUM_PIE_PIECES]=
"Others"}return{labels:d,numbers:c}},drawPieChart:function(a,b,c,d,k,f,g){g=Math.min(g,11);for(var v=this.getOption("donut"),n=f-g,v=v*n/2,l=h.default.svg.arc().innerRadius(v).outerRadius(n),q=0,n=0;n<a.length;n++)q+=a[n];n=h.default.layout.pie();a=this.svg.selectAll("g.arc"+b).data(n(a));a.enter().append("g").attr("class","arc"+b).attr("opacity",1).attr("transform","translate("+d+","+k+")").append("path").attr("fill",function(a,b){return m.default.COLOR_SCALE(b)}).attr("stroke","white").attr("d",
l).on("mousemove",function(a,b){var g=h.default.rgb(m.default.COLOR_SCALE(b));h.default.select(this).attr("fill",g.darker(1));g=w.default.tooltipNumFormat;a=c[b]+": "+g(a.value);b=(0,e.default)("#tooltip p").css("font-size");b=parseFloat(b.slice(0,b.length-2));h.default.select("#tooltip").style("left",h.default.event.pageX-b*a.length/3+"px").style("top",h.default.event.pageY-2*b+"px").select("#value").text(a);h.default.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(a,b){h.default.select(this).attr("fill",
m.default.COLOR_SCALE(b));h.default.select("#tooltip").classed("hidden",!0)});a.exit().remove();a.append("text").attr("transform",function(a){var b=l.centroid(a),c=b[0],b=b[1],d=Math.sqrt(c*c+b*b);return(a.endAngle+a.startAngle)/2>11*Math.PI/6||(a.endAngle+a.startAngle)/2<Math.PI/6?"translate("+c*(f-g/2)/d+","+b*(f-g/2)/d+")":"translate("+c*(f-3*g/4)/d+","+b*(f-3*g/4)/d+")"}).attr("dy",".35em").attr("text-anchor",function(a){return(a.endAngle+a.startAngle)/2>Math.PI?"end":"start"}).text(function(a){return Math.round(100*
a.value/q)+"%"}).attr("font-size",g+"px")},removePlot:function(){for(var a=1;a<=m.default.MAX_NUM_PIES;a++)this.removePieChart(a),d.default.removeLegend(this.svg,a)},removePieChart:function(a){this.svg.selectAll("g.arc"+a).attr("opacity",0).remove()},getAreaLayoutWithSharedLegend:function(a,b,c,e){var k=m.default.BORDER_SIZE,h=[],g=n.default.DEF_FONT_SIZE,f,z=void 0,l=void 0,q=f=void 0,r,p=d.default.getMaxLabelWidth(this.svg,b,g)+2*g,t=this.getHorizLegendSize(b.length,g,p,c-4*k),u=t.height,t=t.width;
if(3>=a){z=Math.min((c-p-(a+2)*k)/a,e-3*k);l=Math.min((c-(a+1)*k)/a,e-u-4*k);f=g;if(z>l&&z<=e-3*k||z<l&&l<=(c-(a+1)*k)/a)f=Math.floor(g+n.default.MIN_FONT_SIZE)/2;p=p*f/g;u=u*f/g;t=t*f/g;g=f;z=Math.min((c-p-(a+2)*k)/a,e-3*k);l=Math.min((c-(a+1)*k)/a,e-u-4*k);z>l?(f=(c-p-a*(k+z))/2,q=(e-z-k)/2,r=z):(r=l,f=(c-a*r-(a-1)*k)/2,q=(e-r-u-2*k)/2,r=l);h[0]={x:f,y:q,height:r+k,width:r};for(var w=1;w<a;w++)h[w]={x:h[w-1].x+r+k,y:q,height:r+k,width:r}}if(4===a){z=Math.min(c-p-4*k,e-5*k);l=Math.min(c-3*k,e-u-
6*k);f=g;if(z>l&&z<=e-5*k||z<l&&l<=c-3*k)f=Math.floor(g+n.default.MIN_FONT_SIZE)/2;p=p*f/g;u=u*f/g;t=t*f/g;g=f;z=Math.min(c-p-4*k,e-5*k)/2;l=Math.min(c-3*k,e-u-6*k)/2;z>l?(r=z,f=(c-p-2*r-2*k)/2,q=(e-2*r-3*k)/2):(r=l,f=(c-2*r-k)/2,q=(e-2*r-u-4*k)/2);h[0]={x:f,y:q,width:r,height:r+k};h[1]={x:f+r+k,y:q,width:r,height:r+k};h[2]={x:f,y:q+r+2*k,width:r,height:r+k};h[3]={x:f+r+k,y:q+r+2*k,width:r,height:r+k}}h[a]=l>z?{x:(c-t)/2,y:e-q-u,height:u,width:t}:{x:c-f-p,y:(e-b.length*g*n.default.LINE_SPACING)/2,
height:b.length*g*n.default.LINE_SPACING,width:p};return{pieCells:h,fontSize:g,labelWidth:p,vertical:z>l}},plotPieChartsWithLegends:function(a,b,c){for(var e=void 0,e=void 0,h=Math.min(a[0].length,m.default.MAX_NUM_PIES+1)-1,f=[],f=q.default.getLayout(h,this.width,this.height,1.4,0,0,m.default.BORDER_SIZE,m.default.BORDER_SIZE),e=1;e<=m.default.MAX_NUM_PIES;e++)this.removePieChart(e),d.default.removeLegend(this.svg,e);for(var g=function(a,b,c){return c[a]-b[a]},e=1;e<=h;e++){a.length>m.default.MAX_NUM_PIE_PIECES&&
a.sort(g.bind(this,e));var n=this.getSeries(a,e),z=n.numbers,n=n.labels,l=this.getLayout(n,f[e-1].width,f[e-1].height);this.drawPieChart(z,e,n,l.xPieCenter+f[e-1].x,l.yPieCenter+f[e-1].y,l.pieRadius,l.fontSize);l.vertical?d.default.plotVerticalLegend(this.svg,n,e,l.xLegend+f[e-1].x,l.yLegend+f[e-1].y,l.fontSize,m.default.COLOR_SCALE,!0,c):d.default.plotHorizontalLegend(this.svg,n,e,l.xLegend+f[e-1].x,l.yLegend+f[e-1].y,l.labelWidth,f[e-1].width,l.fontSize,m.default.COLOR_SCALE)}a=[];for(e=0;e<h;e++)a[e]=
e;1===h&&(a=[]);h=this.svg.selectAll("text.titles").data(a);h.enter().append("text").attr("class","titles").text(function(a){return b[a]}).attr("text-anchor","middle").attr("x",function(a){return f[a].x+f[a].width/2}).attr("y",function(a){return f[a].y-.5*m.default.BORDER_SIZE}).attr("font-size",k.default.LABEL_FONT_SIZE+"px").style("font-weight",k.default.LABEL_FONT_WEIGHT);h.text(function(a){return b[a]}).attr("x",function(a){return f[a].x+f[a].width/2}).attr("y",function(a){return f[a].y-.5*m.default.BORDER_SIZE});
h.exit().remove()},getLayoutWithSharedLegend:function(a,b,c,e){var h=m.default.BORDER_SIZE,f=n.default.DEF_FONT_SIZE,g=n.default.MIN_FONT_SIZE,v=n.default.LINE_SPACING,z=d.default.getMaxLabelWidth(this.svg,b,f),z=z+2*f,l=this.getHorizLegendSize(b.length,f,z,c),r=l.height,p=l.width,t=1<a?k.default.LABEL_FONT_SIZE:0,l=q.default.getLayout(a,c-z,e,1,0,t,h,h),u=q.default.getLayout(a,c,e-r,1,0,t,h,h);l[0].width>u[0].width?(f*v>e&&(f=Math.floor(Math.max(g,e/(f*v)))),4>c/z&&(f=Math.floor(Math.max(g,f*c/(4*
z))))):4>e/r&&(f=Math.floor(Math.max(g,f*e/(4*r))));f!==n.default.DEF_FONT_SIZE&&(z=d.default.getMaxLabelWidth(this.svg,b,f),z+=2*f,l=this.getHorizLegendSize(b.length,f,z,c),r=l.height,p=l.width,l=q.default.getLayout(a,c-z,e,1,0,t,h,h),u=q.default.getLayout(a,c,e-r,1,0,t,h,h));if(l[0].width>u[0].width){for(h=c=0;h<a;h++)c<l[h].x+l[h].width&&(c=l[h].x+l[h].width);a={x:c+m.default.BORDER_SIZE,y:(e-b.length*f*v)/2,labelWidth:z,width:z};return{pieCells:l,fontSize:f,yMargin:t,legend:a,vertical:!0}}for(h=
b=0;h<a;h++)b<u[h].y+u[h].height&&(b=u[h].y+u[h].height);a={x:(c-p)/2,y:b,labelWidth:z,width:p};return{pieCells:u,fontSize:f,yMargin:t,legend:a,wLegend:0,vertical:!1}},plotPieChartsWithSharedLegend:function(a,b,c){for(var e=this.width,h=this.height,f=Math.min(a[0].length,m.default.MAX_NUM_PIES+1)-1,g=this.getSeries(a,0),n=g.labels,g=this.getLayoutWithSharedLegend(f,n,e,h),z=g.pieCells,e=g.fontSize,h=g.vertical,l=g.yMargin,q=g.legend,r=void 0,r=1;r<=m.default.MAX_NUM_PIES;r++)this.removePieChart(r),
d.default.removeLegend(this.svg,r);for(r=1;r<=f;r++){var g=this.getSeries(a,r),p=z[r-1].width/2;this.drawPieChart(g.numbers,r,n,z[r-1].x+p,z[r-1].y+l+p,p,e)}h?d.default.plotVerticalLegend(this.svg,n,1,q.x,q.y,e,m.default.COLOR_SCALE,!0,c):d.default.plotHorizontalLegend(this.svg,n,1,q.x,q.y,q.labelWidth,q.width,e,m.default.COLOR_SCALE);a=[];for(r=0;r<f;r++)a[r]=r;1===f&&(a=[]);f=this.svg.selectAll("text.titles").data(a);f.enter().append("text").attr("class","titles").text(function(a){return b[a]}).attr("text-anchor",
"middle").attr("x",function(a){return z[a].x+z[a].width/2}).attr("y",function(a){return z[a].y+.5*l}).attr("font-size",k.default.LABEL_FONT_SIZE+"px").style("font-weight",k.default.LABEL_FONT_WEIGHT);f.text(function(a){return b[a]}).attr("x",function(a){return z[a].x+z[a].width/2}).attr("y",function(a){return z[a].y+.5*l});f.exit().remove()},inferColumns:function(a){a=w.default.findColumns(1,2,a);0===a.xColumns.length&&a.xColumns.push("<id>");return a},plot:function(a,c,d,k,h){b.default.prototype.plot.call(this,
a,c,d,k,h);!isNaN(k)&&0<k&&!isNaN(h)&&0<h&&(this.width=k,this.height=h,this.svg.attr({width:this.width,height:this.height}));0===a.length?(0,e.default)(this.svg.node()).empty():(a.length>m.default.MAX_NUM_PIE_PIECES?this.plotPieChartsWithLegends(a,d,c):this.plotPieChartsWithSharedLegend(a,d,c),a[0].length>m.default.MAX_NUM_PIES+1&&this.showText("More than "+m.default.MAX_NUM_PIES+" pie charts. We will show only the first "+m.default.MAX_NUM_PIES+"."))}});l.exports=a},{"../visualizations/Chart":357,
"../visualizations/ChartConstants":358,"../visualizations/Legend":362,"../visualizations/LegendConstants":363,"../visualizations/PieChartConstants":369,"../visualizations/PlotLayout":372,"../visualizations/VizUtil":381,d3:707,jquery:819}],369:[function(a,l,f){a=a("d3");var c={MAX_NUM_PIES:4,CAT_10_SCALE:(a&&a.__esModule?a:{default:a}).default.scale.category10(),COLOR_SCALE:function(a){return a===c.MAX_NUM_PIE_PIECES?"#aaa":c.CAT_10_SCALE(a)},MAX_NUM_PIE_PIECES:9,BORDER_SIZE:20};l.exports=c},{d3:707}],
370:[function(a,l,f){var c=(a=a("underscore"))&&a.__esModule?a:{default:a},e={MAX_OUTPUT_SERIES:10,sum:function(a){for(var b=0,c=0;c<a.length;c+=1)b+=a[c];return b},avg:function(a){return 0===a.length?0:e.sum(a)/a.length},max:function(a){if(0===a.length)return 0;for(var b=a[0],c=1;c<a.length;c+=1)a[c]>b&&(b=a[c]);return b},min:function(a){if(0===a.length)return 0;for(var b=a[0],c=1;c<a.length;c+=1)a[c]<b&&(b=a[c]);return b},count:function(a){return a?a.length:0},shouldUseMetadata:function(a){return 0<
c.default.filter(a,function(a){return a.metadata.hasOwnProperty("aggRole")}).length},pivot:function(a,b,k,d,f,m){var h=!1,n=void 0,l=void 0,n=this.shouldUseMetadata(b),r=this.findIndices(b,k,n?"groupBy":""),t=this.findIndices(b,d,n?"agg":""),u=this.findIndices(b,f,n?"groupBy":""),y=c.default.uniq(a.map(function(a){return e.extractFields(a,r)}));b=c.default.uniq(a.map(function(a){return e.extractFields(a,u)}));f=[];for(var A=0,n=0;n<b.length;n++){for(l=0;l<t.length&&!(f.push(b[n]+" "+d[l]),A+=1,A>=
e.MAX_OUTPUT_SERIES);l++);if(A>=e.MAX_OUTPUT_SERIES)break}b.length*t.length>e.MAX_OUTPUT_SERIES&&(h=!0,console.log("Pivoting would create",b.length*t.length,"series, showing only the first",e.MAX_OUTPUT_SERIES));for(var g={},n=0;n<b.length;n++)g[b[n]]=n;for(var v={},z=[],l=function(){return[]},B=void 0,n=0;n<y.length;n++)v[y[n]]=n,B=c.default.range(A).map(l),z.push(B);for(n=0;n<a.length;n++)for(var G=a[n],l=this.extractFields(G,r),B=z[v[l]],x=this.extractFields(G,u),l=0;l<d.length;l++){var D=g[x]*
d.length+l;D<e.MAX_OUTPUT_SERIES&&B[D].push(G[t[l]])}a=[];for(n=0;n<y.length;n++){g=Array(A+1);g[0]=y[n];for(l=0;l<A;l++)g[l+1]=m(z[n][l]);a.push(g)}m=[];m=0===u.length?d.slice(0,A):1===t.length?b.slice(0,A):f.slice(0,A);return{seriesLimitReached:h,data:a,columns:m.map(this.trimString),key:k.join(", ")}},trimString:function(a){return 40<a.length?a.substr(0,40)+"...":a},findIndices:function(a,b,c){for(var d={},e=0;e<a.length;e++){var k=a[e];d[k.name+(k.metadata.aggRole||"")]=e}return b.map(function(a){return d[a+
c]})},extractFields:function(a,b){return b.map(function(b){return a[b]}).join(", ")},extractFieldsRaw:function(a,b){return b.map(function(b){return a[b]})}};l.exports=e},{underscore:1021}],371:[function(a,l,f){l.exports={displayTypeIcons:{table:"fa fa-table",barChart:"icon-db-bar",lineChart:"icon-db-line",areaChart:"fa fa-area-chart",pieChart:"icon-db-pie",scatterPlot:"icon-db-scatter",mapPlot:"icon-db-map",quantilePlot:"icon-db-quantile",histogram:"icon-db-histogram",boxPlot:"icon-db-boxplot",qqPlot:"icon-db-qq",
pivotTable:"icon-db-pivot"},displayTypeNames:{table:"Raw table",barChart:"Bar chart",lineChart:"Line chart",areaChart:"Area chart",pieChart:"Pie chart",scatterPlot:"Scatter plot",mapPlot:"World map",quantilePlot:"Quantile plot",histogram:"Histogram plot",boxPlot:"Box plot",qqPlot:"Q-Q plot",pivotTable:"Pivot table"},displayTypeShortNames:{table:"Raw",barChart:"Bar",lineChart:"Line",areaChart:"Area",pieChart:"Pie",scatterPlot:"Scatter",mapPlot:"Map",quantilePlot:"Quantile",histogram:"Histogram",boxPlot:"Box plot",
qqPlot:"Q-Q plot",pivotTable:"Pivot"},complexPlotTypes:"barChart lineChart areaChart pieChart scatterPlot mapPlot quantilePlot histogram boxPlot pivotTable qqPlot".split(" ")}},{}],372:[function(a,l,f){l.exports={getSquareGridLayout:function(a,e,h,b,k){var c=[];e=((e>h?h:e)-2*k)/a-b;for(h=0;h<a;h++)for(var f=0;f<a;f++)c.push({index:c.length,row:h,col:f,x:k+h*(e+b),y:k+f*(e+b),width:e,height:e});return c},getGridLayout:function(a,e,h,b,k,d,f,m){var c=[];k=(k-2*m-h)/a-f;d=(d-2*m-b)/e-f;for(var n=0;n<
e;n++)for(var l=0;l<a;l++)c.push({index:c.length,row:n,col:l,x:h+m+l*(k+f),y:b+m+n*(d+f),width:k,height:d});return c},getLayout:function(a,e,h,b,k,d,f,m){var c=[],n;1===a&&(n=e-2*f-k>b*(h-2*m-d)?(h-2*m-d)*b:e-2*f-k,c[0]={x:(e-n-k)/2,y:(h-n/b-d)/2,width:n+k,height:n/b+d});var l,r,t;if(2===a)if(l=Math.min(b*(h-2*m-d),(e-3*f-2*k)/2),r=Math.min(b*(h-3*m-2*d)/2,e-2*f-k),l>r){for(n=0;n<a;n++)c[n]={x:(e-2*l-2*k-m)/2,y:(h-l/b-d)/2,width:l+k,height:l/b+d};c[1].x=c[0].x+l+k+f}else{for(n=0;n<a;n++)c[n]={x:(e-
r-k)/2,y:(h-2*r/b-2*d-m)/2,width:r+k,height:r/b+d};c[1].y=c[0].y+r/b+d+m}if(3===a||4===a){l=Math.min(h-d-2*m,(e-a*k-(a+1)*f)/(b*a));r=Math.min((h-2*d-3*m)/2,(e-2*k-3*f)/(2*b));t=Math.min((h-a*d-(a+1)*m)/a,(e-k-2*f)/b);if(l>=Math.max(r,t)){for(n=0;n<a;n++)c[n]={x:(e-a*l*b-a*k-(a-1)*f)/a,y:(h-l-d)/2,width:l*b+k,height:l+d};for(n=1;n<a;n++)c[n].x=c[n-1].x+l*b+k+f}if(t>=Math.max(l,r)){for(n=0;n<a;n++)c[n]={x:(e-t*b-k)/2,y:(h-a*t-a*d-(a-1)*m)/a,width:t*b+k,height:t+d};for(n=1;n<a;n++)c[n].y=c[n-1].y+t+
d+m}if(r>=Math.max(l,t)){for(n=0;n<a;n++)c[n]={x:(e-r*b-k)/2,y:(h-2*r-2*d-m)/2,width:r*b+k,height:r+d};c[a-2].x=(e-2*r*b-2*k-f)/2;c[a-1].x=c[a-2].x+r*b+k+f;c[a-1].y=c[a-2].y=c[0].y+r+d+m;4===a&&(c[0].x=(e-2*r*b-2*k-f)/2,c[1].x=c[0].x+r*b+k+f)}}return c}}},{}],373:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("d3");var b=c(f);f=a("regression");var k=c(f);f=a("../visualizations/PieChartConstants");var d=c(f);f=a("../visualizations/TrellisPlot");
f=c(f);a=a("../visualizations/VizUtil");var n=c(a);a=f.default.extend({getDomain:function(a,c){a=b.default.extent(a,function(a){return a[c]});if(a[0]===a[1]){var d=a[0];a[0]=d-.1*d;a[1]=d+.1*d}return a},getXScale:function(a,c,d,e,k){return b.default.scale.linear().domain(this.getDomain(c,d.length))},getYScale:function(a,c,d,e,k){a=b.default.scale.linear().domain([-4,4]);1<e.length&&(a=b.default.scale.linear().domain(this.getDomain(c,d.length+1)));return a},getXLabel:function(a,b,c){return c[0]+" Quantiles"},
getYLabel:function(a,b,c){return(1<c.length?c[1]:"Normal")+" Quantiles"},plotPanel:function(a,c,f,l,r,t,u){function m(){var a,b;do a=2*Math.random()-1,b=2*Math.random()-1,b=a*a+b*b;while(0===b||1<b);return a*Math.sqrt(-2*Math.log(b)/b)}if(0===l.length||l[0].length===f.length)console.error("No data values to plot");else if(u=l[0],"string"===typeof u[f.length])console.error("First value is not numeric");else if(u[f.length+1]&&"string"===typeof u[f.length+1])console.error("Second value is not numeric");
else{c=h.default.sortBy(l,function(a){return a[f.length]}).map(function(a){return a[f.length]});var q=[];if(u.length===f.length+1){u=[];for(q=0;q<l.length;q++)u[q]=m();q=h.default.sortBy(u,function(a){return a})}else q=h.default.sortBy(l,function(a){return a[f.length+1]}).map(function(a){return a[f.length+1]});l=h.default.zip(c,q);if(1<l.length){c=r.domain();u=t.domain();var g=(0,k.default)("linear",l),q=g.equation[0],g=g.equation[1];q&&g&&(c=n.default.boxBoundedLine(q,g,c[0],u[0],c[1],u[1]),a.selectAll("line").data([1]).enter().append("line").attr("class",
"whisker").attr("x1",r(c.x1)).attr("y1",t(c.y1)).attr("x2",r(c.x2)).attr("y2",t(c.y2)))}a.selectAll("circle").data(l).enter().append("circle").attr("class","plot").attr("cx",function(a){return r(a[0])}).attr("cy",function(a){return t(a[1])}).attr("fill",d.default.COLOR_SCALE(0)).attr("r",3).on("mousemove",function(a,c){a=parseFloat(a[0]).toFixed(2)+": "+parseFloat(a[1]).toFixed(2);c=(0,e.default)("#tooltip").css("font-size");c=parseFloat(c.slice(0,c.length-2));b.default.select("#tooltip").style("left",
b.default.event.pageX-c*a.length/3+"px").style("top",b.default.event.pageY-2*c+"px").select("#value").text(a);b.default.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){b.default.select("#tooltip").classed("hidden",!0)})}}});l.exports=a},{"../visualizations/PieChartConstants":369,"../visualizations/TrellisPlot":380,"../visualizations/VizUtil":381,d3:707,jquery:819,regression:1015,underscore:1021}],374:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");
var e=c(f);f=a("underscore");var h=c(f);f=a("d3");var b=c(f);f=a("../visualizations/PieChartConstants");var k=c(f);a=a("../visualizations/TrellisPlot");a=c(a).default.extend({getXScale:function(a,c,e,k,h){return b.default.scale.linear().domain([0,1])},getYScale:function(a,c,e,k,h){return b.default.scale.linear().domain(b.default.extent(c,function(a){return a[e.length]}))},getXLabel:function(a,b,c){return"Quantile"},getYLabel:function(a,b,c){return c[0]},plotPanel:function(a,c,f,l,w,p,r){if(void 0===
l||0===l.length)console.error("No data to plot in panel",a);else if(r=l[0],void 0===r[f.length]||"string"===typeof r[f.length])console.error("Cannot plot nun-numeric values");else{l=h.default.sortBy(l,function(a){return a[f.length]});var d=l.length,n=0;l=l.map(function(a){n++;return[n/d,a[f.length]]});a.selectAll("circle").data(l).enter().append("circle").attr("class","plot").attr("cx",function(a){return w(a[0])}).attr("cy",function(a){return p(a[1])}).attr("fill",k.default.COLOR_SCALE(0)).attr("r",
3).on("click",function(d,e){d=b.default.mouse(this);a.append("line").attr({class:"feedback-grid",x1:0,y1:d[1],x2:c.width,y2:d[1],stroke:"gray","stroke-width":"1.0","shape-rendering":"crispEdges"});a.append("line").attr({class:"feedback-grid",x1:d[0],y1:0,x2:d[0],y2:c.height,stroke:"gray","stroke-width":"1.0","shape-rendering":"crispEdges"})}).on("mousemove",function(a,c){c=b.default.rgb(k.default.COLOR_SCALE(0));b.default.select(this).attr("fill",c.darker(1));a=parseFloat(a[0]).toFixed(2)+": "+parseFloat(a[1]).toFixed(2);
c=(0,e.default)("#tooltip").css("font-size");c=parseFloat(c.slice(0,c.length-2));b.default.select("#tooltip").style("left",b.default.event.pageX-c*a.length/3+"px").style("top",b.default.event.pageY-2*c+"px").select("#value").text(a);b.default.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){b.default.select(this).attr("fill",k.default.COLOR_SCALE(0));a.selectAll(".feedback-grid").remove();b.default.select("#tooltip").classed("hidden",!0)})}}});l.exports=a},{"../visualizations/PieChartConstants":369,
"../visualizations/TrellisPlot":380,d3:707,jquery:819,underscore:1021}],375:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("d3");var h=c(f);f=a("../visualizations/Chart");var b=c(f);f=a("../visualizations/ChartConstants");var k=c(f);f=a("../visualizations/PieChartConstants");var d=c(f);f=a("../visualizations/ScatterPlotConstants");var n=c(f);f=a("../visualizations/DomUtil");var m=c(f);a=a("../visualizations/VizUtil");var q=c(a);a=b.default.extend({constructor:function(a){b.default.call(this);
this.svg=h.default.select(a).append("svg").attr({width:this.width,height:this.height,"class":"chart"})},prepareData:function(a,b,c,d){return q.default.projectColumns(a,b,c,d)},removePlot:function(){b.default.prototype.removePlot.call(this);this.svg.selectAll(".lineContainer").remove()},plot:function(a,c,f,l,q){b.default.prototype.plot.call(this,a,c,f,l,q);var r=this;if(1>a[0].length)this.removePlot(),this.showText("ROC requires exactly two variables (TPR vs FPR)");else{var t=[];for(c=0;c<a.length;c++){l=
[];l[0]=d.default.COLOR_SCALE(0);for(q=0;3>q;q++){var g=a[c][q],v=parseFloat(g);if(isNaN(v)){this.removePlot();this.showText("ROC plots are possible only for numerical columns");console.error("ROC plots are possible only for numerical columns","Column ",q," Row ",c+1," doesn't contain numerical values: ",g);return}l.push(v)}t.push(l)}h.default.select(this.canvas).remove();this.removePlot();this.lineContainer=this.svg.append("g").attr("class","lineContainer");var z=k.default.FONT_SIZE,u=[void 0,[0,
1],[0,1]],p=[void 0,24*1.4,24*1.4],x=h.default.format(".2f");l=h.default.max(p);c=n.default.BORDER_SIZE/2;var w=l+1;l=(this.width>this.height?this.height:this.width)-2*w;var E=l-c;r.cellDim=l-c;var F=h.default.scale.linear().range([2,E-2]),J=h.default.scale.linear().range([E-2,2]);1>a.length?(this.removePlot(),this.showText("No data to plot.")):(this.tooltip=this.svg.append("g").attr("opacity",0),this.tooltip.append("rect").attr("fill","#333").attr("opacity",.75).attr("rx",4).attr("ry",4).attr("height",
15).attr("width",300),this.tooltip.append("polygon").attr("fill","#333").attr("opacity",.75),this.tooltip.append("text").attr("class","tooltip-text").attr("font-size","12px").attr("text-anchor","middle").attr("fill","white"),this.hoverLineGroup=this.tooltip.append("g").attr("class","hover-line"),this.hoverLineX=this.hoverLineGroup.append("line").attr("x1",10).attr("x2",10).attr("y1",0).attr("y2",E).attr("stroke","#6E7B8B"),this.hoverLineY=this.hoverLineGroup.append("line").attr("x1",0).attr("x2",
E).attr("y1",10).attr("y2",10).attr("stroke","#6E7B8B"),this.hoverLineGroup.classed("hide",!0),this.hoverLabelX=this.hoverLineGroup.append("text").attr("font-size","12px").attr("text-anchor","start").attr("fill","black").attr("stroke",null),this.hoverLabelY=this.hoverLineGroup.append("text").attr("font-size","12px").attr("text-anchor","start").attr("fill","black").attr("stroke",null),function(){var a=r.lineContainer;F.domain(u[1]);J.domain(u[2]);var b=Math.floor(E/p[1]),c=Math.floor(E/(1.5*m.default.strSize(x(.9901),
z).width)),c=h.default.svg.axis().scale(F).ticks(c),b=h.default.svg.axis().scale(J).ticks(b);a.append("g").attr("class","y axis").attr("transform","translate(2, 0)").attr("font-size",z+"px").call(b.orient("left").tickFormat(x));a.append("g").attr("class","x axis").attr("transform","translate(0,"+(E-2)+")").attr("font-size",z+"px").call(c.orient("bottom").tickFormat(x));a.append("g").attr("class","x axis").attr("transform","translate(0,"+(E-2)+")").attr("font-size",z+"px").call(c.orient("top").tickFormat(""));
a.append("g").attr("class","x axis").attr("transform","translate(0,2)").attr("font-size",z+"px").call(c.orient("bottom").tickFormat(""));a.append("g").attr("class","y axis").attr("transform","translate(2, 0)").attr("font-size",z+"px").call(b.orient("right").tickFormat(""));a.append("g").attr("class","y axis").attr("transform","translate("+(E-2)+", 0)").attr("font-size",z+"px").call(b.orient("left").tickFormat(""));var c=f[0],b=k.default.LABEL_FONT_SIZE,g=k.default.LABEL_FONT_WEIGHT;a.selectAll(".xlabel").data([1]).enter().append("text").attr("class",
"xlabel").text(c).attr("text-anchor","middle").attr("x",2+w+20+E/2-m.default.strSize(c,b).width/2).attr("y",E+3*m.default.strSize(c,b).height).attr("font-size",b+"px").attr("fill","#333").style("font-weight",g);c=f[1];g=m.default.strSize(c,b);a.selectAll(".ylabel").data([f]).enter().append("text").attr("class","ylabel").attr("transform","translate("+-1*(m.default.strSize(x("1"),z).width+g.height)+", "+E/2+") rotate(-90)").text(c).text(c).attr("text-anchor","middle").attr("font-size",b+"px").attr("fill",
"#333").style("font-weight",k.default.LABEL_FONT_WEIGHT)}(),function(){F.domain(u[1]).range([2,E-2]);J.domain(u[2]).range([E-2,2]);var a=function(a){return F(a[1])+2},b=function(a){return J(a[2])+2},c=r.lineContainer,g=h.default.svg.line().x(a).y(b);c.append("g").selectAll(".line").data([t]).enter().append("path").attr("class","line0").attr("fill","none").attr("stroke",k.default.COLOR_SCALE(0)).attr("stroke-width","2px").attr("opacity",0).attr("d",g).transition().attr("opacity",1);var d=c.append("g").attr("class",
"focus").style("display","none");d.append("circle").attr("r",4.5).attr("fill","none").attr("stroke","#6E7B8B").attr("stroke-width","2px");var e=h.default.bisector(function(a){return a[1]}).left;c.append("rect").attr("class","overlay").attr("opacity",0).attr("width",E-4).attr("height",E-4).on("mouseover",function(){d.style("display",null);r.tooltip.style("display",null)}).on("mouseout",function(){d.style("display","none");r.tooltip.style("display","none");r.hoverLineGroup.classed("hide",!0)}).on("mousemove",
function(){var c=F.invert(h.default.mouse(this)[0]),g=e(t,c,1),k=t[g-1],g=t[g],c=c-k[1]>g[1]-c?g:k;d.attr("transform","translate("+a(c)+","+b(c)+")");r.showTooltip(a(c),b(c)+10,"threshold: "+x(c[3]));r.hoverLineGroup.classed("hide",!1);r.hoverLineX.attr("x1",a(c)).attr("x2",a(c));r.hoverLineY.attr("y1",b(c)).attr("y2",b(c));r.hoverLabelX.text(x(c[2])).attr("x",2).attr("y",b(c));r.hoverLabelY.text(x(c[1])).attr("x",a(c)).attr("y",E-2)})}(),this.lineContainer.selectAll("baseline").data([1]).enter().append("line").attr("class",
"whisker").attr("x1",F(0)).attr("y1",J(0)).attr("x2",F(1)).attr("y2",J(1)),this.lineContainer.attr("transform","translate("+(2+w+20)+","+(2+w-30)+")"),this.tooltip.attr("transform","translate("+(2+w+20)+","+(2+w-30)+")"),(0,e.default)(this.canvas).css("cursor","auto"))}},showTooltip:function(a,b,c){var d=this.tooltip,e=d.select("rect"),k=d.select("polygon"),h=d.select(".tooltip-text");b=Math.round(b);k.attr("points",a-3+" "+b+","+(a+3)+" "+b+","+a+" "+(b-6));h.text(c);c=h.node().getComputedTextLength()+
10;k=e.node().height.baseVal.value+12;a+c/2>this.cellDim?a-=a+c/2-this.cellDim:0>a-c/2&&(a+=c/2-a);b+k>this.cellDim&&(b-=k);h.attr("x",a).attr("y",b+12);e.attr("x",a-c/2).attr("y",b).attr("width",c);d.attr("opacity",1)}});l.exports=a},{"../visualizations/Chart":357,"../visualizations/ChartConstants":358,"../visualizations/DomUtil":360,"../visualizations/PieChartConstants":369,"../visualizations/ScatterPlotConstants":377,"../visualizations/VizUtil":381,d3:707,jquery:819}],376:[function(a,l,f){function c(a){return a&&
a.__esModule?a:{default:a}}f=a("underscore");var e=c(f);f=a("d3");var h=c(f);a=a("react");var b=c(a),k=b.default.createClass({displayName:"ReactTree",propTypes:{tabularData:b.default.PropTypes.array.isRequired},statics:{createD3:function(a,b,c){var d=b-5-5,e=c-25-5;a=h.default.select(a).append("svg").attr({width:b,height:c,"class":"chart ml-tree"}).append("g").attr("transform","translate(5,25)");return{d3Tree:h.default.layout.tree().size([e,d]),svg:a}}},componentWillReceiveProps:function(a){this.updateData(a);
this.updateD3()},componentDidMount:function(){this.updateData();var a=k.createD3(this.getDOMNode(),this.treeWidth,this.treeHeight);this.svg=a.svg;this.d3Tree=a.d3Tree;this.updateD3()},updateData:function(a){this.treeHeight||(this.treeHeight=1E3,this.treeWidth=1600);this.tree||(a=this.props);a&&(this.tree=this.reconstructTree(a.tabularData),this.nodeCount=0)},componentDidUpdate:function(){this.componentDidMount()},shouldComponentUpdate:function(){return!1},reconstructTree:function(a){a=e.default.map(a,
function(a){return JSON.parse(a[0])});return this.reconstructTreeHelper(a)},reconstructTreeHelper:function(a){if(0===a.length)return console.error("missing data when reconstructing the tree"),null;var b=a[0];if(1===a.length)return{name:h.default.format("g")(b.prediction)};var c=e.default.filter(a,function(a){return a.index<b.index}),d=e.default.filter(a,function(a){return a.index>b.index});a=[];0<c.length&&a.push(this.reconstructTreeHelper(c));0<d.length&&a.push(this.reconstructTreeHelper(d));c="";
d=!1;void 0!==b.threshold&&null!==b.threshold&&(c=h.default.format(".2e")(b.threshold));b.categories&&(d=!0,console.error("categories",b.categories),c=String(b.categories));return{name:"feature: "+b.feature,split:c,children:a,categorical:d}},updateD3:function(){this.tree&&(this.tree.x0=this.treeHeight/2,this.tree.y0=0,this.updateD3Tree(this.tree))},updateD3Tree:function(a){var b=this,c=h.default.svg.diagonal().projection(function(a){return[a.x,a.y]}),d=this.d3Tree.nodes(this.tree).reverse(),k=this.d3Tree.links(d);
d.forEach(function(a){a.y=100*a.depth});var f=function(){var a=0;d.forEach(function(b){a=Math.max(a,b.depth)});return a},l=function(){var a={};d.forEach(function(b){a[b.depth]=a[b.depth]?a[b.depth]+1:1});var b=0;e.default.each(a,function(a){b=Math.max(a,b)});return b},t=function(a){return a.attr("y",function(a){return a.children?-15:15}).text(function(a){return a.name})};h.default.select(this.getDOMNode()).selectAll("svg").attr("height",function(){var a=f();return Math.max(110*a+100,300)}).attr("width",
function(){var a=l();return Math.max(50*a+200,1E3)});var u=this.svg.selectAll("g.node").data(d,function(a){if(a.id)return a.id;b.nodeCount++;a.id=b.nodeCount;return a.id}),y=u.enter().append("g").attr("class","node").attr("transform",function(){return"translate("+a.x0+","+a.y0+")"});y.append("circle").attr("class","ml-circle").attr("r",1E-6);t(y.append("text"));y=u.transition().duration(0).attr("transform",function(a){return"translate("+a.x+","+a.y+")"});y.select("circle").attr("class",function(a){return a.children?
"internal":"leaf"}).attr("r",7);t(y.select("text").style("fill-opacity",1));t=u.exit().transition().duration(0).remove();t.select("circle").attr("r",1E-6);t.select("text");t=this.svg.selectAll("path.link").data(k,function(a){return a.target.id});k=this.svg.selectAll(".linklabel").data(k,function(a){return a.target.id});t.enter().insert("path","g").attr("class","link").attr("id",function(a){return"link-"+a.source.id+"-"+a.target.id}).attr("d",function(){var b={x:a.x0,y:a.y0};return c({source:b,target:b})});
u=k.enter().append("text");y=function(a){return a.attr("x",function(a){return(a.source.x+a.target.x)/2+-2.5*(a.source.split.length|2)}).attr("y",function(a){return(a.source.y+a.target.y)/2+(a.source.x>a.target.x?8:-8)}).text(function(a){return a.source.children[0].name===a.source.children[1].name?"":a.source.children[0].name!==a.target.name||void 0!==a.target.split&&a.source.children[0].split!==a.target.split?a.source.categorical?"\u2209 ["+a.source.split+"]":">"+a.source.split:a.source.categorical?
"\u2208 ["+a.source.split+"]":"<="+a.source.split})};y(u.attr("class","linklabel").attr("id",function(a){return"linklabel"+a.source.id+"-"+a.target.id}));t.transition().duration(0).attr("d",c);y(k.transition());t.exit().transition().attr("d",function(){var b={x:a.x,y:a.y};return c({source:b,target:b})}).remove();k.exit().remove();d.forEach(function(a){a.x0=a.x;a.y0=a.y})},render:function(){return b.default.createElement("div",null)}});l.exports=k},{d3:707,react:1001,underscore:1021}],377:[function(a,
l,f){a=a("d3");a={MAX_NUM_PLOTS:4,COLOR_SCALE:(a&&a.__esModule?a:{default:a}).default.scale.category10(),BORDER_SIZE:10};l.exports=a},{d3:707}],378:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("d3");var b=c(f);f=a("science");var k=c(f);f=a("../visualizations/Chart");var d=c(f);f=a("../visualizations/ChartConstants");var n=c(f);f=a("../visualizations/PieChartConstants");var m=c(f);f=a("../visualizations/PlotLayout");var q=
c(f);f=a("../visualizations/Legend");var w=c(f);f=a("../visualizations/ScatterPlotConstants");var p=c(f);f=a("../visualizations/DomUtil");var r=c(f);a=a("../visualizations/VizUtil");var t=c(a);a=d.default.extend({constructor:function(a){d.default.call(this,a);this.setDefaultOptions([{inputType:"checkbox",label:"Show LOESS",key:"loess",value:!1},{inputType:"slider",label:"Bandwidth",key:"bandwidth",value:.3}])},inferColumns:function(a){return t.default.findColumns(5,0,a)},prepareData:function(a,b,
c,g){return t.default.projectColumns(a,b,c,g)},removePlot:function(){d.default.prototype.removePlot.call(this);this.svg.selectAll(".cell").remove();this.svg.selectAll(".legend").remove();this.ctx&&this.ctx.clearRect(0,0,this.width,this.height)},plot:function(a,c,k,g,f){function v(a){return function(b){return b[a]}}function l(a,b){ha.domain(Q[a.row+1]).range([2,a.width-2]);X.domain(Q[a.col+1]).range([a.height-2,2]);var c=void 0,g=void 0;if(!0===b){I.ctx.clearRect(a.x,a.y,a.width,a.height);var d=b=
void 0,k=-1,f=I.selectedPoints.length;if(3>=T){for(b=0;b<ba;b++)d=K[b],I.ctx.beginPath(),d[0]!==k&&(I.ctx.fillStyle=d[0]),c=ha(d[a.row+1])+a.x+2,g=X(d[a.col+1])+a.y+2,I.ctx.fillRect(c,g,T,T),d[0]!==k&&I.ctx.closePath(),k=d[0];if(0<f){I.ctx.fillStyle="rgba(0, 0, 0, 0.6)";I.ctx.beginPath();for(b=0;b<f;b++)d=I.selectedPoints[b],c=ha(d[a.row+1])+a.x+2,g=X(d[a.col+1])+a.y+2,I.ctx.rect(c,g,T,T);I.ctx.fill()}}else{var n=Math.min(T,2.5);for(b=0;b<ba;b++)d=K[b],c=ha(d[a.row+1])+a.x+2,g=X(d[a.col+1])+a.y+2,
d[0]!==k&&(I.ctx.beginPath(),I.ctx.fillStyle=d[0]),I.ctx.moveTo(c,g),I.ctx.arc(c,g,n,0,2*Math.PI),d[0]!==k&&I.ctx.closePath(),I.ctx.fill(),k=d[0];I.ctx.closePath();I.ctx.fill();if(0<f){I.ctx.fillStyle="rgba(0, 0, 0, 0.6)";I.ctx.beginPath();for(b=0;b<f;b++)d=I.selectedPoints[b],c=ha(d[a.row+1])+a.x+2,g=X(d[a.col+1])+a.y+2,I.ctx.moveTo(c,g),I.ctx.arc(c,g,n,0,2*Math.PI);I.ctx.fill()}}if(I.getOption("loess"))if(c=h.default.sortBy(K.map(function(b){return[ha(b[a.row+1])+a.x+2,X(b[a.col+1])+a.y+2]}),function(a){return a[0]}),
c=I.getOption("bandwidth")?I.loessFit(c,parseFloat(I.getOption("bandwidth"))):[],h.default.some(c,function(a){return isNaN(a[1])}))(0,e.default)(".plot-options#slider-value").text(": Error - too small!");else{I.ctx.beginPath();I.ctx.moveTo(c[0][0],c[0][1]);for(b=1;b<c.length;b++)d=c[b],I.ctx.lineTo(d[0],d[1]);I.ctx.strokeStyle="red";I.ctx.lineWidth=1;I.ctx.stroke();I.ctx.closePath()}}}function t(a){var b=I.canvas.getBoundingClientRect();return{x:a.clientX-b.left,y:a.clientY-b.top}}function u(a,b){ha.domain(Q[a.row+
1]);X.domain(Q[a.col+1]);return h.default.filter(K,function(c){var g=ha(c[a.row+1])+a.x+2;c=X(c[a.col+1])+a.y+2;return g>=b.x0&&c>=b.y0&&g<=b.x1&&c<=b.y1})}function y(a){I.singlePanel||(a=t(a),a={x0:Math.max(I.curPanel.x,Math.min(I.selectionStart.x,a.x)),y0:Math.max(I.curPanel.y,Math.min(I.selectionStart.y,a.y)),x1:Math.min(I.curPanel.x+I.curPanel.width,Math.max(I.selectionStart.x,a.x)),y1:Math.min(I.curPanel.y+I.curPanel.height,Math.max(I.selectionStart.y,a.y))},a.width=a.x1-a.x0,a.height=a.y1-a.y0,
I.selectedPoints=u(I.curPanel,a),l(I.curPanel,!0),I.ctx.fillStyle="rgba(211, 211, 211, 0.1)",I.ctx.rect(a.x0,a.y0,a.width,a.height),I.ctx.fill())}function A(a){return h.default.filter(I.grid,function(b){return a.x>b.x&&a.y>b.y&&a.x<b.x+b.width&&a.y<b.y+b.height})}d.default.prototype.plot.call(this,a,c,k,g,f);b.default.select(this.canvas).style({"z-index":0});this.ctx=this.canvas.getContext("2d");var F=k.length;c=0===c.length?[]:c.split(", ");f=0<c.length;g=[];var J={};if(f){g=h.default.uniq(a.map(function(a){return a[0]}));
for(var L=0;L<g.length;L++)J[g[L]]=L}var I=this;if(1<c.length)this.removePlot(),this.showText("Cannot handle more than one key column");else if(1>a.length)this.removePlot(),this.showText("No data to plot.");else if(1>a[0].length)this.removePlot(),this.showText("Need at least two variables to create a scatter plot.");else{for(var K=[],L=0;L<a.length;L++){var N=[];N[0]=!0===f?m.default.COLOR_SCALE(J[a[L][0]]):m.default.COLOR_SCALE(0);for(var P=0+c.length;P<F+c.length;P++){var Y=a[L][P],M=parseFloat(Y);
if(isNaN(M)){this.removePlot();this.showText("Scatterplots are possible only for numerical columns");console.error("Scatterplots are possible only for numerical columns","Column ",P," Row ",L+1," doesn't contain numerical values: ",Y);return}N.push(M)}K.push(N)}this.removePlot();var O=n.default.FONT_SIZE,Q=[];a=[];for(var U=[],R=b.default.format(".3s"),ba=K.length,T=Math.max(Math.floor((4/-39990*(ba*F*(F-1)-4E4)+1)*Math.min(I.width,I.height)/800),1),J=1;J<=F;J++)Q[J]=b.default.extent(K,v(J)),a[J]=
1.4*r.default.strSize(R(Q[J].head),O).width,U[J]=1.4*r.default.strSize(R(Q[J].head),O).height;J=b.default.max(a);a=p.default.BORDER_SIZE/2;J+=1;L=0;f&&(L=h.default.max(g,function(a){return a.length}),L=r.default.strSize(L,O).width+5*O);this.selectedPoints=[];this.singlePanel=!1;if(2===F)this.singlePanel=!0,this.grid=q.default.getSquareGridLayout(1,this.width-L,this.height,a,J),this.grid[0].row=0,this.grid[0].col=1,this.grid[0].x+=20,this.grid[0].y-=30;else if(2<F)this.grid=q.default.getSquareGridLayout(F,
this.width-L,this.height,a,J);else{this.removePlot();this.showText("Need at least two variables to create a scatter plot.");return}var ca=h.default.filter(this.grid,function(a){return a.row!==a.col}),ha=b.default.scale.linear().range([2,this.grid[0].width-2]),X=b.default.scale.linear().range([this.grid[0].height-2,2]),aa=80<this.grid[0].width?n.default.LABEL_FONT_SIZE+3:this.grid[0].width/5;!0===f&&(f=I.grid.filter(function(a){return 1===a.col}),f=h.default.max(f,function(a){return a.row}),w.default.plotVerticalLegend(this.svg,
g,0,f.x+f.width+4*O,30,O,m.default.COLOR_SCALE,!0,c));this.svg.selectAll(".cell").data(this.grid).enter().append("g").attr("class","cell").attr("transform",function(a){return"translate("+(2+a.x)+","+(2+a.y)+")"}).each(function(a){var c=b.default.select(this);ha.domain(Q[a.row+1]);X.domain(Q[a.col+1]);var g=Math.floor(a.height/U[a.col]),d=Math.floor(a.width/(1.5*r.default.strSize(R(.9901),O).width)),d=b.default.svg.axis().scale(ha).ticks(d),g=b.default.svg.axis().scale(X).ticks(g);(0===a.row&&0===
a.col%2||I.singlePanel)&&c.append("g").attr("class","y axis").attr("transform","translate(2, 0)").attr("font-size",O+"px").call(g.orient("left").tickFormat(R));a.row===F-1&&0!==a.col%2&&c.append("g").attr("class","y axis").attr("transform","translate("+(a.width-2)+", 0)").attr("font-size",O+"px").call(g.orient("right").tickFormat(R));0===a.col&&0!==a.row%2&&c.append("g").attr("class","x axis").attr("transform","translate(0,2)").attr("font-size",O+"px").call(d.orient("top").tickFormat(R));(a.col===
F-1&&0===a.row%2||I.singlePanel)&&c.append("g").attr("class","x axis").attr("transform","translate(0,"+(a.height-2)+")").attr("font-size",O+"px").call(d.orient("bottom").tickFormat(R));c.append("g").attr("class","x axis").attr("transform","translate(0,"+(a.height-2)+")").attr("font-size",O+"px").call(d.orient("top").tickFormat(""));c.append("g").attr("class","x axis").attr("transform","translate(0,2)").attr("font-size",O+"px").call(d.orient("bottom").tickFormat(""));c.append("g").attr("class","y axis").attr("transform",
"translate(2, 0)").attr("font-size",O+"px").call(g.orient("right").tickFormat(""));c.append("g").attr("class","y axis").attr("transform","translate("+(a.width-2)+", 0)").attr("font-size",O+"px").call(g.orient("left").tickFormat(""));if(I.singlePanel){var d=k[0],g=n.default.LABEL_FONT_SIZE,e=n.default.LABEL_FONT_WEIGHT;c.selectAll(".xlabel").data([1]).enter().append("text").attr("class","xlabel").text(d).attr("text-anchor","middle").attr("x",2+a.width/2).attr("y",a.y+a.height+3*r.default.strSize(d,
g).height).attr("font-size",g+"px").attr("fill","#333").style("font-weight",e);d=k[1];e=r.default.strSize(d,g);c.selectAll(".ylabel").data([k]).enter().append("text").attr("class","ylabel").attr("transform","translate("+-1*(r.default.strSize(R("10000"),O).width+e.height)+", "+a.height/2+") rotate(-90)").text(d).text(d).attr("text-anchor","middle").attr("font-size",g+"px").attr("fill","#333").style("font-weight",n.default.LABEL_FONT_WEIGHT)}}).each(function(a){if(a.col===a.row){var c=b.default.select(this);
ha.domain(Q[a.row+1]);X.domain(Q[a.col+1]);var g=k[a.col],d=aa*g.length>a.width?Math.ceil(a.width/g.length)+5:aa;c.append("text").attr("text-anchor","middle").attr("x",2+a.width/2).attr("y",a.height/4).attr("font-size",d+"px").attr("fill","gray").text(g);var g=K.map(function(b){return b[a.row+1]}),d=ha.ticks(100),g=I.kernelDensityEstimator(I.epanechnikovKernel(20),d)(g),e=b.default.scale.linear().domain(b.default.extent(g,function(a){return a[1]})).range([a.height-2,2]),d=b.default.svg.line().x(function(a){return ha(a[0])}).y(function(a){return e(a[1])});
c.append("path").datum(g).attr("class","line").attr("d",d)}});ca.map(function(a){return l(a,!0)});this.canvas.addEventListener("mousedown",function(a){I.selectionStart=t(a);I.curPanel=A(I.selectionStart)[0];I.selectedPoints=[];I.curPanel&&I.curPanel.col!==I.curPanel.row&&I.canvas.addEventListener("mousemove",y,!1)},!1);this.canvas.addEventListener("mouseup",function(){I.canvas.removeEventListener("mousemove",y,!1);I.ctx.clearRect(0,0,I.width,I.height);ca.map(function(a){return l(a,!0)})},!1);!1===
this.singlePanel?(0,e.default)(this.canvas).css("cursor","crosshair"):(0,e.default)(this.canvas).css("cursor","auto")}},kernelDensityEstimator:function(a,c){return function(d){return c.map(function(c){return[c,b.default.mean(d,function(b){return a(c-b)})]})}},epanechnikovKernel:function(a){return function(b){b/=a;return 1>=Math.abs(b)?.75*(1-b*b)/a:0}},loessFit:function(a,c){c=k.default.stats.loess().bandwidth(c);var d=a.map(function(a){return a[0]});a=a.map(function(a){return a[1]});return b.default.zip(d,
c(d,a))}});l.exports=a},{"../visualizations/Chart":357,"../visualizations/ChartConstants":358,"../visualizations/DomUtil":360,"../visualizations/Legend":362,"../visualizations/PieChartConstants":369,"../visualizations/PlotLayout":372,"../visualizations/ScatterPlotConstants":377,"../visualizations/VizUtil":381,d3:707,jquery:819,science:1018,underscore:1021}],379:[function(a,l,f){l.exports={AL:"Alabama",AK:"Alaska",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",
FL:"Florida",GA:"Georgia",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PA:"Pennsylvania",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",
UT:"Utah",VT:"Vermont",VA:"Virginia",WV:"West Virginia",WA:"Washington",WI:"Wisconsin",WY:"Wyoming",DC:"District of Columbia"}},{}],380:[function(a,l,f){function c(a){return a&&a.__esModule?a:{default:a}}f=a("jquery");var e=c(f);f=a("underscore");var h=c(f);f=a("d3");var b=c(f);f=a("../visualizations/Chart");var k=c(f);f=a("../visualizations/ChartConstants");var d=c(f);f=a("../visualizations/DomUtil");var n=c(f);f=a("../visualizations/PlotLayout");var m=c(f);f=a("../visualizations/ScatterPlotConstants");
f=c(f);a=a("../visualizations/VizUtil");var q=c(a);a=k.default.extend({inferColumns:function(a){return q.default.findColumns(1,2,a)},prepareData:function(a,b,c,d){return q.default.projectColumns(a,b,c,d)},getXLabel:function(a,b,c){return"X Label"},getYLabel:function(a,b,c){return"Y Label"},plotPanel:function(a,b,c,d,e,k,h){},margin:f.default.BORDER_SIZE/4,gap:55,padding:2,maxUniqueKey:10,getXScale:function(a,c,d,e,k){return b.default.scale.linear()},getYScale:function(a,c,d,e,k){return b.default.scale.linear()},
removePlot:function(){k.default.prototype.removePlot.call(this);this.svg.selectAll(".cell").remove();this.svg.selectAll(".ylabel").remove();this.svg.selectAll(".xlabel").remove()},plot:function(a,c,f,l,q,y){k.default.prototype.plot.call(this,a,c,f,l,q,y);var r=this,g=0===c.length?[]:c.split(", ");if(1>a.length)this.showText("No data to plot."),(0,e.default)(this.svg.node()).empty();else if(1>a[0].length)this.showText("Need at least one column to create a Trellis plot.");else{var v=0,z=0,t=d.default.FONT_SIZE,
p=d.default.LABEL_FONT_SIZE;l=d.default.LABEL_FONT_WEIGHT;var u=b.default.format(".2s"),w=b.default.format(".2s"),E,F,J=1,L=1;if(2<g.length)this.removePlot(),this.showText("Error inferring columns. There should not be more than two keys."),console.error(a,c,f);else{2===g.length?(E=h.default.uniq(a.map(function(a){return a[0]})),J=E.length,F=h.default.uniq(a.map(function(a){return a[1]})),L=F.length,z=v=20):1===g.length&&(E=h.default.uniq(a.map(function(a){return a[0]})),J=E.length,v=20);J>this.maxUniqueKey&&
(this.showText("Too many key values, limiting to first "+this.maxUniqueKey+" values"),J=this.maxUniqueKey);L>this.maxUniqueKey&&(this.showText("Too many key values, limiting to first "+this.maxUniqueKey+" values"),L=this.maxUniqueKey);q=m.default.getGridLayout(J,L,z,v,this.width,this.height,this.margin,this.gap);this.removePlot();var I=this.getXScale(q,a,g,f,y).range([this.padding,q[0].width-this.padding]),K=this.getYScale(q,a,g,f,y).range([q[0].height-this.padding,this.padding]);this.svg.selectAll(".cell").data(q).enter().append("g").attr("class",
"cell").attr("transform",function(a){return"translate("+(r.padding+a.x)+","+(r.padding+a.y)+")"}).each(function(c){var d=b.default.select(this),k;k=Math.floor(c.width/(1.5*n.default.strSize(w(.9901),t).width));k=b.default.svg.axis().scale(I).ticks(k);var f=Math.floor(c.height/(1.2*n.default.strSize("100",t).height)),f=15<f?15:f,f=b.default.svg.axis().scale(K).ticks(f),m,l;1<g.length&&(l=F[c.row]);0<g.length&&(m=E[c.col]);var q;q=h.default.filter(a,function(a){return void 0===m?!0:void 0===l?a[0]===
m:a[0]===m&&a[1]===l});r.plotPanel(d,c,g,q,I,K,y);0===c.col&&0===c.row%2&&d.append("g").attr("class","y axis").attr("transform","translate("+(r.padding-z)+", 0)").attr("font-size",t+"px").attr("fill","#333").call(f.orient("left").tickFormat(u));c.col===J-1&&0!==c.row%2&&d.append("g").attr("class","y axis").attr("transform","translate("+(c.width-r.padding)+", 0)").attr("font-size",t+"px").attr("fill","#333").call(f.orient("right").tickFormat(u));0===c.row&&0!==c.col%2&&d.append("g").attr("class","x axis").attr("transform",
"translate(0,"+(r.padding-v)+")").attr("font-size",t+"px").attr("fill","#333").call(k.orient("top").tickFormat(w));c.row===L-1&&0===c.col%2&&d.append("g").attr("class","x axis").attr("transform","translate(0,"+(c.height-r.padding)+")").attr("font-size",t+"px").attr("fill","#333").call(k.orient("bottom").tickFormat(w));d.append("g").attr("class","x axis").attr("transform","translate(0,"+(c.height-r.padding)+")").attr("font-size",t+"px").attr("fill","#333").call(k.orient("top").tickFormat(""));d.append("g").attr("class",
"x axis").attr("transform","translate(0,"+r.padding+")").attr("font-size",t+"px").attr("fill","#333").call(k.orient("bottom").tickFormat(""));0===c.row&&(d.append("rect").attr("class","extent").attr("width",c.width).attr("height",v).attr("transform","translate(0,"+(r.padding-v)+")").attr("font-size",t+"px").on("mousemove",function(a,c){a=g[0]+": "+m;c=(0,e.default)("#tooltip").css("font-size");c=parseFloat(c.slice(0,c.length-2));b.default.select("#tooltip").style("left",b.default.event.pageX-c*a.length/
3+"px").style("top",b.default.event.pageY-2*c+"px").select("#value").text(a);b.default.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){b.default.select("#tooltip").classed("hidden",!0)}),k=n.default.findMaxFontSize(m,p,c.width-r.padding,v-r.padding),d.append("text").attr("class","axis").attr("transform","translate(0,"+r.padding+")").attr("x",c.width/2).attr("y",r.margin-v/2+2).attr("font-size",k+"px").attr("text-anchor","middle").text(m).on("mousemove",function(a,c){a=g[0]+": "+
m;c=(0,e.default)("#tooltip").css("font-size");c=parseFloat(c.slice(0,c.length-2));b.default.select("#tooltip").style("left",b.default.event.pageX-c*a.length/3+"px").style("top",b.default.event.pageY-2*c+"px").select("#value").text(a);b.default.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){b.default.select("#tooltip").classed("hidden",!0)}));0===c.col&&void 0!==l&&(d.append("rect").attr("class","extent").attr("width",z).attr("height",c.height).attr("transform","translate("+-z+
","+r.padding+")").attr("font-size",t+"px").on("mousemove",function(a,c){a=g[1]+": "+l;c=(0,e.default)("#tooltip").css("font-size");c=parseFloat(c.slice(0,c.length-2));b.default.select("#tooltip").style("left",b.default.event.pageX-c*a.length/3+"px").style("top",b.default.event.pageY-2*c+"px").select("#value").text(a);b.default.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){b.default.select("#tooltip").classed("hidden",!0)}),k=n.default.findMaxFontSize(l,p,c.height-r.padding,z-
r.padding),d.append("text").attr("class","axis").attr("transform","rotate(90,0,0)translate("+z/2+","+(v+r.padding)+")").attr("text-anchor","left").attr("x",c.height/2-n.default.strSize(l,p).width).attr("y",r.margin-v/2).attr("font-size",k+"px").text(l).on("mousemove",function(a,c){a=g[1]+": "+l;c=(0,e.default)("#tooltip").css("font-size");c=parseFloat(c.slice(0,c.length-2));b.default.select("#tooltip").style("left",b.default.event.pageX-c*a.length/3+"px").style("top",b.default.event.pageY-2*c+"px").select("#value").text(a);
b.default.select("#tooltip").classed("hidden",!1)}).on("mouseout",function(){b.default.select("#tooltip").classed("hidden",!0)}));d.append("g").attr("class","y axis").attr("transform","translate("+r.padding+", 0)").attr("font-size",t+"px").attr("fill","#333").call(f.orient("right").tickFormat(""));d.append("g").attr("class","y axis").attr("transform","translate("+(c.width-r.padding)+", 0)").attr("font-size",t+"px").attr("fill","#333").call(f.orient("left").tickFormat(""))});q=r.getXLabel(a,c,f);c=
r.getYLabel(a,c,f);this.svg.selectAll(".xlabel").data([1]).enter().append("text").attr("class","xlabel").text(q).attr("text-anchor","middle").attr("x",this.width/2-n.default.strSize(q,p).width/2).attr("y",this.height-n.default.strSize(q,p).height).attr("font-size",p+"px").attr("fill","#333").style("font-weight",l);this.svg.selectAll(".ylabel").data(f).enter().append("text").attr("class","ylabel").attr("transform","translate("+(n.default.strSize(f,p).height-2)+", "+this.height/2+") rotate(-90)").text(c).attr("text-anchor",
"middle").attr("font-size",p+"px").attr("fill","#333").style("font-weight",l)}}}});l.exports=a},{"../visualizations/Chart":357,"../visualizations/ChartConstants":358,"../visualizations/DomUtil":360,"../visualizations/PlotLayout":372,"../visualizations/ScatterPlotConstants":377,"../visualizations/VizUtil":381,d3:707,jquery:819,underscore:1021}],381:[function(a,l,f){f=(f=a("d3"))&&f.__esModule?f:{default:f};var c=(a=a("../notebook/NotebookUtilities"))&&a.__esModule?a:{default:a},e={plotType:{BAR_PLOT:1,
AREA_PLOT:2},getBarY:function(a,b,c){var d,k;d=this.getOption("stacked")||this.getOption("100_stacked")?1:b+1;k=c===e.plotType.AREA_PLOT||1===Math.sign(a[b+1])?b+1:b;for(c=0;d<=k;d++)Math.sign(a[d])===Math.sign(a[b+1])&&(c+=a[d]);if(this.getOption("100_stacked")){b=0;for(d=1;d<a.length;d++)b+=Math.abs(a[d]);c=100*c/(0===b?1:b)}return c},findColumns:function(a,b,e){if(0===e.length)return{xColumns:["<id>"],yColumns:[]};for(var d=[],k=[],h=e.length-1;0<=h;h--)c.default.isNumeric(e[h].type)?(d.length<
a||0>a)&&d.push(e[h].name):(k.length<b||0>b)&&k.push(e[h].name);return{xColumns:k,yColumns:d}},projectColumns:function(a,b,c,d){for(var e={},k=0;k<b.length;k++)e[b[k].name]=k;var h=c.map(function(a){return e[a]}),f=d.map(function(a){return e[a]});return{data:a.map(function(a){var b=h.map(function(b){return a[b]}),c=f.map(function(b){return a[b]});return b.concat(c)}),columns:d,key:c.join(", ")}},boxBoundedLine:function(a,b,c,d,e,f){var k;k=(f-b)/a;k>=c&&k<=e?(k=(f-b)/a,e=f):(k=e,e=e*a+b);var h=c*
a+b;h>=d&&h<=f?(f=c,a=c*a+b):(f=(d-b)/a,a=d);return{x1:f,y1:a,x2:k,y2:e}}};e.tooltipNumFormat=f.default.format("000,.2f");l.exports=e},{"../notebook/NotebookUtilities":179,d3:707}],382:[function(a,l,f){if("function"!==typeof e||"undefined"===typeof c)if("function"===typeof e&&"undefined"!==typeof webkitURL)var c=webkitURL;else var e=function(a){var b=a.BlobBuilder||a.WebKitBlobBuilder||a.MozBlobBuilder||a.MSBlobBuilder||function(a){var b=function(a){return Object.prototype.toString.call(a).match(/^\[object\s(.*)\]$/)[1]},
c=function(){this.data=[]},e=function(a,b,c){this.data=a;this.size=a.length;this.type=b;this.encoding=c},k=c.prototype,h=e.prototype,f=a.FileReaderSync,l=function(a){this.code=this[this.name=a]},t="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=t.length,y=a.URL||a.webkitURL||a,A=y.createObjectURL,g=y.revokeObjectURL,v=y,z=a.btoa,B=a.atob,G=!1,x=function(a){G=!a},D=a.ArrayBuffer,E=a.Uint8Array;for(e.fake=h.fake=
!0;u--;)l.prototype[t[u]]=u+1;try{E&&x.apply(0,new E(1))}catch(F){}y.createObjectURL||(v=a.URL={});v.createObjectURL=function(a){var b=a.type;null===b&&(b="application/octet-stream");if(a instanceof e)return b="data:"+b,"base64"===a.encoding?b+";base64,"+a.data:"URI"===a.encoding?b+","+decodeURIComponent(a.data):z?b+";base64,"+z(a.data):b+","+encodeURIComponent(a.data);if(A)return A.call(y,a)};v.revokeObjectURL=function(a){"data:"!==a.substring(0,5)&&g&&g.call(y,a)};k.append=function(a){var c=this.data;
if(E&&(a instanceof D||a instanceof E))if(G)c.push(String.fromCharCode.apply(String,new E(a)));else{c="";a=new E(a);for(var g=0,d=a.length;g<d;g++)c+=String.fromCharCode(a[g])}else if("Blob"===b(a)||"File"===b(a))if(f)g=new f,c.push(g.readAsBinaryString(a));else throw new l("NOT_READABLE_ERR");else a instanceof e?"base64"===a.encoding&&B?c.push(B(a.data)):"URI"===a.encoding?c.push(decodeURIComponent(a.data)):"raw"===a.encoding&&c.push(a.data):("string"!==typeof a&&(a+=""),c.push(unescape(encodeURIComponent(a))))};
k.getBlob=function(a){arguments.length||(a=null);return new e(this.data.join(""),a,"raw")};k.toString=function(){return"[object BlobBuilder]"};h.slice=function(a,b,c){var g=arguments.length;3>g&&(c=null);return new e(this.data.slice(a,1<g?b:this.data.length),c,this.encoding)};h.toString=function(){return"[object Blob]"};return c}(a);return function(a,c){c=c?c.type||"":"";var d=new b;if(a)for(var e=0,k=a.length;e<k;e++)d.append(a[e]);return d.getBlob(c)}}(self)},{}],383:[function(a,l,f){var c="function"===
typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};a("jquery");!function(a){a(function(){var c=a.support,b;a:{b=document.createElement("bootstrap");var e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},d;for(d in e)if(void 0!==b.style[d]){b=e[d];break a}b=void 0}c.transition=b&&{end:b}})}(window.jQuery);
!function(a){var c=function(b){a(b).on("click",'[data-dismiss="alert"]',this.close)};c.prototype.close=function(b){function c(){h.trigger("closed").remove()}var e=a(this),k=e.attr("data-target"),h;k||(k=(k=e.attr("href"))&&k.replace(/.*(?=#[^\s]*$)/,""));h=a(k);b&&b.preventDefault();h.length||(h=e.hasClass("alert")?e:e.parent());h.trigger(b=a.Event("close"));b.isDefaultPrevented()||(h.removeClass("in"),a.support.transition&&h.hasClass("fade")?h.on(a.support.transition.end,c):c())};var b=a.fn.alert;
a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("alert");e||d.data("alert",e=new c(this));"string"==typeof b&&e[b].call(d)})};a.fn.alert.Constructor=c;a.fn.alert.noConflict=function(){a.fn.alert=b;return this};a(document).on("click.alert.data-api",'[data-dismiss="alert"]',c.prototype.close)}(window.jQuery);!function(a){var e=function(b,c){this.$element=a(b);this.options=a.extend({},a.fn.button.defaults,c)};e.prototype.setState=function(a){var b=this.$element,c=b.data(),e=
b.is("input")?"val":"html";a+="Text";c.resetText||b.data("resetText",b[e]());b[e](c[a]||this.options[a]);setTimeout(function(){"loadingText"==a?b.addClass("disabled").attr("disabled","disabled"):b.removeClass("disabled").removeAttr("disabled")},0)};e.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active");this.$element.toggleClass("active")};var b=a.fn.button;a.fn.button=function(b){return this.each(function(){var d=a(this),
k=d.data("button"),h="object"==("undefined"===typeof b?"undefined":c(b))&&b;k||d.data("button",k=new e(this,h));"toggle"==b?k.toggle():b&&k.setState(b)})};a.fn.button.defaults={loadingText:"loading..."};a.fn.button.Constructor=e;a.fn.button.noConflict=function(){a.fn.button=b;return this};a(document).on("click.button.data-api","[data-toggle^=button]",function(b){b=a(b.target);b.hasClass("btn")||(b=b.closest(".btn"));b.button("toggle")})}(window.jQuery);!function(a){var e=function(b,c){this.$element=
a(b);this.$indicators=this.$element.find(".carousel-indicators");this.options=c;"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};e.prototype={cycle:function(b){b||(this.paused=!1);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval));return this},getActiveIndex:function(){this.$active=this.$element.find(".item.active");
this.$items=this.$active.parent().children();return this.$items.index(this.$active)},to:function(b){var c=this.getActiveIndex(),e=this;if(!(b>this.$items.length-1||0>b))return this.sliding?this.$element.one("slid",function(){e.to(b)}):c==b?this.pause().cycle():this.slide(b>c?"next":"prev",a(this.$items[b]))},pause:function(b){b||(this.paused=!0);this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0));clearInterval(this.interval);
this.interval=null;return this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(b,c){var d=this.$element.find(".item.active"),e=c||d[b]();c=this.interval;var k="next"==b?"left":"right",h="next"==b?"first":"last",f=this;this.sliding=!0;c&&this.pause();e=e.length?e:this.$element.find(".item")[h]();h=a.Event("slide",{relatedTarget:e[0],direction:k});if(!e.hasClass("active")){this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),
this.$element.one("slid",function(){var b=a(f.$indicators.children()[f.getActiveIndex()]);b&&b.addClass("active")}));if(a.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(h);if(h.isDefaultPrevented())return;e.addClass(b);e[0].offsetWidth;d.addClass(k);e.addClass(k);this.$element.one(a.support.transition.end,function(){e.removeClass([b,k].join(" ")).addClass("active");d.removeClass(["active",k].join(" "));f.sliding=!1;setTimeout(function(){f.$element.trigger("slid")},0)})}else{this.$element.trigger(h);
if(h.isDefaultPrevented())return;d.removeClass("active");e.addClass("active");this.sliding=!1;this.$element.trigger("slid")}c&&this.cycle();return this}}};var b=a.fn.carousel;a.fn.carousel=function(b){return this.each(function(){var d=a(this),k=d.data("carousel"),h=a.extend({},a.fn.carousel.defaults,"object"==("undefined"===typeof b?"undefined":c(b))&&b),f="string"==typeof b?b:h.slide;k||d.data("carousel",k=new e(this,h));if("number"==typeof b)k.to(b);else if(f)k[f]();else h.interval&&k.pause().cycle()})};
a.fn.carousel.defaults={interval:5E3,pause:"hover"};a.fn.carousel.Constructor=e;a.fn.carousel.noConflict=function(){a.fn.carousel=b;return this};a(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c=a(this),e,k=a(c.attr("data-target")||(e=c.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));e=a.extend({},k.data(),c.data());var h;k.carousel(e);(h=c.attr("data-slide-to"))&&k.data("carousel").pause().to(h).cycle();b.preventDefault()})}(window.jQuery);!function(a){var e=
function(b,c){this.$element=a(b);this.options=a.extend({},a.fn.collapse.defaults,c);this.options.parent&&(this.$parent=a(this.options.parent));this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var b,c,e,h;if(!this.transitioning&&!this.$element.hasClass("in")){b=this.dimension();c=a.camelCase(["scroll",b].join("-"));if((e=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&e.length){if((h=
e.data("collapse"))&&h.transitioning)return;e.collapse("hide");h||e.data("collapse",null)}this.$element[b](0);this.transition("addClass",a.Event("show"),"shown");a.support.transition&&this.$element[b](this.$element[0][c])}},hide:function(){var b;!this.transitioning&&this.$element.hasClass("in")&&(b=this.dimension(),this.reset(this.$element[b]()),this.transition("removeClass",a.Event("hide"),"hidden"),this.$element[b](0))},reset:function(a){var b=this.dimension();this.$element.removeClass("collapse")[b](a||
"auto")[0].offsetWidth;this.$element[null!==a?"addClass":"removeClass"]("collapse");return this},transition:function(b,c,e){var d=this,k=function(){"show"==c.type&&d.reset();d.transitioning=0;d.$element.trigger(e)};this.$element.trigger(c);c.isDefaultPrevented()||(this.transitioning=1,this.$element[b]("in"),a.support.transition&&this.$element.hasClass("collapse")?this.$element.one(a.support.transition.end,k):k())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var b=a.fn.collapse;
a.fn.collapse=function(b){return this.each(function(){var d=a(this),k=d.data("collapse"),h=a.extend({},a.fn.collapse.defaults,d.data(),"object"==("undefined"===typeof b?"undefined":c(b))&&b);k||d.data("collapse",k=new e(this,h));if("string"==typeof b)k[b]()})};a.fn.collapse.defaults={toggle:!0};a.fn.collapse.Constructor=e;a.fn.collapse.noConflict=function(){a.fn.collapse=b;return this};a(document).on("click.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),e;b=c.attr("data-target")||
b.preventDefault()||(e=c.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");e=a(b).data("collapse")?"toggle":c.data();c[a(b).hasClass("in")?"addClass":"removeClass"]("collapsed");a(b).collapse(e)})}(window.jQuery);!function(a){function c(){a(".dropdown-backdrop").remove();a("[data-toggle=dropdown]").each(function(){b(a(this)).removeClass("open")})}function b(b){var c=b.attr("data-target");c||(c=(c=b.attr("href"))&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));(c=c&&a(c))&&c.length||(c=b.parent());return c}
var e=function(b){var c=a(b).on("click.dropdown.data-api",this.toggle);a("html").on("click.dropdown.data-api",function(){c.parent().removeClass("open")})};e.prototype={constructor:e,toggle:function(d){d=a(this);var e,k;if(!d.is(".disabled, :disabled")){e=b(d);k=e.hasClass("open");c();if(!k){if("ontouchstart"in document.documentElement)a('<div class="dropdown-backdrop"/>').insertBefore(a(this)).on("click",c);e.toggleClass("open")}d.focus();return!1}},keydown:function(c){var d,e,k;if(/(38|40|27)/.test(c.keyCode)&&
(d=a(this),c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled"))){e=b(d);k=e.hasClass("open");if(!k||k&&27==c.keyCode)return 27==c.which&&e.find("[data-toggle=dropdown]").focus(),d.click();d=a("[role=menu] li:not(.divider):visible a",e);d.length&&(e=d.index(d.filter(":focus")),38==c.keyCode&&0<e&&e--,40==c.keyCode&&e<d.length-1&&e++,~e||(e=0),d.eq(e).focus())}}};var d=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("dropdown");d||c.data("dropdown",
d=new e(this));"string"==typeof b&&d[b].call(c)})};a.fn.dropdown.Constructor=e;a.fn.dropdown.noConflict=function(){a.fn.dropdown=d;return this};a(document).on("click.dropdown.data-api",c).on("click.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.dropdown.data-api","[data-toggle=dropdown]",e.prototype.toggle).on("keydown.dropdown.data-api","[data-toggle=dropdown], [role=menu]",e.prototype.keydown)}(window.jQuery);!function(a){var e=function(b,c){this.options=c;this.$element=
a(b).delegate('[data-dismiss="modal"]',"click.dismiss.modal",a.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var b=this,c=a.Event("show");this.$element.trigger(c);this.isShown||c.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var c=a.support.transition&&b.$element.hasClass("fade");b.$element.parent().length||
b.$element.appendTo(document.body);b.$element.show();c&&b.$element[0].offsetWidth;b.$element.addClass("in").attr("aria-hidden",!1);b.enforceFocus();c?b.$element.one(a.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")}))},hide:function(b){b&&b.preventDefault();b=a.Event("hide");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",
!0),a.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var b=this;a(document).on("focusin.modal",function(a){b.$element[0]===a.target||b.$element.has(a.target).length||b.$element.focus()})},escape:function(){var a=this;if(this.isShown&&this.options.keyboard)this.$element.on("keyup.dismiss.modal",function(b){27==b.which&&a.hide()});else this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var b=
this,c=setTimeout(function(){b.$element.off(a.support.transition.end);b.hideModal()},500);this.$element.one(a.support.transition.end,function(){clearTimeout(c);b.hideModal()})},hideModal:function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=
a.support.transition&&c;this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body);this.$backdrop.click("static"==this.options.backdrop?a.proxy(this.$element[0].focus,this.$element[0]):a.proxy(this.hide,this));e&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");b&&(e?this.$backdrop.one(a.support.transition.end,b):b())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,
b):b()):b&&b()}};var b=a.fn.modal;a.fn.modal=function(b){return this.each(function(){var d=a(this),k=d.data("modal"),h=a.extend({},a.fn.modal.defaults,d.data(),"object"==("undefined"===typeof b?"undefined":c(b))&&b);k||d.data("modal",k=new e(this,h));if("string"==typeof b)k[b]();else h.show&&k.show()})};a.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0};a.fn.modal.Constructor=e;a.fn.modal.noConflict=function(){a.fn.modal=b;return this};a(document).on("click.modal.data-api",'[data-toggle="modal"]',
function(b){var c=a(this),e=c.attr("href"),k=a(c.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),e=k.data("modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},k.data(),c.data());b.preventDefault();k.modal(e).one("hide",function(){c.focus()})})}(window.jQuery);!function(a){var e=function(a,b){this.init("tooltip",a,b)};e.prototype={constructor:e,init:function(b,c,e){var d;this.type=b;this.$element=a(c);this.options=this.getOptions(e);this.enabled=!0;c=this.options.trigger.split(" ");for(e=c.length;e--;)if(d=
c[e],"click"==d)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else"manual"!=d&&(b="hover"==d?"mouseenter":"focus",d="hover"==d?"mouseleave":"blur",this.$element.on(b+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(d+"."+this.type,this.options.selector,a.proxy(this.leave,this)));this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(b){b=a.extend({},a.fn[this.type].defaults,
this.$element.data(),b);b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay});return b},enter:function(b){var c=a.fn[this.type].defaults,e={},k;this._options&&a.each(this._options,function(a,b){c[a]!=b&&(e[a]=b)},this);k=a(b.currentTarget)[this.type](e).data(this.type);if(!k.options.delay||!k.options.delay.show)return k.show();clearTimeout(this.timeout);k.hoverState="in";this.timeout=setTimeout(function(){"in"==k.hoverState&&k.show()},k.options.delay.show)},leave:function(b){var c=
a(b.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!c.options.delay||!c.options.delay.hide)return c.hide();c.hoverState="out";this.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)},show:function(){var b,c,e,h,f;c=a.Event("show");if(this.hasContent()&&this.enabled&&(this.$element.trigger(c),!c.isDefaultPrevented())){b=this.tip();this.setContent();this.options.animation&&b.addClass("fade");h="function"==typeof this.options.placement?
this.options.placement.call(this,b[0],this.$element[0]):this.options.placement;b.detach().css({top:0,left:0,display:"block"});this.options.container?b.appendTo(this.options.container):b.insertAfter(this.$element);c=this.getPosition();e=b[0].offsetWidth;b=b[0].offsetHeight;switch(h){case "bottom":f={top:c.top+c.height,left:c.left+c.width/2-e/2};break;case "top":f={top:c.top-b,left:c.left+c.width/2-e/2};break;case "left":f={top:c.top+c.height/2-b/2,left:c.left-e};break;case "right":f={top:c.top+c.height/
2-b/2,left:c.left+c.width}}this.applyPlacement(f,h);this.$element.trigger("shown")}},applyPlacement:function(a,b){var c=this.tip(),d=c[0].offsetWidth,e=c[0].offsetHeight,k,h,f;c.offset(a).addClass(b).addClass("in");k=c[0].offsetWidth;h=c[0].offsetHeight;"top"==b&&h!=e&&(a.top=a.top+e-h,f=!0);"bottom"==b||"top"==b?(b=0,0>a.left&&(b=-2*a.left,a.left=0,c.offset(a),k=c[0].offsetWidth),this.replaceArrow(b-d+k,k,"left")):this.replaceArrow(h-e,h,"top");f&&c.offset(a)},replaceArrow:function(a,b,c){this.arrow().css(c,
a?50*(1-a/b)+"%":"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")},hide:function(){function b(){var b=setTimeout(function(){c.off(a.support.transition.end).detach()},500);c.one(a.support.transition.end,function(){clearTimeout(b);c.detach()})}var c=this.tip(),e=a.Event("hide");this.$element.trigger(e);if(!e.isDefaultPrevented())return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?
b():c.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},getTitle:function(){var a=
this.$element,b=this.options;return a.attr("data-original-title")||("function"==typeof b.title?b.title.call(a[0]):b.title)},tip:function(){return this.$tip=this.$tip||a(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(b){b=
b?a(b.currentTarget)[this.type](this._options).data(this.type):this;b.tip().hasClass("in")?b.hide():b.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var b=a.fn.tooltip;a.fn.tooltip=function(b){return this.each(function(){var d=a(this),k=d.data("tooltip"),h="object"==("undefined"===typeof b?"undefined":c(b))&&b;k||d.data("tooltip",k=new e(this,h));if("string"==typeof b)k[b]()})};a.fn.tooltip.Constructor=e;a.fn.tooltip.defaults={animation:!0,placement:"top",
selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1};a.fn.tooltip.noConflict=function(){a.fn.tooltip=b;return this}}(window.jQuery);!function(a){var e=function(a,b){this.init("popover",a,b)};e.prototype=a.extend({},a.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?
"html":"text"](b);a.find(".popover-content")[this.options.html?"html":"text"](c);a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var a=this.$element,b=this.options;return("function"==typeof b.content?b.content.call(a[0]):b.content)||a.attr("data-content")},tip:function(){this.$tip||(this.$tip=a(this.options.template));return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});
var b=a.fn.popover;a.fn.popover=function(b){return this.each(function(){var d=a(this),k=d.data("popover"),h="object"==("undefined"===typeof b?"undefined":c(b))&&b;k||d.data("popover",k=new e(this,h));if("string"==typeof b)k[b]()})};a.fn.popover.Constructor=e;a.fn.popover.defaults=a.extend({},a.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});a.fn.popover.noConflict=
function(){a.fn.popover=b;return this}}(window.jQuery);!function(a){function e(b,c){var d=a.proxy(this.process,this),e=a(b).is("body")?a(window):a(b),k;this.options=a.extend({},a.fn.scrollspy.defaults,c);this.$scrollElement=e.on("scroll.scroll-spy.data-api",d);this.selector=(this.options.target||(k=a(b).attr("href"))&&k.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=a("body");this.refresh();this.process()}e.prototype={constructor:e,refresh:function(){var b=this;this.offsets=a([]);this.targets=
a([]);this.$body.find(this.selector).map(function(){var c=a(this),c=c.data("target")||c.attr("href"),e=/^#\w/.test(c)&&a(c);return e&&e.length&&[[e.position().top+(!a.isWindow(b.$scrollElement.get(0))&&b.$scrollElement.scrollTop()),c]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]);b.targets.push(this[1])})},process:function(){var a=this.$scrollElement.scrollTop()+this.options.offset,b=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),
c=this.offsets,e=this.targets,h=this.activeTarget,f;if(a>=b)return h!=(f=e.last()[0])&&this.activate(f);for(f=c.length;f--;)h!=e[f]&&a>=c[f]&&(!c[f+1]||a<=c[f+1])&&this.activate(e[f])},activate:function(b){this.activeTarget=b;a(this.selector).parent(".active").removeClass("active");b=a(this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]').parent("li").addClass("active");b.parent(".dropdown-menu").length&&(b=b.closest("li.dropdown").addClass("active"));b.trigger("activate")}};var b=
a.fn.scrollspy;a.fn.scrollspy=function(b){return this.each(function(){var d=a(this),k=d.data("scrollspy"),h="object"==("undefined"===typeof b?"undefined":c(b))&&b;k||d.data("scrollspy",k=new e(this,h));if("string"==typeof b)k[b]()})};a.fn.scrollspy.Constructor=e;a.fn.scrollspy.defaults={offset:10};a.fn.scrollspy.noConflict=function(){a.fn.scrollspy=b;return this};a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(window.jQuery);!function(a){var c=
function(b){this.element=a(b)};c.prototype={constructor:c,show:function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),e=b.attr("data-target"),h,f;e||(e=(e=b.attr("href"))&&e.replace(/.*(?=#[^\s]*$)/,""));b.parent("li").hasClass("active")||(h=c.find(".active:last a")[0],f=a.Event("show",{relatedTarget:h}),b.trigger(f),f.isDefaultPrevented()||(e=a(e),this.activate(b.parent("li"),c),this.activate(e,e.parent(),function(){b.trigger({type:"shown",relatedTarget:h})})))},activate:function(b,
c,e){function d(){k.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");b.addClass("active");h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade");b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active");e&&e()}var k=c.find("> .active"),h=e&&a.support.transition&&k.hasClass("fade");h?k.one(a.support.transition.end,d):d();k.removeClass("in")}};var b=a.fn.tab;a.fn.tab=function(b){return this.each(function(){var d=a(this),e=d.data("tab");e||d.data("tab",
e=new c(this));if("string"==typeof b)e[b]()})};a.fn.tab.Constructor=c;a.fn.tab.noConflict=function(){a.fn.tab=b;return this};a(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault();a(this).tab("show")})}(window.jQuery);!function(a){var e=function(b,c){this.$element=a(b);this.options=a.extend({},a.fn.typeahead.defaults,c);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||
this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=a(this.options.menu);this.shown=!1;this.listen()};e.prototype={constructor:e,select:function(){var a=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(a)).change();return this.hide()},updater:function(a){return a},show:function(){var b=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:b.top+
b.height,left:b.left}).show();this.shown=!0;return this},hide:function(){this.$menu.hide();this.shown=!1;return this},lookup:function(b){this.query=this.$element.val();return!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(b=a.isFunction(this.source)?this.source(this.query,a.proxy(this.process,this)):this.source)?this.process(b):this},process:function(b){var c=this;b=a.grep(b,function(a){return c.matcher(a)});b=this.sorter(b);return b.length?this.render(b.slice(0,
this.options.items)).show():this.shown?this.hide():this},matcher:function(a){return~a.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(a){for(var b=[],c=[],e=[],k;k=a.shift();)k.toLowerCase().indexOf(this.query.toLowerCase())?~k.indexOf(this.query)?c.push(k):e.push(k):b.push(k);return b.concat(c,e)},highlighter:function(a){var b=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"<strong>"+b+"</strong>"})},render:function(b){var c=
this;b=a(b).map(function(b,d){b=a(c.options.item).attr("data-value",d);b.find("a").html(c.highlighter(d));return b[0]});b.first().addClass("active");this.$menu.html(b);return this},next:function(b){b=this.$menu.find(".active").removeClass("active").next();b.length||(b=a(this.$menu.find("li")[0]));b.addClass("active")},prev:function(a){a=this.$menu.find(".active").removeClass("active").prev();a.length||(a=this.$menu.find("li").last());a.addClass("active")},listen:function(){this.$element.on("focus",
a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this));if(this.eventSupported("keydown"))this.$element.on("keydown",a.proxy(this.keydown,this));this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this))},eventSupported:function(a){var b=a in this.$element;b||(this.$element.setAttribute(a,"return;"),b="function"===typeof this.$element[a]);
return b},move:function(a){if(this.shown){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.preventDefault();this.prev();break;case 40:a.preventDefault(),this.next()}a.stopPropagation()}},keydown:function(b){this.suppressKeyPressRepeat=~a.inArray(b.keyCode,[40,38,9,13,27]);this.move(b)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();
break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}a.stopPropagation();a.preventDefault()},focus:function(a){this.focused=!0},blur:function(a){this.focused=!1;!this.mousedover&&this.shown&&this.hide()},click:function(a){a.stopPropagation();a.preventDefault();this.select();this.$element.focus()},mouseenter:function(b){this.mousedover=!0;this.$menu.find(".active").removeClass("active");a(b.currentTarget).addClass("active")},mouseleave:function(a){this.mousedover=!1;!this.focused&&
this.shown&&this.hide()}};var b=a.fn.typeahead;a.fn.typeahead=function(b){return this.each(function(){var d=a(this),k=d.data("typeahead"),h="object"==("undefined"===typeof b?"undefined":c(b))&&b;k||d.data("typeahead",k=new e(this,h));if("string"==typeof b)k[b]()})};a.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};a.fn.typeahead.Constructor=e;a.fn.typeahead.noConflict=function(){a.fn.typeahead=b;return this};a(document).on("focus.typeahead.data-api",
'[data-provide="typeahead"]',function(b){b=a(this);b.data("typeahead")||b.typeahead(b.data())})}(window.jQuery);!function(a){var e=function(b,c){this.options=a.extend({},a.fn.affix.defaults,c);this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this));this.$element=a(b);this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=a(document).height(),
d=this.$window.scrollTop(),e=this.$element.offset(),h=this.options.offset,f=h.bottom,l=h.top;"object"!=("undefined"===typeof h?"undefined":c(h))&&(f=l=h);"function"==typeof l&&(l=h.top());"function"==typeof f&&(f=h.bottom());b=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=f&&e.top+this.$element.height()>=b-f?"bottom":null!=l&&d<=l?"top":!1;this.affixed!==b&&(this.affixed=b,this.unpin="bottom"==b?e.top-d:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(b?"-"+b:"")))}};
var b=a.fn.affix;a.fn.affix=function(b){return this.each(function(){var d=a(this),k=d.data("affix"),h="object"==("undefined"===typeof b?"undefined":c(b))&&b;k||d.data("affix",k=new e(this,h));if("string"==typeof b)k[b]()})};a.fn.affix.Constructor=e;a.fn.affix.defaults={offset:0};a.fn.affix.noConflict=function(){a.fn.affix=b;return this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{};c.offsetBottom&&(c.offset.bottom=c.offsetBottom);
c.offsetTop&&(c.offset.top=c.offsetTop);b.affix(c)})})}(window.jQuery)},{jquery:819}],384:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===typeof l?"undefined":c(l))?e(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],
e):e(CodeMirror)})(function(a){function c(a){a=a.search(e);return-1==a?0:a}var b={},e=/[^\s\u00a0]/,d=a.Pos;a.commands.toggleComment=function(a){for(var b=Infinity,c=a.listSelections(),e=null,k=c.length-1;0<=k;k--){var h=c[k].from(),f=c[k].to();h.line>=b||(f.line>=b&&(f=d(b,0)),b=h.line,null==e?a.uncomment(h,f)?e="un":(a.lineComment(h,f),e="line"):"un"==e?a.uncomment(h,f):a.lineComment(h,f))}};a.defineExtension("lineComment",function(a,h,k){k||(k=b);var f=this,m=f.getModeAt(a),n=k.lineComment||m.lineComment;
if(n){var l=f.getLine(a.line);if(null!=l){var q=Math.min(0!=h.ch||h.line==a.line?h.line+1:h.line,f.lastLine()+1),y=null==k.padding?" ":k.padding,A=k.commentBlankLines||a.line==h.line;f.operation(function(){if(k.indent)for(var b=l.slice(0,c(l)),h=a.line;h<q;++h){var m=f.getLine(h),r=b.length;if(A||e.test(m))m.slice(0,r)!=b&&(r=c(m)),f.replaceRange(b+n+y,d(h,0),d(h,r))}else for(h=a.line;h<q;++h)(A||e.test(f.getLine(h)))&&f.replaceRange(n+y,d(h,0))})}}else if(k.blockCommentStart||m.blockCommentStart)k.fullLines=
!0,f.blockComment(a,h,k)});a.defineExtension("blockComment",function(a,c,h){h||(h=b);var k=this,f=k.getModeAt(a),m=h.blockCommentStart||f.blockCommentStart,n=h.blockCommentEnd||f.blockCommentEnd;if(m&&n){var l=Math.min(c.line,k.lastLine());l!=a.line&&0==c.ch&&e.test(k.getLine(l))&&--l;var q=null==h.padding?" ":h.padding;a.line>l||k.operation(function(){if(0!=h.fullLines){var b=e.test(k.getLine(l));k.replaceRange(q+n,d(l));k.replaceRange(m+q,d(a.line,0));var g=h.blockCommentLead||f.blockCommentLead;
if(null!=g)for(var v=a.line+1;v<=l;++v)(v!=l||b)&&k.replaceRange(g+q,d(v,0))}else k.replaceRange(n,c),k.replaceRange(m,a)})}else(h.lineComment||f.lineComment)&&0!=h.fullLines&&k.lineComment(a,c,h)});a.defineExtension("uncomment",function(a,c,h){h||(h=b);var k=this,f=k.getModeAt(a),m=Math.min(0!=c.ch||c.line==a.line?c.line:c.line-1,k.lastLine()),n=Math.min(a.line,m),l=h.lineComment||f.lineComment,q=[],A=null==h.padding?" ":h.padding,g;a:if(l){for(var v=n;v<=m;++v){var z=k.getLine(v),B=z.indexOf(l);
-1<B&&!/comment/.test(k.getTokenTypeAt(d(v,B+1)))&&(B=-1);if(-1==B&&(v!=m||v==n)&&e.test(z))break a;if(-1<B&&e.test(z.slice(0,B)))break a;q.push(z)}k.operation(function(){for(var a=n;a<=m;++a){var b=q[a-n],c=b.indexOf(l),e=c+l.length;0>c||(b.slice(e,e+A.length)==A&&(e+=A.length),g=!0,k.replaceRange("",d(a,c),d(a,e)))}});if(g)return!0}var G=h.blockCommentStart||f.blockCommentStart,x=h.blockCommentEnd||f.blockCommentEnd;if(!G||!x)return!1;var D=h.blockCommentLead||f.blockCommentLead,E=k.getLine(n),
F=m==n?E:k.getLine(m),J=E.indexOf(G),L=F.lastIndexOf(x);-1==L&&n!=m&&(F=k.getLine(--m),L=F.lastIndexOf(x));if(-1==J||-1==L||!/comment/.test(k.getTokenTypeAt(d(n,J+1)))||!/comment/.test(k.getTokenTypeAt(d(m,L+1))))return!1;f=E.lastIndexOf(G,a.ch);h=-1==f?-1:E.slice(0,a.ch).indexOf(x,f+G.length);if(-1!=f&&-1!=h&&h+x.length!=a.ch)return!1;h=F.indexOf(x,c.ch);a=F.slice(c.ch).lastIndexOf(G,h-c.ch);f=-1==h||-1==a?-1:c.ch+a;if(-1!=h&&-1!=f&&f!=c.ch)return!1;k.operation(function(){k.replaceRange("",d(m,L-
(A&&F.slice(L-A.length,L)==A?A.length:0)),d(m,L+x.length));var a=J+G.length;A&&E.slice(a,a+A.length)==A&&(a+=A.length);k.replaceRange("",d(n,J),d(n,a));if(D)for(a=n+1;a<=m;++a){var b=k.getLine(a),c=b.indexOf(D);if(-1!=c&&!e.test(b.slice(0,c))){var g=c+D.length;A&&b.slice(g,g+A.length)==A&&(g+=A.length);k.replaceRange("",d(a,c),d(a,g))}}});return!0})})},{"../../lib/codemirror":390}],385:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:
function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===typeof l?"undefined":c(l))?e(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(a){function e(a,b){return"pairs"==b&&"string"==typeof a?a:"object"==("undefined"===typeof a?"undefined":c(a))&&null!=a[b]?a[b]:w[b]}function b(a){return function(b){return d(b,
a)}}function k(a){var b=a.state.closeBrackets;return b?a.getModeAt(a.getCursor()).closeBrackets||b:null}function d(b,c){var g=k(b);if(!g||b.getOption("disableInput"))return a.Pass;var d=e(g,"pairs"),h=d.indexOf(c);if(-1==h)return a.Pass;for(var g=e(g,"triples"),m=d.charAt(h+1)==c,n=b.listSelections(),r=0==h%2,q,t,u=0;u<n.length;u++){var y=n[u],w=y.head;t=b.getRange(w,p(w.line,w.ch+1));if(r&&!y.empty())t="surround";else if(!m&&r||t!=c)if(m&&1<w.ch&&0<=g.indexOf(c)&&b.getRange(p(w.line,w.ch-2),w)==
c+c&&(2>=w.ch||b.getRange(p(w.line,w.ch-3),p(w.line,w.ch-2))!=c))t="addFour";else if(m)if(!a.isWordChar(t)&&l(b,w,c))t="both";else return a.Pass;else if(r&&(b.getLine(w.line).length==w.ch||f(t,d)||/\s/.test(t)))t="both";else return a.Pass;else t=0<=g.indexOf(c)&&b.getRange(w,p(w.line,w.ch+3))==c+c+c?"skipThree":"skip";if(!q)q=t;else if(q!=t)return a.Pass}var A=h%2?d.charAt(h-1):c,K=h%2?c:d.charAt(h+1);b.operation(function(){if("skip"==q)b.execCommand("goCharRight");else if("skipThree"==q)for(var c=
0;3>c;c++)b.execCommand("goCharRight");else if("surround"==q){for(var g=b.getSelections(),c=0;c<g.length;c++)g[c]=A+g[c]+K;b.replaceSelections(g,"around");g=b.listSelections().slice();for(c=0;c<g.length;c++){var d=g,e=c,h;h=g[c];var k=0<a.cmpPos(h.anchor,h.head);h={anchor:new p(h.anchor.line,h.anchor.ch+(k?-1:1)),head:new p(h.head.line,h.head.ch+(k?1:-1))};d[e]=h}b.setSelections(g)}else"both"==q?(b.replaceSelection(A+K,null),b.triggerElectric(A+K),b.execCommand("goCharLeft")):"addFour"==q&&(b.replaceSelection(A+
A+A+A,"before"),b.execCommand("goCharRight"))})}function f(a,b){a=b.lastIndexOf(a);return-1<a&&1==a%2}function m(a,b){a=a.getRange(p(b.line,b.ch-1),p(b.line,b.ch+1));return 2==a.length?a:null}function l(b,c,g){var d=b.getLine(c.line),e=b.getTokenAt(c);if(/\bstring2?\b/.test(e.type))return!1;g=new a.StringStream(d.slice(0,c.ch)+g+d.slice(c.ch),4);for(g.pos=g.start=e.start;;){d=b.getMode().token(g,e.state);if(g.pos>=c.ch+1)return/\bstring2?\b/.test(d);g.start=g.pos}}var w={pairs:"()[]{}''\"\"",triples:"",
explode:"[]{}"},p=a.Pos;a.defineOption("autoCloseBrackets",!1,function(b,c,g){g&&g!=a.Init&&(b.removeKeyMap(t),b.state.closeBrackets=null);c&&(b.state.closeBrackets=c,b.addKeyMap(t))});for(var r=w.pairs+"`",t={Backspace:function(b){var c=k(b);if(!c||b.getOption("disableInput"))return a.Pass;for(var g=e(c,"pairs"),c=b.listSelections(),d=0;d<c.length;d++){if(!c[d].empty())return a.Pass;var h=m(b,c[d].head);if(!h||0!=g.indexOf(h)%2)return a.Pass}for(d=c.length-1;0<=d;d--)g=c[d].head,b.replaceRange("",
p(g.line,g.ch-1),p(g.line,g.ch+1))},Enter:function(b){var c=k(b),c=c&&e(c,"explode");if(!c||b.getOption("disableInput"))return a.Pass;for(var g=b.listSelections(),d=0;d<g.length;d++){if(!g[d].empty())return a.Pass;var h=m(b,g[d].head);if(!h||0!=c.indexOf(h)%2)return a.Pass}b.operation(function(){b.replaceSelection("\n\n",null);b.execCommand("goCharLeft");g=b.listSelections();for(var a=0;a<g.length;a++){var c=g[a].head.line;b.indentLine(c,null,!0);b.indentLine(c+1,null,!0)}})}},u=0;u<r.length;u++)t["'"+
r.charAt(u)+"'"]=b(r.charAt(u))})},{"../../lib/codemirror":390}],386:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===typeof l?"undefined":c(l))?e(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(a){function e(a,
c,d,e){var h=a.getLineHandle(c.line),k=c.ch-1,h=0<=k&&l[h.text.charAt(k)]||l[h.text.charAt(++k)];if(!h)return null;var g=">"==h.charAt(1)?1:-1;if(d&&0<g!=(k==c.ch))return null;d=a.getTokenTypeAt(m(c.line,k+1));a=b(a,m(c.line,k+(0<g?1:0)),g,d||null,e);return null==a?null:{from:m(c.line,k),to:a&&a.pos,match:a&&a.ch==h.charAt(0),forward:0<g}}function b(a,b,c,d,e){var h=e&&e.maxScanLineLength||1E4,g=e&&e.maxScanLines||1E3,k=[];e=e&&e.bracketRegex?e.bracketRegex:/[(){}[\]]/;for(var g=0<c?Math.min(b.line+
g,a.lastLine()+1):Math.max(a.firstLine()-1,b.line-g),f=b.line;f!=g;f+=c){var n=a.getLine(f);if(n){var r=0<c?0:n.length-1,q=0<c?n.length:-1;if(!(n.length>h))for(f==b.line&&(r=b.ch-(0>c?1:0));r!=q;r+=c){var t=n.charAt(r);if(e.test(t)&&(void 0===d||a.getTokenTypeAt(m(f,r+1))==d))if(">"==l[t].charAt(1)==0<c)k.push(t);else if(k.length)k.pop();else return{pos:m(f,r),ch:t}}}}return f-c==(0<c?a.lastLine():a.firstLine())?!1:null}function k(a,b,c){for(var d=a.state.matchBrackets.maxHighlightLineLength||1E3,
h=[],k=a.listSelections(),g=0;g<k.length;g++){var v=k[g].empty()&&e(a,k[g].head,!1,c);if(v&&a.getLine(v.from.line).length<=d){var n=v.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";h.push(a.markText(v.from,m(v.from.line,v.from.ch+1),{className:n}));v.to&&a.getLine(v.to.line).length<=d&&h.push(a.markText(v.to,m(v.to.line,v.to.ch+1),{className:n}))}}if(h.length)if(f&&a.state.focused&&a.focus(),c=function(){a.operation(function(){for(var a=0;a<h.length;a++)h[a].clear()})},b)setTimeout(c,
800);else return c}function d(a){a.operation(function(){w&&(w(),w=null);w=k(a,!1,a.state.matchBrackets)})}var f=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),m=a.Pos,l={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},w=null;a.defineOption("matchBrackets",!1,function(b,e,h){h&&h!=a.Init&&b.off("cursorActivity",d);e&&(b.state.matchBrackets="object"==("undefined"===typeof e?"undefined":c(e))?e:{},b.on("cursorActivity",d))});a.defineExtension("matchBrackets",
function(){k(this,!0)});a.defineExtension("findMatchingBracket",function(a,b,c){return e(this,a,b,c)});a.defineExtension("scanForBracket",function(a,c,d,e){return b(this,a,c,d,e)})})},{"../../lib/codemirror":390}],387:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===
typeof l?"undefined":c(l))?e(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(a){function c(a,b){this.cm=a;this.options=b;this.widget=null;this.tick=this.debounce=0;this.startPos=this.cm.getCursor("start");this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var c=this;a.on("cursorActivity",this.activityFunc=function(){c.cursorActivity()})}function b(a,b){function c(a,c){var g;g="string"!=
typeof c?function(a){return c(a,b)}:d.hasOwnProperty(c)?d[c]:c;h[a]=g}var d={Up:function(){b.moveFocus(-1)},Down:function(){b.moveFocus(1)},PageUp:function(){b.moveFocus(-b.menuSize()+1,!0)},PageDown:function(){b.moveFocus(b.menuSize()-1,!0)},Home:function(){b.setFocus(0)},End:function(){b.setFocus(b.length-1)},Enter:b.pick,Tab:b.pick,Esc:b.close},e=a.options.customKeys,h=e?{}:d;if(e)for(var g in e)e.hasOwnProperty(g)&&c(g,e[g]);if(a=a.options.extraKeys)for(g in a)a.hasOwnProperty(g)&&c(g,a[g]);return h}
function e(a,b){for(;b&&b!=a;){if("LI"===b.nodeName.toUpperCase()&&b.parentNode==a)return b;b=b.parentNode}}function d(c,d){this.completion=c;this.data=d;this.picked=!1;var h=this,k=c.cm,f=this.hints=document.createElement("ul");f.className="CodeMirror-hints";this.selectedHint=d.selectedHint||0;for(var m=d.list,g=0;g<m.length;++g){var v=f.appendChild(document.createElement("li")),n=m[g],l="CodeMirror-hint"+(g!=this.selectedHint?"":" CodeMirror-hint-active");null!=n.className&&(l=n.className+" "+l);
v.className=l;n.render?n.render(v,d,n):v.appendChild(document.createTextNode(n.displayText||("string"==typeof n?n:n.text)));v.hintId=g}var g=k.cursorCoords(c.options.alignWithWord?d.from:null),r=g.left,q=g.bottom,p=!0;f.style.left=r+"px";f.style.top=q+"px";v=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth);l=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(c.options.container||document.body).appendChild(f);n=
f.getBoundingClientRect();if(0<n.bottom-l){var w=n.bottom-n.top;0<g.top-(g.bottom-n.top)-w?(f.style.top=(q=g.top-w)+"px",p=!1):w>l&&(f.style.height=l-5+"px",f.style.top=(q=g.bottom-n.top)+"px",l=k.getCursor(),d.from.ch!=l.ch&&(g=k.cursorCoords(l),f.style.left=(r=g.left)+"px",n=f.getBoundingClientRect()))}l=n.right-v;0<l&&(n.right-n.left>v&&(f.style.width=v-5+"px",l-=n.right-n.left-v),f.style.left=(r=g.left-l)+"px");k.addKeyMap(this.keyMap=b(c,{moveFocus:function(a,b){h.changeActive(h.selectedHint+
a,b)},setFocus:function(a){h.changeActive(a)},menuSize:function(){return h.screenAmount()},length:m.length,close:function(){c.close()},pick:function(){h.pick()},data:d}));if(c.options.closeOnUnfocus){var F;k.on("blur",this.onBlur=function(){F=setTimeout(function(){c.close()},100)});k.on("focus",this.onFocus=function(){clearTimeout(F)})}var J=k.getScrollInfo();k.on("scroll",this.onScroll=function(){var a=k.getScrollInfo(),b=k.getWrapperElement().getBoundingClientRect(),g=q+J.top-a.top,d=g-(window.pageYOffset||
(document.documentElement||document.body).scrollTop);p||(d+=f.offsetHeight);if(d<=b.top||d>=b.bottom)return c.close();f.style.top=g+"px";f.style.left=r+J.left-a.left+"px"});a.on(f,"dblclick",function(a){(a=e(f,a.target||a.srcElement))&&null!=a.hintId&&(h.changeActive(a.hintId),h.pick())});a.on(f,"click",function(a){(a=e(f,a.target||a.srcElement))&&null!=a.hintId&&(h.changeActive(a.hintId),c.options.completeOnSingleClick&&h.pick())});a.on(f,"mousedown",function(){setTimeout(function(){k.focus()},20)});
a.signal(d,"select",m[0],f.firstChild);return!0}function f(a,b){if(!a.somethingSelected())return b;a=[];for(var c=0;c<b.length;c++)b[c].supportsSelection&&a.push(b[c]);return a}a.showHint=function(a,b,c){if(!b)return a.showHint(c);c&&c.async&&(b.async=!0);b={hint:b};if(c)for(var d in c)b[d]=c[d];return a.showHint(b)};a.defineExtension("showHint",function(b){var d=this.getCursor("start"),e=this.options.hintOptions,h={},k;for(k in w)h[k]=w[k];if(e)for(k in e)void 0!==e[k]&&(h[k]=e[k]);if(b)for(k in b)void 0!==
b[k]&&(h[k]=b[k]);h.hint.resolve&&(h.hint=h.hint.resolve(this,d));b=h;d=this.listSelections();if(!(1<d.length)){if(this.somethingSelected()){if(!b.hint.supportsSelection)return;for(k=0;k<d.length;k++)if(d[k].head.line!=d[k].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();d=this.state.completionActive=new c(this,b);d.options.hint&&(a.signal(this,"startCompletion",this),d.update(!0))}});var m=window.requestAnimationFrame||function(a){return setTimeout(a,1E3/60)},
l=window.cancelAnimationFrame||clearTimeout;c.prototype={close:function(){this.active()&&(this.tick=this.cm.state.completionActive=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&a.signal(this.data,"close"),this.widget&&this.widget.close(),a.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(b,c){c=b.list[c];c.hint?c.hint(this.cm,b,c):this.cm.replaceRange("string"==typeof c?c:c.text,c.from||b.from,c.to||
b.to,"complete");a.signal(b,"pick",c);this.close()},cursorActivity:function(){this.debounce&&(l(this.debounce),this.debounce=0);var a=this.cm.getCursor(),b=this.cm.getLine(a.line);if(a.line!=this.startPos.line||b.length-a.ch!=this.startLen-this.startPos.ch||a.ch<this.startPos.ch||this.cm.somethingSelected()||a.ch&&this.options.closeCharacters.test(b.charAt(a.ch-1)))this.close();else{var c=this;this.debounce=m(function(){c.update()});this.widget&&this.widget.disable()}},update:function(a){if(null!=
this.tick)if(this.options.hint.async){var b=++this.tick,c=this;this.options.hint(this.cm,function(d){c.tick==b&&c.finishUpdate(d,a)},this.options)}else this.finishUpdate(this.options.hint(this.cm,this.options),a)},finishUpdate:function(b,c){this.data&&a.signal(this.data,"update");b&&this.data&&a.cmpPos(b.from,this.data.from)&&(b=null);this.data=b;c=this.widget&&this.widget.picked||c&&this.options.completeSingle;this.widget&&this.widget.close();b&&b.list.length&&(c&&1==b.list.length?this.pick(b,0):
(this.widget=new d(this,b),a.signal(b,"shown")))}};d.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null;this.hints.parentNode.removeChild(this.hints);this.completion.cm.removeKeyMap(this.keyMap);var a=this.completion.cm;this.completion.options.closeOnUnfocus&&(a.off("blur",this.onBlur),a.off("focus",this.onFocus));a.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var a=this;this.keyMap={Enter:function(){a.picked=!0}};
this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(b,c){b>=this.data.list.length?b=c?this.data.list.length-1:0:0>b&&(b=c?0:this.data.list.length-1);this.selectedHint!=b&&(c=this.hints.childNodes[this.selectedHint],c.className=c.className.replace(" CodeMirror-hint-active",""),c=this.hints.childNodes[this.selectedHint=b],c.className+=" CodeMirror-hint-active",c.offsetTop<this.hints.scrollTop?this.hints.scrollTop=c.offsetTop-
3:c.offsetTop+c.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=c.offsetTop+c.offsetHeight-this.hints.clientHeight+3),a.signal(this.data,"select",this.data.list[this.selectedHint],c))},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}};a.registerHelper("hint","auto",{resolve:function(b,c){var d=b.getHelpers(c,"hint"),e;if(d.length){b=!1;for(c=0;c<d.length;c++)d[c].async&&(b=!0);b?(b=function(a,b,c){function g(d,
h){if(d==e.length)return b(null);h=e[d];h.async?h(a,function(a){a?b(a):g(d+1)},c):(h=h(a,c))?b(h):g(d+1)}var e=f(a,d);g(0)},b.async=!0):b=function(a,b){for(var c=f(a,d),e=0;e<c.length;e++){var h=c[e](a,b);if(h&&h.list.length)return h}};b.supportsSelection=!0;return b}return(e=b.getHelper(b.getCursor(),"hintWords"))?function(b){return a.hint.fromList(b,{words:e})}:a.hint.anyword?function(b,c){return a.hint.anyword(b,c)}:function(){}}});a.registerHelper("hint","fromList",function(b,c){var d=b.getCursor(),
e=b.getTokenAt(d);b=a.Pos(d.line,e.end);if(e.string&&/\w/.test(e.string[e.string.length-1]))var h=e.string,d=a.Pos(d.line,e.start);else h="",d=b;for(var e=[],k=0;k<c.words.length;k++){var g=c.words[k];g.slice(0,h.length)==h&&e.push(g)}if(e.length)return{list:e,from:d,to:b}});a.commands.autocomplete=a.showHint;var w={hint:a.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!1,container:null,customKeys:null,extraKeys:null};a.defineOption("hintOptions",
null)})},{"../../lib/codemirror":390}],388:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===typeof l?"undefined":c(l))?e(a("../../lib/codemirror"),a("../../mode/sql/sql")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../../mode/sql/sql"],
e):e(CodeMirror)})(function(a){function c(b){b=b.doc.modeOption;"sql"===b&&(b="text/x-sql");return a.resolveMode(b).keywords}function b(a){return"string"==typeof a?a:a.text}function e(a,c){if(!a.slice)return a[c];for(var g=a.length-1;0<=g;g--)if(b(a[g])==c)return a[g]}function d(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function f(a,c,g,d){for(var e in g)if(g.hasOwnProperty(e)){g.slice&&(e=g[e]);var h=c,k=h.length,k=b(e).substr(0,k);h.toUpperCase()===k.toUpperCase()&&a.push(d(e))}}
function m(a){"."==a.charAt(0)&&(a=a.substr(1));return a.replace(/`/g,"")}function l(a){for(var c=b(a).split("."),g=0;g<c.length;g++)c[g]="`"+c[g]+"`";c=c.join(".");if("string"==typeof a)return c;a=d(a);a.text=c;return a}function w(a,b,c,g){for(var h=!1,k=[],v=b.start,n=!0;n;)n="."==b.string.charAt(0),h=h||"`"==b.string.charAt(0),v=b.start,k.unshift(m(b.string)),b=g.getTokenAt(z(a.line,b.start)),"."==b.string&&(n=!0,b=g.getTokenAt(z(a.line,b.start)));a=k.join(".");f(c,a,y,function(a){return h?l(a):
a});f(c,a,A,function(a){return h?l(a):a});a=k.pop();var q=k.join("."),r=!1,t=q;e(y,q)||(k=q,q=u(q,g),q!==k&&(r=!0));(g=e(y,q))&&g.columns&&(g=g.columns);g&&f(c,a,g,function(a){var b=q;1==r&&(b=t);"string"==typeof a?a=b+"."+a:(a=d(a),a.text=b+"."+a.text);return h?l(a):a});return v}function p(a,b){if(a){var c=/[,;]/g;a=a.split(" ");for(var g=0;g<a.length;g++)b(a[g]?a[g].replace(c,""):"")}}function r(a){return a.line+a.ch/Math.pow(10,6)}function t(a){return z(Math.floor(a),+a.toString().split(".").pop())}
function u(a,b){var c=b.doc,g=c.getValue(),d=a.toUpperCase(),h="",k="";a=[];for(var f=z(0,0),m=z(b.lastLine(),b.getLineHandle(b.lastLine()).length),n=g.indexOf(v.QUERY_DIV);-1!=n;)a.push(c.posFromIndex(n)),n=g.indexOf(v.QUERY_DIV,n+1);a.unshift(z(0,0));a.push(z(b.lastLine(),b.getLineHandle(b.lastLine()).text.length));g=0;n=r(b.getCursor());for(b=0;b<a.length;b++){var l=r(a[b]);if(n>g&&n<=l){f=t(g);m=t(l);break}g=l}c=c.getRange(f,m,!1);for(b=0;b<c.length&&(p(c[b],function(a){var b=a.toUpperCase();
b===d&&e(y,h)&&(k=h);b!==v.ALIAS_KEYWORD&&(h=a)}),!k);b++);return k}var y,A,g,v={QUERY_DIV:";",ALIAS_KEYWORD:"AS"},z=a.Pos;a.registerHelper("hint","sql",function(a,b){y=b&&b.tables||{};var d=b&&b.defaultTable;b=b&&b.disableKeywords;A=d&&e(y,d);g=g||c(a);d&&!A&&(A=u(d,a));A=A||[];A.columns&&(A=A.columns);var d=a.getCursor(),h=[],k=a.getTokenAt(d),v,m,n;k.end>d.ch&&(k.end=d.ch,k.string=k.string.slice(0,d.ch-k.start));k.string.match(/^[.`\w@]\w*$/)?(n=k.string,v=k.start,m=k.end):(v=m=d.ch,n="");"."==
n.charAt(0)||"`"==n.charAt(0)?v=w(d,k,h,a):(f(h,n,y,function(a){return a}),f(h,n,A,function(a){return a}),b||f(h,n,g,function(a){return a.toUpperCase()}));return{list:h,from:z(d.line,v),to:z(d.line,m)}})})},{"../../lib/codemirror":390,"../../mode/sql/sql":396}],389:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===
typeof f?"undefined":c(f))&&"object"==("undefined"===typeof l?"undefined":c(l))?e(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(a){a.runMode=function(c,b,e,d){b=a.getMode(a.defaults,b);var h=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||9>document.documentMode);if(1==e.nodeType){var k=d&&d.tabSize||a.defaults.tabSize,f=e,l=0;f.innerHTML="";e=function(a,b){if("\n"==a)f.appendChild(document.createTextNode(h?
"\r":a)),l=0;else{for(var c="",d=0;;){var e=a.indexOf("\t",d);if(-1==e){c+=a.slice(d);l+=a.length-d;break}else{l+=e-d;c+=a.slice(d,e);d=k-l%k;l+=d;for(var m=0;m<d;++m)c+=" ";d=e+1}}b?(a=f.appendChild(document.createElement("span")),a.className="cm-"+b.replace(/ +/g," cm-"),a.appendChild(document.createTextNode(c))):f.appendChild(document.createTextNode(c))}}}c=a.splitLines(c);d=d&&d.state||a.startState(b);for(var p=0,r=c.length;p<r;++p){p&&e("\n");var t=new a.StringStream(c[p]);for(!t.string&&b.blankLine&&
b.blankLine(d);!t.eol();){var u=b.token(t,d);e(t.current(),u,p,t.start,d);t.start=t.pos}}}})},{"../../lib/codemirror":390}],390:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(a){if("object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===typeof l?"undefined":c(l)))l.exports=a();else{if("function"==typeof define&&
define.amd)return define([],a);this.CodeMirror=a()}})(function(){function a(b,c){if(!(this instanceof a))return new a(b,c);this.options=c=c?yc(c):{};yc(ng,c,!1);u(c);var g=c.value;"string"==typeof g&&(g=new ia(g,c.mode,null,c.lineSeparator));this.doc=g;var d=new a.inputStyles[c.inputStyle](this);b=this.display=new h(b,g,d);b.wrapper.CodeMirror=this;w(this);m(this);c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");c.autofocus&&!Ue&&b.input.focus();v(this);this.state={keyMaps:[],
overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Rd,keySeq:null,specialChars:null};var e=this;Ia&&11>Va&&setTimeout(function(){e.display.input.reset(!0)},20);zc(this);Lg||(rf(),Lg=!0);ab(this);this.curOp.forceUpdate=!0;sf(this,g);c.autofocus&&!Ue||e.hasFocus()?setTimeout(Ve(We,this),20):Tb(this);for(var k in $c)if($c.hasOwnProperty(k))$c[k](this,c[k],ue);D(this);c.finishInit&&c.finishInit(this);
for(g=0;g<Ba.length;++g)Ba[g](this);Lb(this);qb&&c.lineWrapping&&"optimizelegibility"==getComputedStyle(b.lineDiv).textRendering&&(b.lineDiv.style.textRendering="auto")}function h(a,b,c){this.input=c;this.scrollbarFiller=la("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=la("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=la("div",null,"CodeMirror-code");this.selectionDiv=
la("div",null,null,"position: relative; z-index: 1");this.cursorDiv=la("div",null,"CodeMirror-cursors");this.measure=la("div",null,"CodeMirror-measure");this.lineMeasure=la("div",null,"CodeMirror-measure");this.lineSpace=la("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");this.mover=la("div",[la("div",[this.lineSpace],"CodeMirror-lines")],null,"position: relative");this.sizer=la("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=
null;this.heightForcer=la("div",null,null,"position: absolute; height: "+ud+"px; width: 1px;");this.gutters=la("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=la("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=la("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");Ia&&8>Va&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);qb||Mb&&Ue||(this.scroller.draggable=
!0);a&&(a.appendChild?a.appendChild(this.wrapper):a(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=b.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=
this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;c.init(this)}function b(b){b.doc.mode=a.getMode(b.options,b.doc.modeOption);k(b)}function k(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null);a.styles&&(a.styles=null)});a.doc.frontier=a.doc.first;Nb(a,100);a.state.modeGen++;a.curOp&&mb(a)}function d(a){var b=Ob(a.display),c=a.options.lineWrapping,
g=c&&Math.max(5,a.display.scroller.clientWidth/Ac(a.display)-3);return function(d){if(nc(a.doc,d))return 0;var e=0;if(d.widgets)for(var h=0;h<d.widgets.length;h++)d.widgets[h].height&&(e+=d.widgets[h].height);return c?e+(Math.ceil(d.text.length/g)||1)*b:e+b}}function f(a){var b=a.doc,c=d(a);b.iter(function(a){var b=c(a);b!=a.height&&oc(a,b)})}function m(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");Kc(a)}function l(a){w(a);
mb(a);setTimeout(function(){x(a)},20)}function w(a){var b=a.display.gutters,c=a.options.gutters;vd(b);for(var g=0;g<c.length;++g){var d=c[g],e=b.appendChild(la("div",null,"CodeMirror-gutter "+d));"CodeMirror-linenumbers"==d&&(a.display.lineGutter=e,e.style.width=(a.display.lineNumWidth||1)+"px")}b.style.display=g?"":"none";p(a)}function p(a){a.display.sizer.style.marginLeft=a.display.gutters.offsetWidth+"px"}function r(a){if(0==a.height)return 0;for(var b=a.text.length,c,g=a;c=wd(g,!0);)c=c.find(0,
!0),g=c.from.line,b+=c.from.ch-c.to.ch;for(g=a;c=wd(g,!1);)c=c.find(0,!0),b-=g.text.length-c.from.ch,g=c.to.line,b+=g.text.length-c.to.ch;return b}function t(a){var b=a.display;a=a.doc;b.maxLine=ja(a,a.first);b.maxLineLength=r(b.maxLine);b.maxLineChanged=!0;a.iter(function(a){var c=r(a);c>b.maxLineLength&&(b.maxLineLength=c,b.maxLine=a)})}function u(a){var b=zb(a.gutters,"CodeMirror-linenumbers");-1==b&&a.lineNumbers?a.gutters=a.gutters.concat(["CodeMirror-linenumbers"]):-1<b&&!a.lineNumbers&&(a.gutters=
a.gutters.slice(0),a.gutters.splice(b,1))}function y(a){var b=a.display,c=b.gutters.offsetWidth,g=Math.round(a.doc.height+rb(a.display));return{clientHeight:b.scroller.clientHeight,viewHeight:b.wrapper.clientHeight,scrollWidth:b.scroller.scrollWidth,clientWidth:b.scroller.clientWidth,viewWidth:b.wrapper.clientWidth,barLeft:a.options.fixedGutter?c:0,docHeight:g,scrollHeight:g+pc(a)+b.barHeight,nativeBarWidth:b.nativeBarWidth,gutterWidth:c}}function A(a,b,c){this.cm=c;var g=this.vert=la("div",[la("div",
null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),d=this.horiz=la("div",[la("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a(g);a(d);sa(g,"scroll",function(){g.clientHeight&&b(g.scrollTop,"vertical")});sa(d,"scroll",function(){d.clientWidth&&b(d.scrollLeft,"horizontal")});this.checkedOverlay=!1;Ia&&8>Va&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function g(){}function v(b){b.display.scrollbars&&(b.display.scrollbars.clear(),b.display.scrollbars.addClass&&
Xe(b.display.wrapper,b.display.scrollbars.addClass));b.display.scrollbars=new a.scrollbarModel[b.options.scrollbarStyle](function(a){b.display.wrapper.insertBefore(a,b.display.scrollbarFiller);sa(a,"mousedown",function(){b.state.focused&&setTimeout(function(){b.display.input.focus()},0)});a.setAttribute("cm-not-content","true")},function(a,c){"horizontal"==c?Ub(b,a):Lc(b,a)},b);b.display.scrollbars.addClass&&we(b.display.wrapper,b.display.scrollbars.addClass)}function z(a,b){b||(b=y(a));var c=a.display.barWidth,
g=a.display.barHeight;B(a,b);for(b=0;4>b&&c!=a.display.barWidth||g!=a.display.barHeight;b++)c!=a.display.barWidth&&a.options.lineWrapping&&P(a),B(a,y(a)),c=a.display.barWidth,g=a.display.barHeight}function B(a,b){var c=a.display,g=c.scrollbars.update(b);c.sizer.style.paddingRight=(c.barWidth=g.right)+"px";c.sizer.style.paddingBottom=(c.barHeight=g.bottom)+"px";g.right&&g.bottom?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=g.bottom+"px",c.scrollbarFiller.style.width=g.right+
"px"):c.scrollbarFiller.style.display="";g.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=g.bottom+"px",c.gutterFiller.style.width=b.gutterWidth+"px"):c.gutterFiller.style.display=""}function G(a,b,c){var g=c&&null!=c.top?Math.max(0,c.top):a.scroller.scrollTop,g=Math.floor(g-a.lineSpace.offsetTop),d=c&&null!=c.bottom?c.bottom:g+a.wrapper.clientHeight,g=ad(b,g),d=ad(b,d);if(c&&c.ensure){var e=c.ensure.from.line;
c=c.ensure.to.line;e<g?(g=e,d=ad(b,qc(ja(b,e))+a.wrapper.clientHeight)):Math.min(c,b.lastLine())>=d&&(g=ad(b,qc(ja(b,c))-a.wrapper.clientHeight),d=c)}return{from:g,to:Math.max(d,g+1)}}function x(a){var b=a.display,c=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var g=F(b)-b.scroller.scrollLeft+a.doc.scrollLeft,d=b.gutters.offsetWidth,e=g+"px",h=0;h<c.length;h++)if(!c[h].hidden){a.options.fixedGutter&&c[h].gutter&&(c[h].gutter.style.left=e);var k=c[h].alignable;if(k)for(var f=
0;f<k.length;f++)k[f].style.left=e}a.options.fixedGutter&&(b.gutters.style.left=g+d+"px")}}function D(a){if(!a.options.lineNumbers)return!1;var b=a.doc,b=E(a.options,b.first+b.size-1),c=a.display;if(b.length!=c.lineNumChars){var g=c.measure.appendChild(la("div",[la("div",b)],"CodeMirror-linenumber CodeMirror-gutter-elt")),d=g.firstChild.offsetWidth,g=g.offsetWidth-d;c.lineGutter.style.width="";c.lineNumInnerWidth=Math.max(d,c.lineGutter.offsetWidth-g)+1;c.lineNumWidth=c.lineNumInnerWidth+g;c.lineNumChars=
c.lineNumInnerWidth?b.length:-1;c.lineGutter.style.width=c.lineNumWidth+"px";p(a);return!0}return!1}function E(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function F(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function J(a,b,c){var g=a.display;this.viewport=b;this.visible=G(g,a.doc,b);this.editorIsHidden=!g.wrapper.offsetWidth;this.wrapperHeight=g.wrapper.clientHeight;this.wrapperWidth=g.wrapper.clientWidth;this.oldDisplayWidth=Mc(a);this.force=
c;this.dims=M(a);this.events=[]}function L(a,b){var c=a.display,g=a.doc;if(b.editorIsHidden)return rc(a),!1;if(!b.force&&b.visible.from>=c.viewFrom&&b.visible.to<=c.viewTo&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo)&&c.renderedView==c.view&&0==Sd(a))return!1;D(a)&&(rc(a),b.dims=M(a));var d=g.first+g.size,e=Math.max(b.visible.from-a.options.viewportMargin,g.first),h=Math.min(d,b.visible.to+a.options.viewportMargin);c.viewFrom<e&&20>e-c.viewFrom&&(e=Math.max(g.first,c.viewFrom));c.viewTo>
h&&20>c.viewTo-h&&(h=Math.min(d,c.viewTo));Nc&&(e=tf(a.doc,e),h=Td(a.doc,h));g=e!=c.viewFrom||h!=c.viewTo||c.lastWrapHeight!=b.wrapperHeight||c.lastWrapWidth!=b.wrapperWidth;d=a.display;0==d.view.length||e>=d.viewTo||h<=d.viewFrom?(d.view=sc(a,e,h),d.viewFrom=e):(d.viewFrom>e?d.view=sc(a,e,d.viewFrom).concat(d.view):d.viewFrom<e&&(d.view=d.view.slice(kb(a,e))),d.viewFrom=e,d.viewTo<h?d.view=d.view.concat(sc(a,d.viewTo,h)):d.viewTo>h&&(d.view=d.view.slice(0,kb(a,h))));d.viewTo=h;c.viewOffset=qc(ja(a.doc,
c.viewFrom));a.display.mover.style.top=c.viewOffset+"px";h=Sd(a);if(!g&&0==h&&!b.force&&c.renderedView==c.view&&(null==c.updateLineNumbers||c.updateLineNumbers>=c.viewTo))return!1;e=Vb();4<h&&(c.lineDiv.style.display="none");O(a,c.updateLineNumbers,b.dims);4<h&&(c.lineDiv.style.display="");c.renderedView=c.view;e&&Vb()!=e&&e.offsetHeight&&e.focus();vd(c.cursorDiv);vd(c.selectionDiv);c.gutters.style.height=c.sizer.style.minHeight=0;g&&(c.lastWrapHeight=b.wrapperHeight,c.lastWrapWidth=b.wrapperWidth,
Nb(a,400));c.updateLineNumbers=null;return!0}function I(a,b){for(var c=b.viewport,g=!0;;g=!1){if(!g||!a.options.lineWrapping||b.oldDisplayWidth==Mc(a))if(c&&null!=c.top&&(c={top:Math.min(a.doc.height+rb(a.display)-Ab(a),c.top)}),b.visible=G(a.display,a.doc,c),b.visible.from>=a.display.viewFrom&&b.visible.to<=a.display.viewTo)break;if(!L(a,b))break;P(a);g=y(a);tc(a);N(a,g);z(a,g)}b.signal(a,"update",a);if(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)b.signal(a,
"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo}function K(a,b){b=new J(a,b);if(L(a,b)){P(a);I(a,b);var c=y(a);tc(a);N(a,c);z(a,c);b.finish()}}function N(a,b){a.display.sizer.style.minHeight=b.docHeight+"px";var c=b.docHeight+a.display.barHeight;a.display.heightForcer.style.top=c+"px";a.display.gutters.style.height=Math.max(c+pc(a),b.clientHeight)+"px"}function P(a){a=a.display;for(var b=a.lineDiv.offsetTop,
c=0;c<a.view.length;c++){var g=a.view[c],d;if(!g.hidden){if(Ia&&8>Va){var e=g.node.offsetTop+g.node.offsetHeight;d=e-b;b=e}else d=g.node.getBoundingClientRect(),d=d.bottom-d.top;e=g.line.height-d;2>d&&(d=Ob(a));if(.001<e||-.001>e)if(oc(g.line,d),Y(g.line),g.rest)for(d=0;d<g.rest.length;d++)Y(g.rest[d])}}}function Y(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b)a.widgets[b].height=a.widgets[b].node.offsetHeight}function M(a){for(var b=a.display,c={},g={},d=b.gutters.clientLeft,e=b.gutters.firstChild,
h=0;e;e=e.nextSibling,++h)c[a.options.gutters[h]]=e.offsetLeft+e.clientLeft+d,g[a.options.gutters[h]]=e.clientWidth;return{fixedPos:F(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:g,wrapperWidth:b.wrapper.clientWidth}}function O(a,b,c){function g(b){var c=b.nextSibling;qb&&Bc&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b);return c}for(var d=a.display,e=a.options.lineNumbers,h=d.lineDiv,k=h.firstChild,f=d.view,d=d.viewFrom,v=0;v<f.length;v++){var m=
f[v];if(!m.hidden)if(m.node&&m.node.parentNode==h){for(;k!=m.node;)k=g(k);k=e&&null!=b&&b<=d&&m.lineNumber;m.changes&&(-1<zb(m.changes,"gutter")&&(k=!1),Q(a,m,d,c));k&&(vd(m.lineNumber),m.lineNumber.appendChild(document.createTextNode(E(a.options,d))));k=m.node.nextSibling}else{var n=ca(a,m,d,c);h.insertBefore(n,k)}d+=m.size}for(;k;)k=g(k)}function Q(a,b,c,g){for(var d=0;d<b.changes.length;d++){var e=b.changes[d];if("text"==e){var e=b,h=e.text.className,k=R(a,e);e.text==e.node&&(e.node=k.pre);e.text.parentNode.replaceChild(k.pre,
e.text);e.text=k.pre;k.bgClass!=e.bgClass||k.textClass!=e.textClass?(e.bgClass=k.bgClass,e.textClass=k.textClass,ba(e)):h&&(e.text.className=h)}else if("gutter"==e)T(a,b,c,g);else if("class"==e)ba(b);else if("widget"==e){e=a;h=b;k=g;h.alignable&&(h.alignable=null);for(var f=h.node.firstChild,v;f;f=v)v=f.nextSibling,"CodeMirror-linewidget"==f.className&&h.node.removeChild(f);ha(e,h,k)}}b.changes=null}function U(a){a.node==a.text&&(a.node=la("div",null,null,"position: relative"),a.text.parentNode&&
a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),Ia&&8>Va&&(a.node.style.zIndex=2));return a.node}function R(a,b){var c=a.display.externalMeasured;return c&&c.line==b.line?(a.display.externalMeasured=null,b.measure=c.measure,c.built):Wa(a,b)}function ba(a){var b=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;b&&(b+=" CodeMirror-linebackground");if(a.background)b?a.background.className=b:(a.background.parentNode.removeChild(a.background),a.background=null);else if(b){var c=
U(a);a.background=c.insertBefore(la("div",null,b),c.firstChild)}a.line.wrapClass?U(a).className=a.line.wrapClass:a.node!=a.text&&(a.node.className="");a.text.className=(a.textClass?a.textClass+" "+(a.line.textClass||""):a.line.textClass)||""}function T(a,b,c,g){b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null);b.gutterBackground&&(b.node.removeChild(b.gutterBackground),b.gutterBackground=null);if(b.line.gutterClass){var d=U(b);b.gutterBackground=la("div",null,"CodeMirror-gutter-background "+
b.line.gutterClass,"left: "+(a.options.fixedGutter?g.fixedPos:-g.gutterTotalWidth)+"px; width: "+g.gutterTotalWidth+"px");d.insertBefore(b.gutterBackground,b.text)}var e=b.line.gutterMarkers;if(a.options.lineNumbers||e){var d=U(b),h=b.gutter=la("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?g.fixedPos:-g.gutterTotalWidth)+"px");a.display.input.setUneditable(h);d.insertBefore(h,b.text);b.line.gutterClass&&(h.className+=" "+b.line.gutterClass);!a.options.lineNumbers||e&&e["CodeMirror-linenumbers"]||
(b.lineNumber=h.appendChild(la("div",E(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+g.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px")));if(e)for(b=0;b<a.options.gutters.length;++b)c=a.options.gutters[b],(d=e.hasOwnProperty(c)&&e[c])&&h.appendChild(la("div",[d],"CodeMirror-gutter-elt","left: "+g.gutterLeft[c]+"px; width: "+g.gutterWidth[c]+"px"))}}function ca(a,b,c,g){var d=R(a,b);b.text=b.node=d.pre;d.bgClass&&(b.bgClass=d.bgClass);d.textClass&&
(b.textClass=d.textClass);ba(b);T(a,b,c,g);ha(a,b,g);return b.node}function ha(a,b,c){X(a,b.line,b,c,!0);if(b.rest)for(var g=0;g<b.rest.length;g++)X(a,b.rest[g],b,c,!1)}function X(a,b,c,g,d){if(b.widgets){var e=U(c),h=0;for(b=b.widgets;h<b.length;++h){var k=b[h],f=la("div",[k.node],"CodeMirror-linewidget");k.handleMouseEvents||f.setAttribute("cm-ignore-events","true");var v=k,m=f,n=g;if(v.noHScroll){(c.alignable||(c.alignable=[])).push(m);var l=n.wrapperWidth;m.style.left=n.fixedPos+"px";v.coverGutter||
(l-=n.gutterTotalWidth,m.style.paddingLeft=n.gutterTotalWidth+"px");m.style.width=l+"px"}v.coverGutter&&(m.style.zIndex=5,m.style.position="relative",v.noHScroll||(m.style.marginLeft=-n.gutterTotalWidth+"px"));a.display.input.setUneditable(f);d&&k.above?e.insertBefore(f,c.gutter||c.text):e.appendChild(f);Xa(k,"redraw")}}}function aa(a){return S(a.line,a.ch)}function ga(a,b){return 0>ya(a,b)?b:a}function ka(a,b){return 0>ya(a,b)?a:b}function ra(a){a.state.focused||(a.display.input.focus(),We(a))}function Ea(a){return a.options.readOnly||
a.doc.cantEdit}function ua(a,b,c,g,d){var e=a.doc;a.display.shift=!1;g||(g=e.sel);var h=a.state.pasteIncoming||"paste"==d,k=e.splitLines(b),f=null;if(h&&1<g.ranges.length)if(Wb&&Wb.join("\n")==b){if(0==g.ranges.length%Wb.length)for(var f=[],v=0;v<Wb.length;v++)f.push(e.splitLines(Wb[v]))}else k.length==g.ranges.length&&(f=uf(k,function(a){return[a]}));for(v=g.ranges.length-1;0<=v;v--){var m=g.ranges[v],n=m.from(),l=m.to();m.empty()&&(c&&0<c?n=S(n.line,n.ch-c):a.state.overwrite&&!h&&(l=S(l.line,Math.min(ja(e,
l.line).text.length,l.ch+Na(k).length))));m=a.curOp.updateInput;n={from:n,to:l,text:f?f[v%f.length]:k,origin:d||(h?"paste":a.state.cutIncoming?"cut":"+input")};Oa(a.doc,n);Xa(a,"inputRead",a,n)}b&&!h&&La(a,b);bb(a);a.curOp.updateInput=m;a.curOp.typing=!0;a.state.pasteIncoming=a.state.cutIncoming=!1}function $a(a,b){var c=a.clipboardData&&a.clipboardData.getData("text/plain");if(c)return a.preventDefault(),Ea(b)||b.options.disableInput||nb(b,function(){ua(b,c,0,null,"paste")}),!0}function La(a,b){if(a.options.electricChars&&
a.options.smartIndent)for(var c=a.doc.sel,g=c.ranges.length-1;0<=g;g--){var d=c.ranges[g];if(!(100<d.head.ch||g&&c.ranges[g-1].head.line==d.head.line)){var e=a.getModeAt(d.head),h=!1;if(e.electricChars)for(var k=0;k<e.electricChars.length;k++){if(-1<b.indexOf(e.electricChars.charAt(k))){h=Ga(a,d.head.line,"subtract");break}}else e.electricInput&&e.electricInput.test(ja(a.doc,d.head.line).text.slice(0,d.head.ch))&&(h=Ga(a,d.head.line,"smart"));h&&Xa(a,"electricInput",a,d.head.line)}}}function pa(a){for(var b=
[],c=[],g=0;g<a.doc.sel.ranges.length;g++){var d=a.doc.sel.ranges[g].head.line,d={anchor:S(d,0),head:S(d+1,0)};c.push(d);b.push(a.getRange(d.anchor,d.head))}return{text:b,ranges:c}}function fa(a){a.setAttribute("autocorrect","off");a.setAttribute("autocapitalize","off");a.setAttribute("spellcheck","false")}function ea(a){this.cm=a;this.prevInput="";this.pollingFast=!1;this.polling=new Rd;this.hasSelection=this.inaccurateSelection=!1;this.composing=null}function Z(){var a=la("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),
b=la("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");qb?a.style.width="1000px":a.setAttribute("wrap","off");xe&&(a.style.border="1px solid black");fa(a);return b}function C(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Rd;this.gracePeriod=!1}function va(a,b){var c=sb(a,b.line);if(!c||c.hidden)return null;a=ja(a.doc,b.line);c=xd(c,a,b.line);a=Pb(a);var g="left";a&&(g=Ud(a,b.ch)%2?"right":"left");
b=bd(c.map,b.ch,g);b.offset="right"==b.collapse?b.end:b.start;return b}function za(a,b){b&&(a.bad=!0);return a}function Ma(a,b,c){var g;if(b==a.display.lineDiv){g=a.display.lineDiv.childNodes[c];if(!g)return za(a.clipPos(S(a.display.viewTo-1)),!0);b=null;c=0}else for(g=b;;g=g.parentNode){if(!g||g==a.display.lineDiv)return null;if(g.parentNode&&g.parentNode==a.display.lineDiv)break}for(var d=0;d<a.display.view.length;d++){var e=a.display.view[d];if(e.node==g)return Ra(e,b,c)}}function Ra(a,b,c){function g(b,
c,g){for(var d=-1;d<(v?v.length:0);d++)for(var e=0>d?f.map:v[d],h=0;h<e.length;h+=3){var k=e[h+2];if(k==b||k==c){c=Pa(0>d?a.line:a.rest[d]);d=e[h]+g;if(0>g||k!=b)d=e[h+(g?1:0)];return S(c,d)}}}var d=a.text.firstChild,e=!1;if(!b||!Sf(d,b))return za(S(Pa(a.line),0),!0);if(b==d&&(e=!0,b=d.childNodes[c],c=0,!b))return c=a.rest?Na(a.rest):a.line,za(S(Pa(c),c.text.length),e);var h=3==b.nodeType?b:null,k=b;h||1!=b.childNodes.length||3!=b.firstChild.nodeType||(h=b.firstChild,c&&(c=h.nodeValue.length));for(;k.parentNode!=
d;)k=k.parentNode;var f=a.measure,v=f.maps;if(b=g(h,k,c))return za(b,e);d=k.nextSibling;for(h=h?h.nodeValue.length-c:0;d;d=d.nextSibling){if(b=g(d,d.firstChild,0))return za(S(b.line,b.ch-h),e);h+=d.textContent.length}k=k.previousSibling;for(h=c;k;k=k.previousSibling){if(b=g(k,k.firstChild,-1))return za(S(b.line,b.ch+h),e);h+=d.textContent.length}}function Ta(a,b,c,g,d){function e(a){return function(b){return b.id==a}}function h(b){if(1==b.nodeType){var c=b.getAttribute("cm-text");if(null!=c)""==c&&
(c=b.textContent.replace(/\u200b/g,"")),k+=c;else{var c=b.getAttribute("cm-marker"),m;if(c)b=a.findMarks(S(g,0),S(d+1,0),e(+c)),b.length&&(m=b[0].find())&&(k+=yd(a.doc,m.from,m.to).join(v));else if("false"!=b.getAttribute("contenteditable")){for(m=0;m<b.childNodes.length;m++)h(b.childNodes[m]);/^(pre|div|p)$/i.test(b.nodeName)&&(f=!0)}}}else 3==b.nodeType&&(b=b.nodeValue)&&(f&&(k+=v,f=!1),k+=b)}for(var k="",f=!1,v=a.doc.lineSeparator();;){h(b);if(b==c)break;b=b.nextSibling}return k}function Ha(a,
b){this.ranges=a;this.primIndex=b}function na(a,b){this.anchor=a;this.head=b}function Fa(a,b){b=a[b];a.sort(function(a,b){return ya(a.from(),b.from())});b=zb(a,b);for(var c=1;c<a.length;c++){var g=a[c],d=a[c-1];if(0<=ya(d.to(),g.from())){var e=ka(d.from(),g.from()),h=ga(d.to(),g.to()),g=d.empty()?g.from()==g.head:d.from()==d.head;c<=b&&--b;a.splice(--c,2,new na(g?h:e,g?e:h))}}return new Ha(a,b)}function oa(a,b){return new Ha([new na(a,b||a)],0)}function V(a,b){if(b.line<a.first)return S(a.first,0);
var c=a.first+a.size-1;if(b.line>c)return S(c,ja(a,c).text.length);a=ja(a,b.line).text.length;c=b.ch;b=null==c||c>a?S(b.line,a):0>c?S(b.line,0):b;return b}function ib(a,b){return b>=a.first&&b<a.first+a.size}function tb(a,b,c,g){return a.cm&&a.cm.display.shift||a.extend?(a=b.anchor,g&&(b=0>ya(c,a),b!=0>ya(g,a)?(a=c,c=g):b!=0>ya(c,g)&&(c=g)),new na(a,c)):new na(g||c,c)}function cb(a,b,c,g){wa(a,new Ha([tb(a,a.sel.primary(),b,c)],0),g)}function ec(a,b,c){for(var g=[],d=0;d<a.sel.ranges.length;d++)g[d]=
tb(a,a.sel.ranges[d],b[d],null);b=Fa(g,a.sel.primIndex);wa(a,b,c)}function fc(a,b,c,g){var d=a.sel.ranges.slice(0);d[b]=c;wa(a,Fa(d,a.sel.primIndex),g)}function ob(a,b){var c={ranges:b.ranges,update:function(b){this.ranges=[];for(var c=0;c<b.length;c++)this.ranges[c]=new na(V(a,b[c].anchor),V(a,b[c].head))}};Ya(a,"beforeSelectionChange",a,c);a.cm&&Ya(a.cm,"beforeSelectionChange",a.cm,c);return c.ranges!=b.ranges?Fa(c.ranges,c.ranges.length-1):b}function W(a,b,c){var g=a.history.done,d=Na(g);d&&d.ranges?
(g[g.length-1]=b,Xb(a,b,c)):wa(a,b,c)}function wa(a,b,c){Xb(a,b,c);b=a.sel;var g=a.cm?a.cm.curOp.id:NaN,d=a.history,e=c&&c.origin,h;if(!(h=g==d.lastSelOp)&&(h=e&&d.lastSelOrigin==e)&&!(h=d.lastModTime==d.lastSelTime&&d.lastOrigin==e)){h=Na(d.done);var k=e.charAt(0);h="*"==k||"+"==k&&h.ranges.length==b.ranges.length&&h.somethingSelected()==b.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}h?d.done[d.done.length-1]=b:zd(b,d.done);d.lastSelTime=+new Date;
d.lastSelOrigin=e;d.lastSelOp=g;c&&!1!==c.clearRedo&&vf(d.undone)}function Xb(a,b,c){if(gc(a,"beforeSelectionChange")||a.cm&&gc(a.cm,"beforeSelectionChange"))b=ob(a,b);var g=c&&c.bias||(0>ya(b.primary().head,a.sel.primary().head)?-1:1);Da(a,uc(a,b,g,!0));c&&!1===c.scroll||!a.cm||bb(a.cm)}function Da(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=a.cm.curOp.selectionChanged=!0,og(a.cm)),Xa(a,"cursorActivity",a))}function pb(a){Da(a,uc(a,a.sel,null,!1),Za)}function uc(a,b,c,g){for(var d,
e=0;e<b.ranges.length;e++){var h=b.ranges[e],k=hc(a,h.anchor,c,g),f=hc(a,h.head,c,g);if(d||k!=h.anchor||f!=h.head)d||(d=b.ranges.slice(0,e)),d[e]=new na(k,f)}return d?Fa(d,b.primIndex):b}function hc(a,b,c,g){var d=!1,e=b,h=c||1;a.cantEdit=!1;a:for(;;){var k=ja(a,e.line);if(k.markedSpans)for(var f=0;f<k.markedSpans.length;++f){var v=k.markedSpans[f],m=v.marker;if((null==v.from||(m.inclusiveLeft?v.from<=e.ch:v.from<e.ch))&&(null==v.to||(m.inclusiveRight?v.to>=e.ch:v.to>e.ch))){if(g&&(Ya(m,"beforeCursorEnter"),
m.explicitlyCleared))if(k.markedSpans){--f;continue}else break;if(m.atomic){f=m.find(0>h?-1:1);if(0==ya(f,e)&&(f.ch+=h,0>f.ch?f=f.line>a.first?V(a,S(f.line-1)):null:f.ch>k.text.length&&(f=f.line<a.first+a.size-1?S(f.line+1,0):null),!f)){if(d){if(!g)return hc(a,b,c,!0);a.cantEdit=!0;return S(a.first,0)}d=!0;f=b;h=-h}e=f;continue a}}}return e}}function tc(a){a.display.input.showSelection(a.display.input.prepareSelection())}function wf(a,b){for(var c=a.doc,g={},d=g.cursors=document.createDocumentFragment(),
e=g.selection=document.createDocumentFragment(),h=0;h<c.sel.ranges.length;h++)if(!1!==b||h!=c.sel.primIndex){var k=c.sel.ranges[h],f=k.empty();(f||a.options.showCursorWhenSelecting)&&Vd(a,k.head,d);f||Bb(a,k,e)}return g}function Vd(a,b,c){b=Cb(a,b,"div",null,null,!a.options.singleCursorHeightPerLine);var g=c.appendChild(la("div","\u00a0","CodeMirror-cursor"));g.style.left=b.left+"px";g.style.top=b.top+"px";g.style.height=Math.max(0,b.bottom-b.top)*a.options.cursorHeight+"px";b.other&&(a=c.appendChild(la("div",
"\u00a0","CodeMirror-cursor CodeMirror-secondarycursor")),a.style.display="",a.style.left=b.other.left+"px",a.style.top=b.other.top+"px",a.style.height=.85*(b.other.bottom-b.other.top)+"px")}function Bb(a,b,c){function g(a,b,c,g){0>b&&(b=0);b=Math.round(b);g=Math.round(g);k.appendChild(la("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px; top: "+b+"px; width: "+(null==c?m-a:c)+"px; height: "+(g-b)+"px"))}function d(b,c,d){var e=ja(h,b),k=e.text.length,f,n;Yb(Pb(e),c||0,null==d?k:
d,function(h,l,z){var q=Cc(a,S(b,h),"div",e,"left"),r,t;h==l?(r=q,z=t=q.left):(r=Cc(a,S(b,l-1),"div",e,"right"),"rtl"==z&&(z=q,q=r,r=z),z=q.left,t=r.right);null==c&&0==h&&(z=v);3<r.top-q.top&&(g(z,q.top,null,q.bottom),z=v,q.bottom<r.top&&g(z,q.bottom,null,r.top));null==d&&l==k&&(t=m);if(!f||q.top<f.top||q.top==f.top&&q.left<f.left)f=q;if(!n||r.bottom>n.bottom||r.bottom==n.bottom&&r.right>n.right)n=r;z<v+1&&(z=v);g(z,r.top,t-z,r.bottom)});return{start:f,end:n}}var e=a.display,h=a.doc,k=document.createDocumentFragment(),
f=dd(a.display),v=f.left,m=Math.max(e.sizerWidth,Mc(a)-e.sizer.offsetLeft)-f.right,e=b.from();b=b.to();if(e.line==b.line)d(e.line,e.ch,b.ch);else{var n=ja(h,e.line),f=ja(h,b.line),f=Gb(n)==Gb(f),e=d(e.line,e.ch,f?n.text.length+1:null).end;b=d(b.line,f?0:null,b.ch).start;f&&(e.top<b.top-2?(g(e.right,e.top,null,e.bottom),g(v,b.top,b.left,b.bottom)):g(e.right,e.top,b.left-e.right,e.bottom));e.bottom<b.top&&g(v,e.bottom,null,b.top)}c.appendChild(k)}function ub(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);
var c=!0;b.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?b.blinker=setInterval(function(){b.cursorDiv.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(b.cursorDiv.style.visibility="hidden")}}function Nb(a,b){a.doc.mode.startState&&a.doc.frontier<a.display.viewTo&&a.state.highlight.set(b,Ve(Ad,a))}function Ad(a){var b=a.doc;b.frontier<b.first&&(b.frontier=b.first);if(!(b.frontier>=a.display.viewTo)){var c=+new Date+a.options.workTime,g=Oc(b.mode,
vb(a,b.frontier)),d=[];b.iter(b.frontier,Math.min(b.first+b.size,a.display.viewTo+500),function(e){if(b.frontier>=a.display.viewFrom){var h=e.styles,k=e.text.length>a.options.maxHighlightLength,f=Pc(a,e,k?Oc(b.mode,g):g,!0);e.styles=f.styles;var v=e.styleClasses;(f=f.classes)?e.styleClasses=f:v&&(e.styleClasses=null);v=!h||h.length!=e.styles.length||v!=f&&(!v||!f||v.bgClass!=f.bgClass||v.textClass!=f.textClass);for(f=0;!v&&f<h.length;++f)v=h[f]!=e.styles[f];v&&d.push(b.frontier);e.stateAfter=k?g:
Oc(b.mode,g)}else e.text.length<=a.options.maxHighlightLength&&ed(a,e.text,g),e.stateAfter=0==b.frontier%5?Oc(b.mode,g):null;++b.frontier;if(+new Date>c)return Nb(a,a.options.workDelay),!0});d.length&&nb(a,function(){for(var b=0;b<d.length;b++)Db(a,d[b],"text")})}}function db(a,b,c){for(var g,d,e=a.doc,h=c?-1:b-(a.doc.mode.innerMode?1E3:100);b>h;--b){if(b<=e.first)return e.first;var k=ja(e,b-1);if(k.stateAfter&&(!c||b<=e.frontier))return b;k=fd(k.text,null,a.options.tabSize);if(null==d||g>k)d=b-1,
g=k}return d}function vb(a,b,c){var g=a.doc,d=a.display;if(!g.mode.startState)return!0;var e=db(a,b,c),h=e>g.first&&ja(g,e-1).stateAfter,h=h?Oc(g.mode,h):Vf(g.mode);g.iter(e,b,function(c){ed(a,c.text,h);c.stateAfter=e==b-1||0==e%5||e>=d.viewFrom&&e<d.viewTo?Oc(g.mode,h):null;++e});c&&(g.frontier=e);return h}function rb(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function dd(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=Hb(a.measure,la("pre","x")),b=window.getComputedStyle?window.getComputedStyle(b):
b.currentStyle,b={left:parseInt(b.paddingLeft),right:parseInt(b.paddingRight)};isNaN(b.left)||isNaN(b.right)||(a.cachedPaddingH=b);return b}function pc(a){return ud-a.display.nativeBarWidth}function Mc(a){return a.display.scroller.clientWidth-pc(a)-a.display.barWidth}function Ab(a){return a.display.scroller.clientHeight-pc(a)-a.display.barHeight}function xd(a,b,c){if(a.line==b)return{map:a.measure.map,cache:a.measure.cache};for(var g=0;g<a.rest.length;g++)if(a.rest[g]==b)return{map:a.measure.maps[g],
cache:a.measure.caches[g]};for(g=0;g<a.rest.length;g++)if(Pa(a.rest[g])>c)return{map:a.measure.maps[g],cache:a.measure.caches[g],before:!0}}function sb(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[kb(a,b)];if((a=a.display.externalMeasured)&&b>=a.lineN&&b<a.lineN+a.size)return a}function Bd(a,b){var c=Pa(b),g=sb(a,c);g&&!g.text?g=null:g&&g.changes&&(Q(a,g,c,M(a)),a.curOp.forceUpdate=!0);if(!g){var d;d=Gb(b);g=Pa(d);d=a.display.externalMeasured=new Dc(a.doc,d,g);d.lineN=g;
g=d.built=Wa(a,d);d.text=g.pre;Hb(a.display.lineMeasure,g.pre);g=d}a=xd(g,b,c);return{line:b,view:g,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function Ib(a,b,c,g,d){b.before&&(c=-1);var e=c+(g||"");if(b.cache.hasOwnProperty(e))a=b.cache[e];else{b.rect||(b.rect=b.view.text.getBoundingClientRect());if(!b.hasHeights){var h=b.view,k=b.rect,f=a.options.lineWrapping,v=f&&Mc(a);if(!h.measure.heights||f&&h.measure.width!=v){var m=h.measure.heights=[];if(f)for(h.measure.width=v,h=h.text.firstChild.getClientRects(),
f=0;f<h.length-1;f++){var v=h[f],n=h[f+1];2<Math.abs(v.bottom-n.bottom)&&m.push((v.bottom+n.top)/2-k.top)}m.push(k.bottom-k.top)}b.hasHeights=!0}h=g;f=bd(b.map,c,h);g=f.node;k=f.start;v=f.end;c=f.collapse;var l;if(3==g.nodeType){for(m=0;4>m;m++){for(;k&&Wd(b.line.text.charAt(f.coverStart+k));)--k;for(;f.coverStart+v<f.coverEnd&&Wd(b.line.text.charAt(f.coverStart+v));)++v;if(Ia&&9>Va&&0==k&&v==f.coverEnd-f.coverStart)l=g.parentNode.getBoundingClientRect();else if(Ia&&a.options.lineWrapping){var z=
Xd(g,k,v).getClientRects();l=z.length?z["right"==h?z.length-1:0]:ze}else l=Xd(g,k,v).getBoundingClientRect()||ze;if(l.left||l.right||0==k)break;v=k;--k;c="right"}Ia&&11>Va&&((z=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=zf?z=zf:(m=Hb(a.display.measure,la("span","x")),z=m.getBoundingClientRect(),m=Xd(m,0,1).getBoundingClientRect(),z=zf=1<Math.abs(z.left-m.left)),z=!z),z||(z=screen.logicalXDPI/screen.deviceXDPI,m=screen.logicalYDPI/screen.deviceYDPI,l={left:l.left*
z,right:l.right*z,top:l.top*m,bottom:l.bottom*m}))}else 0<k&&(c=h="right"),l=a.options.lineWrapping&&1<(z=g.getClientRects()).length?z["right"==h?z.length-1:0]:g.getBoundingClientRect();!(Ia&&9>Va)||k||l&&(l.left||l.right)||(l=(l=g.parentNode.getClientRects()[0])?{left:l.left,right:l.left+Ac(a.display),top:l.top,bottom:l.bottom}:ze);z=l.top-b.rect.top;g=l.bottom-b.rect.top;k=(z+g)/2;h=b.view.measure.heights;for(m=0;m<h.length-1&&!(k<h[m]);m++);c={left:("right"==c?l.right:l.left)-b.rect.left,right:("left"==
c?l.left:l.right)-b.rect.left,top:m?h[m-1]:0,bottom:h[m]};l.left||l.right||(c.bogus=!0);a.options.singleCursorHeightPerLine||(c.rtop=z,c.rbottom=g);a=c;a.bogus||(b.cache[e]=a)}return{left:a.left,right:a.right,top:d?a.rtop:a.top,bottom:d?a.rbottom:a.bottom}}function bd(a,b,c){for(var g,d,e,h,k=0;k<a.length;k+=3){var f=a[k],v=a[k+1];if(b<f)d=0,e=1,h="left";else if(b<v)d=b-f,e=d+1;else if(k==a.length-3||b==v&&a[k+3]>b)e=v-f,d=e-1,b>=v&&(h="right");if(null!=d){g=a[k+2];f==v&&c==(g.insertLeft?"left":"right")&&
(h=c);if("left"==c&&0==d)for(;k&&a[k-2]==a[k-3]&&a[k-1].insertLeft;)g=a[(k-=3)+2],h="left";if("right"==c&&d==v-f)for(;k<a.length-3&&a[k+3]==a[k+4]&&!a[k+5].insertLeft;)g=a[(k+=3)+2],h="right";break}}return{node:g,start:d,end:e,collapse:h,coverStart:f,coverEnd:v}}function Yd(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b<a.rest.length;b++)a.measure.caches[b]={}}function Qc(a){a.display.externalMeasure=null;vd(a.display.lineMeasure);for(var b=0;b<a.display.view.length;b++)Yd(a.display.view[b])}
function Kc(a){Qc(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=null}function Ae(a,b,c,g){if(b.widgets)for(var d=0;d<b.widgets.length;++d)if(b.widgets[d].above){var e=Ec(b.widgets[d]);c.top+=e;c.bottom+=e}if("line"==g)return c;g||(g="local");b=qc(b);b="local"==g?b+a.display.lineSpace.offsetTop:b-a.display.viewOffset;if("page"==g||"window"==g)a=a.display.lineSpace.getBoundingClientRect(),
b+=a.top+("window"==g?0:window.pageYOffset||(document.documentElement||document.body).scrollTop),g=a.left+("window"==g?0:window.pageXOffset||(document.documentElement||document.body).scrollLeft),c.left+=g,c.right+=g;c.top+=b;c.bottom+=b;return c}function Zd(a,b,c){if("div"==c)return b;var g=b.left;b=b.top;"page"==c?(g-=window.pageXOffset||(document.documentElement||document.body).scrollLeft,b-=window.pageYOffset||(document.documentElement||document.body).scrollTop):"local"!=c&&c||(c=a.display.sizer.getBoundingClientRect(),
g+=c.left,b+=c.top);a=a.display.lineSpace.getBoundingClientRect();return{left:g-a.left,top:b-a.top}}function Cc(a,b,c,g,d){g||(g=ja(a.doc,b.line));var e=g;b=b.ch;g=Ib(a,Bd(a,g),b,d);return Ae(a,e,g,c)}function Cb(a,b,c,g,d,e){function h(b,h){b=Ib(a,d,b,h?"right":"left",e);h?b.left=b.right:b.right=b.left;return Ae(a,g,b,c)}function k(a,b){var c=f[b],g=c.level%2;a==Af(c)&&b&&c.level<f[b-1].level?(c=f[--b],a=Bf(c)-(c.level%2?0:1),g=!0):a==Bf(c)&&b<f.length-1&&c.level<f[b+1].level&&(c=f[++b],a=Af(c)-
c.level%2,g=!1);return g&&a==c.to&&a>c.from?h(a-1):h(a,g)}g=g||ja(a.doc,b.line);d||(d=Bd(a,g));var f=Pb(g);b=b.ch;if(!f)return h(b);var v=Ud(f,b),v=k(b,v);null!=Be&&(v.other=k(b,Be));return v}function Rc(a,b){var c=0;b=V(a.doc,b);a.options.lineWrapping||(c=Ac(a.display)*b.ch);b=ja(a.doc,b.line);a=qc(b)+a.display.lineSpace.offsetTop;return{left:c,right:c,top:a,bottom:a+b.height}}function gd(a,b,c,g){a=S(a,b);a.xRel=g;c&&(a.outside=!0);return a}function hd(a,b,c){var g=a.doc;c+=a.display.viewOffset;
if(0>c)return gd(g.first,0,!0,-1);var d=ad(g,c),e=g.first+g.size-1;if(d>e)return gd(g.first+g.size-1,ja(g,e).text.length,!0,1);0>b&&(b=0);for(g=ja(g,d);;)if(d=Ce(a,g,d,b,c),e=(g=wd(g,!1))&&g.find(0,!0),g&&(d.ch>e.from.ch||d.ch==e.from.ch&&0<d.xRel))d=Pa(g=e.to.line);else return d}function Ce(a,b,c,g,d){function e(g){g=Cb(a,S(c,g),"line",b,v);k=!0;if(h>g.bottom)return g.left-f;if(h<g.top)return g.left+f;k=!1;return g.left}var h=d-qc(b),k=!1,f=2*a.display.wrapper.clientWidth,v=Bd(a,b),m=Pb(b),n=b.text.length;
d=$d(b);var l=Ze(b),z=e(d),q=k,r=e(l),t=k;if(g>r)return gd(c,l,t,1);for(;;){if(m?l==d||l==Zb(b,d,1):1>=l-d){m=g<z||g-z<=r-g?d:l;for(g-=m==d?z:r;Wd(b.text.charAt(m));)++m;return gd(c,m,m==d?q:t,-1>g?-1:1<g?1:0)}var u=Math.ceil(n/2),B=d+u;if(m)for(var B=d,p=0;p<u;++p)B=Zb(b,B,1);p=e(B);if(p>g){l=B;r=p;if(t=k)r+=1E3;n=u}else d=B,z=p,q=k,n-=u}}function Ob(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==id){id=la("pre");for(var b=0;49>b;++b)id.appendChild(document.createTextNode("x")),
id.appendChild(la("br"));id.appendChild(document.createTextNode("x"))}Hb(a.measure,id);b=id.offsetHeight/50;3<b&&(a.cachedTextHeight=b);vd(a.measure);return b||1}function Ac(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=la("span","xxxxxxxxxx"),c=la("pre",[b]);Hb(a.measure,c);b=b.getBoundingClientRect();b=(b.right-b.left)/10;2<b&&(a.cachedCharWidth=b);return b||10}function ab(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,
cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ic};jd?jd.ops.push(a.curOp):a.curOp.ownsGroup=jd={ops:[a.curOp],delayedCallbacks:[]}}function Lb(a){if(a=a.curOp.ownsGroup)try{var b=a.delayedCallbacks,c=0;do{for(;c<b.length;c++)b[c].call(null);for(var g=0;g<a.ops.length;g++){var d=a.ops[g];if(d.cursorActivityHandlers)for(;d.cursorActivityCalled<d.cursorActivityHandlers.length;)d.cursorActivityHandlers[d.cursorActivityCalled++].call(null,
d.cm)}}while(c<b.length)}finally{jd=null;for(b=0;b<a.ops.length;b++)a.ops[b].cm.curOp=null;a=a.ops;for(b=0;b<a.length;b++){var d=a[b],c=d.cm,e=g=c.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=pc(c)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=pc(c)+"px",e.scrollbarsClipped=!0);d.updateMaxLine&&t(c);d.mustUpdate=d.viewChanged||d.forceUpdate||null!=d.scrollTop||
d.scrollToPos&&(d.scrollToPos.from.line<g.viewFrom||d.scrollToPos.to.line>=g.viewTo)||g.maxLineChanged&&c.options.lineWrapping;d.update=d.mustUpdate&&new J(c,d.mustUpdate&&{top:d.scrollTop,ensure:d.scrollToPos},d.forceUpdate)}for(b=0;b<a.length;b++)d=a[b],d.updatedDisplay=d.mustUpdate&&L(d.cm,d.update);for(b=0;b<a.length;b++)if(d=a[b],c=d.cm,g=c.display,d.updatedDisplay&&P(c),d.barMeasure=y(c),g.maxLineChanged&&!c.options.lineWrapping&&(e=g.maxLine.text.length,e=Ib(c,Bd(c,g.maxLine),e,void 0),d.adjustWidthTo=
e.left+3,c.display.sizerWidth=d.adjustWidthTo,d.barMeasure.scrollWidth=Math.max(g.scroller.clientWidth,g.sizer.offsetLeft+d.adjustWidthTo+pc(c)+c.display.barWidth),d.maxScrollLeft=Math.max(0,g.sizer.offsetLeft+d.adjustWidthTo-Mc(c))),d.updatedDisplay||d.selectionChanged)d.preparedSelection=g.input.prepareSelection();for(b=0;b<a.length;b++)d=a[b],c=d.cm,null!=d.adjustWidthTo&&(c.display.sizer.style.minWidth=d.adjustWidthTo+"px",d.maxScrollLeft<c.doc.scrollLeft&&Ub(c,Math.min(c.display.scroller.scrollLeft,
d.maxScrollLeft),!0),c.display.maxLineChanged=!1),d.preparedSelection&&c.display.input.showSelection(d.preparedSelection),d.updatedDisplay&&N(c,d.barMeasure),(d.updatedDisplay||d.startHeight!=c.doc.height)&&z(c,d.barMeasure),d.selectionChanged&&ub(c),c.state.focused&&d.updateInput&&c.display.input.reset(d.typing),d.focus&&d.focus==Vb()&&ra(d.cm);for(b=0;b<a.length;b++){d=a[b];c=d.cm;g=c.display;e=c.doc;d.updatedDisplay&&I(c,d.update);null==g.wheelStartX||null==d.scrollTop&&null==d.scrollLeft&&!d.scrollToPos||
(g.wheelStartX=g.wheelStartY=null);null==d.scrollTop||g.scroller.scrollTop==d.scrollTop&&!d.forceScroll||(e.scrollTop=Math.max(0,Math.min(g.scroller.scrollHeight-g.scroller.clientHeight,d.scrollTop)),g.scrollbars.setScrollTop(e.scrollTop),g.scroller.scrollTop=e.scrollTop);null==d.scrollLeft||g.scroller.scrollLeft==d.scrollLeft&&!d.forceScroll||(e.scrollLeft=Math.max(0,Math.min(g.scroller.scrollWidth-Mc(c),d.scrollLeft)),g.scrollbars.setScrollLeft(e.scrollLeft),g.scroller.scrollLeft=e.scrollLeft,x(c));
if(d.scrollToPos){var h,k=V(e,d.scrollToPos.from);h=V(e,d.scrollToPos.to);var f=d.scrollToPos.margin;null==f&&(f=0);for(var v=0;5>v;v++){var m=!1,n=Cb(c,k),l=h&&h!=k?Cb(c,h):n,l=De(c,Math.min(n.left,l.left),Math.min(n.top,l.top)-f,Math.max(n.left,l.left),Math.max(n.bottom,l.bottom)+f),q=c.doc.scrollTop,r=c.doc.scrollLeft;null!=l.scrollTop&&(Lc(c,l.scrollTop),1<Math.abs(c.doc.scrollTop-q)&&(m=!0));null!=l.scrollLeft&&(Ub(c,l.scrollLeft),1<Math.abs(c.doc.scrollLeft-r)&&(m=!0));if(!m)break}h=n;d.scrollToPos.isCursor&&
c.state.focused&&($b(c,"scrollCursorIntoView")||(f=c.display,v=f.sizer.getBoundingClientRect(),k=null,0>h.top+v.top?k=!0:h.bottom+v.top>(window.innerHeight||document.documentElement.clientHeight)&&(k=!1),null==k||pg||(h=la("div","\u200b",null,"position: absolute; top: "+(h.top-f.viewOffset-c.display.lineSpace.offsetTop)+"px; height: "+(h.bottom-h.top+pc(c)+f.barHeight)+"px; left: "+h.left+"px; width: 2px;"),c.display.lineSpace.appendChild(h),h.scrollIntoView(k),c.display.lineSpace.removeChild(h))))}k=
d.maybeHiddenMarkers;h=d.maybeUnhiddenMarkers;if(k)for(f=0;f<k.length;++f)k[f].lines.length||Ya(k[f],"hide");if(h)for(f=0;f<h.length;++f)h[f].lines.length&&Ya(h[f],"unhide");g.wrapper.offsetHeight&&(e.scrollTop=c.display.scroller.scrollTop);d.changeObjs&&Ya(c,"changes",c,d.changeObjs);d.update&&d.update.finish()}}}function nb(a,b){if(a.curOp)return b();ab(a);try{return b()}finally{Lb(a)}}function Ua(a,b){return function(){if(a.curOp)return b.apply(a,arguments);ab(a);try{return b.apply(a,arguments)}finally{Lb(a)}}}
function lb(a){return function(){if(this.curOp)return a.apply(this,arguments);ab(this);try{return a.apply(this,arguments)}finally{Lb(this)}}}function eb(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);ab(b);try{return a.apply(this,arguments)}finally{Lb(b)}}}function Dc(a,b,c){for(var g=this.line=b,d;g=wd(g,!1);)g=g.find(1,!0).line,(d||(d=[])).push(g);this.size=(this.rest=d)?Pa(Na(this.rest))-c+1:1;this.node=this.text=null;this.hidden=nc(a,b)}function sc(a,b,c){var g=
[],d;for(d=b;d<c;)b=new Dc(a.doc,ja(a.doc,d),d),d+=b.size,g.push(b);return g}function mb(a,b,c,g){null==b&&(b=a.doc.first);null==c&&(c=a.doc.first+a.doc.size);g||(g=0);var d=a.display;g&&c<d.viewTo&&(null==d.updateLineNumbers||d.updateLineNumbers>b)&&(d.updateLineNumbers=b);a.curOp.viewChanged=!0;if(b>=d.viewTo)Nc&&tf(a.doc,b)<d.viewTo&&rc(a);else if(c<=d.viewFrom)Nc&&Td(a.doc,c+g)>d.viewFrom?rc(a):(d.viewFrom+=g,d.viewTo+=g);else if(b<=d.viewFrom&&c>=d.viewTo)rc(a);else if(b<=d.viewFrom){var e=Cd(a,
c,c+g,1);e?(d.view=d.view.slice(e.index),d.viewFrom=e.lineN,d.viewTo+=g):rc(a)}else if(c>=d.viewTo)(e=Cd(a,b,b,-1))?(d.view=d.view.slice(0,e.index),d.viewTo=e.lineN):rc(a);else{var e=Cd(a,b,b,-1),h=Cd(a,c,c+g,1);e&&h?(d.view=d.view.slice(0,e.index).concat(sc(a,e.lineN,h.lineN)).concat(d.view.slice(h.index)),d.viewTo+=g):rc(a)}if(a=d.externalMeasured)c<a.lineN?a.lineN+=g:b<a.lineN+a.size&&(d.externalMeasured=null)}function Db(a,b,c){a.curOp.viewChanged=!0;var g=a.display,d=a.display.externalMeasured;
d&&b>=d.lineN&&b<d.lineN+d.size&&(g.externalMeasured=null);b<g.viewFrom||b>=g.viewTo||(a=g.view[kb(a,b)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==zb(a,c)&&a.push(c)))}function rc(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function kb(a,b){if(b>=a.display.viewTo)return null;b-=a.display.viewFrom;if(0>b)return null;a=a.display.view;for(var c=0;c<a.length;c++)if(b-=a[c].size,0>b)return c}function Cd(a,b,c,g){var d=kb(a,b),e=a.display.view;if(!Nc||
c==a.doc.first+a.doc.size)return{index:d,lineN:c};for(var h=0,k=a.display.viewFrom;h<d;h++)k+=e[h].size;if(k!=b){if(0<g){if(d==e.length-1)return null;b=k+e[d].size-b;d++}else b=k-b;c+=b}for(;tf(a.doc,c)!=c;){if(d==(0>g?0:e.length-1))return null;c+=g*e[d-(0>g?1:0)].size;d+=g}return{index:d,lineN:c}}function Sd(a){a=a.display.view;for(var b=0,c=0;c<a.length;c++){var g=a[c];g.hidden||g.node&&!g.changes||++b}return b}function zc(a){function b(){g.activeTouch&&(d=setTimeout(function(){g.activeTouch=null},
1E3),e=g.activeTouch,e.end=+new Date)}function c(a,b){if(null==b.left)return!0;var c=b.left-a.left;a=b.top-a.top;return 400<c*c+a*a}var g=a.display;sa(g.scroller,"mousedown",Ua(a,Ee));Ia&&11>Va?sa(g.scroller,"dblclick",Ua(a,function(b){if(!$b(a,b)){var c=xb(a,b);!c||Fe(a,b,"gutterClick",!0,Xa)||Qb(a.display,b)||(wb(b),b=a.findWordAt(c),cb(a.doc,b.anchor,b.head))}})):sa(g.scroller,"dblclick",function(b){$b(a,b)||wb(b)});Dd||sa(g.scroller,"contextmenu",function(b){ae(a,b)});var d,e={end:0};sa(g.scroller,
"touchstart",function(a){var b;1!=a.touches.length?b=!1:(b=a.touches[0],b=1>=b.radiusX&&1>=b.radiusY);b||(clearTimeout(d),b=+new Date,g.activeTouch={start:b,moved:!1,prev:300>=b-e.end?e:null},1==a.touches.length&&(g.activeTouch.left=a.touches[0].pageX,g.activeTouch.top=a.touches[0].pageY))});sa(g.scroller,"touchmove",function(){g.activeTouch&&(g.activeTouch.moved=!0)});sa(g.scroller,"touchend",function(d){var e=g.activeTouch;if(e&&!Qb(g,d)&&null!=e.left&&!e.moved&&300>new Date-e.start){var h=a.coordsChar(g.activeTouch,
"page"),e=!e.prev||c(e,e.prev)?new na(h,h):!e.prev.prev||c(e,e.prev.prev)?a.findWordAt(h):new na(S(h.line,0),V(a.doc,S(h.line+1,0)));a.setSelection(e.anchor,e.head);a.focus();wb(d)}b()});sa(g.scroller,"touchcancel",b);sa(g.scroller,"scroll",function(){g.scroller.clientHeight&&(Lc(a,g.scroller.scrollTop),Ub(a,g.scroller.scrollLeft,!0),Ya(a,"scroll",a))});sa(g.scroller,"mousewheel",function(b){Ge(a,b)});sa(g.scroller,"DOMMouseScroll",function(b){Ge(a,b)});sa(g.wrapper,"scroll",function(){g.wrapper.scrollTop=
g.wrapper.scrollLeft=0});g.dragFunctions={enter:function(b){$b(a,b)||He(b)},over:function(b){if(!$b(a,b)){var c=xb(a,b);if(c){var g=document.createDocumentFragment();Vd(a,c,g);a.display.dragCursor||(a.display.dragCursor=la("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv));Hb(a.display.dragCursor,g)}He(b)}},start:function(b){if(Ia&&(!a.state.draggingText||100>+new Date-Cf))He(b);else if(!$b(a,b)&&!Qb(a.display,b)&&(b.dataTransfer.setData("Text",
a.getSelection()),b.dataTransfer.setDragImage&&!Wf)){var c=la("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";vc&&(c.width=c.height=1,a.display.wrapper.appendChild(c),c._top=c.offsetTop);b.dataTransfer.setDragImage(c,0,0);vc&&c.parentNode.removeChild(c)}},drop:Ua(a,$e),leave:function(){kd(a)}};var h=g.input.getField();sa(h,"keyup",function(b){Df.call(a,b)});sa(h,"keydown",Ua(a,Aa));sa(h,"keypress",Ua(a,be));sa(h,
"focus",Ve(We,a));sa(h,"blur",Ve(Tb,a))}function Ed(a){var b=a.display;if(b.lastWrapHeight!=b.wrapper.clientHeight||b.lastWrapWidth!=b.wrapper.clientWidth)b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.scrollbarsClipped=!1,a.setSize()}function Qb(a,b){for(b=b.target||b.srcElement;b!=a.wrapper;b=b.parentNode)if(!b||1==b.nodeType&&"true"==b.getAttribute("cm-ignore-events")||b.parentNode==a.sizer&&b!=a.mover)return!0}function xb(a,b,c,g){var d=a.display;if(!c&&"true"==(b.target||b.srcElement).getAttribute("cm-not-content"))return null;
var e,h;c=d.lineSpace.getBoundingClientRect();try{e=b.clientX-c.left,h=b.clientY-c.top}catch(jb){return null}b=hd(a,e,h);var k;g&&1==b.xRel&&(k=ja(a.doc,b.line).text).length==b.ch&&(g=fd(k,k.length,a.options.tabSize)-k.length,b=S(b.line,Math.max(0,Math.round((e-dd(a.display).left)/Ac(a.display))-g)));return b}function Ee(a){var b=this.display;if(!(b.activeTouch&&b.input.supportsTouch()||$b(this,a)))if(b.shift=a.shiftKey,Qb(b,a))qb||(b.scroller.draggable=!1,setTimeout(function(){b.scroller.draggable=
!0},100));else if(!Fe(this,a,"gutterClick",!0,Xa)){var c=xb(this,a);window.focus();switch(jc(a)){case 1:this.state.selectingText?this.state.selectingText(a):c?Xf(this,a,c):(a.target||a.srcElement)==b.scroller&&wb(a);break;case 2:qb&&(this.state.lastMiddleDown=+new Date);c&&cb(this.doc,c);setTimeout(function(){b.input.focus()},20);wb(a);break;case 3:Dd?ae(this,a):Yf(this)}}}function Xf(a,b,c){Ia?setTimeout(Ve(ra,a),0):a.curOp.focus=Vb();var g=+new Date,d;Sc&&Sc.time>g-400&&0==ya(Sc.pos,c)?d="triple":
Ie&&Ie.time>g-400&&0==ya(Ie.pos,c)?(d="double",Sc={time:g,pos:c}):(d="single",Ie={time:g,pos:c});var g=a.doc.sel,e=Bc?b.metaKey:b.ctrlKey,h;a.options.dragDrop&&Yg&&!Ea(a)&&"single"==d&&-1<(h=g.contains(c))&&(0>ya((h=g.ranges[h]).from(),c)||0<c.xRel)&&(0<ya(h.to(),c)||0>c.xRel)?Fd(a,b,c,e):Je(a,b,c,d,e)}function Fd(a,b,c,g){var d=a.display,e=+new Date,h=Ua(a,function(k){qb&&(d.scroller.draggable=!1);a.state.draggingText=!1;wc(document,"mouseup",h);wc(d.scroller,"drop",h);10>Math.abs(b.clientX-k.clientX)+
Math.abs(b.clientY-k.clientY)&&(wb(k),!g&&+new Date-200<e&&cb(a.doc,c),qb||Ia&&9==Va?setTimeout(function(){document.body.focus();d.input.focus()},20):d.input.focus())});qb&&(d.scroller.draggable=!0);a.state.draggingText=h;d.scroller.dragDrop&&d.scroller.dragDrop();sa(document,"mouseup",h);sa(d.scroller,"drop",h)}function Je(a,b,c,g,d){function e(b){if(0!=ya(r,b))if(r=b,"rect"==g){for(var d=[],e=a.options.tabSize,h=fd(ja(v,c.line).text,c.ch,e),k=fd(ja(v,b.line).text,b.ch,e),f=Math.min(h,k),h=Math.max(h,
k),k=Math.min(c.line,b.line),z=Math.min(a.lastLine(),Math.max(c.line,b.line));k<=z;k++){var q=ja(v,k).text,t=hb(q,f,e);f==h?d.push(new na(S(k,t),S(k,t))):q.length>t&&d.push(new na(S(k,t),S(k,hb(q,h,e))))}d.length||d.push(new na(c,c));wa(v,Fa(l.ranges.slice(0,n).concat(d),n),{origin:"*mouse",scroll:!1});a.scrollIntoView(b)}else d=m,e=d.anchor,f=b,"single"!=g&&(b="double"==g?a.findWordAt(b):new na(S(b.line,0),V(v,S(b.line+1,0))),0<ya(b.anchor,e)?(f=b.head,e=ka(d.from(),b.anchor)):(f=b.anchor,e=ga(d.to(),
b.head))),d=l.ranges.slice(0),d[n]=new na(V(v,e),f),wa(v,Fa(d,n),ma)}function h(b){var c=++u,d=xb(a,b,!0,"rect"==g);if(d)if(0!=ya(d,r)){a.curOp.focus=Vb();e(d);var k=G(f,v);(d.line>=k.to||d.line<k.from)&&setTimeout(Ua(a,function(){u==c&&h(b)}),150)}else{var m=b.clientY<t.top?-20:b.clientY>t.bottom?20:0;m&&setTimeout(Ua(a,function(){u==c&&(f.scroller.scrollTop+=m,h(b))}),50)}}function k(b){a.state.selectingText=!1;u=Infinity;wb(b);f.input.focus();wc(document,"mousemove",B);wc(document,"mouseup",p);
v.history.lastSelOrigin=null}var f=a.display,v=a.doc;wb(b);var m,n,l=v.sel,z=l.ranges;d&&!b.shiftKey?(n=v.sel.contains(c),m=-1<n?z[n]:new na(c,c)):(m=v.sel.primary(),n=v.sel.primIndex);if(b.altKey)g="rect",d||(m=new na(c,c)),c=xb(a,b,!0,!0),n=-1;else if("double"==g){var q=a.findWordAt(c);m=a.display.shift||v.extend?tb(v,m,q.anchor,q.head):q}else"triple"==g?(q=new na(S(c.line,0),V(v,S(c.line+1,0))),m=a.display.shift||v.extend?tb(v,m,q.anchor,q.head):q):m=tb(v,m,c);d?-1==n?(n=z.length,wa(v,Fa(z.concat([m]),
n),{scroll:!1,origin:"*mouse"})):1<z.length&&z[n].empty()&&"single"==g&&!b.shiftKey?(wa(v,Fa(z.slice(0,n).concat(z.slice(n+1)),0),{scroll:!1,origin:"*mouse"}),l=v.sel):fc(v,n,m,ma):(n=0,wa(v,new Ha([m],0),ma),l=v.sel);var r=c,t=f.wrapper.getBoundingClientRect(),u=0,B=Ua(a,function(a){jc(a)?h(a):k(a)}),p=Ua(a,k);a.state.selectingText=p;sa(document,"mousemove",B);sa(document,"mouseup",p)}function Fe(a,b,c,g,d){try{var e=b.clientX,h=b.clientY}catch(Ug){return!1}if(e>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;
g&&wb(b);g=a.display;var k=g.lineDiv.getBoundingClientRect();if(h>k.bottom||!gc(a,c))return kc(b);h-=k.top-g.viewOffset;for(k=0;k<a.options.gutters.length;++k){var f=g.gutters.childNodes[k];if(f&&f.getBoundingClientRect().right>=e)return e=ad(a.doc,h),d(a,c,a,e,a.options.gutters[k],b),kc(b)}}function $e(a){var b=this;kd(b);if(!$b(b,a)&&!Qb(b.display,a)){wb(a);Ia&&(Cf=+new Date);var c=xb(b,a,!0),g=a.dataTransfer.files;if(c&&!Ea(b))if(g&&g.length&&window.FileReader&&window.File){var d=g.length,e=Array(d),
h=0;a=function(a,g){if(!b.options.allowDropFileTypes||-1!=zb(b.options.allowDropFileTypes,a.type)){var k=new FileReader;k.onload=Ua(b,function(){var a=k.result;/[\x00-\x08\x0e-\x1f]{2}/.test(a)&&(a="");e[g]=a;++h==d&&(c=V(b.doc,c),a={from:c,to:c,text:b.doc.splitLines(e.join(b.doc.lineSeparator())),origin:"paste"},Oa(b.doc,a),W(b.doc,oa(c,de(a))))});k.readAsText(a)}};for(var k=0;k<d;++k)a(g[k],k)}else if(b.state.draggingText&&-1<b.doc.sel.contains(c))b.state.draggingText(a),setTimeout(function(){b.display.input.focus()},
20);else try{if(e=a.dataTransfer.getData("Text")){if(b.state.draggingText&&(Bc?!a.altKey:!a.ctrlKey))var f=b.listSelections();Xb(b.doc,oa(c,c));if(f)for(k=0;k<f.length;++k)ee(b.doc,"",f[k].anchor,f[k].head,"drag");b.replaceSelection(e,"around","paste");b.display.input.focus()}}catch(Ug){}}}function kd(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Lc(a,b){2>Math.abs(a.doc.scrollTop-b)||(a.doc.scrollTop=b,Mb||K(a,{top:b}),a.display.scroller.scrollTop!=
b&&(a.display.scroller.scrollTop=b),a.display.scrollbars.setScrollTop(b),Mb&&K(a),Nb(a,100))}function Ub(a,b,c){(c?b==a.doc.scrollLeft:2>Math.abs(a.doc.scrollLeft-b))||(b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),a.doc.scrollLeft=b,x(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbars.setScrollLeft(b))}function Ge(a,b){var c=Zf(b),g=c.x,c=c.y,d=a.display,e=d.scroller,h=e.scrollWidth>e.clientWidth,k=e.scrollHeight>e.clientHeight;
if(g&&h||c&&k){if(c&&Bc&&qb){var h=b.target,f=d.view;a:for(;h!=e;h=h.parentNode)for(var v=0;v<f.length;v++)if(f[v].node==h){a.display.currentWheelTarget=h;break a}}!g||Mb||vc||null==ac?(c&&null!=ac&&(b=c*ac,k=a.doc.scrollTop,h=k+d.wrapper.clientHeight,0>b?k=Math.max(0,k+b-50):h=Math.min(a.doc.height,h+b+50),K(a,{top:k,bottom:h})),20>af&&(null==d.wheelStartX?(d.wheelStartX=e.scrollLeft,d.wheelStartY=e.scrollTop,d.wheelDX=g,d.wheelDY=c,setTimeout(function(){if(null!=d.wheelStartX){var a=e.scrollLeft-
d.wheelStartX,b=e.scrollTop-d.wheelStartY,a=b&&d.wheelDY&&b/d.wheelDY||a&&d.wheelDX&&a/d.wheelDX;d.wheelStartX=d.wheelStartY=null;a&&(ac=(ac*af+a)/(af+1),++af)}},200)):(d.wheelDX+=g,d.wheelDY+=c))):(c&&k&&Lc(a,Math.max(0,Math.min(e.scrollTop+c*ac,e.scrollHeight-e.clientHeight))),Ub(a,Math.max(0,Math.min(e.scrollLeft+g*ac,e.scrollWidth-e.clientWidth))),(!c||c&&k)&&wb(b),d.wheelStartX=null)}}function ld(a,b,c){if("string"==typeof b&&(b=Ke[b],!b))return!1;a.display.input.ensurePolled();var g=a.display.shift,
d=!1;try{Ea(a)&&(a.state.suppressEdits=!0),c&&(a.display.shift=!1),d=b(a)!=Ca}finally{a.display.shift=g,a.state.suppressEdits=!1}return d}function Le(a,b,c){for(var g=0;g<a.state.keyMaps.length;g++){var d=bf(b,a.state.keyMaps[g],c,a);if(d)return d}return a.options.extraKeys&&bf(b,a.options.extraKeys,c,a)||bf(b,a.options.keyMap,c,a)}function bc(a,b,c,g){var d=a.state.keySeq;if(d){if(Ng(b))return"handled";Og.set(50,function(){a.state.keySeq==d&&(a.state.keySeq=null,a.display.input.reset())});b=d+" "+
b}g=Le(a,b,g);"multi"==g&&(a.state.keySeq=b);"handled"==g&&Xa(a,"keyHandled",a,b,c);if("handled"==g||"multi"==g)wb(c),ub(a);return d&&!g&&/\'$/.test(b)?(wb(c),!0):!!g}function Me(a,b){var c=H(b,!0);return c?b.shiftKey&&!a.state.keySeq?bc(a,"Shift-"+c,b,function(b){return ld(a,b,!0)})||bc(a,c,b,function(b){if("string"==typeof b?/^go[A-Z]/.test(b):b.motion)return ld(a,b)}):bc(a,c,b,function(b){return ld(a,b)}):!1}function cf(a,b,c){return bc(a,"'"+c+"'",b,function(b){return ld(a,b,!0)})}function Aa(a){this.curOp.focus=
Vb();if(!$b(this,a)){Ia&&11>Va&&27==a.keyCode&&(a.returnValue=!1);var b=a.keyCode;this.display.shift=16==b||a.shiftKey;var c=Me(this,a);vc&&($f=c?b:null,!c&&88==b&&!ag&&(Bc?a.metaKey:a.ctrlKey)&&this.replaceSelection("",null,"cut"));18!=b||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||sg(this)}}function sg(a){function b(a){18!=a.keyCode&&a.altKey||(Xe(c,"CodeMirror-crosshair"),wc(document,"keyup",b),wc(document,"mouseover",b))}var c=a.display.lineDiv;we(c,"CodeMirror-crosshair");
sa(document,"keyup",b);sa(document,"mouseover",b)}function Df(a){16==a.keyCode&&(this.doc.sel.shift=!1);$b(this,a)}function be(a){if(!(Qb(this.display,a)||$b(this,a)||a.ctrlKey&&!a.altKey||Bc&&a.metaKey)){var b=a.keyCode,c=a.charCode;if(vc&&b==$f)$f=null,wb(a);else if(!vc||a.which&&!(10>a.which)||!Me(this,a))if(b=String.fromCharCode(null==c?b:c),!cf(this,a,b))this.display.input.onKeyPress(a)}}function Yf(a){a.state.delayingBlurEvent=!0;setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=
!1,Tb(a))},100)}function We(a){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1);"nocursor"!=a.options.readOnly&&(a.state.focused||(Ya(a,"focus",a),a.state.focused=!0,we(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),qb&&setTimeout(function(){a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),ub(a))}function Tb(a){a.state.delayingBlurEvent||(a.state.focused&&(Ya(a,"blur",a),a.state.focused=!1,Xe(a.display.wrapper,
"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function ae(a,b){var c;(c=Qb(a.display,b))||(c=gc(a,"gutterContextMenu")?Fe(a,b,"gutterContextMenu",!1,Ya):!1);if(!c&&!$b(a,b,"contextmenu"))a.display.input.onContextMenu(b)}function Tc(a,b){if(0>ya(a,b.from))return a;if(0>=ya(a,b.to))return de(b);var c=a.line+b.text.length-(b.to.line-b.from.line)-1,g=a.ch;a.line==b.to.line&&(g+=de(b).ch-b.to.ch);return S(c,g)}function fe(a,b){for(var c=
[],g=0;g<a.sel.ranges.length;g++){var d=a.sel.ranges[g];c.push(new na(Tc(d.anchor,b),Tc(d.head,b)))}return Fa(c,a.sel.primIndex)}function bg(a,b,c){return a.line==b.line?S(c.line,a.ch-b.ch+c.ch):S(c.line+(a.line-b.line),a.ch)}function Ff(a,b,c){b={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){this.canceled=!0}};c&&(b.update=function(b,c,g,d){b&&(this.from=V(a,b));c&&(this.to=V(a,c));g&&(this.text=g);void 0!==d&&(this.origin=d)});Ya(a,"beforeChange",a,b);a.cm&&Ya(a.cm,
"beforeChange",a.cm,b);return b.canceled?null:{from:b.from,to:b.to,text:b.text,origin:b.origin}}function Oa(a,b,c){if(a.cm){if(!a.cm.curOp)return Ua(a.cm,Oa)(a,b,c);if(a.cm.state.suppressEdits)return}if(gc(a,"beforeChange")||a.cm&&gc(a.cm,"beforeChange"))if(b=Ff(a,b,!0),!b)return;if(c=df&&!c&&cg(a,b.from,b.to))for(var g=c.length-1;0<=g;--g)Gd(a,{from:c[g].from,to:c[g].to,text:g?[""]:b.text});else Gd(a,b)}function Gd(a,b){if(1!=b.text.length||""!=b.text[0]||0!=ya(b.from,b.to)){var c=fe(a,b);dg(a,b,
c,a.cm?a.cm.curOp.id:NaN);Fc(a,b,c,Ne(a,b));var g=[];Hd(a,function(a,c){c||-1!=zb(g,a.history)||(ge(a.history,b),g.push(a.history));Fc(a,b,null,Ne(a,b))})}}function Uc(a,b,c){if(!a.cm||!a.cm.state.suppressEdits){for(var g=a.history,d,e=a.sel,h="undo"==b?g.done:g.undone,k="undo"==b?g.undone:g.done,f=0;f<h.length&&(d=h[f],c?!d.ranges||d.equals(a.sel):d.ranges);f++);if(f!=h.length){for(g.lastOrigin=g.lastSelOrigin=null;;)if(d=h.pop(),d.ranges){zd(d,k);if(c&&!d.equals(a.sel)){wa(a,d,{clearRedo:!1});return}e=
d}else break;c=[];zd(e,k);k.push({changes:c,generation:g.generation});g.generation=d.generation||++g.maxGeneration;g=gc(a,"beforeChange")||a.cm&&gc(a.cm,"beforeChange");for(f=d.changes.length-1;0<=f;--f){var v=d.changes[f];v.origin=b;if(g&&!Ff(a,v,!1)){h.length=0;break}c.push(ef(a,v));e=f?fe(a,v):Na(h);Fc(a,v,e,md(a,v));!f&&a.cm&&a.cm.scrollIntoView({from:v.from,to:de(v)});var m=[];Hd(a,function(a,b){b||-1!=zb(m,a.history)||(ge(a.history,v),m.push(a.history));Fc(a,v,null,md(a,v))})}}}}function ff(a,
b){if(0!=b&&(a.first+=b,a.sel=new Ha(uf(a.sel.ranges,function(a){return new na(S(a.anchor.line+b,a.anchor.ch),S(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){mb(a.cm,a.first,a.first-b,b);for(var c=a.cm.display,g=c.viewFrom;g<c.viewTo;g++)Db(a.cm,g,"gutter")}}function Fc(a,b,c,g){if(a.cm&&!a.cm.curOp)return Ua(a.cm,Fc)(a,b,c,g);if(b.to.line<a.first)ff(a,b.text.length-1-(b.to.line-b.from.line));else if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var d=b.text.length-1-(a.first-b.from.line);
ff(a,d);b={from:S(a.first,0),to:S(b.to.line+d,b.to.ch),text:[Na(b.text)],origin:b.origin}}d=a.lastLine();b.to.line>d&&(b={from:b.from,to:S(d,ja(a,d).text.length),text:[b.text[0]],origin:b.origin});b.removed=yd(a,b.from,b.to);c||(c=fe(a,b));a.cm?tg(a.cm,b,g):Id(a,b,g);Xb(a,c,Za)}}function tg(a,b,c){var g=a.doc,e=a.display,h=b.from,k=b.to,f=!1,v=h.line;a.options.lineWrapping||(v=Pa(Gb(ja(g,h.line))),g.iter(v,k.line+1,function(a){if(a==e.maxLine)return f=!0}));-1<g.sel.contains(b.from,b.to)&&og(a);Id(g,
b,c,d(a));a.options.lineWrapping||(g.iter(v,h.line+b.text.length,function(a){var b=r(a);b>e.maxLineLength&&(e.maxLine=a,e.maxLineLength=b,e.maxLineChanged=!0,f=!1)}),f&&(a.curOp.updateMaxLine=!0));g.frontier=Math.min(g.frontier,h.line);Nb(a,400);c=b.text.length-(k.line-h.line)-1;b.full?mb(a):h.line!=k.line||1!=b.text.length||he(a.doc,b)?mb(a,h.line,k.line+1,c):Db(a,h.line,"text");c=gc(a,"changes");if((g=gc(a,"change"))||c)b={from:h,to:k,text:b.text,removed:b.removed,origin:b.origin},g&&Xa(a,"change",
a,b),c&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(b);a.display.selForContextMenu=null}function ee(a,b,c,g,d){g||(g=c);if(0>ya(g,c)){var e=g;g=c;c=e}"string"==typeof b&&(b=a.splitLines(b));Oa(a,{from:c,to:g,text:b,origin:d})}function De(a,b,c,g,d){var e=a.display,h=Ob(a.display);0>c&&(c=0);var k=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:e.scroller.scrollTop,f=Ab(a),v={};d-c>f&&(d=c+f);var m=a.doc.height+rb(e),n=c<h,h=d>m-h;c<k?v.scrollTop=n?0:c:d>k+f&&(c=Math.min(c,(h?m:d)-f),c!=
k&&(v.scrollTop=c));k=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:e.scroller.scrollLeft;a=Mc(a)-(a.options.fixedGutter?e.gutters.offsetWidth:0);(e=g-b>a)&&(g=b+a);10>b?v.scrollLeft=0:b<k?v.scrollLeft=Math.max(0,b-(e?0:10)):g>a+k-3&&(v.scrollLeft=g+(e?0:10)-a);return v}function Jd(a,b,c){null==b&&null==c||Rb(a);null!=b&&(a.curOp.scrollLeft=(null==a.curOp.scrollLeft?a.doc.scrollLeft:a.curOp.scrollLeft)+b);null!=c&&(a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+
c)}function bb(a){Rb(a);var b=a.getCursor(),c=b,g=b;a.options.lineWrapping||(c=b.ch?S(b.line,b.ch-1):b,g=S(b.line,b.ch+1));a.curOp.scrollToPos={from:c,to:g,margin:a.options.cursorScrollMargin,isCursor:!0}}function Rb(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=Rc(a,b.from),g=Rc(a,b.to),b=De(a,Math.min(c.left,g.left),Math.min(c.top,g.top)-b.margin,Math.max(c.right,g.right),Math.max(c.bottom,g.bottom)+b.margin);a.scrollTo(b.scrollLeft,b.scrollTop)}}function Ga(a,b,c,g){var d=a.doc,
e;null==c&&(c="add");"smart"==c&&(d.mode.indent?e=vb(a,b):c="prev");var h=a.options.tabSize,k=ja(d,b),f=fd(k.text,null,h);k.stateAfter&&(k.stateAfter=null);var v=k.text.match(/^\s*/)[0],m;if(!g&&!/\S/.test(k.text))m=0,c="not";else if("smart"==c&&(m=d.mode.indent(e,k.text.slice(v.length),k.text),m==Ca||150<m)){if(!g)return;c="prev"}"prev"==c?m=b>d.first?fd(ja(d,b-1).text,null,h):0:"add"==c?m=f+a.options.indentUnit:"subtract"==c?m=f-a.options.indentUnit:"number"==typeof c&&(m=f+c);m=Math.max(0,m);c=
"";g=0;if(a.options.indentWithTabs)for(a=Math.floor(m/h);a;--a)g+=h,c+="\t";g<m&&(c+=Jb(m-g));if(c!=v)return ee(d,c,S(b,0),S(b,v.length),"+input"),k.stateAfter=null,!0;for(a=0;a<d.sel.ranges.length;a++)if(h=d.sel.ranges[a],h.head.line==b&&h.head.ch<v.length){g=S(b,v.length);fc(d,a,new na(g,g));break}}function Gc(a,b,c,g){var d=b,e=b;"number"==typeof b?e=ja(a,Math.max(a.first,Math.min(b,a.first+a.size-1))):d=Pa(b);if(null==d)return null;g(e,d)&&a.cm&&Db(a.cm,d,c);return e}function Hc(a,b){for(var c=
a.doc.sel.ranges,g=[],d=0;d<c.length;d++){for(var e=b(c[d]);g.length&&0>=ya(e.from,Na(g).to);){var h=g.pop();if(0>ya(h.from,e.from)){e.from=h.from;break}}g.push(e)}nb(a,function(){for(var b=g.length-1;0<=b;b--)ee(a.doc,"",g[b].from,g[b].to,"+delete");bb(a)})}function lc(a,b,c,g,d){function e(b){var g=(d?Zb:Gf)(v,k,c,!0);if(null==g){if(b=!b)b=h+c,b<a.first||b>=a.first+a.size?b=m=!1:(h=b,b=v=ja(a,b));if(b)k=d?(0>c?Ze:$d)(v):0>c?v.text.length:0;else return m=!1}else k=g;return!0}var h=b.line,k=b.ch,
f=c,v=ja(a,h),m=!0;if("char"==g)e();else if("column"==g)e(!0);else if("word"==g||"group"==g){var n=null;g="group"==g;b=a.cm&&a.cm.getHelper(b,"wordChars");for(var l=!0;!(0>c)||e(!l);l=!1){var z=v.text.charAt(k)||"\n",z=nd(z,b)?"w":g&&"\n"==z?"n":!g||/\s/.test(z)?null:"p";!g||l||z||(z="s");if(n&&n!=z){0>c&&(c=1,e());break}z&&(n=z);if(0<c&&!e(!l))break}}f=hc(a,S(h,k),f,!0);m||(f.hitSide=!0);return f}function gf(a,b,c,g){var d=a.doc,e=b.left,h;for("page"==g?h=b.top+c*(Math.min(a.display.wrapper.clientHeight,
window.innerHeight||document.documentElement.clientHeight)-(0>c?1.5:.5)*Ob(a.display)):"line"==g&&(h=0<c?b.bottom+3:b.top-3);;){b=hd(a,e,h);if(!b.outside)break;if(0>c?0>=h:h>=d.height){b.hitSide=!0;break}h+=5*c}return b}function ta(b,c,g,d){a.defaults[b]=c;g&&($c[b]=d?function(a,b,c){c!=ue&&g(a,b,c)}:g)}function Oe(a){var b=a.split(/-(?!$)/);a=b[b.length-1];for(var c,g,d,e,h=0;h<b.length-1;h++){var k=b[h];if(/^(cmd|meta|m)$/i.test(k))e=!0;else if(/^a(lt)?$/i.test(k))c=!0;else if(/^(c|ctrl|control)$/i.test(k))g=
!0;else if(/^s(hift)$/i.test(k))d=!0;else throw Error("Unrecognized modifier name: "+k);}c&&(a="Alt-"+a);g&&(a="Ctrl-"+a);e&&(a="Cmd-"+a);d&&(a="Shift-"+a);return a}function Pe(a){return"string"==typeof a?cc[a]:a}function Kd(a,b,c,g,d){if(g&&g.shared)return mc(a,b,c,g,d);if(a.cm&&!a.cm.curOp)return Ua(a.cm,Kd)(a,b,c,g,d);var e=new Ja(a,d);d=ya(b,c);g&&yc(g,e,!1);if(0<d||0==d&&!1!==e.clearWhenEmpty)return e;e.replacedWith&&(e.collapsed=!0,e.widgetNode=la("span",[e.replacedWith],"CodeMirror-widget"),
g.handleMouseEvents||e.widgetNode.setAttribute("cm-ignore-events","true"),g.insertLeft&&(e.widgetNode.insertLeft=!0));if(e.collapsed){if(Hf(a,b.line,b,c,e)||b.line!=c.line&&Hf(a,c.line,b,c,e))throw Error("Inserting collapsed marker partially overlapping an existing one");Nc=!0}e.addToHistory&&dg(a,{from:b,to:c,origin:"markText"},a.sel,NaN);var h=b.line,k=a.cm,f;a.iter(h,c.line+1,function(a){k&&e.collapsed&&!k.options.lineWrapping&&Gb(a)==k.display.maxLine&&(f=!0);e.collapsed&&h!=b.line&&oc(a,0);var g=
new hf(e,h==b.line?b.ch:null,h==c.line?c.ch:null);a.markedSpans=a.markedSpans?a.markedSpans.concat([g]):[g];g.marker.attachLine(a);++h});e.collapsed&&a.iter(b.line,c.line+1,function(b){nc(a,b)&&oc(b,0)});e.clearOnEnter&&sa(e,"beforeCursorEnter",function(){e.clear()});e.readOnly&&(df=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());e.collapsed&&(e.id=++Vc,e.atomic=!0);if(k){f&&(k.curOp.updateMaxLine=!0);if(e.collapsed)mb(k,b.line,c.line+1);else if(e.className||e.title||e.startStyle||
e.endStyle||e.css)for(g=b.line;g<=c.line;g++)Db(k,g,"text");e.atomic&&pb(k.doc);Xa(k,"markerAdded",k,e)}return e}function mc(a,b,c,g,d){g=yc(g);g.shared=!1;var e=[Kd(a,b,c,g,d)],h=e[0],k=g.widgetNode;Hd(a,function(a){k&&(g.widgetNode=k.cloneNode(!0));e.push(Kd(a,V(a,b),V(a,c),g,d));for(var f=0;f<a.linked.length;++f)if(a.linked[f].isParent)return;h=Na(e)});return new ie(e,h)}function Ic(a){return a.findMarks(S(a.first,0),a.clipPos(S(a.lastLine())),function(a){return a.parent})}function eg(a){for(var b=
0;b<a.length;b++){var c=a[b],g=[c.primary.doc];Hd(c.primary.doc,function(a){g.push(a)});for(var d=0;d<c.markers.length;d++){var e=c.markers[d];-1==zb(g,e.doc)&&(e.parent=null,c.markers.splice(d--,1))}}}function hf(a,b,c){this.marker=a;this.from=b;this.to=c}function je(a,b){if(a)for(var c=0;c<a.length;++c){var g=a[c];if(g.marker==b)return g}}function Ne(a,b){if(b.full)return null;var c=ib(a,b.from.line)&&ja(a,b.from.line).markedSpans,g=ib(a,b.to.line)&&ja(a,b.to.line).markedSpans;if(!c&&!g)return null;
a=b.from.ch;var d=b.to.ch,e=0==ya(b.from,b.to);if(c)for(var h=0,k;h<c.length;++h){var f=c[h],v=f.marker;if(null==f.from||(v.inclusiveLeft?f.from<=a:f.from<a)||!(f.from!=a||"bookmark"!=v.type||e&&f.marker.insertLeft)){var m=null==f.to||(v.inclusiveRight?f.to>=a:f.to>a);(k||(k=[])).push(new hf(v,f.from,m?null:f.to))}}var c=k,n;if(g)for(k=0;k<g.length;++k)if(h=g[k],f=h.marker,null==h.to||(f.inclusiveRight?h.to>=d:h.to>d)||h.from==d&&"bookmark"==f.type&&(!e||h.marker.insertLeft))v=null==h.from||(f.inclusiveLeft?
h.from<=d:h.from<d),(n||(n=[])).push(new hf(f,v?null:h.from-d,null==h.to?null:h.to-d));d=1==b.text.length;e=Na(b.text).length+(d?a:0);if(c)for(g=0;g<c.length;++g)if(k=c[g],null==k.to)(h=je(n,k.marker),h)?d&&(k.to=null==h.to?null:h.to+e):k.to=a;if(n)for(g=0;g<n.length;++g)k=n[g],null!=k.to&&(k.to+=e),null==k.from?(h=je(c,k.marker),h||(k.from=e,d&&(c||(c=[])).push(k))):(k.from+=e,d&&(c||(c=[])).push(k));c&&(c=jf(c));n&&n!=c&&(n=jf(n));a=[c];if(!d){b=b.text.length-2;var l;if(0<b&&c)for(g=0;g<c.length;++g)null==
c[g].to&&(l||(l=[])).push(new hf(c[g].marker,null,null));for(g=0;g<b;++g)a.push(l);a.push(n)}return a}function jf(a){for(var b=0;b<a.length;++b){var c=a[b];null!=c.from&&c.from==c.to&&!1!==c.marker.clearWhenEmpty&&a.splice(b--,1)}return a.length?a:null}function md(a,b){var c;if(c=b["spans_"+a.id]){for(var g=0,d=[];g<b.text.length;++g)d.push(ug(c[g]));c=d}else c=null;a=Ne(a,b);if(!c)return a;if(!a)return c;for(b=0;b<c.length;++b)if(g=c[b],d=a[b],g&&d){var e=0;a:for(;e<d.length;++e){for(var h=d[e],
k=0;k<g.length;++k)if(g[k].marker==h.marker)continue a;g.push(h)}}else d&&(c[b]=d);return c}function cg(a,b,c){var g=null;a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||g&&-1!=zb(g,c)||(g||(g=[])).push(c)}});if(!g)return null;a=[{from:b,to:c}];for(b=0;b<g.length;++b){c=g[b];for(var d=c.find(0),e=0;e<a.length;++e){var h=a[e];if(!(0>ya(h.to,d.from)||0<ya(h.from,d.to))){var k=[e,1],f=ya(h.from,d.from),v=ya(h.to,d.to);
(0>f||!c.inclusiveLeft&&!f)&&k.push({from:h.from,to:d.from});(0<v||!c.inclusiveRight&&!v)&&k.push({from:d.to,to:h.to});a.splice.apply(a,k);e+=k.length-1}}}return a}function fg(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function od(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function Ld(a,b){var c=a.lines.length-b.lines.length;if(0!=c)return c;var c=a.find(),g=b.find(),d=ya(c.from,g.from)||(a.inclusiveLeft?
-1:0)-(b.inclusiveLeft?-1:0);return d?-d:(c=ya(c.to,g.to)||(a.inclusiveRight?1:0)-(b.inclusiveRight?1:0))?c:b.id-a.id}function wd(a,b){a=Nc&&a.markedSpans;var c;if(a)for(var g,d=0;d<a.length;++d)g=a[d],g.marker.collapsed&&null==(b?g.from:g.to)&&(!c||0>Ld(c,g.marker))&&(c=g.marker);return c}function Hf(a,b,c,g,d){a=ja(a,b);if(a=Nc&&a.markedSpans)for(b=0;b<a.length;++b){var e=a[b];if(e.marker.collapsed){var h=e.marker.find(0),k=ya(h.from,c)||(e.marker.inclusiveLeft?-1:0)-(d.inclusiveLeft?-1:0),f=ya(h.to,
g)||(e.marker.inclusiveRight?1:0)-(d.inclusiveRight?1:0);if(!(0<=k&&0>=f||0>=k&&0<=f)&&(0>=k&&(0<ya(h.to,c)||e.marker.inclusiveRight&&d.inclusiveLeft)||0<=k&&(0>ya(h.from,g)||e.marker.inclusiveLeft&&d.inclusiveRight)))return!0}}}function Gb(a){for(var b;b=wd(a,!0);)a=b.find(-1,!0).line;return a}function tf(a,b){a=ja(a,b);var c=Gb(a);return a==c?b:Pa(c)}function Td(a,b){if(b>a.lastLine())return b;var c=ja(a,b);if(!nc(a,c))return b;for(;a=wd(c,!1);)c=a.find(1,!0).line;return Pa(c)+1}function nc(a,b){var c=
Nc&&b.markedSpans;if(c)for(var g,d=0;d<c.length;++d)if(g=c[d],g.marker.collapsed&&(null==g.from||!g.marker.widgetNode&&0==g.from&&g.marker.inclusiveLeft&&ke(a,b,g)))return!0}function ke(a,b,c){if(null==c.to)return b=c.marker.find(1,!0),ke(a,b.line,je(b.line.markedSpans,c.marker));if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var g,d=0;d<b.markedSpans.length;++d)if(g=b.markedSpans[d],g.marker.collapsed&&!g.marker.widgetNode&&g.from==c.to&&(null==g.to||g.to!=c.from)&&(g.marker.inclusiveLeft||
c.marker.inclusiveRight)&&ke(a,b,g))return!0}function Ec(a){if(null!=a.height)return a.height;var b=a.doc.cm;if(!b)return 0;if(!Sf(document.body,a.node)){var c="position: relative;";a.coverGutter&&(c+="margin-left: -"+b.display.gutters.offsetWidth+"px;");a.noHScroll&&(c+="width: "+b.display.wrapper.clientWidth+"px;");Hb(b.display.measure,la("div",[a.node],null,c))}return a.height=a.node.offsetHeight}function Qe(a,b,c,g){var d=new If(a,c,g),e=a.cm;e&&d.noHScroll&&(e.display.alignWidgets=!0);Gc(a,b,
"widget",function(b){var c=b.widgets||(b.widgets=[]);null==d.insertAt?c.push(d):c.splice(Math.min(c.length-1,Math.max(0,d.insertAt)),0,d);d.line=b;e&&!nc(a,b)&&(c=qc(b)<a.scrollTop,oc(b,b.height+Ec(d)),c&&Jd(e,null,d.height),e.curOp.forceUpdate=!0);return!0});return d}function le(a,b){if(a)for(;;){var c=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var g=c[1]?"bgClass":"textClass";null==b[g]?b[g]=c[2]:(new RegExp("(?:^|s)"+c[2]+"(?:$|s)")).test(b[g])||
(b[g]+=" "+c[2])}return a}function Jf(b,c){if(b.blankLine)return b.blankLine(c);if(b.innerMode&&(b=a.innerMode(b,c),b.mode.blankLine))return b.mode.blankLine(b.state)}function me(b,c,g,d){for(var e=0;10>e;e++){d&&(d[0]=a.innerMode(b,g).mode);var h=b.token(c,g);if(c.pos>c.start)return h}throw Error("Mode "+b.name+" failed to advance stream.");}function Sa(a,b,c,g){function d(a){return{start:m.start,end:m.pos,string:m.current(),type:k||null,state:a?Oc(e.mode,v):v}}var e=a.doc,h=e.mode,k;b=V(e,b);var f=
ja(e,b.line),v=vb(a,b.line,c),m=new kf(f.text,a.options.tabSize),n;for(g&&(n=[]);(g||m.pos<b.ch)&&!m.eol();)m.start=m.pos,k=me(h,m,v),g&&n.push(d(!0));return g?n:d()}function gg(a,b,c,g,d,e,h){var k=c.flattenSpans;null==k&&(k=a.options.flattenSpans);var f=0,v=null,m=new kf(b,a.options.tabSize),n,l=a.options.addModeClass&&[null];for(""==b&&le(Jf(c,g),e);!m.eol();){m.pos>a.options.maxHighlightLength?(k=!1,h&&ed(a,b,g,m.pos),m.pos=b.length,n=null):n=le(me(c,m,g,l),e);if(l){var z=l[0].name;z&&(n="m-"+
(n?z+" "+n:z))}if(!k||v!=n){for(;f<m.start;)f=Math.min(m.start,f+5E4),d(f,v);v=n}m.start=m.pos}for(;f<m.pos;)a=Math.min(m.pos,f+5E4),d(a,v),f=a}function Pc(a,b,c,g){var d=[a.state.modeGen],e={};gg(a,b.text,a.doc.mode,c,function(a,b){d.push(a,b)},e,g);for(c=0;c<a.state.overlays.length;++c){var h=a.state.overlays[c],k=1,f=0;gg(a,b.text,h.mode,!0,function(a,b){for(var c=k;f<a;){var g=d[k];g>a&&d.splice(k,1,a,d[k+1],g);k+=2;f=Math.min(a,g)}if(b)if(h.opaque)d.splice(c,k-c,a,"cm-overlay "+b),k=c+2;else for(;c<
k;c+=2)a=d[c+1],d[c+1]=(a?a+" ":"")+"cm-overlay "+b},e)}return{styles:d,classes:e.bgClass||e.textClass?e:null}}function Kf(a,b,c){if(!b.styles||b.styles[0]!=a.state.modeGen){var g=vb(a,Pa(b)),d=Pc(a,b,b.text.length>a.options.maxHighlightLength?Oc(a.doc.mode,g):g);b.stateAfter=g;b.styles=d.styles;d.classes?b.styleClasses=d.classes:b.styleClasses&&(b.styleClasses=null);c===a.doc.frontier&&a.doc.frontier++}return b.styles}function ed(a,b,c,g){var d=a.doc.mode;a=new kf(b,a.options.tabSize);a.start=a.pos=
g||0;for(""==b&&Jf(d,c);!a.eol();)me(d,a,c),a.start=a.pos}function Md(a,b){if(!a||/^\s*$/.test(a))return null;b=b.addModeClass?Pg:vg;return b[a]||(b[a]=a.replace(/\S+/g,"cm-$&"))}function Wa(a,b){var c=la("span",null,null,qb?"padding-right: .1px":null),c={pre:la("pre",[c],"CodeMirror-line"),content:c,col:0,pos:0,cm:a,splitSpaces:(Ia||qb)&&a.getOption("lineWrapping")};b.measure={};for(var g=0;g<=(b.rest?b.rest.length:0);g++){var d=g?b.rest[g-1]:b.line,e;c.pos=0;c.addToken=hg;var h;if(null!=ig)h=ig;
else{h=Hb(a.display.measure,document.createTextNode("A\u062eA"));var k=Xd(h,0,1).getBoundingClientRect();h=k&&k.left!=k.right?ig=3>Xd(h,1,2).getBoundingClientRect().right-k.right:!1}h&&(e=Pb(d))&&(c.addToken=lf(c.addToken,e));c.map=[];k=b!=a.display.externalMeasured&&Pa(d);a:{h=c;var k=Kf(a,d,k),f=d.markedSpans,v=d.text,m=0;if(f)for(var n=v.length,l=0,z=1,q="",r=void 0,t=void 0,u=0,B=void 0,p=void 0,y=void 0,x=void 0,G=void 0;;){if(u==l){for(var B=p=y=x=t="",G=null,u=Infinity,D=[],w=0;w<f.length;++w){var A=
f[w],yb=A.marker;"bookmark"==yb.type&&A.from==l&&yb.widgetNode?D.push(yb):A.from<=l&&(null==A.to||A.to>l||yb.collapsed&&A.to==l&&A.from==l)?(null!=A.to&&A.to!=l&&u>A.to&&(u=A.to,p=""),yb.className&&(B+=" "+yb.className),yb.css&&(t=yb.css),yb.startStyle&&A.from==l&&(y+=" "+yb.startStyle),yb.endStyle&&A.to==u&&(p+=" "+yb.endStyle),yb.title&&!x&&(x=yb.title),yb.collapsed&&(!G||0>Ld(G.marker,yb))&&(G=A)):A.from>l&&u>A.from&&(u=A.from)}if(G&&(G.from||0)==l){pd(h,(null==G.to?n+1:G.to)-l,G.marker,null==
G.from);if(null==G.to)break a;G.to==l&&(G=!1)}if(!G&&D.length)for(w=0;w<D.length;++w)pd(h,0,D[w])}if(l>=n)break;for(D=Math.min(n,u);;){if(q){w=l+q.length;G||(A=w>D?q.slice(0,D-l):q,h.addToken(h,A,r?r+B:B,y,l+A.length==u?p:"",x,t));if(w>=D){q=q.slice(D-l);l=D;break}l=w;y=""}q=v.slice(m,m=k[z++]);r=Md(k[z++],h.cm.options)}}else for(var z=1;z<k.length;z+=2)h.addToken(h,v.slice(m,m=k[z]),Md(k[z+1],h.cm.options))}d.styleClasses&&(d.styleClasses.bgClass&&(c.bgClass=Lf(d.styleClasses.bgClass,c.bgClass||
"")),d.styleClasses.textClass&&(c.textClass=Lf(d.styleClasses.textClass,c.textClass||"")));0==c.map.length&&c.map.push(0,0,c.content.appendChild(Eb(a.display.measure)));0==g?(b.measure.map=c.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(c.map),(b.measure.caches||(b.measure.caches=[])).push({}))}qb&&/\bcm-tab\b/.test(c.content.lastChild.className)&&(c.content.className="cm-tab-wrap-hack");Ya(a,"renderLine",a,b.line,c.pre);c.pre.className&&(c.textClass=Lf(c.pre.className,c.textClass||
""));return c}function hg(a,b,c,g,d,e,h){if(b){var k=a.splitSpaces?b.replace(/ {3,}/g,Wc):b,f=a.cm.state.specialChars,v=!1;if(f.test(b))for(var m=document.createDocumentFragment(),n=0;;){f.lastIndex=n;var l=f.exec(b),z=l?l.index-n:b.length-n;if(z){var q=document.createTextNode(k.slice(n,n+z));Ia&&9>Va?m.appendChild(la("span",[q])):m.appendChild(q);a.map.push(a.pos,a.pos+z,q);a.col+=z;a.pos+=z}if(!l)break;n+=z+1;"\t"==l[0]?(q=a.cm.options.tabSize,l=q-a.col%q,q=m.appendChild(la("span",Jb(l),"cm-tab")),
q.setAttribute("role","presentation"),q.setAttribute("cm-text","\t"),a.col+=l):("\r"==l[0]||"\n"==l[0]?(q=m.appendChild(la("span","\r"==l[0]?"\u240d":"\u2424","cm-invalidchar")),q.setAttribute("cm-text",l[0])):(q=a.cm.options.specialCharPlaceholder(l[0]),q.setAttribute("cm-text",l[0]),Ia&&9>Va?m.appendChild(la("span",[q])):m.appendChild(q)),a.col+=1);a.map.push(a.pos,a.pos+1,q);a.pos++}else{a.col+=b.length;var m=document.createTextNode(k);a.map.push(a.pos,a.pos+b.length,m);Ia&&9>Va&&(v=!0);a.pos+=
b.length}if(c||g||d||v||h)return b=c||"",g&&(b+=g),d&&(b+=d),g=la("span",[m],b,h),e&&(g.title=e),a.content.appendChild(g);a.content.appendChild(m)}}function Wc(a){for(var b=" ",c=0;c<a.length-2;++c)b+=c%2?" ":"\u00a0";return b+" "}function lf(a,b){return function(c,g,d,e,h,k,f){d=d?d+" cm-force-border":"cm-force-border";for(var v=c.pos,m=v+g.length;;){for(var n=0;n<b.length;n++){var l=b[n];if(l.to>v&&l.from<=v)break}if(l.to>=m)return a(c,g,d,e,h,k,f);a(c,g.slice(0,l.to-v),d,e,null,k,f);e=null;g=g.slice(l.to-
v);v=l.to}}}function pd(a,b,c,g){var d=!g&&c.widgetNode;d&&a.map.push(a.pos,a.pos+b,d);!g&&a.cm.display.input.needsContentAttribute&&(d||(d=a.content.appendChild(document.createElement("span"))),d.setAttribute("cm-marker",c.id));d&&(a.cm.display.input.setUneditable(d),a.content.appendChild(d));a.pos+=b}function he(a,b){return 0==b.from.ch&&0==b.to.ch&&""==Na(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Id(a,b,c,g){function d(a,c,d){a.text=c;a.stateAfter&&(a.stateAfter=null);a.styles&&
(a.styles=null);null!=a.order&&(a.order=null);fg(a);od(a,d);c=g?g(a):1;c!=a.height&&oc(a,c);Xa(a,"change",a,b)}function e(a,b){for(var d=[];a<b;++a)d.push(new mf(f[a],c?c[a]:null,g));return d}var h=b.from,k=b.to,f=b.text,v=ja(a,h.line),m=ja(a,k.line),n=Na(f),l=c?c[f.length-1]:null,z=k.line-h.line;if(b.full)a.insert(0,e(0,f.length)),a.remove(f.length,a.size-f.length);else if(he(a,b)){var q=e(0,f.length-1);d(m,m.text,l);z&&a.remove(h.line,z);q.length&&a.insert(h.line,q)}else v==m?1==f.length?d(v,v.text.slice(0,
h.ch)+n+v.text.slice(k.ch),l):(q=e(1,f.length-1),q.push(new mf(n+v.text.slice(k.ch),l,g)),d(v,v.text.slice(0,h.ch)+f[0],c?c[0]:null),a.insert(h.line+1,q)):1==f.length?(d(v,v.text.slice(0,h.ch)+f[0]+m.text.slice(k.ch),c?c[0]:null),a.remove(h.line+1,z)):(d(v,v.text.slice(0,h.ch)+f[0],c?c[0]:null),d(m,n+m.text.slice(k.ch),l),q=e(1,f.length-1),1<z&&a.remove(h.line+1,z-1),a.insert(h.line+1,q));Xa(a,"change",a,b)}function ne(a){this.lines=a;this.parent=null;for(var b=0,c=0;b<a.length;++b)a[b].parent=this,
c+=a[b].height;this.height=c}function oe(a){this.children=a;for(var b=0,c=0,g=0;g<a.length;++g){var d=a[g],b=b+d.chunkSize(),c=c+d.height;d.parent=this}this.size=b;this.height=c;this.parent=null}function Hd(a,b,c){function g(a,d,e){if(a.linked)for(var h=0;h<a.linked.length;++h){var k=a.linked[h];if(k.doc!=d){var f=e&&k.sharedHist;if(!c||f)b(k.doc,f),g(k.doc,a,f)}}}g(a,null,!0)}function sf(a,c){if(c.cm)throw Error("This document is already in use.");a.doc=c;c.cm=a;f(a);b(a);a.options.lineWrapping||
t(a);a.options.mode=c.modeOption;mb(a)}function ja(a,b){b-=a.first;if(0>b||b>=a.size)throw Error("There is no line "+(b+a.first)+" in the document.");for(;!a.lines;)for(var c=0;;++c){var g=a.children[c],d=g.chunkSize();if(b<d){a=g;break}b-=d}return a.lines[b]}function yd(a,b,c){var g=[],d=b.line;a.iter(b.line,c.line+1,function(a){a=a.text;d==c.line&&(a=a.slice(0,c.ch));d==b.line&&(a=a.slice(b.ch));g.push(a);++d});return g}function pe(a,b,c){var g=[];a.iter(b,c,function(a){g.push(a.text)});return g}
function oc(a,b){if(b-=a.height)for(;a;a=a.parent)a.height+=b}function Pa(a){if(null==a.parent)return null;var b=a.parent;a=zb(b.lines,a);for(var c=b.parent;c;b=c,c=c.parent)for(var g=0;c.children[g]!=b;++g)a+=c.children[g].chunkSize();return a+b.first}function ad(a,b){var c=a.first;a:do{for(var g=0;g<a.children.length;++g){var d=a.children[g],e=d.height;if(b<e){a=d;continue a}b-=e;c+=d.chunkSize()}return c}while(!a.lines);for(g=0;g<a.lines.length;++g){d=a.lines[g].height;if(b<d)break;b-=d}return c+
g}function qc(a){a=Gb(a);for(var b=0,c=a.parent,g=0;g<c.lines.length;++g){var d=c.lines[g];if(d==a)break;else b+=d.height}for(a=c.parent;a;c=a,a=c.parent)for(g=0;g<a.children.length&&(d=a.children[g],d!=c);++g)b+=d.height;return b}function Pb(a){var b=a.order;null==b&&(b=a.order=qe(a.text));return b}function Jc(a){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=
a||1}function ef(a,b){var c={from:aa(b.from),to:de(b),text:yd(a,b.from,b.to)};fb(a,c,b.from.line,b.to.line+1);Hd(a,function(a){fb(a,c,b.from.line,b.to.line+1)},!0);return c}function vf(a){for(;a.length;)if(Na(a).ranges)a.pop();else break}function dg(a,b,c,g){var d=a.history;d.undone.length=0;var e=+new Date,h,k;if(k=d.lastOp==g||d.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&a.cm&&d.lastModTime>e-a.cm.options.historyEventDelay||"*"==b.origin.charAt(0)))d.lastOp==g?(vf(d.done),h=Na(d.done)):
d.done.length&&!Na(d.done).ranges?h=Na(d.done):1<d.done.length&&!d.done[d.done.length-2].ranges?(d.done.pop(),h=Na(d.done)):h=void 0,k=h;if(k){var f=Na(h.changes);0==ya(b.from,b.to)&&0==ya(b.from,f.to)?f.to=de(b):h.changes.push(ef(a,b))}else for((h=Na(d.done))&&h.ranges||zd(a.sel,d.done),h={changes:[ef(a,b)],generation:d.generation},d.done.push(h);d.done.length>d.undoDepth;)d.done.shift(),d.done[0].ranges||d.done.shift();d.done.push(c);d.generation=++d.maxGeneration;d.lastModTime=d.lastSelTime=e;
d.lastOp=d.lastSelOp=g;d.lastOrigin=d.lastSelOrigin=b.origin;f||Ya(a,"historyAdded")}function zd(a,b){var c=Na(b);c&&c.ranges&&c.equals(a)||b.push(a)}function fb(a,b,c,g){var d=b["spans_"+a.id],e=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,g),function(c){c.markedSpans&&((d||(d=b["spans_"+a.id]={}))[e]=c.markedSpans);++e})}function ug(a){if(!a)return null;for(var b=0,c;b<a.length;++b)a[b].marker.explicitlyCleared?c||(c=a.slice(0,b)):c&&c.push(a[b]);return c?c.length?c:null:a}function Re(a,
b,c){for(var g=0,d=[];g<a.length;++g){var e=a[g];if(e.ranges)d.push(c?Ha.prototype.deepCopy.call(e):e);else{var e=e.changes,h=[];d.push({changes:h});for(var k=0;k<e.length;++k){var f=e[k],v;h.push({from:f.from,to:f.to,text:f.text});if(b)for(var m in f)(v=m.match(/^spans_(\d+)$/))&&-1<zb(b,Number(v[1]))&&(Na(h)[m]=f[m],delete f[m])}}}return d}function jg(a,b,c,g){c<a.line?a.line+=g:b<a.line&&(a.line=b,a.ch=0)}function qd(a,b,c,g){for(var d=0;d<a.length;++d){var e=a[d],h=!0;if(e.ranges){e.copied||(e=
a[d]=e.deepCopy(),e.copied=!0);for(var k=0;k<e.ranges.length;k++)jg(e.ranges[k].anchor,b,c,g),jg(e.ranges[k].head,b,c,g)}else{for(k=0;k<e.changes.length;++k){var f=e.changes[k];if(c<f.from.line)f.from=S(f.from.line+g,f.from.ch),f.to=S(f.to.line+g,f.to.ch);else if(b<=f.to.line){h=!1;break}}h||(a.splice(0,d+1),d=0)}}}function ge(a,b){var c=b.from.line,g=b.to.line;b=b.text.length-(g-c)-1;qd(a.done,c,g,b);qd(a.undone,c,g,b)}function kc(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}
function jc(a){var b=a.which;null==b&&(a.button&1?b=1:a.button&2?b=3:a.button&4&&(b=2));Bc&&a.ctrlKey&&1==b&&(b=3);return b}function nf(a,b,c){a=a._handlers&&a._handlers[b];return c?a&&0<a.length?a.slice():Ka:a||Ka}function Xa(a,b){function c(a){return function(){a.apply(null,d)}}var g=nf(a,b,!1);if(g.length){var d=Array.prototype.slice.call(arguments,2),e;jd?e=jd.delayedCallbacks:re?e=re:(e=re=[],setTimeout(wg,0));for(var h=0;h<g.length;++h)e.push(c(g[h]))}}function wg(){var a=re;re=null;for(var b=
0;b<a.length;++b)a[b]()}function $b(a,b,c){"string"==typeof b&&(b={type:b,preventDefault:function(){this.defaultPrevented=!0}});Ya(a,c||b.type,a,b);return kc(b)||b.codemirrorIgnore}function og(a){var b=a._handlers&&a._handlers.cursorActivity;if(b){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var c=0;c<b.length;++c)-1==zb(a,b[c])&&a.push(b[c])}}function gc(a,b){return 0<nf(a,b).length}function gb(a){a.prototype.on=function(a,b){sa(this,a,b)};a.prototype.off=function(a,
b){wc(this,a,b)}}function Rd(){this.id=null}function Jb(a){for(;qa.length<=a;)qa.push(Na(qa)+" ");return qa[a]}function Na(a){return a[a.length-1]}function zb(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function uf(a,b){for(var c=[],g=0;g<a.length;g++)c[g]=b(a[g],g);return c}function rd(){}function kg(a,b){Object.create?a=Object.create(a):(rd.prototype=a,a=new rd);b&&yc(b,a);return a}function yc(a,b,c){b||(b={});for(var g in a)!a.hasOwnProperty(g)||!1===c&&b.hasOwnProperty(g)||(b[g]=
a[g]);return b}function Ve(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function nd(a,b){return b?-1<b.source.indexOf("\\w")&&Qg(a)?!0:b.test(a):Qg(a)}function Se(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function Wd(a){return 768<=a.charCodeAt(0)&&xg.test(a)}function la(a,b,c,g){a=document.createElement(a);c&&(a.className=c);g&&(a.style.cssText=g);if("string"==typeof b)a.appendChild(document.createTextNode(b));else if(b)for(c=0;c<
b.length;++c)a.appendChild(b[c]);return a}function vd(a){for(var b=a.childNodes.length;0<b;--b)a.removeChild(a.firstChild);return a}function Hb(a,b){return vd(a).appendChild(b)}function Vb(){for(var a=document.activeElement;a&&a.root&&a.root.activeElement;)a=a.root.activeElement;return a}function xc(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}function Lf(a,b){a=a.split(" ");for(var c=0;c<a.length;c++)a[c]&&!xc(a[c]).test(b)&&(b+=" "+a[c]);return b}function sd(a){if(document.body.getElementsByClassName)for(var b=
document.body.getElementsByClassName("CodeMirror"),c=0;c<b.length;c++){var g=b[c].CodeMirror;g&&a(g)}}function rf(){var a;sa(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null;sd(Ed)},100))});sa(window,"blur",function(){sd(Tb)})}function Eb(a){if(null==yg){var b=la("span","\u200b");Hb(a,la("span",[b,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&(yg=1>=b.offsetWidth&&2<b.offsetHeight&&!(Ia&&8>Va))}a=yg?la("span","\u200b"):la("span","\u00a0",null,"display: inline-block; width: 1px; margin-right: -1px");
a.setAttribute("cm-text","");return a}function Yb(a,b,c,g){if(!a)return g(b,c,"ltr");for(var d=!1,e=0;e<a.length;++e){var h=a[e];if(h.from<c&&h.to>b||b==c&&h.to==b)g(Math.max(h.from,b),Math.min(h.to,c),1==h.level?"rtl":"ltr"),d=!0}d||g(b,c,"ltr")}function Af(a){return a.level%2?a.to:a.from}function Bf(a){return a.level%2?a.from:a.to}function $d(a){return(a=Pb(a))?Af(a[0]):0}function Ze(a){var b=Pb(a);return b?Bf(Na(b)):a.text.length}function Xc(a,b){var c=ja(a.doc,b);a=Gb(c);a!=c&&(b=Pa(a));a=(c=
Pb(a))?c[0].level%2?Ze(a):$d(a):0;return S(b,a)}function Nd(a,b){var c=Xc(a,b.line);a=ja(a.doc,c.line);var g=Pb(a);return g&&0!=g[0].level?c:(a=Math.max(0,a.text.search(/\S/)),S(c.line,b.line==c.line&&b.ch<=a&&b.ch?0:a))}function Ud(a,b){Be=null;for(var c=0,g;c<a.length;++c){var d=a[c];if(d.from<b&&d.to>b)return c;if(d.from==b||d.to==b)if(null==g)g=c;else{b=d.level;var e=a[g].level;a=a[0].level;a=b==a?!0:e==a?!1:b<e;if(a)return d.from!=d.to&&(Be=g),c;d.from!=d.to&&(Be=c);break}}return g}function Yc(a,
b,c,g){if(!g)return b+c;do b+=c;while(0<b&&Wd(a.text.charAt(b)));return b}function Zb(a,b,c,g){var d=Pb(a);if(!d)return Gf(a,b,c,g);var e=Ud(d,b),h=d[e];for(b=Yc(a,b,h.level%2?-c:c,g);;){if(b>h.from&&b<h.to)return b;if(b==h.from||b==h.to){if(Ud(d,b)==e)return b;h=d[e+c];return 0<c==h.level%2?h.to:h.from}h=d[e+=c];if(!h)return null;b=0<c==h.level%2?Yc(a,h.to,-1,g):Yc(a,h.from,1,g)}}function Gf(a,b,c,g){b+=c;if(g)for(;0<b&&Wd(a.text.charAt(b));)b+=c;return 0>b||b>a.text.length?null:b}var Kb=navigator.userAgent,
of=navigator.platform,Mb=/gecko\/\d/i.test(Kb),Te=/MSIE \d/.test(Kb),td=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Kb),Ia=Te||td,Va=Ia&&(Te?document.documentMode||6:td[1]),qb=/WebKit\//.test(Kb),Mf=qb&&/Qt\/\d+\.\d+/.test(Kb),zg=/Chrome\//.test(Kb),vc=/Opera\//.test(Kb),Wf=/Apple Computer/.test(navigator.vendor),Ag=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Kb),pg=/PhantomJS/.test(Kb),xe=/AppleWebKit/.test(Kb)&&/Mobile\/\w+/.test(Kb),Ue=xe||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Kb),
Bc=xe||/Mac/.test(of),Bg=/win/i.test(of),Od=vc&&Kb.match(/Version\/(\d*\.\d*)/);Od&&(Od=Number(Od[1]));Od&&15<=Od&&(vc=!1,qb=!0);var Cg=Bc&&(Mf||vc&&(null==Od||12.11>Od)),Dd=Mb||Ia&&9<=Va,df=!1,Nc=!1;A.prototype=yc({update:function(a){var b=a.scrollWidth>a.clientWidth+1,c=a.scrollHeight>a.clientHeight+1,g=a.nativeBarWidth;c?(this.vert.style.display="block",this.vert.style.bottom=b?g+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(b?g:0)))+"px"):(this.vert.style.display=
"",this.vert.firstChild.style.height="0");b?(this.horiz.style.display="block",this.horiz.style.right=c?g+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(c?g:0))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedOverlay&&0<a.clientHeight&&(0==g&&this.overlayHack(),this.checkedOverlay=!0);return{right:c?g:0,bottom:b?g:0}},setScrollLeft:function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=
a)},setScrollTop:function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a)},overlayHack:function(){this.horiz.style.minHeight=this.vert.style.minWidth=Bc&&!Ag?"12px":"18px";var a=this,b=function(b){(b.target||b.srcElement)!=a.vert&&(b.target||b.srcElement)!=a.horiz&&Ua(a.cm,Ee)(b)};sa(this.vert,"mousedown",b);sa(this.horiz,"mousedown",b)},clear:function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)}},A.prototype);g.prototype=yc({update:function(){return{bottom:0,
right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},g.prototype);a.scrollbarModel={"native":A,"null":g};J.prototype.signal=function(a,b){gc(a,b)&&this.events.push(arguments)};J.prototype.finish=function(){for(var a=0;a<this.events.length;a++)Ya.apply(null,this.events[a])};var S=a.Pos=function(a,b){if(!(this instanceof S))return new S(a,b);this.line=a;this.ch=b},ya=a.cmpPos=function(a,b){return a.line-b.line||a.ch-b.ch},Wb=null;ea.prototype=yc({init:function(a){function b(a){if(g.somethingSelected())Wb=
g.getSelections(),c.inaccurateSelection&&(c.prevInput="",c.inaccurateSelection=!1,e.value=Wb.join("\n"),Qa(e));else if(g.options.lineWiseCopyCut){var b=pa(g);Wb=b.text;"cut"==a.type?g.setSelections(b.ranges,null,Za):(c.prevInput="",e.value=b.text.join("\n"),Qa(e))}else return;"cut"==a.type&&(g.state.cutIncoming=!0)}var c=this,g=this.cm,d=this.wrapper=Z(),e=this.textarea=d.firstChild;a.wrapper.insertBefore(d,a.wrapper.firstChild);xe&&(e.style.width="0px");sa(e,"input",function(){Ia&&9<=Va&&c.hasSelection&&
(c.hasSelection=null);c.poll()});sa(e,"paste",function(a){if($a(a,g))return!0;g.state.pasteIncoming=!0;c.fastPoll()});sa(e,"cut",b);sa(e,"copy",b);sa(a.scroller,"paste",function(b){Qb(a,b)||(g.state.pasteIncoming=!0,c.focus())});sa(a.lineSpace,"selectstart",function(b){Qb(a,b)||wb(b)});sa(e,"compositionstart",function(){var a=g.getCursor("from");c.composing&&c.composing.range.clear();c.composing={start:a,range:g.markText(a,g.getCursor("to"),{className:"CodeMirror-composing"})}});sa(e,"compositionend",
function(){c.composing&&(c.poll(),c.composing.range.clear(),c.composing=null)})},prepareSelection:function(){var a=this.cm,b=a.display,c=a.doc,g=wf(a);if(a.options.moveInputWithCursor){var a=Cb(a,c.sel.primary().head,"div"),c=b.wrapper.getBoundingClientRect(),d=b.lineDiv.getBoundingClientRect();g.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,a.top+d.top-c.top));g.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,a.left+d.left-c.left))}return g},showSelection:function(a){var b=this.cm.display;
Hb(b.cursorDiv,a.cursors);Hb(b.selectionDiv,a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},reset:function(a){if(!this.contextMenuPending){var b,c,g=this.cm,d=g.doc;g.somethingSelected()?(this.prevInput="",b=d.sel.primary(),c=(b=ag&&(100<b.to().line-b.from().line||1E3<(c=g.getSelection()).length))?"-":c||g.getSelection(),this.textarea.value=c,g.state.focused&&Qa(this.textarea),Ia&&9<=Va&&(this.hasSelection=c)):a||(this.prevInput=this.textarea.value=
"",Ia&&9<=Va&&(this.hasSelection=null));this.inaccurateSelection=b}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!Ue||Vb()!=this.textarea))try{this.textarea.focus()}catch(yb){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var a=this;a.pollingFast||a.polling.set(this.cm.options.pollInterval,
function(){a.poll();a.cm.state.focused&&a.slowPoll()})},fastPoll:function(){function a(){c.poll()||b?(c.pollingFast=!1,c.slowPoll()):(b=!0,c.polling.set(60,a))}var b=!1,c=this;c.pollingFast=!0;c.polling.set(20,a)},poll:function(){var a=this.cm,b=this.textarea,c=this.prevInput;if(this.contextMenuPending||!a.state.focused||Dg(b)&&!c&&!this.composing||Ea(a)||a.options.disableInput||a.state.keySeq)return!1;var g=b.value;if(g==c&&!a.somethingSelected())return!1;if(Ia&&9<=Va&&this.hasSelection===g||Bc&&
/[\uf700-\uf7ff]/.test(g))return a.display.input.reset(),!1;if(a.doc.sel==a.display.selForContextMenu){var d=g.charCodeAt(0);8203!=d||c||(c="\u200b");if(8666==d)return this.reset(),this.cm.execCommand("undo")}for(var e=0,d=Math.min(c.length,g.length);e<d&&c.charCodeAt(e)==g.charCodeAt(e);)++e;var h=this;nb(a,function(){ua(a,g.slice(e),c.length-e,null,h.composing?"*compose":null);1E3<g.length||-1<g.indexOf("\n")?b.value=h.prevInput="":h.prevInput=g;h.composing&&(h.composing.range.clear(),h.composing.range=
a.markText(h.composing.start,a.getCursor("to"),{className:"CodeMirror-composing"}))});return!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){Ia&&9<=Va&&(this.hasSelection=null);this.fastPoll()},onContextMenu:function(a){function b(){if(null!=h.selectionStart){var a=d.somethingSelected(),b="\u200b"+(a?h.value:"");h.value="\u21da";h.value=b;g.prevInput=a?"":"\u200b";h.selectionStart=1;h.selectionEnd=b.length;e.selForContextMenu=d.doc.sel}}function c(){g.contextMenuPending=
!1;g.wrapper.style.position="relative";h.style.cssText=v;Ia&&9>Va&&e.scrollbars.setScrollTop(e.scroller.scrollTop=f);if(null!=h.selectionStart){(!Ia||Ia&&9>Va)&&b();var a=0;e.detectingSelectAll=setTimeout(function Tg(){e.selForContextMenu==d.doc.sel&&0==h.selectionStart&&0<h.selectionEnd&&"\u200b"==g.prevInput?Ua(d,Ke.selectAll)(d):10>a++?e.detectingSelectAll=setTimeout(Tg,500):e.input.reset()},200)}}var g=this,d=g.cm,e=d.display,h=g.textarea,k=xb(d,a),f=e.scroller.scrollTop;if(k&&!vc){d.options.resetSelectionOnContextMenu&&
-1==d.doc.sel.contains(k)&&Ua(d,wa)(d.doc,oa(k),Za);var v=h.style.cssText;g.wrapper.style.position="absolute";h.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: "+(Ia?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";if(qb)var m=window.scrollY;e.input.focus();qb&&window.scrollTo(null,m);e.input.reset();d.somethingSelected()||
(h.value=g.prevInput=" ");g.contextMenuPending=!0;e.selForContextMenu=d.doc.sel;clearTimeout(e.detectingSelectAll);Ia&&9<=Va&&b();Dd?(He(a),sa(window,"mouseup",function Sg(){wc(window,"mouseup",Sg);setTimeout(c,20)})):setTimeout(c,50)}},readOnlyChanged:function(a){a||this.reset()},setUneditable:rd,needsContentAttribute:!1},ea.prototype);C.prototype=yc({init:function(a){function b(a){if(g.somethingSelected())Wb=g.getSelections(),"cut"==a.type&&g.replaceSelection("",null,"cut");else if(g.options.lineWiseCopyCut){var b=
pa(g);Wb=b.text;"cut"==a.type&&g.operation(function(){g.setSelections(b.ranges,0,Za);g.replaceSelection("",null,"cut")})}else return;if(a.clipboardData&&!xe)a.preventDefault(),a.clipboardData.clearData(),a.clipboardData.setData("text/plain",Wb.join("\n"));else{var c=Z();a=c.firstChild;g.display.lineSpace.insertBefore(c,g.display.lineSpace.firstChild);a.value=Wb.join("\n");var d=document.activeElement;Qa(a);setTimeout(function(){g.display.lineSpace.removeChild(c);d.focus()},50)}}var c=this,g=c.cm;
a=c.div=a.lineDiv;fa(a);sa(a,"paste",function(a){$a(a,g)});sa(a,"compositionstart",function(a){a=a.data;c.composing={sel:g.doc.sel,data:a,startData:a};if(a){var b=g.doc.sel.primary(),d=g.getLine(b.head.line).indexOf(a,Math.max(0,b.head.ch-a.length));-1<d&&d<=b.head.ch&&(c.composing.sel=oa(S(b.head.line,d),S(b.head.line,d+a.length)))}});sa(a,"compositionupdate",function(a){c.composing.data=a.data});sa(a,"compositionend",function(a){var b=c.composing;b&&(a.data==b.startData||/\u200b/.test(a.data)||
(b.data=a.data),setTimeout(function(){b.handled||c.applyComposition(b);c.composing==b&&(c.composing=null)},50))});sa(a,"touchstart",function(){c.forceCompositionEnd()});sa(a,"input",function(){c.composing||!Ea(g)&&c.pollContent()||nb(c.cm,function(){mb(g)})});sa(a,"copy",b);sa(a,"cut",b)},prepareSelection:function(){var a=wf(this.cm,!1);a.focus=this.cm.state.focused;return a},showSelection:function(a){a&&this.cm.display.view.length&&(a.focus&&this.showPrimarySelection(),this.showMultipleSelections(a))},
showPrimarySelection:function(){var a=window.getSelection(),b=this.cm.doc.sel.primary(),c=Ma(this.cm,a.anchorNode,a.anchorOffset),g=Ma(this.cm,a.focusNode,a.focusOffset);if(!c||c.bad||!g||g.bad||0!=ya(ka(c,g),b.from())||0!=ya(ga(c,g),b.to()))if(c=va(this.cm,b.from()),g=va(this.cm,b.to()),c||g){var d=this.cm.display.view,b=a.rangeCount&&a.getRangeAt(0);c?g||(g=d[d.length-1].measure,g=g.maps?g.maps[g.maps.length-1]:g.map,g={node:g[g.length-1],offset:g[g.length-2]-g[g.length-3]}):c={node:d[0].measure.map[2],
offset:0};try{var e=Xd(c.node,c.offset,g.offset,g.node)}catch(ve){}e&&(a.removeAllRanges(),a.addRange(e),b&&null==a.anchorNode?a.addRange(b):Mb&&this.startGracePeriod());this.rememberSelection()}},startGracePeriod:function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&a.cm.operation(function(){a.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(a){Hb(this.cm.display.cursorDiv,a.cursors);Hb(this.cm.display.selectionDiv,
a.selection)},rememberSelection:function(){var a=window.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=a.focusOffset},selectionInEditor:function(){var a=window.getSelection();if(!a.rangeCount)return!1;a=a.getRangeAt(0).commonAncestorContainer;return Sf(this.div,a)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},
receivedFocus:function(){function a(){b.cm.state.focused&&(b.pollSelection(),b.polling.set(b.cm.options.pollInterval,a))}var b=this;this.selectionInEditor()?this.pollSelection():nb(this.cm,function(){b.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,a)},selectionChanged:function(){var a=window.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&
!this.gracePeriod&&this.selectionChanged()){var a=window.getSelection(),b=this.cm;this.rememberSelection();var c=Ma(b,a.anchorNode,a.anchorOffset),g=Ma(b,a.focusNode,a.focusOffset);c&&g&&nb(b,function(){wa(b.doc,oa(c,g),Za);if(c.bad||g.bad)b.curOp.selectionChanged=!0})}},pollContent:function(){var a=this.cm,b=a.display,c=a.doc.sel.primary(),g=c.from(),c=c.to();if(g.line<b.viewFrom||c.line>b.viewTo-1)return!1;var d;g.line==b.viewFrom||0==(d=kb(a,g.line))?(g=Pa(b.view[0].line),d=b.view[0].node):(g=
Pa(b.view[d].line),d=b.view[d-1].node.nextSibling);var e=kb(a,c.line);e==b.view.length-1?(c=b.viewTo-1,b=b.lineDiv.lastChild):(c=Pa(b.view[e+1].line)-1,b=b.view[e+1].node.previousSibling);b=a.doc.splitLines(Ta(a,d,b,g,c));for(d=yd(a.doc,S(g,0),S(c,ja(a.doc,c).text.length));1<b.length&&1<d.length;)if(Na(b)==Na(d))b.pop(),d.pop(),c--;else if(b[0]==d[0])b.shift(),d.shift(),g++;else break;for(var h=0,e=0,k=b[0],f=d[0],v=Math.min(k.length,f.length);h<v&&k.charCodeAt(h)==f.charCodeAt(h);)++h;k=Na(b);f=
Na(d);for(v=Math.min(k.length-(1==b.length?h:0),f.length-(1==d.length?h:0));e<v&&k.charCodeAt(k.length-e-1)==f.charCodeAt(f.length-e-1);)++e;b[b.length-1]=k.slice(0,k.length-e);b[0]=b[0].slice(h);g=S(g,h);c=S(c,d.length?Na(d).length-e:0);if(1<b.length||b[0]||ya(g,c))return ee(a.doc,b,g,c,"+input"),!0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),
this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(a){Ea(this.cm)?Ua(this.cm,mb)(this.cm):a.data&&a.data!=a.startData&&Ua(this.cm,ua)(this.cm,a.data,0,a.sel)},setUneditable:function(a){a.contentEditable="false"},onKeyPress:function(a){a.preventDefault();Ea(this.cm)||Ua(this.cm,ua)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0)},readOnlyChanged:function(a){this.div.contentEditable=String("nocursor"!=a)},onContextMenu:rd,resetPosition:rd,needsContentAttribute:!0},
C.prototype);a.inputStyles={textarea:ea,contenteditable:C};Ha.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var c=this.ranges[b],g=a.ranges[b];if(0!=ya(c.anchor,g.anchor)||0!=ya(c.head,g.head))return!1}return!0},deepCopy:function(){for(var a=[],b=0;b<this.ranges.length;b++)a[b]=new na(aa(this.ranges[b].anchor),aa(this.ranges[b].head));
return new Ha(a,this.primIndex)},somethingSelected:function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},contains:function(a,b){b||(b=a);for(var c=0;c<this.ranges.length;c++){var g=this.ranges[c];if(0<=ya(b,g.from())&&0>=ya(a,g.to()))return c}return-1}};na.prototype={from:function(){return ka(this.anchor,this.head)},to:function(){return ga(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var ze=
{left:0,right:0,top:0,bottom:0},id,jd=null,ic=0,Ie,Sc,Cf=0,af=0,ac=null;Ia?ac=-.53:Mb?ac=15:zg?ac=-.7:Wf&&(ac=-1/3);var Zf=function(a){var b=a.wheelDeltaX,c=a.wheelDeltaY;null==b&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(b=a.detail);null==c&&a.detail&&a.axis==a.VERTICAL_AXIS?c=a.detail:null==c&&(c=a.wheelDelta);return{x:b,y:c}};a.wheelEventPixels=function(a){a=Zf(a);a.x*=ac;a.y*=ac;return a};var Og=new Rd,$f=null,de=a.changeEnd=function(a){return a.text?S(a.from.line+a.text.length-1,Na(a.text).length+
(1==a.text.length?a.from.ch:0)):a.to};a.prototype={constructor:a,focus:function(){window.focus();this.display.input.focus()},setOption:function(a,b){var c=this.options,g=c[a];if(c[a]!=b||"mode"==a)c[a]=b,$c.hasOwnProperty(a)&&Ua(this,$c[a])(this,b,g)},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](Pe(a))},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||b[c].name==a)return b.splice(c,
1),!0},addOverlay:lb(function(b,c){var g=b.token?b:a.getMode(this.options,b);if(g.startState)throw Error("Overlays may not be stateful.");this.state.overlays.push({mode:g,modeSpec:b,opaque:c&&c.opaque});this.state.modeGen++;mb(this)}),removeOverlay:lb(function(a){for(var b=this.state.overlays,c=0;c<b.length;++c){var g=b[c].modeSpec;if(g==a||"string"==typeof a&&g.name==a){b.splice(c,1);this.state.modeGen++;mb(this);break}}}),indentLine:lb(function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=
null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract");ib(this.doc,a)&&Ga(this,a,b,c)}),indentSelection:lb(function(a){for(var b=this.doc.sel.ranges,c=-1,g=0;g<b.length;g++){var d=b[g];if(d.empty())d.head.line>c&&(Ga(this,d.head.line,a,!0),c=d.head.line,g==this.doc.sel.primIndex&&bb(this));else{for(var e=d.from(),d=d.to(),h=Math.max(c,e.line),c=Math.min(this.lastLine(),d.line-(d.ch?0:1))+1,d=h;d<c;++d)Ga(this,d,a);d=this.doc.sel.ranges;0==e.ch&&b.length==d.length&&0<d[g].from().ch&&fc(this.doc,
g,new na(e,d[g].to()),Za)}}}),getTokenAt:function(a,b){return Sa(this,a,b)},getLineTokens:function(a,b){return Sa(this,S(a),b,!0)},getTokenTypeAt:function(a){a=V(this.doc,a);var b=Kf(this,ja(this.doc,a.line)),c=0,g=(b.length-1)/2;a=a.ch;if(0==a)b=b[2];else for(;;){var d=c+g>>1;if((d?b[2*d-1]:0)>=a)g=d;else if(b[2*d+1]<a)c=d+1;else{b=b[2*d+2];break}}c=b?b.indexOf("cm-overlay "):-1;return 0>c?b:0==c?null:b.slice(0,c-1)},getModeAt:function(b){var c=this.doc.mode;return c.innerMode?a.innerMode(c,this.getTokenAt(b).state).mode:
c},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var c=[];if(!Pd.hasOwnProperty(b))return c;var g=Pd[b];a=this.getModeAt(a);if("string"==typeof a[b])g[a[b]]&&c.push(g[a[b]]);else if(a[b])for(var d=0;d<a[b].length;d++){var e=g[a[b][d]];e&&c.push(e)}else a.helperType&&g[a.helperType]?c.push(g[a.helperType]):g[a.name]&&c.push(g[a.name]);for(d=0;d<g._global.length;d++)b=g._global[d],b.pred(a,this)&&-1==zb(c,b.val)&&c.push(b.val);return c},getStateAfter:function(a,b){var c=
this.doc;a=Math.max(c.first,Math.min(null==a?c.first+c.size-1:a,c.first+c.size-1));return vb(this,a+1,b)},cursorCoords:function(a,b){var g=this.doc.sel.primary();a=null==a?g.head:"object"==("undefined"===typeof a?"undefined":c(a))?V(this.doc,a):a?g.from():g.to();return Cb(this,a,b||"page")},charCoords:function(a,b){return Cc(this,V(this.doc,a),b||"page")},coordsChar:function(a,b){a=Zd(this,a,b||"page");return hd(this,a.left,a.top)},lineAtHeight:function(a,b){a=Zd(this,{top:a,left:0},b||"page").top;
return ad(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b){var c=!1;if("number"==typeof a){var g=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>g&&(a=g,c=!0);a=ja(this.doc,a)}return Ae(this,a,{top:0,left:0},b||"page").top+(c?this.doc.height-qc(a):0)},defaultTextHeight:function(){return Ob(this.display)},defaultCharWidth:function(){return Ac(this.display)},setGutterMarker:lb(function(a,b,c){return Gc(this.doc,a,"gutter",function(a){var g=a.gutterMarkers||(a.gutterMarkers=
{});g[b]=c;!c&&Se(g)&&(a.gutterMarkers=null);return!0})}),clearGutter:lb(function(a){var b=this,c=b.doc,g=c.first;c.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&(c.gutterMarkers[a]=null,Db(b,g,"gutter"),Se(c.gutterMarkers)&&(c.gutterMarkers=null));++g})}),lineInfo:function(a){if("number"==typeof a){if(!ib(this.doc,a))return null;var b=a;a=ja(this.doc,a);if(!a)return null}else if(b=Pa(a),null==b)return null;return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,
bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,g,d){var e=this.display;a=Cb(this,V(this.doc,a));var h=a.bottom,k=a.left;b.style.position="absolute";b.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(b);e.sizer.appendChild(b);if("over"==g)h=a.top;else if("above"==g||"near"==g){var f=Math.max(e.wrapper.clientHeight,this.doc.height),v=Math.max(e.sizer.clientWidth,
e.lineSpace.clientWidth);("above"==g||a.bottom+b.offsetHeight>f)&&a.top>b.offsetHeight?h=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=f&&(h=a.bottom);k+b.offsetWidth>v&&(k=v-b.offsetWidth)}b.style.top=h+"px";b.style.left=b.style.right="";"right"==d?(k=e.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==d?k=0:"middle"==d&&(k=(e.sizer.clientWidth-b.offsetWidth)/2),b.style.left=k+"px");c&&(a=De(this,k,h,k+b.offsetWidth,h+b.offsetHeight),null!=a.scrollTop&&Lc(this,a.scrollTop),null!=a.scrollLeft&&
Ub(this,a.scrollLeft))},triggerOnKeyDown:lb(Aa),triggerOnKeyPress:lb(be),triggerOnKeyUp:Df,execCommand:function(a){if(Ke.hasOwnProperty(a))return Ke[a].call(null,this)},triggerElectric:lb(function(a){La(this,a)}),findPosH:function(a,b,c,g){var d=1;0>b&&(d=-1,b=-b);var e=0;for(a=V(this.doc,a);e<b&&(a=lc(this.doc,a,d,c,g),!a.hitSide);++e);return a},moveH:lb(function(a,b){var c=this;c.extendSelectionsBy(function(g){return c.display.shift||c.doc.extend||g.empty()?lc(c.doc,g.head,a,b,c.options.rtlMoveVisually):
0>a?g.from():g.to()},Sb)}),deleteH:lb(function(a,b){var c=this.doc;this.doc.sel.somethingSelected()?c.replaceSelection("",null,"+delete"):Hc(this,function(g){var d=lc(c,g.head,a,b,!1);return 0>a?{from:d,to:g.head}:{from:g.head,to:d}})}),findPosV:function(a,b,c,g){var d=1;0>b&&(d=-1,b=-b);var e=0;for(a=V(this.doc,a);e<b&&(a=Cb(this,a,"div"),null==g?g=a.left:a.left=g,a=gf(this,a,d,c),!a.hitSide);++e);return a},moveV:lb(function(a,b){var c=this,g=this.doc,d=[],e=!c.display.shift&&!g.extend&&g.sel.somethingSelected();
g.extendSelectionsBy(function(h){if(e)return 0>a?h.from():h.to();var k=Cb(c,h.head,"div");null!=h.goalColumn&&(k.left=h.goalColumn);d.push(k.left);var f=gf(c,k,a,b);"page"==b&&h==g.sel.primary()&&Jd(c,null,Cc(c,f,"div").top-k.top);return f},Sb);if(d.length)for(var h=0;h<g.sel.ranges.length;h++)g.sel.ranges[h].goalColumn=d[h]}),findWordAt:function(a){var b=ja(this.doc,a.line).text,c=a.ch,g=a.ch;if(b){var d=this.getHelper(a,"wordChars");(0>a.xRel||g==b.length)&&c?--c:++g;for(var e=b.charAt(c),e=nd(e,
d)?function(a){return nd(a,d)}:/\s/.test(e)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!nd(a)};0<c&&e(b.charAt(c-1));)--c;for(;g<b.length&&e(b.charAt(g));)++g}return new na(S(a.line,c),S(a.line,g))},toggleOverwrite:function(a){if(null==a||a!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?we(this.display.cursorDiv,"CodeMirror-overwrite"):Xe(this.display.cursorDiv,"CodeMirror-overwrite"),Ya(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==
Vb()},scrollTo:lb(function(a,b){null==a&&null==b||Rb(this);null!=a&&(this.curOp.scrollLeft=a);null!=b&&(this.curOp.scrollTop=b)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-pc(this)-this.display.barHeight,width:a.scrollWidth-pc(this)-this.display.barWidth,clientHeight:Ab(this),clientWidth:Mc(this)}},scrollIntoView:lb(function(a,b){null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):
"number"==typeof a?a={from:S(a,0),to:null}:null==a.from&&(a={from:a,to:null});a.to||(a.to=a.from);a.margin=b||0;null!=a.from.line?(Rb(this),this.curOp.scrollToPos=a):(a=De(this,Math.min(a.from.left,a.to.left),Math.min(a.from.top,a.to.top)-a.margin,Math.max(a.from.right,a.to.right),Math.max(a.from.bottom,a.to.bottom)+a.margin),this.scrollTo(a.scrollLeft,a.scrollTop))}),setSize:lb(function(a,b){function c(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a}var g=this;null!=a&&(g.display.wrapper.style.width=
c(a));null!=b&&(g.display.wrapper.style.height=c(b));g.options.lineWrapping&&Qc(this);var d=g.display.viewFrom;g.doc.iter(d,g.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){Db(g,d,"widget");break}++d});g.curOp.forceUpdate=!0;Ya(g,"refresh",this)}),operation:function(a){return nb(this,a)},refresh:lb(function(){var a=this.display.cachedTextHeight;mb(this);this.curOp.forceUpdate=!0;Kc(this);this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop);p(this);
(null==a||.5<Math.abs(a-Ob(this.display)))&&f(this);Ya(this,"refresh",this)}),swapDoc:lb(function(a){var b=this.doc;b.cm=null;sf(this,a);Kc(this);this.display.input.reset();this.scrollTo(a.scrollLeft,a.scrollTop);this.curOp.forceScroll=!0;Xa(this,"swapDoc",this,b);return b}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};
gb(a);var ng=a.defaults={},$c=a.optionHandlers={},ue=a.Init={toString:function(){return"CodeMirror.Init"}};ta("value","",function(a,b){a.setValue(b)},!0);ta("mode",null,function(a,c){a.doc.modeOption=c;b(a)},!0);ta("indentUnit",2,b,!0);ta("indentWithTabs",!1);ta("smartIndent",!0);ta("tabSize",4,function(a){k(a);Kc(a);mb(a)},!0);ta("lineSeparator",null,function(a,b){if(a.doc.lineSep=b){var c=[],g=a.doc.first;a.doc.iter(function(a){for(var d=0;;){var e=a.text.indexOf(b,d);if(-1==e)break;d=e+b.length;
c.push(S(g,e))}g++});for(var d=c.length-1;0<=d;d--)ee(a.doc,b,c[d],S(c[d].line,c[d].ch+b.length))}});ta("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(b,c,g){b.state.specialChars=new RegExp(c.source+(c.test("\t")?"":"|\t"),"g");g!=a.Init&&b.refresh()});ta("specialCharPlaceholder",function(a){var b=la("span","\u2022","cm-invalidchar");b.title="\\u"+a.charCodeAt(0).toString(16);b.setAttribute("aria-label",b.title);return b},function(a){a.refresh()},!0);ta("electricChars",
!0);ta("inputStyle",Ue?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);ta("rtlMoveVisually",!Bg);ta("wholeLineUpdateBefore",!0);ta("theme","default",function(a){m(a);l(a)},!0);ta("keyMap","default",function(b,c,g){c=Pe(c);(g=g!=a.Init&&Pe(g))&&g.detach&&g.detach(b,c);c.attach&&c.attach(b,g||null)});ta("extraKeys",null);ta("lineWrapping",!1,function(a){a.options.lineWrapping?(we(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth=
"",a.display.sizerWidth=null):(Xe(a.display.wrapper,"CodeMirror-wrap"),t(a));f(a);mb(a);Kc(a);setTimeout(function(){z(a)},100)},!0);ta("gutters",[],function(a){u(a.options);l(a)},!0);ta("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?F(a.display)+"px":"0";a.refresh()},!0);ta("coverGutterNextToScrollbar",!1,function(a){z(a)},!0);ta("scrollbarStyle","native",function(a){v(a);z(a);a.display.scrollbars.setScrollTop(a.doc.scrollTop);a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},!0);
ta("lineNumbers",!1,function(a){u(a.options);l(a)},!0);ta("firstLineNumber",1,l,!0);ta("lineNumberFormatter",function(a){return a},l,!0);ta("showCursorWhenSelecting",!1,tc,!0);ta("resetSelectionOnContextMenu",!0);ta("lineWiseCopyCut",!0);ta("readOnly",!1,function(a,b){"nocursor"==b?(Tb(a),a.display.input.blur(),a.display.disabled=!0):a.display.disabled=!1;a.display.input.readOnlyChanged(b)});ta("disableInput",!1,function(a,b){b||a.display.input.reset()},!0);ta("dragDrop",!0,function(b,c,g){!c!=!(g&&
g!=a.Init)&&(g=b.display.dragFunctions,c=c?sa:wc,c(b.display.scroller,"dragstart",g.start),c(b.display.scroller,"dragenter",g.enter),c(b.display.scroller,"dragover",g.over),c(b.display.scroller,"dragleave",g.leave),c(b.display.scroller,"drop",g.drop))});ta("allowDropFileTypes",null);ta("cursorBlinkRate",530);ta("cursorScrollMargin",0);ta("cursorHeight",1,tc,!0);ta("singleCursorHeightPerLine",!0,tc,!0);ta("workTime",100);ta("workDelay",100);ta("flattenSpans",!0,k,!0);ta("addModeClass",!1,k,!0);ta("pollInterval",
100);ta("undoDepth",200,function(a,b){a.doc.history.undoDepth=b});ta("historyEventDelay",1250);ta("viewportMargin",10,function(a){a.refresh()},!0);ta("maxHighlightLength",1E4,k,!0);ta("moveInputWithCursor",!0,function(a,b){b||a.display.input.resetPosition()});ta("tabindex",null,function(a,b){a.display.input.getField().tabIndex=b||""});ta("autofocus",null);var Nf=a.modes={},pf=a.mimeModes={};a.defineMode=function(b,c){a.defaults.mode||"null"==b||(a.defaults.mode=b);2<arguments.length&&(c.dependencies=
Array.prototype.slice.call(arguments,2));Nf[b]=c};a.defineMIME=function(a,b){pf[a]=b};a.resolveMode=function(b){if("string"==typeof b&&pf.hasOwnProperty(b))b=pf[b];else if(b&&"string"==typeof b.name&&pf.hasOwnProperty(b.name)){var c=pf[b.name];"string"==typeof c&&(c={name:c});b=kg(c,b);b.name=c.name}else if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return a.resolveMode("application/xml");return"string"==typeof b?{name:b}:b||{name:"null"}};a.getMode=function(b,c){c=a.resolveMode(c);var g=
Nf[c.name];if(!g)return a.getMode(b,"text/plain");b=g(b,c);if(se.hasOwnProperty(c.name)){var g=se[c.name],d;for(d in g)g.hasOwnProperty(d)&&(b.hasOwnProperty(d)&&(b["_"+d]=b[d]),b[d]=g[d])}b.name=c.name;c.helperType&&(b.helperType=c.helperType);if(c.modeProps)for(d in c.modeProps)b[d]=c.modeProps[d];return b};a.defineMode("null",function(){return{token:function(a){a.skipToEnd()}}});a.defineMIME("text/plain","null");var se=a.modeExtensions={};a.extendMode=function(a,b){a=se.hasOwnProperty(a)?se[a]:
se[a]={};yc(b,a)};a.defineExtension=function(b,c){a.prototype[b]=c};a.defineDocExtension=function(a,b){ia.prototype[a]=b};a.defineOption=ta;var Ba=[];a.defineInitHook=function(a){Ba.push(a)};var Pd=a.helpers={};a.registerHelper=function(b,c,g){Pd.hasOwnProperty(b)||(Pd[b]=a[b]={_global:[]});Pd[b][c]=g};a.registerGlobalHelper=function(b,c,g,d){a.registerHelper(b,c,d);Pd[b]._global.push({pred:g,val:d})};var Oc=a.copyState=function(a,b){if(!0===b)return b;if(a.copyState)return a.copyState(b);a={};for(var c in b){var g=
b[c];g instanceof Array&&(g=g.concat([]));a[c]=g}return a},Vf=a.startState=function(a,b,c){return a.startState?a.startState(b,c):!0};a.innerMode=function(a,b){for(;a.innerMode;){var c=a.innerMode(b);if(!c||c.mode==a)break;b=c.state;a=c.mode}return c||{mode:a,state:b}};var Ke=a.commands={selectAll:function(a){a.setSelection(S(a.firstLine(),0),S(a.lastLine()),Za)},singleSelection:function(a){a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Za)},killLine:function(a){Hc(a,function(b){if(b.empty()){var c=
ja(a.doc,b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:S(b.head.line+1,0)}:{from:b.head,to:S(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){Hc(a,function(b){return{from:S(b.from().line,0),to:V(a.doc,S(b.to().line+1,0))}})},delLineLeft:function(a){Hc(a,function(a){return{from:S(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){Hc(a,function(b){var c=a.charCoords(b.head,"div").top+5;return{from:a.coordsChar({left:0,top:c},
"div"),to:b.from()}})},delWrappedLineRight:function(a){Hc(a,function(b){var c=a.charCoords(b.head,"div").top+5,c=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div");return{from:b.from(),to:c}})},undo:function(a){a.undo()},redo:function(a){a.redo()},undoSelection:function(a){a.undoSelection()},redoSelection:function(a){a.redoSelection()},goDocStart:function(a){a.extendSelection(S(a.firstLine(),0))},goDocEnd:function(a){a.extendSelection(S(a.lastLine()))},goLineStart:function(a){a.extendSelectionsBy(function(b){return Xc(a,
b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){a.extendSelectionsBy(function(b){return Nd(a,b.head)},{origin:"+move",bias:1})},goLineEnd:function(a){a.extendSelectionsBy(function(b){b=b.head.line;for(var c,g=ja(a.doc,b);c=wd(g,!1);)g=c.find(1,!0).line,b=null;c=(c=Pb(g))?c[0].level%2?$d(g):Ze(g):g.text.length;return S(null==b?Pa(g):b,c)},{origin:"+move",bias:-1})},goLineRight:function(a){a.extendSelectionsBy(function(b){b=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+
100,top:b},"div")},Sb)},goLineLeft:function(a){a.extendSelectionsBy(function(b){b=a.charCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:b},"div")},Sb)},goLineLeftSmart:function(a){a.extendSelectionsBy(function(b){var c=a.charCoords(b.head,"div").top+5,c=a.coordsChar({left:0,top:c},"div");return c.ch<a.getLine(c.line).search(/\S/)?Nd(a,b.head):c},Sb)},goLineUp:function(a){a.moveV(-1,"line")},goLineDown:function(a){a.moveV(1,"line")},goPageUp:function(a){a.moveV(-1,"page")},goPageDown:function(a){a.moveV(1,
"page")},goCharLeft:function(a){a.moveH(-1,"char")},goCharRight:function(a){a.moveH(1,"char")},goColumnLeft:function(a){a.moveH(-1,"column")},goColumnRight:function(a){a.moveH(1,"column")},goWordLeft:function(a){a.moveH(-1,"word")},goGroupRight:function(a){a.moveH(1,"group")},goGroupLeft:function(a){a.moveH(-1,"group")},goWordRight:function(a){a.moveH(1,"word")},delCharBefore:function(a){a.deleteH(-1,"char")},delCharAfter:function(a){a.deleteH(1,"char")},delWordBefore:function(a){a.deleteH(-1,"word")},
delWordAfter:function(a){a.deleteH(1,"word")},delGroupBefore:function(a){a.deleteH(-1,"group")},delGroupAfter:function(a){a.deleteH(1,"group")},indentAuto:function(a){a.indentSelection("smart")},indentMore:function(a){a.indentSelection("add")},indentLess:function(a){a.indentSelection("subtract")},insertTab:function(a){a.replaceSelection("\t")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),g=a.options.tabSize,d=0;d<c.length;d++){var e=c[d].from(),e=fd(a.getLine(e.line),e.ch,g);b.push(Array(g-
e%g+1).join(" "))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){nb(a,function(){for(var b=a.listSelections(),c=[],g=0;g<b.length;g++){var d=b[g].head,e=ja(a.doc,d.line).text;if(e)if(d.ch==e.length&&(d=new S(d.line,d.ch-1)),0<d.ch)d=new S(d.line,d.ch+1),a.replaceRange(e.charAt(d.ch-1)+e.charAt(d.ch-2),S(d.line,d.ch-2),d,"+transpose");else if(d.line>a.doc.first){var h=ja(a.doc,d.line-1).text;h&&a.replaceRange(e.charAt(0)+
a.doc.lineSeparator()+h.charAt(h.length-1),S(d.line-1,h.length-1),S(d.line,1),"+transpose")}c.push(new na(d,d))}a.setSelections(c)})},newlineAndIndent:function(a){nb(a,function(){for(var b=a.listSelections().length,c=0;c<b;c++){var g=a.listSelections()[c];a.replaceRange(a.doc.lineSeparator(),g.anchor,g.head,"+input");a.indentLine(g.from().line+1,null,!0)}bb(a)})},toggleOverwrite:function(a){a.toggleOverwrite()}},cc=a.keyMap={};cc.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",
End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"};cc.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft",
"Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"};cc.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown",
"Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};cc.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft",
"Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",
fallthrough:["basic","emacsy"]};cc["default"]=Bc?cc.macDefault:cc.pcDefault;a.normalizeKeyMap=function(a){var b={},c;for(c in a)if(a.hasOwnProperty(c)){var g=a[c];if(!/^(name|fallthrough|(de|at)tach)$/.test(c)){if("..."!=g)for(var d=uf(c.split(" "),Oe),e=0;e<d.length;e++){var h,k;e==d.length-1?(k=d.join(" "),h=g):(k=d.slice(0,e+1).join(" "),h="...");var f=b[k];if(!f)b[k]=h;else if(f!=h)throw Error("Inconsistent bindings for "+k);}delete a[c]}}for(var v in b)a[v]=b[v];return a};var bf=a.lookupKey=
function(a,b,c,g){b=Pe(b);var d=b.call?b.call(a,g):b[a];if(!1===d)return"nothing";if("..."===d)return"multi";if(null!=d&&c(d))return"handled";if(b.fallthrough){if("[object Array]"!=Object.prototype.toString.call(b.fallthrough))return bf(a,b.fallthrough,c,g);for(d=0;d<b.fallthrough.length;d++){var e=bf(a,b.fallthrough[d],c,g);if(e)return e}}},Ng=a.isModifierKey=function(a){a="string"==typeof a?a:Qd[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a},H=a.keyName=function(a,b){if(vc&&34==a.keyCode&&
a["char"])return!1;var c=Qd[a.keyCode],g=c;if(null==g||a.altGraphKey)return!1;a.altKey&&"Alt"!=c&&(g="Alt-"+g);(Cg?a.metaKey:a.ctrlKey)&&"Ctrl"!=c&&(g="Ctrl-"+g);(Cg?a.ctrlKey:a.metaKey)&&"Cmd"!=c&&(g="Cmd-"+g);!b&&a.shiftKey&&"Shift"!=c&&(g="Shift-"+g);return g};a.fromTextArea=function(b,c){function g(){b.value=f.getValue()}c=c?yc(c):{};c.value=b.value;!c.tabindex&&b.tabIndex&&(c.tabindex=b.tabIndex);!c.placeholder&&b.placeholder&&(c.placeholder=b.placeholder);if(null==c.autofocus){var d=Vb();c.autofocus=
d==b||null!=b.getAttribute("autofocus")&&d==document.body}if(b.form&&(sa(b.form,"submit",g),!c.leaveSubmitMethodAlone)){var e=b.form,h=e.submit;try{var k=e.submit=function(){g();e.submit=h;e.submit();e.submit=k}}catch(jb){}}c.finishInit=function(a){a.save=g;a.getTextArea=function(){return b};a.toTextArea=function(){a.toTextArea=isNaN;g();b.parentNode.removeChild(a.getWrapperElement());b.style.display="";b.form&&(wc(b.form,"submit",g),"function"==typeof b.form.submit&&(b.form.submit=h))}};b.style.display=
"none";var f=a(function(a){b.parentNode.insertBefore(a,b.nextSibling)},c);return f};var kf=a.StringStream=function(a,b){this.pos=this.start=0;this.string=a;this.tabSize=b||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0};kf.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(a){var b=
this.string.charAt(this.pos);if("string"==typeof a?b==a:b&&(a.test?a.test(b):a(b)))return++this.pos,b},eatWhile:function(a){for(var b=this.pos;this.eat(a););return this.pos>b},eatSpace:function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},skipToEnd:function(){this.pos=this.string.length},skipTo:function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0},backUp:function(a){this.pos-=a},column:function(){this.lastColumnPos<this.start&&
(this.lastColumnValue=fd(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?fd(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return fd(this.string,null,this.tabSize)-(this.lineStart?fd(this.string,this.lineStart,this.tabSize):0)},match:function(a,b,c){if("string"==typeof a){var g=function(a){return c?a.toLowerCase():a},d=this.string.substr(this.pos,a.length);if(g(d)==g(a))return!1!==
b&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==b&&(this.pos+=a[0].length);return a}},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}}};var Vc=0,Ja=a.TextMarker=function(a,b){this.lines=[];this.type=b;this.doc=a;this.id=++Vc};gb(Ja);Ja.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,b=a&&!a.curOp;b&&ab(a);if(gc(this,
"clear")){var c=this.find();c&&Xa(this,"clear",c.from,c.to)}for(var g=c=null,d=0;d<this.lines.length;++d){var e=this.lines[d],h=je(e.markedSpans,this);a&&!this.collapsed?Db(a,Pa(e),"text"):a&&(null!=h.to&&(g=Pa(e)),null!=h.from&&(c=Pa(e)));for(var k=e,f=e.markedSpans,v=h,m=void 0,n=0;n<f.length;++n)f[n]!=v&&(m||(m=[])).push(f[n]);k.markedSpans=m;null==h.from&&this.collapsed&&!nc(this.doc,e)&&a&&oc(e,Ob(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(d=0;d<this.lines.length;++d)e=Gb(this.lines[d]),
h=r(e),h>a.display.maxLineLength&&(a.display.maxLine=e,a.display.maxLineLength=h,a.display.maxLineChanged=!0);null!=c&&a&&this.collapsed&&mb(a,c,g+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&pb(a.doc));a&&Xa(a,"markerCleared",a,this);b&&Lb(a);this.parent&&this.parent.clear()}};Ja.prototype.find=function(a,b){null==a&&"bookmark"==this.type&&(a=1);for(var c,g,d=0;d<this.lines.length;++d){var e=this.lines[d],h=je(e.markedSpans,this);if(null!=
h.from&&(c=S(b?e:Pa(e),h.from),-1==a))return c;if(null!=h.to&&(g=S(b?e:Pa(e),h.to),1==a))return g}return c&&{from:c,to:g}};Ja.prototype.changed=function(){var a=this.find(-1,!0),b=this,c=this.doc.cm;a&&c&&nb(c,function(){var g=a.line,d=Pa(a.line);if(d=sb(c,d))Yd(d),c.curOp.selectionChanged=c.curOp.forceUpdate=!0;c.curOp.updateMaxLine=!0;nc(b.doc,g)||null==b.height||(d=b.height,b.height=null,(d=Ec(b)-d)&&oc(g,g.height+d))})};Ja.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=
this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=zb(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Ja.prototype.detachLine=function(a){this.lines.splice(zb(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};var Vc=0,ie=a.SharedTextMarker=function(a,b){this.markers=a;this.primary=b;for(b=0;b<a.length;++b)a[b].parent=this};gb(ie);ie.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=
!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();Xa(this,"clear")}};ie.prototype.find=function(a,b){return this.primary.find(a,b)};var If=a.LineWidget=function(a,b,c){if(c)for(var g in c)c.hasOwnProperty(g)&&(this[g]=c[g]);this.doc=a;this.node=b};gb(If);If.prototype.clear=function(){var a=this.doc.cm,b=this.line.widgets,c=this.line,g=Pa(c);if(null!=g&&b){for(var d=0;d<b.length;++d)b[d]==this&&b.splice(d--,1);b.length||(c.widgets=null);var e=Ec(this);oc(c,Math.max(0,c.height-e));a&&
nb(a,function(){var b=-e;qc(c)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Jd(a,null,b);Db(a,g,"widget")})}};If.prototype.changed=function(){var a=this.height,b=this.doc.cm,c=this.line;this.height=null;var g=Ec(this)-a;g&&(oc(c,c.height+g),b&&nb(b,function(){b.curOp.forceUpdate=!0;qc(c)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&Jd(b,null,g)}))};var mf=a.Line=function(a,b,c){this.text=a;od(this,b);this.height=c?c(this):1};gb(mf);mf.prototype.lineNo=function(){return Pa(this)};var vg={},Pg=
{};ne.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=a,g=a+b;c<g;++c){var d=this.lines[c];this.height-=d.height;var e=d;e.parent=null;fg(e);Xa(d,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){this.height+=c;this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(a=0;a<b.length;++a)b[a].parent=this},iterN:function(a,b,c){for(b=a+b;a<b;++a)if(c(this.lines[a]))return!0}};
oe.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){this.size-=b;for(var c=0;c<this.children.length;++c){var g=this.children[c],d=g.chunkSize();if(a<d){var e=Math.min(b,d-a),h=g.height;g.removeInner(a,e);this.height-=h-g.height;d==e&&(this.children.splice(c--,1),g.parent=null);if(0==(b-=e))break;a=0}else a-=d}25>this.size-b&&(1<this.children.length||!(this.children[0]instanceof ne))&&(a=[],this.collapse(a),this.children=[new ne(a)],this.children[0].parent=this)},collapse:function(a){for(var b=
0;b<this.children.length;++b)this.children[b].collapse(a)},insertInner:function(a,b,c){this.size+=b.length;this.height+=c;for(var g=0;g<this.children.length;++g){var d=this.children[g],e=d.chunkSize();if(a<=e){d.insertInner(a,b,c);if(d.lines&&50<d.lines.length){for(;50<d.lines.length;)a=d.lines.splice(d.lines.length-25,25),a=new ne(a),d.height-=a.height,this.children.splice(g+1,0,a),a.parent=this;this.maybeSpill()}break}a-=e}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var b=
a.children.splice(a.children.length-5,5),b=new oe(b);if(a.parent){a.size-=b.size;a.height-=b.height;var c=zb(a.parent.children,a);a.parent.children.splice(c+1,0,b)}else c=new oe(a.children),c.parent=a,a.children=[c,b],a=c;b.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var g=0;g<this.children.length;++g){var d=this.children[g],e=d.chunkSize();if(a<e){e=Math.min(b,e-a);if(d.iterN(a,e,c))return!0;if(0==(b-=e))break;a=0}else a-=e}}};var Eg=0,ia=a.Doc=function(a,
b,c,g){if(!(this instanceof ia))return new ia(a,b,c,g);null==c&&(c=0);oe.call(this,[new ne([new mf("",null)])]);this.first=c;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.frontier=c;c=S(c,0);this.sel=oa(c);this.history=new Jc(null);this.id=++Eg;this.modeOption=b;this.lineSep=g;"string"==typeof a&&(a=this.splitLines(a));Id(this,{from:c,to:c,text:a});wa(this,oa(c),Za)};ia.prototype=kg(oe.prototype,{constructor:ia,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):
this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,g=0;g<b.length;++g)c+=b[g].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=pe(this,this.first,this.first+this.size);return!1===a?b:b.join(a||this.lineSeparator())},setValue:eb(function(a){var b=S(this.first,0),c=this.first+this.size-1;Oa(this,{from:b,to:S(c,ja(this,c).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0);wa(this,
oa(b))}),replaceRange:function(a,b,c,g){b=V(this,b);c=c?V(this,c):b;ee(this,a,b,c,g)},getRange:function(a,b,c){a=yd(this,V(this,a),V(this,b));return!1===c?a:a.join(c||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(ib(this,a))return ja(this,a)},getLineNumber:function(a){return Pa(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=ja(this,a));return Gb(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},
lastLine:function(){return this.first+this.size-1},clipPos:function(a){return V(this,a)},getCursor:function(a){var b=this.sel.primary();return null==a||"head"==a?b.head:"anchor"==a?b.anchor:"end"==a||"to"==a||!1===a?b.to():b.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:eb(function(a,b,c){a=V(this,"number"==typeof a?S(a,b||0):a);wa(this,oa(a,null),c)}),setSelection:eb(function(a,b,c){var g=V(this,a);a=V(this,b||
a);wa(this,oa(g,a),c)}),extendSelection:eb(function(a,b,c){cb(this,V(this,a),b&&V(this,b),c)}),extendSelections:eb(function(a,b){b=[];for(var c=0;c<a.length;c++)b[c]=V(this,a[c]);ec(this,b)}),extendSelectionsBy:eb(function(a,b){ec(this,uf(this.sel.ranges,a),b)}),setSelections:eb(function(a,b,c){if(a.length){for(var g=0,d=[];g<a.length;g++)d[g]=new na(V(this,a[g].anchor),V(this,a[g].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex));wa(this,Fa(d,b),c)}}),addSelection:eb(function(a,b,c){var g=
this.sel.ranges.slice(0);g.push(new na(V(this,a),V(this,b||a)));wa(this,Fa(g,g.length-1),c)}),getSelection:function(a){for(var b=this.sel.ranges,c,g=0;g<b.length;g++){var d=yd(this,b[g].from(),b[g].to());c=c?c.concat(d):d}return!1===a?c:c.join(a||this.lineSeparator())},getSelections:function(a){for(var b=[],c=this.sel.ranges,g=0;g<c.length;g++){var d=yd(this,c[g].from(),c[g].to());!1!==a&&(d=d.join(a||this.lineSeparator()));b[g]=d}return b},replaceSelection:function(a,b,c){for(var g=[],d=0;d<this.sel.ranges.length;d++)g[d]=
a;this.replaceSelections(g,b,c||"+input")},replaceSelections:eb(function(a,b,c){for(var g=[],d=this.sel,e=0;e<d.ranges.length;e++){var h=d.ranges[e];g[e]={from:h.from(),to:h.to(),text:this.splitLines(a[e]),origin:c}}if(e=b&&"end"!=b){e=[];c=a=S(this.first,0);for(d=0;d<g.length;d++){var k=g[d],h=bg(k.from,a,c),f=bg(de(k),a,c);a=k.to;c=f;"around"==b?(k=this.sel.ranges[d],k=0>ya(k.head,k.anchor),e[d]=new na(k?f:h,k?h:f)):e[d]=new na(h,h)}e=new Ha(e,this.sel.primIndex)}b=e;for(e=g.length-1;0<=e;e--)Oa(this,
g[e]);b?W(this,b):this.cm&&bb(this.cm)}),undo:eb(function(){Uc(this,"undo")}),redo:eb(function(){Uc(this,"redo")}),undoSelection:eb(function(){Uc(this,"undo",!0)}),redoSelection:eb(function(){Uc(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,g=0;g<a.done.length;g++)a.done[g].ranges||++b;for(g=0;g<a.undone.length;g++)a.undone[g].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=
new Jc(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Re(this.history.done),undone:Re(this.history.undone)}},setHistory:function(a){var b=this.history=new Jc(this.history.maxGeneration);b.done=Re(a.done.slice(0),
null,!0);b.undone=Re(a.undone.slice(0),null,!0)},addLineClass:eb(function(a,b,c){return Gc(this,a,"gutter"==b?"gutter":"class",function(a){var g="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass";if(a[g]){if(xc(c).test(a[g]))return!1;a[g]+=" "+c}else a[g]=c;return!0})}),removeLineClass:eb(function(a,b,c){return Gc(this,a,"gutter"==b?"gutter":"class",function(a){var g="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass",d=a[g];if(d)if(null==
c)a[g]=null;else{var e=d.match(xc(c));if(!e)return!1;var h=e.index+e[0].length;a[g]=d.slice(0,e.index)+(e.index&&h!=d.length?" ":"")+d.slice(h)||null}else return!1;return!0})}),addLineWidget:eb(function(a,b,c){return Qe(this,a,b,c)}),removeLineWidget:function(a){a.clear()},markText:function(a,b,c){return Kd(this,V(this,a),V(this,b),c,"range")},setBookmark:function(a,b){b={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared,handleMouseEvents:b&&
b.handleMouseEvents};a=V(this,a);return Kd(this,a,a,b,"bookmark")},findMarksAt:function(a){a=V(this,a);var b=[],c=ja(this,a.line).markedSpans;if(c)for(var g=0;g<c.length;++g){var d=c[g];(null==d.from||d.from<=a.ch)&&(null==d.to||d.to>=a.ch)&&b.push(d.marker.parent||d.marker)}return b},findMarks:function(a,b,c){a=V(this,a);b=V(this,b);var g=[],d=a.line;this.iter(a.line,b.line+1,function(e){if(e=e.markedSpans)for(var h=0;h<e.length;h++){var k=e[h];d==a.line&&a.ch>k.to||null==k.from&&d!=a.line||d==b.line&&
k.from>b.ch||c&&!c(k.marker)||g.push(k.marker.parent||k.marker)}++d});return g},getAllMarks:function(){var a=[];this.iter(function(b){if(b=b.markedSpans)for(var c=0;c<b.length;++c)null!=b[c].from&&a.push(b[c].marker)});return a},posFromIndex:function(a){var b,c=this.first;this.iter(function(g){g=g.text.length+1;if(g>a)return b=a,!0;a-=g;++c});return V(this,S(c,b))},indexFromPos:function(a){a=V(this,a);var b=a.ch;if(a.line<this.first||0>a.ch)return 0;this.iter(this.first,a.line,function(a){b+=a.text.length+
1});return b},copy:function(a){var b=new ia(pe(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);b.scrollTop=this.scrollTop;b.scrollLeft=this.scrollLeft;b.sel=this.sel;b.extend=!1;a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory()));return b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from);null!=a.to&&a.to<c&&(c=a.to);b=new ia(pe(this,b,c),a.mode||this.modeOption,b,this.lineSep);a.sharedHist&&
(b.history=this.history);(this.linked||(this.linked=[])).push({doc:b,sharedHist:a.sharedHist});b.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=Ic(this);for(c=0;c<a.length;c++){var g=a[c],d=g.find(),e=b.clipPos(d.from),d=b.clipPos(d.to);ya(e,d)&&(e=Kd(b,e,d,g.primary,g.primary.type),g.markers.push(e),e.parent=g)}return b},unlinkDoc:function(b){b instanceof a&&(b=b.doc);if(this.linked)for(var c=0;c<this.linked.length;++c)if(this.linked[c].doc==b){this.linked.splice(c,1);b.unlinkDoc(this);
eg(Ic(this));break}if(b.history==this.history){var g=[b.id];Hd(b,function(a){g.push(a.id)},!0);b.history=new Jc(null);b.history.done=Re(this.history.done,g);b.history.undone=Re(this.history.undone,g)}},iterLinkedDocs:function(a){Hd(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):Fg(a)},lineSeparator:function(){return this.lineSep||"\n"}});ia.prototype.eachLine=ia.prototype.iter;var Gg="iter insert remove copy getEditor constructor".split(" "),
qf;for(qf in ia.prototype)ia.prototype.hasOwnProperty(qf)&&0>zb(Gg,qf)&&(a.prototype[qf]=function(a){return function(){return a.apply(this.doc,arguments)}}(ia.prototype[qf]));gb(ia);var wb=a.e_preventDefault=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1},Of=a.e_stopPropagation=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},He=a.e_stop=function(a){wb(a);Of(a)},sa=a.on=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+
b,c):(a=a._handlers||(a._handlers={}),(a[b]||(a[b]=[])).push(c))},Ka=[],wc=a.off=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else for(a=nf(a,b,!1),b=0;b<a.length;++b)if(a[b]==c){a.splice(b,1);break}},Ya=a.signal=function(a,b){var c=nf(a,b,!0);if(c.length)for(var g=Array.prototype.slice.call(arguments,2),d=0;d<c.length;++d)c[d].apply(null,g)},re=null,ud=30,Ca=a.Pass={toString:function(){return"CodeMirror.Pass"}},Za={scroll:!1},
ma={origin:"*mouse"},Sb={origin:"+move"};Rd.prototype.set=function(a,b){clearTimeout(this.id);this.id=setTimeout(b,a)};var fd=a.countColumn=function(a,b,c,g,d){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));g=g||0;for(d=d||0;;){var e=a.indexOf("\t",g);if(0>e||e>=b)return d+(b-g);d+=e-g;d+=c-d%c;g=e+1}},hb=a.findColumn=function(a,b,c){for(var g=0,d=0;;){var e=a.indexOf("\t",g);-1==e&&(e=a.length);var h=e-g;if(e==a.length||d+h>=b)return g+Math.min(h,b-d);d+=e-g;d+=c-d%c;g=e+1;if(d>=b)return g}},
qa=[""],Qa=function(a){a.select()};xe?Qa=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:Ia&&(Qa=function(a){try{a.select()}catch(kh){}});var Hg=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Qg=a.isWordChar=function(a){return/\w/.test(a)||"\u0080"<a&&(a.toUpperCase()!=a.toLowerCase()||Hg.test(a))},xg=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Xd;Xd=document.createRange?function(a,b,c,g){var d=document.createRange();d.setEnd(g||a,c);d.setStart(a,b);return d}:function(a,b,c){var g=document.body.createTextRange();try{g.moveToElementText(a.parentNode)}catch(da){return g}g.collapse(!0);g.moveEnd("character",c);g.moveStart("character",b);return g};var Sf=a.contains=function(a,b){3==b.nodeType&&(b=b.parentNode);if(a.contains)return a.contains(b);do if(11==b.nodeType&&(b=b.host),b==a)return!0;while(b=b.parentNode)};Ia&&11>Va&&(Vb=function(){try{return document.activeElement}catch(yb){return document.body}});
var Xe=a.rmClass=function(a,b){var c=a.className;if(b=xc(b).exec(c)){var g=c.slice(b.index+b[0].length);a.className=c.slice(0,b.index)+(g?b[1]+g:"")}},we=a.addClass=function(a,b){var c=a.className;xc(b).test(c)||(a.className+=(c?" ":"")+b)},Lg=!1,Yg=function(){if(Ia&&9>Va)return!1;var a=la("div");return"draggable"in a||"dragDrop"in a}(),yg,ig,Fg=a.splitLines=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],g=a.length;b<=g;){var d=a.indexOf("\n",b);-1==d&&(d=a.length);var e=a.slice(b,"\r"==
a.charAt(d-1)?d-1:d),h=e.indexOf("\r");-1!=h?(c.push(e.slice(0,h)),b+=h+1):(c.push(e),b=d+1)}return c}:function(a){return a.split(/\r\n?|\n/)},Dg=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(kh){return!1}}:function(a){try{var b=a.ownerDocument.selection.createRange()}catch(lh){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},ag=function(){var a=la("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),
zf=null,Qd=a.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",
63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};(function(){for(var a=0;10>a;a++)Qd[a+48]=Qd[a+96]=String(a);for(a=65;90>=a;a++)Qd[a]=String.fromCharCode(a);for(a=1;12>=a;a++)Qd[a+111]=Qd[a+63235]="F"+a})();var Be,qe=function(){function a(a){return 247>=a?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(a):
1424<=a&&1524>=a?"R":1536<=a&&1773>=a?"rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm".charAt(a-1536):1774<=a&&2220>=a?"r":8192<=a&&8203>=a?"w":8204==a?"b":"L"}function b(a,b,c){this.level=a;this.from=b;this.to=c}var c=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,g=/[stwN]/,d=/[LRr]/,e=/[Lb1n]/,h=/[1n]/;return function(k){if(!c.test(k))return!1;
for(var f=k.length,v=[],m=0,n;m<f;++m)v.push(a(k.charCodeAt(m)));for(var m=0,l="L";m<f;++m)n=v[m],"m"==n?v[m]=l:l=n;m=0;for(l="L";m<f;++m)n=v[m],"1"==n&&"r"==l?v[m]="n":d.test(n)&&(l=n,"r"==n&&(v[m]="R"));m=1;for(l=v[0];m<f-1;++m)n=v[m],"+"==n&&"1"==l&&"1"==v[m+1]?v[m]="1":","!=n||l!=v[m+1]||"1"!=l&&"n"!=l||(v[m]=l),l=n;for(m=0;m<f;++m)if(n=v[m],","==n)v[m]="N";else if("%"==n){for(l=m+1;l<f&&"%"==v[l];++l);var z=m&&"!"==v[m-1]||l<f&&"1"==v[l]?"1":"N";for(n=m;n<l;++n)v[n]=z;m=l-1}m=0;for(l="L";m<f;++m)n=
v[m],"L"==l&&"1"==n?v[m]="L":d.test(n)&&(l=n);for(m=0;m<f;++m)if(g.test(v[m])){for(l=m+1;l<f&&g.test(v[l]);++l);n="L"==(l<f?v[l]:"L");z="L"==(m?v[m-1]:"L")||n?"L":"R";for(n=m;n<l;++n)v[n]=z;m=l-1}for(var l=[],q,m=0;m<f;)if(e.test(v[m])){n=m;for(++m;m<f&&e.test(v[m]);++m);l.push(new b(0,n,m))}else{var r=m,z=l.length;for(++m;m<f&&"L"!=v[m];++m);for(n=r;n<m;)if(h.test(v[n])){r<n&&l.splice(z,0,new b(1,r,n));r=n;for(++n;n<m&&h.test(v[n]);++n);l.splice(z,0,new b(2,r,n));r=n}else++n;r<m&&l.splice(z,0,new b(1,
r,m))}1==l[0].level&&(q=k.match(/^\s+/))&&(l[0].from=q[0].length,l.unshift(new b(0,0,q[0].length)));1==Na(l).level&&(q=k.match(/\s+$/))&&(Na(l).to-=q[0].length,l.push(new b(0,f-q[0].length,f)));2==l[0].level&&l.unshift(new b(1,l[0].to,l[0].to));l[0].level!=Na(l).level&&l.push(new b(l[0].level,f,f));return l}}();a.version="5.7.1";return a})},{}],391:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===typeof l?"undefined":c(l))?e(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(a){function c(a){var b={};a=a.split(" ");for(var c=0;c<a.length;++c)b[a[c]]=!0;return b}function b(a,b){return"function"===typeof a?a(b):a.propertyIsEnumerable(b)}function e(a,b){if(!b.startOfLine)return!1;for(;;)if(a.skipTo("\\")){if(a.next(),
a.eol()){b.tokenize=e;break}}else{a.skipToEnd();b.tokenize=null;break}return"meta"}function d(a,b){return"variable-3"==b.prevToken?"variable-3":!1}function f(a){a.eatWhile(/[\w\.']/);return"number"}function m(a,b){a.backUp(1);if(a.match(/(R|u8R|uR|UR|LR)/)){var c=a.match(/"([^\s\\()]{0,16})\(/);if(!c)return!1;b.cpp11RawStringDelim=c[1];b.tokenize=w;return w(a,b)}if(a.match(/(u8|u|U|L)/))return a.match(/["']/,!1)?"string":!1;a.next();return!1}function l(a,b){for(var c;null!=(c=a.next());)if('"'==c&&
!a.eat('"')){b.tokenize=null;break}return"string"}function w(a,b){var c=b.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");a.match(new RegExp(".*?\\)"+c+'"'))?b.tokenize=null:a.skipToEnd();return"string"}function p(b,c){function g(a){if(a)for(var b in a)a.hasOwnProperty(b)&&d.push(b)}"string"==typeof b&&(b=[b]);var d=[];g(c.keywords);g(c.types);g(c.builtin);g(c.atoms);d.length&&(c.helperType=b[0],a.registerHelper("hintWords",b[0],d));for(var e=0;e<b.length;++e)a.defineMIME(b[e],c)}function r(a,b){for(var c=
!1;!a.eol();){if(!c&&a.match('"""')){b.tokenize=null;break}c="\\"==a.next()&&!c}return"string"}function t(a){return function(b,c){for(var g=!1,d,e=!1;!b.eol();){if(!g&&b.match('"')&&("single"==a||b.match('""'))){e=!0;break}if(!g&&b.match("``")){u=t(a);e=!0;break}d=b.next();g="single"==a&&!g&&"\\"==d}e&&(c.tokenize=null);return"string"}}a.defineMode("clike",function(c,d){function g(a,c){var g=a.next();if(w[g]){var d=w[g](a,c);if(!1!==d)return d}if('"'==g||"'"==g)return c.tokenize=e(g),c.tokenize(a,
c);if(U.test(g))return ca=g,null;if(R.test(g))return a.eatWhile(/[\w\.]/),"number";if("/"==g){if(a.eat("*"))return c.tokenize=h,h(a,c);if(a.eat("/"))return a.skipToEnd(),"comment"}if(ba.test(g))return a.eatWhile(ba),"operator";a.eatWhile(/[\w\$_\xa1-\uffff]/);if(Q)for(;a.match(Q);)a.eatWhile(/[\w\$_\xa1-\uffff]/);a=a.current();return b(q,a)?(b(u,a)&&(ca="newstatement"),b(p,a)&&(ha=!0),"keyword"):b(r,a)?"variable-3":b(t,a)?(b(u,a)&&(ca="newstatement"),"builtin"):b(y,a)?"atom":"variable"}function e(a){return function(b,
c){for(var g=!1,d,e=!1;null!=(d=b.next());){if(d==a&&!g){e=!0;break}g=!g&&"\\"==d}if(e||!g&&!A)c.tokenize=null;return"string"}}function h(a,b){for(var c=!1,g;g=a.next();){if("/"==g&&c){b.tokenize=null;break}c="*"==g}return"comment"}function k(a,b,c,g,d){this.indented=a;this.column=b;this.type=c;this.align=g;this.prev=d}function f(a){return"statement"==a||"switchstatement"==a||"namespace"==a}function m(a,b,c){var g=a.indented;a.context&&f(a.context.type)&&!f(c)&&(g=a.context.indented);return a.context=
new k(g,b,c,null,a.context)}function n(a){var b=a.context.type;if(")"==b||"]"==b||"}"==b)a.indented=a.context.indented;return a.context=a.context.prev}var l=c.indentUnit,q=d.keywords||{},r=d.types||{},t=d.builtin||{},u=d.blockKeywords||{},p=d.defKeywords||{},y=d.atoms||{},w=d.hooks||{},A=d.multiLineStrings,M=!1!==d.indentStatements,O=!1!==d.indentSwitch,Q=d.namespaceSeparator,U=d.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,R=d.isNumberChar||/\d/,ba=d.isOperatorChar||/[+\-*&%=<>!?|\/]/,T=d.endStatement||
/^[;:,]$/,ca,ha;return{startState:function(a){return{tokenize:null,context:new k((a||0)-l,0,"top",!1),indented:0,startOfLine:!0,prevToken:null}},token:function(a,b){var c=b.context;a.sol()&&(null==c.align&&(c.align=!1),b.indented=a.indentation(),b.startOfLine=!0,"statement"==c.type&&(c=n(b)));if(a.eatSpace())return null;ca=ha=null;var e=(b.tokenize||g)(a,b);if("comment"==e||"meta"==e)return e;null==c.align&&(c.align=!0);if(T.test(ca))for(;f(b.context.type);)n(b);else if("{"==ca)m(b,a.column(),"}");
else if("["==ca)m(b,a.column(),"]");else if("("==ca)m(b,a.column(),")");else if("}"==ca){for(;f(c.type);)c=n(b);for("}"==c.type&&(c=n(b));f(c.type);)c=n(b)}else ca==c.type?n(b):M&&(("}"==c.type||"top"==c.type)&&";"!=ca||f(c.type)&&"newstatement"==ca)&&(c="statement","newstatement"==ca&&O&&"switch"==a.current()?c="switchstatement":"keyword"==e&&"namespace"==a.current()&&(c="namespace"),m(b,a.column(),c));if((c="variable"==e)&&!(c="def"==b.prevToken)){if(c=d.typeFirstDefinitions)c="variable"==b.prevToken||
"variable-3"==b.prevToken?!0:/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(a.string.slice(0,a.start))?!0:void 0;if(c)a:for(c=b.context;;){if(!c||"top"==c.type){c=!0;break a}if("}"==c.type&&"namespace"!=c.prev.type){c=!1;break a}c=c.prev}c=c&&a.match(/^\s*\(/,!1)}c&&(e="def");w.token&&(a=w.token(a,b,e),void 0!==a&&(e=a));"def"==e&&!1===d.styleDefs&&(e="variable");b.startOfLine=!1;b.prevToken=ha?"def":e||ca;return e},indent:function(b,c){if(b.tokenize!=g&&null!=b.tokenize)return a.Pass;b=b.context;var d=c&&c.charAt(0);
f(b.type)&&(b=b.prev);var d=d==b.type,e=b.prev&&"switchstatement"==b.prev.type;return b.indented+(d?0:l)+(d||!e||/^(?:case|default)\b/.test(c)?0:l)},electricInput:O?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});p(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:c("auto if break case register continue return default do sizeof static else struct switch extern typedef float union for goto while enum const volatile"),
types:c("int long char short double float unsigned signed void size_t ptrdiff_t bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:c("case do else for if switch while struct"),defKeywords:c("struct"),typeFirstDefinitions:!0,atoms:c("null true false"),hooks:{"#":e,"*":d},modeProps:{fold:["brace","include"]}});p(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:c("auto if break case register continue return default do sizeof static else struct switch extern typedef float union for goto while enum const volatile asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),
types:c("int long char short double float unsigned signed void size_t ptrdiff_t bool wchar_t"),blockKeywords:c("catch class do else finally for if struct switch try while"),defKeywords:c("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:c("true false null"),hooks:{"#":e,"*":d,u:m,U:m,L:m,R:m,0:f,1:f,2:f,3:f,4:f,5:f,6:f,7:f,8:f,9:f,token:function(a,b,c){if(b="variable"==c&&"("==a.peek()&&(";"==b.prevToken||null==b.prevToken||"}"==b.prevToken))a=a.current(),b=(a=/(\w+)::(\w+)$/.exec(a))&&
a[1]==a[2];if(b)return"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}});p("text/x-java",{name:"clike",keywords:c("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while"),types:c("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),
blockKeywords:c("catch class do else finally for if switch try while"),defKeywords:c("class interface package enum"),typeFirstDefinitions:!0,atoms:c("true false null"),endStatement:/^[;:]$/,hooks:{"@":function(a){a.eatWhile(/[\w\$_]/);return"meta"}},modeProps:{fold:["brace","import"]}});p("text/x-csharp",{name:"clike",keywords:c("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),
types:c("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:c("catch class do else finally for foreach if struct switch try while"),defKeywords:c("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:c("true false null"),hooks:{"@":function(a,b){if(a.eat('"'))return b.tokenize=
l,l(a,b);a.eatWhile(/[\w\$_]/);return"meta"}}});p("text/x-scala",{name:"clike",keywords:c("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble :: #:: "),types:c("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),
multiLineStrings:!0,dontAlignCalls:!0,blockKeywords:c("catch class do else finally for forSome if match switch try while"),defKeywords:c("class def object package trait type val var"),atoms:c("true false null"),indentStatements:!1,indentSwitch:!1,hooks:{"@":function(a){a.eatWhile(/[\w\$_]/);return"meta"},'"':function(a,b){if(!a.match('""'))return!1;b.tokenize=r;return b.tokenize(a,b)},"'":function(a){a.eatWhile(/[\w\$_\xa1-\uffff]/);return"atom"}},modeProps:{closeBrackets:{triples:'"'}}});p("text/x-kotlin",
{name:"clike",keywords:c("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as?file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline"),types:c("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),
multiLineStrings:!0,blockKeywords:c("catch class do else finally for if where try while enum"),defKeywords:c("class val var object package interface fun"),atoms:c("true false null this"),modeProps:{closeBrackets:{triples:'"'}}});p(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:c("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:c("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),
blockKeywords:c("for while do if else struct"),builtin:c("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),
atoms:c("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),
indentSwitch:!1,hooks:{"#":e},modeProps:{fold:["brace","include"]}});p("text/x-nesc",{name:"clike",keywords:c("auto if break case register continue return default do sizeof static else struct switch extern typedef float union for goto while enum const volatileas atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:c("int long char short double float unsigned signed void size_t ptrdiff_t"),
blockKeywords:c("case do else for if switch while struct"),atoms:c("null true false"),hooks:{"#":e},modeProps:{fold:["brace","include"]}});p("text/x-objectivec",{name:"clike",keywords:c("auto if break case register continue return default do sizeof static else struct switch extern typedef float union for goto while enum const volatileinline restrict _Bool _Complex _Imaginery BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),
types:c("int long char short double float unsigned signed void size_t ptrdiff_t"),atoms:c("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(a){a.eatWhile(/[\w\$]/);return"keyword"},"#":e},modeProps:{fold:"brace"}});p("text/x-squirrel",{name:"clike",keywords:c("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:c("int long char short double float unsigned signed void size_t ptrdiff_t"),
blockKeywords:c("case catch class else for foreach if switch try while"),defKeywords:c("function local class"),typeFirstDefinitions:!0,atoms:c("true false null"),hooks:{"#":e},modeProps:{fold:["brace","include"]}});var u=null;p("text/x-ceylon",{name:"clike",keywords:c("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),
types:function(a){a=a.charAt(0);return a===a.toUpperCase()&&a!==a.toLowerCase()},blockKeywords:c("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:c("class dynamic function interface module object package value"),builtin:c("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,
isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,isNumberChar:/[\d#$]/,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:c("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(a){a.eatWhile(/[\w\$_]/);return"meta"},'"':function(a,b){b.tokenize=t(a.match('""')?"triple":"single");return b.tokenize(a,b)},"`":function(a,b){if(!u||!a.match("`"))return!1;b.tokenize=u;u=null;return b.tokenize(a,b)},"'":function(a){a.eatWhile(/[\w\$_\xa1-\uffff]/);return"atom"},token:function(a,
b,c){if(("variable"==c||"variable-3"==c)&&"."==b.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})})},{"../../lib/codemirror":390}],392:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===typeof l?"undefined":
c(l))?e(a("../../lib/codemirror"),a("../xml/xml"),a("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],e):e(CodeMirror)})(function(a){a.defineMode("markdown",function(c,b){function e(a,b,c){b.f=b.inline=c;return c(a,b)}function d(a){return!a||!/\S/.test(a.string)}function h(a){a.linkTitle=!1;a.em=!1;a.strong=!1;a.strikethrough=!1;a.quote=0;a.indentedCode=!1;x||a.f!=l||(a.f=u,a.block=f);a.trailingSpace=0;a.trailingSpaceNewLine=!1;a.prevLine=a.thisLine;
return a.thisLine=null}function f(g,h){var k=g.sol(),f=!1!==h.list,m=h.indentedCode;h.indentedCode=!1;f&&(0<=h.indentationDiff?(4>h.indentationDiff&&(h.indentation-=h.indentationDiff),h.list=null):0<h.indentation?(h.list=null,h.listDepth=Math.floor(h.indentation/4)):(h.list=!1,h.listDepth=0));var n=null;if(4<=h.indentationDiff)return g.skipToEnd(),m||d(h.prevLine)?(h.indentation-=4,h.indentedCode=!0,"comment"):null;if(g.eatSpace())return null;if((n=g.match(K))&&6>=n[1].length)return h.header=n[1].length,
b.highlightFormatting&&(h.formatting="header"),h.f=h.inline,r(h);if(d(h.prevLine)||h.quote||f||m||!(n=g.match(N))){if(g.eat(">"))return h.quote=k?1:h.quote+1,b.highlightFormatting&&(h.formatting="quote"),g.eatSpace(),r(h);if("["===g.peek())return e(g,h,v);if(g.match(F,!0))return h.hr=!0,"hr";if((d(h.prevLine)||f)&&(g.match(J,!1)||g.match(L,!1)))return g.match(J,!0)?k="ul":(g.match(L,!0),k="ol"),h.indentation=g.column()+g.current().length,h.list=!0,h.listDepth++,b.taskLists&&g.match(I,!1)&&(h.taskList=
!0),h.f=h.inline,b.highlightFormatting&&(h.formatting=["list","list-"+k]),r(h);if(b.fencedCodeBlocks&&(n=g.match(Y,!0)))return h.fencedChars=n[1],g=n[2],a.findModeByName&&(k=a.findModeByName(g))&&(g=k.mime||k.mimes[0]),g=a.getMode(c,g),h.localMode="null"==g.name?null:g,h.localMode&&(h.localState=h.localMode.startState()),h.f=h.block=w,b.highlightFormatting&&(h.formatting="code-block"),h.code=!0,r(h)}else return h.header="="==n[0].charAt(0)?1:2,b.highlightFormatting&&(h.formatting="header"),h.f=h.inline,
r(h);return e(g,h,h.inline)}function l(a,b){var c=D.token(a,b.htmlState);if(x&&null===b.htmlState.tagStart&&!b.htmlState.context&&b.htmlState.tokenize.isInText||b.md_inside&&-1<a.current().indexOf(">"))b.f=u,b.block=f,b.htmlState=null;return c}function w(a,b){if(a.sol()&&b.fencedChars&&a.match(b.fencedChars,!1))return b.localMode=b.localState=null,b.f=b.block=p,null;if(b.localMode)return b.localMode.token(a,b.localState);a.skipToEnd();return"comment"}function p(a,c){a.match(c.fencedChars);c.block=
f;c.f=u;c.fencedChars=null;b.highlightFormatting&&(c.formatting="code-block");c.code=!0;a=r(c);c.code=!1;return a}function r(a){var c=[];if(a.formatting){c.push("formatting");"string"===typeof a.formatting&&(a.formatting=[a.formatting]);for(var g=0;g<a.formatting.length;g++)c.push("formatting-"+a.formatting[g]),"header"===a.formatting[g]&&c.push("formatting-"+a.formatting[g]+"-"+a.header),"quote"===a.formatting[g]&&(!b.maxBlockquoteDepth||b.maxBlockquoteDepth>=a.quote?c.push("formatting-"+a.formatting[g]+
"-"+a.quote):c.push("error"))}if(a.taskOpen)return c.push("meta"),c.length?c.join(" "):null;if(a.taskClosed)return c.push("property"),c.length?c.join(" "):null;a.linkHref?c.push("string","url"):(a.strong&&c.push("strong"),a.em&&c.push("em"),a.strikethrough&&c.push("strikethrough"),a.linkText&&c.push("link"),a.code&&c.push("comment"));a.header&&(c.push("header"),c.push("header-"+a.header));a.quote&&(c.push("quote"),!b.maxBlockquoteDepth||b.maxBlockquoteDepth>=a.quote?c.push("quote-"+a.quote):c.push("quote-"+
b.maxBlockquoteDepth));!1!==a.list&&((g=(a.listDepth-1)%3)?1===g?c.push("variable-3"):c.push("keyword"):c.push("variable-2"));a.trailingSpaceNewLine?c.push("trailing-space-new-line"):a.trailingSpace&&c.push("trailing-space-"+(a.trailingSpace%2?"a":"b"));return c.length?c.join(" "):null}function t(a,b){if(a.match(P,!0))return r(b)}function u(c,g){var d=g.text(c,g);if("undefined"!==typeof d)return d;if(g.list)return g.list=null,r(g);if(g.taskList)return"x"!==c.match(I,!0)[1]?g.taskOpen=!0:g.taskClosed=
!0,b.highlightFormatting&&(g.formatting="task"),g.taskList=!1,r(g);g.taskOpen=!1;g.taskClosed=!1;if(g.header&&c.match(/^#+$/,!0))return b.highlightFormatting&&(g.formatting="header"),r(g);var d=c.sol(),e=c.next();if("\\"===e&&(c.next(),b.highlightFormatting))return(c=r(g))?c+" formatting-escape":"formatting-escape";if(g.linkTitle){g.linkTitle=!1;var h=e;"("===e&&(h=")");h=(h+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");if(c.match(new RegExp("^\\s*(?:[^"+h+"\\\\]+|\\\\\\\\|\\\\.)"+h),!0))return"string"}if("`"===
e){d=g.formatting;b.highlightFormatting&&(g.formatting="code");e=r(g);h=c.pos;c.eatWhile("`");c=1+c.pos-h;if(g.code){if(c===E)return g.code=!1,e;g.formatting=d}else E=c,g.code=!0;return r(g)}if(g.code)return r(g);if("!"===e&&c.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return c.match(/\[[^\]]*\]/),g.inline=g.f=A,"tag";if("["===e&&c.match(/.*\](\(.*\)| ?\[.*\])/,!1))return g.linkText=!0,b.highlightFormatting&&(g.formatting="link"),r(g);if("]"===e&&g.linkText&&c.match(/\(.*\)| ?\[.*\]/,!1))return b.highlightFormatting&&
(g.formatting="link"),c=r(g),g.linkText=!1,g.inline=g.f=A,c;if("<"===e&&c.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)||"<"===e&&c.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return g.f=g.inline=y,b.highlightFormatting&&(g.formatting="link"),c=r(g),(c?c+" ":"")+"link";if("<"===e&&c.match(/^(!--|\w)/,!1))return d=c.string.indexOf(">",c.pos),-1!=d&&(d=c.string.substring(c.start,d),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(d)&&(g.md_inside=!0)),c.backUp(1),g.htmlState=a.startState(D),d=l,g.f=g.block=
d,d(c,g);if("<"===e&&c.match(/^\/\w*?>/))return g.md_inside=!1,"tag";h=!1;if(!b.underscoresBreakWords&&"_"===e&&"_"!==c.peek()&&c.match(/(\w)/,!1)){var k=c.pos-2;0<=k&&(k=c.string.charAt(k),"_"!==k&&k.match(/(\w)/,!1)&&(h=!0))}if("*"===e||"_"===e&&!h){if(!d||" "!==c.peek()){if(g.strong===e&&c.eat(e))return b.highlightFormatting&&(g.formatting="strong"),e=r(g),g.strong=!1,e;if(!g.strong&&c.eat(e))return g.strong=e,b.highlightFormatting&&(g.formatting="strong"),r(g);if(g.em===e)return b.highlightFormatting&&
(g.formatting="em"),e=r(g),g.em=!1,e;if(!g.em)return g.em=e,b.highlightFormatting&&(g.formatting="em"),r(g)}}else if(" "===e&&(c.eat("*")||c.eat("_"))){if(" "===c.peek())return r(g);c.backUp(1)}if(b.strikethrough)if("~"===e&&c.eatWhile(e)){if(g.strikethrough)return b.highlightFormatting&&(g.formatting="strikethrough"),e=r(g),g.strikethrough=!1,e;if(c.match(/^[^\s]/,!1))return g.strikethrough=!0,b.highlightFormatting&&(g.formatting="strikethrough"),r(g)}else if(" "===e&&c.match(/^~~/,!0)){if(" "===
c.peek())return r(g);c.backUp(2)}" "===e&&(c.match(/ +$/,!1)?g.trailingSpace++:g.trailingSpace&&(g.trailingSpaceNewLine=!0));return r(g)}function y(a,c){if(">"===a.next())return c.f=c.inline=u,b.highlightFormatting&&(c.formatting="link"),a=r(c),(a?a+" ":"")+"link";a.match(/^[^>]+/,!0);return"link"}function A(a,c){if(a.eatSpace())return null;a=a.next();return"("===a||"["===a?(c.f=c.inline=g("("===a?")":"]"),b.highlightFormatting&&(c.formatting="link-string"),c.linkHref=!0,r(c)):"error"}function g(a){return function(c,
g){if(c.next()===a)return g.f=g.inline=u,b.highlightFormatting&&(g.formatting="link-string"),c=r(g),g.linkHref=!1,c;c.match(G(a),!0)&&c.backUp(1);g.linkHref=!0;return r(g)}}function v(a,c){return a.match(/^[^\]]*\]:/,!1)?(c.f=z,a.next(),b.highlightFormatting&&(c.formatting="link"),c.linkText=!0,r(c)):e(a,c,u)}function z(a,c){if(a.match(/^\]:/,!0))return c.f=c.inline=B,b.highlightFormatting&&(c.formatting="link"),a=r(c),c.linkText=!1,a;a.match(/^[^\]]+/,!0);return"link"}function B(a,b){if(a.eatSpace())return null;
a.match(/^[^\s]+/,!0);void 0===a.peek()?b.linkTitle=!0:a.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0);b.f=b.inline=u;return"string url"}function G(a){M[a]||(a=(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),M[a]=new RegExp("^(?:[^\\\\]|\\\\.)*?("+a+")"));return M[a]}var x=a.modes.hasOwnProperty("xml"),D=a.getMode(c,x?{name:"xml",htmlMode:!0}:"text/plain");void 0===b.highlightFormatting&&(b.highlightFormatting=!1);void 0===b.maxBlockquoteDepth&&(b.maxBlockquoteDepth=
0);void 0===b.underscoresBreakWords&&(b.underscoresBreakWords=!0);void 0===b.taskLists&&(b.taskLists=!1);void 0===b.strikethrough&&(b.strikethrough=!1);var E=0,F=/^([*\-_])(?:\s*\1){2,}\s*$/,J=/^[*\-+]\s+/,L=/^[0-9]+([.)])\s+/,I=/^\[(x| )\](?=\s)/,K=b.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,N=/^ *(?:\={1,}|-{1,})\s*$/,P=/^[^#!\[\]*_\\<>` "'(~]+/,Y=new RegExp("^("+(!0===b.fencedCodeBlocks?"~~~+|```+":b.fencedCodeBlocks)+")[ \\t]*([\\w+#]*)"),M=[],O={startState:function(){return{f:f,prevLine:null,
thisLine:null,block:f,htmlState:null,indentation:0,inline:u,text:t,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listDepth:0,quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(b){return{f:b.f,prevLine:b.prevLine,thisLine:b.this,block:b.block,htmlState:b.htmlState&&a.copyState(D,b.htmlState),indentation:b.indentation,localMode:b.localMode,localState:b.localMode?a.copyState(b.localMode,b.localState):
null,inline:b.inline,text:b.text,formatting:!1,linkTitle:b.linkTitle,code:b.code,em:b.em,strong:b.strong,strikethrough:b.strikethrough,header:b.header,hr:b.hr,taskList:b.taskList,list:b.list,listDepth:b.listDepth,quote:b.quote,indentedCode:b.indentedCode,trailingSpace:b.trailingSpace,trailingSpaceNewLine:b.trailingSpaceNewLine,md_inside:b.md_inside,fencedChars:b.fencedChars}},token:function(a,b){b.formatting=!1;if(a!=b.thisLine){var c=b.header||b.hr;b.header=0;b.hr=!1;if(a.match(/^\s*$/,!0)||c){h(b);
if(!c)return null;b.prevLine=null}b.prevLine=b.thisLine;b.thisLine=a;b.taskList=!1;b.trailingSpace=0;b.trailingSpaceNewLine=!1;b.f=b.block;var c=a.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length,g=4*Math.floor((c-b.indentation)/4);4<g&&(g=4);g=b.indentation+g;b.indentationDiff=g-b.indentation;b.indentation=g;if(0<c)return null}return b.f(a,b)},innerMode:function(a){return a.block==l?{state:a.htmlState,mode:D}:a.localState?{state:a.localState,mode:a.localMode}:{state:a,mode:O}},blankLine:h,getType:r,
fold:"markdown"};return O},"xml");a.defineMIME("text/x-markdown","markdown")})},{"../../lib/codemirror":390,"../meta":393,"../xml/xml":397}],393:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===typeof l?"undefined":c(l))?e(a("../lib/codemirror")):"function"==
typeof define&&define.amd?define(["../lib/codemirror"],e):e(CodeMirror)})(function(a){a.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b",
"bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:"cpp c++ cc cxx hpp h++ hh hxx".split(" "),alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",
ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",
mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",
mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"Forth",
mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",
mime:"text/x-groovy",mode:"groovy",ext:["groovy"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",
mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json",
"application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",
mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps"},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",
mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},
{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:"txt text conf def list log".split(" ")},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"Python",
mime:"text/x-python",mode:"python",ext:["py","pyw"]},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby",
"macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"]},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},
{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",
alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"MariaDB",mime:"text/x-mariadb",mode:"sql"},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",
ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"troff",mode:"troff",ext:"123456789".split("")},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",
ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",
ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",
mode:"mscgen",ext:["msgenny"]}];for(var c=0;c<a.modeInfo.length;c++){var b=a.modeInfo[c];b.mimes&&(b.mime=b.mimes[0])}a.findModeByMIME=function(b){b=b.toLowerCase();for(var c=0;c<a.modeInfo.length;c++){var e=a.modeInfo[c];if(e.mime==b)return e;if(e.mimes)for(var h=0;h<e.mimes.length;h++)if(e.mimes[h]==b)return e}};a.findModeByExtension=function(b){for(var c=0;c<a.modeInfo.length;c++){var e=a.modeInfo[c];if(e.ext)for(var h=0;h<e.ext.length;h++)if(e.ext[h]==b)return e}};a.findModeByFileName=function(b){for(var c=
0;c<a.modeInfo.length;c++){var e=a.modeInfo[c];if(e.file&&e.file.test(b))return e}c=b.lastIndexOf(".");if(b=-1<c&&b.substring(c+1,b.length))return a.findModeByExtension(b)};a.findModeByName=function(b){b=b.toLowerCase();for(var c=0;c<a.modeInfo.length;c++){var e=a.modeInfo[c];if(e.name.toLowerCase()==b)return e;if(e.alias)for(var h=0;h<e.alias.length;h++)if(e.alias[h].toLowerCase()==b)return e}}})},{"../lib/codemirror":390}],394:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===typeof l?"undefined":c(l))?e(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(a){function c(a){return new RegExp("^(("+a.join(")|(")+"))\\b")}function b(a){return a.scopes[a.scopes.length-1]}var e=c(["and","or","not",
"is"]),d="as assert break class continue def del elif else except finally for from global if import lambda pass raise return try while with yield in".split(" "),f="abs all any bin bool bytearray callable chr classmethod compile complex delattr dict dir divmod enumerate eval filter float format frozenset getattr globals hasattr hash help hex id input int isinstance issubclass iter len list locals map max memoryview min next object oct open ord pow property range repr reversed round set setattr slice sorted staticmethod str sum super tuple type vars zip __import__ NotImplemented Ellipsis __debug__".split(" "),
m="apply basestring buffer cmp coerce execfile file intern long raw_input reduce reload unichr unicode xrange False True None".split(" "),l=["exec","print"],w=["ascii","bytes","exec","print"],p="nonlocal False True None async await".split(" ");a.registerHelper("hintWords","python",d.concat(f));a.defineMode("python",function(h,k){function n(a,c){if(a.sol()&&"py"==b(c).type){var d=b(c).offset;if(a.eatSpace()){var e=a.indentation();e>d?g(a,c,"py"):e<d&&v(a,c)&&(c.errorToken=!0);return null}e=q(a,c);
0<d&&v(a,c)&&(e+=" error");return e}return q(a,c)}function q(a,b){if(a.eatSpace())return null;if("#"==a.peek())return a.skipToEnd(),"comment";if(a.match(/^[0-9\.]/,!1)){var c=!1;a.match(/^\d*\.\d+(e[\+\-]?\d+)?/i)&&(c=!0);a.match(/^\d+\.\d*/)&&(c=!0);a.match(/^\.\d+/)&&(c=!0);if(c)return a.eat(/J/i),"number";c=!1;a.match(/^0x[0-9a-f]+/i)&&(c=!0);a.match(/^0b[01]+/i)&&(c=!0);a.match(/^0o[0-7]+/i)&&(c=!0);a.match(/^[1-9]\d*(e[\+\-]?\d+)?/)&&(a.eat(/J/i),c=!0);a.match(/^0(?![\dx])/i)&&(c=!0);if(c)return a.eat(/L/i),
"number"}if(a.match(K))return b.tokenize=r(a.current()),b.tokenize(a,b);if(a.match(D)||a.match(x))return null;if(a.match(G)||a.match(E))return"operator";if(a.match(t))return null;if(a.match(N)||a.match(e))return"keyword";if(a.match(P))return"builtin";if(a.match(/^(self|cls)\b/))return"variable-2";if(a.match(F))return"def"==b.lastToken||"class"==b.lastToken?"def":"variable";a.next();return"error"}function r(a){function b(b,g){for(;!b.eol();)if(b.eatWhile(/[^'"\\]/),b.eat("\\")){if(b.next(),c&&b.eol())return"string"}else{if(b.match(a))return g.tokenize=
n,"string";b.eat(/['"]/)}if(c){if(k.singleLineStringErrors)return"error";g.tokenize=n}return"string"}for(;0<="rub".indexOf(a.charAt(0).toLowerCase());)a=a.substr(1);var c=1==a.length;b.isString=!0;return b}function g(a,c,g){var d,e=null;if("py"==g)for(;"py"!=b(c).type;)c.scopes.pop();d=b(c).offset+("py"==g?h.indentUnit:J);"py"==g||a.match(/^(\s|#.*)*$/,!1)||(e=a.column()+1);c.scopes.push({offset:d,type:g,align:e})}function v(a,c){for(a=a.indentation();b(c).offset>a;){if("py"!=b(c).type)return!0;c.scopes.pop()}return b(c).offset!=
a}function z(a,c){var d=c.tokenize(a,c),e=a.current();if("."==e)return d=a.match(F,!1)?null:"error",null==d&&"meta"==c.lastStyle&&(d="meta"),d;if("@"==e)return k.version&&3==parseInt(k.version,10)?a.match(F,!1)?"meta":"operator":a.match(F,!1)?"meta":"error";"variable"!=d&&"builtin"!=d||"meta"!=c.lastStyle||(d="meta");if("pass"==e||"return"==e)c.dedent+=1;"lambda"==e&&(c.lambda=!0);":"!=e||c.lambda||"py"!=b(c).type||g(a,c,"py");var h=1==e.length?"[({".indexOf(e):-1;-1!=h&&g(a,c,"])}".slice(h,h+1));
h="])}".indexOf(e);if(-1!=h)if(b(c).type==e)c.scopes.pop();else return"error";0<c.dedent&&a.eol()&&"py"==b(c).type&&(1<c.scopes.length&&c.scopes.pop(),--c.dedent);return d}var t=k.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.]/,G=k.doubleOperators||/^((==)|(!=)|(<=)|(>=)|(<>)|(<<)|(>>)|(\/\/)|(\*\*))/,x=k.doubleDelimiters||/^((\+=)|(\-=)|(\*=)|(%=)|(\/=)|(&=)|(\|=)|(\^=))/,D=k.tripleDelimiters||/^((\/\/=)|(>>=)|(<<=)|(\*\*=))/;if(k.version&&3==parseInt(k.version,10))var E=k.singleOperators||/^[\+\-\*/%&|\^~<>!@]/,
F=k.identifiers||/^[_A-Za-z\u00a1-\uffff][_A-Za-z0-9\u00a1-\uffff]*/;else E=k.singleOperators||/^[\+\-\*/%&|\^~<>!]/,F=k.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;var J=k.hangingIndent||h.indentUnit,L=d,I=f;void 0!=k.extra_keywords&&(L=L.concat(k.extra_keywords));void 0!=k.extra_builtins&&(I=I.concat(k.extra_builtins));if(k.version&&3==parseInt(k.version,10))var L=L.concat(p),I=I.concat(w),K=/^(([rb]|(br))?('{3}|"{3}|['"]))/i;else L=L.concat(l),I=I.concat(m),K=/^(([rub]|(ur)|(br))?('{3}|"{3}|['"]))/i;
var N=c(L),P=c(I);return{startState:function(a){return{tokenize:n,scopes:[{offset:a||0,type:"py",align:null}],lastStyle:null,lastToken:null,lambda:!1,dedent:0}},token:function(a,b){var c=b.errorToken;c&&(b.errorToken=!1);var g=z(a,b);b.lastStyle=g;var d=a.current();d&&g&&(b.lastToken=d);a.eol()&&b.lambda&&(b.lambda=!1);return c?g+" error":g},indent:function(c,g){if(c.tokenize!=n)return c.tokenize.isString?a.Pass:0;var d=b(c);g=g&&g.charAt(0)==d.type;return null!=d.align?d.align-(g?1:0):g&&1<c.scopes.length?
c.scopes[c.scopes.length-2].offset:d.offset},closeBrackets:{triples:"'\""},lineComment:"#",fold:"indent"}});a.defineMIME("text/x-python","python");a.defineMIME("text/x-cython",{name:"python",extra_keywords:"by cdef cimport cpdef ctypedef enum exceptextern gil include nogil property publicreadonly struct union DEF IF ELIF ELSE".split(" ")})})},{"../../lib/codemirror":390}],395:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===typeof l?"undefined":c(l))?e(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(a){a.defineMode("r",function(a){function b(a){a=a.split(" ");for(var b={},c=0;c<a.length;++c)b[a[c]]=!0;return b}function c(a,b){t=null;var c=a.next();if("#"==c)return a.skipToEnd(),"comment";
if("0"==c&&a.eat("x"))return a.eatWhile(/[\da-f]/i),"number";if("."==c&&a.eat(/\d/))return a.match(/\d*(?:e[+\-]?\d+)?/),"number";if(/\d/.test(c))return a.match(/\d*(?:\.\d+)?(?:e[+\-]\d+)?L?/),"number";if("'"==c||'"'==c)return b.tokenize=d(c),"string";if("."==c&&a.match(/.[.\d]+/))return"keyword";if(/[\w\.]/.test(c)&&"_"!=c)return a.eatWhile(/[\w\.]/),b=a.current(),h.propertyIsEnumerable(b)?"atom":l.propertyIsEnumerable(b)?(p.propertyIsEnumerable(b)&&!a.match(/\s*if(\s+|$)/,!1)&&(t="block"),"keyword"):
f.propertyIsEnumerable(b)?"builtin":"variable";if("%"==c)return a.skipTo("%")&&a.next(),"variable-2";if("<"==c&&a.eat("-"))return"arrow";if("="==c&&b.ctx.argList)return"arg-is";if(r.test(c)){if("$"==c)return"dollar";a.eatWhile(r);return"operator"}return/[\(\){}\[\];]/.test(c)?(t=c,";"==c?"semi":null):null}function d(a){return function(b,d){if(b.eat("\\"))return d=b.next(),"x"==d?b.match(/^[a-f0-9]{2}/i):("u"==d||"U"==d)&&b.eat("{")&&b.skipTo("}")?b.next():"u"==d?b.match(/^[a-f0-9]{4}/i):"U"==d?b.match(/^[a-f0-9]{8}/i):
/[0-7]/.test(d)&&b.match(/^[0-7]{1,2}/),"string-2";for(var g;null!=(g=b.next());){if(g==a){d.tokenize=c;break}if("\\"==g){b.backUp(1);break}}return"string"}}function e(a,b,c){a.ctx={type:b,indent:a.indent,align:null,column:c.column(),prev:a.ctx}}var h=b("NULL NA Inf NaN NA_integer_ NA_real_ NA_complex_ NA_character_"),f=b("list quote bquote eval return call parse deparse"),l=b("if else repeat while function for in next break"),p=b("if else repeat while function for"),r=/[+\-*\/^<>=!&|~$:]/,t;return{startState:function(){return{tokenize:c,
ctx:{type:"top",indent:-a.indentUnit,align:!1},indent:0,afterIdent:!1}},token:function(a,b){a.sol()&&(null==b.ctx.align&&(b.ctx.align=!1),b.indent=a.indentation());if(a.eatSpace())return null;var c=b.tokenize(a,b);"comment"!=c&&null==b.ctx.align&&(b.ctx.align=!0);var g=b.ctx.type;";"!=t&&"{"!=t&&"}"!=t||"block"!=g||(b.indent=b.ctx.indent,b.ctx=b.ctx.prev);"{"==t?e(b,"}",a):"("==t?(e(b,")",a),b.afterIdent&&(b.ctx.argList=!0)):"["==t?e(b,"]",a):"block"==t?e(b,"block",a):t==g&&(b.indent=b.ctx.indent,
b.ctx=b.ctx.prev);b.afterIdent="variable"==c||"keyword"==c;return c},indent:function(b,d){if(b.tokenize!=c)return 0;d=d&&d.charAt(0);b=b.ctx;var e=d==b.type;return"block"==b.type?b.indent+("{"==d?0:a.indentUnit):b.align?b.column+(e?0:1):b.indent+(e?0:a.indentUnit)},lineComment:"#"}});a.defineMIME("text/x-rsrc","r")})},{"../../lib/codemirror":390}],396:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===
typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===typeof l?"undefined":c(l))?e(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(a){a.defineMode("sql",function(c,b){function e(a,b){var c=a.next();if(y[c]){var e=y[c](a,b);if(!1!==e)return e}if(1==u.hexNumber&&("0"==c&&a.match(/^[xX][0-9a-fA-F]+/)||("x"==c||"X"==c)&&a.match(/^'[0-9a-fA-F]+'/))||
1==u.binaryNumber&&(("b"==c||"B"==c)&&a.match(/^'[01]+'/)||"0"==c&&a.match(/^b[01]+/)))return"number";if(47<c.charCodeAt(0)&&58>c.charCodeAt(0))return a.match(/^[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?/),1==u.decimallessFloat&&a.eat("."),"number";if("?"==c&&(a.eatSpace()||a.eol()||a.eat(";")))return"variable-3";if("'"==c||'"'==c&&u.doubleQuote)return b.tokenize=d(c),b.tokenize(a,b);if(!(1==u.nCharCast&&("n"==c||"N"==c)||1==u.charsetCast&&"_"==c&&a.match(/[a-z][a-z0-9]*/i))||"'"!=a.peek()&&'"'!=a.peek()){if(/^[\(\),\;\[\]]/.test(c))return null;
if(u.commentSlashSlash&&"/"==c&&a.eat("/")||u.commentHash&&"#"==c||"-"==c&&a.eat("-")&&(!u.commentSpaceRequired||a.eat(" ")))return a.skipToEnd(),"comment";if("/"==c&&a.eat("*"))return b.tokenize=h,b.tokenize(a,b);if("."==c){if(1==u.zerolessFloat&&a.match(/^(?:\d+(?:e[+-]?\d+)?)/i))return"number";if(1==u.ODBCdotTable&&a.match(/^[a-zA-Z_]+/))return"variable-2"}else{if(t.test(c))return a.eatWhile(t),null;if("{"==c&&(a.match(/^( )*(d|D|t|T|ts|TS)( )*'[^']*'( )*}/)||a.match(/^( )*(d|D|t|T|ts|TS)( )*"[^"]*"( )*}/)))return"number";
a.eatWhile(/^[_\w\d]/);b=a.current().toLowerCase();return A.hasOwnProperty(b)&&(a.match(/^( )+'[^']*'/)||a.match(/^( )+"[^"]*"/))?"number":w.hasOwnProperty(b)?"atom":p.hasOwnProperty(b)?"builtin":r.hasOwnProperty(b)?"keyword":l.hasOwnProperty(b)?"string-2":g.hasOwnProperty(b)?"qualifier":null}}else return"keyword"}function d(a){return function(b,c){for(var g=!1,d;null!=(d=b.next());){if(d==a&&!g){c.tokenize=e;break}g=!g&&"\\"==d}return"string"}}function h(a,b){for(;;)if(a.skipTo("*")){if(a.next(),
a.eat("/")){b.tokenize=e;break}}else{a.skipToEnd();break}return"comment"}function f(a,b,c){b.context={prev:b.context,indent:a.indentation(),col:a.column(),type:c}}var l=b.client||{},w=b.atoms||{"false":!0,"true":!0,"null":!0},p=b.builtin||{},r=b.keywords||{},t=b.operatorChars||/^[*+\-%<>!=&|~^]/,u=b.support||{},y=b.hooks||{},A=b.dateSQL||{date:!0,time:!0,timestamp:!0},g=b.qualifiers||{};return{startState:function(){return{tokenize:e,context:null}},token:function(a,b){a.sol()&&b.context&&null==b.context.align&&
(b.context.align=!1);if(a.eatSpace())return null;var c=b.tokenize(a,b);if("comment"==c)return c;b.context&&null==b.context.align&&(b.context.align=!0);var g=a.current();"("==g?f(a,b,")"):"["==g?f(a,b,"]"):b.context&&b.context.type==g&&(b.indent=b.context.indent,b.context=b.context.prev);return c},indent:function(b,g){b=b.context;if(!b)return a.Pass;g=g.charAt(0)==b.type;return b.align?b.col+(g?0:1):b.indent+(g?0:c.indentUnit)},blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:u.commentSlashSlash?
"//":u.commentHash?"#":null}});(function(){function c(a){for(var b;null!=(b=a.next());)if("`"==b&&!a.eat("`"))return"variable-2";a.backUp(a.current().length-1);return a.eatWhile(/\w/)?"variable-2":null}function b(a){a.eat("@")&&(a.match(/^session\./),a.match(/^local\./),a.match(/^global\./));return a.eat("'")?(a.match(/^.*'/),"variable-2"):a.eat('"')?(a.match(/^.*"/),"variable-2"):a.eat("`")?(a.match(/^.*`/),"variable-2"):a.match(/^[0-9a-zA-Z$\.\_]+/)?"variable-2":null}function e(a){return a.eat("N")?
"atom":a.match(/^[a-zA-Z.#!?]/)?"variable-2":null}function d(a){var b={};a=a.split(" ");for(var c=0;c<a.length;++c)b[a[c]]=!0;return b}a.defineMIME("text/x-sql",{name:"sql",keywords:d("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where begin"),builtin:d("bool boolean bit blob enum long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision real date datetime year unsigned signed decimal numeric"),
atoms:d("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:d("date time timestamp"),support:d("ODBCdotTable doubleQuote binaryNumber hexNumber")});a.defineMIME("text/x-mssql",{name:"sql",client:d("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:d("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where begin trigger proc view index for add constraint key primary foreign collate clustered nonclustered declare"),
builtin:d("bigint numeric bit smallint decimal smallmoney int tinyint money float real char varchar text nchar nvarchar ntext binary varbinary image cursor timestamp hierarchyid uniqueidentifier sql_variant xml table "),atoms:d("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:d("date datetimeoffset datetime2 smalldatetime datetime time"),hooks:{"@":b}});a.defineMIME("text/x-mysql",{name:"sql",client:d("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),
keywords:d("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where accessible action add after algorithm all analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general get global grant grants group group_concat handler hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show signal slave slow smallint snapshot soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),
builtin:d("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:d("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:d("date time timestamp"),support:d("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),
hooks:{"@":b,"`":c,"\\":e}});a.defineMIME("text/x-mariadb",{name:"sql",client:d("charset clear connect edit ego exit go help nopager notee nowarning pager print prompt quit rehash source status system tee"),keywords:d("alter and as asc between by count create delete desc distinct drop from group having in insert into is join like not on or order select set table union update values where accessible action add after algorithm all always analyze asensitive at authors auto_increment autocommit avg avg_row_length before binary binlog both btree cache call cascade cascaded case catalog_name chain change changed character check checkpoint checksum class_origin client_statistics close coalesce code collate collation collations column columns comment commit committed completion concurrent condition connection consistent constraint contains continue contributors convert cross current current_date current_time current_timestamp current_user cursor data database databases day_hour day_microsecond day_minute day_second deallocate dec declare default delay_key_write delayed delimiter des_key_file describe deterministic dev_pop dev_samp deviance diagnostics directory disable discard distinctrow div dual dumpfile each elseif enable enclosed end ends engine engines enum errors escape escaped even event events every execute exists exit explain extended fast fetch field fields first flush for force foreign found_rows full fulltext function general generated get global grant grants group groupby_concat handler hard hash help high_priority hosts hour_microsecond hour_minute hour_second if ignore ignore_server_ids import index index_statistics infile inner innodb inout insensitive insert_method install interval invoker isolation iterate key keys kill language last leading leave left level limit linear lines list load local localtime localtimestamp lock logs low_priority master master_heartbeat_period master_ssl_verify_server_cert masters match max max_rows maxvalue message_text middleint migrate min min_rows minute_microsecond minute_second mod mode modifies modify mutex mysql_errno natural next no no_write_to_binlog offline offset one online open optimize option optionally out outer outfile pack_keys parser partition partitions password persistent phase plugin plugins prepare preserve prev primary privileges procedure processlist profile profiles purge query quick range read read_write reads real rebuild recover references regexp relaylog release remove rename reorganize repair repeatable replace require resignal restrict resume return returns revoke right rlike rollback rollup row row_format rtree savepoint schedule schema schema_name schemas second_microsecond security sensitive separator serializable server session share show shutdown signal slave slow smallint snapshot soft soname spatial specific sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_no_cache sql_small_result sqlexception sqlstate sqlwarning ssl start starting starts status std stddev stddev_pop stddev_samp storage straight_join subclass_origin sum suspend table_name table_statistics tables tablespace temporary terminated to trailing transaction trigger triggers truncate uncommitted undo uninstall unique unlock upgrade usage use use_frm user user_resources user_statistics using utc_date utc_time utc_timestamp value variables varying view views virtual warnings when while with work write xa xor year_month zerofill begin do then else loop repeat"),
builtin:d("bool boolean bit blob decimal double float long longblob longtext medium mediumblob mediumint mediumtext time timestamp tinyblob tinyint tinytext text bigint int int1 int2 int3 int4 int8 integer float float4 float8 double char varbinary varchar varcharacter precision date datetime year unsigned signed numeric"),atoms:d("false true null unknown"),operatorChars:/^[*+\-%<>!=&|^]/,dateSQL:d("date time timestamp"),support:d("ODBCdotTable decimallessFloat zerolessFloat binaryNumber hexNumber doubleQuote nCharCast charsetCast commentHash commentSpaceRequired"),
hooks:{"@":b,"`":c,"\\":e}});a.defineMIME("text/x-cassandra",{name:"sql",client:{},keywords:d("add all allow alter and any apply as asc authorize batch begin by clustering columnfamily compact consistency count create custom delete desc distinct drop each_quorum exists filtering from grant if in index insert into key keyspace keyspaces level limit local_one local_quorum modify nan norecursive nosuperuser not of on one order password permission permissions primary quorum rename revoke schema select set storage superuser table three to token truncate ttl two type unlogged update use user users using values where with writetime"),
builtin:d("ascii bigint blob boolean counter decimal double float frozen inet int list map static text timestamp timeuuid tuple uuid varchar varint"),atoms:d("false true infinity NaN"),operatorChars:/^[<>=]/,dateSQL:{},support:d("commentSlashSlash decimallessFloat"),hooks:{}});a.defineMIME("text/x-plsql",{name:"sql",client:d("appinfo arraysize autocommit autoprint autorecovery autotrace blockterminator break btitle cmdsep colsep compatibility compute concat copycommit copytypecheck define describe echo editfile embedded escape exec execute feedback flagger flush heading headsep instance linesize lno loboffset logsource long longchunksize markup native newpage numformat numwidth pagesize pause pno recsep recsepchar release repfooter repheader serveroutput shiftinout show showmode size spool sqlblanklines sqlcase sqlcode sqlcontinue sqlnumber sqlpluscompatibility sqlprefix sqlprompt sqlterminator suffix tab term termout time timing trimout trimspool ttitle underline verify version wrap"),
keywords:d("abort accept access add all alter and any array arraylen as asc assert assign at attributes audit authorization avg base_table begin between binary_integer body boolean by case cast char char_base check close cluster clusters colauth column comment commit compress connect connected constant constraint crash create current currval cursor data_base database date dba deallocate debugoff debugon decimal declare default definition delay delete desc digits dispose distinct do drop else elseif elsif enable end entry escape exception exception_init exchange exclusive exists exit external fast fetch file for force form from function generic goto grant group having identified if immediate in increment index indexes indicator initial initrans insert interface intersect into is key level library like limited local lock log logging long loop master maxextents maxtrans member minextents minus mislabel mode modify multiset new next no noaudit nocompress nologging noparallel not nowait number_base object of off offline on online only open option or order out package parallel partition pctfree pctincrease pctused pls_integer positive positiven pragma primary prior private privileges procedure public raise range raw read rebuild record ref references refresh release rename replace resource restrict return returning returns reverse revoke rollback row rowid rowlabel rownum rows run savepoint schema segment select separate session set share snapshot some space split sql start statement storage subtype successful synonym tabauth table tables tablespace task terminate then to trigger truncate type union unique unlimited unrecoverable unusable update use using validate value values variable view views when whenever where while with work"),
builtin:d("abs acos add_months ascii asin atan atan2 average bfile bfilename bigserial bit blob ceil character chartorowid chr clob concat convert cos cosh count dec decode deref dual dump dup_val_on_index empty error exp false float floor found glb greatest hextoraw initcap instr instrb int integer isopen last_day least lenght lenghtb ln lower lpad ltrim lub make_ref max min mlslabel mod months_between natural naturaln nchar nclob new_time next_day nextval nls_charset_decl_len nls_charset_id nls_charset_name nls_initcap nls_lower nls_sort nls_upper nlssort no_data_found notfound null number numeric nvarchar2 nvl others power rawtohex real reftohex round rowcount rowidtochar rowtype rpad rtrim serial sign signtype sin sinh smallint soundex sqlcode sqlerrm sqrt stddev string substr substrb sum sysdate tan tanh to_char text to_date to_label to_multi_byte to_number to_single_byte translate true trunc uid unlogged upper user userenv varchar varchar2 variance varying vsize xml"),
operatorChars:/^[*+\-%<>!=~]/,dateSQL:d("date time timestamp"),support:d("doubleQuote nCharCast zerolessFloat binaryNumber hexNumber")});a.defineMIME("text/x-hive",{name:"sql",keywords:d("select alter $elem$ $key$ $value$ add after all analyze and archive as asc before between binary both bucket buckets by cascade case cast change cluster clustered clusterstatus collection column columns comment compute concatenate continue create cross cursor data database databases dbproperties deferred delete delimited desc describe directory disable distinct distribute drop else enable end escaped exclusive exists explain export extended external false fetch fields fileformat first format formatted from full function functions grant group having hold_ddltime idxproperties if import in index indexes inpath inputdriver inputformat insert intersect into is items join keys lateral left like limit lines load local location lock locks mapjoin materialized minus msck no_drop nocompress not of offline on option or order out outer outputdriver outputformat overwrite partition partitioned partitions percent plus preserve procedure purge range rcfile read readonly reads rebuild recordreader recordwriter recover reduce regexp rename repair replace restrict revoke right rlike row schema schemas semi sequencefile serde serdeproperties set shared show show_database sort sorted ssl statistics stored streamtable table tables tablesample tblproperties temporary terminated textfile then tmp to touch transform trigger true unarchive undo union uniquejoin unlock update use using utc utc_tmestamp view when where while with"),
builtin:d("bool boolean long timestamp tinyint smallint bigint int float double date datetime unsigned string array struct map uniontype"),atoms:d("false true null unknown"),operatorChars:/^[*+\-%<>!=]/,dateSQL:d("date timestamp"),support:d("ODBCdotTable doubleQuote binaryNumber hexNumber")});a.defineMIME("text/x-hiveql",{name:"sql",keywords:d("add after all alter and archive as asc between bucket buckets by cache cascade change cli cluster clustered coalesce collection column columns comment create cross data database databases dbproperties deferred delimited dependency desc describe directory disable distinct distribute dot drop enable escaped exists explain export extended external fields fileformat first format formatted from full function functions grant group having idxproperties if ignore import in index indexes inpath insert into is items join keys lateral left like limit lines load local location locks map mapjoin msck not of offline on option order out outer overwrite partition partitioned partitions percent privileges protection rebuild recordreader recover reduce regexp rename repair replace restrict revoke right rlike role row schema schemas select semi separated serde serdeproperties set show skewed sort sorted stored sum table tables tablesample tblproperties temporary terminated to touch transform truncate unarchive ucache union us user using view where with refresh invalidate metadata"),
builtin:d("tinyint smallint int bigint boolean float double string binary timestamp decimal array map struct uniontype delimited serde sequencefile textfile rcfile inputformat outputformat"),functions:d("round floor ceil ceiling rand exp ln log10 log2 log pow power sqrt bin hex unhex conv abs pmod sin asin cos acos tan atan degrees radians positive negative sign e pi size map_keys map_values array_contains sort_array binary cast from_unixtime unix_timestamp to_date year month day hour minute second weekofyear datediff date_add date_sub from_utc_timestamp to_utc_timestamp ascii concat context_ngrams concat_ws find_in_set format_number get_json_object in_file instr length locate lower lcase lpad ltrim ngrams parse_url printf regexp_extract regexp_replace repeat reverse rpad rtrim sentences space split str_to_map substr substring translate trim upper ucase java_method reflect xpath xpath_short xpath_int xpath_long xpath_float xpath_double xpath_number xpath_string count sum avg min max variance var_samp stdev_pop stdev_samp covar_pop covar_samp corr percentile percentile_approx histogram_numeric collect_set inline explode json_tuple parse_url_tuple get_json_object"),
atoms:d("false true null"),qualifiers:d("%sql"),operatorChars:/^[*+\-<>!=~&|^]/,dateSQL:d("date time timestamp"),support:d("ODBCdotTable zerolessFloat doubleQuote")})})()})},{"../../lib/codemirror":390}],397:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(e){"object"==("undefined"===typeof f?"undefined":c(f))&&"object"==("undefined"===
typeof l?"undefined":c(l))?e(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(a){a.defineMode("xml",function(c,b){function e(a,b){function c(c){b.tokenize=c;return c(a,b)}var g=a.next();if("<"==g){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?c(f("atom","]]\x3e")):null:a.match("--")?c(f("comment","--\x3e")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(l(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),b.tokenize=
f("meta","?>"),"meta";L=a.eat("/")?"closeTag":"openTag";b.tokenize=d;return"tag bracket"}if("&"==g)return(a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"))?"atom":"error";a.eatWhile(/[^&<]/);return null}function d(a,b){var c=a.next();if(">"==c||"/"==c&&a.eat(">"))return b.tokenize=e,L=">"==c?"endTag":"selfcloseTag","tag bracket";if("="==c)return L="equals",null;if("<"==c)return b.tokenize=e,b.state=t,b.tagName=b.tagStart=
null,(a=b.tokenize(a,b))?a+" tag error":"tag error";if(/[\'\"]/.test(c))return b.tokenize=h(c),b.stringStartCol=a.column(),b.tokenize(a,b);a.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);return"word"}function h(a){var b=function(b,c){for(;!b.eol();)if(b.next()==a){c.tokenize=d;break}return"string"};b.isInAttribute=!0;return b}function f(a,b){return function(c,g){for(;!c.eol();){if(c.match(b)){g.tokenize=e;break}c.next()}return a}}function l(a){return function(b,c){for(var g;null!=(g=b.next());){if("<"==
g)return c.tokenize=l(a+1),c.tokenize(b,c);if(">"==g)if(1==a){c.tokenize=e;break}else return c.tokenize=l(a-1),c.tokenize(b,c)}return"meta"}}function w(a,b,c){this.prev=a.context;this.tagName=b;this.indent=a.indented;this.startOfLine=c;if(F.doNotIndent.hasOwnProperty(b)||a.context&&a.context.noIndent)this.noIndent=!0}function p(a){a.context&&(a.context=a.context.prev)}function r(a,b){for(var c;a.context;){c=a.context.tagName;if(!F.contextGrabbers.hasOwnProperty(c)||!F.contextGrabbers[c].hasOwnProperty(b))break;
p(a)}}function t(a,b,c){return"openTag"==a?(c.tagStart=b.column(),u):"closeTag"==a?y:t}function u(a,b,c){if("word"==a)return c.tagName=b.current(),I="tag",v;I="error";return u}function y(a,b,c){if("word"==a){a=b.current();c.context&&c.context.tagName!=a&&F.implicitlyClosed.hasOwnProperty(c.context.tagName)&&p(c);if(c.context&&c.context.tagName==a)return I="tag",A;I="tag error";return g}I="error";return g}function A(a,b,c){if("endTag"!=a)return I="error",A;p(c);return t}function g(a,b,c){I="error";
return A(a,b,c)}function v(a,b,c){if("word"==a)return I="attribute",z;if("endTag"==a||"selfcloseTag"==a){b=c.tagName;var g=c.tagStart;c.tagName=c.tagStart=null;"selfcloseTag"==a||F.autoSelfClosers.hasOwnProperty(b)?r(c,b):(r(c,b),c.context=new w(c,b,g==c.indented));return t}I="error";return v}function z(a,b,c){if("equals"==a)return B;F.allowMissing||(I="error");return v(a,b,c)}function B(a,b,c){if("string"==a)return G;if("word"==a&&F.allowUnquoted)return I="string",v;I="error";return v(a,b,c)}function G(a,
b,c){return"string"==a?G:v(a,b,c)}var x=c.indentUnit,D=b.multilineTagIndentFactor||1,E=b.multilineTagIndentPastTag;null==E&&(E=!0);var F=b.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,
optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},
contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},J=b.alignCDATA,L,I;e.isInText=!0;return{startState:function(){return{tokenize:e,state:t,indented:0,tagName:null,tagStart:null,context:null}},token:function(a,b){!b.tagName&&a.sol()&&(b.indented=a.indentation());if(a.eatSpace())return null;L=null;var c=b.tokenize(a,b);(c||L)&&"comment"!=c&&(I=null,b.state=b.state(L||c,a,b),I&&(c="error"==I?c+" error":I));return c},indent:function(b,c,g){var h=b.context;if(b.tokenize.isInAttribute)return b.tagStart==
b.indented?b.stringStartCol+1:b.indented+x;if(h&&h.noIndent)return a.Pass;if(b.tokenize!=d&&b.tokenize!=e)return g?g.match(/^(\s*)/)[0].length:0;if(b.tagName)return E?b.tagStart+b.tagName.length+2:b.tagStart+x*D;if(J&&/<!\[CDATA\[/.test(c))return 0;if((b=c&&/^<(\/)?([\w_:\.-]*)/.exec(c))&&b[1])for(;h;)if(h.tagName==b[2]){h=h.prev;break}else if(F.implicitlyClosed.hasOwnProperty(h.tagName))h=h.prev;else break;else if(b)for(;h;)if((c=F.contextGrabbers[h.tagName])&&c.hasOwnProperty(b[2]))h=h.prev;else break;
for(;h&&!h.startOfLine;)h=h.prev;return h?h.indent+x:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:b.htmlMode?"html":"xml",helperType:b.htmlMode?"html":"xml"}});a.defineMIME("text/xml","xml");a.defineMIME("application/xml","xml");a.mimeModes.hasOwnProperty("text/html")||a.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":390}],398:[function(a,l,f){(function(a){a.feedback=function(c){function e(){a(document).off("mouseenter mouseleave",
".feedback-helper");a(document).off("mouseup keyup");a(document).off("mousedown",".feedback-setblackout");a(document).off("mousedown",".feedback-sethighlight");a(document).off("mousedown click","#feedback-close");a(document).off("mousedown","#feedback-canvas");a(document).off("click","#feedback-highlighter-next");a(document).off("click","#feedback-highlighter-back");a(document).off("click","#feedback-welcome-next");a(document).off("click","#feedback-overview-back");a(document).off("mouseleave","body");
a(document).off("mouseenter",".feedback-helper");a(document).off("selectstart dragstart",document);a("#feedback-module").off("click",".feedback-wizard-close,.feedback-close-btn");a(document).off("click","#feedback-submit");d.highlightElement&&(a(document).off("click","#feedback-canvas"),a(document).off("mousemove","#feedback-canvas"));a('[data-highlighted="true"]').removeAttr("data-highlight-id").removeAttr("data-highlighted");a("#feedback-module").remove();a(".feedback-btn").show();d.onClose.call(this)}
function b(b,c){c="undefined"!==typeof c?c:!0;b.clearRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height());b.fillStyle="rgba(102,102,102,0.5)";b.fillRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height());a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&c&&k(b,parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())});a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&
b.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())});a(".feedback-helper").each(function(){"blackout"==a(this).attr("data-type")&&(b.fillStyle="rgba(0,0,0,1)",b.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()))})}function k(a,b,c,e,h){a.strokeStyle=d.strokeStyle;a.shadowColor=d.shadowColor;a.shadowOffsetX=d.shadowOffsetX;a.shadowOffsetY=d.shadowOffsetY;a.shadowBlur=d.shadowBlur;a.lineJoin=
d.lineJoin;a.lineWidth=d.lineWidth;a.strokeRect(b,c,e,h);a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0;a.lineWidth=1}var d=a.extend({ajaxURL:"",postBrowserInfo:!0,postHTML:!1,postURL:!0,proxy:void 0,letterRendering:!1,initButtonText:"Send feedback",strokeStyle:"black",shadowColor:"black",shadowOffsetX:1,shadowOffsetY:1,shadowBlur:10,lineJoin:"bevel",lineWidth:3,html2canvasURL:"html2canvas.js",feedbackButton:".feedback-btn",showDescriptionModal:!0,isDraggable:!0,onScreenshotTaken:function(){},
tpl:{description:'<div id="feedback-welcome"><div class="feedback-logo">Feedback</div><p>Feedback lets you send us suggestions about our products. We welcome problem reports, feature ideas and general comments.</p><p>Start by writing a brief description:</p><textarea id="feedback-note-tmp"></textarea><p>Next we\'ll let you identify areas of the page related to your description.</p><button id="feedback-welcome-next" class="feedback-next-btn feedback-btn-gray">Next</button><div id="feedback-welcome-error">Please enter a description.</div><div class="feedback-wizard-close"></div></div>',
highlighter:'<div id="feedback-highlighter"><div class="feedback-logo">Feedback</div><p>Click and drag on the page to help us better understand your feedback. You can move this dialog if it\'s in the way.</p><button class="feedback-sethighlight feedback-active"><div class="ico"></div><span>Highlight</span></button><label>Highlight areas relevant to your feedback.</label><button class="feedback-setblackout"><div class="ico"></div><span>Black out</span></button><label class="lower">Black out any personal information.</label><div class="feedback-buttons"><button id="feedback-highlighter-next" class="feedback-next-btn feedback-btn-gray">Next</button><button id="feedback-highlighter-back" class="feedback-back-btn feedback-btn-gray">Back</button></div><div class="feedback-wizard-close"></div></div>',
overview:'<div id="feedback-overview"><div class="feedback-logo">Feedback</div><div id="feedback-overview-description"><div id="feedback-overview-description-text"><h3>Description</h3><h3 class="feedback-additional">Additional info</h3><div id="feedback-additional-none"><span>None</span></div><div id="feedback-browser-info"><span>&#10004; Browser Info</span></div><div id="feedback-page-info"><span>&#10004; Page Info</span></div><div id="feedback-user-info"><span>&#10004; Username</span></div></div></div><div id="feedback-overview-screenshot"><h3>Screenshot</h3></div><div class="feedback-buttons"><button id="feedback-submit" class="feedback-submit-btn feedback-btn-blue">Submit</button><button id="feedback-overview-back" class="feedback-back-btn feedback-btn-gray">Back</button></div><div id="feedback-overview-error">Please enter a description.</div><div class="feedback-wizard-close"></div></div>',
submitSuccess:'<div id="feedback-submit-success"><div class="feedback-logo">Feedback</div><p>Thank you for your feedback. You can also send feedback directly to feedback@databricks.com.</p><button class="feedback-close-btn feedback-btn-blue">OK</button><div class="feedback-wizard-close"></div></div>',submitError:'<div id="feedback-submit-error"><div class="feedback-logo">Feedback</div><p>Oops! We failed to record your feedback. You can also send feedback directly to feedback@databricks.com.</p><button class="feedback-close-btn feedback-btn-blue">OK</button><div class="feedback-wizard-close"></div></div>'},
onClose:function(){},screenshotStroke:!0,highlightElement:!0,initialBox:!1},c),f=".feedback-btn"==d.feedbackButton,m=!1;window.HTMLCanvasElement&&(f&&a("body").append('<button class="feedback-btn feedback-btn-gray">'+d.initButtonText+"</button>"),a(document).on("click",d.feedbackButton,function(){f&&a(this).hide();m||a.getScript(d.html2canvasURL,function(){m=!0});var c=!1,h="",n=a(document).height(),l=a(document).width(),t='<div id="feedback-module">';d.initialBox&&(t+=d.tpl.description);t+=d.tpl.highlighter+
d.tpl.overview+'<canvas id="feedback-canvas"></canvas><div id="feedback-helpers"></div><input id="feedback-note" name="feedback-note" type="hidden"></div>';a("body").append(t);n={width:l,height:n};a("#feedback-module").css({position:"absolute",left:"0px",top:"0px"});a("#feedback-canvas").attr(n).css("z-index","30000");d.initialBox||(a("#feedback-highlighter-back").remove(),c=!0,a("#feedback-canvas").css("cursor","crosshair"),a("#feedback-helpers").show(),a("#feedback-welcome").hide(),a("#feedback-highlighter").show());
if(d.isDraggable)a("#feedback-highlighter").on("mousedown",function(b){var c=a(this).addClass("feedback-draggable"),g=c.outerHeight(),d=c.outerWidth(),e=c.offset().top+g-b.pageY,h=c.offset().left+d-b.pageX;c.css("z-index",4E4).parents().on("mousemove",function(b){var c=b.pageY+e-g,k=b.pageX+h-d,f=g-b.pageY;b=d-b.pageX;0>k&&(k=0);0>c&&(c=0);b>a(window).width()&&(k=a(window).width()-d);k>a(window).width()-d&&(k=a(window).width()-d);f>a(document).height()&&(c=a(document).height()-g);c>a(document).height()-
g&&(c=a(document).height()-g);a(".feedback-draggable").offset({top:c,left:k}).on("mouseup",function(){a(this).removeClass("feedback-draggable")})});b.preventDefault()}).on("mouseup",function(){a(this).removeClass("feedback-draggable");a(this).parents().off("mousemove mousedown")});var u=a("#feedback-canvas")[0].getContext("2d");u.fillStyle="rgba(102,102,102,0.5)";u.fillRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height());var y,A,g,v,z=!1,B=1,G={};d.postBrowserInfo&&(G.browser={},
G.browser.appCodeName=navigator.appCodeName,G.browser.appName=navigator.appName,G.browser.appVersion=navigator.appVersion,G.browser.cookieEnabled=navigator.cookieEnabled,G.browser.onLine=navigator.onLine,G.browser.platform=navigator.platform,G.browser.userAgent=navigator.userAgent,G.browser.plugins=[],a.each(navigator.plugins,function(a){G.browser.plugins.push(navigator.plugins[a].name)}),a("#feedback-browser-info").show());d.postURL&&(G.url=document.URL,a("#feedback-page-info").show());d.postHTML&&
(G.html=a("html").html(),a("#feedback-page-structure").show());d.postBrowserInfo||d.postURL||d.postHTML||a("#feedback-additional-none").show();a(document).on("mousedown","#feedback-canvas",function(b){c&&(y=b.pageX-a(this).offset().left,A=b.pageY-a(this).offset().top,v=g=0,z=!0)});a(document).on("mouseup",function(){if(c){z=!1;var d=A,e=y,h=g,k=v,f="highlight";0!=h&&0!=k&&(0>h&&(e+=h,h*=-1),0>k&&(d+=k,k*=-1),d+k>a(document).height()&&(k=a(document).height()-d),e+h>a(document).width()&&(h=a(document).width()-
e),0==B&&(f="blackout"),a("#feedback-helpers").append('<div class="feedback-helper" data-type="'+f+'" data-time="'+Date.now()+'" style="position:absolute;top:'+d+"px;left:"+e+"px;width:"+h+"px;height:"+k+'px;z-index:30000;"></div>'),b(u),g=0)}});a(document).on("mousemove",function(b){c&&z&&(a("#feedback-highlighter").css("cursor","default"),g=b.pageX-a("#feedback-canvas").offset().left-y,v=b.pageY-a("#feedback-canvas").offset().top-A,u.clearRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height()),
u.fillStyle="rgba(102,102,102,0.5)",u.fillRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height()),a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&k(u,parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())}),1==B&&(k(u,y,A,g,v),u.clearRect(y,A,g,v)),a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&u.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),
a(this).height())}),a(".feedback-helper").each(function(){"blackout"==a(this).attr("data-type")&&(u.fillStyle="rgba(0,0,0,1)",u.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()))}),0==B&&(u.fillStyle="rgba(0,0,0,0.5)",u.fillRect(y,A,g,v)))});if(d.highlightElement){var x=[],D=[],E=0;a(document).on("mousemove click","#feedback-canvas",function(g){if(c){b(u);D=[];a("#feedback-canvas").css("cursor","crosshair");a("* :not(body,script,iframe,div,section,.feedback-btn,#feedback-module *)").each(function(){"true"!==
a(this).attr("data-highlighted")&&g.pageX>a(this).offset().left&&g.pageX<a(this).offset().left+a(this).width()&&g.pageY>a(this).offset().top+parseInt(a(this).css("padding-top"),10)&&g.pageY<a(this).offset().top+a(this).height()+parseInt(a(this).css("padding-top"),10)&&D.push(a(this))});var d=D[D.length-1];if(d&&!z){a("#feedback-canvas").css("cursor","pointer");var e=d.offset().left-2,h=d.offset().top-2,f=d.width()+parseInt(d.css("padding-left"),10)+parseInt(d.css("padding-right"),10)+6,d=d.height()+
parseInt(d.css("padding-top"),10)+parseInt(d.css("padding-bottom"),10)+6,m;1==B&&(k(u,e,h,f,d),u.clearRect(e,h,f,d),m="highlight");a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&u.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())});0==B&&(m="blackout",u.fillStyle="rgba(0,0,0,0.5)",u.fillRect(e,h,f,d));a(".feedback-helper").each(function(){"blackout"==a(this).attr("data-type")&&(u.fillStyle="rgba(0,0,0,1)",u.fillRect(parseInt(a(this).css("left"),
10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()))});"click"==g.type&&g.pageX==y&&g.pageY==A&&(a("#feedback-helpers").append('<div class="feedback-helper" data-highlight-id="'+E+'" data-type="'+m+'" data-time="'+Date.now()+'" style="position:absolute;top:'+h+"px;left:"+e+"px;width:"+f+"px;height:"+d+'px;z-index:30000;"></div>'),x.push(E),++E,b(u))}}})}a(document).on("mouseleave","body,#feedback-canvas",function(){b(u)});a(document).on("mouseenter",".feedback-helper",function(){b(u)});
a(document).on("click","#feedback-welcome-next",function(){0<a("#feedback-note").val().length?(c=!0,a("#feedback-canvas").css("cursor","crosshair"),a("#feedback-helpers").show(),a("#feedback-welcome").hide(),a("#feedback-highlighter").show()):a("#feedback-welcome-error").show()});a(document).on("mouseenter mouseleave",".feedback-helper",function(c){if(!z)if(v=g=0,"mouseenter"===c.type){if(a(this).css("z-index","30001"),a(this).append('<div class="feedback-helper-inner" style="width:'+(a(this).width()-
2)+"px;height:"+(a(this).height()-2)+'px;position:absolute;margin:1px;"></div>'),a(this).append('<div id="feedback-close"></div>'),a(this).find("#feedback-close").css({top:-1*(a(this).find("#feedback-close").height()/2)+"px",left:a(this).width()-a(this).find("#feedback-close").width()/2+"px"}),"blackout"==a(this).attr("data-type")){u.clearRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height());u.fillStyle="rgba(102,102,102,0.5)";u.fillRect(0,0,a("#feedback-canvas").width(),a("#feedback-canvas").height());
a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&k(u,parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())});a(".feedback-helper").each(function(){"highlight"==a(this).attr("data-type")&&u.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height())});u.clearRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height());u.fillStyle="rgba(0,0,0,0.75)";
u.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height());var d=a(this).attr("data-time");a(".feedback-helper").each(function(){if(a(this).attr("data-time")==d)return!0;"blackout"==a(this).attr("data-type")&&(u.fillStyle="rgba(0,0,0,1)",u.fillRect(parseInt(a(this).css("left"),10),parseInt(a(this).css("top"),10),a(this).width(),a(this).height()))})}}else a(this).css("z-index","30000"),a(this).children().remove(),"blackout"==a(this).attr("data-type")&&
b(u)});a(document).on("click","#feedback-close",function(){if(d.highlightElement&&a(this).parent().attr("data-highlight-id"))var c=a(this).parent().attr("data-highlight-id");a(this).parent().remove();d.highlightElement&&c&&a('[data-highlight-id="'+c+'"]').removeAttr("data-highlighted").removeAttr("data-highlight-id");b(u)});a("#feedback-module").on("click",".feedback-wizard-close,.feedback-close-btn",function(){e()});a(document).on("keyup",function(a){27==a.keyCode&&e()});a(document).on("selectstart dragstart",
document,function(a){a.preventDefault()});a(document).on("click","#feedback-highlighter-back",function(){c=!1;a("#feedback-canvas").css("cursor","default");a("#feedback-helpers").hide();a("#feedback-highlighter").hide();a("#feedback-welcome-error").hide();a("#feedback-welcome").show()});a(document).on("mousedown",".feedback-sethighlight",function(){B=1;a(this).addClass("feedback-active");a(".feedback-setblackout").removeClass("feedback-active")});a(document).on("mousedown",".feedback-setblackout",
function(){B=0;a(this).addClass("feedback-active");a(".feedback-sethighlight").removeClass("feedback-active")});a(document).on("click","#feedback-highlighter-next",function(){c=!1;a("#feedback-canvas").css("cursor","default");var g=a(document).scrollTop(),k=a(window).height();a("#feedback-helpers").hide();a("#feedback-highlighter").hide();d.screenshotStroke||b(u,!1);html2canvas(a("body"),{onrendered:function(c){d.screenshotStroke||b(u);var f=a('<canvas id="feedback-canvas-tmp" width="'+l+'" height="'+
k+'"/>').hide().appendTo("body");f.get(0).getContext("2d").drawImage(c,0,g,l,k,0,0,l,k);h=f.get(0).toDataURL();a(document).scrollTop(g);G.img=h;d.onScreenshotTaken(G.img);d.showDescriptionModal?(a("#feedback-canvas-tmp").remove(),a("#feedback-overview").show(),a("#feedback-overview-description-text>textarea").remove(),a("#feedback-overview-screenshot>img").remove(),a('<textarea id="feedback-overview-note">'+a("#feedback-note").val()+"</textarea>").insertAfter("#feedback-overview-description-text h3:eq(0)"),
a("#feedback-overview-screenshot").append('<img class="feedback-screenshot" src="'+h+'" />')):(a("#feedback-module").remove(),e(),f.remove())},proxy:d.proxy,letterRendering:d.letterRendering})});a(document).on("click","#feedback-overview-back",function(b){c=!0;a("#feedback-canvas").css("cursor","crosshair");a("#feedback-overview").hide();a("#feedback-helpers").show();a("#feedback-highlighter").show();a("#feedback-overview-error").hide()});a(document).on("keyup","#feedback-note-tmp,#feedback-overview-note",
function(b){"feedback-note-tmp"===b.target.id?b=a("#feedback-note-tmp").val():(b=a("#feedback-overview-note").val(),a("#feedback-note-tmp").val(b));a("#feedback-note").val(b)});a(document).on("click","#feedback-submit",function(){c=!1;if(0<a("#feedback-note").val().length){a("#feedback-submit-success,#feedback-submit-error").remove();a("#feedback-overview").hide();G.img=h;G.note=a("#feedback-note").val();var b=JSON.stringify(G);a.ajax({url:d.ajaxURL,type:"POST",data:b,success:function(){a("#feedback-module").append(d.tpl.submitSuccess)},
error:function(b,c,g){console.log(b,c,g);a("#feedback-module").append(d.tpl.submitError)}})}else a("#feedback-overview-error").show()})}))}})(jQuery)},{}],399:[function(a,l,f){var c=c||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(a){var c=a.document,b=a.URL||a.webkitURL||a,e=c.createElementNS("http://www.w3.org/1999/xhtml","a"),d="download"in e,f=function(b){var g=c.createEvent("MouseEvents");g.initMouseEvent("click",!0,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null);b.dispatchEvent(g)},
m=a.webkitRequestFileSystem,l=a.requestFileSystem||m||a.mozRequestFileSystem,w=function(b){(a.setImmediate||a.setTimeout)(function(){throw b;},0)},p=0,r=[],t=function(a,b,c){b=[].concat(b);for(var g=b.length;g--;){var d=a["on"+b[g]];if("function"===typeof d)try{d.call(a,c||a)}catch(G){w(G)}}},u=function(b,c){var g=this,h=b.type,k=!1,n,q,u=function(){var c=(a.URL||a.webkitURL||a).createObjectURL(b);r.push(c);return c},y=function(){t(g,["writestart","progress","write","writeend"])},w=function(){if(k||
!n)n=u(b);q&&(q.location.href=n);g.readyState=g.DONE;y()},A=function(a){return function(){if(g.readyState!==g.DONE)return a.apply(this,arguments)}},L={create:!0,exclusive:!1},I;g.readyState=g.INIT;c||(c="download");d?(n=u(b),e.href=n,e.download=c,f(e),g.readyState=g.DONE,y()):(a.chrome&&h&&"application/octet-stream"!==h&&(I=b.slice||b.webkitSlice,b=I.call(b,0,b.size,"application/octet-stream"),k=!0),m&&"download"!==c&&(c+=".download"),q="application/octet-stream"===h||m?a:a.open(),l?(p+=b.size,l(a.TEMPORARY,
p,A(function(a){a.root.getDirectory("saved",L,A(function(a){var d=function(){a.getFile(c,L,A(function(a){a.createWriter(A(function(c){c.onwriteend=function(b){q.location.href=a.toURL();r.push(a);g.readyState=g.DONE;t(g,"writeend",b)};c.onerror=function(){var a=c.error;a.code!==a.ABORT_ERR&&w()};["writestart","progress","write","abort"].forEach(function(a){c["on"+a]=g["on"+a]});c.write(b);g.abort=function(){c.abort();g.readyState=g.DONE};g.readyState=g.WRITING}),w)}),w)};a.getFile(c,{create:!1},A(function(a){a.remove();
d()}),A(function(a){a.code===a.NOT_FOUND_ERR?d():w()}))}),w)}),w)):w())},y=u.prototype;y.abort=function(){this.readyState=this.DONE;t(this,"abort")};y.readyState=y.INIT=0;y.WRITING=1;y.DONE=2;y.error=y.onwritestart=y.onprogress=y.onwrite=y.onabort=y.onerror=y.onwriteend=null;a.addEventListener("unload",function(){for(var a=r.length;a--;){var c=r[a];"string"===typeof c?b.revokeObjectURL(c):c.remove()}r.length=0},!1);return function(a,b){return new u(a,b)}}(self);"undefined"!==typeof l&&l.exports?l.exports.saveAs=
c:"undefined"!==typeof define&&null!==define&&null!=define.amd&&define([],function(){return c})},{}],400:[function(a,l,f){(function(c){if("function"===typeof define&&define.amd)define("jquery lodash jquery-ui/core jquery-ui/widget jquery-ui/mouse jquery-ui/draggable jquery-ui/resizable".split(" "),c);else{if("undefined"!==typeof f){try{jQuery=a("jquery")}catch(e){}try{_=a("lodash")}catch(e){}}c(jQuery,_)}})(function(a,e){var c=window,b={is_intercepted:function(a,b){return!(a.x+a.width<=b.x||b.x+b.width<=
a.x||a.y+a.height<=b.y||b.y+b.height<=a.y)},sort:function(a,b,c){c=c||e.chain(a).map(function(a){return a.x+a.width}).max().value();b=-1!=b?1:-1;return e.sortBy(a,function(a){return b*(a.x+a.y*c)})},create_stylesheet:function(a){var b=document.createElement("style");b.setAttribute("type","text/css");b.setAttribute("data-gs-id",a);b.styleSheet?b.styleSheet.cssText="":b.appendChild(document.createTextNode(""));document.getElementsByTagName("head")[0].appendChild(b);return b.sheet},remove_stylesheet:function(b){a("STYLE[data-gs-id="+
b+"]").remove()},insert_css_rule:function(a,b,c,d){"function"===typeof a.insertRule?a.insertRule(b+"{"+c+"}",d):"function"===typeof a.addRule&&a.addRule(b,c,d)},toBool:function(a){return"boolean"==typeof a?a:"string"==typeof a?(a=a.toLowerCase(),!(""==a||"no"==a||"false"==a||"0"==a)):!!a}},k=0,d=function(a,b,c,d,e){this.width=a;this["float"]=c||!1;this.height=d||0;this.nodes=e||[];this.onchange=b||function(){};this._update_counter=0;this._float=this["float"]};d.prototype.batch_update=function(){this._update_counter=
1;this.float=!0};d.prototype.commit=function(){this._update_counter=0;0==this._update_counter&&(this.float=this._float,this._pack_nodes(),this._notify())};d.prototype._fix_collisions=function(a){this._sort_nodes(-1);var c=a,d=!!e.find(this.nodes,function(a){return a.locked});for(this.float||d||(c={x:0,y:a.y,width:this.width,height:a.height});;){d=e.find(this.nodes,function(d){return d!=a&&b.is_intercepted(d,c)},this);if("undefined"==typeof d)break;this.move_node(d,d.x,a.y+a.height,d.width,d.height,
!0)}};d.prototype.is_area_empty=function(a,c,d,h){var k={x:a||0,y:c||0,width:d||1,height:h||1};return null==e.find(this.nodes,function(a){return b.is_intercepted(a,k)},this)};d.prototype._sort_nodes=function(a){this.nodes=b.sort(this.nodes,a,this.width)};d.prototype._pack_nodes=function(){this._sort_nodes();this.float?e.each(this.nodes,function(a,c){if(!a._updating&&"undefined"!=typeof a._orig_y&&a.y!=a._orig_y)for(var d=a.y;d>=a._orig_y;)e.chain(this.nodes).find(function(c){return a!=c&&b.is_intercepted({x:a.x,
y:d,width:a.width,height:a.height},c)}).value()||(a._dirty=!0,a.y=d),--d},this):e.each(this.nodes,function(a,c){if(!a.locked)for(;0<a.y;){var d=a.y-1,h=0==c;0<c&&(h="undefined"==typeof e.chain(this.nodes).take(c).find(function(c){return b.is_intercepted({x:a.x,y:d,width:a.width,height:a.height},c)}).value());if(!h)break;a._dirty=a.y!=d;a.y=d}},this)};d.prototype._prepare_node=function(a,b){a=e.defaults(a||{},{width:1,height:1,x:0,y:0});a.x=parseInt(""+a.x);a.y=parseInt(""+a.y);a.width=parseInt(""+
a.width);a.height=parseInt(""+a.height);a.auto_position=a.auto_position||!1;a.no_resize=a.no_resize||!1;a.no_move=a.no_move||!1;a.width>this.width?a.width=this.width:1>a.width&&(a.width=1);1>a.height&&(a.height=1);0>a.x&&(a.x=0);a.x+a.width>this.width&&(b?a.width=this.width-a.x:a.x=this.width-a.width);0>a.y&&(a.y=0);return a};d.prototype._notify=function(){if(!this._update_counter){var a=Array.prototype.slice.call(arguments,1).concat(this.get_dirty_nodes()),a=a.concat(this.get_dirty_nodes());this.onchange(a)}};
d.prototype.clean_nodes=function(){e.each(this.nodes,function(a){a._dirty=!1})};d.prototype.get_dirty_nodes=function(){return e.filter(this.nodes,function(a){return a._dirty})};d.prototype.add_node=function(a){a=this._prepare_node(a);"undefined"!=typeof a.max_width&&(a.width=Math.min(a.width,a.max_width));"undefined"!=typeof a.max_height&&(a.height=Math.min(a.height,a.max_height));"undefined"!=typeof a.min_width&&(a.width=Math.max(a.width,a.min_width));"undefined"!=typeof a.min_height&&(a.height=
Math.max(a.height,a.min_height));a._id=++k;a._dirty=!0;if(a.auto_position){this._sort_nodes();for(var c=0;;++c){var d=c%this.width,h=Math.floor(c/this.width);if(!(d+a.width>this.width||e.find(this.nodes,function(c){return b.is_intercepted({x:d,y:h,width:a.width,height:a.height},c)}))){a.x=d;a.y=h;break}}}this.nodes.push(a);this._fix_collisions(a);this._pack_nodes();this._notify();return a};d.prototype.remove_node=function(a){a._id=null;this.nodes=e.without(this.nodes,a);this._pack_nodes();this._notify(a)};
d.prototype.can_move_node=function(b,c,h,k,f){var m=!!e.find(this.nodes,function(a){return a.locked});if(!this.height&&!m)return!0;var n,l=new d(this.width,null,this.float,0,e.map(this.nodes,function(c){return c==b?n=a.extend({},c):a.extend({},c)}));l.move_node(n,c,h,k,f);c=!0;m&&(c&=!e.find(l.nodes,function(a){return a!=n&&!!a.locked&&!!a._dirty}));this.height&&(c&=l.get_grid_height()<=this.height);return c};d.prototype.can_be_placed_with_respect_to_height=function(b){if(!this.height)return!0;var c=
new d(this.width,null,this.float,0,e.map(this.nodes,function(b){return a.extend({},b)}));c.add_node(b);return c.get_grid_height()<=this.height};d.prototype.move_node=function(a,b,c,d,e,h){"number"!=typeof b&&(b=a.x);"number"!=typeof c&&(c=a.y);"number"!=typeof d&&(d=a.width);"number"!=typeof e&&(e=a.height);"undefined"!=typeof a.max_width&&(d=Math.min(d,a.max_width));"undefined"!=typeof a.max_height&&(e=Math.min(e,a.max_height));"undefined"!=typeof a.min_width&&(d=Math.max(d,a.min_width));"undefined"!=
typeof a.min_height&&(e=Math.max(e,a.min_height));if(a.x==b&&a.y==c&&a.width==d&&a.height==e)return a;var k=a.width!=d;a._dirty=!0;a.x=b;a.y=c;a.width=d;a.height=e;a=this._prepare_node(a,k);this._fix_collisions(a);h||(this._pack_nodes(),this._notify());return a};d.prototype.get_grid_height=function(){return e.reduce(this.nodes,function(a,b){return Math.max(a,b.y+b.height)},0)};d.prototype.begin_update=function(a){e.each(this.nodes,function(a){a._orig_y=a.y});a._updating=!0};d.prototype.end_update=
function(){e.each(this.nodes,function(a){a._orig_y=a.y});var a=e.find(this.nodes,function(a){return a._updating});a&&(a._updating=!1)};var f=function(b,c){var h=this,k;c=c||{};this.container=a(b);c.item_class=c.item_class||"grid-stack-item";b=0<this.container.closest("."+c.item_class).size();this.opts=e.defaults(c||{},{width:parseInt(this.container.attr("data-gs-width"))||12,height:parseInt(this.container.attr("data-gs-height"))||0,item_class:"grid-stack-item",placeholder_class:"grid-stack-placeholder",
handle:".grid-stack-item-content",handle_class:null,cell_height:60,vertical_margin:20,auto:!0,min_width:768,float:!1,static_grid:!1,_class:"grid-stack-"+(1E4*Math.random()).toFixed(0),animate:!!this.container.attr("data-gs-animate")||!1,always_show_resize_handle:c.always_show_resize_handle||!1,resizable:e.defaults(c.resizable||{},{autoHide:!c.always_show_resize_handle,handles:"se"}),draggable:e.defaults(c.draggable||{},{handle:(c.handle_class?"."+c.handle_class:c.handle?c.handle:"")||".grid-stack-item-content",
scroll:!1,appendTo:"body"})});this.opts.is_nested=b;this.container.addClass(this.opts._class);this._set_static_class();b&&this.container.addClass("grid-stack-nested");this._init_styles();this.grid=new d(this.opts.width,function(a){var b=0;e.each(a,function(a){null==a._id?a.el.remove():(a.el.attr("data-gs-x",a.x).attr("data-gs-y",a.y).attr("data-gs-width",a.width).attr("data-gs-height",a.height),b=Math.max(b,a.y+a.height))});h._update_styles(b+10)},this.opts.float,this.opts.height);if(this.opts.auto){var f=
[],n=this;this.container.children("."+this.opts.item_class+":not(."+this.opts.placeholder_class+")").each(function(b,c){c=a(c);f.push({el:c,i:parseInt(c.attr("data-gs-x"))+parseInt(c.attr("data-gs-y"))*n.opts.width})});e.chain(f).sortBy(function(a){return a.i}).each(function(a){h._prepare_element(a.el)}).value()}this.set_animation(this.opts.animate);this.placeholder=a('<div class="'+this.opts.placeholder_class+" "+this.opts.item_class+'"><div class="placeholder-content" /></div>').hide();this.container.height(this.grid.get_grid_height()*
(this.opts.cell_height+this.opts.vertical_margin)-this.opts.vertical_margin);this.on_resize_handler=function(){h._is_one_column_mode()?k||(k=!0,h.grid._sort_nodes(),e.each(h.grid.nodes,function(a){h.container.append(a.el);h.opts.static_grid||(a.no_move||a.el.draggable("disable"),a.no_resize||a.el.resizable("disable"))})):k&&(k=!1,h.opts.static_grid||e.each(h.grid.nodes,function(a){a.no_move||a.el.draggable("enable");a.no_resize||a.el.resizable("enable")}))};a(window).resize(this.on_resize_handler);
this.on_resize_handler()};f.prototype._trigger_change_event=function(a){var b=this.grid.get_dirty_nodes(),c=!1,d=[];b&&b.length&&(d.push(b),c=!0);(c||!0===a)&&this.container.trigger("change",d)};f.prototype._init_styles=function(){this._styles_id&&a('[data-gs-id="'+this._styles_id+'"]').remove();this._styles_id="gridstack-style-"+(1E5*Math.random()).toFixed();this._styles=b.create_stylesheet(this._styles_id);null!=this._styles&&(this._styles._max=0)};f.prototype._update_styles=function(a){if(null!=
this._styles){var c="."+this.opts._class+" ."+this.opts.item_class;"undefined"==typeof a&&(a=this._styles._max,this._init_styles(),this._update_container_height());0==this._styles._max&&b.insert_css_rule(this._styles,c,"min-height: "+this.opts.cell_height+"px;",0);if(a>this._styles._max){for(var d=this._styles._max;d<a;++d)b.insert_css_rule(this._styles,c+'[data-gs-height="'+(d+1)+'"]',"height: "+(this.opts.cell_height*(d+1)+this.opts.vertical_margin*d)+"px;",d),b.insert_css_rule(this._styles,c+'[data-gs-min-height="'+
(d+1)+'"]',"min-height: "+(this.opts.cell_height*(d+1)+this.opts.vertical_margin*d)+"px;",d),b.insert_css_rule(this._styles,c+'[data-gs-max-height="'+(d+1)+'"]',"max-height: "+(this.opts.cell_height*(d+1)+this.opts.vertical_margin*d)+"px;",d),b.insert_css_rule(this._styles,c+'[data-gs-y="'+d+'"]',"top: "+(this.opts.cell_height*d+this.opts.vertical_margin*d)+"px;",d);this._styles._max=a}}};f.prototype._update_container_height=function(){this.grid._update_counter||this.container.height(this.grid.get_grid_height()*
(this.opts.cell_height+this.opts.vertical_margin)-this.opts.vertical_margin)};f.prototype._is_one_column_mode=function(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=this.opts.min_width};f.prototype._prepare_element=function(c){var d=this;c=a(c);c.addClass(this.opts.item_class);var h=d.grid.add_node({x:c.attr("data-gs-x"),y:c.attr("data-gs-y"),width:c.attr("data-gs-width"),height:c.attr("data-gs-height"),max_width:c.attr("data-gs-max-width"),min_width:c.attr("data-gs-min-width"),
max_height:c.attr("data-gs-max-height"),min_height:c.attr("data-gs-min-height"),auto_position:b.toBool(c.attr("data-gs-auto-position")),no_resize:b.toBool(c.attr("data-gs-no-resize")),no_move:b.toBool(c.attr("data-gs-no-move")),locked:b.toBool(c.attr("data-gs-locked")),el:c});c.data("_gridstack_node",h);if(!d.opts.static_grid){var k,f,n=function(b,e){d.container.append(d.placeholder);b=a(this);d.grid.clean_nodes();d.grid.begin_update(h);k=Math.ceil(b.outerWidth()/b.attr("data-gs-width"));f=d.opts.cell_height+
d.opts.vertical_margin;d.placeholder.attr("data-gs-x",b.attr("data-gs-x")).attr("data-gs-y",b.attr("data-gs-y")).attr("data-gs-width",b.attr("data-gs-width")).attr("data-gs-height",b.attr("data-gs-height")).show();h.el=d.placeholder;c.resizable("option","minWidth",k*(h.min_width||1));c.resizable("option","minHeight",d.opts.cell_height*(h.min_height||1))},m=function(b,c){d.placeholder.detach();b=a(this);h.el=b;d.placeholder.hide();b.attr("data-gs-x",h.x).attr("data-gs-y",h.y).attr("data-gs-width",
h.width).attr("data-gs-height",h.height).removeAttr("style");d._update_container_height();d._trigger_change_event();d.grid.end_update()};c.draggable(e.extend(this.opts.draggable,{start:n,stop:m,drag:function(a,b){a=Math.round(b.position.left/k);b=Math.floor((b.position.top+f/2)/f);d.grid.can_move_node(h,a,b,h.width,h.height)&&(d.grid.move_node(h,a,b),d._update_container_height())},containment:this.opts.is_nested?this.container.parent():null})).resizable(e.extend(this.opts.resizable,{start:n,stop:m,
resize:function(a,b){a=Math.round(b.position.left/k);var c=Math.floor((b.position.top+f/2)/f),e=Math.round(b.size.width/k);b=Math.round(b.size.height/f);d.grid.can_move_node(h,a,c,e,b)&&(d.grid.move_node(h,a,c,e,b),d._update_container_height())}}));(h.no_move||this._is_one_column_mode())&&c.draggable("disable");(h.no_resize||this._is_one_column_mode())&&c.resizable("disable");c.attr("data-gs-locked",h.locked?"yes":null)}};f.prototype.set_animation=function(a){a?this.container.addClass("grid-stack-animate"):
this.container.removeClass("grid-stack-animate")};f.prototype.add_widget=function(b,c,d,e,h,k){b=a(b);"undefined"!=typeof c&&b.attr("data-gs-x",c);"undefined"!=typeof d&&b.attr("data-gs-y",d);"undefined"!=typeof e&&b.attr("data-gs-width",e);"undefined"!=typeof h&&b.attr("data-gs-height",h);"undefined"!=typeof k&&b.attr("data-gs-auto-position",k?"yes":null);this.container.append(b);this._prepare_element(b);this._update_container_height();this._trigger_change_event(!0);return b};f.prototype.will_it_fit=
function(a,b,c,d,e){return this.grid.can_be_placed_with_respect_to_height({x:a,y:b,width:c,height:d,auto_position:e})};f.prototype.remove_widget=function(b,c){c="undefined"===typeof c?!0:c;b=a(b);var d=b.data("_gridstack_node");this.grid.remove_node(d);b.removeData("_gridstack_node");this._update_container_height();c&&b.remove();this._trigger_change_event(!0)};f.prototype.remove_all=function(a){e.each(this.grid.nodes,function(b){this.remove_widget(b.el,a)},this);this.grid.nodes=[];this._update_container_height()};
f.prototype.destroy=function(){a(window).off("resize",this.on_resize_handler);this.disable();this.container.remove();b.remove_stylesheet(this._styles_id);this.grid&&(this.grid=null)};f.prototype.resizable=function(b,c){b=a(b);b.each(function(b,d){d=a(d);b=d.data("_gridstack_node");"undefined"!=typeof b&&null!=b&&(b.no_resize=!c,b.no_resize?d.resizable("disable"):d.resizable("enable"))});return this};f.prototype.movable=function(b,c){b=a(b);b.each(function(b,d){d=a(d);b=d.data("_gridstack_node");"undefined"!=
typeof b&&null!=b&&(b.no_move=!c,b.no_move?d.draggable("disable"):d.draggable("enable"))});return this};f.prototype.disable=function(){this.movable(this.container.children("."+this.opts.item_class),!1);this.resizable(this.container.children("."+this.opts.item_class),!1)};f.prototype.enable=function(){this.movable(this.container.children("."+this.opts.item_class),!0);this.resizable(this.container.children("."+this.opts.item_class),!0)};f.prototype.locked=function(b,c){b=a(b);b.each(function(b,d){d=
a(d);b=d.data("_gridstack_node");"undefined"!=typeof b&&null!=b&&(b.locked=c||!1,d.attr("data-gs-locked",b.locked?"yes":null))});return this};f.prototype.min_height=function(b,c){b=a(b);b.each(function(b,d){d=a(d);b=d.data("_gridstack_node");"undefined"==typeof b||null==b||isNaN(c)||(b.min_height=c||!1,d.attr("data-gs-min-height",c))});return this};f.prototype.min_width=function(b,c){b=a(b);b.each(function(b,d){d=a(d);b=d.data("_gridstack_node");"undefined"==typeof b||null==b||isNaN(c)||(b.min_width=
c||!1,d.attr("data-gs-min-width",c))});return this};f.prototype._update_element=function(b,c){b=a(b).first();var d=b.data("_gridstack_node");"undefined"!=typeof d&&null!=d&&(this.grid.clean_nodes(),this.grid.begin_update(d),c.call(this,b,d),this._update_container_height(),this._trigger_change_event(),this.grid.end_update())};f.prototype.resize=function(a,b,c){this._update_element(a,function(a,d){b=null!=b&&"undefined"!=typeof b?b:d.width;c=null!=c&&"undefined"!=typeof c?c:d.height;this.grid.move_node(d,
d.x,d.y,b,c)})};f.prototype.move=function(a,b,c){this._update_element(a,function(a,d){b=null!=b&&"undefined"!=typeof b?b:d.x;c=null!=c&&"undefined"!=typeof c?c:d.y;this.grid.move_node(d,b,c,d.width,d.height)})};f.prototype.update=function(a,b,c,d,e){this._update_element(a,function(a,h){b=null!=b&&"undefined"!=typeof b?b:h.x;c=null!=c&&"undefined"!=typeof c?c:h.y;d=null!=d&&"undefined"!=typeof d?d:h.width;e=null!=e&&"undefined"!=typeof e?e:h.height;this.grid.move_node(h,b,c,d,e)})};f.prototype.cell_height=
function(a){if("undefined"==typeof a)return this.opts.cell_height;a=parseInt(a);a!=this.opts.cell_height&&(this.opts.cell_height=a||this.opts.cell_height,this._update_styles())};f.prototype.cell_width=function(){var a=this.container.children("."+this.opts.item_class).first();return Math.ceil(a.outerWidth()/a.attr("data-gs-width"))};f.prototype.get_cell_from_pixel=function(a){var b=this.container.position(),c=a.left-b.left;a=a.top-b.top;b=Math.floor(this.container.width()/this.opts.width);return{x:Math.floor(c/
b),y:Math.floor(a/(this.opts.cell_height+this.opts.vertical_margin))}};f.prototype.batch_update=function(){this.grid.batch_update()};f.prototype.commit=function(){this.grid.commit();this._update_container_height()};f.prototype.is_area_empty=function(a,b,c,d){return this.grid.is_area_empty(a,b,c,d)};f.prototype.set_static=function(a){this.opts.static_grid=!0===a;this._set_static_class()};f.prototype._set_static_class=function(){!0===this.opts.static_grid?this.container.addClass("grid-stack-static"):
this.container.removeClass("grid-stack-static")};c.GridStackUI=f;c.GridStackUI.Utils=b;a.fn.gridstack=function(b){return this.each(function(){a(this).data("gridstack")||a(this).data("gridstack",new f(this,b))})};return c.GridStackUI})},{jquery:819,lodash:842}],401:[function(a,l,f){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};(function(a){function e(a){return"undefined"==
typeof a?!1:!0}function b(b,c){if(e(c.customValues))for(key in c.customValues)if(b==c.customValues[key])return key;var g=/^((\d{1,2}|[-*0-9]+)(\/[0-9]+)?\s){4}(\d{1,2}|[-*0-9]+)(\/[0-9]+)?$/;if("string"==typeof b&&g.test(b)){for(var g=b.split(" "),d=[0,0,1,1,0],h=[59,23,31,12,6],k=[D.minute,D.hour,D.day,D.month,D.week],f=0;f<g.length;f++){var v=g[f].split("/");if(1<v.length){var n=parseInt(v[1]);0!==k[f]%n&&a.error("cron: unsupported modulus found: "+n)}v=v[0];if(!(isNaN(v)||(v=parseInt(v),e(v)&&
v<=h[f]&&v>=d[f]))){a.error("cron: invalid value found (col "+(f+1)+") in "+c.initial);return}}for(var m in E)if(E[m].test(b))return m;a.error("cron: valid but unsupported cron format. sorry.")}else a.error("cron: invalid initial value")}function k(a,b){b=x[b];if(0>b)return-1;a=a.split(" ")[b].split("/");return 1===a.length?1:parseInt(a[1])}function d(b,c,g,d){var e=x[c];if(0>e)return 0;b=b.split(" ")[e].split("/");if(1===b.length||"*"===b[0])return 0;if(void 0!==G[c]&&(b=b[0].split("-"),e=parseInt(b[0]),
parseInt(b[1])===D[c]-1)){if(0<=e&&e<=g-1)return e;if(d)return 0}a.error("cron: unsupported offset format")}function f(g,d){if(!e(b(d.initial,d)))return!0;g=d.customValues;if(e(g)&&"object"!=("undefined"===typeof g?"undefined":c(g)))return!0;if(e(d.customValues))for(key in d.customValues)if(E.hasOwnProperty(key))return a.error("cron: reserved keyword '"+key+"' should not be used as customValues key."),!0;return!1}function m(a,b,c,g){if(b=G[b]){var d=a[b].find("select");d.children().remove();for(var e=
0;e<g;e++)d.append("<option value='"+e+"'>"+(10>e?"0":"")+e+"</option>");c<g&&d.val(c);1<g?d.prop("disabled",!1):d.prop("disabled","disabled");a[b].show()}}for(var l={initial:"0 * * * *",initialTimeZone:"US/Pacific",minuteOpts:{minWidth:100,itemWidth:30,columns:4,rows:void 0,title:"Minutes Past the Hour"},timeHourOpts:{minWidth:100,itemWidth:20,columns:2,rows:void 0,title:"Time: Hour"},domOpts:{minWidth:100,itemWidth:30,columns:void 0,rows:10,title:"Day of Month"},monthOpts:{minWidth:100,itemWidth:100,
columns:2,rows:void 0,title:void 0},dowOpts:{minWidth:100,itemWidth:void 0,columns:void 0,rows:void 0,title:void 0},timeMinuteOpts:{minWidth:100,itemWidth:20,columns:4,rows:void 0,title:"Time: Minute"},effectOpts:{openSpeed:400,closeSpeed:400,openEffect:"slide",closeEffect:"slide",hideOnMouseOut:!0},customValues:void 0,onChange:void 0},w="",p=0;60>p;p++)var r=10>p?"0":"",w=w+("<option value='"+p+"'>"+r+p+"</option>\n");for(var t="",p=0;24>p;p++)r=10>p?"0":"",t+="<option value='"+p+"'>"+r+p+"</option>\n";
for(var u="",p=1;32>p;p++)u+="<option value='"+p+"'>"+p+(1==p||21==p||31==p?"st":2==p||22==p?"nd":3==p||23==p?"rd":"th")+"</option>\n";for(var y="",r="January February March April May June July August September October November December".split(" "),p=0;p<r.length;p++)y+="<option value='"+(p+1)+"'>"+r[p]+"</option>\n";for(var A="",r="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p=0;p<r.length;p++)A+="<option value='"+p+"'>"+r[p]+"</option>\n";for(var g="",r=["minute","hour",
"day","week","month"],p=0;p<r.length;p++)g+="<option value='"+r[p]+"'>"+r[p]+"</option>\n";var v="",r="US/Pacific US/Mountain US/Central US/Eastern UTC UTC-11 UTC-10 UTC-9 UTC-8 UTC-7 UTC-6 UTC-5 UTC-4 UTC-3 UTC-2 UTC-1 UTC+1 UTC+2 UTC+3 UTC+4 UTC+5 UTC+6 UTC+7 UTC+8 UTC+10 UTC+11 UTC+12".split(" ");for(p in r)var z=r[p],v=v+("<option value='"+z+"'>"+z+"</option>\n");var B={minute:["min_offset","timezone"],hour:["mins","hour_offset","timezone"],day:["time","timezone"],week:["dow","time","timezone"],
month:["dom","time","timezone"],year:["dom","month","time","timezone"]},G={minute:"min_offset",hour:"hour_offset"},x={minute:0,hour:1,day:2,week:-1,month:3,year:-1},D={minute:60,hour:24,day:1,week:1,month:1,year:1},E={minute:/^((\d{1,2}-\d{1,2}|\*)(\/[0-9]+)?\s)(\*\s){3}\*$/,hour:/^\d{1,2}\s((\d{1,2}-\d{1,2}|\*)(\/[0-9]+)?\s)(\*\s){2}\*$/,day:/^(\d{1,2}\s){2}((\d{1,2}-\d{1,2}|\*)(\/[0-9]+)?\s)(\*\s)\*$/,week:/^(\d{1,2}\s){2}(\*\s){2}\d{1,2}$/,month:/^(\d{1,2}\s){3}(\d{1,2}-\d{1,2}|\*)(\/[0-9]+)?\s\*$/,
year:/^(\d{1,2}\s){4}\*$/},F={init:function(b){var c=b?b:{};b=a.extend([],l,c);var d=a.extend({},l.effectOpts,c.effectOpts);a.extend(b,{minuteOpts:a.extend({},l.minuteOpts,d,c.minuteOpts),domOpts:a.extend({},l.domOpts,d,c.domOpts),monthOpts:a.extend({},l.monthOpts,d,c.monthOpts),dowOpts:a.extend({},l.dowOpts,d,c.dowOpts),timeHourOpts:a.extend({},l.timeHourOpts,d,c.timeHourOpts),timeMinuteOpts:a.extend({},l.timeMinuteOpts,d,c.timeMinuteOpts)});if(f(this,b))return this;var c=[],d="",h=b.customValues;
if(e(h))for(var k in h)d+="<option value='"+h[k]+"'>"+k+"</option>\n";c.modulus=a("<span class='cron-modulus'><select name='cron-modulus'></select> </span>").appendTo(this).data("root",this);k=c.modulus.find("select");k.data("root",this);c.period=a("<span class='cron-period'><select name='cron-period'>"+d+g+"</select> </span>").appendTo(this).data("root",this);k=c.period.find("select");k.bind("change.cron",J.periodChanged).data("root",this);c.dom=a("<span class='cron-block cron-block-dom'> <span>on the</span> <select name='cron-dom'>"+
u+"</select> </span>").appendTo(this).data("root",this);c.dom.find("select").data("root",this);c.month=a("<span class='cron-block cron-block-month'> <span>of</span> <select name='cron-month'>"+y+"</select> </span>").appendTo(this).data("root",this);c.month.find("select").data("root",this);c.min_offset=a("<span class='cron-block cron-offset cron-block-min_offset'> <span>starting</span> <select name='cron-mins_offset'></select> <span>minutes after the hour</span> </span>").appendTo(this).data("root",
this);c.min_offset.find("select").data("root",this);c.hour_offset=a("<span class='cron-block cron-offset cron-block-hour_offset'><span>starting at</span> <select name='cron-hour_offset'></select><span>:</span></span>").appendTo(this).data("root",this);c.hour_offset.find("select").data("root",this);c.mins=a("<span class='cron-block cron-block-mins'><select name='cron-mins'>"+w+"</select>").appendTo(this).data("root",this);c.mins.find("select").data("root",this);c.dow=a("<span class='cron-block cron-block-dow'> <span>on</span> <select name='cron-dow'>"+
A+"</select> </span>").appendTo(this).data("root",this);c.dow.find("select").data("root",this);c.time=a("<span class='cron-block cron-block-time'> <span>at</span> <select name='cron-time-hour' class='cron-time-hour'>"+t+"</select><span>:</span><select name='cron-time-min' class='cron-time-min'>"+w+" </span>").appendTo(this).data("root",this);c.time.find("select.cron-time-hour").data("root",this);c.time.find("select.cron-time-min").data("root",this);c.timezone=a("<span class='cron-block cron-block-timezone'> <select name='cron-timezone'>"+
v+"</select> </span>").appendTo(this).data("root",this);c.timezone.find("select").data("root",this);this.find("select").bind("change.cron-callback",J.somethingChanged);this.data("options",b).data("block",c);this.data("current_value",b.initial);return F.value.call(this,b.initial)},timezone:function(a){var b=this.data("block");a&&b.timezone.find("select").val(a);return b.timezone.find("select").val()},value:function(a,c){if(!a){var g;a:{g=this.data("block");var h,f="*",v=c="*";a="*";h=g.modulus.find("select").val();
var n=g.period.find("select").val(),m=G[n],l="*";1<h&&(l=(m=m&&parseInt(g[m].find("select").val()))&&0<m?m+"-"+(D[n]-1)+"/"+h:"*/"+h);switch(n){case "minute":h=l;break;case "hour":f=l;h=g.mins.find("select").val();break;case "day":c=l;h=g.time.find("select.cron-time-min").val();f=g.time.find("select.cron-time-hour").val();break;case "week":h=g.time.find("select.cron-time-min").val();f=g.time.find("select.cron-time-hour").val();a=g.dow.find("select").val();break;case "month":v=l;h=g.time.find("select.cron-time-min").val();
f=g.time.find("select.cron-time-hour").val();c=g.dom.find("select").val();break;case "year":h=g.time.find("select.cron-time-min").val();f=g.time.find("select.cron-time-hour").val();c=g.dom.find("select").val();v=g.month.find("select").val();break;default:g=n;break a}g=[h,f,c,v,a].join(" ")}return g}v=this.data("options");g=this.data("block");f=b(a,v);h=k(a,f);this.data("targetModulus",h);this.data("targetOffset",d(a,f,h));if(!e(f))return!1;if(e(v.customValues)&&v.customValues.hasOwnProperty(f))f=
v.customValues[f];else for(a=a.split(" "),c={mins:a[0],hour:a[1],dom:a[2],month:a[3],dow:a[4],timezone:c||v.initialTimeZone},v=B[f],a=0;a<v.length;a++)h=v[a],"time"==h?(g[h].find("select.cron-time-hour").val(c.hour),g[h].find("select.cron-time-min").val(c.mins)):g[h].find("select").val(c[h]);g.period.find("select").val(f).trigger("change");return this}},J={periodChanged:function(){var b=a(this).data("root"),c=b.data("block");b.data("options");for(var g=a(this).val(),d=b.data("targetModulus"),e=b.data("targetOffset"),
h=D[g],k="<option value=1>Every</option>",f=2;f<h;f++)0===h%f&&(k=d===f?k+("<option selected=selected value='"+f+"'>Every "+f+"</option>\n"):k+("<option value='"+f+"'>Every "+f+"</option>\n"));m(c,g,e,d);f=b.find("span.cron-modulus select");f.html(k);2>h?f.prop("disabled","disabled"):f.prop("disabled",!1);b.find("span.cron-block").hide();if(B.hasOwnProperty(g))for(b=B[a(this).val()],f=0;f<b.length;f++)c[b[f]].show()},somethingChanged:function(){var b=a(this).data("root"),c=b.data("block"),g=c.period.find("select").val(),
h=F.value.call(b),f=k(h,g),h=d(h,g,f,!0);0<f&&(b.data("targetModulus",f),b.data("targetOffset",h));var v=c.period.find("select").children();b.find(".cron-offset").hide();1<f?v.each(function(){var b=a(this).text();"s"!==b.slice(-1)&&a(this).text(b+"s")}):v.each(function(){var b=a(this).text();"s"===b.slice(-1)&&a(this).text(b.slice(0,-1))});m(c,g,h,f);c=b.data("options").onChange;e(c)&&a.isFunction(c)&&c.call(b)}};a.fn.cron=function(b){if(F[b])return F[b].apply(this,Array.prototype.slice.call(arguments,
1));if("object"!==("undefined"===typeof b?"undefined":c(b))&&b)a.error("Method "+b+" does not exist on jQuery.cron");else return F.init.apply(this,arguments)}})(a("jquery"))},{jquery:819}],402:[function(a,l,f){(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function c(b,c){var g;g=b.nodeName.toLowerCase();if("area"===g){c=b.parentNode;g=c.name;if(!b.href||!g||"map"!==c.nodeName.toLowerCase())return!1;b=a("img[usemap='#"+g+"']")[0];return!!b&&h(b)}return(/^(input|select|textarea|button|object)$/.test(g)?
!b.disabled:"a"===g?b.href||c:c)&&h(b)}function h(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}function b(a){for(var b;a.length&&a[0]!==document;){b=a.css("position");if("absolute"===b||"relative"===b||"fixed"===b)if(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b)return b;a=a.parent()}return 0}function k(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId=
"ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,
navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,
this.regional[""]);this.regional.en=a.extend(!0,{},this.regional[""]);this.regional["en-US"]=a.extend(!0,{},this.regional.en);this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){return b.delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseout",function(){a(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");
-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a","mouseover",f)}function f(){a.datepicker._isDisabledDatepicker(A.inline?A.dpDiv.parent()[0]:A.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),
-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))}function m(b,c){a.extend(b,c);for(var g in c)null==c[g]&&(b[g]=c[g]);return b}function l(a){return function(){var b=this.element.val();a.apply(this,arguments);this._refresh();b!==this.element.val()&&this._trigger("change")}}a.ui=a.ui||{};a.extend(a.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,
SPACE:32,TAB:9,UP:38}});a.fn.extend({scrollParent:function(b){var c=this.css("position"),g="absolute"===c,d=b?/(auto|scroll|hidden)/:/(auto|scroll)/;b=this.parents().filter(function(){var b=a(this);return g&&"static"===b.css("position")?!1:d.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&b.length?b:a(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&
a(this).removeAttr("id")})}});a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var g=a.attr(b,"tabindex"),d=isNaN(g);return(d||0<=g)&&c(b,!d)}});a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(b,c){function g(b,c,g,e){a.each(d,function(){c-=parseFloat(a.css(b,"padding"+this))||0;g&&(c-=
parseFloat(a.css(b,"border"+this+"Width"))||0);e&&(c-=parseFloat(a.css(b,"margin"+this))||0)});return c}var d="Width"===c?["Left","Right"]:["Top","Bottom"],e=c.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+c]=function(b){return void 0===b?h["inner"+c].call(this):this.each(function(){a(this).css(e,g(this,b)+"px")})};a.fn["outer"+c]=function(b,d){return"number"!==typeof b?h["outer"+c].call(this,b):this.each(function(){a(this).css(e,
g(this,b,!0,d)+"px")})}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData));a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());a.fn.extend({focus:function(b){return function(c,g){return"number"===typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus();
g&&g.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),disableSelection:function(){var a="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(b){if(void 0!==b)return this.css("zIndex",b);if(this.length){b=a(this[0]);for(var c;b.length&&b[0]!==document;){c=b.css("position");if("absolute"===c||"relative"===
c||"fixed"===c)if(c=parseInt(b.css("zIndex"),10),!isNaN(c)&&0!==c)return c;b=b.parent()}}return 0}});a.ui.plugin={add:function(b,c,d){var g;b=a.ui[b].prototype;for(g in d)b.plugins[g]=b.plugins[g]||[],b.plugins[g].push([c,d[g]])},call:function(a,b,c,d){if((b=a.plugins[b])&&(d||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(d=0;d<b.length;d++)a.options[b[d][0]]&&b[d][1].apply(a.element,c)}};var w=0,p=Array.prototype.slice;a.cleanData=function(b){return function(c){var g,d,e;for(e=
0;null!=(d=c[e]);e++)try{(g=a._data(d,"events"))&&g.remove&&a(d).triggerHandler("remove")}catch(x){}b(c)}}(a.cleanData);a.widget=function(b,c,d){var g,e,h,k,f={},v=b.split(".")[0];b=b.split(".")[1];g=v+"-"+b;d||(d=c,c=a.Widget);a.expr[":"][g.toLowerCase()]=function(b){return!!a.data(b,g)};a[v]=a[v]||{};e=a[v][b];h=a[v][b]=function(a,b){if(!this._createWidget)return new h(a,b);arguments.length&&this._createWidget(a,b)};a.extend(h,e,{version:d.version,_proto:a.extend({},d),_childConstructors:[]});k=
new c;k.options=a.widget.extend({},k.options);a.each(d,function(b,g){a.isFunction(g)?f[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},d=function(a){return c.prototype[b].apply(this,a)};return function(){var b=this._super,c=this._superApply,e;this._super=a;this._superApply=d;e=g.apply(this,arguments);this._super=b;this._superApply=c;return e}}():f[b]=g});h.prototype=a.widget.extend(k,{widgetEventPrefix:e?k.widgetEventPrefix||b:b},f,{constructor:h,namespace:v,widgetName:b,
widgetFullName:g});e?(a.each(e._childConstructors,function(b,c){b=c.prototype;a.widget(b.namespace+"."+b.widgetName,h,c._proto)}),delete e._childConstructors):c._childConstructors.push(h);a.widget.bridge(b,h);return h};a.widget.extend=function(b){for(var c=p.call(arguments,1),g=0,d=c.length,e,h;g<d;g++)for(e in c[g])h=c[g][e],c[g].hasOwnProperty(e)&&void 0!==h&&(a.isPlainObject(h)?b[e]=a.isPlainObject(b[e])?a.widget.extend({},b[e],h):a.widget.extend({},h):b[e]=h);return b};a.widget.bridge=function(b,
c){var g=c.prototype.widgetFullName||b;a.fn[b]=function(d){var e="string"===typeof d,h=p.call(arguments,1),k=this;e?this.each(function(){var c,e=a.data(this,g);if("instance"===d)return k=e,!1;if(!e)return a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+d+"'");if(!a.isFunction(e[d])||"_"===d.charAt(0))return a.error("no such method '"+d+"' for "+b+" widget instance");c=e[d].apply(e,h);if(c!==e&&void 0!==c)return k=c&&c.jquery?k.pushStack(c.get()):c,!1}):(h.length&&
(d=a.widget.extend.apply(null,[d].concat(h))),this.each(function(){var b=a.data(this,g);b?(b.option(d||{}),b._init&&b._init()):a.data(this,g,new c(d,this))}));return k}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,c){c=a(c||this.defaultElement||this)[0];this.element=a(c);this.uuid=w++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=
a();this.hoverable=a();this.focusable=a();c!==this&&(a.data(c,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===c&&this.destroy()}}),this.document=a(c.style?c.ownerDocument:c.document||c),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,
_create:a.noop,_init:a.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(b,c){var g=b,d,e,h;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof b)if(g={},d=b.split("."),b=d.shift(),d.length){e=g[b]=a.widget.extend({},this.options[b]);for(h=0;h<d.length-1;h++)e[d[h]]=e[d[h]]||{},e=e[d[h]];b=d.pop();if(1===arguments.length)return void 0===e[b]?null:e[b];e[b]=c}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=c}this._setOptions(g);return this},_setOptions:function(a){for(var b in a)this._setOption(b,
a[b]);return this},_setOption:function(a,b){this.options[a]=b;"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!b),b&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")));return this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(b,c,d){var g,e=this;"boolean"!==typeof b&&(d=c,c=b,b=!1);d?(c=g=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,
g=this.widget());a.each(d,function(d,h){function k(){if(b||!0!==e.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"===typeof h?e[h]:h).apply(e,arguments)}"string"!==typeof h&&(k.guid=h.guid=h.guid||k.guid||a.guid++);var f=d.match(/^([\w:-]*)\s*(.*)$/);d=f[1]+e.eventNamespace;(f=f[2])?g.delegate(f,d,k):c.bind(d,k)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.unbind(c).undelegate(c);this.bindings=a(this.bindings.not(b).get());
this.focusable=a(this.focusable.not(b).get());this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,b){var c=this;return setTimeout(function(){return("string"===typeof a?c[a]:a).apply(c,arguments)},b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,
{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var g,e=this.options[b];d=d||{};c=a.Event(c);c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();c.target=this.element[0];if(b=c.originalEvent)for(g in b)g in c||(c[g]=b[g]);this.element.trigger(c,d);return!(a.isFunction(e)&&!1===e.apply(this.element[0],[c].concat(d))||c.isDefaultPrevented())}};a.each({show:"fadeIn",
hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(g,d,e){"string"===typeof d&&(d={effect:d});var h,k=d?!0===d||"number"===typeof d?c:d.effect||c:b;d=d||{};"number"===typeof d&&(d={duration:d});h=!a.isEmptyObject(d);d.complete=e;d.delay&&g.delay(d.delay);if(h&&a.effects&&a.effects.effect[k])g[b](d);else if(k!==b&&g[k])g[k](d.duration,d.easing,e);else g.queue(function(c){a(this)[b]();e&&e.call(g[0]);c()})}});var r=!1;a(document).mouseup(function(){r=!1});a.widget("ui.mouse",{version:"1.11.4",
options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent"))return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&this.document.unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!r){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var c=this,g=1===b.which,d="string"===typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!g||d||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=
!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted))return b.preventDefault(),!0;!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return c._mouseMove(a)};this._mouseUpDelegate=function(a){return c._mouseUp(a)};this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,
this._mouseUpDelegate);b.preventDefault();return r=!0}},_mouseMove:function(b){if(this._mouseMoved&&(a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button||!b.which))return this._mouseUp(b);if(b.which||b.button)this._mouseMoved=!0;if(this._mouseStarted)return this._mouseDrag(b),b.preventDefault();this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b))?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){this.document.unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));return r=!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},
_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});(function(){function b(a,b,c){return[parseFloat(a[0])*(t.test(a[0])?b/100:1),parseFloat(a[1])*(t.test(a[1])?c/100:1)]}function c(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),
offset:b.offset()}}a.ui=a.ui||{};var d,e,h=Math.max,k=Math.abs,f=Math.round,n=/left|center|right/,m=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,t=/%$/,q=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==d)return d;var b,c,g=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");c=g.children()[0];a("body").append(g);b=c.offsetWidth;g.css("overflow","scroll");c=c.offsetWidth;b===c&&(c=g[0].clientWidth);
g.remove();return d=b-c},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),g=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),c="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth;return{width:"scroll"===g||"auto"===g&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:c?a.position.scrollbarWidth():0}},getWithinInfo:function(b){b=a(b||window);var c=a.isWindow(b[0]),g=!!b[0]&&9===b[0].nodeType;return{element:b,isWindow:c,isDocument:g,
offset:b.offset()||{left:0,top:0},scrollLeft:b.scrollLeft(),scrollTop:b.scrollTop(),width:c||g?b.width():b.outerWidth(),height:c||g?b.height():b.outerHeight()}}};a.fn.position=function(g){if(!g||!g.of)return q.apply(this,arguments);g=a.extend({},g);var d,v,z,t,u,B,p=a(g.of),y=a.position.getWithinInfo(g.within),x=a.position.getScrollInfo(y),G=(g.collision||"flip").split(" "),D={};B=c(p);p[0].preventDefault&&(g.at="left top");v=B.width;z=B.height;t=B.offset;u=a.extend({},t);a.each(["my","at"],function(){var a=
(g[this]||"").split(" "),b,c;1===a.length&&(a=n.test(a[0])?a.concat(["center"]):m.test(a[0])?["center"].concat(a):["center","center"]);a[0]=n.test(a[0])?a[0]:"center";a[1]=m.test(a[1])?a[1]:"center";b=l.exec(a[0]);c=l.exec(a[1]);D[this]=[b?b[0]:0,c?c[0]:0];g[this]=[r.exec(a[0])[0],r.exec(a[1])[0]]});1===G.length&&(G[1]=G[0]);"right"===g.at[0]?u.left+=v:"center"===g.at[0]&&(u.left+=v/2);"bottom"===g.at[1]?u.top+=z:"center"===g.at[1]&&(u.top+=z/2);d=b(D.at,v,z);u.left+=d[0];u.top+=d[1];return this.each(function(){var c,
n,m=a(this),l=m.outerWidth(),r=m.outerHeight(),q=parseInt(a.css(this,"marginLeft"),10)||0,B=parseInt(a.css(this,"marginTop"),10)||0,w=l+q+(parseInt(a.css(this,"marginRight"),10)||0)+x.width,A=r+B+(parseInt(a.css(this,"marginBottom"),10)||0)+x.height,E=a.extend({},u),M=b(D.my,m.outerWidth(),m.outerHeight());"right"===g.my[0]?E.left-=l:"center"===g.my[0]&&(E.left-=l/2);"bottom"===g.my[1]?E.top-=r:"center"===g.my[1]&&(E.top-=r/2);E.left+=M[0];E.top+=M[1];e||(E.left=f(E.left),E.top=f(E.top));c={marginLeft:q,
marginTop:B};a.each(["left","top"],function(b,e){if(a.ui.position[G[b]])a.ui.position[G[b]][e](E,{targetWidth:v,targetHeight:z,elemWidth:l,elemHeight:r,collisionPosition:c,collisionWidth:w,collisionHeight:A,offset:[d[0]+M[0],d[1]+M[1]],my:g.my,at:g.at,within:y,elem:m})});g.using&&(n=function(a){var b=t.left-E.left,c=b+v-l,d=t.top-E.top,e=d+z-r,f={target:{element:p,left:t.left,top:t.top,width:v,height:z},element:{element:m,left:E.left,top:E.top,width:l,height:r},horizontal:0>c?"left":0<b?"right":"center",
vertical:0>e?"top":0<d?"bottom":"middle"};v<l&&k(b+c)<v&&(f.horizontal="center");z<r&&k(d+e)<z&&(f.vertical="middle");h(k(b),k(c))>h(k(d),k(e))?f.important="horizontal":f.important="vertical";g.using.call(this,a,f)});m.offset(a.extend(E,{using:n}))})};a.ui.position={fit:{left:function(a,b){var c=b.within,g=c.isWindow?c.scrollLeft:c.offset.left,d=c.width,e=a.left-b.collisionPosition.marginLeft,c=g-e,k=e+b.collisionWidth-d-g;b.collisionWidth>d?0<c&&0>=k?(b=a.left+c+b.collisionWidth-d-g,a.left+=c-b):
a.left=0<k&&0>=c?g:c>k?g+d-b.collisionWidth:g:a.left=0<c?a.left+c:0<k?a.left-k:h(a.left-e,a.left)},top:function(a,b){var c=b.within,g=c.isWindow?c.scrollTop:c.offset.top,d=b.within.height,e=a.top-b.collisionPosition.marginTop,c=g-e,k=e+b.collisionHeight-d-g;b.collisionHeight>d?0<c&&0>=k?(b=a.top+c+b.collisionHeight-d-g,a.top+=c-b):a.top=0<k&&0>=c?g:c>k?g+d-b.collisionHeight:g:a.top=0<c?a.top+c:0<k?a.top-k:h(a.top-e,a.top)}},flip:{left:function(a,b){var c=b.within,g=c.offset.left+c.scrollLeft,d=c.width,
e=c.isWindow?c.scrollLeft:c.offset.left,h=a.left-b.collisionPosition.marginLeft,c=h-e,f=h+b.collisionWidth-d-e,h="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,v="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,n=-2*b.offset[0];if(0>c){if(b=a.left+h+v+n+b.collisionWidth-d-g,0>b||b<k(c))a.left+=h+v+n}else 0<f&&(b=a.left-b.collisionPosition.marginLeft+h+v+n-e,0<b||k(b)<f)&&(a.left+=h+v+n)},top:function(a,b){var c=b.within,g=c.offset.top+c.scrollTop,d=c.height,e=c.isWindow?
c.scrollTop:c.offset.top,h=a.top-b.collisionPosition.marginTop,c=h-e,f=h+b.collisionHeight-d-e,h="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,v="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,n=-2*b.offset[1];if(0>c){if(b=a.top+h+v+n+b.collisionHeight-d-g,0>b||b<k(c))a.top+=h+v+n}else 0<f&&(b=a.top-b.collisionPosition.marginTop+h+v+n-e,0<b||k(b)<f)&&(a.top+=h+v+n)}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,
arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}};(function(){var b,c,g,d,h=document.getElementsByTagName("body")[0];g=document.createElement("div");b=document.createElement(h?"div":"body");c={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};h&&a.extend(c,{position:"absolute",left:"-1000px",top:"-1000px"});for(d in c)b.style[d]=c[d];b.appendChild(g);c=h||document.documentElement;c.insertBefore(b,c.firstChild);
g.style.cssText="position: absolute; left: 10.7432222px;";g=a(g).offset().left;e=10<g&&11>g;b.innerHTML="";c.removeChild(b)})()})();a.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",
height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var b=this.options;this.prevShow=this.prevHide=a();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");b.collapsible||!1!==b.active&&null!=b.active||(b.active=0);this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?
this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");
this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();this._destroyIcons();a=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();
"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){"active"===a?this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),"disabled"===a&&(this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",
!!b)))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var c=a.ui.keyCode,g=this.headers.length,d=this.headers.index(b.target),e=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:e=this.headers[(d+1)%g];break;case c.LEFT:case c.UP:e=this.headers[(d-1+g)%g];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:e=this.headers[0];break;case c.END:e=this.headers[g-1]}e&&(a(b.target).attr("tabIndex",-1),a(e).attr("tabIndex",0),e.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===
a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels();!1===b.active&&!0===b.collapsible||!this.headers.length?(b.active=!1,this.active=a()):!1===b.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();
this._refresh()},_processPanels:function(){var a=this.headers,b=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();b&&(this._off(a.not(this.headers)),this._off(b.not(this.panels)))},_refresh:function(){var b,c=this.options,d=c.heightStyle,e=this.element.parent();
this.active=this._findActive(c.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(){var b=a(this),c=b.uniqueId().attr("id"),g=b.next(),d=g.uniqueId().attr("id");b.attr("aria-controls",d);g.attr("aria-labelledby",c)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();
this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(c.event);"fill"===d?(b=e.height(),this.element.siblings(":visible").each(function(){var c=a(this),g=c.css("position");"absolute"!==g&&"fixed"!==g&&(b-=c.outerHeight(!0))}),this.headers.each(function(){b-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,
b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===d&&(b=0,this.headers.next().each(function(){b=Math.max(b,a(this).css("height","").height())}).height(b))},_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return"number"===typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var c={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,
b){c[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,c);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var c=this.options,g=this.active,d=a(b.currentTarget),e=d[0]===g[0],h=e&&c.collapsible,k=h?a():d.next(),f=g.next(),k={oldHeader:g,oldPanel:f,newHeader:h?a():d,newPanel:k};b.preventDefault();e&&!c.collapsible||!1===this._trigger("beforeActivate",b,k)||(c.active=
h?!1:this.headers.index(d),this.active=e?a():d,this._toggle(k),g.removeClass("ui-accordion-header-active ui-state-active"),c.icons&&g.children(".ui-accordion-header-icon").removeClass(c.icons.activeHeader).addClass(c.icons.header),e||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),c.icons&&d.children(".ui-accordion-header-icon").removeClass(c.icons.header).addClass(c.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var c=
b.newPanel,g=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=c;this.prevHide=g;this.options.animate?this._animate(c,g,b):(g.hide(),c.show(),this._toggleComplete(b));g.attr({"aria-hidden":"true"});g.prev().attr({"aria-selected":"false","aria-expanded":"false"});c.length&&g.length?g.prev().attr({tabIndex:-1,"aria-expanded":"false"}):c.length&&this.headers.filter(function(){return 0===parseInt(a(this).attr("tabIndex"),10)}).attr("tabIndex",-1);
c.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(a,b,c){var g,d,e,h=this,k=0,f=a.css("box-sizing"),n=a.length&&(!b.length||a.index()<b.index()),v=this.options.animate||{},n=n&&v.down||v,m=function(){h._toggleComplete(c)};"number"===typeof n&&(e=n);"string"===typeof n&&(d=n);d=d||n.easing||v.easing;e=e||n.duration||v.duration;if(!b.length)return a.animate(this.showProps,e,d,m);if(!a.length)return b.animate(this.hideProps,e,d,m);
g=a.show().outerHeight();b.animate(this.hideProps,{duration:e,easing:d,step:function(a,b){b.now=Math.round(a)}});a.hide().animate(this.showProps,{duration:e,easing:d,complete:m,step:function(a,c){c.now=Math.round(a);"height"!==c.prop?"content-box"===f&&(k+=c.now):"content"!==h.options.heightStyle&&(c.now=Math.round(g-b.outerHeight()-k),k=0)}})},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");b.length&&
(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,a)}});a.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,
tabIndex:0});this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(b){var c=a(b.target);!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),c.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",
[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var c=a(b.currentTarget);c.siblings(".ui-state-active").removeClass("ui-state-active");this.focus(b,c)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.find(this.options.items).eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||
this.collapseAll(b)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){var c,g,d,e=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);
break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);
break;default:e=!1,c=this.previousFilter||"",g=String.fromCharCode(b.keyCode),d=!1,clearTimeout(this.filterTimer),g===c?d=!0:g=c+g,c=this._filterMenuItems(g),c=d&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c,c.length||(g=String.fromCharCode(b.keyCode),c=this._filterMenuItems(g)),c.length?(this.focus(b,c),this.previousFilter=g,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}e&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||
(this.active.is("[aria-haspopup='true']")?this.expand(a):this.select(a))},refresh:function(){var b,c=this,d=this.options.icons.submenu;b=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length);b.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),c=b.parent(),g=a("<span>").addClass("ui-menu-icon ui-icon "+
d).data("ui-menu-submenu-carat",!0);c.attr("aria-haspopup","true").prepend(g);b.attr("aria-labelledby",c.attr("id"))});b=b.add(this.element).find(this.options.items);b.not(".ui-menu-item").each(function(){var b=a(this);c._isDivider(b)&&b.addClass("ui-widget-content ui-menu-divider")});b.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()});b.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],
this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu);"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b);this._super(a,b)},focus:function(a,b){var c;this.blur(a,a&&"focus"===a.type);this._scrollIntoView(b);this.active=b.first();c=this.active.addClass("ui-state-focus").removeClass("ui-state-active");
this.options.role&&this.element.attr("aria-activedescendant",c.attr("id"));this.active.parent().closest(".ui-menu-item").addClass("ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);c=b.children(".ui-menu");c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c);this.activeMenu=b.parent();this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,g,d;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||
0,g=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,c=b.offset().top-this.activeMenu.offset().top-c-g,g=this.activeMenu.scrollTop(),d=this.activeMenu.height(),b=b.outerHeight(),0>c?this.activeMenu.scrollTop(g+c):c+b>d&&this.activeMenu.scrollTop(g+c-d+b))},blur:function(a,b){b||clearTimeout(this.timer);this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&
(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true");b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer);this.timer=this._delay(function(){var g=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));
g.length||(g=this.element);this._close(g);this.blur(b);this.activeMenu=g},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(b){return!a(b.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},collapse:function(a){var b=
this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&
!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var g;this.active&&(g="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));g&&g.length&&this.active||(g=this.activeMenu.find(this.options.items)[b]());this.focus(c,g)},nextPage:function(b){var c,g,d;this.active?this.isLastItem()||(this._hasScroll()?(g=this.active.offset().top,d=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){c=
a(this);return 0>c.offset().top-g-d}),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(b)},previousPage:function(b){var c,g,d;this.active?this.isFirstItem()||(this._hasScroll()?(g=this.active.offset().top,d=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){c=a(this);return 0<c.offset().top-g+d}),this.focus(b,c)):this.focus(b,this.activeMenu.find(this.options.items).first())):this.next(b)},_hasScroll:function(){return this.element.outerHeight()<
this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0);this._trigger("select",b,c)},_filterMenuItems:function(b){b=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var c=new RegExp("^"+b,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return c.test(a.trim(a(this).text()))})}});a.widget("ui.autocomplete",{version:"1.11.4",
defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),h="textarea"===e,e="input"===e;this.isMultiLine=h?!0:e?!1:this.element.prop("isContentEditable");this.valueMethod=this.element[h||e?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete",
"off");this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly"))c=d=b=!0;else{c=d=b=!1;var e=a.ui.keyCode;switch(g.keyCode){case e.PAGE_UP:b=!0;this._move("previousPage",g);break;case e.PAGE_DOWN:b=!0;this._move("nextPage",g);break;case e.UP:b=!0;this._keyEvent("previous",g);break;case e.DOWN:b=!0;this._keyEvent("next",g);break;case e.ENTER:this.menu.active&&(b=!0,g.preventDefault(),this.menu.select(g));break;case e.TAB:this.menu.active&&this.menu.select(g);break;case e.ESCAPE:this.menu.element.is(":visible")&&
(this.isMultiLine||this._value(this.term),this.close(g),g.preventDefault());break;default:c=!0,this._searchTimeout(g)}}},keypress:function(d){if(b)b=!1,this.isMultiLine&&!this.menu.element.is(":visible")||d.preventDefault();else if(!c){var g=a.ui.keyCode;switch(d.keyCode){case g.PAGE_UP:this._move("previousPage",d);break;case g.PAGE_DOWN:this._move("nextPage",d);break;case g.UP:this._keyEvent("previous",d);break;case g.DOWN:this._keyEvent("next",d)}}},input:function(a){d?(d=!1,a.preventDefault()):
this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._on(this.menu.element,{mousedown:function(b){b.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];
a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){var d;if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});return}d=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:d})&&
b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value);(c=c.item.attr("aria-label")||d.value)&&a.trim(c).length&&(this.liveRegion.children().hide(),a("<div>").text(c).appendTo(this.liveRegion))},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d;this.selectedItem=c}));!1!==this._trigger("select",a,{item:c})&&this._value(c.value);
this.term=this._value();this.close(a);this.selectedItem=c}});this.liveRegion=a("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(a,
b){this._super(a,b);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0));b&&b[0]||(b=this.element.closest(".ui-front"));b.length||(b=this.document[0].body);return b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,
c.term))}):"string"===typeof this.options.source?(c=this.options.source,this.source=function(b,g){d.xhr&&d.xhr.abort();d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){g(a)},error:function(){g([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){var b=this.term===this._value(),c=this.menu.element.is(":visible"),d=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;if(!b||b&&!c&&!d)this.selectedItem=null,this.search(null,
a)},this.options.delay)},search:function(a,b){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(b);if(!1!==this._trigger("search",b))return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a);this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},
this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},
_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"===typeof b?{label:b,value:b}:a.extend({},b,{label:b.label||b.value,value:b.value||b.label})})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b);this.isNewMenu=!0;this.menu.refresh();c.show();this._resizeMenu();c.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+
1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").text(c.label).appendTo(b)},_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this.isMultiLine||this._value(this.term),this.menu.blur();else this.menu[a](b);
else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,b),b.preventDefault()}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||
a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){var c;this._superApply(arguments);this.options.disabled||this.cancelSearch||(c=b&&b.length?this.options.messages.results(b.length):this.options.messages.noResults,this.liveRegion.children().hide(),a("<div>").text(c).appendTo(this.liveRegion))}});var t,u=
function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},y=function(b){var c=b.name,d=b.form,g=a([]);c&&(c=c.replace(/'/g,"\\'"),g=d?a(d).find("[name='"+c+"'][type=radio]"):a("[name='"+c+"'][type=radio]",b.ownerDocument).filter(function(){return!this.form}));return g};a.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+
this.eventNamespace).bind("reset"+this.eventNamespace,u);"boolean"!==typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var b=this,c=this.options,d="checkbox"===this.type||"radio"===this.type,e=d?"":"ui-state-active";null===c.label&&(c.label="input"===this.type?this.buttonElement.val():this.buttonElement.html());this._hoverable(this.buttonElement);
this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter"+this.eventNamespace,function(){c.disabled||this===t&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){c.disabled||a(this).removeClass(e)}).bind("click"+this.eventNamespace,function(a){c.disabled&&(a.preventDefault(),a.stopImmediatePropagation())});this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}});
d&&this.element.bind("change"+this.eventNamespace,function(){b.refresh()});"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(c.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(c.disabled)return!1;a(this).addClass("ui-state-active");b.buttonElement.attr("aria-pressed","true");var d=b.element[0];y(d).not(d).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",
"false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(c.disabled)return!1;a(this).addClass("ui-state-active");t=this;b.document.one("mouseup",function(){t=null})}).bind("mouseup"+this.eventNamespace,function(){if(c.disabled)return!1;a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){if(c.disabled)return!1;b.keyCode!==a.ui.keyCode.SPACE&&b.keyCode!==a.ui.keyCode.ENTER||a(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+
" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()}));this._setOption("disabled",c.disabled);this._resetButton()},_determineButtonType:function(){var a,b;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";"checkbox"===this.type||"radio"===this.type?
(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",a)):this.buttonElement=this.element},widget:function(){return this.buttonElement},
_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){this._super(a,
b);"disabled"===a?(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),b&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active"))):this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b);"radio"===this.type?y(this.element[0]).each(function(){a(this).is(":checked")?
a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)this.options.label&&this.element.val(this.options.label);else{var b=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,h=[];d.primary||d.secondary?(this.options.text&&h.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(h.push(e?"ui-button-icons-only":
"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):h.push("ui-button-text-only");b.addClass(h.join(" "))}}});a.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b);this._super(a,b)},refresh:function(){var b=
"rtl"===this.element.css("direction"),c=this.element.find(this.options.items),d=c.filter(":ui-button");c.not(":ui-button").button();d.button("refresh");this.buttons=c.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});
a.extend(a.ui,{datepicker:{version:"1.11.4"}});var A;a.extend(k.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){m(this._defaults,a||{});return this},_attachDatepicker:function(b,c){var d,g,e;d=b.nodeName.toLowerCase();g="div"===d||"span"===d;b.id||(this.uuid+=1,b.id="dp"+this.uuid);e=this._newInst(a(b),g);e.settings=a.extend({},c||{});"input"===d?this._connectDatepicker(b,e):g&&this._inlineDatepicker(b,e)},_newInst:function(b,
c){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]);c.trigger=a([]);d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),
this._autoSize(c),a.data(b,"datepicker",c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,g;d=this._get(c,"appendText");var e=this._get(c,"isRTL");c.append&&c.append.remove();d&&(c.append=a("<span class='"+this._appendClass+"'>"+d+"</span>"),b[e?"before":"after"](c.append));b.unbind("focus",this._showDatepicker);c.trigger&&c.trigger.remove();d=this._get(c,"showOn");"focus"!==d&&"both"!==d||b.focus(this._showDatepicker);if("button"===d||"both"===d)d=this._get(c,
"buttonText"),g=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:g,alt:d,title:d}):a("<button type='button'></button>").addClass(this._triggerClass).html(g?a("<img/>").attr({src:g,alt:d,title:d}):d)),b[e?"before":"after"](c.trigger),c.trigger.click(function(){a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():(a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]&&a.datepicker._hideDatepicker(),
a.datepicker._showDatepicker(b[0]));return!1})},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,g,e=new Date(2009,11,20),h=this._get(a,"dateFormat");h.match(/[DM]/)&&(b=function(a){for(g=d=c=0;g<a.length;g++)a[g].length>c&&(c=a[g].length,d=g);return d},e.setMonth(b(this._get(a,h.match(/MM/)?"monthNames":"monthNamesShort"))),e.setDate(b(this._get(a,h.match(/DD/)?"dayNames":"dayNamesShort"))+20-e.getDay()));a.input.attr("size",this._formatDate(a,e).length)}},_inlineDatepicker:function(b,
c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,"datepicker",c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,e,h){var g;b=this._dialogInst;b||(this.uuid+=1,b="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+b+"' style='position: absolute; top: -100px; width: 0px;'/>"),
this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b));m(b.settings,e||{});c=c&&c.constructor===Date?this._formatDate(b,c):c;this._dialogInput.val(c);this._pos=h?h.length?h:[h.pageX,h.pageY]:null;this._pos||(c=document.documentElement.clientWidth,e=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,g=document.documentElement.scrollTop||
document.body.scrollTop,this._pos=[c/2-100+h,e/2-150+g]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");b.settings.onSelect=d;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);a.blockUI&&a.blockUI(this.dpDiv);a.data(this._dialogInput[0],"datepicker",b);return this},_destroyDatepicker:function(b){var c,d=a(b),g=a.data(b,"datepicker");d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,"datepicker"),
"input"===c?(g.append.remove(),g.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==c&&"span"!==c||d.removeClass(this.markerClassName).empty(),A===g&&(A=null))},_enableDatepicker:function(b){var c,d=a(b),g=a.data(b,"datepicker");if(d.hasClass(this.markerClassName)){c=b.nodeName.toLowerCase();if("input"===c)b.disabled=!1,g.trigger.filter("button").each(function(){this.disabled=
!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===c||"span"===c)c=d.children("."+this._inlineClass),c.children().removeClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a})}},_disableDatepicker:function(b){var c,d=a(b),g=a.data(b,"datepicker");if(d.hasClass(this.markerClassName)){c=b.nodeName.toLowerCase();if("input"===c)b.disabled=!0,g.trigger.filter("button").each(function(){this.disabled=
!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===c||"span"===c)c=d.children("."+this._inlineClass),c.children().addClass("ui-state-disabled"),c.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a});this._disabledInputs[this._disabledInputs.length]=b}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===
a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(v){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(b,c,d){var g,e,h,k,f=this._getInst(b);if(2===arguments.length&&"string"===typeof c)return"defaults"===c?a.extend({},a.datepicker._defaults):f?"all"===c?a.extend({},f.settings):this._get(f,c):null;g=c||{};"string"===typeof c&&(g={},g[c]=d);f&&(this._curInst===f&&this._hideDatepicker(),e=this._getDateDatepicker(b,!0),h=this._getMinMaxDate(f,
"min"),k=this._getMinMaxDate(f,"max"),m(f.settings,g),null!==h&&void 0!==g.dateFormat&&void 0===g.minDate&&(f.settings.minDate=this._formatDate(f,h)),null!==k&&void 0!==g.dateFormat&&void 0===g.maxDate&&(f.settings.maxDate=this._formatDate(f,k)),"disabled"in g&&(g.disabled?this._disableDatepicker(b):this._enableDatepicker(b)),this._attachments(a(b),f),this._autoSize(f),this._setDate(f,e),this._updateAlternate(f),this._updateDatepicker(f))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,
b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a))this._setDate(a,b),this._updateDatepicker(a),this._updateAlternate(a)},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(b){var c,d=a.datepicker._getInst(b.target);c=!0;var g=d.dpDiv.is(".ui-datepicker-rtl");d._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();
c=!1;break;case 13:return c=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",d.dpDiv),c[0]&&a.datepicker._selectDay(b.target,d.selectedMonth,d.selectedYear,c[0]),(b=a.datepicker._get(d,"onSelect"))?(c=a.datepicker._formatDate(d),b.apply(d.input?d.input[0]:null,[c,d])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(d,"stepBigMonths"):-a.datepicker._get(d,"stepMonths"),"M");
break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(d,"stepBigMonths"):+a.datepicker._get(d,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);c=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);c=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,g?1:-1,"D");c=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?
-a.datepicker._get(d,"stepBigMonths"):-a.datepicker._get(d,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");c=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,g?-1:1,"D");c=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(d,"stepBigMonths"):+a.datepicker._get(d,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,
7,"D");c=b.ctrlKey||b.metaKey;break;default:c=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):c=!1;c&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,d;c=a.datepicker._getInst(b.target);if(a.datepicker._get(c,"constrainInput"))return c=a.datepicker._possibleChars(a.datepicker._get(c,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">d||!c||-1<c.indexOf(d)},_doKeyUp:function(b){var c;b=a.datepicker._getInst(b.target);
if(b.input.val()!==b.lastVal)try{if(c=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),a.datepicker._updateDatepicker(b)}catch(z){}return!0},_showDatepicker:function(c){c=c.target||c;"input"!==c.nodeName.toLowerCase()&&(c=a("input",c.parentNode)[0]);if(!a.datepicker._isDisabledDatepicker(c)&&a.datepicker._lastInput!==c){var d,g,e,h;d=a.datepicker._getInst(c);a.datepicker._curInst&&
a.datepicker._curInst!==d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));g=(g=a.datepicker._get(d,"beforeShow"))?g.apply(c,[c,d]):{};if(!1!==g&&(m(d.settings,g),d.lastVal=null,a.datepicker._lastInput=c,a.datepicker._setDateFromField(d),a.datepicker._inDialog&&(c.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(c),a.datepicker._pos[1]+=c.offsetHeight),e=!1,a(c).parents().each(function(){e|=
"fixed"===a(this).css("position");return!e}),g={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,d.dpDiv.empty(),d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(d),g=a.datepicker._checkOffset(d,g,e),d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":e?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"}),!d.inline)){g=a.datepicker._get(d,"showAnim");h=a.datepicker._get(d,"duration");d.dpDiv.css("z-index",
b(a(c))+1);a.datepicker._datepickerShowing=!0;if(a.effects&&a.effects.effect[g])d.dpDiv.show(g,a.datepicker._get(d,"showOptions"),h);else d.dpDiv[g||"show"](g?h:null);a.datepicker._shouldFocusInput(d)&&d.input.focus();a.datepicker._curInst=d}}},_updateDatepicker:function(b){this.maxRows=4;A=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);var c,d=this._getNumberOfMonths(b),g=d[1],e=b.dpDiv.find("."+this._dayOverClass+" a");0<e.length&&f.apply(e.get(0));b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");
1<g&&b.dpDiv.addClass("ui-datepicker-multi-"+g).css("width",17*g+"em");b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi");b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus();b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);c=b.yearshtml=
null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var g=b.dpDiv.outerWidth(),e=b.dpDiv.outerHeight(),h=b.input?b.input.outerWidth():0,k=b.input?b.input.outerHeight():0,f=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),n=document.documentElement.clientHeight+(d?0:a(document).scrollTop());c.left-=this._get(b,"isRTL")?g-h:0;c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():
0;c.top-=d&&c.top===b.input.offset().top+k?a(document).scrollTop():0;c.left-=Math.min(c.left,c.left+g>f&&f>g?Math.abs(c.left+g-f):0);c.top-=Math.min(c.top,c.top+e>n&&n>e?Math.abs(e+k):0);return c},_findPos:function(b){for(var c=this._getInst(b),c=this._get(c,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[c?"previousSibling":"nextSibling"];b=a(b).offset();return[b.left,b.top]},_hideDatepicker:function(b){var c,d,g=this._curInst;if(g&&(!b||g===a.data(b,"datepicker"))&&
this._datepickerShowing){b=this._get(g,"showAnim");c=this._get(g,"duration");d=function(){a.datepicker._tidyDialog(g)};if(a.effects&&(a.effects.effect[b]||a.effects[b]))g.dpDiv.hide(b,a.datepicker._get(g,"showOptions"),c,d);else g.dpDiv["slideDown"===b?"slideUp":"fadeIn"===b?"fadeOut":"hide"](b?c:null,d);b||d();this._datepickerShowing=!1;(b=this._get(g,"onClose"))&&b.apply(g.input?g.input[0]:null,[g.input?g.input.val():"",g]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",
left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){b=a(b.target);var c=a.datepicker._getInst(b[0]);(!(b[0].id===a.datepicker._mainDivId||0!==b.parents("#"+a.datepicker._mainDivId).length||b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||
a.datepicker._inDialog&&a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==c)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){b=a(b);var g=this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(g,c+("M"===d?this._get(g,"showCurrentAtPos"):0),d),this._updateDatepicker(g))},_gotoToday:function(b){var c=a(b),d=this._getInst(c[0]);this._get(d,"gotoCurrent")&&d.currentDay?(d.selectedDay=d.currentDay,d.drawMonth=d.selectedMonth=d.currentMonth,
d.drawYear=d.selectedYear=d.currentYear):(b=new Date,d.selectedDay=b.getDate(),d.drawMonth=d.selectedMonth=b.getMonth(),d.drawYear=d.selectedYear=b.getFullYear());this._notifyChange(d);this._adjustDate(c)},_selectMonthYear:function(b,c,d){b=a(b);var g=this._getInst(b[0]);g["selected"+("M"===d?"Month":"Year")]=g["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10);this._notifyChange(g);this._adjustDate(b)},_selectDay:function(b,c,d,e){var g;g=a(b);a(e).hasClass(this._unselectableClass)||
this._isDisabledDatepicker(g[0])||(g=this._getInst(g[0]),g.selectedDay=g.currentDay=a("a",e).html(),g.selectedMonth=g.currentMonth=c,g.selectedYear=g.currentYear=d,this._selectDate(b,this._formatDate(g,g.currentDay,g.currentMonth,g.currentYear)))},_clearDate:function(b){b=a(b);this._selectDate(b,"")},_selectDate:function(b,c){b=a(b);var d=this._getInst(b[0]);c=null!=c?c:this._formatDate(d);d.input&&d.input.val(c);this._updateAlternate(d);(b=this._get(d,"onSelect"))?b.apply(d.input?d.input[0]:null,
[c,d]):d.input&&d.input.trigger("change");d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!==typeof d.input[0]&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c,d,g,e=this._get(b,"altField");e&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),g=this.formatDate(c,d,this._getFormatConfig(b)),a(e).each(function(){a(this).val(g)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b=
new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";c="object"===typeof c?c.toString():c+"";if(""===c)return null;var g,e,h,k=0;e=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff;e="string"!==typeof e?e:(new Date).getFullYear()%100+parseInt(e,10);h=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort;var f=(d?d.dayNames:
null)||this._defaults.dayNames,n=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,m=(d?d.monthNames:null)||this._defaults.monthNames,l=d=-1,v=-1,z=-1,r=!1,t,q=function(a){(a=g+1<b.length&&b.charAt(g+1)===a)&&g++;return a},u=function(a){var b=q(a),b="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2;a=new RegExp("^\\d{"+("y"===a?b:1)+","+b+"}");a=c.substring(k).match(a);if(!a)throw"Missing number at position "+k;k+=a[0].length;return parseInt(a[0],10)},p=function(b,d,g){var e=-1;b=a.map(q(b)?
g:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});a.each(b,function(a,b){a=b[1];if(c.substr(k,a.length).toLowerCase()===a.toLowerCase())return e=b[0],k+=a.length,!1});if(-1!==e)return e+1;throw"Unknown name at position "+k;},y=function(){if(c.charAt(k)!==b.charAt(g))throw"Unexpected literal at position "+k;k++};for(g=0;g<b.length;g++)if(r)"'"!==b.charAt(g)||q("'")?y():r=!1;else switch(b.charAt(g)){case "d":v=u("d");break;case "D":p("D",h,f);break;case "o":z=u("o");
break;case "m":l=u("m");break;case "M":l=p("M",n,m);break;case "y":d=u("y");break;case "@":t=new Date(u("@"));d=t.getFullYear();l=t.getMonth()+1;v=t.getDate();break;case "!":t=new Date((u("!")-this._ticksTo1970)/1E4);d=t.getFullYear();l=t.getMonth()+1;v=t.getDate();break;case "'":q("'")?y():r=!0;break;default:y()}if(k<c.length&&(h=c.substr(k),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;-1===d?d=(new Date).getFullYear():100>d&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%
100+(d<=e?0:-100));if(-1<z){l=1;v=z;do{e=this._getDaysInMonth(d,l-1);if(v<=e)break;l++;v-=e}while(1)}t=this._daylightSavingAdjust(new Date(d,l-1,v));if(t.getFullYear()!==d||t.getMonth()+1!==l||t.getDate()!==v)throw"Invalid date";return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+
Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,g=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var k=function(b){(b=d+1<a.length&&a.charAt(d+1)===b)&&d++;return b},f=function(a,b,c){b=""+b;if(k(a))for(;b.length<c;)b="0"+b;return b},n=function(a,b,c,d){return k(a)?d[b]:c[b]},m="",l=!1;if(b)for(d=0;d<a.length;d++)if(l)"'"!==
a.charAt(d)||k("'")?m+=a.charAt(d):l=!1;else switch(a.charAt(d)){case "d":m+=f("d",b.getDate(),2);break;case "D":m+=n("D",b.getDay(),g,e);break;case "o":m+=f("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":m+=f("m",b.getMonth()+1,2);break;case "M":m+=n("M",b.getMonth(),h,c);break;case "y":m+=k("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":m+=b.getTime();break;case "!":m+=
1E4*b.getTime()+this._ticksTo1970;break;case "'":k("'")?m+="'":l=!0;break;default:m+=a.charAt(d)}return m},_possibleChars:function(a){var b,c="",d=!1,g=function(c){(c=b+1<a.length&&a.charAt(b+1)===c)&&b++;return c};for(b=0;b<a.length;b++)if(d)"'"!==a.charAt(b)||g("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":c+="0123456789";break;case "D":case "M":return null;case "'":g("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,b){return void 0!==
a.settings[b]?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,g=this._getDefaultDate(a),e=g,h=this._getFormatConfig(a);try{e=this.parseDate(c,d,h)||g}catch(E){d=b?"":d}a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();a.currentDay=d?e.getDate():0;a.currentMonth=d?e.getMonth():0;a.currentYear=d?e.getFullYear():0;this._adjustInstDate(a)}},
_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var g=function(a){var b=new Date;b.setDate(b.getDate()+a);return b},e=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(I){}for(var d=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,g=d.getFullYear(),e=d.getMonth(),d=d.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
k=h.exec(c);k;){switch(k[2]||"d"){case "d":case "D":d+=parseInt(k[1],10);break;case "w":case "W":d+=7*parseInt(k[1],10);break;case "m":case "M":e+=parseInt(k[1],10);d=Math.min(d,a.datepicker._getDaysInMonth(g,e));break;case "y":case "Y":g+=parseInt(k[1],10),d=Math.min(d,a.datepicker._getDaysInMonth(g,e))}k=h.exec(c)}return new Date(g,e,d)};if(c=(c=null==c||""===c?d:"string"===typeof c?e(c):"number"===typeof c?isNaN(c)?d:g(c):new Date(c.getTime()))&&"Invalid Date"===c.toString()?d:c)c.setHours(0),
c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0);return this._daylightSavingAdjust(c)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,b,c){var d=!b,g=a.selectedMonth,e=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();g===a.selectedMonth&&e===
a.selectedYear||c||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).bind(this.getAttribute("data-event"),{prev:function(){a.datepicker._adjustDate(d,-c,
"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return!1},selectMonth:function(){a.datepicker._selectMonthYear(d,this,"M");return!1},selectYear:function(){a.datepicker._selectMonthYear(d,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,
d,g,e,h,k,f,n,m,l,r,t,q,u,p,y,w,A,R,ba,T,ca,ha,X,aa,ga,ka=new Date,ka=this._daylightSavingAdjust(new Date(ka.getFullYear(),ka.getMonth(),ka.getDate())),ra=this._get(a,"isRTL");h=this._get(a,"showButtonPanel");d=this._get(a,"hideIfNoPrevNext");e=this._get(a,"navigationAsDateFormat");var Ea=this._getNumberOfMonths(a),ua=this._get(a,"showCurrentAtPos");g=this._get(a,"stepMonths");var $a=1!==Ea[0]||1!==Ea[1],La=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):
new Date(9999,9,9)),pa=this._getMinMaxDate(a,"min"),fa=this._getMinMaxDate(a,"max"),ua=a.drawMonth-ua,ea=a.drawYear;0>ua&&(ua+=12,ea--);if(fa)for(b=this._daylightSavingAdjust(new Date(fa.getFullYear(),fa.getMonth()-Ea[0]*Ea[1]+1,fa.getDate())),b=pa&&b<pa?pa:b;this._daylightSavingAdjust(new Date(ea,ua,1))>b;)ua--,0>ua&&(ua=11,ea--);a.drawMonth=ua;a.drawYear=ea;b=this._get(a,"prevText");b=e?this.formatDate(b,this._daylightSavingAdjust(new Date(ea,ua-g,1)),this._getFormatConfig(a)):b;b=this._canAdjustMonth(a,
-1,ea,ua)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(ra?"e":"w")+"'>"+b+"</span></a>":d?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(ra?"e":"w")+"'>"+b+"</span></a>";c=this._get(a,"nextText");c=e?this.formatDate(c,this._daylightSavingAdjust(new Date(ea,ua+g,1)),this._getFormatConfig(a)):c;d=this._canAdjustMonth(a,
1,ea,ua)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(ra?"w":"e")+"'>"+c+"</span></a>":d?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(ra?"w":"e")+"'>"+c+"</span></a>";g=this._get(a,"currentText");c=this._get(a,"gotoCurrent")&&a.currentDay?La:ka;g=e?this.formatDate(g,c,this._getFormatConfig(a)):g;e=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+
this._get(a,"closeText")+"</button>";h=h?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ra?e:"")+(this._isInRange(a,c)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(ra?"":e)+"</div>":"";e=parseInt(this._get(a,"firstDay"),10);e=isNaN(e)?0:e;g=this._get(a,"showWeek");c=this._get(a,"dayNames");k=this._get(a,"dayNamesMin");f=this._get(a,"monthNames");n=this._get(a,"monthNamesShort");
m=this._get(a,"beforeShowDay");l=this._get(a,"showOtherMonths");r=this._get(a,"selectOtherMonths");t=this._getDefaultDate(a);q="";u;for(p=0;p<Ea[0];p++){y="";this.maxRows=4;for(w=0;w<Ea[1];w++){A=this._daylightSavingAdjust(new Date(ea,ua,a.selectedDay));u=" ui-corner-all";R="";if($a){R+="<div class='ui-datepicker-group";if(1<Ea[1])switch(w){case 0:R+=" ui-datepicker-group-first";u=" ui-corner-"+(ra?"right":"left");break;case Ea[1]-1:R+=" ui-datepicker-group-last";u=" ui-corner-"+(ra?"left":"right");
break;default:R+=" ui-datepicker-group-middle",u=""}R+="'>"}R+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+u+"'>"+(/all|left/.test(u)&&0===p?ra?d:b:"")+(/all|right/.test(u)&&0===p?ra?b:d:"")+this._generateMonthYearHeader(a,ua,ea,pa,fa,0<p||0<w,f,n)+"</div><table class='ui-datepicker-calendar'><thead><tr>";ba=g?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(u=0;7>u;u++)T=(u+e)%7,ba+="<th scope='col'"+(5<=(u+e+6)%7?" class='ui-datepicker-week-end'":
"")+"><span title='"+c[T]+"'>"+k[T]+"</span></th>";R+=ba+"</tr></thead><tbody>";ba=this._getDaysInMonth(ea,ua);ea===a.selectedYear&&ua===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,ba));u=(this._getFirstDayOfMonth(ea,ua)-e+7)%7;ba=Math.ceil((u+ba)/7);this.maxRows=ba=$a?this.maxRows>ba?this.maxRows:ba:ba;T=this._daylightSavingAdjust(new Date(ea,ua,1-u));for(ca=0;ca<ba;ca++){R+="<tr>";ha=g?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(T)+"</td>":"";for(u=0;7>u;u++)X=
m?m.apply(a.input?a.input[0]:null,[T]):[!0,""],ga=(aa=T.getMonth()!==ua)&&!r||!X[0]||pa&&T<pa||fa&&T>fa,ha+="<td class='"+(5<=(u+e+6)%7?" ui-datepicker-week-end":"")+(aa?" ui-datepicker-other-month":"")+(T.getTime()===A.getTime()&&ua===a.selectedMonth&&a._keyEvent||t.getTime()===T.getTime()&&t.getTime()===A.getTime()?" "+this._dayOverClass:"")+(ga?" "+this._unselectableClass+" ui-state-disabled":"")+(aa&&!l?"":" "+X[1]+(T.getTime()===La.getTime()?" "+this._currentClass:"")+(T.getTime()===ka.getTime()?
" ui-datepicker-today":""))+"'"+(aa&&!l||!X[2]?"":" title='"+X[2].replace(/'/g,"&#39;")+"'")+(ga?"":" data-handler='selectDay' data-event='click' data-month='"+T.getMonth()+"' data-year='"+T.getFullYear()+"'")+">"+(aa&&!l?"&#xa0;":ga?"<span class='ui-state-default'>"+T.getDate()+"</span>":"<a class='ui-state-default"+(T.getTime()===ka.getTime()?" ui-state-highlight":"")+(T.getTime()===La.getTime()?" ui-state-active":"")+(aa?" ui-priority-secondary":"")+"' href='#'>"+T.getDate()+"</a>")+"</td>",T.setDate(T.getDate()+
1),T=this._daylightSavingAdjust(T);R+=ha+"</tr>"}ua++;11<ua&&(ua=0,ea++);R+="</tbody></table>"+($a?"</div>"+(0<Ea[0]&&w===Ea[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");y+=R}q+=y}a._keyEvent=!1;return q+h},_generateMonthYearHeader:function(a,b,c,d,e,h,k,f){var g,n,m,l=this._get(a,"changeMonth"),v=this._get(a,"changeYear"),r=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",z="";if(h||!l)z+="<span class='ui-datepicker-month'>"+k[b]+"</span>";else{k=d&&d.getFullYear()===
c;g=e&&e.getFullYear()===c;z+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(n=0;12>n;n++)(!k||n>=d.getMonth())&&(!g||n<=e.getMonth())&&(z+="<option value='"+n+"'"+(n===b?" selected='selected'":"")+">"+f[n]+"</option>");z+="</select>"}r||(t+=z+(!h&&l&&v?"":"&#xa0;"));if(!a.yearshtml)if(a.yearshtml="",h||!v)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{f=this._get(a,"yearRange").split(":");m=(new Date).getFullYear();k=function(a){a=a.match(/c[+\-].*/)?
c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(a)?m:a};b=k(f[0]);f=Math.max(b,k(f[1]||""));b=d?Math.max(b,d.getFullYear()):b;f=e?Math.min(f,e.getFullYear()):f;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";b<=f;b++)a.yearshtml+="<option value='"+b+"'"+(b===c?" selected='selected'":"")+">"+b+"</option>";a.yearshtml+="</select>";t+=a.yearshtml;a.yearshtml=null}t+=this._get(a,"yearSuffix");r&&(t+=(!h&&
l&&v?"":"&#xa0;")+z);return t+"</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),g=a.drawMonth+("M"===c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(d,g))+("D"===c?b:0);d=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,g,b)));a.selectedDay=d.getDate();a.drawMonth=a.selectedMonth=d.getMonth();a.drawYear=a.selectedYear=d.getFullYear();"M"!==c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,
"max");b=c&&b<c?c:b;return a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"===typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,
b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var g=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,d+(0>b?b:g[0]*g[1]),1));0>b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c,d=this._getMinMaxDate(a,"min"),g=this._getMinMaxDate(a,"max"),e=null,h=null;if(a=this._get(a,"yearRange"))a=a.split(":"),c=(new Date).getFullYear(),e=parseInt(a[0],10),h=parseInt(a[1],10),a[0].match(/[+\-].*/)&&
(e+=c),a[1].match(/[+\-].*/)&&(h+=c);return(!d||b.getTime()>=d.getTime())&&(!g||b.getTime()<=g.getTime())&&(!e||b.getFullYear()>=e)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff"),b="string"!==typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,
b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"===typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===
a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"===typeof b&&("isDisabled"===b||"getDate"===b||"widget"===b)||"option"===b&&2===arguments.length&&"string"===typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"===typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)})};a.datepicker=
new k;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.11.4";a.widget("ui.draggable",a.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,
stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._setHandleClassName();this._mouseInit()},_setOption:function(a,b){this._super(a,b);"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?
this.destroyOnClear=!0:(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(b){var c=this.options;this._blurActiveElement(b);if(this.helper||c.disabled||0<a(b.target).closest(".ui-resizable-handle").length)return!1;this.handle=this._getHandle(b);if(!this.handle)return!1;this._blockFrames(!0===c.iframeFix?"iframe":c.iframeFix);return!0},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map(function(){var b=
a(this);return a("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(b){var c=this.document[0];if(this.handleElement.is(b.target))try{c.activeElement&&"body"!==c.activeElement.nodeName.toLowerCase()&&a(c.activeElement).blur()}catch(z){}},_mouseStart:function(b){var c=this.options;this.helper=
this._createHelper(b);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();a.ui.ddmanager&&(a.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent(!0);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===a(this).css("position")}).length;this.positionAbs=this.element.offset();this._refreshOffsets(b);this.originalPosition=
this.position=this._generatePosition(b,!1);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);this._setContainment();if(!1===this._trigger("start",b))return this._clear(),!1;this._cacheHelperProportions();a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this._normalizeRightBottom();this._mouseDrag(b,!0);a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b);return!0},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-
this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(b,c){this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(b,!0);this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();if(!1===this._trigger("drag",b,c))return this._mouseUp({}),!1;this.position=
c.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return!1},_mouseStop:function(b){var c=this,d=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b));this.dropped&&(d=this.dropped,this.dropped=!1);"invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,
parseInt(this.options.revertDuration,10),function(){!1!==c._trigger("stop",b)&&c._clear()}):!1!==this._trigger("stop",b)&&this._clear();return!1},_mouseUp:function(b){this._unblockFrames();a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b);this.handleElement.is(b.target)&&this.element.focus();return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:
!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper);b=d?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;b.parents("body").length||b.appendTo("parent"===c.appendTo?
this.element[0].parentNode:c.appendTo);d&&b[0]===this.element[0]&&this._setPositionRelative();b[0]===this.element[0]||/(fixed|absolute)/.test(b.css("position"))||b.css("position","absolute");return b},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(b){"string"===typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);
"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),c=this.document[0];"absolute"===this.cssPosition&&this.scrollParent[0]!==c&&a.contains(this.scrollParent[0],this.offsetParent[0])&&
(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());this._isRootNode(this.offsetParent[0])&&(b={top:0,left:0});return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),b=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(b?
0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(b?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var b,c,d;b=this.options;c=this.document[0];this.relativeContainer=null;if(b.containment)if("window"===b.containment)this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||c.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];
else if("document"===b.containment)this.containment=[0,0,a(c).width()-this.helperProportions.width-this.margins.left,(a(c).height()||c.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(b.containment.constructor===Array)this.containment=b.containment;else{if("parent"===b.containment&&(b.containment=this.helper[0].parentNode),c=a(b.containment),d=c[0])b=/(scroll|auto)/.test(c.css("overflow")),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),
10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],
this.relativeContainer=c}else this.containment=null},_convertPositionTo:function(a,b){b||(b=this.position);a="absolute"===a?1:-1;var c=this._isRootNode(this.scrollParent[0]);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.offset.scroll.top:c?0:this.offset.scroll.top)*a,left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.offset.scroll.left:c?0:this.offset.scroll.left)*a}},_generatePosition:function(a,
b){var c,d,g,e=this.options,h=this._isRootNode(this.scrollParent[0]);g=a.pageX;d=a.pageY;h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()});b&&(this.containment&&(this.relativeContainer?(c=this.relativeContainer.offset(),c=[this.containment[0]+c.left,this.containment[1]+c.top,this.containment[2]+c.left,this.containment[3]+c.top]):c=this.containment,a.pageX-this.offset.click.left<c[0]&&(g=c[0]+this.offset.click.left),a.pageY-this.offset.click.top<
c[1]&&(d=c[1]+this.offset.click.top),a.pageX-this.offset.click.left>c[2]&&(g=c[2]+this.offset.click.left),a.pageY-this.offset.click.top>c[3]&&(d=c[3]+this.offset.click.top)),e.grid&&(d=e.grid[1]?this.originalPageY+Math.round((d-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY,d=c?d-this.offset.click.top>=c[1]||d-this.offset.click.top>c[3]?d:d-this.offset.click.top>=c[1]?d-e.grid[1]:d+e.grid[1]:d,g=e.grid[0]?this.originalPageX+Math.round((g-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX,
g=c?g-this.offset.click.left>=c[0]||g-this.offset.click.left>c[2]?g:g-this.offset.click.left>=c[0]?g-e.grid[0]:g+e.grid[0]:g),"y"===e.axis&&(g=this.originalPageX),"x"===e.axis&&(d=this.originalPageY));return{top:d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:
this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto"));"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),
this.helper.css("bottom","auto"))},_trigger:function(b,c,d){d=d||this._uiHash();a.ui.plugin.call(this,b,[c,d,this],!0);/^(drag|start|stop)/.test(b)&&(this.positionAbs=this._convertPositionTo("absolute"),d.offset=this.positionAbs);return a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c,d){var g=
a.extend({},c,{item:d.element});d.sortables=[];a(d.options.connectToSortable).each(function(){var c=a(this).sortable("instance");c&&!c.options.disabled&&(d.sortables.push(c),c.refreshPositions(),c._trigger("activate",b,g))})},stop:function(b,c,d){var g=a.extend({},c,{item:d.element});d.cancelHelperRemoval=!1;a.each(d.sortables,function(){this.isOver?(this.isOver=0,d.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),
left:this.placeholder.css("left")},this._mouseStop(b),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",b,g))})},drag:function(b,c,d){a.each(d.sortables,function(){var g=!1,e=this;e.positionAbs=d.positionAbs;e.helperProportions=d.helperProportions;e.offset.click=d.offset.click;e._intersectsWith(e.containerCache)&&(g=!0,a.each(d.sortables,function(){this.positionAbs=d.positionAbs;this.helperProportions=d.helperProportions;this.offset.click=d.offset.click;
this!==e&&this._intersectsWith(this.containerCache)&&a.contains(e.element[0],this.element[0])&&(g=!1);return g}));g?(e.isOver||(e.isOver=1,d._parent=c.helper.parent(),e.currentItem=c.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return c.helper[0]},b.target=e.currentItem[0],e._mouseCapture(b,!0),e._mouseStart(b,!0,!0),e.offset.click.top=d.offset.click.top,e.offset.click.left=d.offset.click.left,e.offset.parent.left-=d.offset.parent.left-
e.offset.parent.left,e.offset.parent.top-=d.offset.parent.top-e.offset.parent.top,d._trigger("toSortable",b),d.dropped=e.element,a.each(d.sortables,function(){this.refreshPositions()}),d.currentItem=d.element,e.fromOutside=d),e.currentItem&&(e._mouseDrag(b),c.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",b,e._uiHash(e)),e._mouseStop(b,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,
e.placeholder&&e.placeholder.remove(),c.helper.appendTo(d._parent),d._refreshOffsets(b),c.position=d._generatePosition(b,!0),d._trigger("fromSortable",b),d.dropped=!1,a.each(d.sortables,function(){this.refreshPositions()}))})}});a.ui.plugin.add("draggable","cursor",{start:function(b,c,d){b=a("body");d=d.options;b.css("cursor")&&(d._cursor=b.css("cursor"));b.css("cursor",d.cursor)},stop:function(b,c,d){b=d.options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","opacity",
{start:function(b,c,d){b=a(c.helper);d=d.options;b.css("opacity")&&(d._opacity=b.css("opacity"));b.css("opacity",d.opacity)},stop:function(b,c,d){b=d.options;b._opacity&&a(c.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(a,b,c){c.scrollParentNotHidden||(c.scrollParentNotHidden=c.helper.scrollParent(!1));c.scrollParentNotHidden[0]!==c.document[0]&&"HTML"!==c.scrollParentNotHidden[0].tagName&&(c.overflowOffset=c.scrollParentNotHidden.offset())},drag:function(b,
c,d){c=d.options;var g=!1,e=d.scrollParentNotHidden[0],h=d.document[0];e!==h&&"HTML"!==e.tagName?(c.axis&&"x"===c.axis||(d.overflowOffset.top+e.offsetHeight-b.pageY<c.scrollSensitivity?e.scrollTop=g=e.scrollTop+c.scrollSpeed:b.pageY-d.overflowOffset.top<c.scrollSensitivity&&(e.scrollTop=g=e.scrollTop-c.scrollSpeed)),c.axis&&"y"===c.axis||(d.overflowOffset.left+e.offsetWidth-b.pageX<c.scrollSensitivity?e.scrollLeft=g=e.scrollLeft+c.scrollSpeed:b.pageX-d.overflowOffset.left<c.scrollSensitivity&&(e.scrollLeft=
g=e.scrollLeft-c.scrollSpeed))):(c.axis&&"x"===c.axis||(b.pageY-a(h).scrollTop()<c.scrollSensitivity?g=a(h).scrollTop(a(h).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(h).scrollTop())<c.scrollSensitivity&&(g=a(h).scrollTop(a(h).scrollTop()+c.scrollSpeed))),c.axis&&"y"===c.axis||(b.pageX-a(h).scrollLeft()<c.scrollSensitivity?g=a(h).scrollLeft(a(h).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(h).scrollLeft())<c.scrollSensitivity&&(g=a(h).scrollLeft(a(h).scrollLeft()+c.scrollSpeed))));
!1!==g&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}});a.ui.plugin.add("draggable","snap",{start:function(b,c,d){b=d.options;d.snapElements=[];a(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var b=a(this),c=b.offset();this!==d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c,d){var g,e,h,k,f,n,m,l,v,t,r=d.options,q=r.snapTolerance,u=c.offset.left,z=
u+d.helperProportions.width,p=c.offset.top,y=p+d.helperProportions.height;for(v=d.snapElements.length-1;0<=v;v--)f=d.snapElements[v].left-d.margins.left,n=f+d.snapElements[v].width,m=d.snapElements[v].top-d.margins.top,l=m+d.snapElements[v].height,z<f-q||u>n+q||y<m-q||p>l+q||!a.contains(d.snapElements[v].item.ownerDocument,d.snapElements[v].item)?(d.snapElements[v].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[v].item})),d.snapElements[v].snapping=
!1):("inner"!==r.snapMode&&(g=Math.abs(m-y)<=q,e=Math.abs(l-p)<=q,h=Math.abs(f-z)<=q,k=Math.abs(n-u)<=q,g&&(c.position.top=d._convertPositionTo("relative",{top:m-d.helperProportions.height,left:0}).top),e&&(c.position.top=d._convertPositionTo("relative",{top:l,left:0}).top),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:f-d.helperProportions.width}).left),k&&(c.position.left=d._convertPositionTo("relative",{top:0,left:n}).left)),t=g||e||h||k,"outer"!==r.snapMode&&(g=Math.abs(m-p)<=
q,e=Math.abs(l-y)<=q,h=Math.abs(f-u)<=q,k=Math.abs(n-z)<=q,g&&(c.position.top=d._convertPositionTo("relative",{top:m,left:0}).top),e&&(c.position.top=d._convertPositionTo("relative",{top:l-d.helperProportions.height,left:0}).top),h&&(c.position.left=d._convertPositionTo("relative",{top:0,left:f}).left),k&&(c.position.left=d._convertPositionTo("relative",{top:0,left:n-d.helperProportions.width}).left)),!d.snapElements[v].snapping&&(g||e||h||k||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,
b,a.extend(d._uiHash(),{snapItem:d.snapElements[v].item})),d.snapElements[v].snapping=g||e||h||k||t)}});a.ui.plugin.add("draggable","stack",{start:function(b,c,d){var g;b=a.makeArray(a(d.options.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});b.length&&(g=parseInt(a(b[0]).css("zIndex"),10)||0,a(b).each(function(b){a(this).css("zIndex",g+b)}),this.css("zIndex",g+b.length))}});a.ui.plugin.add("draggable","zIndex",{start:function(b,c,d){b=
a(c.helper);d=d.options;b.css("zIndex")&&(d._zIndex=b.css("zIndex"));b.css("zIndex",d.zIndex)},stop:function(b,c,d){b=d.options;b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}});a.widget("ui.resizable",a.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,
stop:null},_num:function(a){return parseInt(a,10)||0},_isNumber:function(a){return!isNaN(parseInt(a,10))},_hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;c=c&&"left"===c?"scrollLeft":"scrollTop";var d;if(0<b[c])return!0;b[c]=1;d=0<b[c];b[c]=0;return d},_create:function(){var b,c,d,e,h,k=this,f=this.options;this.element.addClass("ui-resizable");a.extend(this,{_aspectRatio:!!f.aspectRatio,aspectRatio:f.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:f.helper||
f.ghost||f.animate?f.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=
!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,
display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize());this.handles=f.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");this._handles=a();if(this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),
this.handles={},c=0;c<b.length;c++)d=a.trim(b[c]),h="ui-resizable-"+d,e=a("<div class='ui-resizable-handle "+h+"'></div>"),e.css({zIndex:f.zIndex}),"se"===d&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(e);this._renderAxis=function(b){var c,d,g;b=b||this.element;for(c in this.handles){if(this.handles[c].constructor===String)this.handles[c]=this.element.children(this.handles[c]).first().show();else if(this.handles[c].jquery||this.handles[c].nodeType)this.handles[c]=
a(this.handles[c]),this._on(this.handles[c],{mousedown:k._mouseDown});this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(d=a(this.handles[c],this.element),g=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),d=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(d,g),this._proportionallyResize());this._handles=this._handles.add(this.handles[c])}};this._renderAxis(this.element);this._handles=
this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.mouseover(function(){k.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),k.axis=e&&e[1]?e[1]:"se")});f.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){f.disabled||(a(this).removeClass("ui-resizable-autohide"),k._handles.show())}).mouseleave(function(){f.disabled||k.resizing||(a(this).addClass("ui-resizable-autohide"),
k._handles.hide())}));this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove());
this.originalElement.css("resize",this.originalResizeStyle);c(this.originalElement);return this},_mouseCapture:function(b){var c,d,g=!1;for(c in this.handles)if(d=a(this.handles[c])[0],d===b.target||a.contains(d,b.target))g=!0;return!this.options.disabled&&g},_mouseStart:function(b){var c,d,g=this.options,e=this.element;this.resizing=!0;this._renderProxy();c=this._num(this.helper.css("left"));d=this._num(this.helper.css("top"));g.containment&&(c+=a(g.containment).scrollLeft()||0,d+=a(g.containment).scrollTop()||
0);this.offset=this.helper.offset();this.position={left:c,top:d};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalPosition={left:c,top:d};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio="number"===typeof g.aspectRatio?
g.aspectRatio:this.originalSize.width/this.originalSize.height||1;c=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor","auto"===c?this.axis+"-resize":c);e.addClass("ui-resizable-resizing");this._propagate("start",b);return!0},_mouseDrag:function(b){var c,d=this.originalMousePosition;c=b.pageX-d.left||0;var d=b.pageY-d.top||0,g=this._change[this.axis];this._updatePrevProperties();if(!g)return!1;c=g.apply(this,[b,c,d]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||
b.shiftKey)c=this._updateRatio(c,b);c=this._respectSize(c,b);this._updateCache(c);this._propagate("resize",b);c=this._applyChanges();!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();a.isEmptyObject(c)||(this._updatePrevProperties(),this._trigger("resize",b,this.ui()),this._applyChanges());return!1},_mouseStop:function(b){this.resizing=!1;var c,d,g,e=this.options;this._helper&&(c=this._proportionallyResizeElements,c=(d=c.length&&/textarea/i.test(c[0].nodeName))&&
this._hasScroll(c[0],"left")?0:this.sizeDiff.height,d=d?0:this.sizeDiff.width,d={width:this.helper.width()-d,height:this.helper.height()-c},c=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,g=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null,e.animate||this.element.css(a.extend(d,{top:g,left:c})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!e.animate&&this._proportionallyResize());
a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px");this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px");this.size.width!==
this.prevSize.width&&(a.width=this.size.width+"px");this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px");this.helper.css(a);return a},_updateVirtualBoundaries:function(a){var b,c,d,g;g=this.options;g={minWidth:this._isNumber(g.minWidth)?g.minWidth:0,maxWidth:this._isNumber(g.maxWidth)?g.maxWidth:Infinity,minHeight:this._isNumber(g.minHeight)?g.minHeight:0,maxHeight:this._isNumber(g.maxHeight)?g.maxHeight:Infinity};if(this._aspectRatio||a)a=g.minHeight*this.aspectRatio,c=g.minWidth/
this.aspectRatio,b=g.maxHeight*this.aspectRatio,d=g.maxWidth/this.aspectRatio,a>g.minWidth&&(g.minWidth=a),c>g.minHeight&&(g.minHeight=c),b<g.maxWidth&&(g.maxWidth=b),d<g.maxHeight&&(g.maxHeight=d);this._vBoundaries=g},_updateCache:function(a){this.offset=this.helper.offset();this._isNumber(a.left)&&(this.position.left=a.left);this._isNumber(a.top)&&(this.position.top=a.top);this._isNumber(a.height)&&(this.size.height=a.height);this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=
this.position,c=this.size,d=this.axis;this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio);"sw"===d&&(a.left=b.left+(c.width-a.width),a.top=null);"nw"===d&&(a.top=b.top+(c.height-a.height),a.left=b.left+(c.width-a.width));return a},_respectSize:function(a){var b=this._vBoundaries,c=this.axis,d=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,g=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,e=this._isNumber(a.width)&&
b.minWidth&&b.minWidth>a.width,h=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,k=this.originalPosition.left+this.originalSize.width,f=this.position.top+this.size.height,n=/sw|nw|w/.test(c),c=/nw|ne|n/.test(c);e&&(a.width=b.minWidth);h&&(a.height=b.minHeight);d&&(a.width=b.maxWidth);g&&(a.height=b.maxHeight);e&&n&&(a.left=k-b.minWidth);d&&n&&(a.left=k-b.maxWidth);h&&c&&(a.top=f-b.minHeight);g&&c&&(a.top=f-b.maxHeight);a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||
(a.left=null):a.top=null;return a},_getPaddingPlusBorderDimensions:function(a){var b=0,c=[],d=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")];for(a=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>b;b++)c[b]=parseInt(d[b],10)||0,c[b]+=parseInt(a[b],10)||0;return{height:c[0]+c[2],width:c[1]+c[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,b=0,c=this.helper||
this.element;b<this._proportionallyResizeElements.length;b++)a=this._proportionallyResizeElements[b],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:c.height()-this.outerDimensions.height||0,width:c.width()-this.outerDimensions.width||0})},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-
1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){return{left:this.originalPosition.left+b,width:this.originalSize.width-b}},n:function(a,b,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(a,b,c){return{height:this.originalSize.height+
c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]);
"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).resizable("instance"),d=c.options,g=c._proportionallyResizeElements,e=g.length&&/textarea/i.test(g[0].nodeName),h=e&&c._hasScroll(g[0],"left")?0:c.sizeDiff.height,e={width:c.size.width-
(e?0:c.sizeDiff.width),height:c.size.height-h},h=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(e,k&&h?{top:k,left:h}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),
10)};g&&g.length&&a(g[0]).css({width:d.width,height:d.height});c._updateCache(d);c._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var b,c,d,e,h,k=a(this).resizable("instance"),f=k.element;d=k.options.containment;if(f=d instanceof a?d.get(0):/parent/.test(d)?f.parent().get(0):d)k.containerElement=a(f),/document/.test(d)||d===document?(k.containerOffset={left:0,top:0},k.containerPosition={left:0,top:0},k.parentData={element:a(document),left:0,top:0,width:a(document).width(),
height:a(document).height()||document.body.parentNode.scrollHeight}):(b=a(f),c=[],a(["Top","Right","Left","Bottom"]).each(function(a,d){c[a]=k._num(b.css("padding"+d))}),k.containerOffset=b.offset(),k.containerPosition=b.position(),k.containerSize={height:b.innerHeight()-c[3],width:b.innerWidth()-c[1]},d=k.containerOffset,e=k.containerSize.height,h=k.containerSize.width,h=k._hasScroll(f,"left")?f.scrollWidth:h,e=k._hasScroll(f)?f.scrollHeight:e,k.parentData={element:f,left:d.left,top:d.top,width:h,
height:e})},resize:function(b){var c,d,g,e=a(this).resizable("instance");c=e.options;d=e.containerOffset;g=e.position;b=e._aspectRatio||b.shiftKey;var h={top:0,left:0},k=e.containerElement,f=!0;k[0]!==document&&/static/.test(k.css("position"))&&(h=d);g.left<(e._helper?d.left:0)&&(e.size.width+=e._helper?e.position.left-d.left:e.position.left-h.left,b&&(e.size.height=e.size.width/e.aspectRatio,f=!1),e.position.left=c.helper?d.left:0);g.top<(e._helper?d.top:0)&&(e.size.height+=e._helper?e.position.top-
d.top:e.position.top,b&&(e.size.width=e.size.height*e.aspectRatio,f=!1),e.position.top=e._helper?d.top:0);c=e.containerElement.get(0)===e.element.parent().get(0);g=/relative|absolute/.test(e.containerElement.css("position"));c&&g?(e.offset.left=e.parentData.left+e.position.left,e.offset.top=e.parentData.top+e.position.top):(e.offset.left=e.element.offset().left,e.offset.top=e.element.offset().top);c=Math.abs(e.sizeDiff.width+(e._helper?e.offset.left-h.left:e.offset.left-d.left));d=Math.abs(e.sizeDiff.height+
(e._helper?e.offset.top-h.top:e.offset.top-d.top));c+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-c,b&&(e.size.height=e.size.width/e.aspectRatio,f=!1));d+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-d,b&&(e.size.width=e.size.height*e.aspectRatio,f=!1));f||(e.position.left=e.prevPosition.left,e.position.top=e.prevPosition.top,e.size.width=e.prevSize.width,e.size.height=e.prevSize.height)},stop:function(){var b=a(this).resizable("instance"),c=b.options,
d=b.containerOffset,e=b.containerPosition,h=b.containerElement,k=a(b.helper),f=k.offset(),n=k.outerWidth()-b.sizeDiff.width,k=k.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(h.css("position"))&&a(this).css({left:f.left-e.left-d.left,width:n,height:k});b._helper&&!c.animate&&/static/.test(h.css("position"))&&a(this).css({left:f.left-e.left-d.left,width:n,height:k})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).resizable("instance").options;a(b.alsoResize).each(function(){var b=
a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})},resize:function(b,c){b=a(this).resizable("instance");var d=b.originalSize,g=b.originalPosition,e={height:b.size.height-d.height||0,width:b.size.width-d.width||0,top:b.position.top-g.top||0,left:b.position.left-g.left||0};a(b.options.alsoResize).each(function(){var b=a(this),d=a(this).data("ui-resizable-alsoresize"),g={},h=b.parents(c.originalElement[0]).length?
["width","height"]:["width","height","top","left"];a.each(h,function(a,b){(a=(d[b]||0)+(e[b]||0))&&0<=a&&(g[b]=a||null)});b.css(g)})},stop:function(){a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).resizable("instance"),c=b.options,d=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"===
typeof c.ghost?c.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).resizable("instance");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).resizable("instance");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var b,c=a(this).resizable("instance"),d=c.options,e=c.size,h=c.originalSize,k=c.originalPosition,f=c.axis,n="number"===typeof d.grid?[d.grid,
d.grid]:d.grid,m=n[0]||1,l=n[1]||1,t=Math.round((e.width-h.width)/m)*m,e=Math.round((e.height-h.height)/l)*l,r=h.width+t,q=h.height+e,u=d.maxWidth&&d.maxWidth<r,p=d.maxHeight&&d.maxHeight<q,y=d.minWidth&&d.minWidth>r,w=d.minHeight&&d.minHeight>q;d.grid=n;y&&(r+=m);w&&(q+=l);u&&(r-=m);p&&(q-=l);if(/^(se|s|e)$/.test(f))c.size.width=r,c.size.height=q;else if(/^(ne)$/.test(f))c.size.width=r,c.size.height=q,c.position.top=k.top-e;else if(/^(sw)$/.test(f))c.size.width=r,c.size.height=q,c.position.left=
k.left-t;else{if(0>=q-l||0>=r-m)b=c._getPaddingPlusBorderDimensions(this);0<q-l?(c.size.height=q,c.position.top=k.top-e):(q=l-b.height,c.size.height=q,c.position.top=k.top+h.height-q);0<r-m?(c.size.width=r,c.position.left=k.left-t):(r=m-b.width,c.size.width=r,c.position.left=k.left+h.width-r)}}});a.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,
minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,
minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");this.options.title=this.options.title||this.originalTitle;this._createWrapper();this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);
this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();
this.uiDialog.stop(!0,!0).remove();this.originalTitle&&this.element.attr("title",this.originalTitle);a=b.parent.children().eq(b.index);a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c,d=this;if(this._isOpen&&!1!==this._trigger("beforeClose",b)){this._isOpen=!1;this._focusedElement=null;this._destroyOverlay();this._untrackInstance();if(!this.opener.filter(":focusable").focus().length)try{(c=
this.document[0].activeElement)&&"body"!==c.nodeName.toLowerCase()&&a(c).blur()}catch(B){}this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",b)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,c){var d=!1,g=this.uiDialog.siblings(".ui-front:visible").map(function(){return+a(this).css("z-index")}).get(),g=Math.max.apply(null,g);g>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",g+1),d=!0);d&&!c&&this._trigger("focus",
b);return d},open:function(){var b=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();b._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;
a||(a=this.element.find("[autofocus]"));a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).focus()},_keepFocus:function(b){function c(){var b=this.document[0].activeElement;this.uiDialog[0]===b||a.contains(this.uiDialog[0],b)||this._focusTabbable()}b.preventDefault();c.call(this);this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+
this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)b.preventDefault(),this.close(b);else if(b.keyCode===a.ui.keyCode.TAB&&!b.isDefaultPrevented()){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),g=c.filter(":last");b.target!==g[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||
!b.shiftKey||(this._delay(function(){g.focus()}),b.preventDefault()):(this._delay(function(){d.focus()}),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);this._on(this.uiDialogTitlebar,
{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}});this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);this._title(b);
this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;");a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();
a.isEmptyObject(c)||a.isArray(c)&&!c.length?this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(c,function(c,d){var g;d=a.isFunction(d)?{click:d,text:c}:d;d=a.extend({type:"button"},d);g=d.click;d.click=function(){g.apply(b.element[0],arguments)};c={icons:d.icons,text:d.showText};delete d.icons;delete d.showText;a("<button></button>",d).button(c).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,
offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,g){a(this).addClass("ui-dialog-dragging");c._blockFrames();c._trigger("dragStart",d,b(g))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(g,e){var h=e.offset.left-c.document.scrollLeft(),k=e.offset.top-c.document.scrollTop();d.position={my:"left top",at:"left"+(0<=h?"+":"")+h+" top"+(0<=k?"+":"")+
k,of:c.window};a(this).removeClass("ui-dialog-dragging");c._unblockFrames();c._trigger("dragStop",g,b(e))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,h=this.uiDialog.css("position"),e="string"===typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,
minWidth:d.minWidth,minHeight:this._minHeight(),handles:e,start:function(d,g){a(this).addClass("ui-dialog-resizing");c._blockFrames();c._trigger("resizeStart",d,b(g))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(g,e){var h=c.uiDialog.offset(),k=h.left-c.document.scrollLeft(),h=h.top-c.document.scrollTop();d.height=c.uiDialog.height();d.width=c.uiDialog.width();d.position={my:"left top",at:"left"+(0<=k?"+":"")+k+" top"+(0<=h?"+":"")+h,of:c.window};a(this).removeClass("ui-dialog-resizing");
c._unblockFrames();c._trigger("resizeStop",g,b(e))}}).css("position",h)},_trackFocus:function(){this._on(this.widget(),{focusin:function(b){this._makeFocusTarget();this._focusedElement=a(b.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),c=a.inArray(this,b);-1!==c&&b.splice(c,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");a||(a=[],this.document.data("ui-dialog-instances",
a));return a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(b){var c=this,d=!1,g={};a.each(b,function(a,b){c._setOption(a,b);a in c.sizeRelatedOptions&&(d=!0);a in c.resizableRelatedOptions&&(g[a]=b)});d&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&
this.uiDialog.resizable("option",g)},_setOption:function(a,b){var c,d=this.uiDialog;"dialogClass"===a&&d.removeClass(this.options.dialogClass).addClass(b);"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===a&&((c=d.is(":data(ui-draggable)"))&&!b&&d.draggable("destroy"),!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===
a&&((c=d.is(":data(ui-resizable)"))&&!b&&d.resizable("destroy"),c&&"string"===typeof b&&d.resizable("option","handles",b),c||!1===b||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});d.minWidth>d.width&&(d.width=d.minWidth);a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight();b=Math.max(0,d.minHeight-a);c="number"===typeof d.maxHeight?
Math.max(0,d.maxHeight-a):"none";"auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&
(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=!0;this._delay(function(){b=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(a){b||this._allowInteraction(a)||(a.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());
this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):this.document.unbind("focusin").removeData("ui-dialog-overlays");this.overlay.remove();this.overlay=null}}});a.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,
addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,d=c.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(d)?d:function(a){return a.is(d)};this.proportions=function(){if(arguments.length)b=arguments[0];else return b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(c.scope);c.addClasses&&this.element.addClass("ui-droppable")},
_addToManager:function(b){a.ui.ddmanager.droppables[b]=a.ui.ddmanager.droppables[b]||[];a.ui.ddmanager.droppables[b].push(this)},_splice:function(a){for(var b=0;b<a.length;b++)a[b]===this&&a.splice(b,1)},_destroy:function(){this._splice(a.ui.ddmanager.droppables[this.options.scope]);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"===b?this.accept=a.isFunction(c)?c:function(a){return a.is(c)}:"scope"===b&&(this._splice(a.ui.ddmanager.droppables[this.options.scope]),
this._addToManager(c));this._super(b,c)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass);c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],
c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,g=!1;if(!d||(d.currentItem||d.element)[0]===
this.element[0])return!1;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var c=a(this).droppable("instance");if(c.options.greedy&&!c.options.disabled&&c.options.scope===d.options.scope&&c.accept.call(c.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(c,{offset:c.element.offset()}),c.options.tolerance,b))return g=!0,!1});return g?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),
this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});a.ui.intersect=function(){return function(a,b,c,d){if(!b.offset)return!1;var g=(a.positionAbs||a.position.absolute).left+a.margins.left,e=(a.positionAbs||a.position.absolute).top+a.margins.top,h=g+a.helperProportions.width,k=e+a.helperProportions.height,f=
b.offset.left,n=b.offset.top,m=f+b.proportions().width,l=n+b.proportions().height;switch(c){case "fit":return f<=g&&h<=m&&n<=e&&k<=l;case "intersect":return f<g+a.helperProportions.width/2&&h-a.helperProportions.width/2<m&&n<e+a.helperProportions.height/2&&k-a.helperProportions.height/2<l;case "pointer":a=d.pageY;c=b.proportions().height;if(n=a>=n&&a<n+c)d=d.pageX,b=b.proportions().width,n=d>=f&&d<f+b;return n;case "touch":return(e>=n&&e<=l||k>=n&&k<=l||e<n&&k>l)&&(g>=f&&g<=m||h>=f&&h<=m||g<f&&h>
m);default:return!1}}}();a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d,g,e=a.ui.ddmanager.droppables[b.options.scope]||[],h=c?c.type:null,k=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();d=0;a:for(;d<e.length;d++)if(!(e[d].options.disabled||b&&!e[d].accept.call(e[d].element[0],b.currentItem||b.element))){for(g=0;g<k.length;g++)if(k[g]===e[d].element[0]){e[d].proportions().height=0;continue a}e[d].visible="none"!==e[d].element.css("display");
e[d].visible&&("mousedown"===h&&e[d]._activate.call(e[d],c),e[d].offset=e[d].element.offset(),e[d].proportions({width:e[d].element[0].offsetWidth,height:e[d].element[0].offsetHeight}))}},drop:function(b,c){var d=!1;a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance,c)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||
b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))});return d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,g,e;e=a.ui.intersect(b,this,this.options.tolerance,
c);var h=!e&&this.isover?"isout":e&&!this.isover?"isover":null;h&&(this.options.greedy&&(g=this.options.scope,e=this.element.parents(":data(ui-droppable)").filter(function(){return a(this).droppable("instance").options.scope===g}),e.length&&(d=a(e[0]).droppable("instance"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,
c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable");b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}};a.effects={effect:{}};(function(a,b){function c(a,b,c){var d=n[b.type]||{};if(null==a)return c||!b.def?null:b.def;a=d.floor?~~a:parseFloat(a);return isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a}function d(b){var c=k(),d=c._rgba=[];b=b.toLowerCase();t(h,function(a,g){a=(a=g.re.exec(b))&&g.parse(a);g=g.space||"rgba";if(a)return a=c[g](a),
c[f[g].cache]=a[f[g].cache],d=c._rgba=a._rgba,!1});return d.length?("0,0,0,0"===d.join()&&a.extend(d,r.transparent),c):r[b]}function g(a,b,c){c=(c+1)%1;return 1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var e=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*
a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],k=a.Color=function(b,c,
d,g){return new a.Color.fn.parse(b,c,d,g)},f={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},n={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=k.support={},l=a("<p>")[0],r,t=a.each;l.style.cssText="background-color:rgba(1,1,1,.5)";m.rgba=-1<l.style.backgroundColor.indexOf("rgba");t(f,function(a,b){b.cache="_"+a;b.props.alpha=
{idx:3,type:"percent",def:1}});k.fn=a.extend(k.prototype,{parse:function(g,e,h,n){if(g===b)return this._rgba=[null,null,null,null],this;if(g.jquery||g.nodeType)g=a(g).css(e),e=b;var m=this,l=a.type(g),v=this._rgba=[];e!==b&&(g=[g,e,h,n],l="array");if("string"===l)return this.parse(d(g)||r._default);if("array"===l)return t(f.rgba.props,function(a,b){v[b.idx]=c(g[b.idx],b)}),this;if("object"===l)return g instanceof k?t(f,function(a,b){g[b.cache]&&(m[b.cache]=g[b.cache].slice())}):t(f,function(b,d){var e=
d.cache;t(d.props,function(a,b){if(!m[e]&&d.to){if("alpha"===a||null==g[a])return;m[e]=d.to(m._rgba)}m[e][b.idx]=c(g[a],b,!0)});m[e]&&0>a.inArray(null,m[e].slice(0,3))&&(m[e][3]=1,d.from&&(m._rgba=d.from(m[e])))}),this},is:function(a){var b=k(a),c=!0,d=this;t(f,function(a,g){var e,h=b[g.cache];h&&(e=d[g.cache]||g.to&&g.to(d._rgba)||[],t(g.props,function(a,b){if(null!=h[b.idx])return c=h[b.idx]===e[b.idx]}));return c});return c},_space:function(){var a=[],b=this;t(f,function(c,d){b[d.cache]&&a.push(c)});
return a.pop()},transition:function(a,b){var d=k(a);a=d._space();var g=f[a],e=0===this.alpha()?k("transparent"):this,h=e[g.cache]||g.to(e._rgba),m=h.slice(),d=d[g.cache];t(g.props,function(a,g){a=g.idx;var e=h[a],k=d[a],f=n[g.type]||{};null!==k&&(null===e?m[a]=k:(f.mod&&(k-e>f.mod/2?e+=f.mod:e-k>f.mod/2&&(e-=f.mod)),m[a]=c((k-e)*b+e,g)))});return this[a](m)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),g=k(b)._rgba;return k(a.map(c,function(a,b){return(1-d)*
g[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});1===c[3]&&(c.pop(),b="rgb(");return b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){null==a&&(a=2<b?1:0);b&&3>b&&(a=Math.round(100*a)+"%");return a});1===c[3]&&(c.pop(),b="hsl(");return b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();b&&c.push(~~(255*d));return"#"+a.map(c,function(a){a=(a||0).toString(16);return 1===a.length?
"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});k.fn.parse.prototype=k.fn;f.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,c=a[1]/255,d=a[2]/255;a=a[3];var g=Math.max(b,c,d),e=Math.min(b,c,d),h=g-e,k=g+e,f=.5*k;return[Math.round(e===g?0:b===g?60*(c-d)/h+360:c===g?60*(d-b)/h+120:60*(b-c)/h+240)%360,0===h?0:.5>=f?h/k:h/(2-k),f,null==a?1:a]};f.hsla.from=function(a){if(null==a[0]||null==a[1]||null==
a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2];a=a[3];c=.5>=d?d*(1+c):d+c-d*c;d=2*d-c;return[Math.round(255*g(d,c,b+1/3)),Math.round(255*g(d,c,b)),Math.round(255*g(d,c,b-1/3)),a]};t(f,function(d,g){var h=g.props,f=g.cache,n=g.to,m=g.from;k.fn[d]=function(d){n&&!this[f]&&(this[f]=n(this._rgba));if(d===b)return this[f].slice();var g,e=a.type(d),l="array"===e||"object"===e?d:arguments,r=this[f].slice();t(h,function(a,b){a=l["object"===e?a:b.idx];null==a&&(a=r[b.idx]);r[b.idx]=c(a,b)});
return m?(g=k(m(r)),g[f]=r,g):k(r)};t(h,function(b,c){k.fn[b]||(k.fn[b]=function(g){var h=a.type(g),k="alpha"===b?this._hsla?"hsla":"rgba":d,f=this[k](),n=f[c.idx];if("undefined"===h)return n;"function"===h&&(g=g.call(this,n),h=a.type(g));if(null==g&&c.empty)return this;"string"===h&&(h=e.exec(g))&&(g=n+parseFloat(h[2])*("+"===h[1]?1:-1));f[c.idx]=g;return this[k](f)})})});k.hook=function(b){b=b.split(" ");t(b,function(b,c){a.cssHooks[c]={set:function(b,g){var e,h="";if("transparent"!==g&&("string"!==
a.type(g)||(e=d(g)))){g=k(e||g);if(!m.rgba&&1!==g._rgba[3]){for(e="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&e&&e.style;)try{h=a.css(e,"backgroundColor"),e=e.parentNode}catch(ba){}g=g.blend(h&&"transparent"!==h?h:"_default")}g=g.toRgbaString()}try{b.style[c]=g}catch(ba){}}};a.fx.step[c]=function(b){b.colorInit||(b.start=k(b.elem,c),b.end=k(b.end),b.colorInit=!0);a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})};k.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");
a.cssHooks.borderColor={expand:function(a){var b={};t(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a});return b}};r=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(a);(function(){function b(b){var c,d=b.ownerDocument.defaultView?
b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,g={};if(d&&d.length&&d[0]&&d[d[0]])for(b=d.length;b--;)c=d[b],"string"===typeof d[c]&&(g[a.camelCase(c)]=d[c]);else for(c in d)"string"===typeof d[c]&&(g[c]=d[c]);return g}var c=["add","remove","toggle"],d={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(b){if("none"!==
b.end&&!b.setAttr||1===b.pos&&!b.setAttr)a.style(b.elem,c,b.end),b.setAttr=!0}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(g,e,h,k){var f=a.speed(e,h,k);return this.queue(function(){var e=a(this),h=e.attr("class")||"",k,n=f.children?e.find("*").addBack():e,n=n.map(function(){return{el:a(this),start:b(this)}});k=function(){a.each(c,function(a,b){if(g[b])e[b+"Class"](g[b])})};k();n=n.map(function(){this.end=
b(this.el[0]);var c=this.start,g=this.end,e={},h,k;for(h in g)k=g[h],c[h]===k||d[h]||!a.fx.step[h]&&isNaN(parseFloat(k))||(e[h]=k);this.diff=e;return this});e.attr("class",h);n=n.map(function(){var b=this,c=a.Deferred(),d=a.extend({},f,{queue:!1,complete:function(){c.resolve(b)}});this.el.animate(this.diff,d);return c.promise()});a.when.apply(a,n.get()).done(function(){k();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});f.complete.call(e[0])})})};a.fn.extend({addClass:function(b){return function(c,
d,g,e){return d?a.effects.animateClass.call(this,{add:c},d,g,e):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,g,e){return 1<arguments.length?a.effects.animateClass.call(this,{remove:c},d,g,e):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(c,d,g,e,h){return"boolean"===typeof d||void 0===d?g?a.effects.animateClass.call(this,d?{add:c}:{remove:c},g,e,h):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:c},d,g,e)}}(a.fn.toggleClass),
switchClass:function(b,c,d,g,e){return a.effects.animateClass.call(this,{add:c,remove:b},d,g,e)}})})();(function(){function b(b,c,d,g){a.isPlainObject(b)&&(c=b,b=b.effect);b={effect:b};null==c&&(c={});a.isFunction(c)&&(g=c,d=null,c={});if("number"===typeof c||a.fx.speeds[c])g=d,d=c,c={};a.isFunction(d)&&(g=d,d=null);c&&a.extend(b,c);d=d||c.duration;b.duration=a.fx.off?0:"number"===typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default;b.complete=g||c.complete;return b}function c(b){return!b||
"number"===typeof b||a.fx.speeds[b]||"string"===typeof b&&!a.effects.effect[b]||a.isFunction(b)||"object"===typeof b&&!b.effect?!0:!1}a.extend(a.effects,{version:"1.11.4",save:function(a,b){for(var c=0;c<b.length;c++)null!==b[c]&&a.data("ui-effects-"+b[c],a[0].style[b[c]])},restore:function(a,b){var c,d;for(d=0;d<b.length;d++)null!==b[d]&&(c=a.data("ui-effects-"+b[d]),void 0===c&&(c=""),a.css(b[d],c))},setMode:function(a,b){"toggle"===b&&(b=a.is(":hidden")?"show":"hide");return b},getBaseline:function(a,
b){var c;switch(a[0]){case "top":c=0;break;case "middle":c=.5;break;case "bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case "left":a=0;break;case "center":a=.5;break;case "right":a=1;break;default:a=a[1]/b.width}return{x:a,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",
margin:0,padding:0}),g={width:b.width(),height:b.height()},e=document.activeElement;try{e.id}catch(E){e=document.body}b.wrap(d);(b[0]===e||a.contains(b[0],e))&&a(e).focus();d=b.parent();"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d);isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",
bottom:"auto"}));b.css(g);return d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus());return b},setTransition:function(b,c,d,g){g=g||{};a.each(c,function(a,c){a=b.cssUnit(c);0<a[0]&&(g[c]=a[0]*d+a[1])});return g}});a.fn.extend({effect:function(){function c(b){function c(){a.isFunction(e)&&e.call(g[0]);a.isFunction(b)&&b()}var g=a(this),e=d.complete,k=d.mode;(g.is(":hidden")?
"hide"===k:"show"===k)?(g[k](),c()):h.call(g[0],d,c)}var d=b.apply(this,arguments),g=d.mode,e=d.queue,h=a.effects.effect[d.effect];return a.fx.off||!h?g?this[g](d.duration,d.complete):this.each(function(){d.complete&&d.complete.call(this)}):!1===e?this.each(c):this.queue(e||"fx",c)},show:function(a){return function(d){if(c(d))return a.apply(this,arguments);var g=b.apply(this,arguments);g.mode="show";return this.effect.call(this,g)}}(a.fn.show),hide:function(a){return function(d){if(c(d))return a.apply(this,
arguments);var g=b.apply(this,arguments);g.mode="hide";return this.effect.call(this,g)}}(a.fn.hide),toggle:function(a){return function(d){if(c(d)||"boolean"===typeof d)return a.apply(this,arguments);var g=b.apply(this,arguments);g.mode="toggle";return this.effect.call(this,g)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];a.each(["em","px","%","pt"],function(a,b){0<c.indexOf(b)&&(d=[parseFloat(c),b])});return d}})})();(function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],
function(a,c){b[c]=function(b){return Math.pow(b,a+2)}});a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}});a.each(b,function(b,c){a.easing["easeIn"+b]=c;a.easing["easeOut"+b]=function(a){return 1-
c(1-a)};a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})})();a.effects.effect.blind=function(b,c){var d=a(this),g="position top bottom left right height width".split(" "),e=a.effects.setMode(d,b.mode||"hide"),h=b.direction||"up",k=/up|down|vertical/.test(h),f=k?"height":"width",n=k?"top":"left",h=/up|left|vertical|horizontal/.test(h),m={},l="show"===e,r,t,v;d.parent().is(".ui-effects-wrapper")?a.effects.save(d.parent(),g):a.effects.save(d,g);d.show();r=a.effects.createWrapper(d).css({overflow:"hidden"});
t=r[f]();v=parseFloat(r.css(n))||0;m[f]=l?t:0;h||(d.css(k?"bottom":"right",0).css(k?"top":"left","auto").css({position:"absolute"}),m[n]=l?v:t+v);l&&(r.css(f,0),h||r.css(n,v+t));r.animate(m,{duration:b.duration,easing:b.easing,queue:!1,complete:function(){"hide"===e&&d.hide();a.effects.restore(d,g);a.effects.removeWrapper(d);c()}})};a.effects.effect.bounce=function(b,c){var d=a(this),g="position top bottom left right height width".split(" "),e=a.effects.setMode(d,b.mode||"effect"),h="hide"===e,k=
"show"===e,f=b.direction||"up",e=b.distance,n=b.times||5,m=2*n+(k||h?1:0),l=b.duration/m;b=b.easing;var r="up"===f||"down"===f?"top":"left",f="up"===f||"left"===f,t,v,q=d.queue(),u=q.length;(k||h)&&g.push("opacity");a.effects.save(d,g);d.show();a.effects.createWrapper(d);e||(e=d["top"===r?"outerHeight":"outerWidth"]()/3);k&&(v={opacity:1},v[r]=0,d.css("opacity",0).css(r,f?2*-e:2*e).animate(v,l,b));h&&(e/=Math.pow(2,n-1));v={};for(k=v[r]=0;k<n;k++)t={},t[r]=(f?"-=":"+=")+e,d.animate(t,l,b).animate(v,
l,b),e=h?2*e:e/2;h&&(t={opacity:0},t[r]=(f?"-=":"+=")+e,d.animate(t,l,b));d.queue(function(){h&&d.hide();a.effects.restore(d,g);a.effects.removeWrapper(d);c()});1<u&&q.splice.apply(q,[1,0].concat(q.splice(u,m+1)));d.dequeue()};a.effects.effect.clip=function(b,c){var d=a(this),g="position top bottom left right height width".split(" "),e="show"===a.effects.setMode(d,b.mode||"hide"),h="vertical"===(b.direction||"vertical"),k=h?"height":"width",h=h?"top":"left",f={},n,m;a.effects.save(d,g);d.show();n=
a.effects.createWrapper(d).css({overflow:"hidden"});n="IMG"===d[0].tagName?n:d;m=n[k]();e&&(n.css(k,0),n.css(h,m/2));f[k]=e?m:0;f[h]=e?0:m/2;n.animate(f,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){e||d.hide();a.effects.restore(d,g);a.effects.removeWrapper(d);c()}})};a.effects.effect.drop=function(b,c){var d=a(this),g="position top bottom left right opacity height width".split(" "),e=a.effects.setMode(d,b.mode||"hide"),h="show"===e,k=b.direction||"left",f="up"===k||"down"===k?
"top":"left",k="up"===k||"left"===k?"pos":"neg",n={opacity:h?1:0},m;a.effects.save(d,g);d.show();a.effects.createWrapper(d);m=b.distance||d["top"===f?"outerHeight":"outerWidth"](!0)/2;h&&d.css("opacity",0).css(f,"pos"===k?-m:m);n[f]=(h?"pos"===k?"+=":"-=":"pos"===k?"-=":"+=")+m;d.animate(n,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===e&&d.hide();a.effects.restore(d,g);a.effects.removeWrapper(d);c()}})};a.effects.effect.explode=function(b,c){function d(){l.push(this);
l.length===g*e&&(h.css({visibility:"visible"}),a(l).remove(),k||h.hide(),c())}var g=b.pieces?Math.round(Math.sqrt(b.pieces)):3,e=g,h=a(this),k="show"===a.effects.setMode(h,b.mode||"hide"),f=h.show().css("visibility","hidden").offset(),n=Math.ceil(h.outerWidth()/e),m=Math.ceil(h.outerHeight()/g),l=[],r,t,v,q,u,p;for(r=0;r<g;r++)for(q=f.top+r*m,p=r-(g-1)/2,t=0;t<e;t++)v=f.left+t*n,u=t-(e-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-t*n,top:-r*
m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:n,height:m,left:v+(k?u*n:0),top:q+(k?p*m:0),opacity:k?0:1}).animate({left:v+(k?0:u*n),top:q+(k?0:p*m),opacity:k?1:0},b.duration||500,b.easing,d)};a.effects.effect.fade=function(b,c){var d=a(this),g=a.effects.setMode(d,b.mode||"toggle");d.animate({opacity:g},{queue:!1,duration:b.duration,easing:b.easing,complete:c})};a.effects.effect.fold=function(b,c){var d=a(this),g="position top bottom left right height width".split(" "),
e=a.effects.setMode(d,b.mode||"hide"),h="show"===e,k="hide"===e,e=b.size||15,f=/([0-9]+)%/.exec(e),n=!!b.horizFirst,m=h!==n,l=m?["width","height"]:["height","width"],r=b.duration/2,t,v={},q={};a.effects.save(d,g);d.show();t=a.effects.createWrapper(d).css({overflow:"hidden"});m=m?[t.width(),t.height()]:[t.height(),t.width()];f&&(e=parseInt(f[1],10)/100*m[k?0:1]);h&&t.css(n?{height:0,width:e}:{height:e,width:0});v[l[0]]=h?m[0]:e;q[l[1]]=h?m[1]:0;t.animate(v,r,b.easing).animate(q,r,b.easing,function(){k&&
d.hide();a.effects.restore(d,g);a.effects.removeWrapper(d);c()})};a.effects.effect.highlight=function(b,c){var d=a(this),g=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(d,b.mode||"show"),h={backgroundColor:d.css("backgroundColor")};"hide"===e&&(h.opacity=0);a.effects.save(d,g);d.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(h,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===e&&d.hide();a.effects.restore(d,g);c()}})};
a.effects.effect.size=function(b,c){var d,g,e,h,k,f,n=a(this),m="position top bottom left right width height overflow opacity".split(" ");k="position top bottom left right overflow opacity".split(" ");var l=["width","height","overflow"],r=["fontSize"],t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],v=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],q=a.effects.setMode(n,b.mode||"effect"),u=b.restore||"effect"!==q,p=b.scale||"both";f=b.origin||["middle","center"];
var y=n.css("position"),w=u?m:k,A={height:0,width:0,outerHeight:0,outerWidth:0};"show"===q&&n.show();k={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};"toggle"===b.mode&&"show"===q?(n.from=b.to||A,n.to=b.from||k):(n.from=b.from||("show"===q?A:k),n.to=b.to||("hide"===q?A:k));e=n.from.height/k.height;h=n.from.width/k.width;d=n.to.height/k.height;g=n.to.width/k.width;if("box"===p||"both"===p)e!==d&&(w=w.concat(t),n.from=a.effects.setTransition(n,t,e,n.from),
n.to=a.effects.setTransition(n,t,d,n.to)),h!==g&&(w=w.concat(v),n.from=a.effects.setTransition(n,v,h,n.from),n.to=a.effects.setTransition(n,v,g,n.to));"content"!==p&&"both"!==p||e===d||(w=w.concat(r).concat(l),n.from=a.effects.setTransition(n,r,e,n.from),n.to=a.effects.setTransition(n,r,d,n.to));a.effects.save(n,w);n.show();a.effects.createWrapper(n);n.css("overflow","hidden").css(n.from);f&&(f=a.effects.getBaseline(f,k),n.from.top=(k.outerHeight-n.outerHeight())*f.y,n.from.left=(k.outerWidth-n.outerWidth())*
f.x,n.to.top=(k.outerHeight-n.to.outerHeight)*f.y,n.to.left=(k.outerWidth-n.to.outerWidth)*f.x);n.css(n.from);if("content"===p||"both"===p)t=t.concat(["marginTop","marginBottom"]).concat(r),v=v.concat(["marginLeft","marginRight"]),l=m.concat(t).concat(v),n.find("*[width]").each(function(){var c=a(this),k=c.height(),f=c.width(),n=c.outerHeight(),m=c.outerWidth();u&&a.effects.save(c,l);c.from={height:k*e,width:f*h,outerHeight:n*e,outerWidth:m*h};c.to={height:k*d,width:f*g,outerHeight:k*d,outerWidth:f*
g};e!==d&&(c.from=a.effects.setTransition(c,t,e,c.from),c.to=a.effects.setTransition(c,t,d,c.to));h!==g&&(c.from=a.effects.setTransition(c,v,h,c.from),c.to=a.effects.setTransition(c,v,g,c.to));c.css(c.from);c.animate(c.to,b.duration,b.easing,function(){u&&a.effects.restore(c,l)})});n.animate(n.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){0===n.to.opacity&&n.css("opacity",n.from.opacity);"hide"===q&&n.hide();a.effects.restore(n,w);u||("static"===y?n.css({position:"relative",
top:n.to.top,left:n.to.left}):a.each(["top","left"],function(a,b){n.css(b,function(b,c){b=parseInt(c,10);var d=a?n.to.left:n.to.top;return"auto"===c?d+"px":b+d+"px"})}));a.effects.removeWrapper(n);c()}})};a.effects.effect.scale=function(b,c){var d=a(this),g=a.extend(!0,{},b),e=a.effects.setMode(d,b.mode||"effect"),h=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===e?0:100),k=b.direction||"both",f=b.origin,n={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},
m="horizontal"!==k?h/100:1,h="vertical"!==k?h/100:1;g.effect="size";g.queue=!1;g.complete=c;"effect"!==e&&(g.origin=f||["middle","center"],g.restore=!0);g.from=b.from||("show"===e?{height:0,width:0,outerHeight:0,outerWidth:0}:n);g.to={height:n.height*m,width:n.width*h,outerHeight:n.outerHeight*m,outerWidth:n.outerWidth*h};g.fade&&("show"===e&&(g.from.opacity=0,g.to.opacity=1),"hide"===e&&(g.from.opacity=1,g.to.opacity=0));d.effect(g)};a.effects.effect.puff=function(b,c){var d=a(this),g=a.effects.setMode(d,
b.mode||"hide"),e="hide"===g,h=parseInt(b.percent,10)||150,k=h/100,f={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:g,complete:c,percent:e?h:100,from:e?f:{height:f.height*k,width:f.width*k,outerHeight:f.outerHeight*k,outerWidth:f.outerWidth*k}});d.effect(b)};a.effects.effect.pulsate=function(b,c){var d=a(this),g=a.effects.setMode(d,b.mode||"show"),e="show"===g,h="hide"===g,g=2*(b.times||5)+(e||"hide"===g?1:
0),k=b.duration/g,f=0,n=d.queue(),m=n.length;if(e||!d.is(":visible"))d.css("opacity",0).show(),f=1;for(e=1;e<g;e++)d.animate({opacity:f},k,b.easing),f=1-f;d.animate({opacity:f},k,b.easing);d.queue(function(){h&&d.hide();c()});1<m&&n.splice.apply(n,[1,0].concat(n.splice(m,g+1)));d.dequeue()};a.effects.effect.shake=function(b,c){var d=a(this),g="position top bottom left right height width".split(" "),e=a.effects.setMode(d,b.mode||"effect"),h=b.direction||"left",k=b.distance||20,f=b.times||3,n=2*f+1,
m=Math.round(b.duration/n),l="up"===h||"down"===h?"top":"left",t="up"===h||"left"===h,h={},r={},q={},v=d.queue(),u=v.length;a.effects.save(d,g);d.show();a.effects.createWrapper(d);h[l]=(t?"-=":"+=")+k;r[l]=(t?"+=":"-=")+2*k;q[l]=(t?"-=":"+=")+2*k;d.animate(h,m,b.easing);for(k=1;k<f;k++)d.animate(r,m,b.easing).animate(q,m,b.easing);d.animate(r,m,b.easing).animate(h,m/2,b.easing).queue(function(){"hide"===e&&d.hide();a.effects.restore(d,g);a.effects.removeWrapper(d);c()});1<u&&v.splice.apply(v,[1,0].concat(v.splice(u,
n+1)));d.dequeue()};a.effects.effect.slide=function(b,c){var d=a(this),g="position top bottom left right width height".split(" "),e=a.effects.setMode(d,b.mode||"show"),h="show"===e,k=b.direction||"left",f="up"===k||"down"===k?"top":"left",k="up"===k||"left"===k,n,m={};a.effects.save(d,g);d.show();n=b.distance||d["top"===f?"outerHeight":"outerWidth"](!0);a.effects.createWrapper(d).css({overflow:"hidden"});h&&d.css(f,k?isNaN(n)?"-"+n:-n:n);m[f]=(h?k?"+=":"-=":k?"-=":"+=")+n;d.animate(m,{queue:!1,duration:b.duration,
easing:b.easing,complete:function(){"hide"===e&&d.hide();a.effects.restore(d,g);a.effects.removeWrapper(d);c()}})};a.effects.effect.transfer=function(b,c){var d=a(this),g=a(b.to),e="fixed"===g.css("position"),h=a("body"),k=e?h.scrollTop():0,h=e?h.scrollLeft():0,f=g.offset(),g={top:f.top-k,left:f.left-h,height:g.innerHeight(),width:g.innerWidth()},f=d.offset(),n=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(b.className).css({top:f.top-k,left:f.left-h,height:d.innerHeight(),
width:d.innerWidth(),position:e?"fixed":"absolute"}).animate(g,b.duration,b.easing,function(){n.remove();c()})};a.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);
this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.valueDiv.remove()},value:function(a){if(void 0===a)return this.options.value;this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){void 0===a&&(a=this.options.value);this.indeterminate=!1===a;"number"!==typeof a&&(a=0);return this.indeterminate?
!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(b);this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b));"disabled"===a&&this.element.toggleClass("ui-state-disabled",!!b).attr("aria-disabled",b);this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=
this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).toggleClass("ui-corner-right",b===this.options.max).width(c.toFixed(0)+"%");this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&
(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==b&&(this.oldValue=b,this._trigger("change"));b===this.options.max&&this._trigger("complete")}});a.widget("ui.selectable",a.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,c=this;this.element.addClass("ui-selectable");this.dragged=!1;this.refresh=function(){b=a(c.options.filter,
c.element[0]);b.addClass("ui-selectee");b.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})};this.refresh();this.selectees=b.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");
this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy()},_mouseStart:function(b){var c=this,d=this.options;this.opos=[b.pageX,b.pageY];this.options.disabled||(this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0;b.metaKey||
b.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().addBack().each(function(){var d,g=a.data(this,"selectable-item");if(g)return d=!b.metaKey&&!b.ctrlKey||!g.$element.hasClass("ui-selected"),g.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),g.unselecting=!d,g.selecting=d,(g.selected=d)?c._trigger("selecting",
b,{selecting:g.element}):c._trigger("unselecting",b,{unselecting:g.element}),!1}))},_mouseDrag:function(b){this.dragged=!0;if(!this.options.disabled){var c,d=this,g=this.options,e=this.opos[0],h=this.opos[1],k=b.pageX,f=b.pageY;e>k&&(c=k,k=e,e=c);h>f&&(c=f,f=h,h=c);this.helper.css({left:e,top:h,width:k-e,height:f-h});this.selectees.each(function(){var c=a.data(this,"selectable-item"),n=!1;c&&c.element!==d.element[0]&&("touch"===g.tolerance?n=!(c.left>k||c.right<e||c.top>f||c.bottom<h):"fit"===g.tolerance&&
(n=c.left>e&&c.right<k&&c.top>h&&c.bottom<f),n?(c.selected&&(c.$element.removeClass("ui-selected"),c.selected=!1),c.unselecting&&(c.$element.removeClass("ui-unselecting"),c.unselecting=!1),c.selecting||(c.$element.addClass("ui-selecting"),c.selecting=!0,d._trigger("selecting",b,{selecting:c.element}))):(c.selecting&&((b.metaKey||b.ctrlKey)&&c.startselected?(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.$element.addClass("ui-selected"),c.selected=!0):(c.$element.removeClass("ui-selecting"),
c.selecting=!1,c.startselected&&(c.$element.addClass("ui-unselecting"),c.unselecting=!0),d._trigger("unselecting",b,{unselecting:c.element}))),!c.selected||b.metaKey||b.ctrlKey||c.startselected||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,d._trigger("unselecting",b,{unselecting:c.element}))))});return!1}},_mouseStop:function(b){var c=this;this.dragged=!1;a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");
d.$element.removeClass("ui-unselecting");d.unselecting=!1;d.startselected=!1;c._trigger("unselected",b,{unselected:d.element})});a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected");d.selecting=!1;d.selected=!0;d.startselected=!0;c._trigger("selected",b,{selected:d.element})});this._trigger("stop",b);this.helper.remove();return!1}});a.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",
options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var a=this.element.uniqueId().attr("id");this.ids={element:a,button:a+"-button",menu:a+"-menu"};this._drawButton();this._drawMenu();this.options.disabled&&this.disable()},_drawButton:function(){var b=this;this.label=a("label[for='"+this.ids.element+"']").attr("for",this.ids.button);
this._on(this.label,{click:function(a){this.button.focus();a.preventDefault()}});this.element.hide();this.button=a("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element);a("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button);this.buttonText=a("<span>",
{"class":"ui-selectmenu-text"}).appendTo(this.button);this._setText(this.buttonText,this.element.find("option:selected").text());this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){b.menuItems||b._refreshMenu()});this._hoverable(this.button);this._focusable(this.button)},_drawMenu:function(){var b=this;this.menu=a("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=a("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo());
this.menuInstance=this.menu.menu({role:"listbox",select:function(a,c){a.preventDefault();b._setSelection();b._select(c.item.data("ui-selectmenu-item"),a)},focus:function(a,c){c=c.item.data("ui-selectmenu-item");null!=b.focusIndex&&c.index!==b.focusIndex&&(b._trigger("focus",a,{item:c}),b.isOpen||b._select(c,a));b.focusIndex=c.index;b.button.attr("aria-activedescendant",b.menuItems.eq(c.index).attr("id"))}}).menu("instance");this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");this.menuInstance._off(this.menu,
"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this._setText(this.buttonText,this._getSelectedItem().text());this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var a;a=this.element.find("option");a.length&&(this._parseOptions(a),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),
a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(a){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a))},_position:function(){this.menuWrap.position(a.extend({of:this.button},
this.options.position))},close:function(a){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(b,c){var d=this,g="";a.each(c,function(c,e){e.optgroup!==g&&(a("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:e.optgroup}).appendTo(b),g=e.optgroup);d._renderItemData(b,
e)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-selectmenu-item",b)},_renderItem:function(b,c){var d=a("<li>");c.disabled&&d.addClass("ui-state-disabled");this._setText(d,c.label);return d.appendTo(b)},_setText:function(a,b){b?a.text(b):a.html("&#160;")},_move:function(a,b){var c,d=".ui-menu-item";this.isOpen?c=this.menuItems.eq(this.focusIndex):(c=this.menuItems.eq(this.element[0].selectedIndex),d+=":not(.ui-state-disabled)");a="first"===a||"last"===a?c["first"===a?"prevAll":
"nextAll"](d).eq(-1):c[a+"All"](d).eq(0);a.length&&this.menuInstance.focus(b,a)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){var a;this.range&&(window.getSelection?(a=window.getSelection(),a.removeAllRanges(),a.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(b){this.isOpen&&(a(b.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||
this.close(b))}},_buttonEvents:{mousedown:function(){var a;window.getSelection?(a=window.getSelection(),a.rangeCount&&(this.range=a.getRangeAt(0))):this.range=document.selection.createRange()},click:function(a){this._setSelection();this._toggle(a)},keydown:function(b){var c=!0;switch(b.keyCode){case a.ui.keyCode.TAB:case a.ui.keyCode.ESCAPE:this.close(b);c=!1;break;case a.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(b);break;case a.ui.keyCode.UP:b.altKey?this._toggle(b):this._move("prev",
b);break;case a.ui.keyCode.DOWN:b.altKey?this._toggle(b):this._move("next",b);break;case a.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(b):this._toggle(b);break;case a.ui.keyCode.LEFT:this._move("prev",b);break;case a.ui.keyCode.RIGHT:this._move("next",b);break;case a.ui.keyCode.HOME:case a.ui.keyCode.PAGE_UP:this._move("first",b);break;case a.ui.keyCode.END:case a.ui.keyCode.PAGE_DOWN:this._move("last",b);break;default:this.menu.trigger(b),c=!1}c&&b.preventDefault()}},_selectFocusedItem:function(a){var b=
this.menuItems.eq(this.focusIndex);b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(a,b){var c=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index;this._setText(this.buttonText,a.label);this._setAria(a);this._trigger("select",b,{item:a});a.index!==c&&this._trigger("change",b,{item:a});this.close(b)},_setAria:function(a){a=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":a,"aria-activedescendant":a});this.menu.attr("aria-activedescendant",
a)},_setOption:function(a,b){"icons"===a&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(b.button);this._super(a,b);"appendTo"===a&&this.menuWrap.appendTo(this._appendTo());"disabled"===a&&(this.menuInstance.option("disabled",b),this.button.toggleClass("ui-state-disabled",b).attr("aria-disabled",b),this.element.prop("disabled",b),b?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0));"width"===a&&this._resizeButton()},_appendTo:function(){var b=
this.options.appendTo;b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0));b&&b[0]||(b=this.element.closest(".ui-front"));b.length||(b=this.document[0].body);return b},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen);this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;a||(a=this.element.show().outerWidth(),
this.element.hide());this.button.outerWidth(a)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(b){var c=[];b.each(function(b,d){d=a(d);var g=d.parent("optgroup");c.push({element:d,index:b,value:d.val(),label:d.text(),optgroup:g.attr("label")||"",disabled:g.prop("disabled")||d.prop("disabled")})});this.items=c},_destroy:function(){this.menuWrap.remove();
this.button.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.element)}});a.widget("ui.slider",a.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._mouseSliding=this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();
this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");this._refresh();this._setOption("disabled",this.options.disabled);this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var b,c;b=this.options;var d=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),e=[];c=b.values&&b.values.length||1;d.length>c&&(d.slice(c).remove(),
d=d.slice(0,c));for(b=d.length;b<c;b++)e.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=d.add(a(e.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(!0===b.range&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=
[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);
this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(b){var c,d,g,e,h,k=this,f=this.options;if(f.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();c=this._normValueFromMouse({x:b.pageX,y:b.pageY});
d=this._valueMax()-this._valueMin()+1;this.handles.each(function(b){var h=Math.abs(c-k.values(b));if(d>h||d===h&&(b===k._lastChangedValue||k.values(b)===f.min))d=h,g=a(this),e=b});if(!1===this._start(b,e))return!1;this._mouseSliding=!0;this._handleIndex=e;g.addClass("ui-state-active").focus();h=g.offset();this._clickOffset=a(b.target).parents().addBack().is(".ui-slider-handle")?{left:b.pageX-h.left-g.width()/2,top:b.pageY-h.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),
10)||0)+(parseInt(g.css("marginTop"),10)||0)}:{left:0,top:0};this.handles.hasClass("ui-state-hover")||this._slide(b,e,c);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var b=this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,b);return!1},_mouseStop:function(a){this.handles.removeClass("ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=
!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b;"horizontal"===this.orientation?(b=this.elementSize.width,a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0));b=a/b;1<b&&(b=1);0>b&&(b=0);"vertical"===this.orientation&&(b=1-b);a=this._valueMax()-this._valueMin();b=this._valueMin()+
b*a;return this._trimAlignValue(b)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());return this._trigger("start",a,c)},_slide:function(a,b,c){var d;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&!0===this.options.range&&(0===b&&c>d||1===b&&c<d)&&(c=d),c!==this.values(b)&&(d=this.values(),d[b]=c,a=this._trigger("slide",a,{handle:this.handles[b],
value:c,values:d}),this.values(b?0:1),!1!==a&&this.values(b,c))):c!==this.value()&&(a=this._trigger("slide",a,{handle:this.handles[b],value:c}),!1!==a&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values());this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&
(c.value=this.values(b),c.values=this.values());this._lastChangedValue=b;this._trigger("change",a,c)}},value:function(a){if(arguments.length)this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);else return this._value()},values:function(b,c){var d,g,e;if(1<arguments.length)this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);else if(arguments.length)if(a.isArray(arguments[0])){d=this.options.values;g=arguments[0];for(e=0;e<d.length;e+=
1)d[e]=this._trimAlignValue(g[e]),this._change(null,e);this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(b):this.value();else return this._values()},_setOption:function(b,c){var d=0;"range"===b&&!0===this.options.range&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));a.isArray(this.options.values)&&(d=this.options.values.length);
"disabled"===b&&this.element.toggleClass("ui-state-disabled",!!c);this._super(b,c);switch(b){case "orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();this.handles.css("horizontal"===c?"bottom":"left","");break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(b=0;b<d;b+=1)this._change(null,
b);this._animateOff=!1;break;case "step":case "min":case "max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){b=this.options.values.slice();for(c=0;c<b.length;c+=
1)b[c]=this._trimAlignValue(b[c]);return b}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=0<this.options.step?this.options.step:1,c=(a-this._valueMin())%b;a-=c;2*Math.abs(c)>=b&&(a+=0<c?b:-b);return parseFloat(a.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,b=this._valueMin(),c=this.options.step,a=Math.floor(+(a-b).toFixed(this._precision())/c)*c;this.max=parseFloat((a+b).toFixed(this._precision()))},
_precision:function(){var a=this._precisionOf(this.options.step);null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min)));return a},_precisionOf:function(a){a=a.toString();var b=a.indexOf(".");return-1===b?0:a.length-b-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var b,c,d,e,h,k=this.options.range,f=this.options,n=this,m=this._animateOff?!1:f.animate,l={};if(this.options.values&&this.options.values.length)this.handles.each(function(d){c=
(n.values(d)-n._valueMin())/(n._valueMax()-n._valueMin())*100;l["horizontal"===n.orientation?"left":"bottom"]=c+"%";a(this).stop(1,1)[m?"animate":"css"](l,f.animate);if(!0===n.options.range)if("horizontal"===n.orientation){if(0===d)n.range.stop(1,1)[m?"animate":"css"]({left:c+"%"},f.animate);if(1===d)n.range[m?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:f.animate})}else{if(0===d)n.range.stop(1,1)[m?"animate":"css"]({bottom:c+"%"},f.animate);if(1===d)n.range[m?"animate":"css"]({height:c-b+
"%"},{queue:!1,duration:f.animate})}b=c});else{d=this.value();e=this._valueMin();h=this._valueMax();c=h!==e?(d-e)/(h-e)*100:0;l["horizontal"===this.orientation?"left":"bottom"]=c+"%";this.handle.stop(1,1)[m?"animate":"css"](l,f.animate);if("min"===k&&"horizontal"===this.orientation)this.range.stop(1,1)[m?"animate":"css"]({width:c+"%"},f.animate);if("max"===k&&"horizontal"===this.orientation)this.range[m?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:f.animate});if("min"===k&&"vertical"===this.orientation)this.range.stop(1,
1)[m?"animate":"css"]({height:c+"%"},f.animate);if("max"===k&&"vertical"===this.orientation)this.range[m?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:f.animate})}},_handleEvents:{keydown:function(b){var c,d,g,e=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding&&
(this._keySliding=!0,a(b.target).addClass("ui-state-active"),c=this._start(b,e),!1===c))return}g=this.options.step;c=this.options.values&&this.options.values.length?d=this.values(e):d=this.value();switch(b.keyCode){case a.ui.keyCode.HOME:d=this._valueMin();break;case a.ui.keyCode.END:d=this._valueMax();break;case a.ui.keyCode.PAGE_UP:d=this._trimAlignValue(c+(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.PAGE_DOWN:d=this._trimAlignValue(c-(this._valueMax()-this._valueMin())/
this.numPages);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(c===this._valueMax())return;d=this._trimAlignValue(c+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c===this._valueMin())return;d=this._trimAlignValue(c-g)}this._slide(b,e,d)},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}});a.widget("ui.sortable",a.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",
ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,
b,c){return a>=b&&a<b+c},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(a,b){this._super(a,b);"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle");
a.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle");this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(b,c){var d=null,g=!1,e=this;if(this.reverting||this.options.disabled||
"static"===this.options.type)return!1;this._refreshItems(b);a(b.target).parents().each(function(){if(a.data(this,e.widgetName+"-item")===e)return d=a(this),!1});a.data(b.target,e.widgetName+"-item")===e&&(d=a(b.target));if(!d||this.options.handle&&!c&&(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(g=!0)}),!g))return!1;this.currentItem=d;this._removeCurrentsFromItems();return!0},_mouseStart:function(b,c,d){var g;c=this.options;this.currentContainer=this;this.refreshPositions();
this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=
this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();c.containment&&this._setContainment();c.cursor&&"auto"!==c.cursor&&(g=this.document.find("body"),this.storedCursor=g.css("cursor"),g.css("cursor",c.cursor),this.storedStylesheet=a("<style>*{ cursor: "+
c.cursor+" !important; }</style>").appendTo(g));c.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",c.opacity));c.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",c.zIndex));this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();
if(!d)for(d=this.containers.length-1;0<=d;d--)this.containers[d]._trigger("activate",b,this._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this);a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.dragging=!0;this.helper.addClass("ui-sortable-helper");this._mouseDrag(b);return!0},_mouseDrag:function(b){var c,d,g,e;c=this.options;d=!1;this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=
this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?
this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-this.document.scrollTop()<c.scrollSensitivity?d=this.document.scrollTop(this.document.scrollTop()-c.scrollSpeed):this.window.height()-(b.pageY-this.document.scrollTop())<c.scrollSensitivity&&(d=this.document.scrollTop(this.document.scrollTop()+c.scrollSpeed)),b.pageX-this.document.scrollLeft()<
c.scrollSensitivity?d=this.document.scrollLeft(this.document.scrollLeft()-c.scrollSpeed):this.window.width()-(b.pageX-this.document.scrollLeft())<c.scrollSensitivity&&(d=this.document.scrollLeft(this.document.scrollLeft()+c.scrollSpeed))),!1!==d&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||
(this.helper[0].style.top=this.position.top+"px");for(c=this.items.length-1;0<=c;c--)if(d=this.items[c],g=d.item[0],(e=this._intersectsWithPointer(d))&&d.instance===this.currentContainer&&g!==this.currentItem[0]&&this.placeholder[1===e?"next":"prev"]()[0]!==g&&!a.contains(this.placeholder[0],g)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],g):1)){this.direction=1===e?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(d))this._rearrange(b,d);else break;
this._trigger("change",b,this._uiHash());break}this._contactContainers(b);a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);this._trigger("sort",b,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(b,c){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this;c=this.placeholder.offset();var g=this.options.axis,e={};g&&"x"!==g||(e.left=c.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?
0:this.offsetParent[0].scrollLeft));g&&"y"!==g||(e.top=c.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;a(this.helper).animate(e,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null});"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();
for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,
reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{};a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))});!d.length&&b.key&&d.push(b.key+"=");return d.join("&")},toArray:function(b){var c=
this._getItemsAsjQuery(b&&b.connected),d=[];b=b||{};c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")});return d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,g=d+this.helperProportions.height,e=a.left,h=e+a.width,k=a.top,f=k+a.height,n=this.offset.click.top,m=this.offset.click.left,n="x"===this.options.axis||d+n>k&&d+n<f,m="y"===this.options.axis||b+m>e&&b+m<h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||
"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n&&m:e<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<h&&k<d+this.helperProportions.height/2&&g-this.helperProportions.height/2<f},_intersectsWithPointer:function(a){var b="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,
a.left,a.width);b=b&&a;a=this._getDragVerticalDirection();var c=this._getDragHorizontalDirection();return b?this.floating?c&&"right"===c||"down"===a?2:1:a&&("down"===a?2:1):!1},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var c=this._getDragVerticalDirection(),d=this._getDragHorizontalDirection();return this.floating&&d?"right"===
d&&a||"left"===d&&!a:c&&("down"===c&&b||"up"===c&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:
a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,g,e,h=[],k=[],f=this._connectWith();if(f&&b)for(b=f.length-1;0<=b;b--)for(g=a(f[b],this.document[0]),d=g.length-1;0<=d;d--)(e=a.data(g[d],this.widgetFullName))&&e!==this&&!e.options.disabled&&k.push([a.isFunction(e.options.items)?e.options.items.call(e.element):a(e.options.items,e.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),e]);k.push([a.isFunction(this.options.items)?this.options.items.call(this.element,
null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=k.length-1;0<=b;b--)k[b][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[];this.containers=[this];var c,d,g,e,h,k=this.items,
f=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]];if((h=this._connectWith())&&this.ready)for(c=h.length-1;0<=c;c--)for(g=a(h[c],this.document[0]),d=g.length-1;0<=d;d--)(e=a.data(g[d],this.widgetFullName))&&e!==this&&!e.options.disabled&&(f.push([a.isFunction(e.options.items)?e.options.items.call(e.element[0],b,{item:this.currentItem}):a(e.options.items,e.element),e]),this.containers.push(e));for(c=f.length-
1;0<=c;c--)for(b=f[c][1],g=f[c][0],d=0,h=g.length;d<h;d++)e=a(g[d]),e.data(this.widgetName+"-item",b),k.push({item:e,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,g;for(c=this.items.length-1;0<=c;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||
(g=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=g.outerWidth(),d.height=g.outerHeight()),g=g.offset(),d.left=g.left,d.top=g.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;0<=c;c--)g=this.containers[c].element.offset(),this.containers[c].containerCache.left=g.left,this.containers[c].containerCache.top=g.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),
this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),g=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");"tbody"===d?b._createTrPlaceholder(b.currentItem.find("tr").eq(0),a("<tr>",
b.document[0]).appendTo(g)):"tr"===d?b._createTrPlaceholder(b.currentItem,g):"img"===d&&g.attr("src",b.currentItem.attr("src"));c||g.css("visibility","hidden");return g},update:function(a,g){if(!c||d.forcePlaceholderSize)g.height()||g.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),g.width()||g.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||
0,10))}});b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);d.placeholder.update(b,b.placeholder)},_createTrPlaceholder:function(b,c){var d=this;b.children().each(function(){a("<td>&#160;</td>",d.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(c)})},_contactContainers:function(b){var c,d,g,e,h,k,f,n,m=e=null;for(c=this.containers.length-1;0<=c;c--)a.contains(this.currentItem[0],this.containers[c].element[0])||(this._intersectsWith(this.containers[c].containerCache)?
e&&a.contains(this.containers[c].element[0],e.element[0])||(e=this.containers[c],m=c):this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",b,this._uiHash(this)),this.containers[c].containerCache.over=0));if(e)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",b,this._uiHash(this)),this.containers[m].containerCache.over=1);else{c=1E4;g=null;e=(d=e.floating||this._isFloating(this.currentItem))?"left":"top";h=d?"width":"height";
n=d?"clientX":"clientY";for(d=this.items.length-1;0<=d;d--)a.contains(this.containers[m].element[0],this.items[d].item[0])&&this.items[d].item[0]!==this.currentItem[0]&&(k=this.items[d].item.offset()[e],f=!1,b[n]-k>this.items[d][h]/2&&(f=!0),Math.abs(b[n]-k)<c&&(c=Math.abs(b[n]-k),g=this.items[d],this.direction=f?"up":"down"));if(g||this.options.dropOnEmpty)this.currentContainer===this.containers[m]?this.currentContainer.containerCache.over||(this.containers[m]._trigger("over",b,this._uiHash()),this.currentContainer.containerCache.over=
1):(g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[m].element,!0),this._trigger("change",b,this._uiHash()),this.containers[m]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",b,this._uiHash(this)),this.containers[m].containerCache.over=1)}},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],
[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;b.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]);b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});b[0].style.width&&!c.forceHelperSize||b.width(this.currentItem.width());
b[0].style.height&&!c.forceHelperSize||b.height(this.currentItem.height());return b},_adjustOffsetFromHelper:function(b){"string"===typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},
_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),
10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d;c=this.options;"parent"===c.containment&&(c.containment=this.helper[0].parentNode);if("document"===c.containment||"window"===c.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===c.containment?this.document.width():this.window.width()-this.helperProportions.width-
this.margins.left,("document"===c.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(c.containment)||(b=a(c.containment)[0],c=a(c.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+
(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);
b="absolute"===b?1:-1;var d="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,g=/(html|body)/i.test(d[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():g?0:d.scrollTop())*b,left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():
g?0:d.scrollLeft())*b}},_generatePosition:function(b){var c,d,g=this.options;d=b.pageX;c=b.pageY;var e="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(e[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());this.originalPosition&&(this.containment&&
(b.pageX-this.offset.click.left<this.containment[0]&&(d=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(c=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(d=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(c=this.containment[3]+this.offset.click.top)),g.grid&&(c=this.originalPageY+Math.round((c-this.originalPageY)/g.grid[1])*g.grid[1],c=this.containment?c-this.offset.click.top>=
this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-g.grid[1]:c+g.grid[1]:c,d=this.originalPageX+Math.round((d-this.originalPageX)/g.grid[0])*g.grid[0],d=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-g.grid[0]:d+g.grid[0]:d));return{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?
-this.scrollParent.scrollTop():h?0:e.scrollTop()),left:d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:e.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling);var g=this.counter=this.counter?++this.counter:1;this._delay(function(){g===this.counter&&this.refreshPositions(!d)})},
_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,g=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)if("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])this._storedCSS[d]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&
!b&&g.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||g.push(function(a){this._trigger("update",a,this._uiHash())});this===this.currentContainer||b||(g.push(function(a){this._trigger("remove",a,this._uiHash())}),g.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),
g.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)));for(d=this.containers.length-1;0<=d;d--)b||g.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(g.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);
this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;b||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null);if(!b){for(d=0;d<g.length;d++)g[d].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return!this.cancelHelperRemoval},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,
arguments)&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}});a.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,
start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},c=this.element;a.each(["min","max","step"],function(a,d){a=c.attr(d);void 0!==a&&a.length&&(b[d]=a)});return b},
_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((0<b?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&
this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function c(){this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();b.preventDefault();c.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;c.call(this)});!1!==this._start(b)&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?
1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){if(a(b.currentTarget).hasClass("ui-state-active")){if(!1===this._start(b))return!1;this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)}},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=
a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");this.buttons.height()>Math.ceil(.5*a.height())&&0<a.height()&&a.height(a.height());this.options.disabled&&this.disable()},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},
_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){if(!this.spinning&&!1===this._trigger("start",a))return!1;this.counter||(this.counter=1);return this.spinning=!0},_repeat:function(a,b,c){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,
b,c)},a);this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1);c=this._adjustValue(c+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",b,{value:c})||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5E4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min)));
return a},_precisionOf:function(a){a=a.toString();var b=a.indexOf(".");return-1===b?0:a.length-b-1},_adjustValue:function(a){var b,c=this.options;b=null!==c.min?c.min:0;a=b+Math.round((a-b)/c.step)*c.step;a=parseFloat(a.toFixed(this._precision()));return null!==c.max&&a>c.max?c.max:null!==c.min&&a<c.min?c.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===
a||"numberFormat"===a){var c=this._parse(this.element.val());this.options[a]=b;this.element.val(this._format(c))}else"max"!==a&&"min"!==a&&"step"!==a||"string"!==typeof b||(b=this._parse(b)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down)),this._super(a,b),"disabled"===a&&(this.widget().toggleClass("ui-state-disabled",!!b),this.element.prop("disabled",!!b),
this.buttons.button(b?"disable":"enable"))},_setOptions:l(function(a){this._super(a)}),_parse:function(a){"string"===typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a);return""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,
"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null===a?!1:a===this._adjustValue(a)},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c)));this.element.val(a);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},
stepUp:l(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:l(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:l(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:l(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());l(this._value).call(this,a)},widget:function(){return this.uiSpinner}});
a.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var c,d;b=b.cloneNode(!1);c=b.href.replace(a,"");d=location.href.replace(a,"");try{c=decodeURIComponent(c)}catch(G){}try{d=decodeURIComponent(d)}catch(G){}return 1<b.hash.length&&c===d}}(),_create:function(){var b=this,c=this.options;this.running=!1;
this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible);this._processTabs();c.active=this._initialActive();a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());this.active=!1!==this.options.active&&this.anchors.length?this._findActive(c.active):a();this._refresh();this.active.length&&this.load(c.active)},_initialActive:function(){var b=
this.options.active,c=this.options.collapsible,d=location.hash.substring(1);null===b&&(d&&this.tabs.each(function(c,g){if(a(g).attr("aria-controls")===d)return b=c,!1}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===b||-1===b)&&(b=this.tabs.length?0:!1);!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=c?!1:0));!c&&!1===b&&this.anchors.length&&(b=0);return b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):
a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),g=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:g=!1;d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:b.preventDefault();clearTimeout(this.activating);this._activate(d);return;case a.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);
this._activate(d===this.options.active?!1:d);return;default:return}b.preventDefault();clearTimeout(this.activating);d=this._focusNextTab(d,g);b.ctrlKey||b.metaKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){!this._handlePageNav(b)&&b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){if(b.altKey&&b.keyCode===
a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+1,!0)),!0},_findNextTab:function(b,c){function d(){b>g&&(b=0);0>b&&(b=g);return b}for(var g=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){a=this._findNextTab(a,b);this.tabs.eq(a).focus();return a},_setOption:function(a,b){"active"===a?
this._activate(b):"disabled"===a?this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(b),"heightStyle"===a&&this._setupHeightStyle(b))},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)});
this._processTabs();!1!==b.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a());this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",
"aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this,c=this.tabs,d=this.anchors,e=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role",
"tablist").delegate("> li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});
this.panels=a();this.anchors.each(function(c,d){var e,g=a(d).uniqueId().attr("id"),h=a(d).closest("li"),k=h.attr("aria-controls");b._isLocal(d)?(c=d.hash,d=c.substring(1),e=b.element.find(b._sanitizeSelector(c))):(d=h.attr("aria-controls")||a({}).uniqueId()[0].id,e=b.element.find("#"+d),e.length||(e=b._createPanel(d),e.insertAfter(b.panels[c-1]||b.tablist)),e.attr("aria-live","polite"));e.length&&(b.panels=b.panels.add(e));k&&h.data("ui-tabs-aria-controls",k);h.attr({"aria-controls":d,"aria-labelledby":g});
e.attr("aria-labelledby",g)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");c&&(this._off(c.not(this.tabs)),this._off(d.not(this.anchors)),this._off(e.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===
this.anchors.length&&(b=!0):b=!1);for(var c=0,d;d=this.tabs[c];c++)!0===b||-1!==a.inArray(c,b)?a(d).addClass("ui-state-disabled").attr("aria-disabled","true"):a(d).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(a){a.preventDefault()}});this._on(this.anchors,c);this._on(this.tabs,
{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,
c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget).closest("li"),g=e[0]===d[0],h=g&&c.collapsible,k=h?a():this._getPanelForTab(e),f=d.length?this._getPanelForTab(d):a(),d={oldTab:d,oldPanel:f,newTab:h?a():e,newPanel:k};b.preventDefault();e.hasClass("ui-state-disabled")||e.hasClass("ui-tabs-loading")||
this.running||g&&!c.collapsible||!1===this._trigger("beforeActivate",b,d)||(c.active=h?!1:this.tabs.index(e),this.active=g?a():e,this.xhr&&this.xhr.abort(),f.length||k.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),k.length&&this.load(this.tabs.index(e),b),this._toggle(b,d))},_toggle:function(b,c){function d(){g.running=!1;g._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active");h.length&&g.options.show?g._show(h,g.options.show,
d):(h.show(),d())}var g=this,h=c.newPanel,k=c.oldPanel;this.running=!0;k.length&&this.options.hide?this._hide(k,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),k.hide(),e());k.attr("aria-hidden","true");c.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});h.length&&k.length?c.oldTab.attr("tabIndex",-1):h.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",
-1);h.attr("aria-hidden","false");c.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(b){b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),b=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return!1===b?a():this.tabs.eq(b)},_getIndex:function(a){"string"===typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']")));return a},_destroy:function(){this.xhr&&
this.xhr.abort();this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tablist.unbind(this.eventNamespace);this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")});
this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var c=this.options.disabled;!1!==c&&(void 0===b?c=!1:(b=this._getIndex(b),c=a.isArray(c)?a.map(c,function(a){return a!==b?a:null}):a.map(this.tabs,function(a,c){return c!==b?c:null})),this._setupDisabled(c))},disable:function(b){var c=
this.options.disabled;if(!0!==c){if(void 0===b)c=!0;else{b=this._getIndex(b);if(-1!==a.inArray(b,c))return;c=a.isArray(c)?a.merge([b],c).sort():[b]}this._setupDisabled(c)}},load:function(b,c){b=this._getIndex(b);var d=this,e=this.tabs.eq(b);b=e.find(".ui-tabs-anchor");var g=this._getPanelForTab(e),h={tab:e,panel:g},k=function(a,b){"abort"===b&&d.panels.stop(!1,!0);e.removeClass("ui-tabs-loading");g.removeAttr("aria-busy");a===d.xhr&&delete d.xhr};this._isLocal(b[0])||(this.xhr=a.ajax(this._ajaxSettings(b,
c,h)))&&"canceled"!==this.xhr.statusText&&(e.addClass("ui-tabs-loading"),g.attr("aria-busy","true"),this.xhr.done(function(a,b,e){setTimeout(function(){g.html(a);d._trigger("load",c,h);k(e,b)},1)}).fail(function(a,b){setTimeout(function(){k(a,b)},1)}))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,g){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:g},d))}}},_getPanelForTab:function(b){b=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+
b))}});a.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c);b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))},_removeDescribedBy:function(b){var c=
b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),c=a.inArray(c,d);-1!==c&&d.splice(c,1);b.removeData("ui-tooltip-id");(d=a.trim(d.join(" ")))?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.options.disabled&&this._disable();this.liveRegion=a("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},
_setOption:function(b,c){var d=this;"disabled"===b?(this[c?"_disable":"_enable"](),this.options[b]=c):(this._super(b,c),"content"===b&&a.each(this.tooltips,function(a,b){d._updateContent(b.element)}))},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){c=a.Event("blur");c.target=c.currentTarget=d.element[0];b.close(c,!0)});this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).removeAttr("title")})},
_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each(function(){var b=a(this),d;b.data("ui-tooltip-open")&&(d=a.Event("blur"),d.target=
d.currentTarget=this,c.close(d,!0));b.attr("title")&&(b.uniqueId(),c.parents[this.id]={element:this,title:b.attr("title")},b.attr("title",""))}),this._registerCloseHandlers(b,d),this._updateContent(d,b))},_updateContent:function(a,b){var c;c=this.options.content;var d=this,e=b?b.type:null;if("string"===typeof c)return this._open(b,a,c);(c=c.call(a[0],function(c){d._delay(function(){a.data("ui-tooltip-open")&&(b&&(b.type=e),this._open(b,a,c))})}))&&this._open(b,a,c)},_open:function(b,c,d){function e(a){f.of=
a;h.is(":hidden")||h.position(f)}var g,h,k,f=a.extend({},this.options.position);d&&((g=this._find(c))?g.tooltip.find(".ui-tooltip-content").html(d):(c.is("[title]")&&(b&&"mouseover"===b.type?c.attr("title",""):c.removeAttr("title")),g=this._tooltip(c),h=g.tooltip,this._addDescribedBy(c,h.attr("id")),h.find(".ui-tooltip-content").html(d),this.liveRegion.children().hide(),d.clone&&(d=d.clone(),d.removeAttr("id").find("[id]").removeAttr("id")),a("<div>").html(d).appendTo(this.liveRegion),this.options.track&&
b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:e}),e(b)):h.position(a.extend({of:c},this.options.position)),h.hide(),this._show(h,this.options.show),this.options.show&&this.options.show.delay&&(k=this.delayedShow=setInterval(function(){h.is(":visible")&&(e(f.of),clearInterval(k))},a.fx.interval)),this._trigger("open",b,{tooltip:h})))},_registerCloseHandlers:function(b,c){var d={keyup:function(b){b.keyCode===a.ui.keyCode.ESCAPE&&(b=a.Event(b),b.currentTarget=c[0],this.close(b,!0))}};c[0]!==
this.element[0]&&(d.remove=function(){this._removeTooltip(this._find(c).tooltip)});b&&"mouseover"!==b.type||(d.mouseleave="close");b&&"focusin"!==b.type||(d.focusout="close");this._on(!0,c,d)},close:function(b){var c,d=this,e=a(b?b.currentTarget:this.element),g=this._find(e);g?(c=g.tooltip,g.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&!e.attr("title")&&e.attr("title",e.data("ui-tooltip-title")),this._removeDescribedBy(e),g.hiding=!0,c.stop(!0),this._hide(c,this.options.hide,
function(){d._removeTooltip(a(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,c){a(c.element).attr("title",c.title);delete d.parents[b]}),g.closing=!0,this._trigger("close",b,{tooltip:c}),g.hiding||(g.closing=!1))):e.removeData("ui-tooltip-open")},_tooltip:function(b){var c=a("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+
(this.options.tooltipClass||"")),d=c.uniqueId().attr("id");a("<div>").addClass("ui-tooltip-content").appendTo(c);c.appendTo(this.document[0].body);return this.tooltips[d]={element:b,tooltip:c}},_find:function(a){return(a=a.data("ui-tooltip-id"))?this.tooltips[a]:null},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");d=d.element;e.target=e.currentTarget=d[0];b.close(e,!0);a("#"+c).remove();
d.data("ui-tooltip-title")&&(d.attr("title")||d.attr("title",d.data("ui-tooltip-title")),d.removeData("ui-tooltip-title"))});this.liveRegion.remove()}})})},{}],403:[function(a,l,f){var c=a("jquery"),e=c({});c.ajaxQueue=function(a){function b(b){h=c.ajax(a);h.done(d.resolve).fail(d.reject).then(b,b)}var h,d=c.Deferred(),f=d.promise();e.queue(b);f.abort=function(k){if(h)return h.abort(k);var n=e.queue(),m=c.inArray(b,n);-1<m&&n.splice(m,1);d.rejectWith(a.context||a,[f,k,""]);return f};return f}},{jquery:819}],
404:[function(a,l,f){function c(a,b,c){if(8==q){var d=t.width();a=n.debounce(function(){var a=t.width();d!=a&&(d=a,c())},a);t.on(b,a)}else t.on(b,n.debounce(c,a))}function e(a){window&&window.console&&window.console.log&&window.console.log("jQuery.floatThead: "+a)}function h(){var a=d('<div style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%"></div>');d("body").append(a);var b=a.innerWidth(),c=d("div",a).innerWidth();a.remove();
return b-c}function b(a){if(a.dataTableSettings)for(var b=0;b<a.dataTableSettings.length;b++)if(a[0]==a.dataTableSettings[b].nTable)return!0;return!1}function k(a,b,c){var d=c?"outerWidth":"width";if(p&&a.css("max-width")){d=0;c&&(d+=parseInt(a.css("borderLeft"),10),d+=parseInt(a.css("borderRight"),10));for(a=0;a<b.length;a++)d+=b.get(a).offsetWidth;return d}return a[d]()}var d=a("jquery"),n=a("underscore");d.floatThead=d.floatThead||{};d.floatThead.defaults={cellTag:null,headerCellSelector:"tr:visible:first>*:visible",
zIndex:1001,debounceResizeMs:10,useAbsolutePositioning:!0,scrollingTop:0,scrollingBottom:0,scrollContainer:function(a){return d([])},getSizingRow:function(a,b,c){return a.find("tbody tr:visible:first>*:visible")},floatTableClass:"floatThead-table",floatWrapperClass:"floatThead-wrapper",floatContainerClass:"floatThead-container",copyTableClass:!0,enableAria:!1,autoReflow:!1,debug:!1};var m="undefined"!==typeof MutationObserver,q=function(){for(var a=3,b=document.createElement("b"),c=b.all||[];a=1+
a,b.innerHTML="\x3c!--[if gt IE "+a+"]><i><![endif]--\x3e",c[0];);return 4<a?a:document.documentMode}();a=/Gecko\//.test(navigator.userAgent);var w=/WebKit\//.test(navigator.userAgent),p=function(){if(w){var a=d('<div style="width:0px"><table style="max-width:100%"><tr><th><div style="min-width:100px;">X</div></th></tr></table></div>');d("body").append(a);var b=0==a.find("table").width();a.remove();return b}return!1},r=!a&&!q,t=d(window);d.fn.floatThead=function(a){a=a||{};if(!n&&(n=window._||d.floatThead._,
!n))throw Error("jquery.floatThead-slim.js requires underscore. You should use the non-lite version since you do not have underscore.");if(8>q)return this;var f=null;n.isFunction(p)&&(p=p());if(n.isString(a)){var l=a,g=this;this.filter("table").each(function(){var a=d(this),b=a.data("floatThead-lazy");b&&a.floatThead(b);(a=a.data("floatThead-attached"))&&n.isFunction(a[l])&&(a=a[l](),"undefined"!==typeof a&&(g=a))});return g}var u=d.extend({},d.floatThead.defaults||{},a);d.each(a,function(a,b){a in
d.floatThead.defaults||!u.debug||e("Used ["+a+"] key to init plugin, but that param is not an option for the plugin. Valid options are: "+n.keys(d.floatThead.defaults).join(", "))});u.debug&&(a=d.fn.jquery.split("."),1==parseInt(a[0],10)&&7>=parseInt(a[1],10)&&e("jQuery version "+d.fn.jquery+" detected! This plugin supports 1.8 or better, or 1.7.x with jQuery UI 1.8.24 -> http://jqueryui.com/resources/download/jquery-ui-1.8.24.zip"));this.filter(":not(."+u.floatTableClass+")").each(function(){function a(a){return a+
".fth-"+Y+".floatTHead"}function e(){var a=0;O.children("tr:visible").each(function(){a+=d(this).outerHeight(!0)});if("collapse"==M.css("border-collapse")){var b=parseInt(M.css("border-top-width"),10),c=parseInt(M.find("thead tr:first").find(">*:first").css("border-top-width"),10);b>c&&(a-=b/2)}Ta.outerHeight(a);Ha.outerHeight(a)}function g(){R=(n.isFunction(u.scrollingTop)?u.scrollingTop(M):u.scrollingTop)||0;ba=(n.isFunction(u.scrollingBottom)?u.scrollingBottom(M):u.scrollingBottom)||0}function l(){var a,
b;if(C)a=Z.find("col").length;else{b=null==u.cellTag&&u.headerCellSelector?u.headerCellSelector:"tr:first>"+u.cellTag;if(n.isNumber(b))return b;b=O.find(b);a=0;b.each(function(){a+=parseInt(d(this).attr("colspan")||1,10)})}if(a!=ha){ha=a;for(var c=[],e=[],g=[],h,k=0;k<a;k++)u.enableAria&&(h=b.eq(k).text())?c.push('<th scope="col" class="floatThead-col">'+h+"</th>"):c.push('<th class="floatThead-col"/>'),e.push("<col/>"),g.push("<fthtd style='display:table-cell;height:0;width:auto;'/>");e=e.join("");
c=c.join("");r&&(g=g.join(""),va.html(g),oa=va.find("fthtd"));Ta.html(c);Ha=Ta.find("th");C||Z.html(e);na=Z.find("col");ea.html(e);Fa=ea.find("col")}return a}function p(){if(!U){U=!0;if(ga){var a=k(M,oa),b=La.width();a>b&&M.css("minWidth",a)}M.css(ib);fa.css(ib);fa.append(O);Q.before(Ra);e()}}function y(){U&&(U=!1,ga&&M.width(cb),Ra.detach(),M.prepend(O),M.css(tb),fa.css(tb),M.css("minWidth",ec),M.css("minWidth",k(M,oa)))}function v(a){fc!=a&&(fc=a,M.triggerHandler("floatThead",[a,za]))}function A(a){ga!=
a&&(ga=a,za.css({position:ga?"absolute":"fixed"}))}function L(){var a,b=l();return function(){na=Z.find("col");var c;c=na;c=r?oa:q?u.getSizingRow(M,c,oa):c;if(c.length==b&&0<b){if(!C)for(a=0;a<b;a++)na.eq(a).css("width","");y();var d=[];for(a=0;a<b;a++){var g=d,h=a,k=c.get(a).getBoundingClientRect();g[h]=k.width||k.right-k.left}for(a=0;a<b;a++)Fa.eq(a).width(d[a]),na.eq(a).width(d[a]);p()}else fa.append(O),M.css(tb),fa.css(tb),e()}}function I(a){a=X.css("border-"+a+"-width");var b=0;a&&~a.indexOf("px")&&
(b=parseInt(a,10));return b}function K(){var a=X.scrollTop(),b,c=0,d=ra?ka.outerHeight(!0):0,e=Ea?d:-d,g=za.height(),h=M.offset(),k=0,f=0;if(aa){var n=X.offset(),c=h.top-n.top+a;ra&&Ea&&(c+=d);k=I("left");f=I("top");c-=f}else b=h.top-R-g+ba+T.horizontal;var m=t.scrollTop(),l=t.scrollLeft(),r=X.scrollLeft();return function(n){var q=0>=M[0].offsetWidth&&0>=M[0].offsetHeight;if(!q&&Ma)return Ma=!1,setTimeout(function(){M.triggerHandler("reflow")},1),null;if(q&&(Ma=!0,!ga))return null;"windowScroll"==
n?(m=t.scrollTop(),l=t.scrollLeft()):"containerScroll"==n?(a=X.scrollTop(),r=X.scrollLeft()):"init"!=n&&(m=t.scrollTop(),l=t.scrollLeft(),a=X.scrollTop(),r=X.scrollLeft());if(!w||!(0>m||0>l)){if(pa)"windowScrollDone"==n?A(!0):A(!1);else if("windowScrollDone"==n)return null;h=M.offset();ra&&Ea&&(h.top+=d);var u,x;n=M.outerHeight();aa&&ga?(c>=a?(u=c-a+f,u=0<u?u:0,v(!1)):(u=$a?f:a,v(!0)),x=k):!aa&&ga?(m>b+n+e?u=n-g+e:h.top>=m+R?(u=0,y(),v(!1)):(u=R+m-h.top+c+(Ea?d:0),p(),v(!0)),x=0):aa&&!ga?(c>a||a-
c>n?(u=h.top-m,y(),v(!1)):(u=h.top+a-m-c,p(),v(!0)),x=h.left+r-l):aa||ga||(m>b+n+e?u=n+R-m+b+e:h.top>m+R?(u=h.top-m,p(),v(!1)):(u=R,v(!0)),x=h.left-l);return{top:u,left:x}}}}function N(){var a=null,b=null,c=null;return function(d,g,h){null==d||a==d.top&&b==d.left||(za.css({top:d.top,left:d.left}),a=d.top,b=d.left);g&&(d=k(M,oa,!0),g=X.width()||d,g="hidden"!=X.css("overflow-y")?g-T.vertical:g,za.width(g),aa?fa.css("width",100*d/g+"%"):fa.outerWidth(d));h&&e();h=X.scrollLeft();ga&&c==h||(za.scrollLeft(h),
c=h)}}function P(){if(X.length)if(X.data().perfectScrollbar)T={horizontal:0,vertical:0};else{var a=X.width(),b=X.height(),c=M.height(),d=k(M,oa),e=a<d?ca:0;T.horizontal=a-(b<c?ca:0)<d?ca:0;T.vertical=b-e<c?ca:0}}var Y=n.uniqueId(),M=d(this);if(M.data("floatThead-attached"))return!0;if(!M.is("table"))throw Error('jQuery.floatThead must be run on a table element. ex: $("table").floatThead();');m=u.autoReflow&&m;var O=M.children("thead:first"),Q=M.children("tbody:first");if(0==O.length||0==Q.length)M.data("floatThead-lazy",
u),M.one("reflow",function(){M.floatThead(u)});else{M.data("floatThead-lazy")&&M.unbind("reflow");M.data("floatThead-lazy",!1);var U=!1,R,ba,T={vertical:0,horizontal:0},ca=h(),ha=0,X=u.scrollContainer(M)||d([]),aa=0<X.length,ga=u.useAbsolutePositioning;null==ga&&(ga=aa);ga||(U=!0);var ka=M.find("caption"),ra=1==ka.length;if(ra)var Ea="top"===(ka.css("caption-side")||ka.attr("align")||"top");var ua=d('<fthfoot style="display:table-footer-group;border-spacing:0;height:0;border-collapse:collapse;"/>'),
$a=!1,La=d([]),pa=9>=q&&!aa&&ga,fa=d("<table/>"),ea=d("<colgroup/>"),Z=M.children("colgroup:first"),C=!0;0==Z.length&&(Z=d("<colgroup/>"),C=!1);var va=d('<fthtr style="display:table-row;border-spacing:0;height:0;border-collapse:collapse"/>'),za=d('<div style="overflow: hidden;" aria-hidden="true" class="floatThead-floatContainer"></div>'),Ma=!1,Ra=d("<thead/>"),Ta=d('<tr class="size-row"/>'),Ha=d([]),na=d([]),Fa=d([]),oa=d([]);Ra.append(Ta);M.prepend(Z);r&&(ua.append(va),M.append(ua));fa.append(ea);
za.append(fa);u.copyTableClass&&fa.attr("class",M.attr("class"));fa.attr({cellpadding:M.attr("cellpadding"),cellspacing:M.attr("cellspacing"),border:M.attr("border")});var V=M.css("display");fa.css({borderCollapse:M.css("borderCollapse"),border:M.css("border"),display:V});"none"==V&&(Ma=!0);fa.addClass(u.floatTableClass).css({margin:0,"border-bottom-width":0});ga?(V=function(a,b){var c=a.css("position");if("relative"!=c&&"absolute"!=c||b)b={paddingLeft:a.css("paddingLeft"),paddingRight:a.css("paddingRight")},
za.css(b),a=a.wrap("<div class='"+u.floatWrapperClass+"' style='position: relative; clear:both;'></div>").parent(),$a=!0;return a},aa?(La=V(X,!0),La.append(za)):(La=V(M),M.after(za))):M.after(za);za.css({position:ga?"absolute":"fixed",marginTop:0,top:ga?0:"auto",zIndex:u.zIndex});za.addClass(u.floatContainerClass);g();var ib={"table-layout":"fixed"},tb={"table-layout":M.css("tableLayout")||"auto"},cb=M[0].style.width||"",ec=M.css("minWidth")||"",fc=!1;P();var ob;ob=L();ob();var W=K(),wa=N();wa(W("init"),
!0);var Xb=n.debounce(function(){wa(W("windowScrollDone"),!1)},1),V=function(){wa(W("windowScroll"),!1);pa&&Xb()},Da=function(){wa(W("containerScroll"),!1)},pb=n.debounce(function(){P();g();ob=L();ob();W=K();wa(W("reflow"),!0)},1);if(aa)if(ga)X.on(a("scroll"),Da);else X.on(a("scroll"),Da),t.on(a("scroll"),V);else t.on(a("scroll"),V);t.on(a("load"),pb);c(u.debounceResizeMs,a("resize"),function(){g();P();ob=L();ob();W=K();wa=N();wa(W("resize"),!0,!0)});M.on("reflow",pb);if(b(M))M.on("filter",pb).on("sort",
pb).on("page",pb);m&&(V=X.length?X[0]:M[0],f=new MutationObserver(function(a){for(var b=function(a){return a&&a[0]&&"THEAD"==a[0].nodeName},c=0;c<a.length;c++)if(!b(a[c].addedNodes)&&!b(a[c].removedNodes)){pb();break}}),f.observe(V,{childList:!0,subtree:!0}));M.data("floatThead-attached",{destroy:function(){var a=".fth-"+Y;y();M.css(tb);Z.remove();r&&ua.remove();Ra.parent().length&&Ra.replaceWith(O);m&&(f.disconnect(),f=null);M.off("reflow");X.off(a);$a&&(X.length?X.unwrap():M.unwrap());M.css("minWidth",
ec);za.remove();M.data("floatThead-attached",!1);t.off(a)},reflow:function(){pb()},setHeaderHeight:function(){e()},getFloatContainer:function(){return za},getRowGroups:function(){return U?za.children("thead").add(M.children("tbody,tfoot")):M.children("thead,tbody,tfoot")}})}});return this}},{jquery:819,underscore:1021}],405:[function(a,l,f){(function(a){var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&
a.constructor===Symbol?"symbol":typeof a};(function(){function a(a){this.tokens=[];this.tokens.links={};this.options=a||r.defaults;this.rules=t.normal;this.options.gfm&&(this.rules=this.options.tables?t.tables:t.gfm)}function b(a,b){this.options=b||r.defaults;this.links=a;this.rules=u.normal;this.renderer=this.options.renderer||new e;this.renderer.options=this.options;if(!this.links)throw Error("Tokens array requires a `links` property.");this.options.gfm?this.rules=this.options.breaks?u.breaks:u.gfm:
this.options.pedantic&&(this.rules=u.pedantic)}function e(a){this.options=a||{}}function d(a){this.tokens=[];this.token=null;this.options=a||r.defaults;this.options.renderer=this.options.renderer||new e;this.renderer=this.options.renderer;this.renderer.options=this.options}function n(a,b){return a.replace(b?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function m(a){return a.replace(/&([#\w]+);/g,function(a,b){b=b.toLowerCase();
return"colon"===b?":":"#"===b.charAt(0)?"x"===b.charAt(1)?String.fromCharCode(parseInt(b.substring(2),16)):String.fromCharCode(+b.substring(1)):""})}function q(a,b){a=a.source;b=b||"";return function v(c,d){if(!c)return new RegExp(a,b);d=d.source||d;d=d.replace(/(^|[^\[])\^/g,"$1");a=a.replace(c,d);return v}}function w(){}function p(a){for(var b=1,c,d;b<arguments.length;b++)for(d in c=arguments[b],c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d]);return a}function r(b,c,e){if(e||"function"===
typeof c){e||(e=c,c=null);c=p({},r.defaults,c||{});var g=c.highlight,h,k,f=0;try{h=a.lex(b,c)}catch(D){return e(D)}k=h.length;var m=function(){var a,b;try{a=d.parse(h,c)}catch(F){b=F}c.highlight=g;return b?e(b):e(null,a)};if(!g||3>g.length)return m();delete c.highlight;if(!k)return m();for(;f<h.length;f++)(function(a){return"code"!==a.type?--k||m():g(a.text,a.lang,function(b,c){if(null==c||c===a.text)return--k||m();a.text=c;a.escaped=!0;--k||m()})})(h[f])}else try{return c&&(c=p({},r.defaults,c)),
d.parse(a.lex(b,c),c)}catch(D){D.message+="\nPlease report this to https://github.com/chjj/marked.";if((c||r.defaults).silent)return"<p>An error occured:</p><pre>"+n(D.message+"",!0)+"</pre>";throw D;}}var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:w,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:w,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,
def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:w,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/,bullet:/(?:[*+-]|\d+\.)/,item:/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/};t.item=q(t.item,"gm")(/bull/g,t.bullet)();t.list=q(t.list)(/bull/g,t.bullet)("hr",/\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)();t._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b";
t.html=q(t.html)("comment",/\x3c!--[\s\S]*?--\x3e/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,t._tag)();t.paragraph=q(t.paragraph)("hr",t.hr)("heading",t.heading)("lheading",t.lheading)("blockquote",t.blockquote)("tag","<"+t._tag)("def",t.def)();t.normal=p({},t);t.gfm=p({},t.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/});t.gfm.paragraph=q(t.paragraph)("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1",
"\\3")+"|")();t.tables=p({},t.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/});a.rules=t;a.lex=function(b,c){return(new a(c)).lex(b)};a.prototype.lex=function(a){a=a.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n");return this.token(a,!0)};a.prototype.token=function(a,b){a=a.replace(/^ +$/gm,"");for(var c,d,e,h,k,f,n;a;){if(e=this.rules.newline.exec(a))a=a.substring(e[0].length),
1<e[0].length&&this.tokens.push({type:"space"});if(e=this.rules.code.exec(a))a=a.substring(e[0].length),e=e[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?e:e.replace(/\n+$/,"")});else if(e=this.rules.fences.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"code",lang:e[2],text:e[3]});else if(e=this.rules.heading.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"heading",depth:e[1].length,text:e[2]});else if(b&&(e=this.rules.nptable.exec(a))){a=
a.substring(e[0].length);k={type:"table",header:e[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3].replace(/\n$/,"").split("\n")};for(f=0;f<k.align.length;f++)/^ *-+: *$/.test(k.align[f])?k.align[f]="right":/^ *:-+: *$/.test(k.align[f])?k.align[f]="center":/^ *:-+ *$/.test(k.align[f])?k.align[f]="left":k.align[f]=null;for(f=0;f<k.cells.length;f++)k.cells[f]=k.cells[f].split(/ *\| */);this.tokens.push(k)}else if(e=this.rules.lheading.exec(a))a=
a.substring(e[0].length),this.tokens.push({type:"heading",depth:"="===e[2]?1:2,text:e[1]});else if(e=this.rules.hr.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"hr"});else if(e=this.rules.blockquote.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"blockquote_start"}),e=e[0].replace(/^ *> ?/gm,""),this.token(e,b),this.tokens.push({type:"blockquote_end"});else if(e=this.rules.list.exec(a)){a=a.substring(e[0].length);h=e[2];this.tokens.push({type:"list_start",ordered:1<h.length});
e=e[0].match(this.rules.item);c=!1;n=e.length;for(f=0;f<n;f++)k=e[f],d=k.length,k=k.replace(/^ *([*+-]|\d+\.) +/,""),~k.indexOf("\n ")&&(d-=k.length,k=this.options.pedantic?k.replace(/^ {1,4}/gm,""):k.replace(new RegExp("^ {1,"+d+"}","gm"),"")),this.options.smartLists&&f!==n-1&&(d=t.bullet.exec(e[f+1])[0],h===d||1<h.length&&1<d.length||(a=e.slice(f+1).join("\n")+a,f=n-1)),d=c||/\n\n(?!\s*$)/.test(k),f!==n-1&&(c="\n"===k.charAt(k.length-1),d||(d=c)),this.tokens.push({type:d?"loose_item_start":"list_item_start"}),
this.token(k,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(e=this.rules.html.exec(a))a=a.substring(e[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===e[1]||"script"===e[1]||"style"===e[1],text:e[0]});else if(b&&(e=this.rules.def.exec(a)))a=a.substring(e[0].length),this.tokens.links[e[1].toLowerCase()]={href:e[2],title:e[3]};else if(b&&(e=this.rules.table.exec(a))){a=a.substring(e[0].length);k={type:"table",header:e[1].replace(/^ *| *\| *$/g,
"").split(/ *\| */),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:e[3].replace(/(?: *\| *)?\n$/,"").split("\n")};for(f=0;f<k.align.length;f++)/^ *-+: *$/.test(k.align[f])?k.align[f]="right":/^ *:-+: *$/.test(k.align[f])?k.align[f]="center":/^ *:-+ *$/.test(k.align[f])?k.align[f]="left":k.align[f]=null;for(f=0;f<k.cells.length;f++)k.cells[f]=k.cells[f].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(k)}else if(b&&(e=this.rules.paragraph.exec(a)))a=a.substring(e[0].length),
this.tokens.push({type:"paragraph",text:"\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1]});else if(e=this.rules.text.exec(a))a=a.substring(e[0].length),this.tokens.push({type:"text",text:e[0]});else if(a)throw Error("Infinite loop on byte: "+a.charCodeAt(0));}return this.tokens};var u={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:w,tag:/^\x3c!--[\s\S]*?--\x3e|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,
nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:w,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/,_inside:/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,_href:/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/};u.link=q(u.link)("inside",u._inside)("href",u._href)();u.reflink=q(u.reflink)("inside",u._inside)();u.normal=p({},u);u.pedantic=
p({},u.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/});u.gfm=p({},u.normal,{escape:q(u.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:q(u.text)("]|","~]|")("|","|https?://|")()});u.breaks=p({},u.gfm,{br:q(u.br)("{2,}","*")(),text:q(u.gfm.text)("{2,}","*")()});b.rules=u;b.output=function(a,c,d){return(new b(c,d)).output(a)};b.prototype.output=function(a){for(var b=
"",c,d;a;)if(d=this.rules.escape.exec(a))a=a.substring(d[0].length),b+=d[1];else if(d=this.rules.autolink.exec(a))a=a.substring(d[0].length),"@"===d[2]?(c=":"===d[1].charAt(6)?this.mangle(d[1].substring(7)):this.mangle(d[1]),d=this.mangle("mailto:")+c):d=c=n(d[1]),b+=this.renderer.link(d,null,c);else if(d=this.rules.url.exec(a))a=a.substring(d[0].length),d=c=n(d[1]),b+=this.renderer.link(d,null,c);else if(d=this.rules.tag.exec(a))a=a.substring(d[0].length),b+=this.options.sanitize?n(d[0]):d[0];else if(d=
this.rules.link.exec(a))a=a.substring(d[0].length),b+=this.outputLink(d,{href:d[2],title:d[3]});else if((d=this.rules.reflink.exec(a))||(d=this.rules.nolink.exec(a)))a=a.substring(d[0].length),c=(d[2]||d[1]).replace(/\s+/g," "),(c=this.links[c.toLowerCase()])&&c.href?b+=this.outputLink(d,c):(b+=d[0].charAt(0),a=d[0].substring(1)+a);else if(d=this.rules.strong.exec(a))a=a.substring(d[0].length),b+=this.renderer.strong(this.output(d[2]||d[1]));else if(d=this.rules.em.exec(a))a=a.substring(d[0].length),
b+=this.renderer.em(this.output(d[2]||d[1]));else if(d=this.rules.code.exec(a))a=a.substring(d[0].length),b+=this.renderer.codespan(n(d[2],!0));else if(d=this.rules.br.exec(a))a=a.substring(d[0].length),b+=this.renderer.br();else if(d=this.rules.del.exec(a))a=a.substring(d[0].length),b+=this.renderer.del(this.output(d[1]));else if(d=this.rules.text.exec(a))a=a.substring(d[0].length),b+=n(this.smartypants(d[0]));else if(a)throw Error("Infinite loop on byte: "+a.charCodeAt(0));return b};b.prototype.outputLink=
function(a,b){var c=n(b.href);b=b.title?n(b.title):null;return"!"!==a[0].charAt(0)?this.renderer.link(c,b,this.output(a[1])):this.renderer.image(c,b,n(a[1]))};b.prototype.smartypants=function(a){return this.options.smartypants?a.replace(/--/g,"\u2014").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201c").replace(/"/g,"\u201d").replace(/\.{3}/g,"\u2026"):a};b.prototype.mangle=function(a){for(var b="",c=a.length,d=0,e;d<c;d++)e=a.charCodeAt(d),
.5<Math.random()&&(e="x"+e.toString(16)),b+="&#"+e+";";return b};e.prototype.code=function(a,b,c){if(this.options.highlight){var d=this.options.highlight(a,b);null!=d&&d!==a&&(c=!0,a=d)}return b?'<pre><code class="'+this.options.langPrefix+n(b,!0)+'">'+(c?a:n(a,!0))+"\n</code></pre>\n":"<pre><code>"+(c?a:n(a,!0))+"\n</code></pre>"};e.prototype.blockquote=function(a){return"<blockquote>\n"+a+"</blockquote>\n"};e.prototype.html=function(a){return a};e.prototype.heading=function(a,b,c){return"<h"+b+
' id="'+this.options.headerPrefix+c.toLowerCase().replace(/[^\w]+/g,"-")+'">'+a+"</h"+b+">\n"};e.prototype.hr=function(){return"<hr>\n"};e.prototype.list=function(a,b){b=b?"ol":"ul";return"<"+b+">\n"+a+"</"+b+">\n"};e.prototype.listitem=function(a){return"<li>"+a+"</li>\n"};e.prototype.paragraph=function(a){return"<p>"+a+"</p>\n"};e.prototype.table=function(a,b){return"<table>\n<thead>\n"+a+"</thead>\n<tbody>\n"+b+"</tbody>\n</table>\n"};e.prototype.tablerow=function(a){return"<tr>\n"+a+"</tr>\n"};
e.prototype.tablecell=function(a,b){var c=b.header?"th":"td";return(b.align?"<"+c+' style="text-align:'+b.align+'">':"<"+c+">")+a+"</"+c+">\n"};e.prototype.strong=function(a){return"<strong>"+a+"</strong>"};e.prototype.em=function(a){return"<em>"+a+"</em>"};e.prototype.codespan=function(a){return"<code>"+a+"</code>"};e.prototype.br=function(){return"<br>"};e.prototype.del=function(a){return"<del>"+a+"</del>"};e.prototype.link=function(a,b,c){if(this.options.sanitize){try{var d=decodeURIComponent(m(a)).replace(/[^\w:]/g,
"").toLowerCase()}catch(z){return""}if(0===d.indexOf("javascript:"))return""}a='<a href="'+a+'"';b&&(a+=' title="'+b+'"');return a+(">"+c+"</a>")};e.prototype.image=function(a,b,c){a='<img src="'+a+'" alt="'+c+'"';b&&(a+=' title="'+b+'"');return a+">"};d.parse=function(a,b,c){return(new d(b,c)).parse(a)};d.prototype.parse=function(a){this.inline=new b(a.links,this.options,this.renderer);this.tokens=a.reverse();for(a="";this.next();)a+=this.tok();return a};d.prototype.next=function(){return this.token=
this.tokens.pop()};d.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0};d.prototype.parseText=function(){for(var a=this.token.text;"text"===this.peek().type;)a+="\n"+this.next().text;return this.inline.output(a)};d.prototype.tok=function(){switch(this.token.type){case "space":return"";case "hr":return this.renderer.hr();case "heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case "code":return this.renderer.code(this.token.text,
this.token.lang,this.token.escaped);case "table":var a="",b="",c,d,e,h;e="";for(c=0;c<this.token.header.length;c++)e+=this.renderer.tablecell(this.inline.output(this.token.header[c]),{header:!0,align:this.token.align[c]});a+=this.renderer.tablerow(e);for(c=0;c<this.token.cells.length;c++){d=this.token.cells[c];e="";for(h=0;h<d.length;h++)e+=this.renderer.tablecell(this.inline.output(d[h]),{header:!1,align:this.token.align[h]});b+=this.renderer.tablerow(e)}return this.renderer.table(a,b);case "blockquote_start":for(b=
"";"blockquote_end"!==this.next().type;)b+=this.tok();return this.renderer.blockquote(b);case "list_start":b="";for(a=this.token.ordered;"list_end"!==this.next().type;)b+=this.tok();return this.renderer.list(b,a);case "list_item_start":for(b="";"list_item_end"!==this.next().type;)b+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(b);case "loose_item_start":for(b="";"list_item_end"!==this.next().type;)b+=this.tok();return this.renderer.listitem(b);case "html":return b=
this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text),this.renderer.html(b);case "paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case "text":return this.renderer.paragraph(this.parseText())}};w.exec=w;r.options=r.setOptions=function(a){p(r.defaults,a);return r};r.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new e};r.Parser=
d;r.parser=d.parse;r.Renderer=e;r.Lexer=a;r.lexer=a.lex;r.InlineLexer=b;r.inlineLexer=b.output;r.parse=r;"object"===("undefined"===typeof f?"undefined":c(f))?l.exports=r:"function"===typeof define&&define.amd?define(function(){return r}):this.marked=r}).call(function(){return this||("undefined"!==typeof window?window:a)}())}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],406:[function(a,l,f){(function(c){function e(a,b,c){a[b]||
Object.defineProperty(a,b,{writable:!0,configurable:!0,value:c})}a("core-js/shim");a("regenerator-runtime/runtime");a("core-js/fn/regexp/escape");if(c._babelPolyfill)throw Error("only one instance of babel-polyfill is allowed");c._babelPolyfill=!0;e(String.prototype,"padLeft","".padStart);e(String.prototype,"padRight","".padEnd);"pop reverse shift keys values entries indexOf every some forEach map filter find findIndex includes join slice concat push splice unshift sort lastIndexOf reduce reduceRight copyWithin fill".split(" ").forEach(function(a){[][a]&&
e(Array,a,Function.call.bind([][a]))})}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"core-js/fn/regexp/escape":412,"core-js/shim":705,"regenerator-runtime/runtime":1013}],407:[function(a,l,f){(function(c,e){if("function"===typeof define&&define.amd)define(["underscore","jquery","exports"],function(a,h,d){c.Backbone=e(c,d,a,h)});else if("undefined"!==typeof f){var h=a("underscore");e(c,f,h)}else c.Backbone=e(c,{},c._,c.jQuery||
c.Zepto||c.ender||c.$)})(this,function(a,e,h,b){var c=a.Backbone,d=[].slice;e.VERSION="1.1.2";e.$=b;e.noConflict=function(){a.Backbone=c;return this};e.emulateHTTP=!1;e.emulateJSON=!1;var f=e.Events={on:function(a,b,c){if(!l(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});(this._events[a]||(this._events[a]=[])).push({callback:b,context:c,ctx:c||this});return this},once:function(a,b,c){if(!l(this,"once",a,[b,c])||!b)return this;var d=this,e=h.once(function(){d.off(a,e);b.apply(this,
arguments)});e._callback=b;return this.on(a,e,c)},off:function(a,b,c){var d,e,g,k,f,n,m,r;if(!this._events||!l(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events=void 0,this;k=a?[a]:h.keys(this._events);f=0;for(n=k.length;f<n;f++)if(a=k[f],g=this._events[a]){this._events[a]=d=[];if(b||c)for(m=0,r=g.length;m<r;m++)e=g[m],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&d.push(e);d.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;
var b=d.call(arguments,1);if(!l(this,"trigger",a,b))return this;var c=this._events[a],e=this._events.all;c&&w(c,b);e&&w(e,arguments);return this},stopListening:function(a,b,c){var d=this._listeningTo;if(!d)return this;var e=!b&&!c;c||"object"!==typeof b||(c=this);a&&((d={})[a._listenId]=a);for(var g in d)a=d[g],a.off(b,c,this),(e||h.isEmpty(a._events))&&delete this._listeningTo[g];return this}},m=/\s+/,l=function(a,b,c,d){if(!c)return!0;if("object"===typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));
return!1}if(m.test(c)){c=c.split(m);e=0;for(var g=c.length;e<g;e++)a[b].apply(a,[c[e]].concat(d));return!1}return!0},w=function(a,b){var c,d=-1,e=a.length,g=b[0],h=b[1],k=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);break;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,g);break;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,g,h);break;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,g,h,k);break;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}};h.each({listenTo:"on",
listenToOnce:"once"},function(a,b){f[b]=function(b,c,d){var e=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=h.uniqueId("l"));e[g]=b;d||"object"!==typeof c||(d=this);b[a](c,d,this);return this}});f.bind=f.on;f.unbind=f.off;h.extend(e,f);var p=e.Model=function(a,b){var c=a||{};b||(b={});this.cid=h.uniqueId("c");this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(c=this.parse(c,b)||{});c=h.defaults({},c,h.result(this,"defaults"));this.set(c,b);this.changed=
{};this.initialize.apply(this,arguments)};h.extend(p.prototype,f,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return h.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return h.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,g,k,f,n,m;if(null==a)return this;"object"===typeof a?(e=a,c=b):(e={})[a]=b;c||(c={});if(!this._validate(e,
c))return!1;g=c.unset;k=c.silent;a=[];f=this._changing;this._changing=!0;f||(this._previousAttributes=h.clone(this.attributes),this.changed={});m=this.attributes;n=this._previousAttributes;this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],h.isEqual(m[d],b)||a.push(d),h.isEqual(n[d],b)?delete this.changed[d]:this.changed[d]=b,g?delete m[d]:m[d]=b;if(!k)for(a.length&&(this._pending=c),b=0,d=a.length;b<d;b++)this.trigger("change:"+a[b],this,m[a[b]],c);if(f)return this;if(!k)for(;this._pending;)c=
this._pending,this._pending=!1,this.trigger("change",this,c);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,h.extend({},b,{unset:!0}))},clear:function(a){var b={},c;for(c in this.attributes)b[c]=void 0;return this.set(b,h.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?h.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:
this.attributes,e;for(e in a)h.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(a){a=a?h.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=this,c=a.success;a.success=function(d){if(!b.set(b.parse(d,a),a))return!1;c&&c(b,d,a);b.trigger("sync",b,d,a)};P(this,a);return this.sync("read",this,a)},save:function(a,b,c){var d,
e=this.attributes;null==a||"object"===typeof a?(d=a,c=b):(d={})[a]=b;c=h.extend({validate:!0},c);if(d&&!c.wait){if(!this.set(d,c))return!1}else if(!this._validate(d,c))return!1;d&&c.wait&&(this.attributes=h.extend({},e,d));void 0===c.parse&&(c.parse=!0);var g=this,k=c.success;c.success=function(a){g.attributes=e;var b=g.parse(a,c);c.wait&&(b=h.extend(d||{},b));if(h.isObject(b)&&!g.set(b,c))return!1;k&&k(g,a,c);g.trigger("sync",g,a,c)};P(this,c);a=this.isNew()?"create":c.patch?"patch":"update";"patch"===
a&&(c.attrs=d);a=this.sync(a,this,c);d&&c.wait&&(this.attributes=e);return a},destroy:function(a){a=a?h.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};a.success=function(e){(a.wait||b.isNew())&&d();c&&c(b,e,a);b.isNew()||b.trigger("sync",b,e,a)};if(this.isNew())return a.success(),!1;P(this,a);var e=this.sync("delete",this,a);a.wait||d();return e},url:function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||N();return this.isNew()?a:a.replace(/([^\/])$/,
"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},h.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=h.extend({},this.attributes,a);a=this.validationError=this.validate(a,b)||null;if(!a)return!0;this.trigger("invalid",this,a,h.extend(b,{validationError:a}));return!1}});h.each("keys values pairs invert pick omit".split(" "),
function(a){p.prototype[a]=function(){var b=d.call(arguments);b.unshift(this.attributes);return h[a].apply(h,b)}});var r=e.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,h.extend({silent:!0},b))},t={add:!0,remove:!0,merge:!0},u={add:!0,remove:!1};h.extend(r.prototype,f,{model:p,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},
sync:function(){return e.sync.apply(this,arguments)},add:function(a,b){return this.set(a,h.extend({merge:!1},b,u))},remove:function(a,b){var c=!h.isArray(a);a=c?[a]:h.clone(a);b||(b={});var d,e,g,k;d=0;for(e=a.length;d<e;d++)if(k=a[d]=this.get(a[d]))delete this._byId[k.id],delete this._byId[k.cid],g=this.indexOf(k),this.models.splice(g,1),this.length--,b.silent||(b.index=g,k.trigger("remove",k,this,b)),this._removeReference(k,b);return c?a[0]:a},set:function(a,b){b=h.defaults({},b,t);b.parse&&(a=
this.parse(a,b));var c=!h.isArray(a);a=c?a?[a]:[]:h.clone(a);var d,e,g,k,f,n,m=b.at,l=this.model,r=this.comparator&&null==m&&!1!==b.sort,q=h.isString(this.comparator)?this.comparator:null,u=[],y=[],v={},w=b.add,x=b.merge,D=b.remove,B=!r&&w&&D?[]:!1;d=0;for(e=a.length;d<e;d++){f=a[d]||{};g=f instanceof p?k=f:f[l.prototype.idAttribute||"id"];if(g=this.get(g))D&&(v[g.cid]=!0),x&&(f=f===k?k.attributes:f,b.parse&&(f=g.parse(f,b)),g.set(f,b),r&&!n&&g.hasChanged(q)&&(n=!0)),a[d]=g;else if(w){k=a[d]=this._prepareModel(f,
b);if(!k)continue;u.push(k);this._addReference(k,b)}k=g||k;!B||!k.isNew()&&v[k.id]||B.push(k);v[k.id]=!0}if(D){d=0;for(e=this.length;d<e;++d)v[(k=this.models[d]).cid]||y.push(k);y.length&&this.remove(y,b)}if(u.length||B&&B.length)if(r&&(n=!0),this.length+=u.length,null!=m)for(d=0,e=u.length;d<e;d++)this.models.splice(m+d,0,u[d]);else for(B&&(this.models.length=0),f=B||u,d=0,e=f.length;d<e;d++)this.models.push(f[d]);n&&this.sort({silent:!0});if(!b.silent){d=0;for(e=u.length;d<e;d++)(k=u[d]).trigger("add",
k,this,b);(n||B&&B.length)&&this.trigger("sort",this,b)}return c?a[0]:a},reset:function(a,b){b||(b={});for(var c=0,d=this.models.length;c<d;c++)this._removeReference(this.models[c],b);b.previousModels=this.models;this._reset();a=this.add(a,h.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,h.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);this.remove(b,a);return b},unshift:function(a,b){return this.add(a,h.extend({at:0},
b))},shift:function(a){var b=this.at(0);this.remove(b,a);return b},slice:function(){return d.apply(this.models,arguments)},get:function(a){if(null!=a)return this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return h.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw Error("Cannot sort a set without a comparator");
a||(a={});h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this));a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return h.invoke(this.models,"get",a)},fetch:function(a){a=a?h.clone(a):{};void 0===a.parse&&(a.parse=!0);var b=a.success,c=this;a.success=function(d){c[a.reset?"reset":"set"](d,a);b&&b(c,d,a);c.trigger("sync",c,d,a)};P(this,a);return this.sync("read",this,a)},create:function(a,
b){b=b?h.clone(b):{};if(!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;b.success=function(a,e){b.wait&&c.add(a,b);d&&d(a,e,b)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(a instanceof p)return a;b=b?h.clone(b):{};b.collection=this;a=new this.model(a,b);if(!a.validationError)return a;this.trigger("invalid",
this,a.validationError,b);return!1},_addReference:function(a,b){this._byId[a.cid]=a;null!=a.id&&(this._byId[a.id]=a);a.collection||(a.collection=this);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if("add"!==a&&"remove"!==a||c===this)"destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=
b)),this.trigger.apply(this,arguments)}});h.each("forEach each map collect reduce foldl inject reduceRight foldr find detect filter select reject every all some any include contains invoke max min toArray size first head take initial rest tail drop last without difference indexOf shuffle lastIndexOf isEmpty chain sample".split(" "),function(a){r.prototype[a]=function(){var b=d.call(arguments);b.unshift(this.models);return h[a].apply(h,b)}});h.each(["groupBy","countBy","sortBy","indexBy"],function(a){r.prototype[a]=
function(b,c){var d=h.isFunction(b)?b:function(a){return a.get(b)};return h[a](this.models,d,c)}});b=e.View=function(a){this.cid=h.uniqueId("view");a||(a={});h.extend(this,h.pick(a,A));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var y=/^(\S+)\s*(.*)$/,A="model collection el id attributes className tagName events".split(" ");h.extend(b.prototype,f,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();
this.stopListening();return this},setElement:function(a,b){this.$el&&this.undelegateEvents();this.$el=a instanceof e.$?a:e.$(a);this.el=this.$el[0];!1!==b&&this.delegateEvents();return this},delegateEvents:function(a){if(!a&&!(a=h.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var c=a[b];h.isFunction(c)||(c=this[a[b]]);if(c){var d=b.match(y),e=d[1],d=d[2],c=h.bind(c,this),e=e+(".delegateEvents"+this.cid);if(""===d)this.$el.on(e,c);else this.$el.on(e,d,c)}}return this},
undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var a=h.extend({},h.result(this,"attributes"));this.id&&(a.id=h.result(this,"id"));this.className&&(a["class"]=h.result(this,"className"));a=e.$("<"+h.result(this,"tagName")+">").attr(a);this.setElement(a,!1)}}});e.sync=function(a,b,c){var d=v[a];h.defaults(c||(c={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var k={type:d,
dataType:"json"};c.url||(k.url=h.result(b,"url")||N());null!=c.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(k.contentType="application/json",k.data=JSON.stringify(c.attrs||b.toJSON(c)));c.emulateJSON&&(k.contentType="application/x-www-form-urlencoded",k.data=k.data?{model:k.data}:{});if(c.emulateHTTP&&("PUT"===d||"DELETE"===d||"PATCH"===d)){k.type="POST";c.emulateJSON&&(k.data._method=d);var f=c.beforeSend;c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d);if(f)return f.apply(this,
arguments)}}"GET"===k.type||c.emulateJSON||(k.processData=!1);"PATCH"===k.type&&g&&(k.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});a=c.xhr=e.ajax(h.extend(k,c));b.trigger("request",b,a,c);return a};var g="undefined"!==typeof window&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),v={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var z=e.Router=function(a){a||(a={});
a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},B=/\((.*?)\)/g,G=/(\(\?)?:\w+/g,x=/\*\w+/g,D=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(z.prototype,f,{initialize:function(){},route:function(a,b,c){h.isRegExp(a)||(a=this._routeToRegExp(a));h.isFunction(b)&&(c=b,b="");c||(c=this[b]);var d=this;e.history.route(a,function(g){g=d._extractParameters(a,g);d.execute(c,g);d.trigger.apply(d,["route:"+b].concat(g));d.trigger("route",b,g);e.history.trigger("route",d,b,g)});
return this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,b){e.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=h.result(this,"routes");for(var a,b=h.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(D,"\\$&").replace(B,"(?:$1)?").replace(G,function(a,b){return b?a:"([^/?]+)"}).replace(x,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var c=a.exec(b).slice(1);
return h.map(c,function(a,b){return b===c.length-1?a||null:a?decodeURIComponent(a):null})}});var E=e.History=function(){this.handlers=[];h.bindAll(this,"checkUrl");"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},F=/^[#\/]|\s+$/g,J=/^\/+|\/+$/g,L=/msie [\w.]+/,I=/\/$/,K=/#.*$/;E.started=!1;h.extend(E.prototype,f,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?
a[1]:""},getFragment:function(a,b){null==a&&(this._hasPushState||!this._wantsHashChange||b?(a=decodeURI(this.location.pathname+this.location.search),b=this.root.replace(I,""),a.indexOf(b)||(a=a.slice(b.length))):a=this.getHash());return a.replace(F,"")},start:function(a){if(E.started)throw Error("Backbone.history has already been started");E.started=!0;this.options=h.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._wantsPushState=
!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);a=this.getFragment();var b=document.documentMode,b=L.exec(navigator.userAgent.toLowerCase())&&(!b||7>=b);this.root=("/"+this.root+"/").replace(J,"/");b&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1">').hide().appendTo("body")[0].contentWindow,this.navigate(a));if(this._hasPushState)e.$(window).on("popstate",this.checkUrl);else if(this._wantsHashChange&&"onhashchange"in
window&&!b)e.$(window).on("hashchange",this.checkUrl);else this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));this.fragment=a;a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(F,""),this.history.replaceState({},document.title,this.root+
this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);E.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe)));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){a=
this.fragment=this.getFragment(a);return h.any(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!E.started)return!1;b&&!0!==b||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));a=a.replace(K,"");if(this.fragment!==a){this.fragment=a;""===a&&"/"!==c&&(c=c.slice(0,-1));if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&
a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});e.history=new E;p.extend=r.extend=z.extend=b.extend=E.extend=function(a,b){var c=this,d;d=a&&h.has(a,"constructor")?a.constructor:function(){return c.apply(this,arguments)};
h.extend(d,c,b);b=function(){this.constructor=d};b.prototype=c.prototype;d.prototype=new b;a&&h.extend(d.prototype,a);d.__super__=c.prototype;return d};var N=function(){throw Error('A "url" property or function must be specified');},P=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b);a.trigger("error",a,d,b)}};return e})},{underscore:1021}],408:[function(a,l,f){function c(a){var b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===
a[b-1]?1:0}function e(a,b,c){for(var d=[],e=b;e<c;e+=3)b=(a[e]<<16)+(a[e+1]<<8)+a[e+2],d.push(h[b>>18&63]+h[b>>12&63]+h[b>>6&63]+h[b&63]);return d.join("")}f.byteLength=function(a){return 3*a.length/4-c(a)};f.toByteArray=function(a){var d,e,h,f,l;d=a.length;f=c(a);l=new k(3*d/4-f);e=0<f?d-4:d;var r=0;for(d=0;d<e;d+=4)h=b[a.charCodeAt(d)]<<18|b[a.charCodeAt(d+1)]<<12|b[a.charCodeAt(d+2)]<<6|b[a.charCodeAt(d+3)],l[r++]=h>>16&255,l[r++]=h>>8&255,l[r++]=h&255;2===f?(h=b[a.charCodeAt(d)]<<2|b[a.charCodeAt(d+
1)]>>4,l[r++]=h&255):1===f&&(h=b[a.charCodeAt(d)]<<10|b[a.charCodeAt(d+1)]<<4|b[a.charCodeAt(d+2)]>>2,l[r++]=h>>8&255,l[r++]=h&255);return l};f.fromByteArray=function(a){for(var b=a.length,c=b%3,d="",k=[],f=0,l=b-c;f<l;f+=16383)k.push(e(a,f,f+16383>l?l:f+16383));1===c?(a=a[b-1],d+=h[a>>2],d+=h[a<<4&63],d+="=="):2===c&&(a=(a[b-2]<<8)+a[b-1],d+=h[a>>10],d+=h[a>>4&63],d+=h[a<<2&63],d+="=");k.push(d);return k.join("")};var h=[],b=[],k="undefined"!==typeof Uint8Array?Uint8Array:Array;for(a=0;64>a;++a)h[a]=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a],b["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(a)]=a;b[45]=62;b[95]=63},{}],409:[function(a,l,f){(function(c){var e=a("buffer"),h=e.Buffer,b=e.SlowBuffer,k=e.kMaxLength||2147483647;f.alloc=function(a,b,c){if("function"===typeof h.alloc)return h.alloc(a,b,c);if("number"===typeof c)throw new TypeError("encoding must not be number");if("number"!==typeof a)throw new TypeError("size must be a number");
if(a>k)throw new RangeError("size is too large");var d=b;void 0===d&&(c=void 0,d=0);b=new h(a);if("string"===typeof d){c=new h(d,c);for(var d=c.length,e=-1;++e<a;)b[e]=c[e%d]}else b.fill(d);return b};f.allocUnsafe=function(a){if("function"===typeof h.allocUnsafe)return h.allocUnsafe(a);if("number"!==typeof a)throw new TypeError("size must be a number");if(a>k)throw new RangeError("size is too large");return new h(a)};f.from=function(a,b,e){if("function"===typeof h.from&&(!c.Uint8Array||Uint8Array.from!==
h.from))return h.from(a,b,e);if("number"===typeof a)throw new TypeError('"value" argument must not be a number');if("string"===typeof a)return new h(a,b);if("undefined"!==typeof ArrayBuffer&&a instanceof ArrayBuffer){var d=b;if(1===arguments.length)return new h(a);"undefined"===typeof d&&(d=0);var k=e;"undefined"===typeof k&&(k=a.byteLength-d);if(d>=a.byteLength)throw new RangeError("'offset' is out of bounds");if(k>a.byteLength-d)throw new RangeError("'length' is out of bounds");return new h(a.slice(d,
d+k))}if(h.isBuffer(a))return d=new h(a.length),a.copy(d,0,0,a.length),d;if(a){if(Array.isArray(a)||"undefined"!==typeof ArrayBuffer&&a.buffer instanceof ArrayBuffer||"length"in a)return new h(a);if("Buffer"===a.type&&Array.isArray(a.data))return new h(a.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");};f.allocUnsafeSlow=function(a){if("function"===typeof h.allocUnsafeSlow)return h.allocUnsafeSlow(a);if("number"!==typeof a)throw new TypeError("size must be a number");
if(a>=k)throw new RangeError("size is too large");return new b(a)}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{buffer:1025}],410:[function(a,l,f){(function(c,e){if("function"===typeof define&&define.amd)define(["long"],e);else if("function"===typeof a&&"object"===typeof l&&l&&l.exports){var h;try{h=a("long")}catch(b){}c=e(h);l.exports=c}else(c.dcodeIO=c.dcodeIO||{}).ByteBuffer=e(c.dcodeIO.Long)})(this,function(a){function c(a){var b=
0;return function(){return b<a.length?a.charCodeAt(b++):null}}function h(){var a=[],b=[];return function(){if(0===arguments.length)return b.join("")+l.apply(String,a);1024<a.length+arguments.length&&(b.push(l.apply(String,a)),a.length=0);Array.prototype.push.apply(a,arguments)}}function b(a,b,c,d,e){var g;g=8*e-d-1;var h=(1<<g)-1,k=h>>1,f=-7;e=c?e-1:0;var n=c?-1:1,m=a[b+e];e+=n;c=m&(1<<-f)-1;m>>=-f;for(f+=g;0<f;c=256*c+a[b+e],e+=n,f-=8);g=c&(1<<-f)-1;c>>=-f;for(f+=d;0<f;g=256*g+a[b+e],e+=n,f-=8);
if(0===c)c=1-k;else{if(c===h)return g?NaN:Infinity*(m?-1:1);g+=Math.pow(2,d);c-=k}return(m?-1:1)*g*Math.pow(2,c-d)}function k(a,b,c,d,e,g){var h,k=8*g-e-1,f=(1<<k)-1,n=f>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0;g=d?0:g-1;var l=d?1:-1,r=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);isNaN(b)||Infinity===b?(b=isNaN(b)?1:0,d=f):(d=Math.floor(Math.log(b)/Math.LN2),1>b*(h=Math.pow(2,-d))&&(d--,h*=2),b=1<=d+n?b+m/h:b+m*Math.pow(2,1-n),2<=b*h&&(d++,h/=2),d+n>=f?(b=0,d=f):1<=d+n?(b=(b*h-1)*Math.pow(2,e),d+=n):
(b=b*Math.pow(2,n-1)*Math.pow(2,e),d=0));for(;8<=e;a[c+g]=b&255,g+=l,b/=256,e-=8);d=d<<e|b;for(k+=e;0<k;a[c+g]=d&255,g+=l,d/=256,k-=8);a[c+g-l]|=128*r}var d=function(a,b,c){"undefined"===typeof a&&(a=d.DEFAULT_CAPACITY);"undefined"===typeof b&&(b=d.DEFAULT_ENDIAN);"undefined"===typeof c&&(c=d.DEFAULT_NOASSERT);if(!c){a|=0;if(0>a)throw RangeError("Illegal capacity");b=!!b;c=!!c}this.buffer=0===a?m:new ArrayBuffer(a);this.view=0===a?null:new Uint8Array(this.buffer);this.offset=0;this.markedOffset=-1;
this.limit=a;this.littleEndian=b;this.noAssert=c};d.VERSION="5.0.1";d.LITTLE_ENDIAN=!0;d.BIG_ENDIAN=!1;d.DEFAULT_CAPACITY=16;d.DEFAULT_ENDIAN=d.BIG_ENDIAN;d.DEFAULT_NOASSERT=!1;d.Long=a||null;var f=d.prototype;Object.defineProperty(f,"__isByteBuffer__",{value:!0,enumerable:!1,configurable:!1});var m=new ArrayBuffer(0),l=String.fromCharCode;d.accessor=function(){return Uint8Array};d.allocate=function(a,b,c){return new d(a,b,c)};d.concat=function(a,b,c,e){if("boolean"===typeof b||"string"!==typeof b)e=
c,c=b,b=void 0;for(var h=0,g=0,k=a.length,f;g<k;++g)d.isByteBuffer(a[g])||(a[g]=d.wrap(a[g],b)),f=a[g].limit-a[g].offset,0<f&&(h+=f);if(0===h)return new d(0,c,e);b=new d(h,c,e);for(g=0;g<k;)c=a[g++],f=c.limit-c.offset,0>=f||(b.view.set(c.view.subarray(c.offset,c.limit),b.offset),b.offset+=f);b.limit=b.offset;b.offset=0;return b};d.isByteBuffer=function(a){return!0===(a&&a.__isByteBuffer__)};d.type=function(){return ArrayBuffer};d.wrap=function(a,b,c,e){"string"!==typeof b&&(e=c,c=b,b=void 0);if("string"===
typeof a)switch("undefined"===typeof b&&(b="utf8"),b){case "base64":return d.fromBase64(a,c);case "hex":return d.fromHex(a,c);case "binary":return d.fromBinary(a,c);case "utf8":return d.fromUTF8(a,c);case "debug":return d.fromDebug(a,c);default:throw Error("Unsupported encoding: "+b);}if(null===a||"object"!==typeof a)throw TypeError("Illegal buffer");if(d.isByteBuffer(a))return b=f.clone.call(a),b.markedOffset=-1,b;if(a instanceof Uint8Array)b=new d(0,c,e),0<a.length&&(b.buffer=a.buffer,b.offset=
a.byteOffset,b.limit=a.byteOffset+a.byteLength,b.view=new Uint8Array(a.buffer));else if(a instanceof ArrayBuffer)b=new d(0,c,e),0<a.byteLength&&(b.buffer=a,b.offset=0,b.limit=a.byteLength,b.view=0<a.byteLength?new Uint8Array(a):null);else if("[object Array]"===Object.prototype.toString.call(a))for(b=new d(a.length,c,e),b.limit=a.length,c=0;c<a.length;++c)b.view[c]=a[c];else throw TypeError("Illegal buffer");return b};f.writeBitSet=function(a,b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if(!(a instanceof
Array))throw TypeError("Illegal BitSet: Not an array");if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);}var d=b,e=a.length,g=e>>3,h=0,k;for(b+=this.writeVarint32(e,b);g--;)k=!!a[h++]&1|(!!a[h++]&1)<<1|(!!a[h++]&1)<<2|(!!a[h++]&1)<<3|(!!a[h++]&1)<<4|(!!a[h++]&1)<<5|(!!a[h++]&1)<<6|(!!a[h++]&1)<<7,this.writeByte(k,b++);if(h<e){for(k=g=0;h<
e;)k|=(!!a[h++]&1)<<g++;this.writeByte(k,b++)}return c?(this.offset=b,this):b-d};f.readBitSet=function(a){var b="undefined"===typeof a;b&&(a=this.offset);var c=this.readVarint32(a),d=c.value,e=d>>3,g=0,h=[];for(a+=c.length;e--;)c=this.readByte(a++),h[g++]=!!(c&1),h[g++]=!!(c&2),h[g++]=!!(c&4),h[g++]=!!(c&8),h[g++]=!!(c&16),h[g++]=!!(c&32),h[g++]=!!(c&64),h[g++]=!!(c&128);if(g<d)for(e=0,c=this.readByte(a++);g<d;)h[g++]=!!(c>>e++&1);b&&(this.offset=a);return h};f.readBytes=function(a,b){var c="undefined"===
typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+a>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+"+a+") <= "+this.buffer.byteLength);}b=this.slice(b,b+a);c&&(this.offset+=a);return b};f.writeBytes=f.append;f.writeInt8=function(a,b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal value: "+a+" (not an integer)");
a|=0;if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);}b+=1;var d=this.buffer.byteLength;b>d&&this.resize((d*=2)>b?d:b);this.view[b-1]=a;c&&(this.offset+=1);return this};f.writeByte=f.writeInt8;f.readInt8=function(a){var b="undefined"===typeof a;b&&(a=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+
a+" (not an integer)");a>>>=0;if(0>a||a+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+1) <= "+this.buffer.byteLength);}a=this.view[a];128===(a&128)&&(a=-(255-a+1));b&&(this.offset+=1);return a};f.readByte=f.readInt8;f.writeUint8=function(a,b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal value: "+a+" (not an integer)");a>>>=0;if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+
" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);}b+=1;var d=this.buffer.byteLength;b>d&&this.resize((d*=2)>b?d:b);this.view[b-1]=a;c&&(this.offset+=1);return this};f.writeUInt8=f.writeUint8;f.readUint8=function(a){var b="undefined"===typeof a;b&&(a=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");a>>>=0;if(0>a||a+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+
a+" (+1) <= "+this.buffer.byteLength);}a=this.view[a];b&&(this.offset+=1);return a};f.readUInt8=f.readUint8;f.writeInt16=function(a,b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal value: "+a+" (not an integer)");a|=0;if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);
}b+=2;var d=this.buffer.byteLength;b>d&&this.resize((d*=2)>b?d:b);b-=2;this.littleEndian?(this.view[b+1]=(a&65280)>>>8,this.view[b]=a&255):(this.view[b]=(a&65280)>>>8,this.view[b+1]=a&255);c&&(this.offset+=2);return this};f.writeShort=f.writeInt16;f.readInt16=function(a){var b="undefined"===typeof a;b&&(a=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");a>>>=0;if(0>a||a+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+
a+" (+2) <= "+this.buffer.byteLength);}var c;this.littleEndian?(c=this.view[a],c|=this.view[a+1]<<8):(c=this.view[a]<<8,c|=this.view[a+1]);32768===(c&32768)&&(c=-(65535-c+1));b&&(this.offset+=2);return c};f.readShort=f.readInt16;f.writeUint16=function(a,b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal value: "+a+" (not an integer)");a>>>=0;if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");
b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);}b+=2;var d=this.buffer.byteLength;b>d&&this.resize((d*=2)>b?d:b);b-=2;this.littleEndian?(this.view[b+1]=(a&65280)>>>8,this.view[b]=a&255):(this.view[b]=(a&65280)>>>8,this.view[b+1]=a&255);c&&(this.offset+=2);return this};f.writeUInt16=f.writeUint16;f.readUint16=function(a){var b="undefined"===typeof a;b&&(a=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+
a+" (not an integer)");a>>>=0;if(0>a||a+2>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+2) <= "+this.buffer.byteLength);}var c;this.littleEndian?(c=this.view[a],c|=this.view[a+1]<<8):(c=this.view[a]<<8,c|=this.view[a+1]);b&&(this.offset+=2);return c};f.readUInt16=f.readUint16;f.writeInt32=function(a,b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal value: "+a+" (not an integer)");a|=0;if("number"!==
typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);}b+=4;var d=this.buffer.byteLength;b>d&&this.resize((d*=2)>b?d:b);b-=4;this.littleEndian?(this.view[b+3]=a>>>24&255,this.view[b+2]=a>>>16&255,this.view[b+1]=a>>>8&255,this.view[b]=a&255):(this.view[b]=a>>>24&255,this.view[b+1]=a>>>16&255,this.view[b+2]=a>>>8&255,this.view[b+3]=a&255);c&&(this.offset+=4);
return this};f.writeInt=f.writeInt32;f.readInt32=function(a){var b="undefined"===typeof a;b&&(a=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");a>>>=0;if(0>a||a+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+4) <= "+this.buffer.byteLength);}var c;this.littleEndian?(c=this.view[a+2]<<16,c|=this.view[a+1]<<8,c|=this.view[a],c+=this.view[a+3]<<24>>>0):(c=this.view[a+1]<<16,c|=this.view[a+2]<<8,c|=this.view[a+
3],c+=this.view[a]<<24>>>0);b&&(this.offset+=4);return c|0};f.readInt=f.readInt32;f.writeUint32=function(a,b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal value: "+a+" (not an integer)");a>>>=0;if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);}b+=4;var d=this.buffer.byteLength;
b>d&&this.resize((d*=2)>b?d:b);b-=4;this.littleEndian?(this.view[b+3]=a>>>24&255,this.view[b+2]=a>>>16&255,this.view[b+1]=a>>>8&255,this.view[b]=a&255):(this.view[b]=a>>>24&255,this.view[b+1]=a>>>16&255,this.view[b+2]=a>>>8&255,this.view[b+3]=a&255);c&&(this.offset+=4);return this};f.writeUInt32=f.writeUint32;f.readUint32=function(a){var b="undefined"===typeof a;b&&(a=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");a>>>=0;if(0>
a||a+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+4) <= "+this.buffer.byteLength);}var c;this.littleEndian?(c=this.view[a+2]<<16,c|=this.view[a+1]<<8,c|=this.view[a],c+=this.view[a+3]<<24>>>0):(c=this.view[a+1]<<16,c|=this.view[a+2]<<8,c|=this.view[a+3],c+=this.view[a]<<24>>>0);b&&(this.offset+=4);return c};f.readUInt32=f.readUint32;a&&(f.writeInt64=function(b,c){var d="undefined"===typeof c;d&&(c=this.offset);if(!this.noAssert){if("number"===typeof b)b=a.fromNumber(b);
else if("string"===typeof b)b=a.fromString(b);else if(!(b&&b instanceof a))throw TypeError("Illegal value: "+b+" (not an integer or Long)");if("number"!==typeof c||0!==c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");c>>>=0;if(0>c||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength);}"number"===typeof b?b=a.fromNumber(b):"string"===typeof b&&(b=a.fromString(b));c+=8;var e=this.buffer.byteLength;c>e&&this.resize((e*=2)>c?e:c);c-=8;
e=b.low;b=b.high;this.littleEndian?(this.view[c+3]=e>>>24&255,this.view[c+2]=e>>>16&255,this.view[c+1]=e>>>8&255,this.view[c]=e&255,c+=4,this.view[c+3]=b>>>24&255,this.view[c+2]=b>>>16&255,this.view[c+1]=b>>>8&255,this.view[c]=b&255):(this.view[c]=b>>>24&255,this.view[c+1]=b>>>16&255,this.view[c+2]=b>>>8&255,this.view[c+3]=b&255,c+=4,this.view[c]=e>>>24&255,this.view[c+1]=e>>>16&255,this.view[c+2]=e>>>8&255,this.view[c+3]=e&255);d&&(this.offset+=8);return this},f.writeLong=f.writeInt64,f.readInt64=
function(b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+8) <= "+this.buffer.byteLength);}var d,e;this.littleEndian?(d=this.view[b+2]<<16,d|=this.view[b+1]<<8,d|=this.view[b],d+=this.view[b+3]<<24>>>0,b+=4,e=this.view[b+2]<<16,e|=this.view[b+1]<<8,e|=this.view[b],e+=this.view[b+3]<<24>>>0):(e=this.view[b+
1]<<16,e|=this.view[b+2]<<8,e|=this.view[b+3],e+=this.view[b]<<24>>>0,b+=4,d=this.view[b+1]<<16,d|=this.view[b+2]<<8,d|=this.view[b+3],d+=this.view[b]<<24>>>0);b=new a(d,e,!1);c&&(this.offset+=8);return b},f.readLong=f.readInt64,f.writeUint64=function(b,c){var d="undefined"===typeof c;d&&(c=this.offset);if(!this.noAssert){if("number"===typeof b)b=a.fromNumber(b);else if("string"===typeof b)b=a.fromString(b);else if(!(b&&b instanceof a))throw TypeError("Illegal value: "+b+" (not an integer or Long)");
if("number"!==typeof c||0!==c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");c>>>=0;if(0>c||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength);}"number"===typeof b?b=a.fromNumber(b):"string"===typeof b&&(b=a.fromString(b));c+=8;var e=this.buffer.byteLength;c>e&&this.resize((e*=2)>c?e:c);c-=8;e=b.low;b=b.high;this.littleEndian?(this.view[c+3]=e>>>24&255,this.view[c+2]=e>>>16&255,this.view[c+1]=e>>>8&255,this.view[c]=e&255,c+=4,this.view[c+
3]=b>>>24&255,this.view[c+2]=b>>>16&255,this.view[c+1]=b>>>8&255,this.view[c]=b&255):(this.view[c]=b>>>24&255,this.view[c+1]=b>>>16&255,this.view[c+2]=b>>>8&255,this.view[c+3]=b&255,c+=4,this.view[c]=e>>>24&255,this.view[c+1]=e>>>16&255,this.view[c+2]=e>>>8&255,this.view[c+3]=e&255);d&&(this.offset+=8);return this},f.writeUInt64=f.writeUint64,f.readUint64=function(b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+
b+" (not an integer)");b>>>=0;if(0>b||b+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+8) <= "+this.buffer.byteLength);}var d,e;this.littleEndian?(d=this.view[b+2]<<16,d|=this.view[b+1]<<8,d|=this.view[b],d+=this.view[b+3]<<24>>>0,b+=4,e=this.view[b+2]<<16,e|=this.view[b+1]<<8,e|=this.view[b],e+=this.view[b+3]<<24>>>0):(e=this.view[b+1]<<16,e|=this.view[b+2]<<8,e|=this.view[b+3],e+=this.view[b]<<24>>>0,b+=4,d=this.view[b+1]<<16,d|=this.view[b+2]<<8,d|=this.view[b+3],d+=this.view[b]<<
24>>>0);b=new a(d,e,!0);c&&(this.offset+=8);return b},f.readUInt64=f.readUint64);f.writeFloat32=function(a,b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof a)throw TypeError("Illegal value: "+a+" (not a number)");if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);}b+=4;var d=this.buffer.byteLength;
b>d&&this.resize((d*=2)>b?d:b);k(this.view,a,b-4,this.littleEndian,23,4);c&&(this.offset+=4);return this};f.writeFloat=f.writeFloat32;f.readFloat32=function(a){var c="undefined"===typeof a;c&&(a=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");a>>>=0;if(0>a||a+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+4) <= "+this.buffer.byteLength);}a=b(this.view,a,this.littleEndian,23,4);c&&(this.offset+=4);return a};
f.readFloat=f.readFloat32;f.writeFloat64=function(a,b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof a)throw TypeError("Illegal value: "+a+" (not a number)");if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);}b+=8;var d=this.buffer.byteLength;b>d&&this.resize((d*=2)>b?d:b);k(this.view,a,b-8,this.littleEndian,
52,8);c&&(this.offset+=8);return this};f.writeDouble=f.writeFloat64;f.readFloat64=function(a){var c="undefined"===typeof a;c&&(a=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");a>>>=0;if(0>a||a+8>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+8) <= "+this.buffer.byteLength);}a=b(this.view,a,this.littleEndian,52,8);c&&(this.offset+=8);return a};f.readDouble=f.readFloat64;d.MAX_VARINT32_BYTES=5;d.calculateVarint32=
function(a){a>>>=0;return 128>a?1:16384>a?2:2097152>a?3:268435456>a?4:5};d.zigZagEncode32=function(a){return((a|=0)<<1^a>>31)>>>0};d.zigZagDecode32=function(a){return a>>>1^-(a&1)|0};f.writeVarint32=function(a,b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal value: "+a+" (not an integer)");a|=0;if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+
b+" (+0) <= "+this.buffer.byteLength);}var e=d.calculateVarint32(a),h;b+=e;h=this.buffer.byteLength;b>h&&this.resize((h*=2)>b?h:b);b-=e;for(a>>>=0;128<=a;)h=a&127|128,this.view[b++]=h,a>>>=7;this.view[b++]=a;return c?(this.offset=b,this):e};f.writeVarint32ZigZag=function(a,b){return this.writeVarint32(d.zigZagEncode32(a),b)};f.readVarint32=function(a){var b="undefined"===typeof a;b&&(a=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");
a>>>=0;if(0>a||a+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+1) <= "+this.buffer.byteLength);}var c=0,d=0,e;do{if(!this.noAssert&&a>this.limit)throw a=Error("Truncated"),a.truncated=!0,a;e=this.view[a++];5>c&&(d|=(e&127)<<7*c);++c}while(0!==(e&128));d|=0;return b?(this.offset=a,d):{value:d,length:c}};f.readVarint32ZigZag=function(a){a=this.readVarint32(a);"object"===typeof a?a.value=d.zigZagDecode32(a.value):a=d.zigZagDecode32(a);return a};a&&(d.MAX_VARINT64_BYTES=10,d.calculateVarint64=
function(b){"number"===typeof b?b=a.fromNumber(b):"string"===typeof b&&(b=a.fromString(b));var c=b.toInt()>>>0,d=b.shiftRightUnsigned(28).toInt()>>>0;b=b.shiftRightUnsigned(56).toInt()>>>0;return 0==b?0==d?16384>c?128>c?1:2:2097152>c?3:4:16384>d?128>d?5:6:2097152>d?7:8:128>b?9:10},d.zigZagEncode64=function(b){"number"===typeof b?b=a.fromNumber(b,!1):"string"===typeof b?b=a.fromString(b,!1):!1!==b.unsigned&&(b=b.toSigned());return b.shiftLeft(1).xor(b.shiftRight(63)).toUnsigned()},d.zigZagDecode64=
function(b){"number"===typeof b?b=a.fromNumber(b,!1):"string"===typeof b?b=a.fromString(b,!1):!1!==b.unsigned&&(b=b.toSigned());return b.shiftRightUnsigned(1).xor(b.and(a.ONE).toSigned().negate()).toSigned()},f.writeVarint64=function(b,c){var e="undefined"===typeof c;e&&(c=this.offset);if(!this.noAssert){if("number"===typeof b)b=a.fromNumber(b);else if("string"===typeof b)b=a.fromString(b);else if(!(b&&b instanceof a))throw TypeError("Illegal value: "+b+" (not an integer or Long)");if("number"!==
typeof c||0!==c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");c>>>=0;if(0>c||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength);}"number"===typeof b?b=a.fromNumber(b,!1):"string"===typeof b?b=a.fromString(b,!1):!1!==b.unsigned&&(b=b.toSigned());var h=d.calculateVarint64(b),k=b.toInt()>>>0,g=b.shiftRightUnsigned(28).toInt()>>>0;b=b.shiftRightUnsigned(56).toInt()>>>0;c+=h;var f=this.buffer.byteLength;c>f&&this.resize((f*=2)>c?f:c);
c-=h;switch(h){case 10:this.view[c+9]=b>>>7&1;case 9:this.view[c+8]=9!==h?b|128:b&127;case 8:this.view[c+7]=8!==h?g>>>21|128:g>>>21&127;case 7:this.view[c+6]=7!==h?g>>>14|128:g>>>14&127;case 6:this.view[c+5]=6!==h?g>>>7|128:g>>>7&127;case 5:this.view[c+4]=5!==h?g|128:g&127;case 4:this.view[c+3]=4!==h?k>>>21|128:k>>>21&127;case 3:this.view[c+2]=3!==h?k>>>14|128:k>>>14&127;case 2:this.view[c+1]=2!==h?k>>>7|128:k>>>7&127;case 1:this.view[c]=1!==h?k|128:k&127}return e?(this.offset+=h,this):h},f.writeVarint64ZigZag=
function(a,b){return this.writeVarint64(d.zigZagEncode64(a),b)},f.readVarint64=function(b){var c="undefined"===typeof b;c&&(b=this.offset);if(!this.noAssert){if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+1) <= "+this.buffer.byteLength);}var d=b,e,h=0,g=0,k;k=this.view[b++];e=k&127;if(k&128&&(k=this.view[b++],e|=(k&127)<<7,k&128||this.noAssert&&"undefined"===typeof k)&&
(k=this.view[b++],e|=(k&127)<<14,k&128||this.noAssert&&"undefined"===typeof k)&&(k=this.view[b++],e|=(k&127)<<21,k&128||this.noAssert&&"undefined"===typeof k)&&(k=this.view[b++],h=k&127,k&128||this.noAssert&&"undefined"===typeof k)&&(k=this.view[b++],h|=(k&127)<<7,k&128||this.noAssert&&"undefined"===typeof k)&&(k=this.view[b++],h|=(k&127)<<14,k&128||this.noAssert&&"undefined"===typeof k)&&(k=this.view[b++],h|=(k&127)<<21,k&128||this.noAssert&&"undefined"===typeof k)&&(k=this.view[b++],g=k&127,k&128||
this.noAssert&&"undefined"===typeof k)&&(k=this.view[b++],g|=(k&127)<<7,k&128||this.noAssert&&"undefined"===typeof k))throw Error("Buffer overrun");e=a.fromBits(e|h<<28,h>>>4|g<<24,!1);return c?(this.offset=b,e):{value:e,length:b-d}},f.readVarint64ZigZag=function(b){(b=this.readVarint64(b))&&b.value instanceof a?b.value=d.zigZagDecode64(b.value):b=d.zigZagDecode64(b);return b});f.writeCString=function(a,b){var d="undefined"===typeof b;d&&(b=this.offset);var e,h=a.length;if(!this.noAssert){if("string"!==
typeof a)throw TypeError("Illegal str: Not a string");for(e=0;e<h;++e)if(0===a.charCodeAt(e))throw RangeError("Illegal str: Contains NULL-characters");if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);}h=p.calculateUTF16asUTF8(c(a))[1];b+=h+1;e=this.buffer.byteLength;b>e&&this.resize((e*=2)>b?e:b);b-=h+1;p.encodeUTF16toUTF8(c(a),function(a){this.view[b++]=
a}.bind(this));this.view[b++]=0;return d?(this.offset=b,this):h};f.readCString=function(a){var b="undefined"===typeof a;b&&(a=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");a>>>=0;if(0>a||a+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+1) <= "+this.buffer.byteLength);}var c=a,d,e=-1;p.decodeUTF8toUTF16(function(){if(0===e)return null;if(a>=this.limit)throw RangeError("Illegal range: Truncated data, "+
a+" < "+this.limit);e=this.view[a++];return 0===e?null:e}.bind(this),d=h(),!0);return b?(this.offset=a,d()):{string:d(),length:a-c}};f.writeIString=function(a,b){var d="undefined"===typeof b;d&&(b=this.offset);if(!this.noAssert){if("string"!==typeof a)throw TypeError("Illegal str: Not a string");if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);
}var e=b,h;h=p.calculateUTF16asUTF8(c(a),this.noAssert)[1];b+=4+h;var g=this.buffer.byteLength;b>g&&this.resize((g*=2)>b?g:b);b-=4+h;this.littleEndian?(this.view[b+3]=h>>>24&255,this.view[b+2]=h>>>16&255,this.view[b+1]=h>>>8&255,this.view[b]=h&255):(this.view[b]=h>>>24&255,this.view[b+1]=h>>>16&255,this.view[b+2]=h>>>8&255,this.view[b+3]=h&255);b+=4;p.encodeUTF16toUTF8(c(a),function(a){this.view[b++]=a}.bind(this));if(b!==e+4+h)throw RangeError("Illegal range: Truncated data, "+b+" == "+(b+4+h));
return d?(this.offset=b,this):b-e};f.readIString=function(a){var b="undefined"===typeof a;b&&(a=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");a>>>=0;if(0>a||a+4>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+4) <= "+this.buffer.byteLength);}var c=a,e=this.readUint32(a),e=this.readUTF8String(e,d.METRICS_BYTES,a+=4);a+=e.length;return b?(this.offset=a,e.string):{string:e.string,length:a-c}};d.METRICS_CHARS=
"c";d.METRICS_BYTES="b";f.writeUTF8String=function(a,b){var d="undefined"===typeof b;d&&(b=this.offset);if(!this.noAssert){if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);}var e,h=b;e=p.calculateUTF16asUTF8(c(a))[1];b+=e;var g=this.buffer.byteLength;b>g&&this.resize((g*=2)>b?g:b);b-=e;p.encodeUTF16toUTF8(c(a),function(a){this.view[b++]=
a}.bind(this));return d?(this.offset=b,this):b-h};f.writeString=f.writeUTF8String;d.calculateUTF8Chars=function(a){return p.calculateUTF16asUTF8(c(a))[0]};d.calculateUTF8Bytes=function(a){return p.calculateUTF16asUTF8(c(a))[1]};d.calculateString=d.calculateUTF8Bytes;f.readUTF8String=function(a,b,c){"number"===typeof b&&(c=b,b=void 0);var e="undefined"===typeof c;e&&(c=this.offset);"undefined"===typeof b&&(b=d.METRICS_CHARS);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal length: "+
a+" (not an integer)");a|=0;if("number"!==typeof c||0!==c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");c>>>=0;if(0>c||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength);}var k=0,g=c,f;if(b===d.METRICS_CHARS){f=h();p.decodeUTF8(function(){return k<a&&c<this.limit?this.view[c++]:null}.bind(this),function(a){++k;p.UTF8toUTF16(a,f)});if(k!==a)throw RangeError("Illegal range: Truncated data, "+k+" == "+a);return e?(this.offset=c,f()):
{string:f(),length:c-g}}if(b===d.METRICS_BYTES){if(!this.noAssert){if("number"!==typeof c||0!==c%1)throw TypeError("Illegal offset: "+c+" (not an integer)");c>>>=0;if(0>c||c+a>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+"+a+") <= "+this.buffer.byteLength);}var n=c+a;p.decodeUTF8toUTF16(function(){return c<n?this.view[c++]:null}.bind(this),f=h(),this.noAssert);if(c!==n)throw RangeError("Illegal range: Truncated data, "+c+" == "+n);return e?(this.offset=c,f()):{string:f(),
length:c-g}}throw TypeError("Unsupported metrics: "+b);};f.readString=f.readUTF8String;f.writeVString=function(a,b){var e="undefined"===typeof b;e&&(b=this.offset);if(!this.noAssert){if("string"!==typeof a)throw TypeError("Illegal str: Not a string");if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: "+b+" (not an integer)");b>>>=0;if(0>b||b+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+b+" (+0) <= "+this.buffer.byteLength);}var h=b,k,g;k=p.calculateUTF16asUTF8(c(a),
this.noAssert)[1];g=d.calculateVarint32(k);b+=g+k;var f=this.buffer.byteLength;b>f&&this.resize((f*=2)>b?f:b);b-=g+k;b+=this.writeVarint32(k,b);p.encodeUTF16toUTF8(c(a),function(a){this.view[b++]=a}.bind(this));if(b!==h+k+g)throw RangeError("Illegal range: Truncated data, "+b+" == "+(b+k+g));return e?(this.offset=b,this):b-h};f.readVString=function(a){var b="undefined"===typeof a;b&&(a=this.offset);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");
a>>>=0;if(0>a||a+1>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+1) <= "+this.buffer.byteLength);}var c=a,e=this.readVarint32(a),e=this.readUTF8String(e.value,d.METRICS_BYTES,a+=e.length);a+=e.length;return b?(this.offset=a,e.string):{string:e.string,length:a-c}};f.append=function(a,b,c){if("number"===typeof b||"string"!==typeof b)c=b,b=void 0;var e="undefined"===typeof c;e&&(c=this.offset);if(!this.noAssert){if("number"!==typeof c||0!==c%1)throw TypeError("Illegal offset: "+
c+" (not an integer)");c>>>=0;if(0>c||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength);}a instanceof d||(a=d.wrap(a,b));b=a.limit-a.offset;if(0>=b)return this;c+=b;var h=this.buffer.byteLength;c>h&&this.resize((h*=2)>c?h:c);c-=b;this.view.set(a.view.subarray(a.offset,a.limit),c);a.offset+=b;e&&(this.offset+=b);return this};f.appendTo=function(a,b){a.append(this,b);return this};f.assert=function(a){this.noAssert=!a;return this};f.capacity=function(){return this.buffer.byteLength};
f.clear=function(){this.offset=0;this.limit=this.buffer.byteLength;this.markedOffset=-1;return this};f.clone=function(a){var b=new d(0,this.littleEndian,this.noAssert);a?(b.buffer=new ArrayBuffer(this.buffer.byteLength),b.view=new Uint8Array(b.buffer)):(b.buffer=this.buffer,b.view=this.view);b.offset=this.offset;b.markedOffset=this.markedOffset;b.limit=this.limit;return b};f.compact=function(a,b){"undefined"===typeof a&&(a=this.offset);"undefined"===typeof b&&(b=this.limit);if(!this.noAssert){if("number"!==
typeof a||0!==a%1)throw TypeError("Illegal begin: Not an integer");a>>>=0;if("number"!==typeof b||0!==b%1)throw TypeError("Illegal end: Not an integer");b>>>=0;if(0>a||a>b||b>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+a+" <= "+b+" <= "+this.buffer.byteLength);}if(0===a&&b===this.buffer.byteLength)return this;var c=b-a;if(0===c)return this.buffer=m,this.view=null,0<=this.markedOffset&&(this.markedOffset-=a),this.limit=this.offset=0,this;var d=new ArrayBuffer(c),e=new Uint8Array(d);
e.set(this.view.subarray(a,b));this.buffer=d;this.view=e;0<=this.markedOffset&&(this.markedOffset-=a);this.offset=0;this.limit=c;return this};f.copy=function(a,b){"undefined"===typeof a&&(a=this.offset);"undefined"===typeof b&&(b=this.limit);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal begin: Not an integer");a>>>=0;if("number"!==typeof b||0!==b%1)throw TypeError("Illegal end: Not an integer");b>>>=0;if(0>a||a>b||b>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+
a+" <= "+b+" <= "+this.buffer.byteLength);}if(a===b)return new d(0,this.littleEndian,this.noAssert);var c=b-a,e=new d(c,this.littleEndian,this.noAssert);e.offset=0;e.limit=c;0<=e.markedOffset&&(e.markedOffset-=a);this.copyTo(e,0,a,b);return e};f.copyTo=function(a,b,c,e){var h,g;if(!this.noAssert&&!d.isByteBuffer(a))throw TypeError("Illegal target: Not a ByteBuffer");b=(g="undefined"===typeof b)?a.offset:b|0;c=(h="undefined"===typeof c)?this.offset:c|0;e="undefined"===typeof e?this.limit:e|0;if(0>
b||b>a.buffer.byteLength)throw RangeError("Illegal target range: 0 <= "+b+" <= "+a.buffer.byteLength);if(0>c||e>this.buffer.byteLength)throw RangeError("Illegal source range: 0 <= "+c+" <= "+this.buffer.byteLength);var k=e-c;if(0===k)return a;a.ensureCapacity(b+k);a.view.set(this.view.subarray(c,e),b);h&&(this.offset+=k);g&&(a.offset+=k);return this};f.ensureCapacity=function(a){var b=this.buffer.byteLength;return b<a?this.resize((b*=2)>a?b:a):this};f.fill=function(a,b,c){var d="undefined"===typeof b;
d&&(b=this.offset);"string"===typeof a&&0<a.length&&(a=a.charCodeAt(0));"undefined"===typeof b&&(b=this.offset);"undefined"===typeof c&&(c=this.limit);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal value: "+a+" (not an integer)");a|=0;if("number"!==typeof b||0!==b%1)throw TypeError("Illegal begin: Not an integer");b>>>=0;if("number"!==typeof c||0!==c%1)throw TypeError("Illegal end: Not an integer");c>>>=0;if(0>b||b>c||c>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+
b+" <= "+c+" <= "+this.buffer.byteLength);}if(b>=c)return this;for(;b<c;)this.view[b++]=a;d&&(this.offset=b);return this};f.flip=function(){this.limit=this.offset;this.offset=0;return this};f.mark=function(a){a="undefined"===typeof a?this.offset:a;if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal offset: "+a+" (not an integer)");a>>>=0;if(0>a||a+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+a+" (+0) <= "+this.buffer.byteLength);}this.markedOffset=a;return this};
f.order=function(a){if(!this.noAssert&&"boolean"!==typeof a)throw TypeError("Illegal littleEndian: Not a boolean");this.littleEndian=!!a;return this};f.LE=function(a){this.littleEndian="undefined"!==typeof a?!!a:!0;return this};f.BE=function(a){this.littleEndian="undefined"!==typeof a?!a:!1;return this};f.prepend=function(a,b,c){if("number"===typeof b||"string"!==typeof b)c=b,b=void 0;var e="undefined"===typeof c;e&&(c=this.offset);if(!this.noAssert){if("number"!==typeof c||0!==c%1)throw TypeError("Illegal offset: "+
c+" (not an integer)");c>>>=0;if(0>c||c+0>this.buffer.byteLength)throw RangeError("Illegal offset: 0 <= "+c+" (+0) <= "+this.buffer.byteLength);}a instanceof d||(a=d.wrap(a,b));b=a.limit-a.offset;if(0>=b)return this;var h=b-c;if(0<h){var g=new ArrayBuffer(this.buffer.byteLength+h),k=new Uint8Array(g);k.set(this.view.subarray(c,this.buffer.byteLength),b);this.buffer=g;this.view=k;this.offset+=h;0<=this.markedOffset&&(this.markedOffset+=h);this.limit+=h;c+=h}else new Uint8Array(this.buffer);this.view.set(a.view.subarray(a.offset,
a.limit),c-b);a.offset=a.limit;e&&(this.offset-=b);return this};f.prependTo=function(a,b){a.prepend(this,b);return this};f.printDebug=function(a){"function"!==typeof a&&(a=console.log.bind(console));a(this.toString()+"\n-------------------------------------------------------------------\n"+this.toDebug(!0))};f.remaining=function(){return this.limit-this.offset};f.reset=function(){0<=this.markedOffset?(this.offset=this.markedOffset,this.markedOffset=-1):this.offset=0;return this};f.resize=function(a){if(!this.noAssert){if("number"!==
typeof a||0!==a%1)throw TypeError("Illegal capacity: "+a+" (not an integer)");a|=0;if(0>a)throw RangeError("Illegal capacity: 0 <= "+a);}if(this.buffer.byteLength<a){a=new ArrayBuffer(a);var b=new Uint8Array(a);b.set(this.view);this.buffer=a;this.view=b}return this};f.reverse=function(a,b){"undefined"===typeof a&&(a=this.offset);"undefined"===typeof b&&(b=this.limit);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal begin: Not an integer");a>>>=0;if("number"!==typeof b||
0!==b%1)throw TypeError("Illegal end: Not an integer");b>>>=0;if(0>a||a>b||b>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+a+" <= "+b+" <= "+this.buffer.byteLength);}if(a===b)return this;Array.prototype.reverse.call(this.view.subarray(a,b));return this};f.skip=function(a){if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal length: "+a+" (not an integer)");a|=0}var b=this.offset+a;if(!this.noAssert&&(0>b||b>this.buffer.byteLength))throw RangeError("Illegal length: 0 <= "+
this.offset+" + "+a+" <= "+this.buffer.byteLength);this.offset=b;return this};f.slice=function(a,b){"undefined"===typeof a&&(a=this.offset);"undefined"===typeof b&&(b=this.limit);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal begin: Not an integer");a>>>=0;if("number"!==typeof b||0!==b%1)throw TypeError("Illegal end: Not an integer");b>>>=0;if(0>a||a>b||b>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+a+" <= "+b+" <= "+this.buffer.byteLength);}var c=this.clone();
c.offset=a;c.limit=b;return c};f.toBuffer=function(a){var b=this.offset,c=this.limit;if(!this.noAssert){if("number"!==typeof b||0!==b%1)throw TypeError("Illegal offset: Not an integer");b>>>=0;if("number"!==typeof c||0!==c%1)throw TypeError("Illegal limit: Not an integer");c>>>=0;if(0>b||b>c||c>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+b+" <= "+c+" <= "+this.buffer.byteLength);}if(!a&&0===b&&c===this.buffer.byteLength)return this.buffer;if(b===c)return m;a=new ArrayBuffer(c-b);
(new Uint8Array(a)).set((new Uint8Array(this.buffer)).subarray(b,c),0);return a};f.toArrayBuffer=f.toBuffer;f.toString=function(a,b,c){if("undefined"===typeof a)return"ByteBufferAB(offset="+this.offset+",markedOffset="+this.markedOffset+",limit="+this.limit+",capacity="+this.capacity()+")";"number"===typeof a&&(c=b=a="utf8");switch(a){case "utf8":return this.toUTF8(b,c);case "base64":return this.toBase64(b,c);case "hex":return this.toHex(b,c);case "binary":return this.toBinary(b,c);case "debug":return this.toDebug();
case "columns":return this.toColumns();default:throw Error("Unsupported encoding: "+a);}};var w=function(){for(var a={},b=[65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47],c=[],d=0,e=b.length;d<e;++d)c[b[d]]=d;a.encode=function(a,c){for(var d,e;null!==(d=a());)c(b[d>>2&63]),e=(d&3)<<4,null!==(d=a())?(e|=d>>4&15,c(b[(e|d>>4&15)&63]),
e=(d&15)<<2,null!==(d=a())?(c(b[(e|d>>6&3)&63]),c(b[d&63])):(c(b[e&63]),c(61))):(c(b[e&63]),c(61),c(61))};a.decode=function(a,b){function d(a){throw Error("Illegal character code: "+a);}for(var e,g,h;null!==(e=a());)if(g=c[e],"undefined"===typeof g&&d(e),null!==(e=a())&&(h=c[e],"undefined"===typeof h&&d(e),b(g<<2>>>0|(h&48)>>4),null!==(e=a()))){g=c[e];if("undefined"===typeof g)if(61===e)break;else d(e);b((h&15)<<4>>>0|(g&60)>>2);if(null!==(e=a())){h=c[e];if("undefined"===typeof h)if(61===e)break;
else d(e);b((g&3)<<6>>>0|h)}}};a.test=function(a){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(a)};return a}();f.toBase64=function(a,b){"undefined"===typeof a&&(a=this.offset);"undefined"===typeof b&&(b=this.limit);a|=0;b|=0;if(0>a||b>this.capacity||a>b)throw RangeError("begin, end");var c;w.encode(function(){return a<b?this.view[a++]:null}.bind(this),c=h());return c()};d.fromBase64=function(a,b){if("string"!==typeof a)throw TypeError("str");var e=new d(a.length/4*
3,b),h=0;w.decode(c(a),function(a){e.view[h++]=a});e.limit=h;return e};d.btoa=function(a){return d.fromBinary(a).toBase64()};d.atob=function(a){return d.fromBase64(a).toBinary()};f.toBinary=function(a,b){"undefined"===typeof a&&(a=this.offset);"undefined"===typeof b&&(b=this.limit);a|=0;b|=0;if(0>a||b>this.capacity()||a>b)throw RangeError("begin, end");if(a===b)return"";for(var c=[],d=[];a<b;)c.push(this.view[a++]),1024<=c.length&&(d.push(String.fromCharCode.apply(String,c)),c=[]);return d.join("")+
String.fromCharCode.apply(String,c)};d.fromBinary=function(a,b){if("string"!==typeof a)throw TypeError("str");for(var c=0,e=a.length,h=new d(e,b);c<e;){b=a.charCodeAt(c);if(255<b)throw RangeError("illegal char code: "+b);h.view[c++]=b}h.limit=e;return h};f.toDebug=function(a){for(var b=-1,c=this.buffer.byteLength,d,e="",g="",h="";b<c;){-1!==b&&(d=this.view[b],e=16>d?e+("0"+d.toString(16).toUpperCase()):e+d.toString(16).toUpperCase(),a&&(g+=32<d&&127>d?String.fromCharCode(d):"."));++b;if(a&&0<b&&0===
b%16&&b!==c){for(;51>e.length;)e+=" ";h+=e+g+"\n";e=g=""}e=b===this.offset&&b===this.limit?e+(b===this.markedOffset?"!":"|"):b===this.offset?e+(b===this.markedOffset?"[":"<"):b===this.limit?e+(b===this.markedOffset?"]":">"):e+(b===this.markedOffset?"'":a||0!==b&&b!==c?" ":"")}if(a&&" "!==e){for(;51>e.length;)e+=" ";h+=e+g+"\n"}return a?h:e};d.fromDebug=function(a,b,c){var e=a.length;b=new d((e+1)/3|0,b,c);for(var h=0,g=0,k,f=!1,n=!1,m=!1,l=!1,q=!1;h<e;){switch(k=a.charAt(h++)){case "!":if(!c){if(n||
m||l){q=!0;break}n=m=l=!0}b.offset=b.markedOffset=b.limit=g;f=!1;break;case "|":if(!c){if(n||l){q=!0;break}n=l=!0}b.offset=b.limit=g;f=!1;break;case "[":if(!c){if(n||m){q=!0;break}n=m=!0}b.offset=b.markedOffset=g;f=!1;break;case "<":if(!c){if(n){q=!0;break}n=!0}b.offset=g;f=!1;break;case "]":if(!c){if(l||m){q=!0;break}l=m=!0}b.limit=b.markedOffset=g;f=!1;break;case ">":if(!c){if(l){q=!0;break}l=!0}b.limit=g;f=!1;break;case "'":if(!c){if(m){q=!0;break}m=!0}b.markedOffset=g;f=!1;break;case " ":f=!1;
break;default:if(!c&&f)q=!0;else{k=parseInt(k+a.charAt(h++),16);if(!c&&(isNaN(k)||0>k||255<k))throw TypeError("Illegal str: Not a debug encoded string");b.view[g++]=k;f=!0}}if(q)throw TypeError("Illegal str: Invalid symbol at "+h);}if(!c){if(!n||!l)throw TypeError("Illegal str: Missing offset or limit");if(g<b.buffer.byteLength)throw TypeError("Illegal str: Not a debug encoded string (is it hex?) "+g+" < "+e);}return b};f.toHex=function(a,b){a="undefined"===typeof a?this.offset:a;b="undefined"===
typeof b?this.limit:b;if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal begin: Not an integer");a>>>=0;if("number"!==typeof b||0!==b%1)throw TypeError("Illegal end: Not an integer");b>>>=0;if(0>a||a>b||b>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+a+" <= "+b+" <= "+this.buffer.byteLength);}for(var c=Array(b-a),d;a<b;)d=this.view[a++],16>d?c.push("0",d.toString(16)):c.push(d.toString(16));return c.join("")};d.fromHex=function(a,b,c){if(!c){if("string"!==
typeof a)throw TypeError("Illegal str: Not a string");if(0!==a.length%2)throw TypeError("Illegal str: Length not a multiple of 2");}var e=a.length;b=new d(e/2|0,b);for(var h,g=0,k=0;g<e;g+=2){h=parseInt(a.substring(g,g+2),16);if(!c&&(!isFinite(h)||0>h||255<h))throw TypeError("Illegal str: Contains non-hex characters");b.view[k++]=h}b.limit=k;return b};var p=function(){var a={MAX_CODEPOINT:1114111,encodeUTF8:function(a,b){var c=null;"number"===typeof a&&(c=a,a=function(){return null});for(;null!==
c||null!==(c=a());)128>c?b(c&127):(2048>c?b(c>>6&31|192):(65536>c?b(c>>12&15|224):(b(c>>18&7|240),b(c>>12&63|128)),b(c>>6&63|128)),b(c&63|128)),c=null},decodeUTF8:function(a,b){for(var c,d,e,h,k=function(a){a=a.slice(0,a.indexOf(null));var b=Error(a.toString());b.name="TruncatedError";b.bytes=a;throw b;};null!==(c=a());)if(0===(c&128))b(c);else if(192===(c&224))null===(d=a())&&k([c,d]),b((c&31)<<6|d&63);else if(224===(c&240))null!==(d=a())&&null!==(e=a())||k([c,d,e]),b((c&15)<<12|(d&63)<<6|e&63);
else if(240===(c&248))null!==(d=a())&&null!==(e=a())&&null!==(h=a())||k([c,d,e,h]),b((c&7)<<18|(d&63)<<12|(e&63)<<6|h&63);else throw RangeError("Illegal starting byte: "+c);},UTF16toUTF8:function(a,b){for(var c,d=null;null!==(c=null!==d?d:a());)55296<=c&&57343>=c&&null!==(d=a())&&56320<=d&&57343>=d?(b(1024*(c-55296)+d-56320+65536),d=null):b(c);null!==d&&b(d)},UTF8toUTF16:function(a,b){var c=null;"number"===typeof a&&(c=a,a=function(){return null});for(;null!==c||null!==(c=a());)65535>=c?b(c):(c-=
65536,b((c>>10)+55296),b(c%1024+56320)),c=null},encodeUTF16toUTF8:function(b,c){a.UTF16toUTF8(b,function(b){a.encodeUTF8(b,c)})},decodeUTF8toUTF16:function(b,c){a.decodeUTF8(b,function(b){a.UTF8toUTF16(b,c)})},calculateCodePoint:function(a){return 128>a?1:2048>a?2:65536>a?3:4},calculateUTF8:function(a){for(var b,c=0;null!==(b=a());)c+=128>b?1:2048>b?2:65536>b?3:4;return c},calculateUTF16asUTF8:function(b){var c=0,d=0;a.UTF16toUTF8(b,function(a){++c;d+=128>a?1:2048>a?2:65536>a?3:4});return[c,d]}};
return a}();f.toUTF8=function(a,b){"undefined"===typeof a&&(a=this.offset);"undefined"===typeof b&&(b=this.limit);if(!this.noAssert){if("number"!==typeof a||0!==a%1)throw TypeError("Illegal begin: Not an integer");a>>>=0;if("number"!==typeof b||0!==b%1)throw TypeError("Illegal end: Not an integer");b>>>=0;if(0>a||a>b||b>this.buffer.byteLength)throw RangeError("Illegal range: 0 <= "+a+" <= "+b+" <= "+this.buffer.byteLength);}var c;try{p.decodeUTF8toUTF16(function(){return a<b?this.view[a++]:null}.bind(this),
c=h())}catch(y){if(a!==b)throw RangeError("Illegal range: Truncated data, "+a+" != "+b);}return c()};d.fromUTF8=function(a,b,e){if(!e&&"string"!==typeof a)throw TypeError("Illegal str: Not a string");var h=new d(p.calculateUTF16asUTF8(c(a),!0)[1],b,e),k=0;p.encodeUTF16toUTF8(c(a),function(a){h.view[k++]=a});h.limit=k;return h};return d})},{"long":843}],411:[function(a,l,f){(function(){function a(){for(var c=[],b=0;b<arguments.length;b++){var k=arguments[b];if(k){var d=typeof k;if("string"===d||"number"===
d)c.push(k);else if(Array.isArray(k))c.push(a.apply(null,k));else if("object"===d)for(var f in k)e.call(k,f)&&k[f]&&c.push(f)}}return c.join(" ")}var e={}.hasOwnProperty;"undefined"!==typeof l&&l.exports?l.exports=a:"function"===typeof define&&"object"===typeof define.amd&&define.amd?define("classnames",[],function(){return a}):window.classNames=a})()},{}],412:[function(a,l,f){a("../../modules/core.regexp.escape");l.exports=a("../../modules/_core").RegExp.escape},{"../../modules/_core":433,"../../modules/core.regexp.escape":529}],
413:[function(a,l,f){l.exports=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a}},{}],414:[function(a,l,f){var c=a("./_cof");l.exports=function(a,h){if("number"!=typeof a&&"Number"!=c(a))throw TypeError(h);return+a}},{"./_cof":428}],415:[function(a,l,f){var c=a("./_wks")("unscopables"),e=Array.prototype;void 0==e[c]&&a("./_hide")(e,c,{});l.exports=function(a){e[c][a]=!0}},{"./_hide":450,"./_wks":527}],416:[function(a,l,f){l.exports=function(a,e,h,b){if(!(a instanceof
e)||void 0!==b&&b in a)throw TypeError(h+": incorrect invocation!");return a}},{}],417:[function(a,l,f){var c=a("./_is-object");l.exports=function(a){if(!c(a))throw TypeError(a+" is not an object!");return a}},{"./_is-object":459}],418:[function(a,l,f){var c=a("./_to-object"),e=a("./_to-index"),h=a("./_to-length");l.exports=[].copyWithin||function(a,k){var b=c(this),f=h(b.length),m=e(a,f),l=e(k,f),w=2<arguments.length?arguments[2]:void 0,f=Math.min((void 0===w?f:e(w,f))-l,f-m),w=1;l<m&&m<l+f&&(w=
-1,l+=f-1,m+=f-1);for(;0<f--;)l in b?b[m]=b[l]:delete b[m],m+=w,l+=w;return b}},{"./_to-index":515,"./_to-length":518,"./_to-object":519}],419:[function(a,l,f){var c=a("./_to-object"),e=a("./_to-index"),h=a("./_to-length");l.exports=function(a){for(var b=c(this),d=h(b.length),f=arguments.length,m=e(1<f?arguments[1]:void 0,d),f=2<f?arguments[2]:void 0,d=void 0===f?d:e(f,d);d>m;)b[m++]=a;return b}},{"./_to-index":515,"./_to-length":518,"./_to-object":519}],420:[function(a,l,f){var c=a("./_for-of");
l.exports=function(a,h){var b=[];c(a,!1,b.push,b,h);return b}},{"./_for-of":447}],421:[function(a,l,f){var c=a("./_to-iobject"),e=a("./_to-length"),h=a("./_to-index");l.exports=function(a){return function(b,d,f){b=c(b);var k=e(b.length);f=h(f,k);if(a&&d!=d)for(;k>f;){if(d=b[f++],d!=d)return!0}else for(;k>f;f++)if((a||f in b)&&b[f]===d)return a||f||0;return!a&&-1}}},{"./_to-index":515,"./_to-iobject":517,"./_to-length":518}],422:[function(a,l,f){var c=a("./_ctx"),e=a("./_iobject"),h=a("./_to-object"),
b=a("./_to-length"),k=a("./_array-species-create");l.exports=function(a,f){var d=1==a,n=2==a,l=3==a,p=4==a,r=6==a,t=5==a||r,u=f||k;return function(k,f,g){var m=h(k),q=e(m);f=c(f,g,3);g=b(q.length);var w=0;k=d?u(k,g):n?u(k,0):void 0;for(var y,x;g>w;w++)if(t||w in q)if(y=q[w],x=f(y,w,m),a)if(d)k[w]=x;else if(x)switch(a){case 3:return!0;case 5:return y;case 6:return w;case 2:k.push(y)}else if(p)return!1;return r?-1:l||p?p:k}}},{"./_array-species-create":425,"./_ctx":435,"./_iobject":455,"./_to-length":518,
"./_to-object":519}],423:[function(a,l,f){var c=a("./_a-function"),e=a("./_to-object"),h=a("./_iobject"),b=a("./_to-length");l.exports=function(a,d,f,m,l){c(d);a=e(a);var k=h(a),n=b(a.length),q=l?n-1:0,t=l?-1:1;if(2>f)for(;;){if(q in k){m=k[q];q+=t;break}q+=t;if(l?0>q:n<=q)throw TypeError("Reduce of empty array with no initial value");}for(;l?0<=q:n>q;q+=t)q in k&&(m=d(m,k[q],q,a));return m}},{"./_a-function":413,"./_iobject":455,"./_to-length":518,"./_to-object":519}],424:[function(a,l,f){var c=
a("./_is-object"),e=a("./_is-array"),h=a("./_wks")("species");l.exports=function(a){var b;e(a)&&(b=a.constructor,"function"!=typeof b||b!==Array&&!e(b.prototype)||(b=void 0),c(b)&&(b=b[h],null===b&&(b=void 0)));return void 0===b?Array:b}},{"./_is-array":457,"./_is-object":459,"./_wks":527}],425:[function(a,l,f){var c=a("./_array-species-constructor");l.exports=function(a,h){return new (c(a))(h)}},{"./_array-species-constructor":424}],426:[function(a,l,f){var c=a("./_a-function"),e=a("./_is-object"),
h=a("./_invoke"),b=[].slice,k={};l.exports=Function.bind||function(a){var d=c(this),f=b.call(arguments,1),l=function(){var c=f.concat(b.call(arguments)),e;if(this instanceof l){e=d;var n=c.length;if(!(n in k)){for(var m=[],q=0;q<n;q++)m[q]="a["+q+"]";k[n]=Function("F,a","return new F("+m.join(",")+")")}e=k[n](e,c)}else e=h(d,c,a);return e};e(d.prototype)&&(l.prototype=d.prototype);return l}},{"./_a-function":413,"./_invoke":454,"./_is-object":459}],427:[function(a,l,f){var c=a("./_cof"),e=a("./_wks")("toStringTag"),
h="Arguments"==c(function(){return arguments}());l.exports=function(a){var b,d;if(void 0===a)b="Undefined";else{var f;if(null===a)f="Null";else{a:{var m=a=Object(a);try{f=m[e];break a}catch(q){}f=void 0}f="string"==typeof(b=f)?b:h?c(a):"Object"==(d=c(a))&&"function"==typeof a.callee?"Arguments":d}b=f}return b}},{"./_cof":428,"./_wks":527}],428:[function(a,l,f){var c={}.toString;l.exports=function(a){return c.call(a).slice(8,-1)}},{}],429:[function(a,l,f){var c=a("./_object-dp").f,e=a("./_object-create"),
h=a("./_redefine-all"),b=a("./_ctx"),k=a("./_an-instance"),d=a("./_defined"),n=a("./_for-of"),m=a("./_iter-define"),q=a("./_iter-step"),w=a("./_set-species"),p=a("./_descriptors"),r=a("./_meta").fastKey,t=p?"_s":"size",u=function(a,b){var c=r(b);if("F"!==c)return a._i[c];for(a=a._f;a;a=a.n)if(a.k==b)return a};l.exports={getConstructor:function(a,f,g,m){var l=a(function(a,b){k(a,l,f,"_i");a._i=e(null);a._f=void 0;a._l=void 0;a[t]=0;void 0!=b&&n(b,g,a[m],a)});h(l.prototype,{clear:function(){for(var a=
this._i,b=this._f;b;b=b.n)b.r=!0,b.p&&(b.p=b.p.n=void 0),delete a[b.i];this._f=this._l=void 0;this[t]=0},"delete":function(a){if(a=u(this,a)){var b=a.n,c=a.p;delete this._i[a.i];a.r=!0;c&&(c.n=b);b&&(b.p=c);this._f==a&&(this._f=b);this._l==a&&(this._l=c);this[t]--}return!!a},forEach:function(a){k(this,l,"forEach");for(var c=b(a,1<arguments.length?arguments[1]:void 0,3),d;d=d?d.n:this._f;)for(c(d.v,d.k,this);d&&d.r;)d=d.p},has:function(a){return!!u(this,a)}});p&&c(l.prototype,"size",{get:function(){return d(this[t])}});
return l},def:function(a,b,c){var d=u(a,b),e;d?d.v=c:(a._l=d={i:e=r(b,!0),k:b,v:c,p:b=a._l,n:void 0,r:!1},a._f||(a._f=d),b&&(b.n=d),a[t]++,"F"!==e&&(a._i[e]=d));return a},getEntry:u,setStrong:function(a,b,c){m(a,b,function(a,b){this._t=a;this._k=b;this._l=void 0},function(){for(var a=this._k,b=this._l;b&&b.r;)b=b.p;return this._t&&(this._l=b=b?b.n:this._t._f)?"keys"==a?q(0,b.k):"values"==a?q(0,b.v):q(0,[b.k,b.v]):(this._t=void 0,q(1))},c?"entries":"values",!c,!0);w(b)}}},{"./_an-instance":416,"./_ctx":435,
"./_defined":437,"./_descriptors":438,"./_for-of":447,"./_iter-define":463,"./_iter-step":465,"./_meta":472,"./_object-create":476,"./_object-dp":477,"./_redefine-all":496,"./_set-species":501}],430:[function(a,l,f){var c=a("./_classof"),e=a("./_array-from-iterable");l.exports=function(a){return function(){if(c(this)!=a)throw TypeError(a+"#toJSON isn't generic");return e(this)}}},{"./_array-from-iterable":420,"./_classof":427}],431:[function(a,l,f){var c=a("./_redefine-all"),e=a("./_meta").getWeak,
h=a("./_an-object"),b=a("./_is-object"),k=a("./_an-instance"),d=a("./_for-of");f=a("./_array-methods");var n=a("./_has"),m=f(5),q=f(6),w=0,p=function(a){return a._l||(a._l=new r)},r=function(){this.a=[]},t=function(a,b){return m(a.a,function(a){return a[0]===b})};r.prototype={get:function(a){if(a=t(this,a))return a[1]},has:function(a){return!!t(this,a)},set:function(a,b){var c=t(this,a);c?c[1]=b:this.a.push([a,b])},"delete":function(a){var b=q(this.a,function(b){return b[0]===a});~b&&this.a.splice(b,
1);return!!~b}};l.exports={getConstructor:function(a,h,f,g){var m=a(function(a,b){k(a,m,h,"_i");a._i=w++;a._l=void 0;void 0!=b&&d(b,f,a[g],a)});c(m.prototype,{"delete":function(a){if(!b(a))return!1;var c=e(a);return!0===c?p(this)["delete"](a):c&&n(c,this._i)&&delete c[this._i]},has:function(a){if(!b(a))return!1;var c=e(a);return!0===c?p(this).has(a):c&&n(c,this._i)}});return m},def:function(a,b,c){var d=e(h(b),!0);!0===d?p(a).set(b,c):d[a._i]=c;return a},ufstore:p}},{"./_an-instance":416,"./_an-object":417,
"./_array-methods":422,"./_for-of":447,"./_has":449,"./_is-object":459,"./_meta":472,"./_redefine-all":496}],432:[function(a,l,f){var c=a("./_global"),e=a("./_export"),h=a("./_redefine"),b=a("./_redefine-all"),k=a("./_meta"),d=a("./_for-of"),n=a("./_an-instance"),m=a("./_is-object"),q=a("./_fails"),w=a("./_iter-detect"),p=a("./_set-to-string-tag"),r=a("./_inherit-if-required");l.exports=function(a,f,l,A,g,v){var u=c[a],t=u,y=g?"set":"add",x=t&&t.prototype,D={},E=function(a){var b=x[a];h(x,a,"delete"==
a?function(a){return v&&!m(a)?!1:b.call(this,0===a?0:a)}:"has"==a?function(a){return v&&!m(a)?!1:b.call(this,0===a?0:a)}:"get"==a?function(a){return v&&!m(a)?void 0:b.call(this,0===a?0:a)}:"add"==a?function(a){b.call(this,0===a?0:a);return this}:function(a,c){b.call(this,0===a?0:a,c);return this})};if("function"==typeof t&&(v||x.forEach&&!q(function(){(new t).entries().next()}))){var F=new t;l=F[y](v?{}:-0,1)!=F;var J=q(function(){F.has(1)}),L=w(function(a){new t(a)}),I=!v&&q(function(){for(var a=
new t,b=5;b--;)a[y](b,b);return!a.has(-0)});L||(t=f(function(b,c){n(b,t,a);b=r(new u,b,t);void 0!=c&&d(c,g,b[y],b);return b}),t.prototype=x,x.constructor=t);if(J||I)E("delete"),E("has"),g&&E("get");(I||l)&&E(y);v&&x.clear&&delete x.clear}else t=A.getConstructor(f,a,g,y),b(t.prototype,l),k.NEED=!0;p(t,a);D[a]=t;e(e.G+e.W+e.F*(t!=u),D);v||A.setStrong(t,a,g);return t}},{"./_an-instance":416,"./_export":442,"./_fails":444,"./_for-of":447,"./_global":448,"./_inherit-if-required":453,"./_is-object":459,
"./_iter-detect":464,"./_meta":472,"./_redefine":497,"./_redefine-all":496,"./_set-to-string-tag":502}],433:[function(a,l,f){a=l.exports={version:"2.4.0"};"number"==typeof __e&&(__e=a)},{}],434:[function(a,l,f){var c=a("./_object-dp"),e=a("./_property-desc");l.exports=function(a,b,k){b in a?c.f(a,b,e(0,k)):a[b]=k}},{"./_object-dp":477,"./_property-desc":495}],435:[function(a,l,f){var c=a("./_a-function");l.exports=function(a,h,b){c(a);if(void 0===h)return a;switch(b){case 1:return function(b){return a.call(h,
b)};case 2:return function(b,c){return a.call(h,b,c)};case 3:return function(b,c,e){return a.call(h,b,c,e)}}return function(){return a.apply(h,arguments)}}},{"./_a-function":413}],436:[function(a,l,f){var c=a("./_an-object"),e=a("./_to-primitive");l.exports=function(a){if("string"!==a&&"number"!==a&&"default"!==a)throw TypeError("Incorrect hint");return e(c(this),"number"!=a)}},{"./_an-object":417,"./_to-primitive":520}],437:[function(a,l,f){l.exports=function(a){if(void 0==a)throw TypeError("Can't call method on  "+
a);return a}},{}],438:[function(a,l,f){l.exports=!a("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":444}],439:[function(a,l,f){f=a("./_is-object");var c=a("./_global").document,e=f(c)&&f(c.createElement);l.exports=function(a){return e?c.createElement(a):{}}},{"./_global":448,"./_is-object":459}],440:[function(a,l,f){l.exports="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ")},{}],441:[function(a,
l,f){var c=a("./_object-keys"),e=a("./_object-gops"),h=a("./_object-pie");l.exports=function(a){var b=c(a),d=e.f;if(d)for(var d=d(a),f=h.f,m=0,l;d.length>m;)f.call(a,l=d[m++])&&b.push(l);return b}},{"./_object-gops":483,"./_object-keys":486,"./_object-pie":487}],442:[function(a,l,f){var c=a("./_global"),e=a("./_core"),h=a("./_hide"),b=a("./_redefine"),k=a("./_ctx"),d=function(a,f,l){var n=a&d.F,m=a&d.G,q=a&d.S,t=a&d.P,u=a&d.B,q=m?c:q?c[f]||(c[f]={}):(c[f]||{}).prototype,y=m?e:e[f]||(e[f]={}),A=y.prototype||
(y.prototype={}),g;m&&(l=f);for(g in l)m=!n&&q&&void 0!==q[g],f=(m?q:l)[g],m=u&&m?k(f,c):t&&"function"==typeof f?k(Function.call,f):f,q&&b(q,g,f,a&d.U),y[g]!=f&&h(y,g,m),t&&A[g]!=f&&(A[g]=f)};c.core=e;d.F=1;d.G=2;d.S=4;d.P=8;d.B=16;d.W=32;d.U=64;d.R=128;l.exports=d},{"./_core":433,"./_ctx":435,"./_global":448,"./_hide":450,"./_redefine":497}],443:[function(a,l,f){var c=a("./_wks")("match");l.exports=function(a){var e=/./;try{"/./"[a](e)}catch(b){try{return e[c]=!1,!"/./"[a](e)}catch(k){}}return!0}},
{"./_wks":527}],444:[function(a,l,f){l.exports=function(a){try{return!!a()}catch(e){return!0}}},{}],445:[function(a,l,f){var c=a("./_hide"),e=a("./_redefine"),h=a("./_fails"),b=a("./_defined"),k=a("./_wks");l.exports=function(a,f,m){var d=k(a);m=m(b,d,""[a]);var n=m[0],l=m[1];h(function(){var b={};b[d]=function(){return 7};return 7!=""[a](b)})&&(e(String.prototype,a,n),c(RegExp.prototype,d,2==f?function(a,b){return l.call(a,this,b)}:function(a){return l.call(a,this)}))}},{"./_defined":437,"./_fails":444,
"./_hide":450,"./_redefine":497,"./_wks":527}],446:[function(a,l,f){var c=a("./_an-object");l.exports=function(){var a=c(this),h="";a.global&&(h+="g");a.ignoreCase&&(h+="i");a.multiline&&(h+="m");a.unicode&&(h+="u");a.sticky&&(h+="y");return h}},{"./_an-object":417}],447:[function(a,l,f){var c=a("./_ctx"),e=a("./_iter-call"),h=a("./_is-array-iter"),b=a("./_an-object"),k=a("./_to-length"),d=a("./core.get-iterator-method"),n={},m={};f=l.exports=function(a,f,l,r,t){t=t?function(){return a}:d(a);l=c(l,
r,f?2:1);r=0;var q,p;if("function"!=typeof t)throw TypeError(a+" is not iterable!");if(h(t))for(q=k(a.length);q>r;r++){if(t=f?l(b(p=a[r])[0],p[1]):l(a[r]),t===n||t===m)return t}else for(r=t.call(a);!(p=r.next()).done;)if(t=e(r,l,p.value,f),t===n||t===m)return t};f.BREAK=n;f.RETURN=m},{"./_an-object":417,"./_ctx":435,"./_is-array-iter":456,"./_iter-call":461,"./_to-length":518,"./core.get-iterator-method":528}],448:[function(a,l,f){a=l.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=
typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)},{}],449:[function(a,l,f){var c={}.hasOwnProperty;l.exports=function(a,h){return c.call(a,h)}},{}],450:[function(a,l,f){var c=a("./_object-dp"),e=a("./_property-desc");l.exports=a("./_descriptors")?function(a,b,k){return c.f(a,b,e(1,k))}:function(a,b,c){a[b]=c;return a}},{"./_descriptors":438,"./_object-dp":477,"./_property-desc":495}],451:[function(a,l,f){l.exports=a("./_global").document&&document.documentElement},
{"./_global":448}],452:[function(a,l,f){l.exports=!a("./_descriptors")&&!a("./_fails")(function(){return 7!=Object.defineProperty(a("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":438,"./_dom-create":439,"./_fails":444}],453:[function(a,l,f){var c=a("./_is-object"),e=a("./_set-proto").set;l.exports=function(a,b,k){var d;b=b.constructor;b!==k&&"function"==typeof b&&(d=b.prototype)!==k.prototype&&c(d)&&e&&e(a,d);return a}},{"./_is-object":459,"./_set-proto":500}],454:[function(a,
l,f){l.exports=function(a,e,h){var b=void 0===h;switch(e.length){case 0:return b?a():a.call(h);case 1:return b?a(e[0]):a.call(h,e[0]);case 2:return b?a(e[0],e[1]):a.call(h,e[0],e[1]);case 3:return b?a(e[0],e[1],e[2]):a.call(h,e[0],e[1],e[2]);case 4:return b?a(e[0],e[1],e[2],e[3]):a.call(h,e[0],e[1],e[2],e[3])}return a.apply(h,e)}},{}],455:[function(a,l,f){var c=a("./_cof");l.exports=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==c(a)?a.split(""):Object(a)}},{"./_cof":428}],
456:[function(a,l,f){var c=a("./_iterators"),e=a("./_wks")("iterator"),h=Array.prototype;l.exports=function(a){return void 0!==a&&(c.Array===a||h[e]===a)}},{"./_iterators":466,"./_wks":527}],457:[function(a,l,f){var c=a("./_cof");l.exports=Array.isArray||function(a){return"Array"==c(a)}},{"./_cof":428}],458:[function(a,l,f){var c=a("./_is-object"),e=Math.floor;l.exports=function(a){return!c(a)&&isFinite(a)&&e(a)===a}},{"./_is-object":459}],459:[function(a,l,f){l.exports=function(a){return"object"===
typeof a?null!==a:"function"===typeof a}},{}],460:[function(a,l,f){var c=a("./_is-object"),e=a("./_cof"),h=a("./_wks")("match");l.exports=function(a){var b;return c(a)&&(void 0!==(b=a[h])?!!b:"RegExp"==e(a))}},{"./_cof":428,"./_is-object":459,"./_wks":527}],461:[function(a,l,f){var c=a("./_an-object");l.exports=function(a,h,b,k){try{return k?h(c(b)[0],b[1]):h(b)}catch(d){throw h=a["return"],void 0!==h&&c(h.call(a)),d;}}},{"./_an-object":417}],462:[function(a,l,f){var c=a("./_object-create"),e=a("./_property-desc"),
h=a("./_set-to-string-tag"),b={};a("./_hide")(b,a("./_wks")("iterator"),function(){return this});l.exports=function(a,d,f){a.prototype=c(b,{next:e(1,f)});h(a,d+" Iterator")}},{"./_hide":450,"./_object-create":476,"./_property-desc":495,"./_set-to-string-tag":502,"./_wks":527}],463:[function(a,l,f){var c=a("./_library"),e=a("./_export"),h=a("./_redefine"),b=a("./_hide"),k=a("./_has"),d=a("./_iterators"),n=a("./_iter-create"),m=a("./_set-to-string-tag"),q=a("./_object-gpo"),w=a("./_wks")("iterator"),
p=!([].keys&&"next"in[].keys()),r=function(){return this};l.exports=function(a,f,l,A,g,v,z){n(l,f,A);A=function(a){return!p&&a in D?D[a]:function(){return new l(this,a)}};var u=f+" Iterator",t="values"==g,y=!1,D=a.prototype,E=D[w]||D["@@iterator"]||g&&D[g],F=E||A(g),J=g?t?A("entries"):F:void 0,L="Array"==f?D.entries||E:E,I,K;L&&(a=q(L.call(new a)),a!==Object.prototype&&(m(a,u,!0),c||k(a,w)||b(a,w,r)));t&&E&&"values"!==E.name&&(y=!0,F=function(){return E.call(this)});c&&!z||!p&&!y&&D[w]||b(D,w,F);
d[f]=F;d[u]=r;if(g)if(I={values:t?F:A("values"),keys:v?F:A("keys"),entries:J},z)for(K in I)K in D||h(D,K,I[K]);else e(e.P+e.F*(p||y),f,I);return I}},{"./_export":442,"./_has":449,"./_hide":450,"./_iter-create":462,"./_iterators":466,"./_library":468,"./_object-gpo":484,"./_redefine":497,"./_set-to-string-tag":502,"./_wks":527}],464:[function(a,l,f){var c=a("./_wks")("iterator"),e=!1;try{var h=[7][c]();h["return"]=function(){e=!0};Array.from(h,function(){throw 2;})}catch(b){}l.exports=function(a,h){if(!h&&
!e)return!1;var b=!1;try{h=[7];var k=h[c]();k.next=function(){return{done:b=!0}};h[c]=function(){return k};a(h)}catch(m){}return b}},{"./_wks":527}],465:[function(a,l,f){l.exports=function(a,e){return{value:e,done:!!a}}},{}],466:[function(a,l,f){l.exports={}},{}],467:[function(a,l,f){var c=a("./_object-keys"),e=a("./_to-iobject");l.exports=function(a,b){a=e(a);for(var h=c(a),d=h.length,f=0,m;d>f;)if(a[m=h[f++]]===b)return m}},{"./_object-keys":486,"./_to-iobject":517}],468:[function(a,l,f){l.exports=
!1},{}],469:[function(a,l,f){a=Math.expm1;l.exports=!a||22025.465794806718<a(10)||22025.465794806718>a(10)||-2E-17!=a(-2E-17)?function(a){return 0==(a=+a)?a:-1E-6<a&&1E-6>a?a+a*a/2:Math.exp(a)-1}:a},{}],470:[function(a,l,f){l.exports=Math.log1p||function(a){return-1E-8<(a=+a)&&1E-8>a?a-a*a/2:Math.log(1+a)}},{}],471:[function(a,l,f){l.exports=Math.sign||function(a){return 0==(a=+a)||a!=a?a:0>a?-1:1}},{}],472:[function(a,l,f){var c=a("./_uid")("meta"),e=a("./_is-object"),h=a("./_has"),b=a("./_object-dp").f,
k=0,d=Object.isExtensible||function(){return!0},n=!a("./_fails")(function(){return d(Object.preventExtensions({}))}),m=function(a){b(a,c,{value:{i:"O"+ ++k,w:{}}})},q=l.exports={KEY:c,NEED:!1,fastKey:function(a,b){if(!e(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!h(a,c)){if(!d(a))return"F";if(!b)return"E";m(a)}return a[c].i},getWeak:function(a,b){if(!h(a,c)){if(!d(a))return!0;if(!b)return!1;m(a)}return a[c].w},onFreeze:function(a){n&&q.NEED&&d(a)&&!h(a,c)&&m(a);return a}}},{"./_fails":444,
"./_has":449,"./_is-object":459,"./_object-dp":477,"./_uid":524}],473:[function(a,l,f){var c=a("./es6.map"),e=a("./_export");f=a("./_shared")("metadata");var h=f.store||(f.store=new (a("./es6.weak-map"))),b=function(a,b,e){var d=h.get(a);if(!d){if(!e)return;h.set(a,d=new c)}a=d.get(b);if(!a){if(!e)return;d.set(b,a=new c)}return a};l.exports={store:h,map:b,has:function(a,c,e){c=b(c,e,!1);return void 0===c?!1:c.has(a)},get:function(a,c,e){c=b(c,e,!1);return void 0===c?void 0:c.get(a)},set:function(a,
c,e,h){b(e,h,!0).set(a,c)},keys:function(a,c){a=b(a,c,!1);var d=[];a&&a.forEach(function(a,b){d.push(b)});return d},key:function(a){return void 0===a||"symbol"==typeof a?a:String(a)},exp:function(a){e(e.S,"Reflect",a)}}},{"./_export":442,"./_shared":504,"./es6.map":559,"./es6.weak-map":665}],474:[function(a,l,f){var c=a("./_global"),e=a("./_task").set,h=c.MutationObserver||c.WebKitMutationObserver,b=c.process,k=c.Promise,d="process"==a("./_cof")(b);l.exports=function(){var a,f,l,w=function(){var c,
e;for(d&&(c=b.domain)&&c.exit();a;){e=a.fn;a=a.next;try{e()}catch(A){throw a?l():f=void 0,A;}}f=void 0;c&&c.enter()};if(d)l=function(){b.nextTick(w)};else if(h){var p=!0,r=document.createTextNode("");(new h(w)).observe(r,{characterData:!0});l=function(){r.data=p=!p}}else if(k&&k.resolve){var t=k.resolve();l=function(){t.then(w)}}else l=function(){e.call(c,w)};return function(b){b={fn:b,next:void 0};f&&(f.next=b);a||(a=b,l());f=b}}},{"./_cof":428,"./_global":448,"./_task":514}],475:[function(a,l,f){var c=
a("./_object-keys"),e=a("./_object-gops"),h=a("./_object-pie"),b=a("./_to-object"),k=a("./_iobject"),d=Object.assign;l.exports=!d||a("./_fails")(function(){var a={},b={},c=Symbol();a[c]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){b[a]=a});return 7!=d({},a)[c]||"abcdefghijklmnopqrst"!=Object.keys(d({},b)).join("")})?function(a,d){for(var f=b(a),m=arguments.length,n=1,l=e.f,t=h.f;m>n;)for(var u=k(arguments[n++]),y=l?c(u).concat(l(u)):c(u),A=y.length,g=0,v;A>g;)t.call(u,v=y[g++])&&(f[v]=u[v]);
return f}:d},{"./_fails":444,"./_iobject":455,"./_object-gops":483,"./_object-keys":486,"./_object-pie":487,"./_to-object":519}],476:[function(a,l,f){var c=a("./_an-object"),e=a("./_object-dps"),h=a("./_enum-bug-keys"),b=a("./_shared-key")("IE_PROTO"),k=function(){},d=function(){var b=a("./_dom-create")("iframe"),c=h.length;b.style.display="none";a("./_html").appendChild(b);b.src="javascript:";b=b.contentWindow.document;b.open();b.write("<script>document.F=Object\x3c/script>");b.close();for(d=b.F;c--;)delete d.prototype[h[c]];
return d()};l.exports=Object.create||function(a,h){var f;null!==a?(k.prototype=c(a),f=new k,k.prototype=null,f[b]=a):f=d();return void 0===h?f:e(f,h)}},{"./_an-object":417,"./_dom-create":439,"./_enum-bug-keys":440,"./_html":451,"./_object-dps":478,"./_shared-key":503}],477:[function(a,l,f){var c=a("./_an-object"),e=a("./_ie8-dom-define"),h=a("./_to-primitive"),b=Object.defineProperty;f.f=a("./_descriptors")?Object.defineProperty:function(a,d,f){c(a);d=h(d,!0);c(f);if(e)try{return b(a,d,f)}catch(m){}if("get"in
f||"set"in f)throw TypeError("Accessors not supported!");"value"in f&&(a[d]=f.value);return a}},{"./_an-object":417,"./_descriptors":438,"./_ie8-dom-define":452,"./_to-primitive":520}],478:[function(a,l,f){var c=a("./_object-dp"),e=a("./_an-object"),h=a("./_object-keys");l.exports=a("./_descriptors")?Object.defineProperties:function(a,k){e(a);for(var b=h(k),f=b.length,m=0,l;f>m;)c.f(a,l=b[m++],k[l]);return a}},{"./_an-object":417,"./_descriptors":438,"./_object-dp":477,"./_object-keys":486}],479:[function(a,
l,f){l.exports=a("./_library")||!a("./_fails")(function(){var c=Math.random();__defineSetter__.call(null,c,function(){});delete a("./_global")[c]})},{"./_fails":444,"./_global":448,"./_library":468}],480:[function(a,l,f){var c=a("./_object-pie"),e=a("./_property-desc"),h=a("./_to-iobject"),b=a("./_to-primitive"),k=a("./_has"),d=a("./_ie8-dom-define"),n=Object.getOwnPropertyDescriptor;f.f=a("./_descriptors")?n:function(a,f){a=h(a);f=b(f,!0);if(d)try{return n(a,f)}catch(w){}if(k(a,f))return e(!c.f.call(a,
f),a[f])}},{"./_descriptors":438,"./_has":449,"./_ie8-dom-define":452,"./_object-pie":487,"./_property-desc":495,"./_to-iobject":517,"./_to-primitive":520}],481:[function(a,l,f){var c=a("./_to-iobject"),e=a("./_object-gopn").f,h={}.toString,b="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];l.exports.f=function(a){var d;if(b&&"[object Window]"==h.call(a))try{d=e(a)}catch(n){d=b.slice()}else d=e(c(a));return d}},{"./_object-gopn":482,"./_to-iobject":517}],
482:[function(a,l,f){var c=a("./_object-keys-internal"),e=a("./_enum-bug-keys").concat("length","prototype");f.f=Object.getOwnPropertyNames||function(a){return c(a,e)}},{"./_enum-bug-keys":440,"./_object-keys-internal":485}],483:[function(a,l,f){f.f=Object.getOwnPropertySymbols},{}],484:[function(a,l,f){var c=a("./_has"),e=a("./_to-object"),h=a("./_shared-key")("IE_PROTO"),b=Object.prototype;l.exports=Object.getPrototypeOf||function(a){a=e(a);return c(a,h)?a[h]:"function"==typeof a.constructor&&a instanceof
a.constructor?a.constructor.prototype:a instanceof Object?b:null}},{"./_has":449,"./_shared-key":503,"./_to-object":519}],485:[function(a,l,f){var c=a("./_has"),e=a("./_to-iobject"),h=a("./_array-includes")(!1),b=a("./_shared-key")("IE_PROTO");l.exports=function(a,d){a=e(a);var k=0,f=[],l;for(l in a)l!=b&&c(a,l)&&f.push(l);for(;d.length>k;)c(a,l=d[k++])&&(~h(f,l)||f.push(l));return f}},{"./_array-includes":421,"./_has":449,"./_shared-key":503,"./_to-iobject":517}],486:[function(a,l,f){var c=a("./_object-keys-internal"),
e=a("./_enum-bug-keys");l.exports=Object.keys||function(a){return c(a,e)}},{"./_enum-bug-keys":440,"./_object-keys-internal":485}],487:[function(a,l,f){f.f={}.propertyIsEnumerable},{}],488:[function(a,l,f){var c=a("./_export"),e=a("./_core"),h=a("./_fails");l.exports=function(a,k){var b=(e.Object||{})[a]||Object[a],f={};f[a]=k(b);c(c.S+c.F*h(function(){b(1)}),"Object",f)}},{"./_core":433,"./_export":442,"./_fails":444}],489:[function(a,l,f){var c=a("./_object-keys"),e=a("./_to-iobject"),h=a("./_object-pie").f;
l.exports=function(a){return function(b){b=e(b);for(var d=c(b),k=d.length,f=0,l=[],w;k>f;)h.call(b,w=d[f++])&&l.push(a?[w,b[w]]:b[w]);return l}}},{"./_object-keys":486,"./_object-pie":487,"./_to-iobject":517}],490:[function(a,l,f){var c=a("./_object-gopn"),e=a("./_object-gops"),h=a("./_an-object");a=a("./_global").Reflect;l.exports=a&&a.ownKeys||function(a){var b=c.f(h(a)),d=e.f;return d?b.concat(d(a)):b}},{"./_an-object":417,"./_global":448,"./_object-gopn":482,"./_object-gops":483}],491:[function(a,
l,f){var c=a("./_global").parseFloat,e=a("./_string-trim").trim;l.exports=-Infinity!==1/c(a("./_string-ws")+"-0")?function(a){a=e(String(a),3);var b=c(a);return 0===b&&"-"==a.charAt(0)?-0:b}:c},{"./_global":448,"./_string-trim":512,"./_string-ws":513}],492:[function(a,l,f){var c=a("./_global").parseInt,e=a("./_string-trim").trim;a=a("./_string-ws");var h=/^[\-+]?0[xX]/;l.exports=8!==c(a+"08")||22!==c(a+"0x16")?function(a,k){a=e(String(a),3);return c(a,k>>>0||(h.test(a)?16:10))}:c},{"./_global":448,
"./_string-trim":512,"./_string-ws":513}],493:[function(a,l,f){var c=a("./_path"),e=a("./_invoke"),h=a("./_a-function");l.exports=function(){for(var a=h(this),k=arguments.length,d=Array(k),f=0,m=c._,l=!1;k>f;)(d[f]=arguments[f++])===m&&(l=!0);return function(){var b=arguments.length,c=0,h=0,f;if(!l&&!b)return e(a,d,this);f=d.slice();if(l)for(;k>c;c++)f[c]===m&&(f[c]=arguments[h++]);for(;b>h;)f.push(arguments[h++]);return e(a,f,this)}}},{"./_a-function":413,"./_invoke":454,"./_path":494}],494:[function(a,
l,f){l.exports=a("./_global")},{"./_global":448}],495:[function(a,l,f){l.exports=function(a,e){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:e}}},{}],496:[function(a,l,f){var c=a("./_redefine");l.exports=function(a,h,b){for(var e in h)c(a,e,h[e],b);return a}},{"./_redefine":497}],497:[function(a,l,f){var c=a("./_global"),e=a("./_hide"),h=a("./_has"),b=a("./_uid")("src"),k=Function.toString,d=(""+k).split("toString");a("./_core").inspectSource=function(a){return k.call(a)};(l.exports=
function(a,k,f,l){var m="function"==typeof f;m&&(h(f,"name")||e(f,"name",k));a[k]!==f&&(m&&(h(f,b)||e(f,b,a[k]?""+a[k]:d.join(String(k)))),a===c?a[k]=f:l?a[k]?a[k]=f:e(a,k,f):(delete a[k],e(a,k,f)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[b]||k.call(this)})},{"./_core":433,"./_global":448,"./_has":449,"./_hide":450,"./_uid":524}],498:[function(a,l,f){l.exports=function(a,e){var c=e===Object(e)?function(a){return e[a]}:e;return function(b){return String(b).replace(a,
c)}}},{}],499:[function(a,l,f){l.exports=Object.is||function(a,e){return a===e?0!==a||1/a===1/e:a!=a&&e!=e}},{}],500:[function(a,l,f){var c=a("./_is-object"),e=a("./_an-object"),h=function(a,h){e(a);if(!c(h)&&null!==h)throw TypeError(h+": can't set as prototype!");};l.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(b,c,d){try{d=a("./_ctx")(Function.call,a("./_object-gopd").f(Object.prototype,"__proto__").set,2),d(b,[]),c=!(b instanceof Array)}catch(n){c=!0}return function(a,b){h(a,b);
c?a.__proto__=b:d(a,b);return a}}({},!1):void 0),check:h}},{"./_an-object":417,"./_ctx":435,"./_is-object":459,"./_object-gopd":480}],501:[function(a,l,f){var c=a("./_global"),e=a("./_object-dp"),h=a("./_descriptors"),b=a("./_wks")("species");l.exports=function(a){a=c[a];h&&a&&!a[b]&&e.f(a,b,{configurable:!0,get:function(){return this}})}},{"./_descriptors":438,"./_global":448,"./_object-dp":477,"./_wks":527}],502:[function(a,l,f){var c=a("./_object-dp").f,e=a("./_has"),h=a("./_wks")("toStringTag");
l.exports=function(a,k,d){a&&!e(a=d?a:a.prototype,h)&&c(a,h,{configurable:!0,value:k})}},{"./_has":449,"./_object-dp":477,"./_wks":527}],503:[function(a,l,f){var c=a("./_shared")("keys"),e=a("./_uid");l.exports=function(a){return c[a]||(c[a]=e(a))}},{"./_shared":504,"./_uid":524}],504:[function(a,l,f){a=a("./_global");var c=a["__core-js_shared__"]||(a["__core-js_shared__"]={});l.exports=function(a){return c[a]||(c[a]={})}},{"./_global":448}],505:[function(a,l,f){var c=a("./_an-object"),e=a("./_a-function"),
h=a("./_wks")("species");l.exports=function(a,k){a=c(a).constructor;var b;return void 0===a||void 0==(b=c(a)[h])?k:e(b)}},{"./_a-function":413,"./_an-object":417,"./_wks":527}],506:[function(a,l,f){var c=a("./_fails");l.exports=function(a,h){return!!a&&c(function(){h?a.call(null,function(){},1):a.call(null)})}},{"./_fails":444}],507:[function(a,l,f){var c=a("./_to-integer"),e=a("./_defined");l.exports=function(a){return function(b,h){b=String(e(b));h=c(h);var d=b.length,k,f;if(0>h||h>=d)return a?
"":void 0;k=b.charCodeAt(h);return 55296>k||56319<k||h+1===d||56320>(f=b.charCodeAt(h+1))||57343<f?a?b.charAt(h):k:a?b.slice(h,h+2):(k-55296<<10)+(f-56320)+65536}}},{"./_defined":437,"./_to-integer":516}],508:[function(a,l,f){var c=a("./_is-regexp"),e=a("./_defined");l.exports=function(a,b,k){if(c(b))throw TypeError("String#"+k+" doesn't accept regex!");return String(e(a))}},{"./_defined":437,"./_is-regexp":460}],509:[function(a,l,f){var c=a("./_export"),e=a("./_fails"),h=a("./_defined"),b=/"/g,k=
function(a,c,e,k){a=String(h(a));var d="<"+c;""!==e&&(d+=" "+e+'="'+String(k).replace(b,"&quot;")+'"');return d+">"+a+"</"+c+">"};l.exports=function(a,b){var d={};d[a]=b(k);c(c.P+c.F*e(function(){var b=""[a]('"');return b!==b.toLowerCase()||3<b.split('"').length}),"String",d)}},{"./_defined":437,"./_export":442,"./_fails":444}],510:[function(a,l,f){var c=a("./_to-length"),e=a("./_string-repeat"),h=a("./_defined");l.exports=function(a,k,d,f){a=String(h(a));var b=a.length;d=void 0===d?" ":String(d);
k=c(k);if(k<=b||""==d)return a;k-=b;b=e.call(d,Math.ceil(k/d.length));b.length>k&&(b=b.slice(0,k));return f?b+a:a+b}},{"./_defined":437,"./_string-repeat":511,"./_to-length":518}],511:[function(a,l,f){var c=a("./_to-integer"),e=a("./_defined");l.exports=function(a){var b=String(e(this)),h="";a=c(a);if(0>a||Infinity==a)throw RangeError("Count can't be negative");for(;0<a;(a>>>=1)&&(b+=b))a&1&&(h+=b);return h}},{"./_defined":437,"./_to-integer":516}],512:[function(a,l,f){var c=a("./_export"),e=a("./_defined"),
h=a("./_fails"),b=a("./_string-ws");a="["+b+"]";var k=RegExp("^"+a+a+"*"),d=RegExp(a+a+"*$");a=function(a,d,e){var k={},f=h(function(){return!!b[a]()||"\u200b\u0085"!="\u200b\u0085"[a]()});d=k[a]=f?d(n):b[a];e&&(k[e]=d);c(c.P+c.F*f,"String",k)};var n=a.trim=function(a,b){a=String(e(a));b&1&&(a=a.replace(k,""));b&2&&(a=a.replace(d,""));return a};l.exports=a},{"./_defined":437,"./_export":442,"./_fails":444,"./_string-ws":513}],513:[function(a,l,f){l.exports="\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},
{}],514:[function(a,l,f){var c=a("./_ctx"),e=a("./_invoke"),h=a("./_html"),b=a("./_dom-create"),k=a("./_global"),d=k.process;f=k.setImmediate;var n=k.clearImmediate,m=k.MessageChannel,q=0,w={},p,r=function(){var a=+this;if(w.hasOwnProperty(a)){var b=w[a];delete w[a];b()}},t=function(a){r.call(a.data)};f&&n||(f=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);w[++q]=function(){e("function"==typeof a?a:Function(a),b)};p(q);return q},n=function(a){delete w[a]},"process"==a("./_cof")(d)?
p=function(a){d.nextTick(c(r,a,1))}:m?(a=new m,m=a.port2,a.port1.onmessage=t,p=c(m.postMessage,m,1)):k.addEventListener&&"function"==typeof postMessage&&!k.importScripts?(p=function(a){k.postMessage(a+"","*")},k.addEventListener("message",t,!1)):p="onreadystatechange"in b("script")?function(a){h.appendChild(b("script")).onreadystatechange=function(){h.removeChild(this);r.call(a)}}:function(a){setTimeout(c(r,a,1),0)});l.exports={set:f,clear:n}},{"./_cof":428,"./_ctx":435,"./_dom-create":439,"./_global":448,
"./_html":451,"./_invoke":454}],515:[function(a,l,f){var c=a("./_to-integer"),e=Math.max,h=Math.min;l.exports=function(a,k){a=c(a);return 0>a?e(a+k,0):h(a,k)}},{"./_to-integer":516}],516:[function(a,l,f){var c=Math.ceil,e=Math.floor;l.exports=function(a){return isNaN(a=+a)?0:(0<a?e:c)(a)}},{}],517:[function(a,l,f){var c=a("./_iobject"),e=a("./_defined");l.exports=function(a){return c(e(a))}},{"./_defined":437,"./_iobject":455}],518:[function(a,l,f){var c=a("./_to-integer"),e=Math.min;l.exports=function(a){return 0<
a?e(c(a),9007199254740991):0}},{"./_to-integer":516}],519:[function(a,l,f){var c=a("./_defined");l.exports=function(a){return Object(c(a))}},{"./_defined":437}],520:[function(a,l,f){var c=a("./_is-object");l.exports=function(a,h){if(!c(a))return a;var b,e;if(h&&"function"==typeof(b=a.toString)&&!c(e=b.call(a))||"function"==typeof(b=a.valueOf)&&!c(e=b.call(a))||!h&&"function"==typeof(b=a.toString)&&!c(e=b.call(a)))return e;throw TypeError("Can't convert object to primitive value");}},{"./_is-object":459}],
521:[function(a,l,f){if(a("./_descriptors")){var c=a("./_library"),e=a("./_global"),h=a("./_fails"),b=a("./_export"),k=a("./_typed"),d=a("./_typed-buffer"),n=a("./_ctx"),m=a("./_an-instance"),q=a("./_property-desc"),w=a("./_hide");f=a("./_redefine-all");var p=a("./_to-integer"),r=a("./_to-length"),t=a("./_to-index"),u=a("./_to-primitive"),y=a("./_has"),A=a("./_same-value"),g=a("./_classof"),v=a("./_is-object"),z=a("./_to-object"),B=a("./_is-array-iter"),G=a("./_object-create"),x=a("./_object-gpo"),
D=a("./_object-gopn").f,E=a("./core.get-iterator-method"),F=a("./_uid"),J=a("./_wks"),L=a("./_array-methods"),I=a("./_array-includes"),K=a("./_species-constructor"),N=a("./es6.array.iterator"),P=a("./_iterators"),Y=a("./_iter-detect"),M=a("./_set-species"),O=a("./_array-fill"),Q=a("./_array-copy-within"),U=a("./_object-dp");a=a("./_object-gopd");var R=U.f,ba=a.f,T=e.RangeError,ca=e.TypeError,ha=e.Uint8Array,X=Array.prototype,aa=d.ArrayBuffer,ga=d.DataView,ka=L(0),ra=L(2),Ea=L(3),ua=L(4),$a=L(5),La=
L(6),pa=I(!0),fa=I(!1),ea=N.values,Z=N.keys,C=N.entries,va=X.lastIndexOf,za=X.reduce,Ma=X.reduceRight,Ra=X.join,Ta=X.sort,Ha=X.slice,na=X.toString,Fa=X.toLocaleString,oa=J("iterator"),V=J("toStringTag"),ib=F("typed_constructor"),tb=F("def_constructor"),d=k.CONSTR,cb=k.TYPED,ec=k.VIEW,fc=L(1,function(a,b){return pb(K(a,a[tb]),b)}),ob=h(function(){return 1===(new ha((new Uint16Array([1])).buffer))[0]}),W=!!ha&&!!ha.prototype.set&&h(function(){(new ha(1)).set({})}),wa=function(a,b){if(void 0===a)throw ca("Wrong length!");
var c=+a;a=r(a);if(b&&!A(c,a))throw T("Wrong length!");return a},Xb=function(a,b){a=p(a);if(0>a||a%b)throw T("Wrong offset!");return a},Da=function(a){if(v(a)&&cb in a)return a;throw ca(a+" is not a typed array!");},pb=function(a,b){if(!(v(a)&&ib in a))throw ca("It is not a typed array constructor!");return new a(b)},uc=function(a,b){return hc(K(a,a[tb]),b)},hc=function(a,b){var c=0,d=b.length;for(a=pb(a,d);d>c;)a[c]=b[c++];return a},L=function(a,b,c){R(a,b,{get:function(){return this._d[c]}})},tc=
function(a){var b=z(a),c=arguments.length,d=1<c?arguments[1]:void 0,e=void 0!==d,g=E(b),h,k;if(void 0!=g&&!B(g))for(k=g.call(b),b=[],g=0;!(h=k.next()).done;g++)b.push(h.value);e&&2<c&&(d=n(d,arguments[2],2));g=0;c=r(b.length);for(h=pb(this,c);c>g;g++)h[g]=e?d(b[g],g):b[g];return h},wf=function(){for(var a=0,b=arguments.length,c=pb(this,b);b>a;)c[a]=arguments[a++];return c},Vd=!!ha&&h(function(){Fa.call(new ha(1))}),Bb=function(){return Fa.apply(Vd?Ha.call(Da(this)):Da(this),arguments)},ub={copyWithin:function(a,
b){return Q.call(Da(this),a,b,2<arguments.length?arguments[2]:void 0)},every:function(a){return ua(Da(this),a,1<arguments.length?arguments[1]:void 0)},fill:function(a){return O.apply(Da(this),arguments)},filter:function(a){return uc(this,ra(Da(this),a,1<arguments.length?arguments[1]:void 0))},find:function(a){return $a(Da(this),a,1<arguments.length?arguments[1]:void 0)},findIndex:function(a){return La(Da(this),a,1<arguments.length?arguments[1]:void 0)},forEach:function(a){ka(Da(this),a,1<arguments.length?
arguments[1]:void 0)},indexOf:function(a){return fa(Da(this),a,1<arguments.length?arguments[1]:void 0)},includes:function(a){return pa(Da(this),a,1<arguments.length?arguments[1]:void 0)},join:function(a){return Ra.apply(Da(this),arguments)},lastIndexOf:function(a){return va.apply(Da(this),arguments)},map:function(a){return fc(Da(this),a,1<arguments.length?arguments[1]:void 0)},reduce:function(a){return za.apply(Da(this),arguments)},reduceRight:function(a){return Ma.apply(Da(this),arguments)},reverse:function(){for(var a=
Da(this).length,b=Math.floor(a/2),c=0,d;c<b;)d=this[c],this[c++]=this[--a],this[a]=d;return this},some:function(a){return Ea(Da(this),a,1<arguments.length?arguments[1]:void 0)},sort:function(a){return Ta.call(Da(this),a)},subarray:function(a,b){var c=Da(this),d=c.length;a=t(a,d);return new (K(c,c[tb]))(c.buffer,c.byteOffset+a*c.BYTES_PER_ELEMENT,r((void 0===b?d:t(b,d))-a))}},Nb=function(a,b){return uc(this,Ha.call(Da(this),a,b))},Ad=function(a,b){Da(this);b=Xb(b,1);var c=this.length;a=z(a);var d=
r(a.length),e=0;if(d+b>c)throw T("Wrong length!");for(;e<d;)this[b+e]=a[e++]},db={entries:function(){return C.call(Da(this))},keys:function(){return Z.call(Da(this))},values:function(){return ea.call(Da(this))}},vb=function(a,b){return v(a)&&a[cb]&&"symbol"!=typeof b&&b in a&&String(+b)==String(b)},F=function(a,b){return vb(a,b=u(b,!0))?q(2,a[b]):ba(a,b)},J=function(a,b,c){if(!(vb(a,b=u(b,!0))&&v(c)&&y(c,"value"))||y(c,"get")||y(c,"set")||c.configurable||y(c,"writable")&&!c.writable||y(c,"enumerable")&&
!c.enumerable)return R(a,b,c);a[b]=c.value;return a};d||(a.f=F,U.f=J);b(b.S+b.F*!d,"Object",{getOwnPropertyDescriptor:F,defineProperty:J});h(function(){na.call({})})&&(na=Fa=function(){return Ra.call(this)});var rb=f({},ub);f(rb,db);w(rb,oa,db.values);f(rb,{slice:Nb,set:Ad,constructor:function(){},toString:na,toLocaleString:Bb});L(rb,"buffer","b");L(rb,"byteOffset","o");L(rb,"byteLength","l");L(rb,"length","e");R(rb,V,{get:function(){return this[cb]}});l.exports=function(a,d,f,n){n=!!n;var l=a+(n?
"Clamped":"")+"Array",q="Uint8Array"!=l,p="get"+a,u="set"+a,t=e[l],y=t||{},B=t&&x(t);a={};var z=t&&t.prototype,A=function(a,b){R(a,b,{get:function(){var a=this._d;return a.v[p](b*d+a.o,ob)},set:function(a){var c=this._d;n&&(a=0>(a=Math.round(a))?0:255<a?255:a&255);c.v[u](b*d+c.o,a,ob)},enumerable:!0})};t&&k.ABV?Y(function(a){new t(null);new t(a)},!0)||(t=f(function(a,b,c,e){m(a,t,l);var h;return v(b)?b instanceof aa||"ArrayBuffer"==(h=g(b))||"SharedArrayBuffer"==h?void 0!==e?new y(b,Xb(c,d),e):void 0!==
c?new y(b,Xb(c,d)):new y(b):cb in b?hc(t,b):tc.call(t,b):new y(wa(b,q))}),ka(B!==Function.prototype?D(y).concat(D(B)):D(y),function(a){a in t||w(t,a,y[a])}),t.prototype=z,c||(z.constructor=t)):(t=f(function(a,b,c,e){m(a,t,l,"_d");var h=0,k=0,f;if(v(b))if(b instanceof aa||"ArrayBuffer"==(f=g(b))||"SharedArrayBuffer"==f){f=b;k=Xb(c,d);b=b.byteLength;if(void 0===e){if(b%d)throw T("Wrong length!");e=b-k;if(0>e)throw T("Wrong length!");}else if(e=r(e)*d,e+k>b)throw T("Wrong length!");b=e/d}else return cb in
b?hc(t,b):tc.call(t,b);else b=wa(b,!0),e=b*d,f=new aa(e);for(w(a,"_d",{b:f,o:k,l:e,e:b,v:new ga(f)});h<b;)A(a,h++)}),z=t.prototype=G(rb),w(z,"constructor",t));f=z[oa];var B=!!f&&("values"==f.name||void 0==f.name),E=db.values;w(t,ib,!0);w(z,cb,l);w(z,ec,!0);w(z,tb,t);(n?(new t(1))[V]==l:V in z)||R(z,V,{get:function(){return l}});a[l]=t;b(b.G+b.W+b.F*(t!=y),a);b(b.S,l,{BYTES_PER_ELEMENT:d,from:tc,of:wf});"BYTES_PER_ELEMENT"in z||w(z,"BYTES_PER_ELEMENT",d);b(b.P,l,ub);M(l);b(b.P+b.F*W,l,{set:Ad});b(b.P+
b.F*!B,l,db);b(b.P+b.F*(z.toString!=na),l,{toString:na});b(b.P+b.F*h(function(){(new t(1)).slice()}),l,{slice:Nb});b(b.P+b.F*(h(function(){return[1,2].toLocaleString()!=(new t([1,2])).toLocaleString()})||!h(function(){z.toLocaleString.call([1,2])})),l,{toLocaleString:Bb});P[l]=B?f:E;c||B||w(z,oa,E)}}else l.exports=function(){}},{"./_an-instance":416,"./_array-copy-within":418,"./_array-fill":419,"./_array-includes":421,"./_array-methods":422,"./_classof":427,"./_ctx":435,"./_descriptors":438,"./_export":442,
"./_fails":444,"./_global":448,"./_has":449,"./_hide":450,"./_is-array-iter":456,"./_is-object":459,"./_iter-detect":464,"./_iterators":466,"./_library":468,"./_object-create":476,"./_object-dp":477,"./_object-gopd":480,"./_object-gopn":482,"./_object-gpo":484,"./_property-desc":495,"./_redefine-all":496,"./_same-value":499,"./_set-species":501,"./_species-constructor":505,"./_to-index":515,"./_to-integer":516,"./_to-length":518,"./_to-object":519,"./_to-primitive":520,"./_typed":523,"./_typed-buffer":522,
"./_uid":524,"./_wks":527,"./core.get-iterator-method":528,"./es6.array.iterator":540}],522:[function(a,l,f){var c=a("./_global"),e=a("./_descriptors"),h=a("./_library");l=a("./_typed");var b=a("./_hide"),k=a("./_redefine-all"),d=a("./_fails"),n=a("./_an-instance"),m=a("./_to-integer"),q=a("./_to-length"),w=a("./_object-gopn").f,p=a("./_object-dp").f,r=a("./_array-fill");a=a("./_set-to-string-tag");var t=c.ArrayBuffer,u=c.DataView,y=c.Math,A=c.RangeError,g=c.Infinity,v=t,z=y.abs,B=y.pow,G=y.floor,
x=y.log,D=y.LN2,E=e?"_b":"buffer",F=e?"_l":"byteLength",J=e?"_o":"byteOffset",L=function(a,b,c){var d=Array(c);c=8*c-b-1;var e=(1<<c)-1,h=e>>1,k=23===b?B(2,-24)-B(2,-77):0,f=0,n=0>a||0===a&&0>1/a?1:0,m,l;a=z(a);a!=a||a===g?(a=a!=a?1:0,m=e):(m=G(x(a)/D),1>a*(l=B(2,-m))&&(m--,l*=2),a=1<=m+h?a+k/l:a+k*B(2,1-h),2<=a*l&&(m++,l/=2),m+h>=e?(a=0,m=e):1<=m+h?(a=(a*l-1)*B(2,b),m+=h):(a=a*B(2,h-1)*B(2,b),m=0));for(;8<=b;d[f++]=a&255,a/=256,b-=8);m=m<<b|a;for(c+=b;0<c;d[f++]=m&255,m/=256,c-=8);d[--f]|=128*n;
return d},I=function(a,b,c){var d=8*c-b-1,e=(1<<d)-1,h=e>>1,d=d-7;--c;for(var k=a[c--],f=k&127,m,k=k>>7;0<d;f=256*f+a[c],c--,d-=8);m=f&(1<<-d)-1;f>>=-d;for(d+=b;0<d;m=256*m+a[c],c--,d-=8);if(0===f)f=1-h;else{if(f===e)return m?NaN:k?-g:g;m+=B(2,b);f-=h}return(k?-1:1)*m*B(2,f-b)},K=function(a){return a[3]<<24|a[2]<<16|a[1]<<8|a[0]},N=function(a){return[a&255]},P=function(a){return[a&255,a>>8&255]},Y=function(a){return[a&255,a>>8&255,a>>16&255,a>>24&255]},M=function(a){return L(a,52,8)},O=function(a){return L(a,
23,4)},c=function(a,b,c){p(a.prototype,b,{get:function(){return this[c]}})},Q=function(a,b,c,d){c=+c;var e=m(c);if(c!=e||0>e||e+b>a[F])throw A("Wrong index!");c=e+a[J];a=a[E]._b.slice(c,c+b);return d?a:a.reverse()},U=function(a,b,c,d,e,g){c=+c;var h=m(c);if(c!=h||0>h||h+b>a[F])throw A("Wrong index!");c=a[E]._b;a=h+a[J];d=d(+e);for(e=0;e<b;e++)c[a+e]=d[g?e:b-e-1]},R=function(a,b){n(a,t,"ArrayBuffer");a=+b;b=q(a);if(a!=b)throw A("Wrong length!");return b};if(l.ABV){if(!d(function(){new t})||!d(function(){new t(.5)})){for(var t=
function(a){return new v(R(this,a))},e=t.prototype=v.prototype,w=w(v),d=0,ba;w.length>d;)(ba=w[d++])in t||b(t,ba,v[ba]);h||(e.constructor=t)}ba=new u(new t(2));var T=u.prototype.setInt8;ba.setInt8(0,2147483648);ba.setInt8(1,2147483649);!ba.getInt8(0)&&ba.getInt8(1)||k(u.prototype,{setInt8:function(a,b){T.call(this,a,b<<24>>24)},setUint8:function(a,b){T.call(this,a,b<<24>>24)}},!0)}else t=function(a){a=R(this,a);this._b=r.call(Array(a),0);this[F]=a},u=function(a,b,c){n(this,u,"DataView");n(a,t,"DataView");
var d=a[F];b=m(b);if(0>b||b>d)throw A("Wrong offset!");c=void 0===c?d-b:q(c);if(b+c>d)throw A("Wrong length!");this[E]=a;this[J]=b;this[F]=c},e&&(c(t,"byteLength","_l"),c(u,"buffer","_b"),c(u,"byteLength","_l"),c(u,"byteOffset","_o")),k(u.prototype,{getInt8:function(a){return Q(this,1,a)[0]<<24>>24},getUint8:function(a){return Q(this,1,a)[0]},getInt16:function(a,b){a=Q(this,2,a,b);return(a[1]<<8|a[0])<<16>>16},getUint16:function(a,b){a=Q(this,2,a,b);return a[1]<<8|a[0]},getInt32:function(a,b){return K(Q(this,
4,a,b))},getUint32:function(a,b){return K(Q(this,4,a,b))>>>0},getFloat32:function(a,b){return I(Q(this,4,a,b),23,4)},getFloat64:function(a,b){return I(Q(this,8,a,b),52,8)},setInt8:function(a,b){U(this,1,a,N,b)},setUint8:function(a,b){U(this,1,a,N,b)},setInt16:function(a,b,c){U(this,2,a,P,b,c)},setUint16:function(a,b,c){U(this,2,a,P,b,c)},setInt32:function(a,b,c){U(this,4,a,Y,b,c)},setUint32:function(a,b,c){U(this,4,a,Y,b,c)},setFloat32:function(a,b,c){U(this,4,a,O,b,c)},setFloat64:function(a,b,c){U(this,
8,a,M,b,c)}});a(t,"ArrayBuffer");a(u,"DataView");b(u.prototype,l.VIEW,!0);f.ArrayBuffer=t;f.DataView=u},{"./_an-instance":416,"./_array-fill":419,"./_descriptors":438,"./_fails":444,"./_global":448,"./_hide":450,"./_library":468,"./_object-dp":477,"./_object-gopn":482,"./_redefine-all":496,"./_set-to-string-tag":502,"./_to-integer":516,"./_to-length":518,"./_typed":523}],523:[function(a,l,f){f=a("./_global");var c=a("./_hide"),e=a("./_uid");a=e("typed_array");for(var e=e("view"),h=!(!f.ArrayBuffer||
!f.DataView),b=h,k=0,d,n="Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" ");9>k;)(d=f[n[k++]])?(c(d.prototype,a,!0),c(d.prototype,e,!0)):b=!1;l.exports={ABV:h,CONSTR:b,TYPED:a,VIEW:e}},{"./_global":448,"./_hide":450,"./_uid":524}],524:[function(a,l,f){var c=0,e=Math.random();l.exports=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++c+e).toString(36))}},{}],525:[function(a,l,f){var c=a("./_global"),e=a("./_core"),h=
a("./_library"),b=a("./_wks-ext"),k=a("./_object-dp").f;l.exports=function(a){var d=e.Symbol||(e.Symbol=h?{}:c.Symbol||{});"_"==a.charAt(0)||a in d||k(d,a,{value:b.f(a)})}},{"./_core":433,"./_global":448,"./_library":468,"./_object-dp":477,"./_wks-ext":526}],526:[function(a,l,f){f.f=a("./_wks")},{"./_wks":527}],527:[function(a,l,f){var c=a("./_shared")("wks"),e=a("./_uid"),h=a("./_global").Symbol,b="function"==typeof h;(l.exports=function(a){return c[a]||(c[a]=b&&h[a]||(b?h:e)("Symbol."+a))}).store=
c},{"./_global":448,"./_shared":504,"./_uid":524}],528:[function(a,l,f){var c=a("./_classof"),e=a("./_wks")("iterator"),h=a("./_iterators");l.exports=a("./_core").getIteratorMethod=function(a){if(void 0!=a)return a[e]||a["@@iterator"]||h[c(a)]}},{"./_classof":427,"./_core":433,"./_iterators":466,"./_wks":527}],529:[function(a,l,f){l=a("./_export");var c=a("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");l(l.S,"RegExp",{escape:function(a){return c(a)}})},{"./_export":442,"./_replacer":498}],530:[function(a,
l,f){l=a("./_export");l(l.P,"Array",{copyWithin:a("./_array-copy-within")});a("./_add-to-unscopables")("copyWithin")},{"./_add-to-unscopables":415,"./_array-copy-within":418,"./_export":442}],531:[function(a,l,f){l=a("./_export");var c=a("./_array-methods")(4);l(l.P+l.F*!a("./_strict-method")([].every,!0),"Array",{every:function(a,h){return c(this,a,h)}})},{"./_array-methods":422,"./_export":442,"./_strict-method":506}],532:[function(a,l,f){l=a("./_export");l(l.P,"Array",{fill:a("./_array-fill")});
a("./_add-to-unscopables")("fill")},{"./_add-to-unscopables":415,"./_array-fill":419,"./_export":442}],533:[function(a,l,f){l=a("./_export");var c=a("./_array-methods")(2);l(l.P+l.F*!a("./_strict-method")([].filter,!0),"Array",{filter:function(a,h){return c(this,a,h)}})},{"./_array-methods":422,"./_export":442,"./_strict-method":506}],534:[function(a,l,f){l=a("./_export");var c=a("./_array-methods")(6),e=!0;"findIndex"in[]&&Array(1).findIndex(function(){e=!1});l(l.P+l.F*e,"Array",{findIndex:function(a){return c(this,
a,1<arguments.length?arguments[1]:void 0)}});a("./_add-to-unscopables")("findIndex")},{"./_add-to-unscopables":415,"./_array-methods":422,"./_export":442}],535:[function(a,l,f){l=a("./_export");var c=a("./_array-methods")(5),e=!0;"find"in[]&&Array(1).find(function(){e=!1});l(l.P+l.F*e,"Array",{find:function(a){return c(this,a,1<arguments.length?arguments[1]:void 0)}});a("./_add-to-unscopables")("find")},{"./_add-to-unscopables":415,"./_array-methods":422,"./_export":442}],536:[function(a,l,f){l=a("./_export");
var c=a("./_array-methods")(0);a=a("./_strict-method")([].forEach,!0);l(l.P+l.F*!a,"Array",{forEach:function(a,h){return c(this,a,h)}})},{"./_array-methods":422,"./_export":442,"./_strict-method":506}],537:[function(a,l,f){var c=a("./_ctx");l=a("./_export");var e=a("./_to-object"),h=a("./_iter-call"),b=a("./_is-array-iter"),k=a("./_to-length"),d=a("./_create-property"),n=a("./core.get-iterator-method");l(l.S+l.F*!a("./_iter-detect")(function(a){Array.from(a)}),"Array",{from:function(a){var f=e(a),
m="function"==typeof this?this:Array,l=arguments.length,r=1<l?arguments[1]:void 0,t=void 0!==r,u=0,y=n(f);t&&(r=c(r,2<l?arguments[2]:void 0,2));if(void 0==y||m==Array&&b(y))for(l=k(f.length),m=new m(l);l>u;u++)d(m,u,t?r(f[u],u):f[u]);else for(f=y.call(f),m=new m;!(l=f.next()).done;u++)d(m,u,t?h(f,r,[l.value,u],!0):l.value);m.length=u;return m}})},{"./_create-property":434,"./_ctx":435,"./_export":442,"./_is-array-iter":456,"./_iter-call":461,"./_iter-detect":464,"./_to-length":518,"./_to-object":519,
"./core.get-iterator-method":528}],538:[function(a,l,f){l=a("./_export");var c=a("./_array-includes")(!1),e=[].indexOf,h=!!e&&0>1/[1].indexOf(1,-0);l(l.P+l.F*(h||!a("./_strict-method")(e)),"Array",{indexOf:function(a){return h?e.apply(this,arguments)||0:c(this,a,arguments[1])}})},{"./_array-includes":421,"./_export":442,"./_strict-method":506}],539:[function(a,l,f){l=a("./_export");l(l.S,"Array",{isArray:a("./_is-array")})},{"./_export":442,"./_is-array":457}],540:[function(a,l,f){f=a("./_add-to-unscopables");
var c=a("./_iter-step"),e=a("./_iterators"),h=a("./_to-iobject");l.exports=a("./_iter-define")(Array,"Array",function(a,c){this._t=h(a);this._i=0;this._k=c},function(){var a=this._t,e=this._k,d=this._i++;return!a||d>=a.length?(this._t=void 0,c(1)):"keys"==e?c(0,d):"values"==e?c(0,a[d]):c(0,[d,a[d]])},"values");e.Arguments=e.Array;f("keys");f("values");f("entries")},{"./_add-to-unscopables":415,"./_iter-define":463,"./_iter-step":465,"./_iterators":466,"./_to-iobject":517}],541:[function(a,l,f){l=
a("./_export");var c=a("./_to-iobject"),e=[].join;l(l.P+l.F*(a("./_iobject")!=Object||!a("./_strict-method")(e)),"Array",{join:function(a){return e.call(c(this),void 0===a?",":a)}})},{"./_export":442,"./_iobject":455,"./_strict-method":506,"./_to-iobject":517}],542:[function(a,l,f){l=a("./_export");var c=a("./_to-iobject"),e=a("./_to-integer"),h=a("./_to-length"),b=[].lastIndexOf,k=!!b&&0>1/[1].lastIndexOf(1,-0);l(l.P+l.F*(k||!a("./_strict-method")(b)),"Array",{lastIndexOf:function(a){if(k)return b.apply(this,
arguments)||0;var d=c(this),f=h(d.length),l=f-1;1<arguments.length&&(l=Math.min(l,e(arguments[1])));for(0>l&&(l=f+l);0<=l;l--)if(l in d&&d[l]===a)return l||0;return-1}})},{"./_export":442,"./_strict-method":506,"./_to-integer":516,"./_to-iobject":517,"./_to-length":518}],543:[function(a,l,f){l=a("./_export");var c=a("./_array-methods")(1);l(l.P+l.F*!a("./_strict-method")([].map,!0),"Array",{map:function(a,h){return c(this,a,h)}})},{"./_array-methods":422,"./_export":442,"./_strict-method":506}],544:[function(a,
l,f){l=a("./_export");var c=a("./_create-property");l(l.S+l.F*a("./_fails")(function(){function a(){}return!(Array.of.call(a)instanceof a)}),"Array",{of:function(){for(var a=0,h=arguments.length,b=new ("function"==typeof this?this:Array)(h);h>a;)c(b,a,arguments[a++]);b.length=h;return b}})},{"./_create-property":434,"./_export":442,"./_fails":444}],545:[function(a,l,f){l=a("./_export");var c=a("./_array-reduce");l(l.P+l.F*!a("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(a){return c(this,
a,arguments.length,arguments[1],!0)}})},{"./_array-reduce":423,"./_export":442,"./_strict-method":506}],546:[function(a,l,f){l=a("./_export");var c=a("./_array-reduce");l(l.P+l.F*!a("./_strict-method")([].reduce,!0),"Array",{reduce:function(a){return c(this,a,arguments.length,arguments[1],!1)}})},{"./_array-reduce":423,"./_export":442,"./_strict-method":506}],547:[function(a,l,f){l=a("./_export");var c=a("./_html"),e=a("./_cof"),h=a("./_to-index"),b=a("./_to-length"),k=[].slice;l(l.P+l.F*a("./_fails")(function(){c&&
k.call(c)}),"Array",{slice:function(a,c){var d=b(this.length),f=e(this);c=void 0===c?d:c;if("Array"==f)return k.call(this,a,c);a=h(a,d);c=h(c,d);c=b(c-a);for(var d=Array(c),l=0;l<c;l++)d[l]="String"==f?this.charAt(a+l):this[a+l];return d}})},{"./_cof":428,"./_export":442,"./_fails":444,"./_html":451,"./_to-index":515,"./_to-length":518}],548:[function(a,l,f){l=a("./_export");var c=a("./_array-methods")(3);l(l.P+l.F*!a("./_strict-method")([].some,!0),"Array",{some:function(a,h){return c(this,a,h)}})},
{"./_array-methods":422,"./_export":442,"./_strict-method":506}],549:[function(a,l,f){l=a("./_export");var c=a("./_a-function"),e=a("./_to-object");f=a("./_fails");var h=[].sort,b=[1,2,3];l(l.P+l.F*(f(function(){b.sort(void 0)})||!f(function(){b.sort(null)})||!a("./_strict-method")(h)),"Array",{sort:function(a){return void 0===a?h.call(e(this)):h.call(e(this),c(a))}})},{"./_a-function":413,"./_export":442,"./_fails":444,"./_strict-method":506,"./_to-object":519}],550:[function(a,l,f){a("./_set-species")("Array")},
{"./_set-species":501}],551:[function(a,l,f){a=a("./_export");a(a.S,"Date",{now:function(){return(new Date).getTime()}})},{"./_export":442}],552:[function(a,l,f){l=a("./_export");a=a("./_fails");var c=Date.prototype.getTime,e=function(a){return 9<a?a:"0"+a};l(l.P+l.F*(a(function(){return"0385-07-25T07:06:39.999Z"!=(new Date(-5E13-1)).toISOString()})||!a(function(){(new Date(NaN)).toISOString()})),"Date",{toISOString:function(){if(!isFinite(c.call(this)))throw RangeError("Invalid time value");var a=
this.getUTCFullYear(),b=this.getUTCMilliseconds(),k=0>a?"-":9999<a?"+":"";return k+("00000"+Math.abs(a)).slice(k?-6:-4)+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+(99<b?b:"0"+e(b))+"Z"}})},{"./_export":442,"./_fails":444}],553:[function(a,l,f){l=a("./_export");var c=a("./_to-object"),e=a("./_to-primitive");l(l.P+l.F*a("./_fails")(function(){return null!==(new Date(NaN)).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),
"Date",{toJSON:function(a){a=c(this);var b=e(a);return"number"!=typeof b||isFinite(b)?a.toISOString():null}})},{"./_export":442,"./_fails":444,"./_to-object":519,"./_to-primitive":520}],554:[function(a,l,f){l=a("./_wks")("toPrimitive");f=Date.prototype;l in f||a("./_hide")(f,l,a("./_date-to-primitive"))},{"./_date-to-primitive":436,"./_hide":450,"./_wks":527}],555:[function(a,l,f){l=Date.prototype;var c=l.toString,e=l.getTime;"Invalid Date"!=new Date(NaN)+""&&a("./_redefine")(l,"toString",function(){var a=
e.call(this);return a===a?c.call(this):"Invalid Date"})},{"./_redefine":497}],556:[function(a,l,f){l=a("./_export");l(l.P,"Function",{bind:a("./_bind")})},{"./_bind":426,"./_export":442}],557:[function(a,l,f){var c=a("./_is-object"),e=a("./_object-gpo");l=a("./_wks")("hasInstance");f=Function.prototype;l in f||a("./_object-dp").f(f,l,{value:function(a){if("function"!=typeof this||!c(a))return!1;if(!c(this.prototype))return a instanceof this;for(;a=e(a);)if(this.prototype===a)return!0;return!1}})},
{"./_is-object":459,"./_object-dp":477,"./_object-gpo":484,"./_wks":527}],558:[function(a,l,f){var c=a("./_object-dp").f,e=a("./_property-desc"),h=a("./_has");l=Function.prototype;var b=/^\s*function ([^ (]*)/,k=Object.isExtensible||function(){return!0};"name"in l||a("./_descriptors")&&c(l,"name",{configurable:!0,get:function(){try{var a=(""+this).match(b)[1];h(this,"name")||!k(this)||c(this,"name",e(5,a));return a}catch(n){return""}}})},{"./_descriptors":438,"./_has":449,"./_object-dp":477,"./_property-desc":495}],
559:[function(a,l,f){var c=a("./_collection-strong");l.exports=a("./_collection")("Map",function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},{get:function(a){return(a=c.getEntry(this,a))&&a.v},set:function(a,h){return c.def(this,0===a?0:a,h)}},c,!0)},{"./_collection":432,"./_collection-strong":429}],560:[function(a,l,f){l=a("./_export");var c=a("./_math-log1p"),e=Math.sqrt;a=Math.acosh;l(l.S+l.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&Infinity==a(Infinity)),"Math",
{acosh:function(a){return 1>(a=+a)?NaN:9.490626562425156E7<a?Math.log(a)+Math.LN2:c(a-1+e(a-1)*e(a+1))}})},{"./_export":442,"./_math-log1p":470}],561:[function(a,l,f){function c(a){return isFinite(a=+a)&&0!=a?0>a?-c(-a):Math.log(a+Math.sqrt(a*a+1)):a}a=a("./_export");l=Math.asinh;a(a.S+a.F*!(l&&0<1/l(0)),"Math",{asinh:c})},{"./_export":442}],562:[function(a,l,f){a=a("./_export");l=Math.atanh;a(a.S+a.F*!(l&&0>1/l(-0)),"Math",{atanh:function(a){return 0==(a=+a)?a:Math.log((1+a)/(1-a))/2}})},{"./_export":442}],
563:[function(a,l,f){l=a("./_export");var c=a("./_math-sign");l(l.S,"Math",{cbrt:function(a){return c(a=+a)*Math.pow(Math.abs(a),1/3)}})},{"./_export":442,"./_math-sign":471}],564:[function(a,l,f){a=a("./_export");a(a.S,"Math",{clz32:function(a){return(a>>>=0)?31-Math.floor(Math.log(a+.5)*Math.LOG2E):32}})},{"./_export":442}],565:[function(a,l,f){a=a("./_export");var c=Math.exp;a(a.S,"Math",{cosh:function(a){return(c(a=+a)+c(-a))/2}})},{"./_export":442}],566:[function(a,l,f){l=a("./_export");a=a("./_math-expm1");
l(l.S+l.F*(a!=Math.expm1),"Math",{expm1:a})},{"./_export":442,"./_math-expm1":469}],567:[function(a,l,f){l=a("./_export");var c=a("./_math-sign");a=Math.pow;var e=a(2,-52),h=a(2,-23),b=a(2,127)*(2-h),k=a(2,-126);l(l.S,"Math",{fround:function(a){var d=Math.abs(a);a=c(a);var f;if(d<k)return a*(d/k/h+1/e-1/e)*k*h;f=(1+h/e)*d;d=f-(f-d);return d>b||d!=d?Infinity*a:a*d}})},{"./_export":442,"./_math-sign":471}],568:[function(a,l,f){a=a("./_export");var c=Math.abs;a(a.S,"Math",{hypot:function(a,h){for(var b=
0,e=0,d=arguments.length,f=0,l,q;e<d;)l=c(arguments[e++]),f<l?(q=f/l,b=b*q*q+1,f=l):0<l?(q=l/f,b+=q*q):b+=l;return Infinity===f?Infinity:f*Math.sqrt(b)}})},{"./_export":442}],569:[function(a,l,f){l=a("./_export");var c=Math.imul;l(l.S+l.F*a("./_fails")(function(){return-5!=c(4294967295,5)||2!=c.length}),"Math",{imul:function(a,c){a=+a;c=+c;var b=65535&a,e=65535&c;return 0|b*e+((65535&a>>>16)*e+b*(65535&c>>>16)<<16>>>0)}})},{"./_export":442,"./_fails":444}],570:[function(a,l,f){a=a("./_export");a(a.S,
"Math",{log10:function(a){return Math.log(a)/Math.LN10}})},{"./_export":442}],571:[function(a,l,f){l=a("./_export");l(l.S,"Math",{log1p:a("./_math-log1p")})},{"./_export":442,"./_math-log1p":470}],572:[function(a,l,f){a=a("./_export");a(a.S,"Math",{log2:function(a){return Math.log(a)/Math.LN2}})},{"./_export":442}],573:[function(a,l,f){l=a("./_export");l(l.S,"Math",{sign:a("./_math-sign")})},{"./_export":442,"./_math-sign":471}],574:[function(a,l,f){l=a("./_export");var c=a("./_math-expm1"),e=Math.exp;
l(l.S+l.F*a("./_fails")(function(){return-2E-17!=!Math.sinh(-2E-17)}),"Math",{sinh:function(a){return 1>Math.abs(a=+a)?(c(a)-c(-a))/2:(e(a-1)-e(-a-1))*(Math.E/2)}})},{"./_export":442,"./_fails":444,"./_math-expm1":469}],575:[function(a,l,f){l=a("./_export");var c=a("./_math-expm1"),e=Math.exp;l(l.S,"Math",{tanh:function(a){var b=c(a=+a),h=c(-a);return Infinity==b?1:Infinity==h?-1:(b-h)/(e(a)+e(-a))}})},{"./_export":442,"./_math-expm1":469}],576:[function(a,l,f){a=a("./_export");a(a.S,"Math",{trunc:function(a){return(0<
a?Math.floor:Math.ceil)(a)}})},{"./_export":442}],577:[function(a,l,f){l=a("./_global");f=a("./_has");var c=a("./_cof"),e=a("./_inherit-if-required"),h=a("./_to-primitive"),b=a("./_fails"),k=a("./_object-gopn").f,d=a("./_object-gopd").f,n=a("./_object-dp").f,m=a("./_string-trim").trim,q=l.Number,w=q,p=q.prototype,r="Number"==c(a("./_object-create")(p)),t="trim"in String.prototype,u=function(a){var b=h(a,!1);if("string"==typeof b&&2<b.length){b=t?b.trim():m(b,3);a=b.charCodeAt(0);var c;if(43===a||
45===a){if(a=b.charCodeAt(2),88===a||120===a)return NaN}else if(48===a){switch(b.charCodeAt(1)){case 66:case 98:a=2;c=49;break;case 79:case 111:a=8;c=55;break;default:return+b}for(var b=b.slice(2),d=0,e=b.length,g;d<e;d++)if(g=b.charCodeAt(d),48>g||g>c)return NaN;return parseInt(b,a)}}return+b};if(!q(" 0o1")||!q("0b1")||q("+0x1")){for(var q=function(a){var d=1>arguments.length?0:a,g=this;return g instanceof q&&(r?b(function(){p.valueOf.call(g)}):"Number"!=c(g))?e(new w(u(d)),g,q):u(d)},k=a("./_descriptors")?
k(w):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger".split(" "),y=0,A;k.length>y;y++)f(w,A=k[y])&&!f(q,A)&&n(q,A,d(w,A));q.prototype=p;p.constructor=q;a("./_redefine")(l,"Number",q)}},{"./_cof":428,"./_descriptors":438,"./_fails":444,"./_global":448,"./_has":449,"./_inherit-if-required":453,"./_object-create":476,"./_object-dp":477,"./_object-gopd":480,"./_object-gopn":482,
"./_redefine":497,"./_string-trim":512,"./_to-primitive":520}],578:[function(a,l,f){a=a("./_export");a(a.S,"Number",{EPSILON:Math.pow(2,-52)})},{"./_export":442}],579:[function(a,l,f){l=a("./_export");var c=a("./_global").isFinite;l(l.S,"Number",{isFinite:function(a){return"number"==typeof a&&c(a)}})},{"./_export":442,"./_global":448}],580:[function(a,l,f){l=a("./_export");l(l.S,"Number",{isInteger:a("./_is-integer")})},{"./_export":442,"./_is-integer":458}],581:[function(a,l,f){a=a("./_export");
a(a.S,"Number",{isNaN:function(a){return a!=a}})},{"./_export":442}],582:[function(a,l,f){l=a("./_export");var c=a("./_is-integer"),e=Math.abs;l(l.S,"Number",{isSafeInteger:function(a){return c(a)&&9007199254740991>=e(a)}})},{"./_export":442,"./_is-integer":458}],583:[function(a,l,f){a=a("./_export");a(a.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{"./_export":442}],584:[function(a,l,f){a=a("./_export");a(a.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{"./_export":442}],585:[function(a,
l,f){l=a("./_export");a=a("./_parse-float");l(l.S+l.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},{"./_export":442,"./_parse-float":491}],586:[function(a,l,f){l=a("./_export");a=a("./_parse-int");l(l.S+l.F*(Number.parseInt!=a),"Number",{parseInt:a})},{"./_export":442,"./_parse-int":492}],587:[function(a,l,f){l=a("./_export");var c=a("./_to-integer"),e=a("./_a-number-value"),h=a("./_string-repeat"),b=(1).toFixed,k=Math.floor,d=[0,0,0,0,0,0],n=function(a,b){for(var c=-1;6>++c;)b+=a*d[c],d[c]=b%
1E7,b=k(b/1E7)},m=function(a){for(var b=6,c=0;0<=--b;)c+=d[b],d[b]=k(c/a),c=c%a*1E7},q=function(){for(var a=6,b="";0<=--a;)if(""!==b||0===a||0!==d[a])var c=String(d[a]),b=""===b?c:b+h.call("0",7-c.length)+c;return b},w=function(a,b,c){return 0===b?c:1===b%2?w(a,b-1,c*a):w(a*a,b/2,c)};l(l.P+l.F*(!!b&&("0.000"!==(8E-5).toFixed(3)||"1"!==(.9).toFixed(0)||"1.25"!==(1.255).toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a("./_fails")(function(){b.call({})})),"Number",{toFixed:function(a){var b=
e(this,"Number.toFixed: incorrect invocation!");a=c(a);var d="",k="0";if(0>a||20<a)throw RangeError("Number.toFixed: incorrect invocation!");if(b!=b)return"NaN";if(-1E21>=b||1E21<=b)return String(b);0>b&&(d="-",b=-b);if(1E-21<b){for(var k=0,f=b*w(2,69,1);4096<=f;)k+=12,f/=4096;for(;2<=f;)k+=1,f/=2;k-=69;b=0>k?b*w(2,-k,1):b/w(2,k,1);b*=4503599627370496;k=52-k;if(0<k){n(0,b);for(b=a;7<=b;)n(1E7,0),b-=7;n(w(10,b,1),0);for(b=k-1;23<=b;)m(8388608),b-=23;m(1<<b);n(1,1);m(2);k=q()}else n(0,b),n(1<<-k,0),
k=q()+h.call("0",a)}0<a?(b=k.length,k=d+(b<=a?"0."+h.call("0",a-b)+k:k.slice(0,b-a)+"."+k.slice(b-a))):k=d+k;return k}})},{"./_a-number-value":414,"./_export":442,"./_fails":444,"./_string-repeat":511,"./_to-integer":516}],588:[function(a,l,f){l=a("./_export");f=a("./_fails");var c=a("./_a-number-value"),e=(1).toPrecision;l(l.P+l.F*(f(function(){return"1"!==e.call(1,void 0)})||!f(function(){e.call({})})),"Number",{toPrecision:function(a){var b=c(this,"Number#toPrecision: incorrect invocation!");return void 0===
a?e.call(b):e.call(b,a)}})},{"./_a-number-value":414,"./_export":442,"./_fails":444}],589:[function(a,l,f){l=a("./_export");l(l.S+l.F,"Object",{assign:a("./_object-assign")})},{"./_export":442,"./_object-assign":475}],590:[function(a,l,f){l=a("./_export");l(l.S,"Object",{create:a("./_object-create")})},{"./_export":442,"./_object-create":476}],591:[function(a,l,f){l=a("./_export");l(l.S+l.F*!a("./_descriptors"),"Object",{defineProperties:a("./_object-dps")})},{"./_descriptors":438,"./_export":442,
"./_object-dps":478}],592:[function(a,l,f){l=a("./_export");l(l.S+l.F*!a("./_descriptors"),"Object",{defineProperty:a("./_object-dp").f})},{"./_descriptors":438,"./_export":442,"./_object-dp":477}],593:[function(a,l,f){var c=a("./_is-object"),e=a("./_meta").onFreeze;a("./_object-sap")("freeze",function(a){return function(b){return a&&c(b)?a(e(b)):b}})},{"./_is-object":459,"./_meta":472,"./_object-sap":488}],594:[function(a,l,f){var c=a("./_to-iobject"),e=a("./_object-gopd").f;a("./_object-sap")("getOwnPropertyDescriptor",
function(){return function(a,b){return e(c(a),b)}})},{"./_object-gopd":480,"./_object-sap":488,"./_to-iobject":517}],595:[function(a,l,f){a("./_object-sap")("getOwnPropertyNames",function(){return a("./_object-gopn-ext").f})},{"./_object-gopn-ext":481,"./_object-sap":488}],596:[function(a,l,f){var c=a("./_to-object"),e=a("./_object-gpo");a("./_object-sap")("getPrototypeOf",function(){return function(a){return e(c(a))}})},{"./_object-gpo":484,"./_object-sap":488,"./_to-object":519}],597:[function(a,
l,f){var c=a("./_is-object");a("./_object-sap")("isExtensible",function(a){return function(e){return c(e)?a?a(e):!0:!1}})},{"./_is-object":459,"./_object-sap":488}],598:[function(a,l,f){var c=a("./_is-object");a("./_object-sap")("isFrozen",function(a){return function(e){return c(e)?a?a(e):!1:!0}})},{"./_is-object":459,"./_object-sap":488}],599:[function(a,l,f){var c=a("./_is-object");a("./_object-sap")("isSealed",function(a){return function(e){return c(e)?a?a(e):!1:!0}})},{"./_is-object":459,"./_object-sap":488}],
600:[function(a,l,f){l=a("./_export");l(l.S,"Object",{is:a("./_same-value")})},{"./_export":442,"./_same-value":499}],601:[function(a,l,f){var c=a("./_to-object"),e=a("./_object-keys");a("./_object-sap")("keys",function(){return function(a){return e(c(a))}})},{"./_object-keys":486,"./_object-sap":488,"./_to-object":519}],602:[function(a,l,f){var c=a("./_is-object"),e=a("./_meta").onFreeze;a("./_object-sap")("preventExtensions",function(a){return function(b){return a&&c(b)?a(e(b)):b}})},{"./_is-object":459,
"./_meta":472,"./_object-sap":488}],603:[function(a,l,f){var c=a("./_is-object"),e=a("./_meta").onFreeze;a("./_object-sap")("seal",function(a){return function(b){return a&&c(b)?a(e(b)):b}})},{"./_is-object":459,"./_meta":472,"./_object-sap":488}],604:[function(a,l,f){l=a("./_export");l(l.S,"Object",{setPrototypeOf:a("./_set-proto").set})},{"./_export":442,"./_set-proto":500}],605:[function(a,l,f){var c=a("./_classof");l={};l[a("./_wks")("toStringTag")]="z";"[object z]"!=l+""&&a("./_redefine")(Object.prototype,
"toString",function(){return"[object "+c(this)+"]"},!0)},{"./_classof":427,"./_redefine":497,"./_wks":527}],606:[function(a,l,f){l=a("./_export");a=a("./_parse-float");l(l.G+l.F*(parseFloat!=a),{parseFloat:a})},{"./_export":442,"./_parse-float":491}],607:[function(a,l,f){l=a("./_export");a=a("./_parse-int");l(l.G+l.F*(parseInt!=a),{parseInt:a})},{"./_export":442,"./_parse-int":492}],608:[function(a,l,f){l=a("./_library");var c=a("./_global"),e=a("./_ctx"),h=a("./_classof");f=a("./_export");var b=
a("./_is-object"),k=a("./_a-function"),d=a("./_an-instance"),n=a("./_for-of"),m=a("./_species-constructor"),q=a("./_task").set,w=a("./_microtask")(),p=c.TypeError,r=c.process,t=c.Promise,r=c.process,u="process"==h(r),y=function(){},A,g,v,h=!!function(){try{var b=t.resolve(1),c=(b.constructor={})[a("./_wks")("species")]=function(a){a(y,y)};return(u||"function"==typeof PromiseRejectionEvent)&&b.then(y)instanceof c}catch(P){}}(),z=function(a){var c;return b(a)&&"function"==typeof(c=a.then)?c:!1},B=function(a){return t===
a||t===t&&a===v?new G(a):new g(a)},G=g=function(a){var b,c;this.promise=new a(function(a,d){if(void 0!==b||void 0!==c)throw p("Bad Promise constructor");b=a;c=d});this.resolve=k(b);this.reject=k(c)},x=function(a){try{a()}catch(N){return{error:N}}},D=function(a,b){if(!a._n){a._n=!0;var c=a._c;w(function(){for(var d=a._v,e=1==a._s,g=0;c.length>g;){var h=c[g++],k=e?h.ok:h.fail,f=h.resolve,l=h.reject,m=h.domain,n=void 0,q=void 0;try{k?(e||(2==a._h&&J(a),a._h=1),!0===k?n=d:(m&&m.enter(),n=k(d),m&&m.exit()),
n===h.promise?l(p("Promise-chain cycle")):(q=z(n))?q.call(n,f,l):f(n)):l(d)}catch(X){l(X)}}a._c=[];a._n=!1;b&&!a._h&&E(a)})}},E=function(a){q.call(c,function(){var b=a._v,d,e,g;F(a)&&(d=x(function(){u?r.emit("unhandledRejection",b,a):(e=c.onunhandledrejection)?e({promise:a,reason:b}):(g=c.console)&&g.error&&g.error("Unhandled promise rejection",b)}),a._h=u||F(a)?2:1);a._a=void 0;if(d)throw d.error;})},F=function(a){if(1==a._h)return!1;a=a._a||a._c;for(var b=0,c;a.length>b;)if(c=a[b++],c.fail||!F(c.promise))return!1;
return!0},J=function(a){q.call(c,function(){var b;u?r.emit("rejectionHandled",a):(b=c.onrejectionhandled)&&b({promise:a,reason:a._v})})},L=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),D(b,!0))},I=function(a){var b=this,c;if(!b._d){b._d=!0;b=b._w||b;try{if(b===a)throw p("Promise can't be resolved itself");(c=z(a))?w(function(){var d={_w:b,_d:!1};try{c.call(a,e(I,d,1),e(L,d,1))}catch(M){L.call(d,M)}}):(b._v=a,b._s=1,D(b,!1))}catch(Y){L.call({_w:b,_d:!1},Y)}}};
h||(t=function(a){d(this,t,"Promise","_h");k(a);A.call(this);try{a(e(I,this,1),e(L,this,1))}catch(N){L.call(this,N)}},A=function(a){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1},A.prototype=a("./_redefine-all")(t.prototype,{then:function(a,b){var c=B(m(this,t));c.ok="function"==typeof a?a:!0;c.fail="function"==typeof b&&b;c.domain=u?r.domain:void 0;this._c.push(c);this._a&&this._a.push(c);this._s&&D(this,!1);return c.promise},"catch":function(a){return this.then(void 0,
a)}}),G=function(){var a=new A;this.promise=a;this.resolve=e(I,a,1);this.reject=e(L,a,1)});f(f.G+f.W+f.F*!h,{Promise:t});a("./_set-to-string-tag")(t,"Promise");a("./_set-species")("Promise");v=a("./_core").Promise;f(f.S+f.F*!h,"Promise",{reject:function(a){var b=B(this),c=b.reject;c(a);return b.promise}});f(f.S+f.F*(l||!h),"Promise",{resolve:function(a){var b;if(b=a instanceof t)b=a.constructor,b=b===this||b===t&&this===v;if(b)return a;b=B(this);(0,b.resolve)(a);return b.promise}});f(f.S+f.F*!(h&&
a("./_iter-detect")(function(a){t.all(a)["catch"](y)})),"Promise",{all:function(a){var b=this,c=B(b),d=c.resolve,e=c.reject,g=x(function(){var c=[],g=0,h=1;n(a,!1,function(a){var k=g++,f=!1;c.push(void 0);h++;b.resolve(a).then(function(a){f||(f=!0,c[k]=a,--h||d(c))},e)});--h||d(c)});g&&e(g.error);return c.promise},race:function(a){var b=this,c=B(b),d=c.reject,e=x(function(){n(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});e&&d(e.error);return c.promise}})},{"./_a-function":413,"./_an-instance":416,
"./_classof":427,"./_core":433,"./_ctx":435,"./_export":442,"./_for-of":447,"./_global":448,"./_is-object":459,"./_iter-detect":464,"./_library":468,"./_microtask":474,"./_redefine-all":496,"./_set-species":501,"./_set-to-string-tag":502,"./_species-constructor":505,"./_task":514,"./_wks":527}],609:[function(a,l,f){l=a("./_export");var c=a("./_a-function"),e=a("./_an-object"),h=(a("./_global").Reflect||{}).apply,b=Function.apply;l(l.S+l.F*!a("./_fails")(function(){h(function(){})}),"Reflect",{apply:function(a,
d,f){a=c(a);f=e(f);return h?h(a,d,f):b.call(a,d,f)}})},{"./_a-function":413,"./_an-object":417,"./_export":442,"./_fails":444,"./_global":448}],610:[function(a,l,f){l=a("./_export");var c=a("./_object-create"),e=a("./_a-function"),h=a("./_an-object"),b=a("./_is-object");f=a("./_fails");var k=a("./_bind"),d=(a("./_global").Reflect||{}).construct,n=f(function(){function a(){}return!(d(function(){},[],a)instanceof a)}),m=!f(function(){d(function(){})});l(l.S+l.F*(n||m),"Reflect",{construct:function(a,
f){e(a);h(f);var l=3>arguments.length?a:e(arguments[2]);if(m&&!n)return d(a,f,l);if(a==l){switch(f.length){case 0:return new a;case 1:return new a(f[0]);case 2:return new a(f[0],f[1]);case 3:return new a(f[0],f[1],f[2]);case 4:return new a(f[0],f[1],f[2],f[3])}l=[null];l.push.apply(l,f);return new (k.apply(a,l))}var l=l.prototype,l=c(b(l)?l:Object.prototype),q=Function.apply.call(a,l,f);return b(q)?q:l}})},{"./_a-function":413,"./_an-object":417,"./_bind":426,"./_export":442,"./_fails":444,"./_global":448,
"./_is-object":459,"./_object-create":476}],611:[function(a,l,f){var c=a("./_object-dp");l=a("./_export");var e=a("./_an-object"),h=a("./_to-primitive");l(l.S+l.F*a("./_fails")(function(){Reflect.defineProperty(c.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(a,k,d){e(a);k=h(k,!0);e(d);try{return c.f(a,k,d),!0}catch(n){return!1}}})},{"./_an-object":417,"./_export":442,"./_fails":444,"./_object-dp":477,"./_to-primitive":520}],612:[function(a,l,f){l=a("./_export");var c=a("./_object-gopd").f,
e=a("./_an-object");l(l.S,"Reflect",{deleteProperty:function(a,b){var h=c(e(a),b);return h&&!h.configurable?!1:delete a[b]}})},{"./_an-object":417,"./_export":442,"./_object-gopd":480}],613:[function(a,l,f){l=a("./_export");var c=a("./_an-object"),e=function(a){this._t=c(a);this._i=0;var b=this._k=[],e;for(e in a)b.push(e)};a("./_iter-create")(e,"Object",function(){var a=this._k,b;do if(this._i>=a.length)return{value:void 0,done:!0};while(!((b=a[this._i++])in this._t));return{value:b,done:!1}});l(l.S,
"Reflect",{enumerate:function(a){return new e(a)}})},{"./_an-object":417,"./_export":442,"./_iter-create":462}],614:[function(a,l,f){var c=a("./_object-gopd");l=a("./_export");var e=a("./_an-object");l(l.S,"Reflect",{getOwnPropertyDescriptor:function(a,b){return c.f(e(a),b)}})},{"./_an-object":417,"./_export":442,"./_object-gopd":480}],615:[function(a,l,f){l=a("./_export");var c=a("./_object-gpo"),e=a("./_an-object");l(l.S,"Reflect",{getPrototypeOf:function(a){return c(e(a))}})},{"./_an-object":417,
"./_export":442,"./_object-gpo":484}],616:[function(a,l,f){function c(a,f){var l=3>arguments.length?a:arguments[2],m;if(d(a)===l)return a[f];if(m=e.f(a,f))return b(m,"value")?m.value:void 0!==m.get?m.get.call(l):void 0;if(k(m=h(a)))return c(m,f,l)}var e=a("./_object-gopd"),h=a("./_object-gpo"),b=a("./_has");l=a("./_export");var k=a("./_is-object"),d=a("./_an-object");l(l.S,"Reflect",{get:c})},{"./_an-object":417,"./_export":442,"./_has":449,"./_is-object":459,"./_object-gopd":480,"./_object-gpo":484}],
617:[function(a,l,f){a=a("./_export");a(a.S,"Reflect",{has:function(a,e){return e in a}})},{"./_export":442}],618:[function(a,l,f){l=a("./_export");var c=a("./_an-object"),e=Object.isExtensible;l(l.S,"Reflect",{isExtensible:function(a){c(a);return e?e(a):!0}})},{"./_an-object":417,"./_export":442}],619:[function(a,l,f){l=a("./_export");l(l.S,"Reflect",{ownKeys:a("./_own-keys")})},{"./_export":442,"./_own-keys":490}],620:[function(a,l,f){l=a("./_export");var c=a("./_an-object"),e=Object.preventExtensions;
l(l.S,"Reflect",{preventExtensions:function(a){c(a);try{return e&&e(a),!0}catch(b){return!1}}})},{"./_an-object":417,"./_export":442}],621:[function(a,l,f){l=a("./_export");var c=a("./_set-proto");c&&l(l.S,"Reflect",{setPrototypeOf:function(a,h){c.check(a,h);try{return c.set(a,h),!0}catch(b){return!1}}})},{"./_export":442,"./_set-proto":500}],622:[function(a,l,f){function c(a,f,l){var q=4>arguments.length?a:arguments[3],p=h.f(n(a),f);if(!p){if(m(p=b(a)))return c(p,f,l,q);p=d(0)}if(k(p,"value")){if(!1===
p.writable||!m(q))return!1;p=h.f(q,f)||d(0);p.value=l;e.f(q,f,p);return!0}return void 0===p.set?!1:(p.set.call(q,l),!0)}var e=a("./_object-dp"),h=a("./_object-gopd"),b=a("./_object-gpo"),k=a("./_has");l=a("./_export");var d=a("./_property-desc"),n=a("./_an-object"),m=a("./_is-object");l(l.S,"Reflect",{set:c})},{"./_an-object":417,"./_export":442,"./_has":449,"./_is-object":459,"./_object-dp":477,"./_object-gopd":480,"./_object-gpo":484,"./_property-desc":495}],623:[function(a,l,f){l=a("./_global");
var c=a("./_inherit-if-required"),e=a("./_object-dp").f,h=a("./_object-gopn").f,b=a("./_is-regexp"),k=a("./_flags"),d=l.RegExp,n=d,m=d.prototype,q=/a/g,w=/a/g,p=new d(q)!==q;if(a("./_descriptors")&&(!p||a("./_fails")(function(){w[a("./_wks")("match")]=!1;return d(q)!=q||d(w)==w||"/a/i"!=d(q,"i")}))){d=function(a,e){var h=this instanceof d,f=b(a),g=void 0===e;return!h&&f&&a.constructor===d&&g?a:c(p?new n(f&&!g?a.source:a,e):n((f=a instanceof d)?a.source:a,f&&g?k.call(a):e),h?this:m,d)};f=function(a){a in
d||e(d,a,{configurable:!0,get:function(){return n[a]},set:function(b){n[a]=b}})};for(var h=h(n),r=0;h.length>r;)f(h[r++]);m.constructor=d;d.prototype=m;a("./_redefine")(l,"RegExp",d)}a("./_set-species")("RegExp")},{"./_descriptors":438,"./_fails":444,"./_flags":446,"./_global":448,"./_inherit-if-required":453,"./_is-regexp":460,"./_object-dp":477,"./_object-gopn":482,"./_redefine":497,"./_set-species":501,"./_wks":527}],624:[function(a,l,f){a("./_descriptors")&&"g"!=/./g.flags&&a("./_object-dp").f(RegExp.prototype,
"flags",{configurable:!0,get:a("./_flags")})},{"./_descriptors":438,"./_flags":446,"./_object-dp":477}],625:[function(a,l,f){a("./_fix-re-wks")("match",1,function(a,e,h){return[function(b){var c=a(this),d=void 0==b?void 0:b[e];return void 0!==d?d.call(b,c):(new RegExp(b))[e](String(c))},h]})},{"./_fix-re-wks":445}],626:[function(a,l,f){a("./_fix-re-wks")("replace",2,function(a,e,h){return[function(b,c){var d=a(this),k=void 0==b?void 0:b[e];return void 0!==k?k.call(b,d,c):h.call(String(d),b,c)},h]})},
{"./_fix-re-wks":445}],627:[function(a,l,f){a("./_fix-re-wks")("search",1,function(a,e,h){return[function(b){var c=a(this),d=void 0==b?void 0:b[e];return void 0!==d?d.call(b,c):(new RegExp(b))[e](String(c))},h]})},{"./_fix-re-wks":445}],628:[function(a,l,f){a("./_fix-re-wks")("split",2,function(c,e,h){var b=a("./_is-regexp"),k=h,d=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||
"".split(/.?/).length){var f=void 0===/()??/.exec("")[1];h=function(a,c){var e=String(this);if(void 0===a&&0===c)return[];if(!b(a))return k.call(e,a,c);var h=[],l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(a.sticky?"y":""),m=0;c=void 0===c?4294967295:c>>>0;a=new RegExp(a.source,l+"g");var n,q,A,g;for(f||(n=new RegExp("^"+a.source+"$(?!\\s)",l));q=a.exec(e);){l=q.index+q[0].length;if(l>m&&(h.push(e.slice(m,q.index)),!f&&1<q.length&&q[0].replace(n,function(){for(g=1;g<arguments.length-
2;g++)void 0===arguments[g]&&(q[g]=void 0)}),1<q.length&&q.index<e.length&&d.apply(h,q.slice(1)),A=q[0].length,m=l,h.length>=c))break;a.lastIndex===q.index&&a.lastIndex++}m===e.length?!A&&a.test("")||h.push(""):h.push(e.slice(m));return h.length>c?h.slice(0,c):h}}else"0".split(void 0,0).length&&(h=function(a,b){return void 0===a&&0===b?[]:k.call(this,a,b)});return[function(a,b){var d=c(this),k=void 0==a?void 0:a[e];return void 0!==k?k.call(a,d,b):h.call(String(d),a,b)},h]})},{"./_fix-re-wks":445,
"./_is-regexp":460}],629:[function(a,l,f){a("./es6.regexp.flags");var c=a("./_an-object"),e=a("./_flags"),h=a("./_descriptors"),b=/./.toString;l=function(b){a("./_redefine")(RegExp.prototype,"toString",b,!0)};a("./_fails")(function(){return"/a/b"!=b.call({source:"a",flags:"b"})})?l(function(){var a=c(this);return"/".concat(a.source,"/","flags"in a?a.flags:!h&&a instanceof RegExp?e.call(a):void 0)}):"toString"!=b.name&&l(function(){return b.call(this)})},{"./_an-object":417,"./_descriptors":438,"./_fails":444,
"./_flags":446,"./_redefine":497,"./es6.regexp.flags":624}],630:[function(a,l,f){var c=a("./_collection-strong");l.exports=a("./_collection")("Set",function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},{add:function(a){return c.def(this,a=0===a?0:a,a)}},c)},{"./_collection":432,"./_collection-strong":429}],631:[function(a,l,f){a("./_string-html")("anchor",function(a){return function(c){return a(this,"a","name",c)}})},{"./_string-html":509}],632:[function(a,l,f){a("./_string-html")("big",
function(a){return function(){return a(this,"big","","")}})},{"./_string-html":509}],633:[function(a,l,f){a("./_string-html")("blink",function(a){return function(){return a(this,"blink","","")}})},{"./_string-html":509}],634:[function(a,l,f){a("./_string-html")("bold",function(a){return function(){return a(this,"b","","")}})},{"./_string-html":509}],635:[function(a,l,f){l=a("./_export");var c=a("./_string-at")(!1);l(l.P,"String",{codePointAt:function(a){return c(this,a)}})},{"./_export":442,"./_string-at":507}],
636:[function(a,l,f){l=a("./_export");var c=a("./_to-length"),e=a("./_string-context"),h="".endsWith;l(l.P+l.F*a("./_fails-is-regexp")("endsWith"),"String",{endsWith:function(a){var b=e(this,a,"endsWith"),d=1<arguments.length?arguments[1]:void 0,f=c(b.length),d=void 0===d?f:Math.min(c(d),f),f=String(a);return h?h.call(b,f,d):b.slice(d-f.length,d)===f}})},{"./_export":442,"./_fails-is-regexp":443,"./_string-context":508,"./_to-length":518}],637:[function(a,l,f){a("./_string-html")("fixed",function(a){return function(){return a(this,
"tt","","")}})},{"./_string-html":509}],638:[function(a,l,f){a("./_string-html")("fontcolor",function(a){return function(c){return a(this,"font","color",c)}})},{"./_string-html":509}],639:[function(a,l,f){a("./_string-html")("fontsize",function(a){return function(c){return a(this,"font","size",c)}})},{"./_string-html":509}],640:[function(a,l,f){l=a("./_export");var c=a("./_to-index"),e=String.fromCharCode;a=String.fromCodePoint;l(l.S+l.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(a){for(var b=
[],h=arguments.length,d=0,f;h>d;){f=+arguments[d++];if(c(f,1114111)!==f)throw RangeError(f+" is not a valid code point");b.push(65536>f?e(f):e(((f-=65536)>>10)+55296,f%1024+56320))}return b.join("")}})},{"./_export":442,"./_to-index":515}],641:[function(a,l,f){l=a("./_export");var c=a("./_string-context");l(l.P+l.F*a("./_fails-is-regexp")("includes"),"String",{includes:function(a){return!!~c(this,a,"includes").indexOf(a,1<arguments.length?arguments[1]:void 0)}})},{"./_export":442,"./_fails-is-regexp":443,
"./_string-context":508}],642:[function(a,l,f){a("./_string-html")("italics",function(a){return function(){return a(this,"i","","")}})},{"./_string-html":509}],643:[function(a,l,f){var c=a("./_string-at")(!0);a("./_iter-define")(String,"String",function(a){this._t=String(a);this._i=0},function(){var a=this._t,h=this._i;if(h>=a.length)return{value:void 0,done:!0};a=c(a,h);this._i+=a.length;return{value:a,done:!1}})},{"./_iter-define":463,"./_string-at":507}],644:[function(a,l,f){a("./_string-html")("link",
function(a){return function(c){return a(this,"a","href",c)}})},{"./_string-html":509}],645:[function(a,l,f){l=a("./_export");var c=a("./_to-iobject"),e=a("./_to-length");l(l.S,"String",{raw:function(a){for(var b=c(a.raw),h=e(b.length),d=arguments.length,f=[],l=0;h>l;)f.push(String(b[l++])),l<d&&f.push(String(arguments[l]));return f.join("")}})},{"./_export":442,"./_to-iobject":517,"./_to-length":518}],646:[function(a,l,f){l=a("./_export");l(l.P,"String",{repeat:a("./_string-repeat")})},{"./_export":442,
"./_string-repeat":511}],647:[function(a,l,f){a("./_string-html")("small",function(a){return function(){return a(this,"small","","")}})},{"./_string-html":509}],648:[function(a,l,f){l=a("./_export");var c=a("./_to-length"),e=a("./_string-context"),h="".startsWith;l(l.P+l.F*a("./_fails-is-regexp")("startsWith"),"String",{startsWith:function(a){var b=e(this,a,"startsWith"),d=c(Math.min(1<arguments.length?arguments[1]:void 0,b.length)),f=String(a);return h?h.call(b,f,d):b.slice(d,d+f.length)===f}})},
{"./_export":442,"./_fails-is-regexp":443,"./_string-context":508,"./_to-length":518}],649:[function(a,l,f){a("./_string-html")("strike",function(a){return function(){return a(this,"strike","","")}})},{"./_string-html":509}],650:[function(a,l,f){a("./_string-html")("sub",function(a){return function(){return a(this,"sub","","")}})},{"./_string-html":509}],651:[function(a,l,f){a("./_string-html")("sup",function(a){return function(){return a(this,"sup","","")}})},{"./_string-html":509}],652:[function(a,
l,f){a("./_string-trim")("trim",function(a){return function(){return a(this,3)}})},{"./_string-trim":512}],653:[function(a,l,f){l=a("./_global");var c=a("./_has"),e=a("./_descriptors");f=a("./_export");var h=a("./_redefine"),b=a("./_meta").KEY,k=a("./_fails"),d=a("./_shared"),n=a("./_set-to-string-tag"),m=a("./_uid"),q=a("./_wks"),w=a("./_wks-ext"),p=a("./_wks-define"),r=a("./_keyof"),t=a("./_enum-keys"),u=a("./_is-array"),y=a("./_an-object"),A=a("./_to-iobject"),g=a("./_to-primitive"),v=a("./_property-desc"),
z=a("./_object-create"),B=a("./_object-gopn-ext"),G=a("./_object-gopd"),x=a("./_object-dp"),D=a("./_object-keys"),E=G.f,F=x.f,J=B.f,L=l.Symbol,I=l.JSON,K=I&&I.stringify,N=q("_hidden"),P=q("toPrimitive"),Y={}.propertyIsEnumerable,M=d("symbol-registry"),O=d("symbols"),Q=d("op-symbols"),U=Object.prototype,d="function"==typeof L,R=l.QObject,ba=!R||!R.prototype||!R.prototype.findChild,T=e&&k(function(){return 7!=z(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=E(U,
b);d&&delete U[b];F(a,b,c);d&&a!==U&&F(U,b,d)}:F,ca=function(a){var b=O[a]=z(L.prototype);b._k=a;return b},ha=d&&"symbol"==typeof L.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof L},X=function(a,b,d){a===U&&X(Q,b,d);y(a);b=g(b,!0);y(d);return c(O,b)?(d.enumerable?(c(a,N)&&a[N][b]&&(a[N][b]=!1),d=z(d,{enumerable:v(0,!1)})):(c(a,N)||F(a,N,v(1,{})),a[N][b]=!0),T(a,b,d)):F(a,b,d)},aa=function(a,b){y(a);for(var c=t(b=A(b)),d=0,e=c.length,g;e>d;)X(a,g=c[d++],b[g]);return a},
ga=function(a){var b=Y.call(this,a=g(a,!0));return this===U&&c(O,a)&&!c(Q,a)?!1:b||!c(this,a)||!c(O,a)||c(this,N)&&this[N][a]?b:!0},R=function(a,b){a=A(a);b=g(b,!0);if(a!==U||!c(O,b)||c(Q,b)){var d=E(a,b);!d||!c(O,b)||c(a,N)&&a[N][b]||(d.enumerable=!0);return d}},ka=function(a){a=J(A(a));for(var d=[],e=0,g;a.length>e;)c(O,g=a[e++])||g==N||g==b||d.push(g);return d},ra=function(a){var b=a===U;a=J(b?Q:A(a));for(var d=[],e=0,g;a.length>e;)c(O,g=a[e++])&&(b?c(U,g):1)&&d.push(O[g]);return d};d||(L=function(){if(this instanceof
L)throw TypeError("Symbol is not a constructor!");var a=m(0<arguments.length?arguments[0]:void 0),b=function(d){this===U&&b.call(Q,d);c(this,N)&&c(this[N],a)&&(this[N][a]=!1);T(this,a,v(1,d))};e&&ba&&T(U,a,{configurable:!0,set:b});return ca(a)},h(L.prototype,"toString",function(){return this._k}),G.f=R,x.f=X,a("./_object-gopn").f=B.f=ka,a("./_object-pie").f=ga,a("./_object-gops").f=ra,e&&!a("./_library")&&h(U,"propertyIsEnumerable",ga,!0),w.f=function(a){return ca(q(a))});f(f.G+f.W+f.F*!d,{Symbol:L});
h="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" ");for(w=0;h.length>w;)q(h[w++]);h=D(q.store);for(w=0;h.length>w;)p(h[w++]);f(f.S+f.F*!d,"Symbol",{"for":function(a){return c(M,a+="")?M[a]:M[a]=L(a)},keyFor:function(a){if(ha(a))return r(M,a);throw TypeError(a+" is not a symbol!");},useSetter:function(){ba=!0},useSimple:function(){ba=!1}});f(f.S+f.F*!d,"Object",{create:function(a,b){return void 0===b?z(a):aa(z(a),b)},defineProperty:X,
defineProperties:aa,getOwnPropertyDescriptor:R,getOwnPropertyNames:ka,getOwnPropertySymbols:ra});I&&f(f.S+f.F*(!d||k(function(){var a=L();return"[null]"!=K([a])||"{}"!=K({a:a})||"{}"!=K(Object(a))})),"JSON",{stringify:function(a){if(void 0!==a&&!ha(a)){for(var b=[a],c=1,d;arguments.length>c;)b.push(arguments[c++]);c=b[1];"function"==typeof c&&(d=c);if(d||!u(c))c=function(a,b){d&&(b=d.call(this,a,b));if(!ha(b))return b};b[1]=c;return K.apply(I,b)}}});L.prototype[P]||a("./_hide")(L.prototype,P,L.prototype.valueOf);
n(L,"Symbol");n(Math,"Math",!0);n(l.JSON,"JSON",!0)},{"./_an-object":417,"./_descriptors":438,"./_enum-keys":441,"./_export":442,"./_fails":444,"./_global":448,"./_has":449,"./_hide":450,"./_is-array":457,"./_keyof":467,"./_library":468,"./_meta":472,"./_object-create":476,"./_object-dp":477,"./_object-gopd":480,"./_object-gopn":482,"./_object-gopn-ext":481,"./_object-gops":483,"./_object-keys":486,"./_object-pie":487,"./_property-desc":495,"./_redefine":497,"./_set-to-string-tag":502,"./_shared":504,
"./_to-iobject":517,"./_to-primitive":520,"./_uid":524,"./_wks":527,"./_wks-define":525,"./_wks-ext":526}],654:[function(a,l,f){l=a("./_export");f=a("./_typed");var c=a("./_typed-buffer"),e=a("./_an-object"),h=a("./_to-index"),b=a("./_to-length"),k=a("./_is-object"),d=a("./_global").ArrayBuffer,n=a("./_species-constructor"),m=c.ArrayBuffer,q=c.DataView,w=f.ABV&&d.isView,p=m.prototype.slice,r=f.VIEW;l(l.G+l.W+l.F*(d!==m),{ArrayBuffer:m});l(l.S+l.F*!f.CONSTR,"ArrayBuffer",{isView:function(a){return w&&
w(a)||k(a)&&r in a}});l(l.P+l.U+l.F*a("./_fails")(function(){return!(new m(2)).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(a,c){if(void 0!==p&&void 0===c)return p.call(e(this),a);var d=e(this).byteLength;a=h(a,d);c=h(void 0===c?d:c,d);for(var d=new (n(this,m))(b(c-a)),k=new q(this),g=new q(d),f=0;a<c;)g.setUint8(f++,k.getUint8(a++));return d}});a("./_set-species")("ArrayBuffer")},{"./_an-object":417,"./_export":442,"./_fails":444,"./_global":448,"./_is-object":459,"./_set-species":501,
"./_species-constructor":505,"./_to-index":515,"./_to-length":518,"./_typed":523,"./_typed-buffer":522}],655:[function(a,l,f){l=a("./_export");l(l.G+l.W+l.F*!a("./_typed").ABV,{DataView:a("./_typed-buffer").DataView})},{"./_export":442,"./_typed":523,"./_typed-buffer":522}],656:[function(a,l,f){a("./_typed-array")("Float32",4,function(a){return function(c,h,b){return a(this,c,h,b)}})},{"./_typed-array":521}],657:[function(a,l,f){a("./_typed-array")("Float64",8,function(a){return function(c,h,b){return a(this,
c,h,b)}})},{"./_typed-array":521}],658:[function(a,l,f){a("./_typed-array")("Int16",2,function(a){return function(c,h,b){return a(this,c,h,b)}})},{"./_typed-array":521}],659:[function(a,l,f){a("./_typed-array")("Int32",4,function(a){return function(c,h,b){return a(this,c,h,b)}})},{"./_typed-array":521}],660:[function(a,l,f){a("./_typed-array")("Int8",1,function(a){return function(c,h,b){return a(this,c,h,b)}})},{"./_typed-array":521}],661:[function(a,l,f){a("./_typed-array")("Uint16",2,function(a){return function(c,
h,b){return a(this,c,h,b)}})},{"./_typed-array":521}],662:[function(a,l,f){a("./_typed-array")("Uint32",4,function(a){return function(c,h,b){return a(this,c,h,b)}})},{"./_typed-array":521}],663:[function(a,l,f){a("./_typed-array")("Uint8",1,function(a){return function(c,h,b){return a(this,c,h,b)}})},{"./_typed-array":521}],664:[function(a,l,f){a("./_typed-array")("Uint8",1,function(a){return function(c,h,b){return a(this,c,h,b)}},!0)},{"./_typed-array":521}],665:[function(a,l,f){f=a("./_array-methods")(0);
var c=a("./_redefine"),e=a("./_meta"),h=a("./_object-assign"),b=a("./_collection-weak"),k=a("./_is-object"),d=e.getWeak,n=Object.isExtensible,m=b.ufstore,q={},w,p=function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},r={get:function(a){if(k(a)){var b=d(a);return!0===b?m(this).get(a):b?b[this._i]:void 0}},set:function(a,c){return b.def(this,a,c)}},t=l.exports=a("./_collection")("WeakMap",p,r,b,!0,!0);7!=(new t).set((Object.freeze||Object)(q),7).get(q)&&(w=b.getConstructor(p),
h(w.prototype,r),e.NEED=!0,f(["delete","has","get","set"],function(a){var b=t.prototype,d=b[a];c(b,a,function(b,c){return k(b)&&!n(b)?(this._f||(this._f=new w),b=this._f[a](b,c),"set"==a?this:b):d.call(this,b,c)})}))},{"./_array-methods":422,"./_collection":432,"./_collection-weak":431,"./_is-object":459,"./_meta":472,"./_object-assign":475,"./_redefine":497}],666:[function(a,l,f){var c=a("./_collection-weak");a("./_collection")("WeakSet",function(a){return function(){return a(this,0<arguments.length?
arguments[0]:void 0)}},{add:function(a){return c.def(this,a,!0)}},c,!1,!0)},{"./_collection":432,"./_collection-weak":431}],667:[function(a,l,f){l=a("./_export");var c=a("./_array-includes")(!0);l(l.P,"Array",{includes:function(a){return c(this,a,1<arguments.length?arguments[1]:void 0)}});a("./_add-to-unscopables")("includes")},{"./_add-to-unscopables":415,"./_array-includes":421,"./_export":442}],668:[function(a,l,f){l=a("./_export");var c=a("./_microtask")(),e=a("./_global").process,h="process"==
a("./_cof")(e);l(l.G,{asap:function(a){var b=h&&e.domain;c(b?b.bind(a):a)}})},{"./_cof":428,"./_export":442,"./_global":448,"./_microtask":474}],669:[function(a,l,f){l=a("./_export");var c=a("./_cof");l(l.S,"Error",{isError:function(a){return"Error"===c(a)}})},{"./_cof":428,"./_export":442}],670:[function(a,l,f){l=a("./_export");l(l.P+l.R,"Map",{toJSON:a("./_collection-to-json")("Map")})},{"./_collection-to-json":430,"./_export":442}],671:[function(a,l,f){a=a("./_export");a(a.S,"Math",{iaddh:function(a,
e,h,b){a>>>=0;h>>>=0;return(e>>>0)+(b>>>0)+((a&h|(a|h)&~(a+h>>>0))>>>31)|0}})},{"./_export":442}],672:[function(a,l,f){a=a("./_export");a(a.S,"Math",{imulh:function(a,e){var c=+a,b=+e;e=c&65535;a=b&65535;c>>=16;b>>=16;a=(c*a>>>0)+(e*a>>>16);return c*b+(a>>16)+((e*b>>>0)+(a&65535)>>16)}})},{"./_export":442}],673:[function(a,l,f){a=a("./_export");a(a.S,"Math",{isubh:function(a,e,h,b){a>>>=0;h>>>=0;return(e>>>0)-(b>>>0)-((~a&h|~(a^h)&a-h>>>0)>>>31)|0}})},{"./_export":442}],674:[function(a,l,f){a=a("./_export");
a(a.S,"Math",{umulh:function(a,e){var c=+a,b=+e;e=c&65535;a=b&65535;c>>>=16;b>>>=16;a=(c*a>>>0)+(e*a>>>16);return c*b+(a>>>16)+((e*b>>>0)+(a&65535)>>>16)}})},{"./_export":442}],675:[function(a,l,f){l=a("./_export");var c=a("./_to-object"),e=a("./_a-function"),h=a("./_object-dp");a("./_descriptors")&&l(l.P+a("./_object-forced-pam"),"Object",{__defineGetter__:function(a,k){h.f(c(this),a,{get:e(k),enumerable:!0,configurable:!0})}})},{"./_a-function":413,"./_descriptors":438,"./_export":442,"./_object-dp":477,
"./_object-forced-pam":479,"./_to-object":519}],676:[function(a,l,f){l=a("./_export");var c=a("./_to-object"),e=a("./_a-function"),h=a("./_object-dp");a("./_descriptors")&&l(l.P+a("./_object-forced-pam"),"Object",{__defineSetter__:function(a,k){h.f(c(this),a,{set:e(k),enumerable:!0,configurable:!0})}})},{"./_a-function":413,"./_descriptors":438,"./_export":442,"./_object-dp":477,"./_object-forced-pam":479,"./_to-object":519}],677:[function(a,l,f){l=a("./_export");var c=a("./_object-to-array")(!0);
l(l.S,"Object",{entries:function(a){return c(a)}})},{"./_export":442,"./_object-to-array":489}],678:[function(a,l,f){l=a("./_export");var c=a("./_own-keys"),e=a("./_to-iobject"),h=a("./_object-gopd"),b=a("./_create-property");l(l.S,"Object",{getOwnPropertyDescriptors:function(a){a=e(a);for(var d=h.f,k=c(a),f={},l=0,w;k.length>l;)b(f,w=k[l++],d(a,w));return f}})},{"./_create-property":434,"./_export":442,"./_object-gopd":480,"./_own-keys":490,"./_to-iobject":517}],679:[function(a,l,f){l=a("./_export");
var c=a("./_to-object"),e=a("./_to-primitive"),h=a("./_object-gpo"),b=a("./_object-gopd").f;a("./_descriptors")&&l(l.P+a("./_object-forced-pam"),"Object",{__lookupGetter__:function(a){var d=c(this);a=e(a,!0);var k;do if(k=b(d,a))return k.get;while(d=h(d))}})},{"./_descriptors":438,"./_export":442,"./_object-forced-pam":479,"./_object-gopd":480,"./_object-gpo":484,"./_to-object":519,"./_to-primitive":520}],680:[function(a,l,f){l=a("./_export");var c=a("./_to-object"),e=a("./_to-primitive"),h=a("./_object-gpo"),
b=a("./_object-gopd").f;a("./_descriptors")&&l(l.P+a("./_object-forced-pam"),"Object",{__lookupSetter__:function(a){var d=c(this);a=e(a,!0);var k;do if(k=b(d,a))return k.set;while(d=h(d))}})},{"./_descriptors":438,"./_export":442,"./_object-forced-pam":479,"./_object-gopd":480,"./_object-gpo":484,"./_to-object":519,"./_to-primitive":520}],681:[function(a,l,f){l=a("./_export");var c=a("./_object-to-array")(!1);l(l.S,"Object",{values:function(a){return c(a)}})},{"./_export":442,"./_object-to-array":489}],
682:[function(a,l,f){l=a("./_export");var c=a("./_global"),e=a("./_core"),h=a("./_microtask")(),b=a("./_wks")("observable"),k=a("./_a-function"),d=a("./_an-object"),n=a("./_an-instance");f=a("./_redefine-all");var m=a("./_hide"),q=a("./_for-of"),w=q.RETURN,p=function(a){return null==a?void 0:k(a)},r=function(a){var b=a._c;b&&(a._c=void 0,b())},t=function(a){return void 0===a._o},u=function(a,b){d(a);this._c=void 0;this._o=a;a=new y(this);try{var c=b(a),e=c;null!=c&&("function"===typeof c.unsubscribe?
c=function(){e.unsubscribe()}:k(c),this._c=c)}catch(G){a.error(G);return}t(this)&&r(this)};u.prototype=f({},{unsubscribe:function(){t(this)||(this._o=void 0,r(this))}});var y=function(a){this._s=a};y.prototype=f({},{next:function(a){var b=this._s;if(!t(b)){var c=b._o;try{var d=p(c.next);if(d)return d.call(c,a)}catch(G){try{t(b)||(b._o=void 0,r(b))}finally{throw G;}}}},error:function(a){var b=this._s;if(t(b))throw a;var c=b._o;b._o=void 0;try{var d=p(c.error);if(!d)throw a;a=d.call(c,a)}catch(G){try{r(b)}finally{throw G;
}}r(b);return a},complete:function(a){var b=this._s;if(!t(b)){var c=b._o;b._o=void 0;try{var d=p(c.complete);a=d?d.call(c,a):void 0}catch(G){try{r(b)}finally{throw G;}}r(b);return a}}});var A=function(a){n(this,A,"Observable","_f")._f=k(a)};f(A.prototype,{subscribe:function(a){return new u(a,this._f)},forEach:function(a){var b=this;return new (e.Promise||c.Promise)(function(c,d){k(a);var e=b.subscribe({next:function(b){try{return a(b)}catch(D){d(D),e.unsubscribe()}},error:d,complete:c})})}});f(A,
{from:function(a){var c="function"===typeof this?this:A,e=p(d(a)[b]);if(e){var g=d(e.call(a));return g.constructor===c?g:new c(function(a){return g.subscribe(a)})}return new c(function(b){var c=!1;h(function(){if(!c){try{if(q(a,!1,function(a){b.next(a);if(c)return w})===w)return}catch(D){if(c)throw D;b.error(D);return}b.complete()}});return function(){c=!0}})},of:function(){for(var a=0,b=arguments.length,c=Array(b);a<b;)c[a]=arguments[a++];return new ("function"===typeof this?this:A)(function(a){var b=
!1;h(function(){if(!b){for(var d=0;d<c.length;++d)if(a.next(c[d]),b)return;a.complete()}});return function(){b=!0}})}});m(A.prototype,b,function(){return this});l(l.G,{Observable:A});a("./_set-species")("Observable")},{"./_a-function":413,"./_an-instance":416,"./_an-object":417,"./_core":433,"./_export":442,"./_for-of":447,"./_global":448,"./_hide":450,"./_microtask":474,"./_redefine-all":496,"./_set-species":501,"./_wks":527}],683:[function(a,l,f){l=a("./_metadata");var c=a("./_an-object"),e=l.key,
h=l.set;l.exp({defineMetadata:function(a,k,d,f){h(a,k,c(d),e(f))}})},{"./_an-object":417,"./_metadata":473}],684:[function(a,l,f){l=a("./_metadata");var c=a("./_an-object"),e=l.key,h=l.map,b=l.store;l.exp({deleteMetadata:function(a,d){var k=3>arguments.length?void 0:e(arguments[2]),f=h(c(d),k,!1);if(void 0===f||!f["delete"](a))return!1;if(f.size)return!0;f=b.get(d);f["delete"](k);return!!f.size||b["delete"](d)}})},{"./_an-object":417,"./_metadata":473}],685:[function(a,l,f){var c=a("./es6.set"),e=
a("./_array-from-iterable");l=a("./_metadata");var h=a("./_an-object"),b=a("./_object-gpo"),k=l.keys,d=l.key,n=function(a,d){var h=k(a,d);a=b(a);if(null===a)return h;d=n(a,d);return d.length?h.length?e(new c(h.concat(d))):d:h};l.exp({getMetadataKeys:function(a){return n(h(a),2>arguments.length?void 0:d(arguments[1]))}})},{"./_an-object":417,"./_array-from-iterable":420,"./_metadata":473,"./_object-gpo":484,"./es6.set":630}],686:[function(a,l,f){l=a("./_metadata");var c=a("./_an-object"),e=a("./_object-gpo"),
h=l.has,b=l.get,k=l.key,d=function(a,c,k){if(h(a,c,k))return b(a,c,k);c=e(c);return null!==c?d(a,c,k):void 0};l.exp({getMetadata:function(a,b){return d(a,c(b),3>arguments.length?void 0:k(arguments[2]))}})},{"./_an-object":417,"./_metadata":473,"./_object-gpo":484}],687:[function(a,l,f){l=a("./_metadata");var c=a("./_an-object"),e=l.keys,h=l.key;l.exp({getOwnMetadataKeys:function(a){return e(c(a),2>arguments.length?void 0:h(arguments[1]))}})},{"./_an-object":417,"./_metadata":473}],688:[function(a,
l,f){l=a("./_metadata");var c=a("./_an-object"),e=l.get,h=l.key;l.exp({getOwnMetadata:function(a,k){return e(a,c(k),3>arguments.length?void 0:h(arguments[2]))}})},{"./_an-object":417,"./_metadata":473}],689:[function(a,l,f){l=a("./_metadata");var c=a("./_an-object"),e=a("./_object-gpo"),h=l.has,b=l.key,k=function(a,b,c){if(h(a,b,c))return!0;b=e(b);return null!==b?k(a,b,c):!1};l.exp({hasMetadata:function(a,e){return k(a,c(e),3>arguments.length?void 0:b(arguments[2]))}})},{"./_an-object":417,"./_metadata":473,
"./_object-gpo":484}],690:[function(a,l,f){l=a("./_metadata");var c=a("./_an-object"),e=l.has,h=l.key;l.exp({hasOwnMetadata:function(a,k){return e(a,c(k),3>arguments.length?void 0:h(arguments[2]))}})},{"./_an-object":417,"./_metadata":473}],691:[function(a,l,f){l=a("./_metadata");var c=a("./_an-object"),e=a("./_a-function"),h=l.key,b=l.set;l.exp({metadata:function(a,d){return function(k,f){b(a,d,(void 0!==f?c:e)(k),h(f))}}})},{"./_a-function":413,"./_an-object":417,"./_metadata":473}],692:[function(a,
l,f){l=a("./_export");l(l.P+l.R,"Set",{toJSON:a("./_collection-to-json")("Set")})},{"./_collection-to-json":430,"./_export":442}],693:[function(a,l,f){l=a("./_export");var c=a("./_string-at")(!0);l(l.P,"String",{at:function(a){return c(this,a)}})},{"./_export":442,"./_string-at":507}],694:[function(a,l,f){l=a("./_export");var c=a("./_defined"),e=a("./_to-length"),h=a("./_is-regexp"),b=a("./_flags"),k=RegExp.prototype,d=function(a,b){this._r=a;this._s=b};a("./_iter-create")(d,"RegExp String",function(){var a=
this._r.exec(this._s);return{value:a,done:null===a}});l(l.P,"String",{matchAll:function(a){c(this);if(!h(a))throw TypeError(a+" is not a regexp!");var f=String(this),l="flags"in k?String(a.flags):b.call(a),l=new RegExp(a.source,~l.indexOf("g")?l:"g"+l);l.lastIndex=e(a.lastIndex);return new d(l,f)}})},{"./_defined":437,"./_export":442,"./_flags":446,"./_is-regexp":460,"./_iter-create":462,"./_to-length":518}],695:[function(a,l,f){l=a("./_export");var c=a("./_string-pad");l(l.P,"String",{padEnd:function(a){return c(this,
a,1<arguments.length?arguments[1]:void 0,!1)}})},{"./_export":442,"./_string-pad":510}],696:[function(a,l,f){l=a("./_export");var c=a("./_string-pad");l(l.P,"String",{padStart:function(a){return c(this,a,1<arguments.length?arguments[1]:void 0,!0)}})},{"./_export":442,"./_string-pad":510}],697:[function(a,l,f){a("./_string-trim")("trimLeft",function(a){return function(){return a(this,1)}},"trimStart")},{"./_string-trim":512}],698:[function(a,l,f){a("./_string-trim")("trimRight",function(a){return function(){return a(this,
2)}},"trimEnd")},{"./_string-trim":512}],699:[function(a,l,f){a("./_wks-define")("asyncIterator")},{"./_wks-define":525}],700:[function(a,l,f){a("./_wks-define")("observable")},{"./_wks-define":525}],701:[function(a,l,f){l=a("./_export");l(l.S,"System",{global:a("./_global")})},{"./_export":442,"./_global":448}],702:[function(a,l,f){l=a("./es6.array.iterator");f=a("./_redefine");var c=a("./_global"),e=a("./_hide"),h=a("./_iterators"),b=a("./_wks");a=b("iterator");for(var b=b("toStringTag"),k=h.Array,
d=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],n=0;5>n;n++){var m=d[n],q=c[m],q=q&&q.prototype,w;if(q)for(w in q[a]||e(q,a,k),q[b]||e(q,b,m),h[m]=k,l)q[w]||f(q,w,l[w],!0)}},{"./_global":448,"./_hide":450,"./_iterators":466,"./_redefine":497,"./_wks":527,"./es6.array.iterator":540}],703:[function(a,l,f){l=a("./_export");a=a("./_task");l(l.G+l.B,{setImmediate:a.set,clearImmediate:a.clear})},{"./_export":442,"./_task":514}],704:[function(a,l,f){l=a("./_global");f=a("./_export");
var c=a("./_invoke"),e=a("./_partial");a=l.navigator;var h=!!a&&/MSIE .\./.test(a.userAgent);a=function(a){return h?function(b,d){return a(c(e,[].slice.call(arguments,2),"function"==typeof b?b:Function(b)),d)}:a};f(f.G+f.B+f.F*h,{setTimeout:a(l.setTimeout),setInterval:a(l.setInterval)})},{"./_export":442,"./_global":448,"./_invoke":454,"./_partial":493}],705:[function(a,l,f){a("./modules/es6.symbol");a("./modules/es6.object.create");a("./modules/es6.object.define-property");a("./modules/es6.object.define-properties");
a("./modules/es6.object.get-own-property-descriptor");a("./modules/es6.object.get-prototype-of");a("./modules/es6.object.keys");a("./modules/es6.object.get-own-property-names");a("./modules/es6.object.freeze");a("./modules/es6.object.seal");a("./modules/es6.object.prevent-extensions");a("./modules/es6.object.is-frozen");a("./modules/es6.object.is-sealed");a("./modules/es6.object.is-extensible");a("./modules/es6.object.assign");a("./modules/es6.object.is");a("./modules/es6.object.set-prototype-of");
a("./modules/es6.object.to-string");a("./modules/es6.function.bind");a("./modules/es6.function.name");a("./modules/es6.function.has-instance");a("./modules/es6.parse-int");a("./modules/es6.parse-float");a("./modules/es6.number.constructor");a("./modules/es6.number.to-fixed");a("./modules/es6.number.to-precision");a("./modules/es6.number.epsilon");a("./modules/es6.number.is-finite");a("./modules/es6.number.is-integer");a("./modules/es6.number.is-nan");a("./modules/es6.number.is-safe-integer");a("./modules/es6.number.max-safe-integer");
a("./modules/es6.number.min-safe-integer");a("./modules/es6.number.parse-float");a("./modules/es6.number.parse-int");a("./modules/es6.math.acosh");a("./modules/es6.math.asinh");a("./modules/es6.math.atanh");a("./modules/es6.math.cbrt");a("./modules/es6.math.clz32");a("./modules/es6.math.cosh");a("./modules/es6.math.expm1");a("./modules/es6.math.fround");a("./modules/es6.math.hypot");a("./modules/es6.math.imul");a("./modules/es6.math.log10");a("./modules/es6.math.log1p");a("./modules/es6.math.log2");
a("./modules/es6.math.sign");a("./modules/es6.math.sinh");a("./modules/es6.math.tanh");a("./modules/es6.math.trunc");a("./modules/es6.string.from-code-point");a("./modules/es6.string.raw");a("./modules/es6.string.trim");a("./modules/es6.string.iterator");a("./modules/es6.string.code-point-at");a("./modules/es6.string.ends-with");a("./modules/es6.string.includes");a("./modules/es6.string.repeat");a("./modules/es6.string.starts-with");a("./modules/es6.string.anchor");a("./modules/es6.string.big");a("./modules/es6.string.blink");
a("./modules/es6.string.bold");a("./modules/es6.string.fixed");a("./modules/es6.string.fontcolor");a("./modules/es6.string.fontsize");a("./modules/es6.string.italics");a("./modules/es6.string.link");a("./modules/es6.string.small");a("./modules/es6.string.strike");a("./modules/es6.string.sub");a("./modules/es6.string.sup");a("./modules/es6.date.now");a("./modules/es6.date.to-json");a("./modules/es6.date.to-iso-string");a("./modules/es6.date.to-string");a("./modules/es6.date.to-primitive");a("./modules/es6.array.is-array");
a("./modules/es6.array.from");a("./modules/es6.array.of");a("./modules/es6.array.join");a("./modules/es6.array.slice");a("./modules/es6.array.sort");a("./modules/es6.array.for-each");a("./modules/es6.array.map");a("./modules/es6.array.filter");a("./modules/es6.array.some");a("./modules/es6.array.every");a("./modules/es6.array.reduce");a("./modules/es6.array.reduce-right");a("./modules/es6.array.index-of");a("./modules/es6.array.last-index-of");a("./modules/es6.array.copy-within");a("./modules/es6.array.fill");
a("./modules/es6.array.find");a("./modules/es6.array.find-index");a("./modules/es6.array.species");a("./modules/es6.array.iterator");a("./modules/es6.regexp.constructor");a("./modules/es6.regexp.to-string");a("./modules/es6.regexp.flags");a("./modules/es6.regexp.match");a("./modules/es6.regexp.replace");a("./modules/es6.regexp.search");a("./modules/es6.regexp.split");a("./modules/es6.promise");a("./modules/es6.map");a("./modules/es6.set");a("./modules/es6.weak-map");a("./modules/es6.weak-set");a("./modules/es6.typed.array-buffer");
a("./modules/es6.typed.data-view");a("./modules/es6.typed.int8-array");a("./modules/es6.typed.uint8-array");a("./modules/es6.typed.uint8-clamped-array");a("./modules/es6.typed.int16-array");a("./modules/es6.typed.uint16-array");a("./modules/es6.typed.int32-array");a("./modules/es6.typed.uint32-array");a("./modules/es6.typed.float32-array");a("./modules/es6.typed.float64-array");a("./modules/es6.reflect.apply");a("./modules/es6.reflect.construct");a("./modules/es6.reflect.define-property");a("./modules/es6.reflect.delete-property");
a("./modules/es6.reflect.enumerate");a("./modules/es6.reflect.get");a("./modules/es6.reflect.get-own-property-descriptor");a("./modules/es6.reflect.get-prototype-of");a("./modules/es6.reflect.has");a("./modules/es6.reflect.is-extensible");a("./modules/es6.reflect.own-keys");a("./modules/es6.reflect.prevent-extensions");a("./modules/es6.reflect.set");a("./modules/es6.reflect.set-prototype-of");a("./modules/es7.array.includes");a("./modules/es7.string.at");a("./modules/es7.string.pad-start");a("./modules/es7.string.pad-end");
a("./modules/es7.string.trim-left");a("./modules/es7.string.trim-right");a("./modules/es7.string.match-all");a("./modules/es7.symbol.async-iterator");a("./modules/es7.symbol.observable");a("./modules/es7.object.get-own-property-descriptors");a("./modules/es7.object.values");a("./modules/es7.object.entries");a("./modules/es7.object.define-getter");a("./modules/es7.object.define-setter");a("./modules/es7.object.lookup-getter");a("./modules/es7.object.lookup-setter");a("./modules/es7.map.to-json");a("./modules/es7.set.to-json");
a("./modules/es7.system.global");a("./modules/es7.error.is-error");a("./modules/es7.math.iaddh");a("./modules/es7.math.isubh");a("./modules/es7.math.imulh");a("./modules/es7.math.umulh");a("./modules/es7.reflect.define-metadata");a("./modules/es7.reflect.delete-metadata");a("./modules/es7.reflect.get-metadata");a("./modules/es7.reflect.get-metadata-keys");a("./modules/es7.reflect.get-own-metadata");a("./modules/es7.reflect.get-own-metadata-keys");a("./modules/es7.reflect.has-metadata");a("./modules/es7.reflect.has-own-metadata");
a("./modules/es7.reflect.metadata");a("./modules/es7.asap");a("./modules/es7.observable");a("./modules/web.timers");a("./modules/web.immediate");a("./modules/web.dom.iterable");l.exports=a("./modules/_core")},{"./modules/_core":433,"./modules/es6.array.copy-within":530,"./modules/es6.array.every":531,"./modules/es6.array.fill":532,"./modules/es6.array.filter":533,"./modules/es6.array.find":535,"./modules/es6.array.find-index":534,"./modules/es6.array.for-each":536,"./modules/es6.array.from":537,"./modules/es6.array.index-of":538,
"./modules/es6.array.is-array":539,"./modules/es6.array.iterator":540,"./modules/es6.array.join":541,"./modules/es6.array.last-index-of":542,"./modules/es6.array.map":543,"./modules/es6.array.of":544,"./modules/es6.array.reduce":546,"./modules/es6.array.reduce-right":545,"./modules/es6.array.slice":547,"./modules/es6.array.some":548,"./modules/es6.array.sort":549,"./modules/es6.array.species":550,"./modules/es6.date.now":551,"./modules/es6.date.to-iso-string":552,"./modules/es6.date.to-json":553,
"./modules/es6.date.to-primitive":554,"./modules/es6.date.to-string":555,"./modules/es6.function.bind":556,"./modules/es6.function.has-instance":557,"./modules/es6.function.name":558,"./modules/es6.map":559,"./modules/es6.math.acosh":560,"./modules/es6.math.asinh":561,"./modules/es6.math.atanh":562,"./modules/es6.math.cbrt":563,"./modules/es6.math.clz32":564,"./modules/es6.math.cosh":565,"./modules/es6.math.expm1":566,"./modules/es6.math.fround":567,"./modules/es6.math.hypot":568,"./modules/es6.math.imul":569,
"./modules/es6.math.log10":570,"./modules/es6.math.log1p":571,"./modules/es6.math.log2":572,"./modules/es6.math.sign":573,"./modules/es6.math.sinh":574,"./modules/es6.math.tanh":575,"./modules/es6.math.trunc":576,"./modules/es6.number.constructor":577,"./modules/es6.number.epsilon":578,"./modules/es6.number.is-finite":579,"./modules/es6.number.is-integer":580,"./modules/es6.number.is-nan":581,"./modules/es6.number.is-safe-integer":582,"./modules/es6.number.max-safe-integer":583,"./modules/es6.number.min-safe-integer":584,
"./modules/es6.number.parse-float":585,"./modules/es6.number.parse-int":586,"./modules/es6.number.to-fixed":587,"./modules/es6.number.to-precision":588,"./modules/es6.object.assign":589,"./modules/es6.object.create":590,"./modules/es6.object.define-properties":591,"./modules/es6.object.define-property":592,"./modules/es6.object.freeze":593,"./modules/es6.object.get-own-property-descriptor":594,"./modules/es6.object.get-own-property-names":595,"./modules/es6.object.get-prototype-of":596,"./modules/es6.object.is":600,
"./modules/es6.object.is-extensible":597,"./modules/es6.object.is-frozen":598,"./modules/es6.object.is-sealed":599,"./modules/es6.object.keys":601,"./modules/es6.object.prevent-extensions":602,"./modules/es6.object.seal":603,"./modules/es6.object.set-prototype-of":604,"./modules/es6.object.to-string":605,"./modules/es6.parse-float":606,"./modules/es6.parse-int":607,"./modules/es6.promise":608,"./modules/es6.reflect.apply":609,"./modules/es6.reflect.construct":610,"./modules/es6.reflect.define-property":611,
"./modules/es6.reflect.delete-property":612,"./modules/es6.reflect.enumerate":613,"./modules/es6.reflect.get":616,"./modules/es6.reflect.get-own-property-descriptor":614,"./modules/es6.reflect.get-prototype-of":615,"./modules/es6.reflect.has":617,"./modules/es6.reflect.is-extensible":618,"./modules/es6.reflect.own-keys":619,"./modules/es6.reflect.prevent-extensions":620,"./modules/es6.reflect.set":622,"./modules/es6.reflect.set-prototype-of":621,"./modules/es6.regexp.constructor":623,"./modules/es6.regexp.flags":624,
"./modules/es6.regexp.match":625,"./modules/es6.regexp.replace":626,"./modules/es6.regexp.search":627,"./modules/es6.regexp.split":628,"./modules/es6.regexp.to-string":629,"./modules/es6.set":630,"./modules/es6.string.anchor":631,"./modules/es6.string.big":632,"./modules/es6.string.blink":633,"./modules/es6.string.bold":634,"./modules/es6.string.code-point-at":635,"./modules/es6.string.ends-with":636,"./modules/es6.string.fixed":637,"./modules/es6.string.fontcolor":638,"./modules/es6.string.fontsize":639,
"./modules/es6.string.from-code-point":640,"./modules/es6.string.includes":641,"./modules/es6.string.italics":642,"./modules/es6.string.iterator":643,"./modules/es6.string.link":644,"./modules/es6.string.raw":645,"./modules/es6.string.repeat":646,"./modules/es6.string.small":647,"./modules/es6.string.starts-with":648,"./modules/es6.string.strike":649,"./modules/es6.string.sub":650,"./modules/es6.string.sup":651,"./modules/es6.string.trim":652,"./modules/es6.symbol":653,"./modules/es6.typed.array-buffer":654,
"./modules/es6.typed.data-view":655,"./modules/es6.typed.float32-array":656,"./modules/es6.typed.float64-array":657,"./modules/es6.typed.int16-array":658,"./modules/es6.typed.int32-array":659,"./modules/es6.typed.int8-array":660,"./modules/es6.typed.uint16-array":661,"./modules/es6.typed.uint32-array":662,"./modules/es6.typed.uint8-array":663,"./modules/es6.typed.uint8-clamped-array":664,"./modules/es6.weak-map":665,"./modules/es6.weak-set":666,"./modules/es7.array.includes":667,"./modules/es7.asap":668,
"./modules/es7.error.is-error":669,"./modules/es7.map.to-json":670,"./modules/es7.math.iaddh":671,"./modules/es7.math.imulh":672,"./modules/es7.math.isubh":673,"./modules/es7.math.umulh":674,"./modules/es7.object.define-getter":675,"./modules/es7.object.define-setter":676,"./modules/es7.object.entries":677,"./modules/es7.object.get-own-property-descriptors":678,"./modules/es7.object.lookup-getter":679,"./modules/es7.object.lookup-setter":680,"./modules/es7.object.values":681,"./modules/es7.observable":682,
"./modules/es7.reflect.define-metadata":683,"./modules/es7.reflect.delete-metadata":684,"./modules/es7.reflect.get-metadata":686,"./modules/es7.reflect.get-metadata-keys":685,"./modules/es7.reflect.get-own-metadata":688,"./modules/es7.reflect.get-own-metadata-keys":687,"./modules/es7.reflect.has-metadata":689,"./modules/es7.reflect.has-own-metadata":690,"./modules/es7.reflect.metadata":691,"./modules/es7.set.to-json":692,"./modules/es7.string.at":693,"./modules/es7.string.match-all":694,"./modules/es7.string.pad-end":695,
"./modules/es7.string.pad-start":696,"./modules/es7.string.trim-left":697,"./modules/es7.string.trim-right":698,"./modules/es7.symbol.async-iterator":699,"./modules/es7.symbol.observable":700,"./modules/es7.system.global":701,"./modules/web.dom.iterable":702,"./modules/web.immediate":703,"./modules/web.timers":704}],706:[function(a,l,f){(function(a){function c(a){return Object.prototype.toString.call(a)}f.isArray=function(a){return Array.isArray?Array.isArray(a):"[object Array]"===c(a)};f.isBoolean=
function(a){return"boolean"===typeof a};f.isNull=function(a){return null===a};f.isNullOrUndefined=function(a){return null==a};f.isNumber=function(a){return"number"===typeof a};f.isString=function(a){return"string"===typeof a};f.isSymbol=function(a){return"symbol"===typeof a};f.isUndefined=function(a){return void 0===a};f.isRegExp=function(a){return"[object RegExp]"===c(a)};f.isObject=function(a){return"object"===typeof a&&null!==a};f.isDate=function(a){return"[object Date]"===c(a)};f.isError=function(a){return"[object Error]"===
c(a)||a instanceof Error};f.isFunction=function(a){return"function"===typeof a};f.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};f.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../../../../../external/browserify_incremental/is-buffer/index.js")})},{"../../../../../../external/browserify_incremental/is-buffer/index.js":1027}],707:[function(a,l,f){!function(){function a(a){return a&&(a.ownerDocument&&
a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function e(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function h(a){return null===a?NaN:+a}function b(a){return!isNaN(a)}function k(a){return{left:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var g=d+e>>>1;0>a(b[g],c)?d=g+1:e=g}return d},right:function(b,c,d,e){3>arguments.length&&(d=0);4>arguments.length&&(e=b.length);for(;d<e;){var g=d+e>>>1;0<a(b[g],c)?e=g:d=g+1}return d}}}function d(a){return a.length}
function f(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function m(){this._=Object.create(null)}function q(a){return"__proto__"===(a+="")||"\x00"===a[0]?"\x00"+a:a}function w(a){return"\x00"===(a+="")[0]?a.slice(1):a}function p(a){return q(a)in this._}function r(a){return(a=q(a))in this._&&delete this._[a]}function t(){var a=[],b;for(b in this._)a.push(w(b));return a}function u(){var a=0,b;for(b in this._)++a;return a}function y(){for(var a in this._)return!1;
return!0}function A(){this._=Object.create(null)}function g(a){return a}function v(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function z(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=Gg.length;c<d;++c){var e=Gg[c]+b;if(e in a)return e}}function B(){}function G(){}function x(a){function b(){for(var b=c,d=-1,e=b.length,g;++d<e;)(g=b[d].on)&&g.apply(this,arguments);return a}var c=[],d=new m;b.on=function(b,e){var g=d.get(b),h;if(2>arguments.length)return g&&
g.on;g&&(g.on=null,c=c.slice(0,h=c.indexOf(g)).concat(c.slice(h+1)),d.remove(b));e&&c.push(d.set(b,{on:e}));return a};return b}function D(){H.event.preventDefault()}function E(){for(var a=H.event,b;b=a.sourceEvent;)a=b;return a}function F(a){for(var b=new G,c=0,d=arguments.length;++c<d;)b[arguments[c]]=x(b);b.of=function(c,d){return function(e){try{var g=e.sourceEvent=H.event;e.target=a;H.event=e;b[e.type].apply(c,d)}finally{H.event=g}}};return b}function J(a){wb(a,Ka);return a}function L(a){return"function"===
typeof a?a:function(){return Of(a,this)}}function I(a){return"function"===typeof a?a:function(){return He(a,this)}}function K(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function g(){this.setAttributeNS(a.space,a.local,b)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function k(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,
a.local,c)}a=H.ns.qualify(a);return null==b?a.local?d:c:"function"===typeof b?a.local?k:h:a.local?g:e}function N(a){return new RegExp("(?:^|\\s+)"+H.requote(a)+"(?:\\s+|$)","g")}function P(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}a=(a+"").trim().split(/^|\s+/).map(Y);var e=a.length;return"function"===typeof b?d:c}function Y(a){var b=N(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||
"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",(e+" "+a).trim().replace(/\s+/g," "))):c.setAttribute("class",e.replace(b," ").trim().replace(/\s+/g," "))}}function M(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function g(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"===typeof b?g:e}function O(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=
b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"===typeof b?e:d}function Q(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c?b.createElementNS(c,a):b.createElement(a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"===typeof a?a:(a=H.ns.qualify(a)).local?c:b}function U(){var a=this.parentNode;a&&a.removeChild(this)}function R(a){return function(){return sa(this,a)}}function ba(a){arguments.length||(a=e);
return function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function T(a,b){for(var c=0,d=a.length;c<d;c++)for(var e=a[c],g=0,h=e.length,k;g<h;g++)(k=e[g])&&b(k,g,c);return a}function ca(a){wb(a,Ya);return a}function ha(a){var b,c;return function(d,e,g){d=a[g].update;var h=d.length;g!=c&&(c=g,b=0);for(e>=b&&(b=e+1);!(e=d[b])&&++b<h;);return e}}function X(a,b,c){function d(){var b=this[h];b&&(this.removeEventListener(a,b,b.$),delete this[h])}function e(){var e=f(b,Vc(arguments));d.call(this);
this.addEventListener(a,this[h]=e,e.$=c);e._=b}function g(){var b=new RegExp("^__on([^.]+)"+H.requote(a)+"$"),c,d;for(d in this)if(c=d.match(b)){var e=this[d];this.removeEventListener(c[1],e,e.$);delete this[d]}}var h="__on"+a,k=a.indexOf("."),f=aa;0<k&&(a=a.slice(0,k));var l=re.get(a);l&&(a=l,f=ga);return k?b?e:d:b?B:g}function aa(a,b){return function(c){var d=H.event;H.event=c;b[0]=this.__data__;try{a.apply(this,b)}finally{H.event=d}}}function ga(a,b){var c=aa(a,b);return function(a){var b=a.relatedTarget;
b&&(b===this||b.compareDocumentPosition(this)&8)||c.call(this,a)}}function ka(b){var c=".dragsuppress-"+ ++Ca,d="click"+c,e=H.select(a(b)).on("touchmove"+c,D).on("dragstart"+c,D).on("selectstart"+c,D);null==ud&&(ud="onselectstart"in b?!1:z(b.style,"userSelect"));if(ud){var g=(b&&(b.ownerDocument||b.document||b).documentElement).style,h=g[ud];g[ud]="none"}return function(a){e.on(c,null);ud&&(g[ud]=h);if(a){var b=function(){e.on(d,null)};e.on(d,function(){D();b()},!0);setTimeout(b,0)}}}function ra(b,
c){c.changedTouches&&(c=c.changedTouches[0]);var d=b.ownerSVGElement||b;if(d.createSVGPoint){var e=d.createSVGPoint();if(0>Za&&(d=a(b),d.scrollX||d.scrollY)){var d=H.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),g=d[0][0].getScreenCTM();Za=!(g.f||g.e);d.remove()}Za?(e.x=c.pageX,e.y=c.pageY):(e.x=c.clientX,e.y=c.clientY);e=e.matrixTransform(b.getScreenCTM().inverse());return[e.x,e.y]}e=b.getBoundingClientRect();return[c.clientX-
e.left-b.clientLeft,c.clientY-e.top-b.clientTop]}function Ea(){return H.event.changedTouches[0].identifier}function ua(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function $a(a){return 1<a?0:-1>a?ma:Math.acos(a)}function La(a){return 1<a?hb:-1>a?-hb:Math.asin(a)}function pa(a){return((a=Math.exp(a))+1/a)/2}function fa(a){return(a=Math.sin(a/2))*a}function ea(){}function Z(a,b,c){return this instanceof Z?void(this.h=+a,this.s=+b,this.l=+c):2>arguments.length?a instanceof Z?new Z(a.h,
a.s,a.l):tb(""+a,cb,Z):new Z(a,b,c)}function C(a,b,c){function d(a){360<a?a-=360:0>a&&(a+=360);return 60>a?e+(g-e)*a/60:180>a?g:240>a?e+(g-e)*(240-a)/60:e}var e,g;a=isNaN(a)?0:0>(a%=360)?a+360:a;b=isNaN(b)?0:0>b?0:1<b?1:b;c=0>c?0:1<c?1:c;g=.5>=c?c*(1+b):c+b-c*b;e=2*c-g;return new oa(Math.round(255*d(a+120)),Math.round(255*d(a)),Math.round(255*d(a-120)))}function va(a,b,c){return this instanceof va?void(this.h=+a,this.c=+b,this.l=+c):2>arguments.length?a instanceof va?new va(a.h,a.c,a.l):a instanceof
Ma?Ta(a.l,a.a,a.b):Ta((a=ec((a=H.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new va(a,b,c)}function za(a,b,c){isNaN(a)&&(a=0);isNaN(b)&&(b=0);return new Ma(c,Math.cos(a*=qa)*b,Math.sin(a)*b)}function Ma(a,b,c){return this instanceof Ma?void(this.l=+a,this.a=+b,this.b=+c):2>arguments.length?a instanceof Ma?new Ma(a.l,a.a,a.b):a instanceof va?za(a.h,a.c,a.l):ec((a=oa(a)).r,a.g,a.b):new Ma(a,b,c)}function Ra(a,b,c){a=(a+16)/116;c=a-c/200;b=Ha(a+b/500)*Lg;a=Ha(a)*Yg;c=Ha(c)*yg;return new oa(Fa(3.2404542*b-1.5371385*
a-.4985314*c),Fa(-.969266*b+1.8760108*a+.041556*c),Fa(.0556434*b-.2040259*a+1.0572252*c))}function Ta(a,b,c){return 0<a?new va(Math.atan2(c,b)*Qa,Math.sqrt(b*b+c*c),a):new va(NaN,NaN,a)}function Ha(a){return.206893034<a?a*a*a:(a-4/29)/7.787037}function na(a){return.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function Fa(a){return Math.round(255*(.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function oa(a,b,c){return this instanceof oa?void(this.r=~~a,this.g=~~b,this.b=~~c):2>arguments.length?a instanceof
oa?new oa(a.r,a.g,a.b):tb(""+a,oa,C):new oa(a,b,c)}function V(a){return new oa(a>>16,a>>8&255,a&255)+""}function ib(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function tb(a,b,c){a=a.toLowerCase();var d=0,e=0,g=0,h,k;if(h=/([a-z]+)\((.*)\)/.exec(a))switch(k=h[2].split(","),h[1]){case "hsl":return c(parseFloat(k[0]),parseFloat(k[1])/100,parseFloat(k[2])/100);case "rgb":return b(ob(k[0]),ob(k[1]),ob(k[2]))}if(c=Dg.get(a))return b(c.r,c.g,c.b);null==a||"#"!==a.charAt(0)||
isNaN(c=parseInt(a.slice(1),16))||(4===a.length?(d=(c&3840)>>4,d|=d>>4,e=c&240,e|=e>>4,g=c&15,g|=g<<4):7===a.length&&(d=(c&16711680)>>16,e=(c&65280)>>8,g=c&255));return b(d,e,g)}function cb(a,b,c){var d=Math.min(a/=255,b/=255,c/=255),e=Math.max(a,b,c),g=e-d,h=(e+d)/2;g?(d=.5>h?g/(e+d):g/(2-e-d),a=60*(a==e?(b-c)/g+(b<c?6:0):b==e?(c-a)/g+2:(a-b)/g+4)):(a=NaN,d=0<h&&1>h?0:a);return new Z(a,d,h)}function ec(a,b,c){a=fc(a);b=fc(b);c=fc(c);var d=na((.4124564*a+.3575761*b+.1804375*c)/Lg),e=na((.2126729*
a+.7151522*b+.072175*c)/Yg);a=na((.0193339*a+.119192*b+.9503041*c)/yg);return Ma(116*e-16,500*(d-e),200*(e-a))}function fc(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function ob(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function W(a){return"function"===typeof a?a:function(){return a}}function wa(a){return function(b,c,d){2===arguments.length&&"function"===typeof c&&(d=c,c=null);return Xb(b,c,a,d)}}function Xb(a,b,c,d){function e(){var a=f.status,
b,d;if(d=!a)d=(d=f.responseType)&&"text"!==d?f.response:f.responseText;if(d||200<=a&&300>a||304===a){try{b=c.call(g,f)}catch(Uh){h.error.call(g,Uh);return}h.load.call(g,b)}else h.error.call(g,f)}var g={},h=H.dispatch("beforesend","progress","load","error"),k={},f=new XMLHttpRequest,l=null;!this.XDomainRequest||"withCredentials"in f||!/^(http(s)?:)?\/\//.test(a)||(f=new XDomainRequest);"onload"in f?f.onload=f.onerror=e:f.onreadystatechange=function(){3<f.readyState&&e()};f.onprogress=function(a){var b=
H.event;H.event=a;try{h.progress.call(g,f)}finally{H.event=b}};g.header=function(a,b){a=(a+"").toLowerCase();if(2>arguments.length)return k[a];null==b?delete k[a]:k[a]=b+"";return g};g.mimeType=function(a){if(!arguments.length)return b;b=null==a?null:a+"";return g};g.responseType=function(a){if(!arguments.length)return l;l=a;return g};g.response=function(a){c=a;return g};["get","post"].forEach(function(a){g[a]=function(){return g.send.apply(g,[a].concat(Vc(arguments)))}});g.send=function(c,d,e){2===
arguments.length&&"function"===typeof d&&(e=d,d=null);f.open(c,a,!0);null==b||"accept"in k||(k.accept=b+",*/*");if(f.setRequestHeader)for(var m in k)f.setRequestHeader(m,k[m]);null!=b&&f.overrideMimeType&&f.overrideMimeType(b);null!=l&&(f.responseType=l);if(null!=e)g.on("error",e).on("load",function(a){e(null,a)});h.beforesend.call(g,f);f.send(null==d?null:d);return g};g.abort=function(){f.abort();return g};H.rebind(g,h,"on");return null==d?g:g.get(Da(d))}function Da(a){return 1===a.length?function(b,
c){a(null==b?c:null)}:a}function pb(){var a=uc(),a=hc()-a;24<a?(isFinite(a)&&(clearTimeout(Be),Be=setTimeout(pb,a)),Qd=0):(Qd=1,yb(pb))}function uc(){var a=Date.now();for(qe=ag;qe;)a>=qe.t&&(qe.f=qe.c(a-qe.t)),qe=qe.n;return a}function hc(){for(var a,b=ag,c=Infinity;b;)b.f?b=a?a.n=b.n:ag=b.n:(b.t<c&&(c=b.t),b=(a=b).n);zf=a;return c}function tc(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function wf(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,h=d&&c?function(a,b){for(var e=
a.length,g=[],h=0,k=d[0],f=0;0<e&&0<k;){f+k+1>b&&(k=Math.max(1,b-f));g.push(a.substring(e-=k,e+k));if((f+=k+1)>b)break;k=d[h=(h+1)%d.length]}return g.reverse().join(c)}:g;return function(a){a=lh.exec(a);var c=a[1]||" ",d=a[2]||">",g=a[3]||"-",k=a[4]||"",f=a[5],l=+a[6],m=a[7],n=a[8],q=a[9],xa=1,p="",u="",t=!1,r=!0;n&&(n=+n.substring(1));if(f||"0"===c&&"="===d)f=c="0",d="=";switch(q){case "n":m=!0;q="g";break;case "%":xa=100;u="%";q="f";break;case "p":xa=100;u="%";q="r";break;case "b":case "o":case "x":case "X":"#"===
k&&(p="0"+q.toLowerCase());case "c":r=!1;case "d":t=!0;n=0;break;case "s":xa=-1,q="r"}"$"===k&&(p=e[0],u=e[1]);"r"!=q||n||(q="g");if(null!=n)if("g"==q)n=Math.max(1,Math.min(21,n));else if("e"==q||"f"==q)n=Math.max(0,Math.min(20,n));var q=Th.get(q)||Vd,v=f&&m;return function(a){var e=u;if(t&&a%1)return"";var k=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===g?"":g;0>xa?(e=H.formatPrefix(a,n),a=e.scale(a),e=e.symbol+u):a*=xa;a=q(a,n);var w=a.lastIndexOf("."),y;0>w?(w=r?a.lastIndexOf("e"):-1,0>w?(y=a,a=""):(y=a.substring(0,
w),a=a.substring(w))):(y=a.substring(0,w),a=b+a.substring(w+1));!f&&m&&(y=h(y,Infinity));var w=p.length+y.length+a.length+(v?0:k.length),x=w<l?Array(w=l-w+1).join(c):"";v&&(y=h(x+y,x.length?l-a.length:Infinity));k+=p;a=y+a;return("<"===d?k+a+x:">"===d?x+k+a:"^"===d?x.substring(0,w>>=1)+k+a+x.substring(w):k+(v?a:x+a))+e}}}function Vd(a){return a+""}function Bb(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function ub(a,b,c){function d(b){var c=a(b),d=g(c,1);return b-
c<d-b?c:d}function e(c){b(c=a(new dc(c-1)),1);return c}function g(a,c){b(a=new dc(+a),c);return a}function h(a,d,g){a=e(a);var h=[];if(1<g)for(;a<d;)c(a)%g||h.push(new Date(+a)),b(a,1);else for(;a<d;)h.push(new Date(+a)),b(a,1);return h}a.floor=a;a.round=d;a.ceil=e;a.offset=g;a.range=h;var k=a.utc=Nb(a);k.floor=k;k.round=Nb(d);k.ceil=Nb(e);k.offset=Nb(g);k.range=function(a,b,c){try{dc=Bb;var d=new Bb;d._=a;return h(d,b,c)}finally{dc=Date}};return a}function Nb(a){return function(b,c){try{dc=Bb;var d=
new Bb;d._=b;return a(d,c)._}finally{dc=Date}}}function Ad(a){function b(a){function b(b){for(var c=[],e=-1,g=0,h,k;++e<d;)if(37===a.charCodeAt(e)){c.push(a.slice(g,e));null!=(h=xh[g=a.charAt(++e)])&&(g=a.charAt(++e));if(k=y[g])g=k(b,null==h?"e"===g?" ":"0":h);c.push(g);g=e+1}c.push(a.slice(g,e));return c.join("")}var d=a.length;b.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(c(d,a,b,0)!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);b=null!=d.Z&&dc!==Bb;var e=new (b?Bb:dc);
"j"in d?e.setFullYear(d.y,0,d.j):"w"in d&&("W"in d||"U"in d)?(e.setFullYear(d.y,0,1),e.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(e.getDay()+5)%7:d.w+7*d.U-(e.getDay()+6)%7)):e.setFullYear(d.y,d.m,d.d);e.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L);return b?e._:e};b.toString=function(){return a};return b}function c(a,b,c,d){for(var e,g=0,h=b.length,k=c.length;g<h;){if(d>=k)return-1;e=b.charCodeAt(g++);if(37===e){if(e=b.charAt(g++),e=x[e in xh?b.charAt(g++):e],!e||0>(d=e(a,c,d)))return-1}else if(e!=
c.charCodeAt(d++))return-1}return d}var d=a.dateTime,e=a.date,g=a.time,h=a.periods,k=a.days,f=a.shortDays,l=a.months,m=a.shortMonths;b.utc=function(a){function c(a){try{dc=Bb;var b=new dc;b._=a;return d(b)}finally{dc=Date}}var d=b(a);c.parse=function(a){try{dc=Bb;var b=d.parse(a);return b&&b._}finally{dc=Date}};c.toString=d.toString;return c};b.multi=b.utc.multi=Cb;var n=H.map(),q=vb(k),p=rb(k),xa=vb(f),u=rb(f),t=vb(l),r=rb(l),v=vb(m),w=rb(m);h.forEach(function(a,b){n.set(a.toLowerCase(),b)});var y=
{a:function(a){return f[a.getDay()]},A:function(a){return k[a.getDay()]},b:function(a){return m[a.getMonth()]},B:function(a){return l[a.getMonth()]},c:b(d),d:function(a,b){return db(a.getDate(),b,2)},e:function(a,b){return db(a.getDate(),b,2)},H:function(a,b){return db(a.getHours(),b,2)},I:function(a,b){return db(a.getHours()%12||12,b,2)},j:function(a,b){return db(1+da.dayOfYear(a),b,3)},L:function(a,b){return db(a.getMilliseconds(),b,3)},m:function(a,b){return db(a.getMonth()+1,b,2)},M:function(a,
b){return db(a.getMinutes(),b,2)},p:function(a){return h[+(12<=a.getHours())]},S:function(a,b){return db(a.getSeconds(),b,2)},U:function(a,b){return db(da.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return db(da.mondayOfYear(a),b,2)},x:b(e),X:b(g),y:function(a,b){return db(a.getFullYear()%100,b,2)},Y:function(a,b){return db(a.getFullYear()%1E4,b,4)},Z:Zd,"%":function(){return"%"}},x={a:function(a,b,c){xa.lastIndex=0;return(b=xa.exec(b.slice(c)))?(a.w=u.get(b[0].toLowerCase()),
c+b[0].length):-1},A:function(a,b,c){q.lastIndex=0;return(b=q.exec(b.slice(c)))?(a.w=p.get(b[0].toLowerCase()),c+b[0].length):-1},b:function(a,b,c){v.lastIndex=0;return(b=v.exec(b.slice(c)))?(a.m=w.get(b[0].toLowerCase()),c+b[0].length):-1},B:function(a,b,c){t.lastIndex=0;return(b=t.exec(b.slice(c)))?(a.m=r.get(b[0].toLowerCase()),c+b[0].length):-1},c:function(a,b,d){return c(a,y.c.toString(),b,d)},d:Ib,e:Ib,H:Yd,I:Yd,j:bd,L:Ae,m:Bd,M:Qc,p:function(a,b,c){b=n.get(b.slice(c,c+=2).toLowerCase());return null==
b?-1:(a.p=b,c)},S:Kc,U:pc,w:dd,W:Mc,x:function(a,b,d){return c(a,y.x.toString(),b,d)},X:function(a,b,d){return c(a,y.X.toString(),b,d)},y:xd,Y:Ab,Z:sb,"%":Cc};return b}function db(a,b,c){var d=0>a?"-":"";a=(d?-a:a)+"";var e=a.length;return d+(e<c?Array(c-e+1).join(b)+a:a)}function vb(a){return new RegExp("^(?:"+a.map(H.requote).join("|")+")","i")}function rb(a){for(var b=new m,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function dd(a,b,c){jb.lastIndex=0;return(b=jb.exec(b.slice(c,
c+1)))?(a.w=+b[0],c+b[0].length):-1}function pc(a,b,c){jb.lastIndex=0;return(b=jb.exec(b.slice(c)))?(a.U=+b[0],c+b[0].length):-1}function Mc(a,b,c){jb.lastIndex=0;return(b=jb.exec(b.slice(c)))?(a.W=+b[0],c+b[0].length):-1}function Ab(a,b,c){jb.lastIndex=0;return(b=jb.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function xd(a,b,c){jb.lastIndex=0;if(b=jb.exec(b.slice(c,c+2))){var d=+b[0];a=(a.y=d+(68<d?1900:2E3),c+b[0].length)}else a=-1;return a}function sb(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,
c+5))?(a.Z=-b,c+5):-1}function Bd(a,b,c){jb.lastIndex=0;return(b=jb.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function Ib(a,b,c){jb.lastIndex=0;return(b=jb.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function bd(a,b,c){jb.lastIndex=0;return(b=jb.exec(b.slice(c,c+3)))?(a.j=+b[0],c+b[0].length):-1}function Yd(a,b,c){jb.lastIndex=0;return(b=jb.exec(b.slice(c,c+2)))?(a.H=+b[0],c+b[0].length):-1}function Qc(a,b,c){jb.lastIndex=0;return(b=jb.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):
-1}function Kc(a,b,c){jb.lastIndex=0;return(b=jb.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function Ae(a,b,c){jb.lastIndex=0;return(b=jb.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function Zd(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var c=ia(b)/60|0,b=ia(b)%60;return a+db(c,"0",2)+db(b,"0",2)}function Cc(a,b,c){Ug.lastIndex=0;return(a=Ug.exec(b.slice(c,c+1)))?c+a[0].length:-1}function Cb(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=
a[c];!d[1](b);)d=a[++c];return d[0](b)}}function Rc(){}function gd(a,b,c){var d=c.s=a+b,e=d-a;c.t=a-(d-e)+(b-e)}function hd(a,b){if(a&&Tg.hasOwnProperty(a.type))Tg[a.type](a,b)}function Ce(a,b,c){var d=-1;c=a.length-c;var e;for(b.lineStart();++d<c;)e=a[d],b.point(e[0],e[1],e[2]);b.lineEnd()}function Ob(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)Ce(a[c],b,1);b.polygonEnd()}function Ac(){function a(a,b){a*=qa;b=b*qa/2+ma/4;var c=a-d,h=0<=c?1:-1,c=h*c,k=Math.cos(b);b=Math.sin(b);var f=g*b;
Rf.add(Math.atan2(f*h*Math.sin(c),e*k+f*Math.cos(c)));d=a;e=k;g=b}var b,c,d,e,g;cd.point=function(h,k){cd.point=a;d=(b=h)*qa;e=Math.cos(k=(c=k)*qa/2+ma/4);g=Math.sin(k)};cd.lineEnd=function(){a(b,c)}}function ab(a){var b=a[0];a=a[1];var c=Math.cos(a);return[c*Math.cos(b),c*Math.sin(b),Math.sin(a)]}function Lb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function nb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Ua(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function lb(a,
b){return[a[0]*b,a[1]*b,a[2]*b]}function eb(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function Dc(a){return[Math.atan2(a[1],a[0]),La(a[2])]}function sc(a,b){return 1E-6>ia(a[0]-b[0])&&1E-6>ia(a[1]-b[1])}function mb(a,b){a*=qa;var c=Math.cos(b*=qa);Db(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function Db(a,b,c){++Mg;Tf+=(a-Tf)/Mg;Uf+=(b-Uf)/Mg;Ye+=(c-Ye)/Mg}function rc(){function a(a,e){a*=qa;var g=Math.cos(e*=qa),h=g*Math.cos(a);a=g*Math.sin(a);e=Math.sin(e);var k=Math.atan2(Math.sqrt((k=
c*e-d*a)*k+(k=d*h-b*e)*k+(k=b*a-c*h)*k),b*h+c*a+d*e);Xg+=k;xf+=k*(b+(b=h));yf+=k*(c+(c=a));ye+=k*(d+(d=e));Db(b,c,d)}var b,c,d;ce.point=function(e,g){e*=qa;var h=Math.cos(g*=qa);b=h*Math.cos(e);c=h*Math.sin(e);d=Math.sin(g);ce.point=a;Db(b,c,d)}}function kb(){ce.point=mb}function Cd(){function a(a,b){a*=qa;var c=Math.cos(b*=qa),h=c*Math.cos(a);a=c*Math.sin(a);b=Math.sin(b);var c=e*b-g*a,k=g*h-d*b,f=d*a-e*h,l=Math.sqrt(c*c+k*k+f*f),m=d*h+e*a+g*b,n=l&&-$a(m)/l,l=Math.atan2(l,m);qg+=n*c;rg+=n*k;Ef+=
n*f;Xg+=l;xf+=l*(d+(d=h));yf+=l*(e+(e=a));ye+=l*(g+(g=b));Db(d,e,g)}var b,c,d,e,g;ce.point=function(h,k){b=h;c=k;ce.point=a;h*=qa;var f=Math.cos(k*=qa);d=f*Math.cos(h);e=f*Math.sin(h);g=Math.sin(k);Db(d,e,g)};ce.lineEnd=function(){a(b,c);ce.lineEnd=kb;ce.point=mb}}function Sd(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])});return c}function zc(){return!0}function Ed(a,b,c,d,e){var g=[],h=[];a.forEach(function(a){if(!(0>=
(b=a.length-1))){var b,c=a[0],d=a[b];if(sc(c,d)){e.lineStart();for(d=0;d<b;++d)e.point((c=a[d])[0],c[1]);e.lineEnd()}else b=new xb(c,a,null,!0),c=new xb(c,null,b,!1),b.o=c,g.push(b),h.push(c),b=new xb(d,a,null,!1),c=new xb(d,null,b,!0),b.o=c,g.push(b),h.push(c)}});h.sort(b);Qb(g);Qb(h);if(g.length){a=0;b=c;for(c=h.length;a<c;++a)h[a].e=b=!b;b=g[0];for(var k,f;;){for(var l=b,m=!0;l.v;)if((l=l.n)===b)return;k=l.z;e.lineStart();do{l.v=l.o.v=!0;if(l.e){if(m)for(a=0,c=k.length;a<c;++a)e.point((f=k[a])[0],
f[1]);else d(l.x,l.n.x,1,e);l=l.n}else{if(m)for(k=l.p.z,a=k.length-1;0<=a;--a)e.point((f=k[a])[0],f[1]);else d(l.x,l.p.x,-1,e);l=l.p}l=l.o;k=l.z;m=!m}while(!l.v);e.lineEnd()}}}function Qb(a){if(b=a.length){for(var b,c=0,d=a[0],e;++c<b;)d.n=e=a[c],e.p=d,d=e;d.n=e=a[0];e.p=d}}function xb(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=!1;this.n=this.p=null}function Ee(a,b,c,d){return function(e,g){function h(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&g.point(b,c)}function k(a,b){a=e(a,b);p.point(a[0],
a[1])}function f(){u.point=k;p.lineStart()}function l(){u.point=h;p.lineEnd()}function m(a,b){x.push([a,b]);a=e(a,b);v.point(a[0],a[1])}function n(){v.lineStart();x=[]}function q(){m(x[0][0],x[0][1]);v.lineEnd();var a=v.clean(),b=r.buffer(),c=b.length;x.pop();y.push(x);x=null;if(c)if(a&1){var a=b[0],c=a.length-1,b=-1,d;if(0<c){w||(g.polygonStart(),w=!0);for(g.lineStart();++b<c;)g.point((d=a[b])[0],d[1]);g.lineEnd()}}else 1<c&&a&2&&b.push(b.pop().concat(b.shift())),t.push(b.filter(Xf))}var p=b(g),
xa=e.invert(d[0],d[1]),u={point:h,lineStart:f,lineEnd:l,polygonStart:function(){u.point=m;u.lineStart=n;u.lineEnd=q;t=[];y=[]},polygonEnd:function(){u.point=h;u.lineStart=f;u.lineEnd=l;t=H.merge(t);var a,b=xa;a=y;var d=b[0],e=b[1],k=[Math.sin(d),-Math.cos(d),0],m=0,n=0;Rf.reset();for(var q=0,p=a.length;q<p;++q){var r=a[q],v=r.length;if(v)for(var x=r[0],D=x[0],b=x[1]/2+ma/4,B=Math.sin(b),Zc=Math.cos(b),z=1;;){z===v&&(z=0);var b=r[z],Ca=b[0],A=b[1]/2+ma/4,Aa=Math.sin(A),A=Math.cos(A),G=Ca-D,mh=0<=G?
1:-1,E=mh*G,Za=E>ma,B=B*Aa;Rf.add(Math.atan2(B*mh*Math.sin(E),Zc*A+B*Math.cos(E)));m+=Za?G+mh*Sb:G;Za^D>=d^Ca>=d&&(x=nb(ab(x),ab(b)),eb(x),D=nb(k,x),eb(D),D=(Za^0<=G?-1:1)*La(D[2]),e>D||e===D&&(x[0]||x[1]))&&(n+=Za^0<=G?1:-1);if(!z++)break;D=Ca;B=Aa;Zc=A;x=b}}a=(-1E-6>m||1E-6>m&&0>Rf)^n&1;t.length?(w||(g.polygonStart(),w=!0),Ed(t,Je,a,c,g)):a&&(w||(g.polygonStart(),w=!0),g.lineStart(),c(null,null,1,g),g.lineEnd());w&&(g.polygonEnd(),w=!1);t=y=null},sphere:function(){g.polygonStart();g.lineStart();
c(null,null,1,g);g.lineEnd();g.polygonEnd()}},t,r=Fd(),v=b(r),w=!1,y,x;return u}}function Xf(a){return 1<a.length}function Fd(){var a=[],b;return{lineStart:function(){a.push(b=[])},point:function(a,c){b.push([a,c])},lineEnd:B,buffer:function(){var c=a;a=[];b=null;return c},rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))}}}function Je(a,b){return(0>(a=a.x)[0]?a[1]-hb-1E-6:hb-a[1])-(0>(b=b.x)[0]?b[1]-hb-1E-6:hb-b[1])}function Fe(a){function b(a,b){return Math.cos(a)*Math.cos(b)>e}function c(a,
b,c){var d=ab(a),g=ab(b),h=[1,0,0],g=nb(d,g),k=Lb(g,g),d=g[0],f=k-d*d;if(!f)return!c&&a;k=e*k/f;f=-e*d/f;d=nb(h,g);h=lb(h,k);g=lb(g,f);Ua(h,g);g=Lb(h,d);k=Lb(d,d);f=g*g-k*(Lb(h,h)-1);if(!(0>f)){var l=Math.sqrt(f),f=lb(d,(-g-l)/k);Ua(f,h);f=Dc(f);if(!c)return f;c=a[0];var m=b[0];a=a[1];b=b[1];var n;m<c&&(n=c,c=m,m=n);var q=m-c,p=1E-6>ia(q-ma);!p&&b<a&&(n=a,a=b,b=n);if(p||1E-6>q?p?0<a+b^f[1]<(1E-6>ia(f[0]-c)?a:b):a<=f[1]&&f[1]<=b:q>ma^(c<=f[0]&&f[0]<=m))return b=lb(d,(-g+l)/k),Ua(b,h),[f,Dc(b)]}}function d(b,
c){var d=g?a:ma-a,e=0;b<-d?e|=1:b>d&&(e|=2);c<-d?e|=4:c>d&&(e|=8);return e}var e=Math.cos(a),g=0<e,h=1E-6<ia(e),k=ff(a,6*qa);return Ee(b,function(a){var e,k,f,l,m;return{lineStart:function(){l=f=!1;m=1},point:function(n,q){var p=[n,q],xa=b(n,q);q=g?xa?0:d(n,q):xa?d(n+(0>n?ma:-ma),q):0;!e&&(l=f=xa)&&a.lineStart();xa!==f&&(n=c(e,p),sc(e,n)||sc(p,n))&&(p[0]+=1E-6,p[1]+=1E-6,xa=b(p[0],p[1]));if(xa!==f)m=0,xa?(a.lineStart(),n=c(p,e),a.point(n[0],n[1])):(n=c(e,p),a.point(n[0],n[1]),a.lineEnd()),e=n;else if(h&&
e&&g^xa){var u;q&k||!(u=c(p,e,!0))||(m=0,g?(a.lineStart(),a.point(u[0][0],u[0][1]),a.point(u[1][0],u[1][1]),a.lineEnd()):(a.point(u[1][0],u[1][1]),a.lineEnd(),a.lineStart(),a.point(u[0][0],u[0][1])))}!xa||e&&sc(e,p)||a.point(p[0],p[1]);e=p;f=xa;k=q},lineEnd:function(){f&&a.lineEnd();e=null},clean:function(){return m|(l&&f)<<1}}},k,g?[0,-a]:[-ma,a-ma])}function $e(a,b,c,d){return function(e){var g=e.a,h=e.b,k=g.x,g=g.y,f=0,l=1,m=h.x-k,h=h.y-g,n;n=a-k;if(m||!(0<n)){n/=m;if(0>m){if(n<f)return;n<l&&(l=
n)}else if(0<m){if(n>l)return;n>f&&(f=n)}n=c-k;if(m||!(0>n)){n/=m;if(0>m){if(n>l)return;n>f&&(f=n)}else if(0<m){if(n<f)return;n<l&&(l=n)}n=b-g;if(h||!(0<n)){n/=h;if(0>h){if(n<f)return;n<l&&(l=n)}else if(0<h){if(n>l)return;n>f&&(f=n)}n=d-g;if(h||!(0>n)){n/=h;if(0>h){if(n>l)return;n>f&&(f=n)}else if(0<h){if(n<f)return;n<l&&(l=n)}0<f&&(e.a={x:k+f*m,y:g+f*h});1>l&&(e.b={x:k+l*m,y:g+l*h});return e}}}}}}function kd(a,b,c,d){function e(d,e){return 1E-6>ia(d[0]-a)?0<e?0:3:1E-6>ia(d[0]-c)?0<e?2:1:1E-6>ia(d[1]-
b)?0<e?1:0:0<e?3:2}function g(a,b){return h(a.x,b.x)}function h(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(k){function f(g,k,f,l){var m=0,n=0;if(null==g||(m=e(g,f))!==(n=e(k,f))||0>h(g,k)^0<f){do l.point(0===m||3===m?a:c,1<m?d:b);while((m=(m+f+4)%4)!==n)}else l.point(k[0],k[1])}function l(e,g){a<=e&&e<=c&&b<=g&&g<=d&&k.point(e,g)}function m(e,g){e=Math.max(-1E9,Math.min(1E9,e));g=Math.max(-1E9,Math.min(1E9,g));var h=a<=e&&
e<=c&&b<=g&&g<=d;u&&t.push([e,g]);if(z)v=e,w=g,y=h,z=!1,h&&(k.lineStart(),k.point(e,g));else if(h&&B)k.point(e,g);else{var f={a:{x:x,y:D},b:{x:e,y:g}};p(f)?(B||(k.lineStart(),k.point(f.a.x,f.a.y)),k.point(f.b.x,f.b.y),h||k.lineEnd(),Zc=!1):h&&(k.lineStart(),k.point(e,g),Zc=!1)}x=e;D=g;B=h}var n=k,q=Fd(),p=$e(a,b,c,d),xa,u,t,r={point:l,lineStart:function(){r.point=m;u&&u.push(t=[]);z=!0;B=!1;x=D=NaN},lineEnd:function(){xa&&(m(v,w),y&&B&&q.rejoin(),xa.push(q.buffer()));r.point=l;B&&k.lineEnd()},polygonStart:function(){k=
q;xa=[];u=[];Zc=!0},polygonEnd:function(){k=n;xa=H.merge(xa);var b;b=[a,d];for(var c=0,e=u.length,h=b[1],l=0;l<e;++l)for(var m=1,q=u[l],p=q.length,r=q[0],v;m<p;++m)v=q[m],r[1]<=h?v[1]>h&&0<ua(r,v,b)&&++c:v[1]<=h&&0>ua(r,v,b)&&--c,r=v;b=0!==c;c=Zc&&b;e=xa.length;if(c||e)k.polygonStart(),c&&(k.lineStart(),f(null,null,1,k),k.lineEnd()),e&&Ed(xa,g,b,f,k),k.polygonEnd();xa=u=t=null}},v,w,y,x,D,B,z,Zc;return r}}function Lc(a){var b=0,c=ma/3,d=ae(a);a=d(b,c);a.parallels=function(a){return arguments.length?
d(b=a[0]*ma/180,c=a[1]*ma/180):[b/ma*180,c/ma*180]};return a}function Ub(a,b){function c(a,b){b=Math.sqrt(e-2*d*Math.sin(b))/d;return[b*Math.sin(a*=d),g-b*Math.cos(a)]}a=Math.sin(a);var d=(a+Math.sin(b))/2,e=1+a*(2*d-a),g=Math.sqrt(e)/d;c.invert=function(a,b){b=g-b;return[Math.atan2(a,b)/d,La((e-(a*a+b*b)*d*d)/(2*d))]};return c}function Ge(){function a(a,b){nh+=e*a-d*b;d=a;e=b}var b,c,d,e;Pf.point=function(g,h){Pf.point=a;b=d=g;c=e=h};Pf.lineEnd=function(){a(b,c)}}function ld(){function a(a,b){h.push("M",
a,",",b,g)}function b(a,b){h.push("M",a,",",b);k.point=c}function c(a,b){h.push("L",a,",",b)}function d(){k.point=a}function e(){h.push("Z")}var g=Le(4.5),h=[],k={point:a,lineStart:function(){k.point=b},lineEnd:d,polygonStart:function(){k.lineEnd=e},polygonEnd:function(){k.lineEnd=d;k.point=a},pointRadius:function(a){g=Le(a);return k},result:function(){if(h.length){var a=h.join("");h=[];return a}}};return k}function Le(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}
function bc(a,b){Tf+=a;Uf+=b;++Ye}function Me(){function a(a,d){var e=a-b,g=d-c,e=Math.sqrt(e*e+g*g);xf+=e*(b+a)/2;yf+=e*(c+d)/2;ye+=e;bc(b=a,c=d)}var b,c;te.point=function(d,e){te.point=a;bc(b=d,c=e)}}function cf(){te.point=bc}function Aa(){function a(a,b){var c=a-d,g=b-e,c=Math.sqrt(c*c+g*g);xf+=c*(d+a)/2;yf+=c*(e+b)/2;ye+=c;c=e*a-d*b;qg+=c*(d+a);rg+=c*(e+b);Ef+=3*c;bc(d=a,e=b)}var b,c,d,e;te.point=function(g,h){te.point=a;bc(b=d=g,c=e=h)};te.lineEnd=function(){a(b,c)}}function sg(a){function b(b,
c){a.moveTo(b+h,c);a.arc(b,c,h,0,Sb)}function c(b,c){a.moveTo(b,c);k.point=d}function d(b,c){a.lineTo(b,c)}function e(){k.point=b}function g(){a.closePath()}var h=4.5,k={point:b,lineStart:function(){k.point=c},lineEnd:e,polygonStart:function(){k.lineEnd=g},polygonEnd:function(){k.lineEnd=e;k.point=b},pointRadius:function(a){h=a;return k},result:B};return k}function Df(a){function b(a){return(k?d:c)(a)}function c(b){return We(b,function(c,d){c=a(c,d);b.point(c[0],c[1])})}function d(b){function c(c,
d){c=a(c,d);b.point(c[0],c[1])}function d(){v=NaN;B.point=g;b.lineStart()}function g(c,d){var g=ab([c,d]);d=a(c,d);e(v,w,r,y,x,D,v=d[0],w=d[1],r=c,y=g[0],x=g[1],D=g[2],k,b);b.point(v,w)}function h(){B.point=c;b.lineEnd()}function f(){d();B.point=l;B.lineEnd=m}function l(a,b){g(n=a,b);q=v;p=w;u=y;xa=x;t=D;B.point=g}function m(){e(v,w,r,y,x,D,q,p,n,u,xa,t,k,b);B.lineEnd=h;h()}var n,q,p,u,xa,t,r,v,w,y,x,D,B={point:c,lineStart:d,lineEnd:h,polygonStart:function(){b.polygonStart();B.lineStart=f},polygonEnd:function(){b.polygonEnd();
B.lineStart=d}};return B}function e(b,c,d,k,f,l,m,n,q,p,u,xa,t,r){var v=m-b,w=n-c,y=v*v+w*w;if(y>4*g&&t--){var x=k+p,D=f+u,B=l+xa,z=Math.sqrt(x*x+D*D+B*B),Zc=Math.asin(B/=z),Ca=1E-6>ia(ia(B)-1)||1E-6>ia(d-q)?(d+q)/2:Math.atan2(D,x),A=a(Ca,Zc),Zc=A[0],A=A[1],Aa=Zc-b,G=A-c,E=w*Aa-v*G;if(E*E/y>g||.3<ia((v*Aa+w*G)/y-.5)||k*p+f*u+l*xa<h)e(b,c,d,k,f,l,Zc,A,Ca,x/=z,D/=z,B,t,r),r.point(Zc,A),e(Zc,A,Ca,x,D,B,m,n,q,p,u,xa,t,r)}}var g=.5,h=Math.cos(30*qa),k=16;b.precision=function(a){if(!arguments.length)return Math.sqrt(g);
k=0<(g=a*a)&&16;return b};return b}function be(a){var b=Df(function(b,c){return a([b*Qa,c*Qa])});return function(a){return Tc(b(a))}}function Yf(a){this.stream=a}function We(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function Tb(a){return ae(function(){return a})()}function ae(a){function b(a){a=f(a[0]*qa,a[1]*qa);return[a[0]*m+v,w-a[1]*m]}function c(a){return(a=
f.invert((a[0]-v)/m,(w-a[1])/m))&&[a[0]*Qa,a[1]*Qa]}function d(){f=Sd(k=Ff(xa,t,r),h);var a=h(p,u);v=n-a[0]*m;w=q+a[1]*m;return e()}function e(){z&&(z.valid=!1,z=null);return b}var h,k,f,l=Df(function(a,b){a=h(a,b);return[a[0]*m+v,w-a[1]*m]}),m=150,n=480,q=250,p=0,u=0,xa=0,t=0,r=0,v,w,y=zh,x=g,D=null,B=null,z;b.stream=function(a){z&&(z.valid=!1);z=Tc(y(k,l(x(a))));z.valid=!0;return z};b.clipAngle=function(a){if(!arguments.length)return D;y=null==a?(D=a,zh):Fe((D=+a)*qa);return e()};b.clipExtent=function(a){if(!arguments.length)return B;
x=(B=a)?kd(a[0][0],a[0][1],a[1][0],a[1][1]):g;return e()};b.scale=function(a){if(!arguments.length)return m;m=+a;return d()};b.translate=function(a){if(!arguments.length)return[n,q];n=+a[0];q=+a[1];return d()};b.center=function(a){if(!arguments.length)return[p*Qa,u*Qa];p=a[0]%360*qa;u=a[1]%360*qa;return d()};b.rotate=function(a){if(!arguments.length)return[xa*Qa,t*Qa,r*Qa];xa=a[0]%360*qa;t=a[1]%360*qa;r=2<a.length?a[2]%360*qa:0;return d()};H.rebind(b,l,"precision");return function(){h=a.apply(this,
arguments);b.invert=h.invert&&c;return d()}}function Tc(a){return We(a,function(b,c){a.point(b*qa,c*qa)})}function fe(a,b){return[a,b]}function bg(a,b){return[a>ma?a-Sb:a<-ma?a+Sb:a,b]}function Ff(a,b,c){return a?b||c?Sd(Gd(a),Uc(b,c)):Gd(a):b||c?Uc(b,c):bg}function Oa(a){return function(b,c){return b+=a,[b>ma?b-Sb:b<-ma?b+Sb:b,c]}}function Gd(a){var b=Oa(a);b.invert=Oa(-a);return b}function Uc(a,b){function c(a,b){var c=Math.cos(b),k=Math.cos(a)*c;a=Math.sin(a)*c;b=Math.sin(b);c=b*d+k*e;return[Math.atan2(a*
g-c*h,k*d-b*e),La(c*g+a*h)]}var d=Math.cos(a),e=Math.sin(a),g=Math.cos(b),h=Math.sin(b);c.invert=function(a,b){var c=Math.cos(b),k=Math.cos(a)*c;a=Math.sin(a)*c;b=Math.sin(b);c=b*g-a*h;return[Math.atan2(a*g+b*h,k*d+c*e),La(c*d-k*e)]};return c}function ff(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,g,h,k){var f=h*b;if(null!=e){if(e=Fc(c,e),g=Fc(c,g),0<h?e<g:e>g)e+=h*Sb}else e=a+h*Sb,g=a-.5*f;for(var l;0<h?e>g:e<g;e-=f)k.point((l=Dc([c,-d*Math.cos(e),-d*Math.sin(e)]))[0],l[1])}}function Fc(a,
b){b=ab(b);b[0]-=a;eb(b);a=$a(-b[1]);return((0>-b[2]?-a:a)+2*Math.PI-1E-6)%(2*Math.PI)}function tg(a,b,c){var d=H.range(a,b-1E-6,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function ee(a,b,c){var d=H.range(a,b-1E-6,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function De(a){return a.source}function Jd(a){return a.target}function bb(a,b,c,d){var e=Math.cos(b),g=Math.sin(b),h=Math.cos(d),k=Math.sin(d),f=e*Math.cos(a),l=e*Math.sin(a),m=h*Math.cos(c),
n=h*Math.sin(c),q=2*Math.asin(Math.sqrt(fa(d-b)+e*h*fa(c-a))),p=1/Math.sin(q);c=q?function(a){var b=Math.sin(a*=q)*p;a=Math.sin(q-a)*p;var c=a*f+b*m,d=a*l+b*n;return[Math.atan2(d,c)*Qa,Math.atan2(a*g+b*k,Math.sqrt(c*c+d*d))*Qa]}:function(){return[a*Qa,b*Qa]};c.distance=q;return c}function Rb(a,b){function c(b,c){var d=Math.cos(c),e=a(Math.cos(b)*d);return[e*d*Math.sin(b),e*Math.sin(c)]}c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),g=Math.sin(e);return[Math.atan2(a*g,d*Math.cos(e)),Math.asin(d&&
c*g/d)]};return c}function Ga(a,b){function c(a,b){0<g?b<-hb+1E-6&&(b=-hb+1E-6):b>hb-1E-6&&(b=hb-1E-6);b=g/Math.pow(Math.tan(ma/4+b/2),e);return[b*Math.sin(e*a),g-b*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(Math.tan(ma/4+b/2)/Math.tan(ma/4+a/2)),g=d*Math.pow(Math.tan(ma/4+a/2),e)/e;if(!e)return Hc;c.invert=function(a,b){b=g-b;return[Math.atan2(a,b)/e,2*Math.atan(Math.pow(g/((0<e?1:0>e?-1:0)*Math.sqrt(a*a+b*b)),1/e))-hb]};return c}function Gc(a,b){function c(a,
b){b=g-b;return[b*Math.sin(e*a),g-b*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),g=d/e+a;if(1E-6>ia(e))return fe;c.invert=function(a,b){b=g-b;return[Math.atan2(a,b)/e,g-(0<e?1:0>e?-1:0)*Math.sqrt(a*a+b*b)]};return c}function Hc(a,b){return[a,Math.log(Math.tan(ma/4+b/2))]}function lc(a){var b=Tb(a),c=b.scale,d=b.translate,e=b.clipExtent,g;b.scale=function(){var a=c.apply(b,arguments);return a===b?g?b.clipExtent(null):b:a};b.translate=function(){var a=d.apply(b,arguments);
return a===b?g?b.clipExtent(null):b:a};b.clipExtent=function(a){var h=e.apply(b,arguments);if(h===b){if(g=null==a){var k=ma*c(),f=d();e([[f[0]-k,f[1]-k],[f[0]+k,f[1]+k]])}}else g&&(h=null);return h};return b.clipExtent(null)}function gf(a,b){return[Math.log(Math.tan(ma/4+b/2)),-a]}function ta(a){return a[0]}function Oe(a){return a[1]}function Pe(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;1<d&&0>=ua(a[c[d-2]],a[c[d-1]],a[e]);)--d;c[d++]=e}return c.slice(0,d)}function Kd(a,b){return a[0]-b[0]||
a[1]-b[1]}function mc(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Ic(a,b,c,d){var e=a[0],g=c[0],h=b[0]-e,k=d[0]-g;a=a[1];c=c[1];b=b[1]-a;d=d[1]-c;g=(k*(a-c)-d*(e-g))/(d*h-k*b);return[e+g*h,a+g*b]}function eg(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function hf(){Ec(this);this.edge=this.site=this.circle=null}function je(a){var b=Ah.pop()||new hf;b.site=a;return b}function Ne(a){Ld(a);Ig.remove(a);Ah.push(a);Ec(a)}function jf(a,b){var c=a.site,d=c.x,e=c.y,
g=e-b;if(!g)return d;a=a.P;if(!a)return-Infinity;c=a.site;a=c.x;c=c.y;b=c-b;if(!b)return a;var h=a-d,k=1/g-1/b,f=h/b;return k?(-f+Math.sqrt(f*f-2*k*(h*h/(-2*b)-c+b/2+e-g/2)))/k+d:(d+a)/2}function md(a){this.site=a;this.edges=[]}function cg(a,b){return b.angle-a.angle}function fg(){Ec(this);this.x=this.y=this.arc=this.site=this.cy=null}function od(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,b=a.site,e=c.site;if(d!==e){var c=b.x,g=b.y,h=d.x-c,k=d.y-g,d=e.x-c,e=e.y-g,f=2*(h*e-k*d);if(!(-1E-12<=f)){var l=
h*h+k*k,m=d*d+e*e,k=(e*l-k*m)/f,h=(h*m-d*l)/f,e=h+g,g=Bh.pop()||new fg;g.arc=a;g.site=b;g.x=k+c;g.y=e+Math.sqrt(k*k+h*h);g.cy=e;a.circle=g;a=null;for(b=Rg._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x)if(b.L)b=b.L;else{a=b.P;break}else if(b.R)b=b.R;else{a=b;break}Rg.insert(a,g);a||(oh=g)}}}}function Ld(a){var b=a.circle;b&&(b.P||(oh=b.N),Rg.remove(b),Bh.push(b),Ec(b),a.circle=null)}function wd(a,b){var c=a.b;if(c)return!0;var d=a.a,c=b[0][0],e=b[1][0],g=b[0][1];b=b[1][1];var h=a.l,k=a.r,f=h.x,h=h.y,l=k.x,
k=k.y,m=(f+l)/2,n;if(k===h){if(m<c||m>=e)return;if(f>l){if(!d)d={x:m,y:g};else if(d.y>=b)return;c={x:m,y:b}}else{if(!d)d={x:m,y:b};else if(d.y<g)return;c={x:m,y:g}}}else if(n=(f-l)/(k-h),m=(h+k)/2-n*m,-1>n||1<n)if(f>l){if(!d)d={x:(g-m)/n,y:g};else if(d.y>=b)return;c={x:(b-m)/n,y:b}}else{if(!d)d={x:(b-m)/n,y:b};else if(d.y<g)return;c={x:(g-m)/n,y:g}}else if(h<k){if(!d)d={x:c,y:n*c+m};else if(d.x>=e)return;c={x:e,y:n*e+m}}else{if(!d)d={x:e,y:n*e+m};else if(d.x<c)return;c={x:c,y:n*c+m}}a.a=d;a.b=c;return!0}
function Hf(a,b){this.l=a;this.r=b;this.a=this.b=null}function Gb(a,b,c,d){var e=new Hf(a,b);Jg.push(e);c&&Td(e,a,b,c);d&&Td(e,b,a,d);lg[a.i].edges.push(new nc(e,a,b));lg[b.i].edges.push(new nc(e,b,a));return e}function tf(a,b,c){a=new Hf(a,null);a.a=b;a.b=c;Jg.push(a);return a}function Td(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function nc(a,b,c){var d=a.a,e=a.b;this.edge=a;this.site=b;this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,
e.y-d.y)}function ke(){this._=null}function Ec(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function Qe(a,b){var c=b.R,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.R=c.L;b.R&&(b.R.U=b);c.L=b}function le(a,b){var c=b.L,d=b.U;d?d.L===b?d.L=c:d.R=c:a._=c;c.U=d;b.U=c;b.L=c.R;b.L&&(b.L.U=b);c.R=b}function Jf(a){for(;a.L;)a=a.L;return a}function me(a,b){var c=a.sort(Sa).pop(),d,e,g;Jg=[];lg=Array(a.length);Ig=new ke;for(Rg=new ke;;)if(g=oh,c&&(!g||c.y<g.y||c.y===g.y&&c.x<g.x)){if(c.x!==d||c.y!==e){lg[c.i]=new md(c);
d=c;var h=d.x,k=d.y;g=e=void 0;for(var f,l,m=Ig._;m;)if(f=jf(m,k)-h,1E-6<f)m=m.L;else{var n=m;l=k;var q=n.N;q?l=jf(q,l):(n=n.site,l=n.y===l?n.x:Infinity);l=h-l;if(1E-6<l){if(!m.R){e=m;break}m=m.R}else{-1E-6<f?(e=m.P,g=m):-1E-6<l?(e=m,g=m.N):e=g=m;break}}h=je(d);Ig.insert(e,h);if(e||g)if(e===g)Ld(e),g=je(e.site),Ig.insert(h,g),h.edge=g.edge=Gb(e.site,h.site),od(e),od(g);else if(g){Ld(e);Ld(g);k=e.site;m=k.x;l=k.y;n=d.x-m;q=d.y-l;f=g.site;var p=f.x-m,u=f.y-l,t=2*(n*u-q*p),xa=n*n+q*q,r=p*p+u*u,m={x:(u*
xa-q*r)/t+m,y:(n*r-p*xa)/t+l};Td(g.edge,k,f,m);h.edge=Gb(k,d,null,m);g.edge=Gb(d,f,null,m);od(e);od(g)}else h.edge=Gb(e.site,h.site);d=c.x;e=c.y}c=a.pop()}else if(g){f=g.arc;g=f.circle;k=g.x;m=g.cy;g={x:k,y:m};n=f.P;l=f.N;h=[f];Ne(f);for(f=n;f.circle&&1E-6>ia(k-f.circle.x)&&1E-6>ia(m-f.circle.cy);)n=f.P,h.unshift(f),Ne(f),f=n;h.unshift(f);Ld(f);for(n=l;n.circle&&1E-6>ia(k-n.circle.x)&&1E-6>ia(m-n.circle.cy);)l=n.N,h.push(n),Ne(n),n=l;h.push(n);Ld(n);k=h.length;for(m=1;m<k;++m)n=h[m],f=h[m-1],Td(n.edge,
f.site,n.site,g);f=h[0];n=h[k-1];n.edge=Gb(f.site,n.site,null,g);od(f);od(n)}else break;if(b){a=Jg;c=$e(b[0][0],b[0][1],b[1][0],b[1][1]);for(d=a.length;d--;)if(e=a[d],!wd(e,b)||!c(e)||1E-6>ia(e.a.x-e.b.x)&&1E-6>ia(e.a.y-e.b.y))e.a=e.b=null,a.splice(d,1);a=b[0][0];c=b[1][0];d=b[0][1];b=b[1][1];k=lg;for(f=k.length;f--;)if((m=k[f])&&m.prepare())for(n=m.edges,q=n.length,l=0;l<q;)if(p=n[l].end(),g=p.x,h=p.y,u=n[++l%q].start(),e=u.x,u=u.y,1E-6<ia(g-e)||1E-6<ia(h-u))n.splice(l,0,new nc(tf(m.site,p,1E-6>
ia(g-a)&&1E-6<b-h?{x:a,y:1E-6>ia(e-a)?u:b}:1E-6>ia(h-b)&&1E-6<c-g?{x:1E-6>ia(u-b)?e:c,y:b}:1E-6>ia(g-c)&&1E-6<h-d?{x:c,y:1E-6>ia(e-c)?u:d}:1E-6>ia(h-d)&&1E-6<g-a?{x:1E-6>ia(u-d)?e:a,y:d}:null),m.site,null)),++q}b={cells:lg,edges:Jg};Ig=Rg=Jg=lg=null;return b}function Sa(a,b){return b.y-a.y||b.x-a.x}function gg(a){return a.x}function Pc(a){return a.y}function Kf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ed(a,b,c,d,e,g){if(!a(b,c,d,e,g)){var h=.5*(c+e),k=.5*(d+g);b=b.nodes;b[0]&&
ed(a,b[0],c,d,h,k);b[1]&&ed(a,b[1],h,d,e,k);b[2]&&ed(a,b[2],c,k,h,g);b[3]&&ed(a,b[3],h,k,e,g)}}function Md(a,b,c,d,e,g,h){var k=Infinity,f;(function Zg(a,l,m,n,q){if(!(l>g||m>h||n<d||q<e)){if(p=a.point){var p,u=b-a.x,t=c-a.y,u=u*u+t*t;u<k&&(u=Math.sqrt(k=u),d=b-u,e=c-u,g=b+u,h=c+u,f=p)}p=a.nodes;for(var u=.5*(l+n),t=.5*(m+q),xa=(c>=t)<<1|b>=u,r=xa+4;xa<r;++xa)if(a=p[xa&3])switch(xa&3){case 0:Zg(a,l,m,u,t);break;case 1:Zg(a,u,m,n,t);break;case 2:Zg(a,l,t,u,q);break;case 3:Zg(a,u,t,n,q)}}})(a,d,e,g,
h);return f}function Wa(a,b){a=H.rgb(a);b=H.rgb(b);var c=a.r,d=a.g,e=a.b,g=b.r-c,h=b.g-d,k=b.b-e;return function(a){return"#"+ib(Math.round(c+g*a))+ib(Math.round(d+h*a))+ib(Math.round(e+k*a))}}function hg(a,b){var c={},d={},e;for(e in a)e in b?c[e]=pd(a[e],b[e]):d[e]=a[e];for(e in b)e in a||(d[e]=b[e]);return function(a){for(e in c)d[e]=c[e](a);return d}}function Wc(a,b){a=+a;b=+b;return function(c){return a*(1-c)+b*c}}function lf(a,b){var c=ph.lastIndex=qh.lastIndex=0,d,e,g,h=-1,k=[],f=[];a+="";
for(b+="";(d=ph.exec(a))&&(e=qh.exec(b));)(g=e.index)>c&&(g=b.slice(c,g),k[h]?k[h]+=g:k[++h]=g),(d=d[0])===(e=e[0])?k[h]?k[h]+=e:k[++h]=e:(k[++h]=null,f.push({i:h,x:Wc(d,e)})),c=qh.lastIndex;c<b.length&&(g=b.slice(c),k[h]?k[h]+=g:k[++h]=g);return 2>k.length?f[0]?(b=f[0].x,function(a){return b(a)+""}):function(){return b}:(b=f.length,function(a){for(var c=0,d;c<b;++c)k[(d=f[c]).i]=d.x(a);return k.join("")})}function pd(a,b){for(var c=H.interpolators.length,d;0<=--c&&!(d=H.interpolators[c](a,b)););
return d}function he(a,b){var c=[],d=[],e=a.length,g=b.length,h=Math.min(a.length,b.length),k;for(k=0;k<h;++k)c.push(pd(a[k],b[k]));for(;k<e;++k)d[k]=a[k];for(;k<g;++k)d[k]=b[k];return function(a){for(k=0;k<h;++k)d[k]=c[k](a);return d}}function Id(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function ne(a){return function(b){return 1-a(1-b)}}function oe(a){return function(b){return.5*(.5>b?a(2*b):2-a(2-2*b))}}function Hd(a){return a*a}function sf(a){return a*a*a}function ja(a){if(0>=a)return 0;
if(1<=a)return 1;var b=a*a,c=b*a;return 4*(.5>a?c:3*(a-b)+c-.75)}function yd(a){return 1-Math.cos(a*hb)}function pe(a){return Math.pow(2,10*(a-1))}function oc(a){return 1-Math.sqrt(1-a*a)}function Pa(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function ad(a,b){b-=a;return function(c){return Math.round(a+b*c)}}function qc(a){var b=[a.a,a.b],c=[a.c,a.d],d=Pb(b),e=b[0]*c[0]+b[1]*c[1],g=-e;c[0]+=g*b[0];c[1]+=
g*b[1];g=Pb(c)||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1);this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Qa;this.translate=[a.e,a.f];this.scale=[d,g];this.skew=g?Math.atan2(e,g)*Qa:0}function Pb(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);b&&(a[0]/=b,a[1]/=b);return b}function Jc(a,b){var c=[],d=[],e,g=H.transform(a),h=H.transform(b);b=g.translate;a=h.translate;var k=g.rotate,f=h.rotate,l=g.skew,m=h.skew,g=g.scale,h=h.scale;b[0]!=a[0]||b[1]!=a[1]?(c.push("translate(",null,",",
null,")"),d.push({i:1,x:Wc(b[0],a[0])},{i:3,x:Wc(b[1],a[1])})):a[0]||a[1]?c.push("translate("+a+")"):c.push("");k!=f?(180<k-f?f+=360:180<f-k&&(k+=360),d.push({i:c.push(c.pop()+"rotate(",null,")")-2,x:Wc(k,f)})):f&&c.push(c.pop()+"rotate("+f+")");l!=m?d.push({i:c.push(c.pop()+"skewX(",null,")")-2,x:Wc(l,m)}):m&&c.push(c.pop()+"skewX("+m+")");g[0]!=h[0]||g[1]!=h[1]?(e=c.push(c.pop()+"scale(",null,",",null,")"),d.push({i:e-4,x:Wc(g[0],h[0])},{i:e-2,x:Wc(g[1],h[1])})):1==h[0]&&1==h[1]||c.push(c.pop()+
"scale("+h+")");e=d.length;return function(a){for(var b=-1,g;++b<e;)c[(g=d[b]).i]=g.x(a);return c.join("")}}function ef(a,b){b=(b-=a=+a)||1/b;return function(c){return(c-a)/b}}function vf(a,b){b=(b-=a=+a)||1/b;return function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function dg(a){var b=a.source;a=a.target;var c;var d=a;if(b===d)c=b;else{c=zd(b);for(var d=zd(d),e=c.pop(),g=d.pop(),h=null;e===g;)h=e,e=c.pop(),g=d.pop();c=h}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,
a),a=a.parent;return d}function zd(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;b.push(a);return b}function fb(a){a.fixed|=2}function ug(a){a.fixed&=-7}function Re(a){a.fixed|=4;a.px=a.x;a.py=a.y}function jg(a){a.fixed&=-5}function qd(a,b,c){var d=0,e=0;a.charge=0;if(!a.leaf)for(var g=a.nodes,h=g.length,k=-1,f;++k<h;)f=g[k],null!=f&&(qd(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5),b*=c[a.point.index],
a.charge+=a.pointCharge=b,d+=b*a.point.x,e+=b*a.point.y);a.cx=d/a.charge;a.cy=e/a.charge}function ge(a,b){H.rebind(a,b,"sort","children","value");a.nodes=a;a.links=$b;return a}function kc(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;0<=--d;)c.push(e[d])}function jc(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(g=a.children)&&(e=g.length)){a=-1;for(var e,g;++a<e;)c.push(g[a])}for(;null!=(a=d.pop());)b(a)}function nf(a){return a.children}function Xa(a){return a.value}
function wg(a,b){return b.value-a.value}function $b(a){return H.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function og(a){return a.x}function gc(a){return a.y}function gb(a,b,c){a.y0=b;a.y=c}function Rd(a){return H.range(a.length)}function Jb(a){var b=-1;a=a[0].length;for(var c=[];++b<a;)c[b]=0;return c}function Na(a){for(var b=1,c=0,d=a[0][1],e,g=a.length;b<g;++b)(e=a[b][1])>d&&(c=b,d=e);return c}function zb(a){return a.reduce(uf,0)}function uf(a,
b){return a+b[1]}function rd(a,b){return kg(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function kg(a,b){var c=-1,d=+a[0];a=(a[1]-d)/b;for(var e=[];++c<=b;)e[c]=a*c+d;return e}function yc(a){return[H.min(a),H.max(a)]}function Ve(a,b){return a.value-b.value}function nd(a,b){var c=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=c;c._pack_prev=b}function Se(a,b){a._pack_next=b;b._pack_prev=a}function Wd(a,b){var c=b.x-a.x,d=b.y-a.y;a=a.r+b.r;return.999*a*a>c*c+d*d}function la(a){function b(a){d=
Math.min(a.x-a.r,d);e=Math.max(a.x+a.r,e);g=Math.min(a.y-a.r,g);h=Math.max(a.y+a.r,h)}if((c=a.children)&&(p=c.length)){var c,d=Infinity,e=-Infinity,g=Infinity,h=-Infinity,k,f,l,m,n,q,p;c.forEach(vd);k=c[0];k.x=-k.r;k.y=0;b(k);if(1<p&&(f=c[1],f.x=f.r,f.y=0,b(f),2<p))for(l=c[2],xc(k,f,l),b(l),nd(k,l),k._pack_prev=l,nd(l,f),f=k._pack_next,m=3;m<p;m++){xc(k,f,l=c[m]);var u=0,t=1,r=1;for(n=f._pack_next;n!==f;n=n._pack_next,t++)if(Wd(n,l)){u=1;break}if(1==u)for(q=k._pack_prev;q!==n._pack_prev&&!Wd(q,l);q=
q._pack_prev,r++);u?(t<r||t==r&&f.r<k.r?Se(k,f=n):Se(k=q,f),m--):(nd(k,l),f=l,b(l))}k=(d+e)/2;f=(g+h)/2;for(m=n=0;m<p;m++)l=c[m],l.x-=k,l.y-=f,n=Math.max(n,l.r+Math.sqrt(l.x*l.x+l.y*l.y));a.r=n;c.forEach(Hb)}}function vd(a){a._pack_next=a._pack_prev=a}function Hb(a){delete a._pack_next;delete a._pack_prev}function Vb(a,b,c,d){var e=a.children;a.x=b+=d*a.x;a.y=c+=d*a.y;a.r*=d;if(e){a=-1;for(var g=e.length;++a<g;)Vb(e[a],b,c,d)}}function xc(a,b,c){var d=a.r+c.r,e=b.x-a.x,g=b.y-a.y;if(d&&(e||g)){var h=
b.r+c.r,k=e*e+g*g,h=h*h,d=d*d;b=.5+(d-h)/(2*k);h=Math.sqrt(Math.max(0,2*h*(d+k)-(d-=k)*d-h*h))/(2*k);c.x=a.x+b*e+h*g;c.y=a.y+b*g-h*e}else c.x=a.x+d,c.y=a.y}function Lf(a,b){return a.parent==b.parent?1:2}function sd(a){var b=a.children;return b.length?b[0]:a.t}function rf(a){var b=a.children,c;return(c=b.length)?b[c-1]:a.t}function Eb(a){return 1+H.max(a,function(a){return a.y})}function Yb(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Af(a){var b=a.children;return b&&b.length?
Af(b[0]):a}function Bf(a){var b=a.children,c;return b&&(c=b.length)?Bf(b[c-1]):a}function $d(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Ze(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3];a=a.dy-b[0]-b[2];0>e&&(c+=e/2,e=0);0>a&&(d+=a/2,a=0);return{x:c,y:d,dx:e,dy:a}}function Xc(a){var b=a[0];a=a[a.length-1];return b<a?[b,a]:[a,b]}function Nd(a){return a.rangeExtent?a.rangeExtent():Xc(a.range())}function Ud(a,b,c,d){var e=c(a[0],a[1]),g=d(b[0],b[1]);return function(a){return g(e(a))}}function Yc(a,
b){var c=0,d=a.length-1,e=a[c],g=a[d],h;g<e&&(h=c,c=d,d=h,h=e,e=g,g=h);a[c]=b.floor(e);a[d]=b.ceil(g);return a}function Zb(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Vh}function Gf(a,b,c,d){var e=[],g=[],h=0,k=Math.min(a.length,b.length)-1;a[k]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());for(;++h<=k;)e.push(c(a[h-1],a[h])),g.push(d(b[h-1],b[h]));return function(b){var c=H.bisect(a,b,1,k)-1;return g[c](e[c](b))}}function Kb(a,b,c,d){function e(){var e=
2<Math.min(a.length,b.length)?Gf:Ud,f=d?vf:ef;h=e(a,b,f,c);k=e(b,a,f,pd);return g}function g(a){return h(a)}var h,k;g.invert=function(a){return k(a)};g.domain=function(b){if(!arguments.length)return a;a=b.map(Number);return e()};g.range=function(a){if(!arguments.length)return b;b=a;return e()};g.rangeRound=function(a){return g.range(a).interpolate(ad)};g.clamp=function(a){if(!arguments.length)return d;d=a;return e()};g.interpolate=function(a){if(!arguments.length)return c;c=a;return e()};g.ticks=
function(b){return H.range.apply(H,Mb(a,b))};g.tickFormat=function(b,c){return Te(a,b,c)};g.nice=function(b){Yc(a,Zb(Mb(a,b)[2]));return e()};g.copy=function(){return Kb(a,b,c,d)};return e()}function of(a,b){return H.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Mb(a,b){null==b&&(b=10);a=Xc(a);var c=a[1]-a[0],d=Math.pow(10,Math.floor(Math.log(c/b)/Math.LN10));b=b/c*d;.15>=b?d*=10:.35>=b?d*=5:.75>=b&&(d*=2);a[0]=Math.ceil(a[0]/d)*d;a[1]=Math.floor(a[1]/d)*d+.5*d;a[2]=d;return a}function Te(a,
b,c){a=Mb(a,b);if(c){b=lh.exec(c);b.shift();if("s"===b[8]){var d=H.formatPrefix(Math.max(ia(a[0]),ia(a[1])));b[7]||(b[7]="."+td(d.scale(a[2])));b[8]="f";c=H.format(b.join(""));return function(a){return c(d.scale(a))+d.symbol}}b[7]||(b[7]="."+Ia(b[8],a));c=b.join("")}else c=",."+td(a[2])+"f";return H.format(c)}function td(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function Ia(a,b){var c=td(b[2]);return a in Wh?Math.abs(c-td(Math.max(ia(b[0]),ia(b[1]))))+ +("e"!==a):c-2*("%"===a)}function Va(a,
b,c,d){function e(a){return(c?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function g(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function h(b){return a(e(b))}h.invert=function(b){return g(a.invert(b))};h.domain=function(b){if(!arguments.length)return d;c=0<=b[0];a.domain((d=b.map(Number)).map(e));return h};h.base=function(c){if(!arguments.length)return b;b=+c;a.domain(d.map(e));return h};h.nice=function(){var b=Yc(d.map(e),c?Math:Xh);a.domain(b);d=b.map(g);return h};h.ticks=function(){var a=
Xc(d),h=[],k=a[0],a=a[1],f=Math.floor(e(k)),l=Math.ceil(e(a)),m=b%1?2:b;if(isFinite(l-f)){if(c){for(;f<l;f++)for(var n=1;n<m;n++)h.push(g(f)*n);h.push(g(f))}else for(h.push(g(f));f++<l;)for(n=m-1;0<n;n--)h.push(g(f)*n);for(f=0;h[f]<k;f++);for(l=h.length;h[l-1]>a;l--);h=h.slice(f,l)}return h};h.tickFormat=function(a,b){if(!arguments.length)return Ch;2>arguments.length?b=Ch:"function"!==typeof b&&(b=H.format(b));var d=Math.max(.1,a/h.ticks().length),k=c?(f=1E-12,Math.ceil):(f=-1E-12,Math.floor),f;return function(a){return a/
g(k(e(a)+f))<=d?b(a):""}};h.copy=function(){return Va(a.copy(),b,c,d)};return of(h,a)}function qb(a,b,c){function d(b){return a(e(b))}var e=Mf(b),g=Mf(1/b);d.invert=function(b){return g(a.invert(b))};d.domain=function(b){if(!arguments.length)return c;a.domain((c=b.map(Number)).map(e));return d};d.ticks=function(a){return H.range.apply(H,Mb(c,a))};d.tickFormat=function(a,b){return Te(c,a,b)};d.nice=function(a){return d.domain(Yc(c,Zb(Mb(c,a)[2])))};d.exponent=function(h){if(!arguments.length)return b;
e=Mf(b=h);g=Mf(1/b);a.domain(c.map(e));return d};d.copy=function(){return qb(a.copy(),b,c)};return of(d,a)}function Mf(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function zg(a,b){function c(c){return g[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):NaN))-1)%g.length]}function d(b,c){return H.range(a.length).map(function(a){return b+c*a})}var e,g,h;c.domain=function(d){if(!arguments.length)return a;a=[];e=new m;for(var g=-1,h=d.length,k;++g<h;)e.has(k=d[g])||e.set(k,a.push(k));
return c[b.t].apply(c,b.a)};c.range=function(a){if(!arguments.length)return g;g=a;h=0;b={t:"range",a:arguments};return c};c.rangePoints=function(e,k){2>arguments.length&&(k=0);var f=e[0],l=e[1],l=2>a.length?(f=(f+l)/2,0):(l-f)/(a.length-1+k);g=d(f+l*k/2,l);h=0;b={t:"rangePoints",a:arguments};return c};c.rangeRoundPoints=function(e,k){2>arguments.length&&(k=0);var f=e[0],l=e[1],m=2>a.length?(f=l=Math.round((f+l)/2),0):(l-f)/(a.length-1+k)|0;g=d(f+Math.round(m*k/2+(l-f-(a.length-1+k)*m)/2),m);h=0;b=
{t:"rangeRoundPoints",a:arguments};return c};c.rangeBands=function(e,k,f){2>arguments.length&&(k=0);3>arguments.length&&(f=k);var l=e[1]<e[0],m=e[l-0],n=(e[1-l]-m)/(a.length-k+2*f);g=d(m+n*f,n);l&&g.reverse();h=n*(1-k);b={t:"rangeBands",a:arguments};return c};c.rangeRoundBands=function(e,k,f){2>arguments.length&&(k=0);3>arguments.length&&(f=k);var l=e[1]<e[0],m=e[l-0],n=e[1-l],q=Math.floor((n-m)/(a.length-k+2*f));g=d(m+Math.round((n-m-(a.length-k)*q)/2),q);l&&g.reverse();h=Math.round(q*(1-k));b={t:"rangeRoundBands",
a:arguments};return c};c.rangeBand=function(){return h};c.rangeExtent=function(){return Xc(b.a[0])};c.copy=function(){return zg(a,b)};return c.domain(a)}function vc(a,c){function d(){var b=0,d=c.length;for(k=[];++b<d;)k[b-1]=H.quantile(a,b/d);return g}function g(a){if(!isNaN(a=+a))return c[H.bisect(k,a)]}var k;g.domain=function(c){if(!arguments.length)return a;a=c.map(h).filter(b).sort(e);return d()};g.range=function(a){if(!arguments.length)return c;c=a;return d()};g.quantiles=function(){return k};
g.invertExtent=function(b){b=c.indexOf(b);return 0>b?[NaN,NaN]:[0<b?k[b-1]:a[0],b<k.length?k[b]:a[a.length-1]]};g.copy=function(){return vc(a,c)};return d()}function Wf(a,b,c){function d(b){return c[Math.max(0,Math.min(h,Math.floor(g*(b-a))))]}function e(){g=c.length/(b-a);h=c.length-1;return d}var g,h;d.domain=function(c){if(!arguments.length)return[a,b];a=+c[0];b=+c[c.length-1];return e()};d.range=function(a){if(!arguments.length)return c;c=a;return e()};d.invertExtent=function(b){b=c.indexOf(b);
b=0>b?NaN:b/g+a;return[b,b+1/g]};d.copy=function(){return Wf(a,b,c)};return e()}function Ag(a,b){function c(c){if(c<=c)return b[H.bisect(a,c)]}c.domain=function(b){if(!arguments.length)return a;a=b;return c};c.range=function(a){if(!arguments.length)return b;b=a;return c};c.invertExtent=function(c){c=b.indexOf(c);return[a[c-1],a[c]]};c.copy=function(){return Ag(a,b)};return c}function pg(a){function b(a){return+a}b.invert=b;b.domain=b.range=function(c){if(!arguments.length)return a;a=c.map(b);return b};
b.ticks=function(b){return H.range.apply(H,Mb(a,b))};b.tickFormat=function(b,c){return Te(a,b,c)};b.copy=function(){return pg(a)};return b}function xe(){return 0}function Ue(a){return a.innerRadius}function Bc(a){return a.outerRadius}function Bg(a){return a.startAngle}function Od(a){return a.endAngle}function Cg(a){return a&&a.padAngle}function Dd(a,b,c,d){return 0<(a-c)*b-(b-d)*a?0:1}function df(a,b,c,d,e){var g=a[0]-b[0],h=a[1]-b[1];e=(e?d:-d)/Math.sqrt(g*g+h*h);var h=e*h,g=-e*g,k=a[0]+h,f=a[1]+
g,l=b[0]+h,m=b[1]+g;a=(k+l)/2;b=(f+m)/2;e=l-k;var n=m-f,q=e*e+n*n;d=c-d;var m=k*m-l*f,p=(0>n?-1:1)*Math.sqrt(d*d*q-m*m),k=(m*n-e*p)/q,f=(-m*e-n*p)/q,l=(m*n+e*p)/q;e=(-m*e+n*p)/q;n=k-a;q=f-b;a=l-a;b=e-b;n*n+q*q>a*a+b*b&&(k=l,f=e);return[[k-h,f-g],[k*c/d,f*c/d]]}function Nc(a){function b(b){function h(){f.push("M",g(a(l),k))}for(var f=[],l=[],m=-1,n=b.length,q,p=W(c),u=W(d);++m<n;)e.call(this,q=b[m],m)?l.push([+p.call(this,q,m),+u.call(this,q,m)]):l.length&&(h(),l=[]);l.length&&h();return f.length?
f.join(""):null}var c=ta,d=Oe,e=zc,g=S,h=g.key,k=.7;b.x=function(a){if(!arguments.length)return c;c=a;return b};b.y=function(a){if(!arguments.length)return d;d=a;return b};b.defined=function(a){if(!arguments.length)return e;e=a;return b};b.interpolate=function(a){if(!arguments.length)return h;h="function"===typeof a?g=a:(g=rh.get(a)||S).key;return b};b.tension=function(a){if(!arguments.length)return k;k=a;return b};return b}function S(a){return a.join("L")}function ya(a){for(var b=0,c=a.length,d=
a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function Wb(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function ze(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return S(a);var c=a.length!=b.length,d="",e=a[0],g=a[1],h=b[0],k=h,f=1;c&&(d+="Q"+(g[0]-2*h[0]/3)+","+(g[1]-2*h[1]/3)+","+g[0]+","+g[1],e=a[1],f=2);if(1<b.length)for(k=b[1],g=a[f],f++,d+="C"+(e[0]+h[0])+","+(e[1]+h[1])+","+(g[0]-
k[0])+","+(g[1]-k[1])+","+g[0]+","+g[1],e=2;e<b.length;e++,f++)g=a[f],k=b[e],d+="S"+(g[0]-k[0])+","+(g[1]-k[1])+","+g[0]+","+g[1];c&&(a=a[f],d+="Q"+(g[0]+2*k[0]/3)+","+(g[1]+2*k[1]/3)+","+a[0]+","+a[1]);return d}function id(a,b){var c=[];b=(1-b)/2;for(var d,e=a[0],g=a[1],h=1,k=a.length;++h<k;)d=e,e=g,g=a[h],c.push([b*(g[0]-d[0]),b*(g[1]-d[1])]);return c}function jd(a){if(3>a.length)return S(a);var b=1,c=a.length,d=a[0],e=d[0],g=d[1],h=[e,e,e,(d=a[1])[0]],k=[g,g,g,d[1]],e=[e,",",g,"L",ic(Qf,h),",",
ic(Qf,k)];for(a.push(a[c-1]);++b<=c;)d=a[b],h.shift(),h.push(d[0]),k.shift(),k.push(d[1]),Ie(e,h,k);a.pop();e.push("L",d);return e.join("")}function ic(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Ie(a,b,c){a.push("C",ic(Dh,b),",",ic(Dh,c),",",ic(Eh,b),",",ic(Eh,c),",",ic(Qf,b),",",ic(Qf,c))}function Sc(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Cf(a){for(var b,c=-1,d=a.length,e,g;++c<d;)b=a[c],e=b[0],g=b[1]-hb,b[0]=e*Math.cos(g),b[1]=e*Math.sin(g);return a}function af(a){function b(b){function f(){q.push("M",
k(a(u),n),m,l(a(p.reverse()),n),"Z")}for(var q=[],p=[],u=[],t=-1,r=b.length,v,w=W(c),y=W(e),x=c===d?function(){return B}:W(d),D=e===g?function(){return z}:W(g),B,z;++t<r;)h.call(this,v=b[t],t)?(p.push([B=+w.call(this,v,t),z=+y.call(this,v,t)]),u.push([+x.call(this,v,t),+D.call(this,v,t)])):p.length&&(f(),p=[],u=[]);p.length&&f();return q.length?q.join(""):null}var c=ta,d=ta,e=0,g=Oe,h=zc,k=S,f=k.key,l=k,m="L",n=.7;b.x=function(a){if(!arguments.length)return d;c=d=a;return b};b.x0=function(a){if(!arguments.length)return c;
c=a;return b};b.x1=function(a){if(!arguments.length)return d;d=a;return b};b.y=function(a){if(!arguments.length)return g;e=g=a;return b};b.y0=function(a){if(!arguments.length)return e;e=a;return b};b.y1=function(a){if(!arguments.length)return g;g=a;return b};b.defined=function(a){if(!arguments.length)return h;h=a;return b};b.interpolate=function(a){if(!arguments.length)return f;f="function"===typeof a?k=a:(k=rh.get(a)||S).key;l=k.reverse||k;m=k.closed?"M":"L";return b};b.tension=function(a){if(!arguments.length)return n;
n=a;return b};return b}function ac(a){return a.radius}function Zf(a){return[a.x,a.y]}function Og(a){return function(){var b=a.apply(this,arguments),c=b[0],b=b[1]-hb;return[c*Math.cos(b),c*Math.sin(b)]}}function $f(){return 64}function de(){return"circle"}function ng(a){a=Math.sqrt(a/ma);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function $c(a){return function(){var b,c;(b=this[a])&&(c=b[b.active])&&(--b.count?delete b[b.active]:delete this[a],b.active+=.5,c.event&&c.event.interrupt.call(this,
this.__data__,c.index))}}function ue(a,b,c){wb(a,Fb);a.namespace=b;a.id=c;return a}function Nf(a,b,c,d){var e=a.id,g=a.namespace;return T(a,"function"===typeof c?function(a,h,k){a[g][e].tween.set(b,d(c.call(a,a.__data__,h,k)))}:(c=d(c),function(a){a[g][e].tween.set(b,c)}))}function pf(a){null==a&&(a="");return function(){this.textContent=a}}function se(a){return null==a?"__transition__":"__transition_"+a+"__"}function Ba(a,b,c,d,e){var g=a[c]||(a[c]={active:0,count:0}),h=g[d];if(!h){var k=e.time,
h=g[d]={tween:new m,time:k,delay:e.delay,duration:e.duration,ease:e.ease,index:b};e=null;++g.count;H.timer(function(e){function f(c){if(g.active>d)return m();var e=g[g.active];e&&(--g.count,delete g[g.active],e.event&&e.event.interrupt.call(a,a.__data__,e.index));g.active=d;h.event&&h.event.start.call(a,a.__data__,b);h.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&t.push(d)});p=h.ease;q=h.duration;H.timer(function(){u.c=l(c||1)?zc:l;return 1},0,k)}function l(c){if(g.active!==d)return 1;
c/=q;for(var e=p(c),k=t.length;0<k;)t[--k].call(a,e);if(1<=c)return h.event&&h.event.end.call(a,a.__data__,b),m()}function m(){--g.count?delete g[d]:delete a[c];return 1}var n=h.delay,q,p,u=qe,t=[];u.t=n+k;if(n<=e)return f(e-n);u.c=f},0,k)}}function Pd(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function Oc(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function Vf(a){return a.toISOString()}function Ke(a,
b,c){function d(b){return a(b)}function e(a,c){var d=(a[1]-a[0])/c,e=H.bisect($g,d);return e==$g.length?[b.year,Mb(a.map(function(a){return a/31536E6}),c)[2]]:e?b[d/$g[e-1]<$g[e]/d?e-1:e]:[Yh,Mb(a,c)[2]]}d.invert=function(b){return cc(a.invert(b))};d.domain=function(b){if(!arguments.length)return a.domain().map(cc);a.domain(b);return d};d.nice=function(a,b){function c(c){return!isNaN(c)&&!a.range(c,cc(+c+1),b).length}var g=d.domain(),h=Xc(g);if(h=null==a?e(h,10):"number"===typeof a&&e(h,a))a=h[0],
b=h[1];return d.domain(Yc(g,1<b?{floor:function(b){for(;c(b=a.floor(b));)b=cc(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=cc(+b+1);return b}}:a))};d.ticks=function(a,b){var c=Xc(d.domain()),g=null==a?e(c,10):"number"===typeof a?e(c,a):!a.range&&[{range:a},b];g&&(a=g[0],b=g[1]);return a.range(c[0],cc(+c[1]+1),1>b?1:b)};d.tickFormat=function(){return c};d.copy=function(){return Ke(a.copy(),b,c)};return of(d,a)}function cc(a){return new Date(a)}function bf(a){return JSON.parse(a.responseText)}
function Ng(a){var b=Ja.createRange();b.selectNode(Ja.body);return b.createContextualFragment(a.responseText)}var H={version:"3.5.6"},kf=[].slice,Vc=function(a){return kf.call(a)},Ja=this.document;if(Ja)try{Vc(Ja.documentElement.childNodes)[0].nodeType}catch(xa){Vc=function(a){for(var b=a.length,c=Array(b);b--;)c[b]=a[b];return c}}Date.now||(Date.now=function(){return+new Date});if(Ja)try{Ja.createElement("DIV").style.setProperty("opacity",0,"")}catch(xa){var ie=this.Element.prototype,If=ie.setAttribute,
mf=ie.setAttributeNS,vg=this.CSSStyleDeclaration.prototype,Pg=vg.setProperty;ie.setAttribute=function(a,b){If.call(this,a,b+"")};ie.setAttributeNS=function(a,b,c){mf.call(this,a,b,c+"")};vg.setProperty=function(a,b,c){Pg.call(this,a,b+"",c)}}H.ascending=e;H.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};H.min=function(a,b){var c=-1,d=a.length,e,g;if(1===arguments.length){for(;++c<d;)if(null!=(g=a[c])&&g>=g){e=g;break}for(;++c<d;)null!=(g=a[c])&&e>g&&(e=g)}else{for(;++c<d;)if(null!=(g=b.call(a,
a[c],c))&&g>=g){e=g;break}for(;++c<d;)null!=(g=b.call(a,a[c],c))&&e>g&&(e=g)}return e};H.max=function(a,b){var c=-1,d=a.length,e,g;if(1===arguments.length){for(;++c<d;)if(null!=(g=a[c])&&g>=g){e=g;break}for(;++c<d;)null!=(g=a[c])&&g>e&&(e=g)}else{for(;++c<d;)if(null!=(g=b.call(a,a[c],c))&&g>=g){e=g;break}for(;++c<d;)null!=(g=b.call(a,a[c],c))&&g>e&&(e=g)}return e};H.extent=function(a,b){var c=-1,d=a.length,e,g,h;if(1===arguments.length){for(;++c<d;)if(null!=(g=a[c])&&g>=g){e=h=g;break}for(;++c<d;)null!=
(g=a[c])&&(e>g&&(e=g),h<g&&(h=g))}else{for(;++c<d;)if(null!=(g=b.call(a,a[c],c))&&g>=g){e=h=g;break}for(;++c<d;)null!=(g=b.call(a,a[c],c))&&(e>g&&(e=g),h<g&&(h=g))}return[e,h]};H.sum=function(a,b){var c=0,d=a.length,e,g=-1;if(1===arguments.length)for(;++g<d;)isNaN(e=+a[g])||(c+=e);else for(;++g<d;)isNaN(e=+b.call(a,a[g],g))||(c+=e);return c};H.mean=function(a,b){var c=0,d=a.length,e,g=-1,k=d;if(1===arguments.length)for(;++g<d;)isNaN(e=h(a[g]))?--k:c+=e;else for(;++g<d;)isNaN(e=h(b.call(a,a[g],g)))?
--k:c+=e;if(k)return c/k};H.quantile=function(a,b){var c=(a.length-1)*b+1;b=Math.floor(c);var d=+a[b-1];return(c-=b)?d+c*(a[b]-d):d};H.median=function(a,b){var c=[],d=a.length,g,k=-1;if(1===arguments.length)for(;++k<d;)isNaN(g=h(a[k]))||c.push(g);else for(;++k<d;)isNaN(g=h(b.call(a,a[k],k)))||c.push(g);if(c.length)return H.quantile(c.sort(e),.5)};H.variance=function(a,b){var c=a.length,d=0,e,g,k=0,f=-1,l=0;if(1===arguments.length)for(;++f<c;)isNaN(e=h(a[f]))||(g=e-d,d+=g/++l,k+=g*(e-d));else for(;++f<
c;)isNaN(e=h(b.call(a,a[f],f)))||(g=e-d,d+=g/++l,k+=g*(e-d));if(1<l)return k/(l-1)};H.deviation=function(){var a=H.variance.apply(this,arguments);return a?Math.sqrt(a):a};var Eg=k(e);H.bisectLeft=Eg.left;H.bisect=H.bisectRight=Eg.right;H.bisector=function(a){return k(1===a.length?function(b,c){return e(a(b),c)}:a)};H.shuffle=function(a,b,c){3>(d=arguments.length)&&(c=a.length,2>d&&(b=0));for(var d=c-b,e,g;d;)g=Math.random()*d--|0,e=a[d+b],a[d+b]=a[g+b],a[g+b]=e;return a};H.permute=function(a,b){for(var c=
b.length,d=Array(c);c--;)d[c]=a[b[c]];return d};H.pairs=function(a){for(var b=0,c=a.length-1,d=a[0],e=Array(0>c?0:c);b<c;)e[b]=[d,d=a[++b]];return e};H.zip=function(){if(!(g=arguments.length))return[];for(var a=-1,b=H.min(arguments,d),c=Array(b);++a<b;)for(var e=-1,g,h=c[a]=Array(g);++e<g;)h[e]=arguments[e][a];return c};H.transpose=function(a){return H.zip.apply(H,a)};H.keys=function(a){var b=[],c;for(c in a)b.push(c);return b};H.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b};H.entries=
function(a){var b=[],c;for(c in a)b.push({key:c,value:a[c]});return b};H.merge=function(a){var b=a.length,c;c=-1;for(var d=0,e,g;++c<b;)d+=a[c].length;for(e=Array(d);0<=--b;)for(g=a[b],c=g.length;0<=--c;)e[--d]=g[c];return e};var ia=Math.abs;H.range=function(a,b,c){3>arguments.length&&(c=1,2>arguments.length&&(b=a,a=0));if(Infinity===(b-a)/c)throw Error("infinite range");var d=[],e;e=ia(c);for(var g=1;e*g%1;)g*=10;e=g;var g=-1,h;a*=e;b*=e;c*=e;if(0>c)for(;(h=a+c*++g)>b;)d.push(h/e);else for(;(h=a+
c*++g)<b;)d.push(h/e);return d};H.map=function(a,b){var c=new m;if(a instanceof m)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d=-1,e=a.length,g;if(1===arguments.length)for(;++d<e;)c.set(d,a[d]);else for(;++d<e;)c.set(b.call(a,g=a[d],d),g)}else for(d in a)c.set(d,a[d]);return c};f(m,{has:p,get:function(a){return this._[q(a)]},set:function(a,b){return this._[q(a)]=b},remove:r,keys:t,values:function(){var a=[],b;for(b in this._)a.push(this._[b]);return a},entries:function(){var a=
[],b;for(b in this._)a.push({key:w(b),value:this._[b]});return a},size:u,empty:y,forEach:function(a){for(var b in this._)a.call(this,w(b),this._[b])}});H.nest=function(){function a(b,e,k){if(k>=d.length)return h?h.call(c,e):g?e.sort(g):e;for(var f=-1,l=e.length,n=d[k++],q,p,u=new m,t;++f<l;)(t=u.get(q=n(p=e[f])))?t.push(p):u.set(q,[p]);b?(p=b(),e=function(c,d){p.set(c,a(b,d,k))}):(p={},e=function(c,d){p[c]=a(b,d,k)});u.forEach(e);return p}function b(a,c){if(c>=d.length)return a;var g=[],h=e[c++];
a.forEach(function(a,d){g.push({key:a,values:b(d,c)})});return h?g.sort(function(a,b){return h(a.key,b.key)}):g}var c={},d=[],e=[],g,h;c.map=function(b,c){return a(c,b,0)};c.entries=function(c){return b(a(H.map,c,0),0)};c.key=function(a){d.push(a);return c};c.sortKeys=function(a){e[d.length-1]=a;return c};c.sortValues=function(a){g=a;return c};c.rollup=function(a){h=a;return c};return c};H.set=function(a){var b=new A;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b};f(A,{has:p,add:function(a){this._[q(a+=
"")]=!0;return a},remove:r,values:t,size:u,empty:y,forEach:function(a){for(var b in this._)a.call(this,w(b))}});H.behavior={};H.rebind=function(a,b){for(var c=1,d=arguments.length,e;++c<d;)a[e=arguments[c]]=v(a,b,b[e]);return a};var Gg="webkit ms moz Moz o O".split(" ");H.dispatch=function(){for(var a=new G,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=x(a);return a};G.prototype.on=function(a,b){var c=a.indexOf("."),d="";0<=c&&(d=a.slice(c+1),a=a.slice(0,c));if(a)return 2>arguments.length?this[a].on(d):
this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)if(this.hasOwnProperty(a))this[a].on(d,null);return this}};H.event=null;H.requote=function(a){return a.replace(qf,"\\$&")};var qf=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,wb={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},Of=function(a,b){return b.querySelector(a)},He=function(a,b){return b.querySelectorAll(a)},sa=function(a,b){var c=a.matches||a[z(a,"matchesSelector")];sa=function(a,b){return c.call(a,b)};
return sa(a,b)};"function"===typeof Sizzle&&(Of=function(a,b){return Sizzle(a,b)[0]||null},He=Sizzle,sa=Sizzle.matchesSelector);H.selection=function(){return H.select(Ja.documentElement)};var Ka=H.selection.prototype=[];Ka.select=function(a){var b=[],c,d,e,g;a=L(a);for(var h=-1,k=this.length;++h<k;){b.push(c=[]);c.parentNode=(e=this[h]).parentNode;for(var f=-1,l=e.length;++f<l;)(g=e[f])?(c.push(d=a.call(g,g.__data__,f,h)),d&&"__data__"in g&&(d.__data__=g.__data__)):c.push(null)}return J(b)};Ka.selectAll=
function(a){var b=[],c,d;a=I(a);for(var e=-1,g=this.length;++e<g;)for(var h=this[e],k=-1,f=h.length;++k<f;)if(d=h[k])b.push(c=Vc(a.call(d,d.__data__,k,e))),c.parentNode=d;return J(b)};var wc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};H.ns={prefix:wc,qualify:function(a){var b=a.indexOf(":"),c=a;0<=b&&(c=a.slice(0,b),a=a.slice(b+1));return wc.hasOwnProperty(c)?
{space:wc[c],local:a}:a}};Ka.attr=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node();a=H.ns.qualify(a);return a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(K(b,a[b]));return this}return this.each(K(a,b))};Ka.classed=function(a,b){if(2>arguments.length){if("string"===typeof a){var c=this.node(),d=(a=(a+"").trim().split(/^|\s+/)).length,e=-1;if(b=c.classList)for(;++e<d;){if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<
d;)if(!N(a[e]).test(b))return!1;return!0}for(b in a)this.each(P(b,a[b]));return this}return this.each(P(a,b))};Ka.style=function(b,c,d){var e=arguments.length;if(3>e){if("string"!==typeof b){2>e&&(c="");for(d in b)this.each(M(d,b[d],c));return this}if(2>e)return e=this.node(),a(e).getComputedStyle(e,null).getPropertyValue(b);d=""}return this.each(M(b,c,d))};Ka.property=function(a,b){if(2>arguments.length){if("string"===typeof a)return this.node()[a];for(b in a)this.each(O(b,a[b]));return this}return this.each(O(a,
b))};Ka.text=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};Ka.html=function(a){return arguments.length?this.each("function"===typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};Ka.append=function(a){a=
Q(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};Ka.insert=function(a,b){a=Q(a);b=L(b);return this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};Ka.remove=function(){return this.each(U)};Ka.data=function(a,b){function c(a,c){var d,e=a.length,g=c.length,h=Math.min(e,g),n=Array(g),q=Array(g),p=Array(e),u,t;if(b){var h=new m,r=Array(e),v;for(d=-1;++d<e;)h.has(v=b.call(u=a[d],u.__data__,d))?p[d]=u:h.set(v,u),
r[d]=v;for(d=-1;++d<g;)(u=h.get(v=b.call(c,t=c[d],d)))?!0!==u&&(n[d]=u,u.__data__=t):q[d]={__data__:t},h.set(v,!0);for(d=-1;++d<e;)!0!==h.get(r[d])&&(p[d]=a[d])}else{for(d=-1;++d<h;)u=a[d],t=c[d],u?(u.__data__=t,n[d]=u):q[d]={__data__:t};for(;d<g;++d)q[d]={__data__:c[d]};for(;d<e;++d)p[d]=a[d]}q.update=n;q.parentNode=n.parentNode=p.parentNode=a.parentNode;k.push(q);f.push(n);l.push(p)}var d=-1,e=this.length,g,h;if(!arguments.length){for(a=Array(e=(g=this[0]).length);++d<e;)if(h=g[d])a[d]=h.__data__;
return a}var k=ca([]),f=J([]),l=J([]);if("function"===typeof a)for(;++d<e;)c(g=this[d],a.call(g,g.parentNode.__data__,d));else for(;++d<e;)c(g=this[d],a);f.enter=function(){return k};f.exit=function(){return l};return f};Ka.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};Ka.filter=function(a){var b=[],c,d,e;"function"!==typeof a&&(a=R(a));for(var g=0,h=this.length;g<h;g++){b.push(c=[]);c.parentNode=(d=this[g]).parentNode;for(var k=0,f=d.length;k<f;k++)(e=
d[k])&&a.call(e,e.__data__,k,g)&&c.push(e)}return J(b)};Ka.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c=this[a],d=c.length-1,e=c[d],g;0<=--d;)if(g=c[d])e&&e!==g.nextSibling&&e.parentNode.insertBefore(g,e),e=g;return this};Ka.sort=function(a){a=ba.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()};Ka.each=function(a){return T(this,function(b,c,d){a.call(b,b.__data__,c,d)})};Ka.call=function(a){var b=Vc(arguments);a.apply(b[0]=this,b);return this};
Ka.empty=function(){return!this.node()};Ka.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var g=c[d];if(g)return g}return null};Ka.size=function(){var a=0;T(this,function(){++a});return a};var Ya=[];H.selection.enter=ca;H.selection.enter.prototype=Ya;Ya.append=Ka.append;Ya.empty=Ka.empty;Ya.node=Ka.node;Ya.call=Ka.call;Ya.size=Ka.size;Ya.select=function(a){for(var b=[],c,d,e,g,h,k=-1,f=this.length;++k<f;){e=(g=this[k]).update;b.push(c=[]);c.parentNode=
g.parentNode;for(var l=-1,m=g.length;++l<m;)(h=g[l])?(c.push(e[l]=d=a.call(g.parentNode,h.__data__,l,k)),d.__data__=h.__data__):c.push(null)}return J(b)};Ya.insert=function(a,b){2>arguments.length&&(b=ha(this));return Ka.insert.call(this,a,b)};H.select=function(a){var b;"string"===typeof a?(b=[Of(a,Ja)],b.parentNode=Ja.documentElement):(b=[a],b.parentNode=a&&(a.ownerDocument||a.document||a).documentElement);return J([b])};H.selectAll=function(a){"string"===typeof a?(a=Vc(He(a,Ja)),a.parentNode=Ja.documentElement):
a.parentNode=null;return J([a])};Ka.on=function(a,b,c){var d=arguments.length;if(3>d){if("string"!==typeof a){2>d&&(b=!1);for(c in a)this.each(X(c,a[c],b));return this}if(2>d)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(X(a,b,c))};var re=H.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ja&&re.forEach(function(a){"on"+a in Ja&&re.remove(a)});var ud,Ca=0;H.mouse=function(a){return ra(a,E())};var Za=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;H.touch=function(a,b,
c){3>arguments.length&&(c=b,b=E().changedTouches);if(b)for(var d=0,e=b.length,g;d<e;++d)if((g=b[d]).identifier===c)return ra(a,g)};H.behavior.drag=function(){function b(){this.on("mousedown.drag",h).on("touchstart.drag",k)}function c(a,b,c,g,h){return function(){var k=H.event.target,f=this.parentNode,l=d.of(this,arguments),m=0,n=a(),q=".drag"+(null==n?"":"-"+n),p,u=H.select(c(k)).on(g+q,function(){var a=b(f,n),c,d;a&&(c=a[0]-r[0],d=a[1]-r[1],m|=c|d,r=a,l({type:"drag",x:a[0]+p[0],y:a[1]+p[1],dx:c,
dy:d}))}).on(h+q,function(){b(f,n)&&(u.on(g+q,null).on(h+q,null),t(m&&H.event.target===k),l({type:"dragend"}))}),t=ka(k),r=b(f,n);e?(p=e.apply(this,arguments),p=[p.x-r[0],p.y-r[1]]):p=[0,0];l({type:"dragstart"})}}var d=F(b,"drag","dragstart","dragend"),e=null,h=c(B,H.mouse,a,"mousemove","mouseup"),k=c(Ea,H.touch,g,"touchmove","touchend");b.origin=function(a){if(!arguments.length)return e;e=a;return b};return H.rebind(b,d,"on")};H.touches=function(a,b){2>arguments.length&&(b=E().touches);return b?
Vc(b).map(function(b){var c=ra(a,b);c.identifier=b.identifier;return c}):[]};var ma=Math.PI,Sb=2*ma,fd=Sb-1E-6,hb=ma/2,qa=ma/180,Qa=180/ma,Hg=Math.SQRT2;H.interpolateZoom=function(a,b){function c(a){var b=a*q;if(n){a=pa(m);var c,f=Hg*b+m;c=((f=Math.exp(2*f))-1)/(f+1);var p=m,f=((p=Math.exp(p))-1/p)/2;c=g/(2*l)*(a*c-f);return[d+c*h,e+c*k,g*a/pa(Hg*b+m)]}return[d+a*h,e+a*k,g*Math.exp(Hg*b)]}var d=a[0],e=a[1],g=a[2];a=b[2];var h=b[0]-d,k=b[1]-e,f=h*h+k*k,l=Math.sqrt(f);b=(a*a-g*g+4*f)/(4*g*l);var f=
(a*a-g*g-4*f)/(4*a*l),m=Math.log(Math.sqrt(b*b+1)-b),n=Math.log(Math.sqrt(f*f+1)-f)-m,q=(n||Math.log(a/g))/Hg;c.duration=1E3*q;return c};H.behavior.zoom=function(){function b(a){a.on("mousedown.zoom",m).on(Xd+".zoom",q).on("dblclick.zoom",p).on("touchstart.zoom",n)}function c(a){return[(a[0]-u.x)/u.k,(a[1]-u.y)/u.k]}function d(a){u.k=Math.max(y[0],Math.min(y[1],a))}function e(a,b){b=[b[0]*u.k+u.x,b[1]*u.k+u.y];u.x+=a[0]-b[0];u.y+=a[1]-b[1]}function g(a,c,g,h){a.__chart__={x:u.x,y:u.y,k:u.k};d(Math.pow(2,
h));e(r=c,g);a=H.select(a);0<x&&(a=a.transition().duration(x));a.call(b.event)}function h(){G&&G.domain(Aa.range().map(function(a){return(a-u.x)/u.k}).map(Aa.invert));Za&&Za.domain(E.range().map(function(a){return(a-u.y)/u.k}).map(E.invert))}function k(a){B++||a({type:"zoomstart"})}function f(a){h();a({type:"zoom",scale:u.k,translate:[u.x,u.y]})}function l(a){--B||(a({type:"zoomend"}),r=null)}function m(){var b=this,d=H.event.target,g=A.of(b,arguments),h=0,m=H.select(a(b)).on("mousemove.zoom",function(){h=
1;e(H.mouse(b),n);f(g)}).on("mouseup.zoom",function(){m.on("mousemove.zoom",null).on("mouseup.zoom",null);q(h&&H.event.target===d);l(g)}),n=c(H.mouse(b)),q=ka(b);ah.call(b);k(g)}function n(){function a(){var a=H.touches(p);w=u.k;a.forEach(function(a){a.identifier in r&&(r[a.identifier]=c(a))});return a}function b(){var b=H.event.target;H.select(b).on(x,h).on(B,q);z.push(b);for(var b=H.event.changedTouches,c=0,d=b.length;c<d;++c)r[b[c].identifier]=null;c=a();d=Date.now();1===c.length?(500>d-Ca&&(b=
c[0],g(p,b,r[b.identifier],Math.floor(Math.log(u.k)/Math.LN2)+1),D()),Ca=d):1<c.length&&(b=c[0],d=c[1],c=b[0]-d[0],b=b[1]-d[1],v=c*c+b*b)}function h(){var a=H.touches(p),b,c,g,h;ah.call(p);for(var k=0,l=a.length;k<l;++k,h=null)if(g=a[k],h=r[g.identifier]){if(c)break;b=g;c=h}if(h){var m=(m=g[0]-b[0])*m+(m=g[1]-b[1])*m,a=v&&Math.sqrt(m/v);b=[(b[0]+g[0])/2,(b[1]+g[1])/2];c=[(c[0]+h[0])/2,(c[1]+h[1])/2];d(a*w)}Ca=null;e(b,c);f(t)}function q(){if(H.event.touches.length){for(var b=H.event.changedTouches,
c=0,d=b.length;c<d;++c)delete r[b[c].identifier];for(var e in r)return void a()}H.selectAll(z).on(y,null);Aa.on("mousedown.zoom",m).on("touchstart.zoom",n);G();l(t)}var p=this,t=A.of(p,arguments),r={},v=0,w,y=".zoom-"+H.event.changedTouches[0].identifier,x="touchmove"+y,B="touchend"+y,z=[],Aa=H.select(p),G=ka(p);b();k(t);Aa.on("mousedown.zoom",null).on("touchstart.zoom",b)}function q(){var a=A.of(this,arguments);z?clearTimeout(z):(ah.call(this),t=c(r=v||H.mouse(this)),k(a));z=setTimeout(function(){z=
null;l(a)},50);D();d(Math.pow(2,.002*xg())*u.k);e(r,t);f(a)}function p(){var a=H.mouse(this),b=Math.log(u.k)/Math.LN2;g(this,a,c(a),H.event.shiftKey?Math.ceil(b)-1:Math.floor(b)+1)}var u={x:0,y:0,k:1},t,r,v,w=[960,500],y=Qg,x=250,B=0,z,Ca,A=F(b,"zoomstart","zoom","zoomend"),Aa,G,E,Za;Xd||(Xd="onwheel"in Ja?(xg=function(){return-H.event.deltaY*(H.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ja?(xg=function(){return H.event.wheelDelta},"mousewheel"):(xg=function(){return-H.event.detail},"MozMousePixelScroll"));
b.event=function(a){a.each(function(){var a=A.of(this,arguments),b=u;mg?H.select(this).transition().each("start.zoom",function(){u=this.__chart__||{x:0,y:0,k:1};k(a)}).tween("zoom:zoom",function(){var c=w[0],d=w[1],e=r?r[0]:c/2,g=r?r[1]:d/2,h=H.interpolateZoom([(e-u.x)/u.k,(g-u.y)/u.k,c/u.k],[(e-b.x)/b.k,(g-b.y)/b.k,c/b.k]);return function(b){b=h(b);var d=c/b[2];this.__chart__=u={x:e-b[0]*d,y:g-b[1]*d,k:d};f(a)}}).each("interrupt.zoom",function(){l(a)}).each("end.zoom",function(){l(a)}):(this.__chart__=
u,k(a),f(a),l(a))})};b.translate=function(a){if(!arguments.length)return[u.x,u.y];u={x:+a[0],y:+a[1],k:u.k};h();return b};b.scale=function(a){if(!arguments.length)return u.k;u={x:u.x,y:u.y,k:+a};h();return b};b.scaleExtent=function(a){if(!arguments.length)return y;y=null==a?Qg:[+a[0],+a[1]];return b};b.center=function(a){if(!arguments.length)return v;v=a&&[+a[0],+a[1]];return b};b.size=function(a){if(!arguments.length)return w;w=a&&[+a[0],+a[1]];return b};b.duration=function(a){if(!arguments.length)return x;
x=+a;return b};b.x=function(a){if(!arguments.length)return G;G=a;Aa=a.copy();u={x:0,y:0,k:1};return b};b.y=function(a){if(!arguments.length)return Za;Za=a;E=a.copy();u={x:0,y:0,k:1};return b};return H.rebind(b,A,"on")};var Qg=[0,Infinity],xg,Xd;H.color=ea;ea.prototype.toString=function(){return this.rgb()+""};H.hsl=Z;var Sf=Z.prototype=new ea;Sf.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);return new Z(this.h,this.s,this.l/a)};Sf.darker=function(a){a=Math.pow(.7,arguments.length?a:1);
return new Z(this.h,this.s,a*this.l)};Sf.rgb=function(){return C(this.h,this.s,this.l)};H.hcl=va;var Xe=va.prototype=new ea;Xe.brighter=function(a){return new va(this.h,this.c,Math.min(100,this.l+we*(arguments.length?a:1)))};Xe.darker=function(a){return new va(this.h,this.c,Math.max(0,this.l-we*(arguments.length?a:1)))};Xe.rgb=function(){return za(this.h,this.c,this.l).rgb()};H.lab=Ma;var we=18,Lg=.95047,Yg=1,yg=1.08883,ig=Ma.prototype=new ea;ig.brighter=function(a){return new Ma(Math.min(100,this.l+
we*(arguments.length?a:1)),this.a,this.b)};ig.darker=function(a){return new Ma(Math.max(0,this.l-we*(arguments.length?a:1)),this.a,this.b)};ig.rgb=function(){return Ra(this.l,this.a,this.b)};H.rgb=oa;var Fg=oa.prototype=new ea;Fg.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b;if(!b&&!c&&!d)return new oa(30,30,30);b&&30>b&&(b=30);c&&30>c&&(c=30);d&&30>d&&(d=30);return new oa(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))};Fg.darker=function(a){a=Math.pow(.7,
arguments.length?a:1);return new oa(a*this.r,a*this.g,a*this.b)};Fg.hsl=function(){return cb(this.r,this.g,this.b)};Fg.toString=function(){return"#"+ib(this.r)+ib(this.g)+ib(this.b)};var Dg=H.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Dg.forEach(function(a,b){Dg.set(a,new oa(b>>16,b>>8&255,b&255))});H.functor=W;H.xhr=wa(g);H.dsv=function(a,b){function c(a,c,g){3>arguments.length&&(g=c,c=null);var h=Xb(a,
b,null==c?d:e(c),g);h.row=function(a){return arguments.length?h.response(null==(c=a)?d:e(a)):c};return h}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function g(b){return b.map(h).join(a)}function h(a){return k.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var k=new RegExp('["'+a+"\n]"),f=a.charCodeAt(0);c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,
b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})};c.parseRows=function(a,b){function c(){if(k>=h)return e;if(n)return n=!1,d;var b=k;if(34===a.charCodeAt(b)){for(var c=b;c++<h;)if(34===a.charCodeAt(c)){if(34!==a.charCodeAt(c+1))break;++c}k=c+2;var g=a.charCodeAt(c+1);13===g?(n=!0,10===a.charCodeAt(c+2)&&++k):10===g&&(n=!0);return a.slice(b+1,c).replace(/""/g,'"')}for(;k<h;){g=a.charCodeAt(k++);c=1;if(10===g)n=!0;else if(13===g)n=!0,10===a.charCodeAt(k)&&
(++k,++c);else if(g!==f)continue;return a.slice(b,k-c)}return a.slice(b)}for(var d={},e={},g=[],h=a.length,k=0,l=0,m,n;(m=c())!==e;){for(var q=[];m!==d&&m!==e;)q.push(m),m=c();b&&null==(q=b(q,l++))||g.push(q)}return g};c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new A,e=[];b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))});return[e.map(h).join(a)].concat(b.map(function(b){return e.map(function(a){return h(b[a])}).join(a)})).join("\n")};c.formatRows=function(a){return a.map(g).join("\n")};
return c};H.csv=H.dsv(",","text/csv");H.tsv=H.dsv("\t","text/tab-separated-values");var ag,zf,Qd,Be,qe,yb=this[z(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};H.timer=function(a,b,c){var d=arguments.length;2>d&&(b=0);3>d&&(c=Date.now());d={c:a,t:c+b,f:!1,n:null};zf?zf.n=d:ag=d;zf=d;Qd||(Be=clearTimeout(Be),Qd=1,yb(pb))};H.timer.flush=function(){uc();hc()};H.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var kh="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,
b){var c=Math.pow(10,3*ia(8-b));return{scale:8<b?function(a){return a/c}:function(a){return a*c},symbol:a}});H.formatPrefix=function(a,b){var c=0;a&&(0>a&&(a*=-1),b&&(a=H.round(a,tc(a,b))),c=1+Math.floor(1E-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3))));return kh[8+c/3]};var lh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,Th=H.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},
x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=H.round(a,tc(a,b))).toFixed(Math.max(0,Math.min(20,tc(a*(1+1E-15),b))))}}),da=H.time={},dc=Date;Bb.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},
getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ve.setUTCDate.apply(this._,arguments)},setDay:function(){ve.setUTCDay.apply(this._,arguments)},setFullYear:function(){ve.setUTCFullYear.apply(this._,
arguments)},setHours:function(){ve.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ve.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ve.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ve.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ve.setUTCSeconds.apply(this._,arguments)},setTime:function(){ve.setTime.apply(this._,arguments)}};var ve=Date.prototype;da.year=ub(function(a){a=da.day(a);a.setMonth(0,1);return a},function(a,b){a.setFullYear(a.getFullYear()+
b)},function(a){return a.getFullYear()});da.years=da.year.range;da.years.utc=da.year.utc.range;da.day=ub(function(a){var b=new dc(2E3,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});da.days=da.day.range;da.days.utc=da.day.utc.range;da.dayOfYear=function(a){var b=da.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,
b){b=7-b;var c=da[a]=ub(function(a){(a=da.day(a)).setDate(a.getDate()-(a.getDay()+b)%7);return a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=da.year(a).getDay();return Math.floor((da.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});da[a+"s"]=c.range;da[a+"s"].utc=c.utc.range;da[a+"OfYear"]=function(a){var c=da.year(a).getDay();return Math.floor((da.dayOfYear(a)+(c+b)%7)/7)}});da.week=da.sunday;da.weeks=da.sunday.range;da.weeks.utc=da.sunday.utc.range;da.weekOfYear=da.sundayOfYear;var xh=
{"-":"",_:" ",0:"0"},jb=/^\s*\d+/,Ug=/^%/;H.locale=function(a){return{numberFormat:wf(a),timeFormat:Ad(a)}};var yh=H.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
H.format=yh.numberFormat;H.geo={};Rc.prototype={s:0,t:0,add:function(a){gd(a,this.t,Vg);gd(Vg.s,this.s,this);this.s?this.t+=Vg.t:this.s=Vg.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Vg=new Rc;H.geo.stream=function(a,b){if(a&&Sg.hasOwnProperty(a.type))Sg[a.type](a,b);else hd(a,b)};var Sg={Feature:function(a,b){hd(a.geometry,b)},FeatureCollection:function(a,b){a=a.features;for(var c=-1,d=a.length;++c<d;)hd(a[c].geometry,b)}},Tg={Sphere:function(a,b){b.sphere()},Point:function(a,
b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){Ce(a.coordinates,b,0)},MultiLineString:function(a,b){a=a.coordinates;for(var c=-1,d=a.length;++c<d;)Ce(a[c],b,0)},Polygon:function(a,b){Ob(a.coordinates,b)},MultiPolygon:function(a,b){a=a.coordinates;for(var c=-1,d=a.length;++c<d;)Ob(a[c],b)},GeometryCollection:function(a,b){a=a.geometries;for(var c=-1,d=a.length;++c<d;)hd(a[c],
b)}};H.geo.area=function(a){Wg=0;H.geo.stream(a,cd);return Wg};var Wg,Rf=new Rc,cd={sphere:function(){Wg+=4*ma},point:B,lineStart:B,lineEnd:B,polygonStart:function(){Rf.reset();cd.lineStart=Ac},polygonEnd:function(){var a=2*Rf;Wg+=0>a?4*ma+a:a;cd.lineStart=cd.lineEnd=cd.point=B}};H.geo.bounds=function(){function a(a,b){y.push(x=[m=a,q=a]);b<n&&(n=b);b>p&&(p=b)}function b(b,c){var d=ab([b*qa,c*qa]);if(v){var e=nb(v,d),e=nb([e[1],-e[0],0],e);eb(e);var e=Dc(e),g=b-u,h=0<g?1:-1,f=e[0]*Qa*h,g=180<ia(g);
g^(h*u<f&&f<h*b)?(c=e[1]*Qa,c>p&&(p=c)):(f=(f+360)%360-180,g^(h*u<f&&f<h*b))?(c=-e[1]*Qa,c<n&&(n=c)):(c<n&&(n=c),c>p&&(p=c));g?b<u?k(m,b)>k(m,q)&&(q=b):k(b,q)>k(m,q)&&(m=b):q>=m?(b<m&&(m=b),b>q&&(q=b)):b>u?k(m,b)>k(m,q)&&(q=b):k(b,q)>k(m,q)&&(m=b)}else a(b,c);v=d;u=b}function c(){D.point=b}function d(){x[0]=m;x[1]=q;D.point=a;v=null}function e(a,c){if(v){var d=a-u;w+=180<ia(d)?d+(0<d?360:-360):d}else t=a,r=c;cd.point(a,c);b(a,c)}function g(){cd.lineStart()}function h(){e(t,r);cd.lineEnd();1E-6<ia(w)&&
(m=-(q=180));x[0]=m;x[1]=q;v=null}function k(a,b){return 0>(b-=a)?b+360:b}function f(a,b){return a[0]-b[0]}function l(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var m,n,q,p,u,t,r,v,w,y,x,D={point:a,lineStart:c,lineEnd:d,polygonStart:function(){D.point=e;D.lineStart=g;D.lineEnd=h;w=0;cd.polygonStart()},polygonEnd:function(){cd.polygonEnd();D.point=a;D.lineStart=c;D.lineEnd=d;0>Rf?(m=-(q=180),n=-(p=90)):1E-6<w?p=90:-1E-6>w&&(n=-90);x[0]=m;x[1]=q}};return function(a){p=q=-(m=n=Infinity);
y=[];H.geo.stream(a,D);if(a=y.length){y.sort(f);for(var b=1,c=y[0],d,e=[c];b<a;++b)d=y[b],l(d[0],c)||l(d[1],c)?(k(c[0],d[1])>k(c[0],c[1])&&(c[1]=d[1]),k(d[0],c[1])>k(c[0],c[1])&&(c[0]=d[0])):e.push(c=d);var g=-Infinity,h;a=e.length-1;b=0;for(c=e[a];b<=a;c=d,++b)d=e[b],(h=k(c[1],d[0]))>g&&(g=h,m=d[0],q=c[1])}y=x=null;return Infinity===m||Infinity===n?[[NaN,NaN],[NaN,NaN]]:[[m,n],[q,p]]}}();H.geo.centroid=function(a){Mg=Xg=Tf=Uf=Ye=xf=yf=ye=qg=rg=Ef=0;H.geo.stream(a,ce);a=qg;var b=rg,c=Ef,d=a*a+b*b+
c*c;return 1E-12>d&&(a=xf,b=yf,c=ye,1E-6>Xg&&(a=Tf,b=Uf,c=Ye),d=a*a+b*b+c*c,1E-12>d)?[NaN,NaN]:[Math.atan2(b,a)*Qa,La(c/Math.sqrt(d))*Qa]};var Mg,Xg,Tf,Uf,Ye,xf,yf,ye,qg,rg,Ef,ce={sphere:B,point:mb,lineStart:rc,lineEnd:kb,polygonStart:function(){ce.lineStart=Cd},polygonEnd:function(){ce.lineStart=rc}},zh=Ee(zc,function(a){var b=NaN,c=NaN,d=NaN,e;return{lineStart:function(){a.lineStart();e=1},point:function(g,h){var k=0<g?ma:-ma,f=ia(g-b);if(1E-6>ia(f-ma))a.point(b,c=0<(c+h)/2?hb:-hb),a.point(d,c),
a.lineEnd(),a.lineStart(),a.point(k,c),a.point(g,c),e=0;else if(d!==k&&f>=ma){1E-6>ia(b-d)&&(b-=1E-6*d);1E-6>ia(g-k)&&(g-=1E-6*k);var f=b,l=c,m=g,n,q,p=Math.sin(f-m);c=1E-6<ia(p)?Math.atan((Math.sin(l)*(q=Math.cos(h))*Math.sin(m)-Math.sin(h)*(n=Math.cos(l))*Math.sin(f))/(n*q*p)):(l+h)/2;a.point(d,c);a.lineEnd();a.lineStart();a.point(k,c);e=0}a.point(b=g,c=h);d=k},lineEnd:function(){a.lineEnd();b=c=NaN},clean:function(){return 2-e}}},function(a,b,c,d){null==a?(c*=hb,d.point(-ma,c),d.point(0,c),d.point(ma,
c),d.point(ma,0),d.point(ma,-c),d.point(0,-c),d.point(-ma,-c),d.point(-ma,0),d.point(-ma,c)):1E-6<ia(a[0]-b[0])?(a=a[0]<b[0]?ma:-ma,c=c*a/2,d.point(-a,c),d.point(0,c),d.point(a,c)):d.point(b[0],b[1])},[-ma,-ma/2]);H.geo.clipExtent=function(){var a,b,c,d,e,g,h={stream:function(a){e&&(e.valid=!1);e=g(a);e.valid=!0;return e},extent:function(k){if(!arguments.length)return[[a,b],[c,d]];g=kd(a=+k[0][0],b=+k[0][1],c=+k[1][0],d=+k[1][1]);e&&(e.valid=!1,e=null);return h}};return h.extent([[0,0],[960,500]])};
(H.geo.conicEqualArea=function(){return Lc(Ub)}).raw=Ub;H.geo.albers=function(){return H.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)};H.geo.albersUsa=function(){function a(a){var b=a[0];a=a[1];e=null;(h(b,a),e)||(k(b,a),e)||f(b,a);return e}var b=H.geo.albers(),c=H.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),d=H.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),e,g={point:function(a,b){e=[a,b]}},h,k,
f;a.invert=function(a){var e=b.scale(),g=b.translate(),h=(a[0]-g[0])/e,e=(a[1]-g[1])/e;return(.12<=e&&.234>e&&-.425<=h&&-.214>h?c:.166<=e&&.234>e&&-.214<=h&&-.115>h?d:b).invert(a)};a.stream=function(a){var e=b.stream(a),g=c.stream(a),h=d.stream(a);return{point:function(a,b){e.point(a,b);g.point(a,b);h.point(a,b)},sphere:function(){e.sphere();g.sphere();h.sphere()},lineStart:function(){e.lineStart();g.lineStart();h.lineStart()},lineEnd:function(){e.lineEnd();g.lineEnd();h.lineEnd()},polygonStart:function(){e.polygonStart();
g.polygonStart();h.polygonStart()},polygonEnd:function(){e.polygonEnd();g.polygonEnd();h.polygonEnd()}}};a.precision=function(e){if(!arguments.length)return b.precision();b.precision(e);c.precision(e);d.precision(e);return a};a.scale=function(e){if(!arguments.length)return b.scale();b.scale(e);c.scale(.35*e);d.scale(e);return a.translate(b.translate())};a.translate=function(e){if(!arguments.length)return b.translate();var l=b.scale(),m=+e[0],n=+e[1];h=b.translate(e).clipExtent([[m-.455*l,n-.238*l],
[m+.455*l,n+.238*l]]).stream(g).point;k=c.translate([m-.307*l,n+.201*l]).clipExtent([[m-.425*l+1E-6,n+.12*l+1E-6],[m-.214*l-1E-6,n+.234*l-1E-6]]).stream(g).point;f=d.translate([m-.205*l,n+.212*l]).clipExtent([[m-.214*l+1E-6,n+.166*l+1E-6],[m-.115*l-1E-6,n+.234*l-1E-6]]).stream(g).point;return a};return a.scale(1070)};var sh,nh,Pf={point:B,lineStart:B,lineEnd:B,polygonStart:function(){nh=0;Pf.lineStart=Ge},polygonEnd:function(){Pf.lineStart=Pf.lineEnd=Pf.point=B;sh+=ia(nh/2)}},bh,ch,dh,eh,Zh={point:function(a,
b){a<bh&&(bh=a);a>dh&&(dh=a);b<ch&&(ch=b);b>eh&&(eh=b)},lineStart:B,lineEnd:B,polygonStart:B,polygonEnd:B},te={point:bc,lineStart:Me,lineEnd:cf,polygonStart:function(){te.lineStart=Aa},polygonEnd:function(){te.point=bc;te.lineStart=Me;te.lineEnd=cf}};H.geo.path=function(){function a(a){a&&("function"===typeof c&&k.pointRadius(+c.apply(this,arguments)),f&&f.valid||(f=h(k)),H.geo.stream(a,f));return k.result()}function b(){f=null;return a}var c=4.5,d,e,h,k,f;a.area=function(a){sh=0;H.geo.stream(a,h(Pf));
return sh};a.centroid=function(a){Tf=Uf=Ye=xf=yf=ye=qg=rg=Ef=0;H.geo.stream(a,h(te));return Ef?[qg/Ef,rg/Ef]:ye?[xf/ye,yf/ye]:Ye?[Tf/Ye,Uf/Ye]:[NaN,NaN]};a.bounds=function(a){dh=eh=-(bh=ch=Infinity);H.geo.stream(a,h(Zh));return[[bh,ch],[dh,eh]]};a.projection=function(a){if(!arguments.length)return d;h=(d=a)?a.stream||be(a):g;return b()};a.context=function(a){if(!arguments.length)return e;k=null==(e=a)?new ld:new sg(a);"function"!==typeof c&&k.pointRadius(c);return b()};a.pointRadius=function(b){if(!arguments.length)return c;
c="function"===typeof b?b:(k.pointRadius(+b),+b);return a};return a.projection(H.geo.albersUsa()).context(null)};H.geo.transform=function(a){return{stream:function(b){b=new Yf(b);for(var c in a)b[c]=a[c];return b}}};Yf.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
H.geo.projection=Tb;H.geo.projectionMutator=ae;(H.geo.equirectangular=function(){return Tb(fe)}).raw=fe.invert=fe;H.geo.rotation=function(a){function b(b){b=a(b[0]*qa,b[1]*qa);return b[0]*=Qa,b[1]*=Qa,b}a=Ff(a[0]%360*qa,a[1]*qa,2<a.length?a[2]*qa:0);b.invert=function(b){b=a.invert(b[0]*qa,b[1]*qa);return b[0]*=Qa,b[1]*=Qa,b};return b};bg.invert=fe;H.geo.circle=function(){function a(){var a="function"===typeof b?b.apply(this,arguments):b,c=Ff(-a[0]*qa,-a[1]*qa,0).invert,d=[];e(null,null,1,{point:function(a,
b){d.push(a=c(a,b));a[0]*=Qa;a[1]*=Qa}});return{type:"Polygon",coordinates:[d]}}var b=[0,0],c,d=6,e;a.origin=function(c){if(!arguments.length)return b;b=c;return a};a.angle=function(b){if(!arguments.length)return c;e=ff((c=+b)*qa,d*qa);return a};a.precision=function(b){if(!arguments.length)return d;e=ff(c*qa,(d=+b)*qa);return a};return a.angle(90)};H.geo.distance=function(a,b){var c=(b[0]-a[0])*qa,d=a[1]*qa,e=b[1]*qa;b=Math.cos(c);a=Math.sin(d);var d=Math.cos(d),g=Math.sin(e),e=Math.cos(e),h;return Math.atan2(Math.sqrt((h=
e*Math.sin(c))*h+(h=d*g-a*e*b)*h),a*g+d*e*b)};H.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return H.range(Math.ceil(g/q)*q,e,q).map(r).concat(H.range(Math.ceil(l/p)*p,f,p).map(v)).concat(H.range(Math.ceil(d/m)*m,c,m).filter(function(a){return 1E-6<ia(a%q)}).map(u)).concat(H.range(Math.ceil(k/n)*n,h,n).filter(function(a){return 1E-6<ia(a%p)}).map(t))}var c,d,e,g,h,k,f,l,m=10,n=m,q=90,p=360,u,t,r,v,w=2.5;a.lines=function(){return b().map(function(a){return{type:"LineString",
coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[r(g).concat(v(f).slice(1),r(e).reverse().slice(1),v(l).reverse().slice(1))]}};a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()};a.majorExtent=function(b){if(!arguments.length)return[[g,l],[e,f]];g=+b[0][0];e=+b[1][0];l=+b[0][1];f=+b[1][1];g>e&&(b=g,g=e,e=b);l>f&&(b=l,l=f,f=b);return a.precision(w)};a.minorExtent=function(b){if(!arguments.length)return[[d,k],[c,h]];d=+b[0][0];c=+b[1][0];
k=+b[0][1];h=+b[1][1];d>c&&(b=d,d=c,c=b);k>h&&(b=k,k=h,h=b);return a.precision(w)};a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()};a.majorStep=function(b){if(!arguments.length)return[q,p];q=+b[0];p=+b[1];return a};a.minorStep=function(b){if(!arguments.length)return[m,n];m=+b[0];n=+b[1];return a};a.precision=function(b){if(!arguments.length)return w;w=+b;u=tg(k,h,90);t=ee(d,c,w);r=tg(l,f,90);v=ee(g,e,w);return a};return a.majorExtent([[-180,-89.999999],[180,89.999999]]).minorExtent([[-180,
-80.000001],[180,80.000001]])};H.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[c||b.apply(this,arguments),e||d.apply(this,arguments)]}}var b=De,c,d=Jd,e;a.distance=function(){return H.geo.distance(c||b.apply(this,arguments),e||d.apply(this,arguments))};a.source=function(d){if(!arguments.length)return b;b=d;c="function"===typeof d?null:d;return a};a.target=function(b){if(!arguments.length)return d;d=b;e="function"===typeof b?null:b;return a};a.precision=function(){return arguments.length?
a:0};return a};H.geo.interpolate=function(a,b){return bb(a[0]*qa,a[1]*qa,b[0]*qa,b[1]*qa)};H.geo.length=function(a){th=0;H.geo.stream(a,Kg);return th};var th,Kg={sphere:B,point:B,lineStart:function(){function a(a,e){var g=Math.sin(e*=qa);e=Math.cos(e);var h=ia((a*=qa)-b),k=Math.cos(h);th+=Math.atan2(Math.sqrt((h=e*Math.sin(h))*h+(h=d*g-c*e*k)*h),c*g+d*e*k);b=a;c=g;d=e}var b,c,d;Kg.point=function(e,g){b=e*qa;c=Math.sin(g*=qa);d=Math.cos(g);Kg.point=a};Kg.lineEnd=function(){Kg.point=Kg.lineEnd=B}},
lineEnd:B,polygonStart:B,polygonEnd:B},Fh=Rb(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(H.geo.azimuthalEqualArea=function(){return Tb(Fh)}).raw=Fh;var Gh=Rb(function(a){return(a=Math.acos(a))&&a/Math.sin(a)},g);(H.geo.azimuthalEquidistant=function(){return Tb(Gh)}).raw=Gh;(H.geo.conicConformal=function(){return Lc(Ga)}).raw=Ga;(H.geo.conicEquidistant=function(){return Lc(Gc)}).raw=Gc;var Hh=Rb(function(a){return 1/a},Math.atan);(H.geo.gnomonic=function(){return Tb(Hh)}).raw=
Hh;Hc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-hb]};(H.geo.mercator=function(){return lc(Hc)}).raw=Hc;var Ih=Rb(function(){return 1},Math.asin);(H.geo.orthographic=function(){return Tb(Ih)}).raw=Ih;var Jh=Rb(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(H.geo.stereographic=function(){return Tb(Jh)}).raw=Jh;gf.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-hb]};(H.geo.transverseMercator=function(){var a=lc(gf),b=a.center,c=a.rotate;a.center=function(a){return a?
b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])};a.rotate=function(a){return a?c([a[0],a[1],2<a.length?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])};return c([0,0,90])}).raw=gf;H.geom={};H.geom.hull=function(a){function b(a){if(3>a.length)return[];var b=W(c),e=W(d),g,h=a.length,k=[],f=[];for(g=0;g<h;g++)k.push([+b.call(this,a[g],g),+e.call(this,a[g],g),g]);k.sort(Kd);for(g=0;g<h;g++)f.push([k[g][0],-k[g][1]]);var b=Pe(k),f=Pe(f),e=f[0]===b[0],h=f[f.length-1]===b[b.length-1],l=[];for(g=b.length-1;0<=g;--g)l.push(a[k[b[g]][2]]);
for(g=+e;g<f.length-h;++g)l.push(a[k[f[g]][2]]);return l}var c=ta,d=Oe;if(arguments.length)return b(a);b.x=function(a){return arguments.length?(c=a,b):c};b.y=function(a){return arguments.length?(d=a,b):d};return b};H.geom.polygon=function(a){wb(a,fh);return a};var fh=H.geom.polygon.prototype=[];fh.area=function(){for(var a=-1,b=this.length,c,d=this[b-1],e=0;++a<b;)c=d,d=this[a],e+=c[1]*d[0]-c[0]*d[1];return.5*e};fh.centroid=function(a){var b=-1,c=this.length,d=0,e=0,g,h=this[c-1],k;for(arguments.length||
(a=-1/(6*this.area()));++b<c;)g=h,h=this[b],k=g[0]*h[1]-h[0]*g[1],d+=(g[0]+h[0])*k,e+=(g[1]+h[1])*k;return[d*a,e*a]};fh.clip=function(a){for(var b,c=eg(a),d=-1,e=this.length-eg(this),g,h,k=this[e-1],f,l,m;++d<e;){b=a.slice();a.length=0;f=this[d];l=b[(h=b.length-c)-1];for(g=-1;++g<h;)m=b[g],mc(m,k,f)?(mc(l,k,f)||a.push(Ic(l,m,k,f)),a.push(m)):mc(l,k,f)&&a.push(Ic(l,m,k,f)),l=m;c&&a.push(a[0]);k=f}return a};var Jg,lg,Ig,Ah=[],oh,Rg,Bh=[];md.prototype.prepare=function(){for(var a=this.edges,b=a.length,
c;b--;)c=a[b].edge,c.b&&c.a||a.splice(b,1);a.sort(cg);return a.length};nc.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};ke.prototype={insert:function(a,b){var c,d;if(a){b.P=a;if(b.N=a.N)a.N.P=b;a.N=b;if(a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=Jf(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);b.L=b.R=null;b.U=c;b.C=!0;for(a=b;c&&c.C;)b=c.U,c===b.L?
(d=b.R)&&d.C?(c.C=d.C=!1,b.C=!0,a=b):(a===c.R&&(Qe(this,c),a=c,c=a.U),c.C=!1,b.C=!0,le(this,b)):(d=b.L)&&d.C?(c.C=d.C=!1,b.C=!0,a=b):(a===c.L&&(le(this,c),a=c,c=a.U),c.C=!1,b.C=!0,Qe(this,b)),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b=a.U,c=a.L,d=a.R,e,g;e=c?d?Jf(d):c:d;b?b.L===a?b.L=e:b.R=e:this._=e;c&&d?(g=e.C,e.C=a.C,e.L=c,c.U=e,e!==d?(b=e.U,e.U=a.U,a=e.R,b.L=a,e.R=d,d.U=e):(e.U=b,b=e,a=e.R)):(g=a.C,a=e);a&&(a.U=b);if(!g)if(a&&a.C)a.C=!1;else{do{if(a===
this._)break;if(a===b.L){if(a=b.R,a.C&&(a.C=!1,b.C=!0,Qe(this,b),a=b.R),a.L&&a.L.C||a.R&&a.R.C){a.R&&a.R.C||(a.L.C=!1,a.C=!0,le(this,a),a=b.R);a.C=b.C;b.C=a.R.C=!1;Qe(this,b);a=this._;break}}else if(a=b.L,a.C&&(a.C=!1,b.C=!0,le(this,b),a=b.L),a.L&&a.L.C||a.R&&a.R.C){a.L&&a.L.C||(a.R.C=!1,a.C=!0,Qe(this,a),a=b.L);a.C=b.C;b.C=a.L.C=!1;le(this,b);a=this._;break}a.C=!0;a=b;b=b.U}while(!a.C);a&&(a.C=!1)}}};H.geom.voronoi=function(a){function b(a){var b=Array(a.length),d=k[0][0],e=k[0][1],g=k[1][0],h=k[1][1];
me(c(a),k).cells.forEach(function(c,k){var f=c.edges;c=c.site;(b[k]=f.length?f.map(function(a){a=a.start();return[a.x,a.y]}):c.x>=d&&c.x<=g&&c.y>=e&&c.y<=h?[[d,h],[g,h],[g,e],[d,e]]:[]).point=a[k]});return b}function c(a){return a.map(function(a,b){return{x:1E-6*Math.round(g(a,b)/1E-6),y:1E-6*Math.round(h(a,b)/1E-6),i:b}})}var d=ta,e=Oe,g=d,h=e,k=gh;if(a)return b(a);b.links=function(a){return me(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})};
b.triangles=function(a){var b=[];me(c(a)).cells.forEach(function(c,d){var e=c.site;c=c.edges.sort(cg);for(var g=-1,h=c.length,k,f=c[h-1].edge,f=f.l===e?f.r:f.l;++g<h;)k=f,f=c[g].edge,f=f.l===e?f.r:f.l,d<k.i&&d<f.i&&0>(e.x-f.x)*(k.y-e.y)-(e.x-k.x)*(f.y-e.y)&&b.push([a[d],a[k.i],a[f.i]])});return b};b.x=function(a){return arguments.length?(g=W(d=a),b):d};b.y=function(a){return arguments.length?(h=W(e=a),b):e};b.clipExtent=function(a){if(!arguments.length)return k===gh?null:k;k=null==a?gh:a;return b};
b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):k===gh?null:k&&k[1]};return b};var gh=[[-1E6,-1E6],[1E6,1E6]];H.geom.delaunay=function(a){return H.geom.voronoi().triangles(a)};H.geom.quadtree=function(a,b,c,d,e){function g(a){function g(a,b,c,d,e,g,h,k){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var f=a.x,m=a.y;if(null!=f){if(!(.01>ia(f-c)+ia(m-d))){var n=a.point;a.x=a.y=a.point=null;l(a,n,f,m,e,g,h,k)}l(a,b,c,d,e,g,h,k)}else a.x=c,a.y=d,a.point=b}else l(a,b,c,d,e,g,h,k)}function l(a,
b,c,d,e,h,k,f){var l=.5*(e+k),m=.5*(h+f),n=c>=l,q=d>=m,p=q<<1|n;a.leaf=!1;a=a.nodes[p]||(a.nodes[p]=Kf());n?e=l:k=l;q?h=m:f=m;g(a,b,c,d,e,h,k,f)}var m,n=W(h),q=W(k),p,u,t,r,v,w,y,x;if(null!=b)v=b,w=c,y=d,x=e;else if(y=x=-(v=w=Infinity),p=[],u=[],r=a.length,f)for(t=0;t<r;++t)m=a[t],m.x<v&&(v=m.x),m.y<w&&(w=m.y),m.x>y&&(y=m.x),m.y>x&&(x=m.y),p.push(m.x),u.push(m.y);else for(t=0;t<r;++t){var D=+n(m=a[t],t);m=+q(m,t);D<v&&(v=D);m<w&&(w=m);D>y&&(y=D);m>x&&(x=m);p.push(D);u.push(m)}D=y-v;m=x-w;D>m?x=w+
D:y=v+m;var B=Kf();B.add=function(a){g(B,a,+n(a,++t),+q(a,t),v,w,y,x)};B.visit=function(a){ed(a,B,v,w,y,x)};B.find=function(a){return Md(B,a[0],a[1],v,w,y,x)};t=-1;if(null==b){for(;++t<r;)g(B,a[t],p[t],u[t],v,w,y,x);--t}else a.forEach(B.add);p=u=a=m=null;return B}var h=ta,k=Oe,f;if(f=arguments.length)return h=gg,k=Pc,3===f&&(e=c,d=b,c=b=0),g(a);g.x=function(a){return arguments.length?(h=a,g):h};g.y=function(a){return arguments.length?(k=a,g):k};g.extent=function(a){if(!arguments.length)return null==
b?null:[[b,c],[d,e]];null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]);return g};g.size=function(a){if(!arguments.length)return null==b?null:[d-b,e-c];null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]);return g};return g};H.interpolateRgb=Wa;H.interpolateObject=hg;H.interpolateNumber=Wc;H.interpolateString=lf;var ph=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qh=new RegExp(ph.source,"g");H.interpolate=pd;H.interpolators=[function(a,b){var c=typeof b;return("string"===c?Dg.has(b.toLowerCase())||
/^(#|rgb\(|hsl\()/i.test(b)?Wa:lf:b instanceof ea?Wa:Array.isArray(b)?he:"object"===c&&isNaN(b)?hg:Wc)(a,b)}];H.interpolateArray=he;var Kh=function(){return g},$h=H.map({linear:Kh,poly:function(a){return function(b){return Math.pow(b,a)}},quad:function(){return Hd},cubic:function(){return sf},sin:function(){return yd},exp:function(){return pe},circle:function(){return oc},elastic:function(a,b){var c;2>arguments.length&&(b=.45);arguments.length?c=b/Sb*Math.asin(1/a):(a=1,c=b/4);return function(d){return 1+
a*Math.pow(2,-10*d)*Math.sin((d-c)*Sb/b)}},back:function(a){a||(a=1.70158);return function(b){return b*b*((a+1)*b-a)}},bounce:function(){return Pa}}),ai=H.map({"in":g,out:ne,"in-out":oe,"out-in":function(a){return oe(ne(a))}});H.ease=function(a){var b=a.indexOf("-"),c=0<=b?a.slice(0,b):a,b=0<=b?a.slice(b+1):"in",c=$h.get(c)||Kh,b=ai.get(b)||g;return Id(b(c.apply(null,kf.call(arguments,1))))};H.interpolateHcl=function(a,b){a=H.hcl(a);b=H.hcl(b);var c=a.h,d=a.c,e=a.l,g=b.h-c,h=b.c-d,k=b.l-e;isNaN(h)&&
(h=0,d=isNaN(d)?b.c:d);isNaN(g)?(g=0,c=isNaN(c)?b.h:c):180<g?g-=360:-180>g&&(g+=360);return function(a){return za(c+g*a,d+h*a,e+k*a)+""}};H.interpolateHsl=function(a,b){a=H.hsl(a);b=H.hsl(b);var c=a.h,d=a.s,e=a.l,g=b.h-c,h=b.s-d,k=b.l-e;isNaN(h)&&(h=0,d=isNaN(d)?b.s:d);isNaN(g)?(g=0,c=isNaN(c)?b.h:c):180<g?g-=360:-180>g&&(g+=360);return function(a){return C(c+g*a,d+h*a,e+k*a)+""}};H.interpolateLab=function(a,b){a=H.lab(a);b=H.lab(b);var c=a.l,d=a.a,e=a.b,g=b.l-c,h=b.a-d,k=b.b-e;return function(a){return Ra(c+
g*a,d+h*a,e+k*a)+""}};H.interpolateRound=ad;H.transform=function(a){var b=Ja.createElementNS(H.ns.prefix.svg,"g");return(H.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new qc(c?c.matrix:bi)})(a)};qc.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var bi={a:1,b:0,c:0,d:1,e:0,f:0};H.interpolateTransform=Jc;H.layout={};H.layout.bundle=function(){return function(a){for(var b=
[],c=-1,d=a.length;++c<d;)b.push(dg(a[c]));return b}};H.layout.chord=function(){function a(){var a={},c=[],n=H.range(h),q=[],p,u,t,r,v;d=[];e=[];p=0;for(r=-1;++r<h;){u=0;for(v=-1;++v<h;)u+=g[r][v];c.push(u);q.push(H.range(h));p+=u}f&&n.sort(function(a,b){return f(c[a],c[b])});l&&q.forEach(function(a,b){a.sort(function(a,c){return l(g[b][a],g[b][c])})});p=(Sb-k*h)/p;u=0;for(r=-1;++r<h;){t=u;for(v=-1;++v<h;){var w=n[r],y=q[w][v],x=g[w][y],D=u,B=u+=x*p;a[w+"-"+y]={index:w,subindex:y,startAngle:D,endAngle:B,
value:x}}e[w]={index:w,startAngle:t,endAngle:u,value:(u-t)/p};u+=k}for(r=-1;++r<h;)for(v=r-1;++v<h;)n=a[r+"-"+v],q=a[v+"-"+r],(n.value||q.value)&&d.push(n.value<q.value?{source:q,target:n}:{source:n,target:q});m&&b()}function b(){d.sort(function(a,b){return m((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c={},d,e,g,h,k=0,f,l,m;c.matrix=function(a){if(!arguments.length)return g;h=(g=a)&&g.length;d=e=null;return c};c.padding=function(a){if(!arguments.length)return k;k=a;
d=e=null;return c};c.sortGroups=function(a){if(!arguments.length)return f;f=a;d=e=null;return c};c.sortSubgroups=function(a){if(!arguments.length)return l;l=a;d=null;return c};c.sortChords=function(a){if(!arguments.length)return m;m=a;d&&b();return c};c.chords=function(){d||a();return d};c.groups=function(){e||a();return e};return c};H.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){d=b.cx-a.x;var g=b.cy-a.y;c=e-c;e=d*d+g*g;if(c*c/u<e)return e<q&&(c=b.charge/e,a.px-=
d*c,a.py-=g*c),!0;b.point&&e&&e<q&&(c=b.pointCharge/e,a.px-=d*c,a.py-=g*c)}return!b.charge}}function b(a){a.px=H.event.x;a.py=H.event.y;c.resume()}var c={},d=H.dispatch("start","tick","end"),e=[1,1],h,k,f=.9,l=ci,m=di,n=-30,q=ei,p=.1,u=.64,t=[],r=[],v,w,y;c.tick=function(){if(.005>(k*=.99))return d.end({type:"end",alpha:k=0}),!0;var b=t.length,c=r.length,g,h,l,m,q,u,x;for(g=0;g<c;++g)if(h=r[g],l=h.source,m=h.target,u=m.x-l.x,x=m.y-l.y,q=u*u+x*x)q=k*w[g]*((q=Math.sqrt(q))-v[g])/q,u*=q,x*=q,m.x-=u*
(q=l.weight/(m.weight+l.weight)),m.y-=x*q,l.x+=u*(q=1-q),l.y+=x*q;if(q=k*p)if(u=e[0]/2,x=e[1]/2,g=-1,q)for(;++g<b;)h=t[g],h.x+=(u-h.x)*q,h.y+=(x-h.y)*q;if(n)for(qd(c=H.geom.quadtree(t),k,y),g=-1;++g<b;)(h=t[g]).fixed||c.visit(a(h));for(g=-1;++g<b;)h=t[g],h.fixed?(h.x=h.px,h.y=h.py):(h.x-=(h.px-(h.px=h.x))*f,h.y-=(h.py-(h.py=h.y))*f);d.tick({type:"tick",alpha:k})};c.nodes=function(a){if(!arguments.length)return t;t=a;return c};c.links=function(a){if(!arguments.length)return r;r=a;return c};c.size=
function(a){if(!arguments.length)return e;e=a;return c};c.linkDistance=function(a){if(!arguments.length)return l;l="function"===typeof a?a:+a;return c};c.distance=c.linkDistance;c.linkStrength=function(a){if(!arguments.length)return m;m="function"===typeof a?a:+a;return c};c.friction=function(a){if(!arguments.length)return f;f=+a;return c};c.charge=function(a){if(!arguments.length)return n;n="function"===typeof a?a:+a;return c};c.chargeDistance=function(a){if(!arguments.length)return Math.sqrt(q);
q=a*a;return c};c.gravity=function(a){if(!arguments.length)return p;p=+a;return c};c.theta=function(a){if(!arguments.length)return Math.sqrt(u);u=a*a;return c};c.alpha=function(a){if(!arguments.length)return k;a=+a;k?k=0<a?a:0:0<a&&(d.start({type:"start",alpha:k=a}),H.timer(c.tick));return c};c.start=function(){function a(a,c){if(!f){f=Array(d);for(h=0;h<d;++h)f[h]=[];for(h=0;h<g;++h){var e=r[h];f[e.source.index].push(e.target);f[e.target.index].push(e.source)}}for(var e=f[b],h=-1,k=e.length,l;++h<
k;)if(!isNaN(l=e[h][a]))return l;return Math.random()*c}var b,d=t.length,g=r.length,h=e[0],k=e[1],f,q;for(b=0;b<d;++b)(q=t[b]).index=b,q.weight=0;for(b=0;b<g;++b)q=r[b],"number"==typeof q.source&&(q.source=t[q.source]),"number"==typeof q.target&&(q.target=t[q.target]),++q.source.weight,++q.target.weight;for(b=0;b<d;++b)q=t[b],isNaN(q.x)&&(q.x=a("x",h)),isNaN(q.y)&&(q.y=a("y",k)),isNaN(q.px)&&(q.px=q.x),isNaN(q.py)&&(q.py=q.y);v=[];if("function"===typeof l)for(b=0;b<g;++b)v[b]=+l.call(this,r[b],b);
else for(b=0;b<g;++b)v[b]=l;w=[];if("function"===typeof m)for(b=0;b<g;++b)w[b]=+m.call(this,r[b],b);else for(b=0;b<g;++b)w[b]=m;y=[];if("function"===typeof n)for(b=0;b<d;++b)y[b]=+n.call(this,t[b],b);else for(b=0;b<d;++b)y[b]=n;return c.resume()};c.resume=function(){return c.alpha(.1)};c.stop=function(){return c.alpha(0)};c.drag=function(){h||(h=H.behavior.drag().origin(g).on("dragstart.force",fb).on("drag.force",b).on("dragend.force",ug));if(!arguments.length)return h;this.on("mouseover.force",Re).on("mouseout.force",
jg).call(h)};return H.rebind(c,d,"on")};var ci=20,di=1,ei=Infinity;H.layout.hierarchy=function(){function a(e){var g=[e],h=[],k;for(e.depth=0;null!=(k=g.pop());)if(h.push(k),(l=c.call(a,k,k.depth))&&(f=l.length)){for(var f,l,m;0<=--f;)g.push(m=l[f]),m.parent=k,m.depth=k.depth+1;d&&(k.value=0);k.children=l}else d&&(k.value=+d.call(a,k,k.depth)||0),delete k.children;jc(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b);d&&(e=a.parent)&&(e.value+=a.value)});return h}var b=wg,c=nf,d=Xa;a.sort=function(c){if(!arguments.length)return b;
b=c;return a};a.children=function(b){if(!arguments.length)return c;c=b;return a};a.value=function(b){if(!arguments.length)return d;d=b;return a};a.revalue=function(b){d&&(kc(b,function(a){a.children&&(a.value=0)}),jc(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0);if(c=b.parent)c.value+=b.value}));return b};return a};H.layout.partition=function(){function a(b,c,d,e){var g=b.children;b.x=c;b.y=b.depth*e;b.dx=d;b.dy=e;if(g&&(k=g.length)){var h=-1,k,f;for(d=b.value?d/b.value:0;++h<
k;)a(f=g[h],c,b=f.value*d,e),c+=b}}function b(a){a=a.children;var c=0;if(a&&(e=a.length))for(var d=-1,e;++d<e;)c=Math.max(c,b(a[d]));return 1+c}function c(c,g){c=d.call(this,c,g);a(c[0],0,e[0],e[1]/b(c[0]));return c}var d=H.layout.hierarchy(),e=[1,1];c.size=function(a){if(!arguments.length)return e;e=a;return c};return ge(c,d)};H.layout.pie=function(){function a(h){var k=h.length,f=h.map(function(c,d){return+b.call(a,c,d)}),l=+("function"===typeof d?d.apply(this,arguments):d),m=("function"===typeof e?
e.apply(this,arguments):e)-l,n=Math.min(Math.abs(m)/k,+("function"===typeof g?g.apply(this,arguments):g)),q=n*(0>m?-1:1),p=(m-k*q)/H.sum(f),k=H.range(k),u=[],t;null!=c&&k.sort(c===Lh?function(a,b){return f[b]-f[a]}:function(a,b){return c(h[a],h[b])});k.forEach(function(a){u[a]={data:h[a],value:t=f[a],startAngle:l,endAngle:l+=t*p+q,padAngle:n}});return u}var b=Number,c=Lh,d=0,e=Sb,g=0;a.value=function(c){if(!arguments.length)return b;b=c;return a};a.sort=function(b){if(!arguments.length)return c;c=
b;return a};a.startAngle=function(b){if(!arguments.length)return d;d=b;return a};a.endAngle=function(b){if(!arguments.length)return e;e=b;return a};a.padAngle=function(b){if(!arguments.length)return g;g=b;return a};return a};var Lh={};H.layout.stack=function(){function a(g,f){if(!(q=g.length))return g;var l=g.map(function(c,d){return b.call(a,c,d)}),m=l.map(function(b){return b.map(function(b,c){return[h.call(a,b,c),k.call(a,b,c)]})}),n=c.call(a,m,f),l=H.permute(l,n),m=H.permute(m,n);f=d.call(a,m,
f);var n=l[0].length,q,p,u,t;for(u=0;u<n;++u)for(e.call(a,l[0][u],t=f[u],m[0][u][1]),p=1;p<q;++p)e.call(a,l[p][u],t+=m[p-1][u][1],m[p][u][1]);return g}var b=g,c=Rd,d=Jb,e=gb,h=og,k=gc;a.values=function(c){if(!arguments.length)return b;b=c;return a};a.order=function(b){if(!arguments.length)return c;c="function"===typeof b?b:fi.get(b)||Rd;return a};a.offset=function(b){if(!arguments.length)return d;d="function"===typeof b?b:gi.get(b)||Jb;return a};a.x=function(b){if(!arguments.length)return h;h=b;return a};
a.y=function(b){if(!arguments.length)return k;k=b;return a};a.out=function(b){if(!arguments.length)return e;e=b;return a};return a};var fi=H.map({"inside-out":function(a){var b=a.length,c,d=a.map(Na),e=a.map(zb),g=H.range(b).sort(function(a,b){return d[a]-d[b]}),h=0,k=0,f=[],l=[];for(a=0;a<b;++a)c=g[a],h<k?(h+=e[c],f.push(c)):(k+=e[c],l.push(c));return l.reverse().concat(f)},reverse:function(a){return H.range(a.length).reverse()},"default":Rd}),gi=H.map({silhouette:function(a){var b=a.length,c=a[0].length,
d=[],e=0,g,h,k,f=[];for(h=0;h<c;++h){for(k=g=0;g<b;g++)k+=a[g][h][1];k>e&&(e=k);d.push(k)}for(h=0;h<c;++h)f[h]=(e-d[h])/2;return f},wiggle:function(a){var b=a.length,c=a[0],d=c.length,e,g,h,k,f,l,m,n,q,p=[];p[0]=n=q=0;for(g=1;g<d;++g){for(k=e=0;e<b;++e)k+=a[e][g][1];f=e=0;for(m=c[g][0]-c[g-1][0];e<b;++e){h=0;for(l=(a[e][g][1]-a[e][g-1][1])/(2*m);h<e;++h)l+=(a[h][g][1]-a[h][g-1][1])/m;f+=l*a[e][g][1]}p[g]=n-=k?f/k*m:0;n<q&&(q=n)}for(g=0;g<d;++g)p[g]-=q;return p},expand:function(a){var b=a.length,c=
a[0].length,d=1/b,e,g,h,k=[];for(g=0;g<c;++g){for(h=e=0;e<b;e++)h+=a[e][g][1];if(h)for(e=0;e<b;e++)a[e][g][1]/=h;else for(e=0;e<b;e++)a[e][g][1]=d}for(g=0;g<c;++g)k[g]=0;return k},zero:Jb});H.layout.histogram=function(){function a(a,g){var h=[],k=a.map(c,this),f=d.call(this,k,g),l=e.call(this,f,k,g),m;g=-1;for(var n=k.length,q=l.length-1,p=b?1:1/n;++g<q;)m=h[g]=[],m.dx=l[g+1]-(m.x=l[g]),m.y=0;if(0<q)for(g=-1;++g<n;)m=k[g],m>=f[0]&&m<=f[1]&&(m=h[H.bisect(l,m,1,q)-1],m.y+=p,m.push(a[g]));return h}var b=
!0,c=Number,d=yc,e=rd;a.value=function(b){if(!arguments.length)return c;c=b;return a};a.range=function(b){if(!arguments.length)return d;d=W(b);return a};a.bins=function(b){if(!arguments.length)return e;e="number"===typeof b?function(a){return kg(a,b)}:W(b);return a};a.frequency=function(c){if(!arguments.length)return b;b=!!c;return a};return a};H.layout.pack=function(){function a(a,g){a=b.call(this,a,g);g=a[0];var h=d[0],k=d[1],f=null==e?Math.sqrt:"function"===typeof e?e:function(){return e};g.x=
g.y=0;jc(g,function(a){a.r=+f(a.value)});jc(g,la);if(c){var l=c*(e?1:Math.max(2*g.r/h,2*g.r/k))/2;jc(g,function(a){a.r+=l});jc(g,la);jc(g,function(a){a.r-=l})}Vb(g,h/2,k/2,e?1:1/Math.max(2*g.r/h,2*g.r/k));return a}var b=H.layout.hierarchy().sort(Ve),c=0,d=[1,1],e;a.size=function(b){if(!arguments.length)return d;d=b;return a};a.radius=function(b){if(!arguments.length)return e;e=null==b||"function"===typeof b?b:+b;return a};a.padding=function(b){if(!arguments.length)return c;c=+b;return a};return ge(a,
b)};H.layout.tree=function(){function a(a,l){a=g.call(this,a,l);l=a[0];var m=b(l);jc(m,c);m.parent.m=-m.z;kc(m,d);if(f)kc(l,e);else{var n=l,q=l,p=l;kc(l,function(a){a.x<n.x&&(n=a);a.x>q.x&&(q=a);a.depth>p.depth&&(p=a)});var u=h(n,q)/2-n.x,t=k[0]/(q.x+h(q,n)/2+u),r=k[1]/(p.depth||1);kc(l,function(a){a.x=(a.x+u)*t;a.y=a.depth*r})}return a}function b(a){a={A:null,children:[a]};for(var b=[a],c;null!=(c=b.pop());)for(var d=c.children,e,g=0,h=d.length;g<h;++g)b.push((d[g]=e={_:d[g],parent:c,children:(e=
d[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return a.children[0]}function c(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){for(var e=0,g=0,k=a.children,f=k.length,l;0<=--f;)l=k[f],l.z+=e,l.m+=e,e+=l.s+(g+=l.c);b=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+h(a._,d._),a.m=a.z-b):a.z=b}else d&&(a.z=d.z+h(a._,d._));b=a.parent;c=a.parent.A||c[0];if(d){g=e=a;k=e.parent.children[0];f=e.m;l=g.m;for(var m=d.m,n=k.m,q;d=rf(d),e=sd(e),d&&e;){k=sd(k);g=rf(g);
g.a=a;q=d.z+m-e.z-f+h(d._,e._);if(0<q){var p=d.a.parent===a.parent?d.a:c,u=a,t=q,r=t/(u.i-p.i);u.c-=r;u.s+=t;p.c+=r;u.z+=t;u.m+=t;f+=q;l+=q}m+=d.m;f+=e.m;n+=k.m;l+=g.m}d&&!rf(g)&&(g.t=d,g.m+=m-l);e&&!sd(k)&&(k.t=e,k.m+=f-n,c=a)}b.A=c}function d(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function e(a){a.x*=k[0];a.y=a.depth*k[1]}var g=H.layout.hierarchy().sort(null).value(null),h=Lf,k=[1,1],f=null;a.separation=function(b){if(!arguments.length)return h;h=b;return a};a.size=function(b){if(!arguments.length)return f?
null:k;f=null==(k=b)?e:null;return a};a.nodeSize=function(b){if(!arguments.length)return f?k:null;f=null==(k=b)?null:e;return a};return ge(a,g)};H.layout.cluster=function(){function a(a,g){a=b.call(this,a,g);var h=a[0],k,f=0;jc(h,function(a){var b=a.children;b&&b.length?(a.x=Yb(b),a.y=Eb(b)):(a.x=k?f+=c(a,k):0,a.y=0,k=a)});g=Af(h);var l=Bf(h),m=g.x-c(g,l)/2,n=l.x+c(l,g)/2;jc(h,e?function(a){a.x=(a.x-h.x)*d[0];a.y=(h.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0];a.y=(1-(h.y?a.y/h.y:1))*d[1]});return a}
var b=H.layout.hierarchy().sort(null).value(null),c=Lf,d=[1,1],e=!1;a.separation=function(b){if(!arguments.length)return c;c=b;return a};a.size=function(b){if(!arguments.length)return e?null:d;e=null==(d=b);return a};a.nodeSize=function(b){if(!arguments.length)return e?d:null;e=null!=(d=b);return a};return ge(a,b)};H.layout.treemap=function(){function a(a,b){for(var c=-1,d=a.length,e,g;++c<d;)g=(e=a[c]).value*(0>b?0:b),e.area=isNaN(g)||0>=g?0:g}function b(c){var e=c.children;if(e&&e.length){var g=
l(c),h=[],k=e.slice(),f=Infinity,m,n="slice"===q?g.dx:"dice"===q?g.dy:"slice-dice"===q?c.depth&1?g.dy:g.dx:Math.min(g.dx,g.dy);a(k,g.dx*g.dy/c.value);for(h.area=0;0<(c=k.length);){h.push(c=k[c-1]);h.area+=c.area;if(!(c="squarify"!==q)){m=n;c=h.area;for(var u,t=0,r=Infinity,v=-1,w=h.length;++v<w;)if(u=h[v].area)u<r&&(r=u),u>t&&(t=u);c*=c;m*=m;c=(m=c?Math.max(m*t*p/c,c/(m*r*p)):Infinity)<=f}c?(k.pop(),f=m):(h.area-=h.pop().area,d(h,n,g,!1),n=Math.min(g.dx,g.dy),h.length=h.area=0,f=Infinity)}h.length&&
(d(h,n,g,!0),h.length=h.area=0);e.forEach(b)}}function c(b){var e=b.children;if(e&&e.length){var g=l(b),h=e.slice(),k=[];a(h,g.dx*g.dy/b.value);for(k.area=0;b=h.pop();)k.push(b),k.area+=b.area,null!=b.z&&(d(k,b.z?g.dx:g.dy,g,!h.length),k.length=k.area=0);e.forEach(c)}}function d(a,b,c,d){var e=-1,g=a.length,k=c.x,f=c.y,l=b?h(a.area/b):0,m;if(b==c.dx){if(d||l>c.dy)l=c.dy;for(;++e<g;)m=a[e],m.x=k,m.y=f,m.dy=l,k+=m.dx=Math.min(c.x+c.dx-k,l?h(m.area/l):0);m.z=!0;m.dx+=c.x+c.dx-k;c.y+=l;c.dy-=l}else{if(d||
l>c.dx)l=c.dx;for(;++e<g;)m=a[e],m.x=k,m.y=f,m.dx=l,f+=m.dy=Math.min(c.y+c.dy-f,l?h(m.area/l):0);m.z=!1;m.dy+=c.y+c.dy-f;c.x+=l;c.dx-=l}}function e(d){d=n||g(d);var e=d[0];e.x=0;e.y=0;e.dx=k[0];e.dy=k[1];n&&g.revalue(e);a([e],e.dx*e.dy/e.value);(n?c:b)(e);m&&(n=d);return d}var g=H.layout.hierarchy(),h=Math.round,k=[1,1],f=null,l=$d,m=!1,n,q="squarify",p=.5*(1+Math.sqrt(5));e.size=function(a){if(!arguments.length)return k;k=a;return e};e.padding=function(a){function b(b){var c=a.call(e,b,b.depth);
return null==c?$d(b):Ze(b,"number"===typeof c?[c,c,c,c]:c)}function c(b){return Ze(b,a)}if(!arguments.length)return f;var d;l=null==(f=a)?$d:"function"===(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c;return e};e.round=function(a){if(!arguments.length)return h!=Number;h=a?Math.round:Number;return e};e.sticky=function(a){if(!arguments.length)return m;m=a;n=null;return e};e.ratio=function(a){if(!arguments.length)return p;p=a;return e};e.mode=function(a){if(!arguments.length)return q;q=a+"";return e};
return ge(e,g)};H.random={normal:function(a,b){var c=arguments.length;2>c&&(b=1);1>c&&(a=0);return function(){var c,d;do c=2*Math.random()-1,d=2*Math.random()-1,d=c*c+d*d;while(!d||1<d);return a+b*c*Math.sqrt(-2*Math.log(d)/d)}},logNormal:function(){var a=H.random.normal.apply(H,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=H.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b}}};
H.scale={};var Vh={floor:g,ceil:g};H.scale.linear=function(){return Kb([0,1],[0,1],pd,!1)};var Wh={s:1,g:1,p:1,r:1,e:1};H.scale.log=function(){return Va(H.scale.linear().domain([0,1]),10,!0,[1,10])};var Ch=H.format(".0e"),Xh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};H.scale.pow=function(){return qb(H.scale.linear(),1,[0,1])};H.scale.sqrt=function(){return H.scale.pow().exponent(.5)};H.scale.ordinal=function(){return zg([],{t:"range",a:[[]]})};H.scale.category10=
function(){return H.scale.ordinal().range(hi)};H.scale.category20=function(){return H.scale.ordinal().range(ii)};H.scale.category20b=function(){return H.scale.ordinal().range(ji)};H.scale.category20c=function(){return H.scale.ordinal().range(ki)};var hi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(V),ii=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,
1556175,10410725].map(V),ji=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(V),ki=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(V);H.scale.quantile=function(){return vc([],[])};H.scale.quantize=function(){return Wf(0,1,[0,1])};H.scale.threshold=
function(){return Ag([.5],[0,1])};H.scale.identity=function(){return pg([0,1])};H.svg={};H.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),l=Math.max(0,+d.apply(this,arguments)),m=h.apply(this,arguments)-hb,n=k.apply(this,arguments)-hb,q=Math.abs(n-m),p=m>n?0:1;l<a&&(u=l,l=a,a=u);if(q>=fd)return b(l,p)+(a?b(a,1-p):"")+"Z";var u,t,r,v,w=u=0,y,x,D,B,z,q=[];if(v=(+f.apply(this,arguments)||0)/2)r=g===hh?Math.sqrt(a*a+l*l):+g.apply(this,arguments),p||(w*=-1),l&&(w=La(r/l*Math.sin(v))),
a&&(u=La(r/a*Math.sin(v)));l?(r=l*Math.cos(m+w),v=l*Math.sin(m+w),y=l*Math.cos(n-w),x=l*Math.sin(n-w),t=Math.abs(n-m-2*w)<=ma?0:1,w&&Dd(r,v,y,x)===p^t&&(y=(m+n)/2,r=l*Math.cos(y),v=l*Math.sin(y),y=x=null)):r=v=0;if(a){w=a*Math.cos(n-u);D=a*Math.sin(n-u);B=a*Math.cos(m+u);z=a*Math.sin(m+u);var A=Math.abs(m-n+2*u)<=ma?0:1;u&&Dd(w,D,B,z)===1-p^A&&(B=(m+n)/2,w=a*Math.cos(B),D=a*Math.sin(B),B=z=null)}else w=D=0;if(.001<(u=Math.min(Math.abs(l-a)/2,+e.apply(this,arguments)))){t=a<l^p?0:1;var A=null==B?[w,
D]:null==y?[r,v]:Ic([r,v],[B,z],[y,x],[w,D]),m=r-A[0],n=v-A[1],Ca=y-A[0],Aa=x-A[1],m=1/Math.sin(Math.acos((m*Ca+n*Aa)/(Math.sqrt(m*m+n*n)*Math.sqrt(Ca*Ca+Aa*Aa)))/2),A=Math.sqrt(A[0]*A[0]+A[1]*A[1]);null!=y?(n=Math.min(u,(l-A)/(m+1)),Ca=df(null==B?[w,D]:[B,z],[r,v],l,n,p),Aa=df([y,x],[w,D],l,n,p),u===n?q.push("M",Ca[0],"A",n,",",n," 0 0,",t," ",Ca[1],"A",l,",",l," 0 ",1-p^Dd(Ca[1][0],Ca[1][1],Aa[1][0],Aa[1][1]),",",p," ",Aa[1],"A",n,",",n," 0 0,",t," ",Aa[0]):q.push("M",Ca[0],"A",n,",",n," 0 1,",
t," ",Aa[0])):q.push("M",r,",",v);null!=B?(l=Math.min(u,(a-A)/(m-1)),B=df([r,v],[B,z],a,-l,p),y=df([w,D],null==y?[r,v]:[y,x],a,-l,p),u===l?q.push("L",y[0],"A",l,",",l," 0 0,",t," ",y[1],"A",a,",",a," 0 ",p^Dd(y[1][0],y[1][1],B[1][0],B[1][1]),",",1-p," ",B[1],"A",l,",",l," 0 0,",t," ",B[0]):q.push("L",y[0],"A",l,",",l," 0 0,",t," ",B[0])):q.push("L",w,",",D)}else q.push("M",r,",",v),null!=y&&q.push("A",l,",",l," 0 ",t,",",p," ",y,",",x),q.push("L",w,",",D),null!=B&&q.push("A",a,",",a," 0 ",A,",",1-
p," ",B,",",z);q.push("Z");return q.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=Ue,d=Bc,e=xe,g=hh,h=Bg,k=Od,f=Cg;a.innerRadius=function(b){if(!arguments.length)return c;c=W(b);return a};a.outerRadius=function(b){if(!arguments.length)return d;d=W(b);return a};a.cornerRadius=function(b){if(!arguments.length)return e;e=W(b);return a};a.padRadius=function(b){if(!arguments.length)return g;g=b==hh?hh:W(b);return a};a.startAngle=function(b){if(!arguments.length)return h;
h=W(b);return a};a.endAngle=function(b){if(!arguments.length)return k;k=W(b);return a};a.padAngle=function(b){if(!arguments.length)return f;f=W(b);return a};a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+h.apply(this,arguments)+ +k.apply(this,arguments))/2-hb;return[Math.cos(b)*a,Math.sin(b)*a]};return a};var hh="auto";H.svg.line=function(){return Nc(g)};var rh=H.map({linear:S,"linear-closed":function(a){return S(a)+"Z"},step:function(a){for(var b=0,c=a.length,
d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);1<c&&e.push("H",d[0]);return e.join("")},"step-before":ya,"step-after":Wb,basis:jd,"basis-open":function(a){if(4>a.length)return S(a);for(var b=[],c=-1,d=a.length,e,g=[0],h=[0];3>++c;)e=a[c],g.push(e[0]),h.push(e[1]);b.push(ic(Qf,g)+","+ic(Qf,h));for(--c;++c<d;)e=a[c],g.shift(),g.push(e[0]),h.shift(),h.push(e[1]),Ie(b,g,h);return b.join("")},"basis-closed":function(a){for(var b,c=-1,d=a.length,e=d+4,g,h=[],k=[];4>++c;)g=a[c%
d],h.push(g[0]),k.push(g[1]);b=[ic(Qf,h),",",ic(Qf,k)];for(--c;++c<e;)g=a[c%d],h.shift(),h.push(g[0]),k.shift(),k.push(g[1]),Ie(b,h,k);return b.join("")},bundle:function(a,b){var c=a.length-1;if(c)for(var d=a[0][0],e=a[0][1],g=a[c][0]-d,h=a[c][1]-e,k=-1,f,l;++k<=c;)f=a[k],l=k/c,f[0]=b*f[0]+(1-b)*(d+l*g),f[1]=b*f[1]+(1-b)*(e+l*h);return jd(a)},cardinal:function(a,b){return 3>a.length?S(a):a[0]+ze(a,id(a,b))},"cardinal-open":function(a,b){return 4>a.length?S(a):a[1]+ze(a.slice(1,-1),id(a,b))},"cardinal-closed":function(a,
b){return 3>a.length?S(a):a[0]+ze((a.push(a[0]),a),id([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=S(a);else{var b=a[0],c=[],d,e,g,h;d=0;e=a.length-1;var k=[];g=a[1];for(h=k[0]=Sc(a[0],g);++d<e;)k[d]=(h+(h=Sc(g,g=a[d+1])))/2;k[d]=h;for(var f=-1,l=a.length-1;++f<l;)d=Sc(a[f],a[f+1]),1E-6>ia(d)?k[f]=k[f+1]=0:(e=k[f]/d,g=k[f+1]/d,h=e*e+g*g,9<h&&(h=3*d/Math.sqrt(h),k[f]=h*e,k[f+1]=h*g));for(f=-1;++f<=l;)h=(a[Math.min(l,f+1)][0]-a[Math.max(0,f-1)][0])/(6*(1+k[f]*k[f])),c.push([h||
0,k[f]*h||0]);a=b+ze(a,c)}return a}});rh.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var Dh=[0,2/3,1/3,0],Eh=[0,1/3,2/3,0],Qf=[0,1/6,2/3,1/6];H.svg.line.radial=function(){var a=Nc(Cf);a.radius=a.x;delete a.x;a.angle=a.y;delete a.y;return a};ya.reverse=Wb;Wb.reverse=ya;H.svg.area=function(){return af(g)};H.svg.area.radial=function(){var a=af(Cf);a.radius=a.x;delete a.x;a.innerRadius=a.x0;delete a.x0;a.outerRadius=a.x1;delete a.x1;a.angle=a.y;delete a.y;a.startAngle=a.y0;delete a.y0;
a.endAngle=a.y1;delete a.y1;return a};H.svg.chord=function(){function a(a,g){var h=b(this,d,a,g);a=b(this,e,a,g);return"M"+h.p0+c(h.r,h.p1,h.a1-h.a0)+(h.a0==a.a0&&h.a1==a.a1?"Q 0,0 "+h.p0:"Q 0,0 "+a.p0+c(a.r,a.p1,a.a1-a.a0)+("Q 0,0 "+h.p0))+"Z"}function b(a,b,c,d){var e=b.call(a,c,d);b=g.call(a,e,d);c=h.call(a,e,d)-hb;a=k.call(a,e,d)-hb;return{r:b,a0:c,a1:a,p0:[b*Math.cos(c),b*Math.sin(c)],p1:[b*Math.cos(a),b*Math.sin(a)]}}function c(a,b,c){return"A"+a+","+a+" 0 "+ +(c>ma)+",1 "+b}var d=De,e=Jd,g=
ac,h=Bg,k=Od;a.radius=function(b){if(!arguments.length)return g;g=W(b);return a};a.source=function(b){if(!arguments.length)return d;d=W(b);return a};a.target=function(b){if(!arguments.length)return e;e=W(b);return a};a.startAngle=function(b){if(!arguments.length)return h;h=W(b);return a};a.endAngle=function(b){if(!arguments.length)return k;k=W(b);return a};return a};H.svg.diagonal=function(){function a(a,e){var g=b.call(this,a,e);a=c.call(this,a,e);e=(g.y+a.y)/2;g=[g,{x:g.x,y:e},{x:a.x,y:e},a];g=
g.map(d);return"M"+g[0]+"C"+g[1]+" "+g[2]+" "+g[3]}var b=De,c=Jd,d=Zf;a.source=function(c){if(!arguments.length)return b;b=W(c);return a};a.target=function(b){if(!arguments.length)return c;c=W(b);return a};a.projection=function(b){if(!arguments.length)return d;d=b;return a};return a};H.svg.diagonal.radial=function(){var a=H.svg.diagonal(),b=Zf,c=a.projection;a.projection=function(a){return arguments.length?c(Og(b=a)):b};return a};H.svg.symbol=function(){function a(a,d){return(Mh.get(b.call(this,a,
d))||ng)(c.call(this,a,d))}var b=de,c=$f;a.type=function(c){if(!arguments.length)return b;b=W(c);return a};a.size=function(b){if(!arguments.length)return c;c=W(b);return a};return a};var Mh=H.map({circle:ng,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*Nh));var b=a*Nh;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+
-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/ih);var b=a*ih/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/ih);var b=a*ih/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});H.svg.symbolTypes=Mh.keys();var ih=Math.sqrt(3),Nh=Math.tan(30*qa);Ka.transition=function(a){var b=mg||++Oh;a=se(a);for(var c=[],d,e,g=jh||{time:Date.now(),ease:ja,delay:0,duration:250},h=-1,k=this.length;++h<k;){c.push(d=[]);for(var f=this[h],l=
-1,m=f.length;++l<m;)(e=f[l])&&Ba(e,l,a,b,g),d.push(e)}return ue(c,a,b)};Ka.interrupt=function(a){return this.each(null==a?ah:$c(se(a)))};var ah=$c(se()),Fb=[],Oh=0,mg,jh;Fb.call=Ka.call;Fb.empty=Ka.empty;Fb.node=Ka.node;Fb.size=Ka.size;H.transition=function(a,b){return a&&a.transition?mg?a.transition(b):a:H.selection().transition(a)};H.transition.prototype=Fb;Fb.select=function(a){var b=this.id,c=this.namespace,d=[],e,g,h;a=L(a);for(var k=-1,f=this.length;++k<f;){d.push(e=[]);for(var l=this[k],m=
-1,n=l.length;++m<n;)(h=l[m])&&(g=a.call(h,h.__data__,m,k))?("__data__"in h&&(g.__data__=h.__data__),Ba(g,m,c,b,h[c][b]),e.push(g)):e.push(null)}return ue(d,c,b)};Fb.selectAll=function(a){var b=this.id,c=this.namespace,d=[],e,g,h,k;a=I(a);for(var f=-1,l=this.length;++f<l;)for(var m=this[f],n=-1,q=m.length;++n<q;)if(e=m[n]){k=e[c][b];g=a.call(e,e.__data__,n,f);d.push(e=[]);for(var p=-1,u=g.length;++p<u;)(h=g[p])&&Ba(h,p,c,b,k),e.push(h)}return ue(d,c,b)};Fb.filter=function(a){var b=[],c,d,e;"function"!==
typeof a&&(a=R(a));for(var g=0,h=this.length;g<h;g++){b.push(c=[]);d=this[g];for(var k=0,f=d.length;k<f;k++)(e=d[k])&&a.call(e,e.__data__,k,g)&&c.push(e)}return ue(b,this.namespace,this.id)};Fb.tween=function(a,b){var c=this.id,d=this.namespace;return 2>arguments.length?this.node()[d][c].tween.get(a):T(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})};Fb.attr=function(a,b){function c(){this.removeAttribute(k)}function d(){this.removeAttributeNS(k.space,k.local)}
function e(a){return null==a?c:(a+="",function(){var b=this.getAttribute(k),c;return b!==a&&(c=h(b,a),function(a){this.setAttribute(k,c(a))})})}function g(a){return null==a?d:(a+="",function(){var b=this.getAttributeNS(k.space,k.local),c;return b!==a&&(c=h(b,a),function(a){this.setAttributeNS(k.space,k.local,c(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var h="transform"==a?Jc:pd,k=H.ns.qualify(a);return Nf(this,"attr."+a,b,k.local?g:e)};Fb.attrTween=function(a,b){function c(a,
c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=H.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)};Fb.style=function(b,c,d){function e(){this.style.removeProperty(b)}var g=arguments.length;if(3>g){if("string"!==typeof b){2>g&&(c="");for(d in b)this.style(d,b[d],c);return this}d=""}return Nf(this,"style."+
b,c,function(c){return null==c?e:(c+="",function(){var e=a(this).getComputedStyle(this,null).getPropertyValue(b),g;return e!==c&&(g=pd(e,c),function(a){this.style.setProperty(b,g(a),d)})})})};Fb.styleTween=function(b,c,d){3>arguments.length&&(d="");return this.tween("style."+b,function(e,g){var h=c.call(this,e,g,a(this).getComputedStyle(this,null).getPropertyValue(b));return h&&function(a){this.style.setProperty(b,h(a),d)}})};Fb.text=function(a){return Nf(this,"text",a,pf)};Fb.remove=function(){var a=
this.namespace;return this.each("end.transition",function(){var b;2>this[a].count&&(b=this.parentNode)&&b.removeChild(this)})};Fb.ease=function(a){var b=this.id,c=this.namespace;if(1>arguments.length)return this.node()[c][b].ease;"function"!==typeof a&&(a=H.ease.apply(H,arguments));return T(this,function(d){d[c][b].ease=a})};Fb.delay=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].delay:T(this,"function"===typeof a?function(d,e,g){d[c][b].delay=+a.call(d,d.__data__,
e,g)}:(a=+a,function(d){d[c][b].delay=a}))};Fb.duration=function(a){var b=this.id,c=this.namespace;return 1>arguments.length?this.node()[c][b].duration:T(this,"function"===typeof a?function(d,e,g){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,g))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))};Fb.each=function(a,b){var c=this.id,d=this.namespace;if(2>arguments.length){var e=jh,g=mg;try{mg=c,T(this,function(b,e,g){jh=b[d][c];a.call(b,b.__data__,e,g)})}finally{jh=e,mg=g}}else T(this,function(e){e=
e[d][c];(e.event||(e.event=H.dispatch("start","end","interrupt"))).on(a,b)});return this};Fb.transition=function(){for(var a=this.id,b=++Oh,c=this.namespace,d=[],e,g,h,k,f=0,l=this.length;f<l;f++){d.push(e=[]);g=this[f];for(var m=0,n=g.length;m<n;m++){if(h=g[m])k=h[c][a],Ba(h,m,c,b,{time:k.time,ease:k.ease,delay:k.delay+k.duration,duration:k.duration});e.push(h)}}return ue(d,c,b)};H.svg.axis=function(){function a(a){a.each(function(){var a=H.select(this),m=this.__chart__||b,n=this.__chart__=b.copy(),
q=null==f?n.ticks?n.ticks.apply(n,k):n.domain():f,p=null==l?n.tickFormat?n.tickFormat.apply(n,k):g:l,u=a.selectAll(".tick").data(q,n),q=u.enter().insert("g",".domain").attr("class","tick").style("opacity",1E-6),t=H.transition(u.exit()).style("opacity",1E-6).remove(),r=H.transition(u.order()).style("opacity",1),v=Math.max(d,0)+h,w=Nd(n),a=a.selectAll(".domain").data([0]),a=(a.enter().append("path").attr("class","domain"),H.transition(a));q.append("line");q.append("text");var y=q.select("line"),x=r.select("line"),
u=u.select("text").text(p),D=q.select("text"),B=r.select("text"),z="top"===c||"left"===c?-1:1,A,Ca,Aa,G;"bottom"===c||"top"===c?(p=Pd,A="x",Aa="y",Ca="x2",G="y2",u.attr("dy",0>z?"0em":".71em").style("text-anchor","middle"),a.attr("d","M"+w[0]+","+z*e+"V0H"+w[1]+"V"+z*e)):(p=Oc,A="y",Aa="x",Ca="y2",G="x2",u.attr("dy",".32em").style("text-anchor",0>z?"end":"start"),a.attr("d","M"+z*e+","+w[0]+"H0V"+w[1]+"H"+z*e));y.attr(G,z*d);D.attr(Aa,z*v);x.attr(Ca,0).attr(G,z*d);B.attr(A,0).attr(Aa,z*v);if(n.rangeBand)var E=
n,Za=E.rangeBand()/2,m=n=function(a){return E(a)+Za};else m.rangeBand?m=n:t.call(p,n,m);q.call(p,m,n);r.call(p,n,n)})}var b=H.scale.linear(),c=Ph,d=6,e=6,h=3,k=[10],f=null,l;a.scale=function(c){if(!arguments.length)return b;b=c;return a};a.orient=function(b){if(!arguments.length)return c;c=b in li?b+"":Ph;return a};a.ticks=function(){if(!arguments.length)return k;k=arguments;return a};a.tickValues=function(b){if(!arguments.length)return f;f=b;return a};a.tickFormat=function(b){if(!arguments.length)return l;
l=b;return a};a.tickSize=function(b){var c=arguments.length;if(!c)return d;d=+b;e=+arguments[c-1];return a};a.innerTickSize=function(b){if(!arguments.length)return d;d=+b;return a};a.outerTickSize=function(b){if(!arguments.length)return e;e=+b;return a};a.tickPadding=function(b){if(!arguments.length)return h;h=+b;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var Ph="bottom",li={top:1,right:1,bottom:1,left:1};H.svg.brush=function(){function b(a){a.each(function(){var a=
H.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",h).on("touchstart.brush",h),k=a.selectAll(".background").data([0]);k.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var m=a.selectAll(".resize").data(r,g);m.exit().remove();m.enter().append("g").attr("class",function(a){return"resize "+
a}).style("cursor",function(a){return mi[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");m.style("display",b.empty()?"none":null);a=H.transition(a);k=H.transition(k);f&&(m=Nd(f),k.attr("x",m[0]).attr("width",m[1]-m[0]),d(a));l&&(m=Nd(l),k.attr("y",m[0]).attr("height",m[1]-m[0]),e(a));c(a)})}function c(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+
m[+/e$/.test(a)]+","+n[+/^s/.test(a)]+")"})}function d(a){a.select(".extent").attr("x",m[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",m[1]-m[0])}function e(a){a.select(".extent").attr("y",n[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",n[1]-n[0])}function h(){function g(){var a=H.mouse(v),b=!1;Za&&(a[0]+=Za[0],a[1]+=Za[1]);Ca||(H.event.altKey?(G||(G=[(m[0]+m[1])/2,(n[0]+n[1])/2]),E[0]=m[+(a[0]<G[0])],E[1]=n[+(a[1]<G[1])]):G=null);z&&h(a,f,0)&&(d(x),b=!0);A&&h(a,l,1)&&(e(x),b=
!0);b&&(c(x),y({type:"brush",mode:Ca?"move":"resize"}))}function h(a,b,c){var d=Nd(b);b=d[0];var e=d[1],d=E[c],g=c?n:m,h=g[1]-g[0];Ca&&(b-=d,e-=h+d);a=(c?t:u)?Math.max(b,Math.min(e,a[c])):a[c];Ca?b=(a+=d)+h:(G&&(d=Math.max(b,Math.min(e,2*G[c]-a))),d<a?(b=a,a=d):b=d);if(g[0]!=a||g[1]!=b)return c?p=null:q=null,g[0]=a,g[1]=b,!0}function r(){g();x.style("pointer-events","all").selectAll(".resize").style("display",b.empty()?"none":null);H.select("body").style("cursor",null);O.on("mousemove.brush",null).on("mouseup.brush",
null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);Aa();y({type:"brushend"})}var v=this,w=H.select(H.event.target),y=k.of(v,arguments),x=H.select(v),B=w.datum(),z=!/^(n|s)$/.test(B)&&f,A=!/^(e|w)$/.test(B)&&l,Ca=w.classed("extent"),Aa=ka(v),G,E=H.mouse(v),Za,O=H.select(a(v)).on("keydown.brush",function(){32==H.event.keyCode&&(Ca||(G=null,E[0]-=m[1],E[1]-=n[1],Ca=2),D())}).on("keyup.brush",function(){32==H.event.keyCode&&2==Ca&&(E[0]+=m[1],E[1]+=
n[1],Ca=0,D())});if(H.event.changedTouches)O.on("touchmove.brush",g).on("touchend.brush",r);else O.on("mousemove.brush",g).on("mouseup.brush",r);x.interrupt().selectAll("*").interrupt();if(Ca)E[0]=m[0]-E[0],E[1]=n[0]-E[1];else if(B){var M=+/w$/.test(B),B=+/^n/.test(B);Za=[m[1-M]-E[0],n[1-B]-E[1]];E[0]=m[M];E[1]=n[B]}else H.event.altKey&&(G=E.slice());x.style("pointer-events","none").selectAll(".resize").style("display",null);H.select("body").style("cursor",w.style("cursor"));y({type:"brushstart"});
g()}var k=F(b,"brushstart","brush","brushend"),f=null,l=null,m=[0,0],n=[0,0],q,p,u=!0,t=!0,r=uh[0];b.event=function(a){a.each(function(){var a=k.of(this,arguments),b={x:m,y:n,i:q,j:p},c=this.__chart__||b;this.__chart__=b;mg?H.select(this).transition().each("start.brush",function(){q=c.i;p=c.j;m=c.x;n=c.y;a({type:"brushstart"})}).tween("brush:brush",function(){var c=he(m,b.x),d=he(n,b.y);q=p=null;return function(e){m=b.x=c(e);n=b.y=d(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){q=
b.i;p=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})};b.x=function(a){if(!arguments.length)return f;f=a;r=uh[!f<<1|!l];return b};b.y=function(a){if(!arguments.length)return l;l=a;r=uh[!f<<1|!l];return b};b.clamp=function(a){if(!arguments.length)return f&&l?[u,t]:f?u:l?t:null;f&&l?(u=!!a[0],t=!!a[1]):f?u=!!a:l&&(t=!!a);return b};b.extent=function(a){var c,d,e,g,h;if(!arguments.length)return f&&(q?(c=q[0],d=
q[1]):(c=m[0],d=m[1],f.invert&&(c=f.invert(c),d=f.invert(d)),d<c&&(h=c,c=d,d=h))),l&&(p?(e=p[0],g=p[1]):(e=n[0],g=n[1],l.invert&&(e=l.invert(e),g=l.invert(g)),g<e&&(h=e,e=g,g=h))),f&&l?[[c,e],[d,g]]:f?[c,d]:l&&[e,g];f&&(c=a[0],d=a[1],l&&(c=c[0],d=d[0]),q=[c,d],f.invert&&(c=f(c),d=f(d)),d<c&&(h=c,c=d,d=h),c!=m[0]||d!=m[1])&&(m=[c,d]);l&&(e=a[0],g=a[1],f&&(e=e[1],g=g[1]),p=[e,g],l.invert&&(e=l(e),g=l(g)),g<e&&(h=e,e=g,g=h),e!=n[0]||g!=n[1])&&(n=[e,g]);return b};b.clear=function(){b.empty()||(m=[0,0],
n=[0,0],q=p=null);return b};b.empty=function(){return!!f&&m[0]==m[1]||!!l&&n[0]==n[1]};return H.rebind(b,k,"on")};var mi={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},uh=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],vh=da.format=yh.timeFormat,Qh=vh.utc,Rh=Qh("%Y-%m-%dT%H:%M:%S.%LZ");vh.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Vf:Rh;Vf.parse=function(a){a=new Date(a);return isNaN(a)?
null:a};Vf.toString=Rh.toString;da.second=ub(function(a){return new dc(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});da.seconds=da.second.range;da.seconds.utc=da.second.utc.range;da.minute=ub(function(a){return new dc(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});da.minutes=da.minute.range;da.minutes.utc=da.minute.utc.range;da.hour=ub(function(a){var b=a.getTimezoneOffset()/
60;return new dc(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});da.hours=da.hour.range;da.hours.utc=da.hour.utc.range;da.month=ub(function(a){a=da.day(a);a.setDate(1);return a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});da.months=da.month.range;da.months.utc=da.month.utc.range;var $g=[1E3,5E3,15E3,3E4,6E4,3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],wh=[[da.second,
1],[da.second,5],[da.second,15],[da.second,30],[da.minute,1],[da.minute,5],[da.minute,15],[da.minute,30],[da.hour,1],[da.hour,3],[da.hour,6],[da.hour,12],[da.day,1],[da.day,2],[da.week,1],[da.month,1],[da.month,3],[da.year,1]],ni=vh.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=
a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",zc]]),Yh={range:function(a,b,c){return H.range(Math.ceil(a/c)*c,+b,c).map(cc)},floor:g,ceil:g};wh.year=da.year;da.scale=function(){return Ke(H.scale.linear(),wh,ni)};var Sh=wh.map(function(a){return[a[0].utc,a[1]]}),oi=Qh.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&
1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",zc]]);Sh.year=da.year.utc;da.scale.utc=function(){return Ke(H.scale.linear(),Sh,oi)};H.text=wa(function(a){return a.responseText});H.json=function(a,b){return Xb(a,"application/json",bf,b)};H.html=function(a,b){return Xb(a,"text/html",Ng,b)};H.xml=wa(function(a){return a.responseXML});"function"===typeof define&&define.amd?define(H):"object"===typeof l&&l.exports&&(l.exports=H);this.d3=
H}()},{}],708:[function(a,l,f){var c=a("domelementtype"),e=a("entities"),h={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},b={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0},k={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,
command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},d=l.exports=function(a,f){Array.isArray(a)||a.cheerio||(a=[a]);f=f||{};for(var l="",m=0;m<a.length;m++){var n=a[m];if("root"===n.type)l+=d(n.children,f);else if(c.isTag(n)){var r=f;"svg"===n.name&&(r={decodeEntities:r.decodeEntities,xmlMode:!0});var t="<"+n.name,u;u=n.attribs;var y=r;if(u){var A="",g,v=void 0;for(v in u)g=u[v],A&&(A+=" "),A=!g&&h[v]?A+v:A+(v+'="'+(y.decodeEntities?
e.encodeXML(g):g)+'"');u=A}else u=void 0;u&&(t+=" "+u);if(!r.xmlMode||n.children&&0!==n.children.length){if(t+=">",n.children&&(t+=d(n.children,r)),!k[n.name]||r.xmlMode)t+="</"+n.name+">"}else t+="/>";l+=t}else n.type===c.Directive?l+="<"+n.data+">":n.type===c.Comment?l+="\x3c!--"+n.data+"--\x3e":n.type===c.CDATA?l+="<![CDATA["+n.children[0].data+"]]\x3e":(r=n.data||"",!f.decodeEntities||n.parent&&n.parent.name in b||(r=e.encodeXML(r)),l+=r)}return l}},{domelementtype:709,entities:722}],709:[function(a,
l,f){l.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(a){return"tag"===a.type||"script"===a.type||"style"===a.type}}},{}],710:[function(a,l,f){l.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(a){return"tag"===a.type||"script"===a.type||"style"===a.type}}},{}],711:[function(a,l,f){function c(a,b,c){"object"===typeof a?
(c=b,b=a,a=null):"function"===typeof b&&(c=b,b=d);this._callback=a;this._options=b||d;this._elementCB=c;this.dom=[];this._done=!1;this._tagStack=[];this._parser=this._parser||null}var e=a("domelementtype"),h=/\s+/g,b=a("./lib/node"),k=a("./lib/element"),d={normalizeWhitespace:!1,withStartIndices:!1};c.prototype.onparserinit=function(a){this._parser=a};c.prototype.onreset=function(){c.call(this,this._callback,this._options,this._elementCB)};c.prototype.onend=function(){this._done||(this._done=!0,this._parser=
null,this._handleCallback(null))};c.prototype._handleCallback=c.prototype.onerror=function(a){if("function"===typeof this._callback)this._callback(a,this.dom);else if(a)throw a;};c.prototype.onclosetag=function(){var a=this._tagStack.pop();this._elementCB&&this._elementCB(a)};c.prototype._addDomElement=function(a){var c=this._tagStack[this._tagStack.length-1],d=c?c.children:this.dom,e=d[d.length-1];a.next=null;this._options.withStartIndices&&(a.startIndex=this._parser.startIndex);this._options.withDomLvl1&&
(a.__proto__="tag"===a.type?k:b);e?(a.prev=e,e.next=a):a.prev=null;d.push(a);a.parent=c||null};c.prototype.onopentag=function(a,b){a={type:"script"===a?e.Script:"style"===a?e.Style:e.Tag,name:a,attribs:b,children:[]};this._addDomElement(a);this._tagStack.push(a)};c.prototype.ontext=function(a){var b=this._options.normalizeWhitespace||this._options.ignoreWhitespace,c;!this._tagStack.length&&this.dom.length&&(c=this.dom[this.dom.length-1]).type===e.Text?c.data=b?(c.data+a).replace(h," "):c.data+a:this._tagStack.length&&
(c=this._tagStack[this._tagStack.length-1])&&(c=c.children[c.children.length-1])&&c.type===e.Text?c.data=b?(c.data+a).replace(h," "):c.data+a:(b&&(a=a.replace(h," ")),this._addDomElement({data:a,type:e.Text}))};c.prototype.oncomment=function(a){var b=this._tagStack[this._tagStack.length-1];b&&b.type===e.Comment?b.data+=a:(a={data:a,type:e.Comment},this._addDomElement(a),this._tagStack.push(a))};c.prototype.oncdatastart=function(){var a={children:[{data:"",type:e.Text}],type:e.CDATA};this._addDomElement(a);
this._tagStack.push(a)};c.prototype.oncommentend=c.prototype.oncdataend=function(){this._tagStack.pop()};c.prototype.onprocessinginstruction=function(a,b){this._addDomElement({name:a,data:b,type:e.Directive})};l.exports=c},{"./lib/element":712,"./lib/node":713,domelementtype:710}],712:[function(a,l,f){a=a("./node");var c=l.exports=Object.create(a),e={tagName:"name"};Object.keys(e).forEach(function(a){var b=e[a];Object.defineProperty(c,a,{get:function(){return this[b]||null},set:function(a){return this[b]=
a}})})},{"./node":713}],713:[function(a,l,f){var c=l.exports={get firstChild(){var a=this.children;return a&&a[0]||null},get lastChild(){var a=this.children;return a&&a[a.length-1]||null},get nodeType(){return h[this.type]||h.element}},e={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},h={element:1,text:3,cdata:4,comment:8};Object.keys(e).forEach(function(a){var b=e[a];Object.defineProperty(c,a,{get:function(){return this[b]||null},
set:function(a){return this[b]=a}})})},{}],714:[function(a,l,f){var c=l.exports;[a("./lib/stringify"),a("./lib/traversal"),a("./lib/manipulation"),a("./lib/querying"),a("./lib/legacy"),a("./lib/helpers")].forEach(function(a){Object.keys(a).forEach(function(e){c[e]=a[e].bind(c)})})},{"./lib/helpers":715,"./lib/legacy":716,"./lib/manipulation":717,"./lib/querying":718,"./lib/stringify":719,"./lib/traversal":720}],715:[function(a,l,f){f.removeSubsets=function(a){for(var c=a.length,b,e,d;-1<--c;){b=e=
a[c];a[c]=null;for(d=!0;e;){if(-1<a.indexOf(e)){d=!1;a.splice(c,1);break}e=e.parent}d&&(a[c]=b)}return a};var c=f.compareDocumentPosition=function(a,c){var b=[],e=[],d,h,f;if(a===c)return 0;for(d=a;d;)b.unshift(d),d=d.parent;for(d=c;d;)e.unshift(d),d=d.parent;for(f=0;b[f]===e[f];)f++;if(0===f)return 1;d=b[f-1];h=d.children;b=b[f];e=e[f];return h.indexOf(b)>h.indexOf(e)?d===c?20:4:d===a?10:2};f.uniqueSort=function(a){var e=a.length,b;for(a=a.slice();-1<--e;)b=a[e],b=a.indexOf(b),-1<b&&b<e&&a.splice(e,
1);a.sort(function(a,b){a=c(a,b);return a&2?-1:a&4?1:0});return a}},{}],716:[function(a,l,f){function c(a,b){return"function"===typeof b?function(c){return c.attribs&&b(c.attribs[a])}:function(c){return c.attribs&&c.attribs[a]===b}}function e(a,b){return function(c){return a(c)||b(c)}}a=a("domelementtype");var h=f.isTag=a.isTag;f.testElement=function(a,b){for(var c in a)if(a.hasOwnProperty(c))if("tag_name"===c){if(!h(b)||!a.tag_name(b.name))return!1}else if("tag_type"===c){if(!a.tag_type(b.type))return!1}else if("tag_contains"===
c){if(h(b)||!a.tag_contains(b.data))return!1}else if(!b.attribs||!a[c](b.attribs[c]))return!1;return!0};var b={tag_name:function(a){return"function"===typeof a?function(b){return h(b)&&a(b.name)}:"*"===a?h:function(b){return h(b)&&b.name===a}},tag_type:function(a){return"function"===typeof a?function(b){return a(b.type)}:function(b){return b.type===a}},tag_contains:function(a){return"function"===typeof a?function(b){return!h(b)&&a(b.data)}:function(b){return!h(b)&&b.data===a}}};f.getElements=function(a,
d,h,f){var k=Object.keys(a).map(function(d){var e=a[d];return d in b?b[d](e):c(d,e)});return 0===k.length?[]:this.filter(k.reduce(e),d,h,f)};f.getElementById=function(a,b,e){Array.isArray(b)||(b=[b]);return this.findOne(c("id",a),b,!1!==e)};f.getElementsByTagName=function(a,c,e,h){return this.filter(b.tag_name(a),c,e,h)};f.getElementsByTagType=function(a,c,e,h){return this.filter(b.tag_type(a),c,e,h)}},{domelementtype:710}],717:[function(a,l,f){f.removeElement=function(a){a.prev&&(a.prev.next=a.next);
a.next&&(a.next.prev=a.prev);if(a.parent){var c=a.parent.children;c.splice(c.lastIndexOf(a),1)}};f.replaceElement=function(a,e){var c=e.prev=a.prev;c&&(c.next=e);if(c=e.next=a.next)c.prev=e;if(c=e.parent=a.parent)c=c.children,c[c.lastIndexOf(a)]=e};f.appendChild=function(a,e){e.parent=a;1!==a.children.push(e)&&(a=a.children[a.children.length-2],a.next=e,e.prev=a,e.next=null)};f.append=function(a,e){var c=a.parent,b=a.next;e.next=b;e.prev=a;a.next=e;e.parent=c;b?(b.prev=e,c&&(a=c.children,a.splice(a.lastIndexOf(b),
0,e))):c&&c.children.push(e)};f.prepend=function(a,e){var c=a.parent;if(c){var b=c.children;b.splice(b.lastIndexOf(a),0,e)}a.prev&&(a.prev.next=e);e.parent=c;e.prev=a.prev;e.next=a;a.prev=e}},{}],718:[function(a,l,f){function c(a,b,e,h){for(var d=[],k,f=0,l=b.length;f<l&&!(a(b[f])&&(d.push(b[f]),0>=--h))&&!(k=b[f].children,e&&k&&0<k.length&&(k=c(a,k,e,h),d=d.concat(k),h-=k.length,0>=h));f++);return d}function e(a,b){for(var c=null,d=0,h=b.length;d<h&&!c;d++)k(b[d])&&(a(b[d])?c=b[d]:0<b[d].children.length&&
(c=e(a,b[d].children)));return c}function h(a,b){for(var c=0,d=b.length;c<d;c++)if(k(b[c])&&(a(b[c])||0<b[c].children.length&&h(a,b[c].children)))return!0;return!1}function b(a,c){for(var d=[],e=0,h=c.length;e<h;e++)k(c[e])&&(a(c[e])&&d.push(c[e]),0<c[e].children.length&&(d=d.concat(b(a,c[e].children))));return d}var k=a("domelementtype").isTag;l.exports={filter:function(a,b,e,h){Array.isArray(b)||(b=[b]);"number"===typeof h&&isFinite(h)||(h=Infinity);return c(a,b,!1!==e,h)},find:c,findOneChild:function(a,
b){for(var c=0,d=b.length;c<d;c++)if(a(b[c]))return b[c];return null},findOne:e,existsOne:h,findAll:b}},{domelementtype:710}],719:[function(a,l,f){function c(a){return Array.isArray(a)?a.map(c).join(""):b(a)||a.type===e.CDATA?c(a.children):a.type===e.Text?a.data:""}var e=a("domelementtype"),h=a("dom-serializer"),b=e.isTag;l.exports={getInnerHTML:function(a,b){return a.children?a.children.map(function(a){return h(a,b)}).join(""):""},getOuterHTML:h,getText:c}},{"dom-serializer":708,domelementtype:710}],
720:[function(a,l,f){var c=f.getChildren=function(a){return a.children},e=f.getParent=function(a){return a.parent};f.getSiblings=function(a){var b=e(a);return b?c(b):[a]};f.getAttributeValue=function(a,b){return a.attribs&&a.attribs[b]};f.hasAttrib=function(a,b){return!!a.attribs&&hasOwnProperty.call(a.attribs,b)};f.getName=function(a){return a.name}},{}],721:[function(a,l,f){(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){var c={exports:{}};(function(){var e,
b,k,d,f,l,q,w=[].slice,p={}.hasOwnProperty,r=function(a,b){function c(){this.constructor=a}for(var d in b)p.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a};l=function(){};b=function(){function a(){}a.prototype.addEventListener=a.prototype.on;a.prototype.on=function(a,b){this._callbacks=this._callbacks||{};this._callbacks[a]||(this._callbacks[a]=[]);this._callbacks[a].push(b);return this};a.prototype.emit=function(){var a,b,c,d,e;b=arguments[0];a=
2<=arguments.length?w.call(arguments,1):[];this._callbacks=this._callbacks||{};if(c=this._callbacks[b])for(d=0,e=c.length;d<e;d++)b=c[d],b.apply(this,a);return this};a.prototype.removeListener=a.prototype.off;a.prototype.removeAllListeners=a.prototype.off;a.prototype.removeEventListener=a.prototype.off;a.prototype.off=function(a,b){var c,d,e,h,k;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;d=this._callbacks[a];if(!d)return this;if(1===arguments.length)return delete this._callbacks[a],
this;e=h=0;for(k=d.length;h<k;e=++h)if(c=d[e],c===b){d.splice(e,1);break}return this};return a}();e=function(a){function c(a,b){var e,g;this.element=a;this.version=c.version;this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,"");this.clickableElements=[];this.listeners=[];this.files=[];"string"===typeof this.element&&(this.element=document.querySelector(this.element));if(!this.element||null==this.element.nodeType)throw Error("Invalid dropzone element.");if(this.element.dropzone)throw Error("Dropzone already attached.");
c.instances.push(this);this.element.dropzone=this;a=null!=(g=c.optionsForElement(this.element))?g:{};this.options=d({},this.defaultOptions,a,null!=b?b:{});if(this.options.forceFallback||!c.isBrowserSupported())return this.options.fallback.call(this);null==this.options.url&&(this.options.url=this.element.getAttribute("action"));if(!this.options.url)throw Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");
this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes);this.options.method=this.options.method.toUpperCase();(e=this.getExistingFallback())&&e.parentNode&&e.parentNode.removeChild(e);!1!==this.options.previewsContainer&&(this.previewsContainer=this.options.previewsContainer?c.getElement(this.options.previewsContainer,"previewsContainer"):this.element);this.options.clickable&&(this.clickableElements=!0===this.options.clickable?
[this.element]:c.getElements(this.options.clickable,"clickable"));this.init()}var d,e;r(c,a);c.prototype.Emitter=b;c.prototype.events="drop dragstart dragend dragenter dragover dragleave addedfile addedfiles removedfile thumbnail error errormultiple processing processingmultiple uploadprogress totaluploadprogress sending sendingmultiple success successmultiple canceled canceledmultiple complete completemultiple reset maxfilesexceeded maxfilesreached queuecomplete".split(" ");c.prototype.defaultOptions=
{url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1E3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",
dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",
accept:function(a,b){return b()},init:function(){return l},forceFallback:!1,fallback:function(){var a,b,d,e,h;this.element.className=""+this.element.className+" dz-browser-not-supported";h=this.element.getElementsByTagName("div");d=0;for(e=h.length;d<e;d++)a=h[d],/(^| )dz-message($| )/.test(a.className)&&(b=a,a.className="dz-message");b||(b=c.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(b));if(a=b.getElementsByTagName("span")[0])null!=a.textContent?a.textContent=
this.options.dictFallbackMessage:null!=a.innerText&&(a.innerText=this.options.dictFallbackMessage);return this.element.appendChild(this.getFallbackForm())},resize:function(a){var b,c,d;b={srcX:0,srcY:0,srcWidth:a.width,srcHeight:a.height};c=a.width/a.height;b.optWidth=this.options.thumbnailWidth;b.optHeight=this.options.thumbnailHeight;null==b.optWidth&&null==b.optHeight?(b.optWidth=b.srcWidth,b.optHeight=b.srcHeight):null==b.optWidth?b.optWidth=c*b.optHeight:null==b.optHeight&&(b.optHeight=1/c*b.optWidth);
d=b.optWidth/b.optHeight;a.height<b.optHeight||a.width<b.optWidth?(b.trgHeight=b.srcHeight,b.trgWidth=b.srcWidth):c>d?(b.srcHeight=a.height,b.srcWidth=b.srcHeight*d):(b.srcWidth=a.width,b.srcHeight=b.srcWidth/d);b.srcX=(a.width-b.srcWidth)/2;b.srcY=(a.height-b.srcHeight)/2;return b},drop:function(a){return this.element.classList.remove("dz-drag-hover")},dragstart:l,dragend:function(a){return this.element.classList.remove("dz-drag-hover")},dragenter:function(a){return this.element.classList.add("dz-drag-hover")},
dragover:function(a){return this.element.classList.add("dz-drag-hover")},dragleave:function(a){return this.element.classList.remove("dz-drag-hover")},paste:l,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(a){var b,d,e,g,h,k;this.element===this.previewsContainer&&this.element.classList.add("dz-started");if(this.previewsContainer){a.previewElement=c.createElement(this.options.previewTemplate.trim());a.previewTemplate=a.previewElement;this.previewsContainer.appendChild(a.previewElement);
g=a.previewElement.querySelectorAll("[data-dz-name]");d=0;for(e=g.length;d<e;d++)b=g[d],b.textContent=a.name;g=a.previewElement.querySelectorAll("[data-dz-size]");d=0;for(e=g.length;d<e;d++)b=g[d],b.innerHTML=this.filesize(a.size);this.options.addRemoveLinks&&(a._removeLink=c.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),a.previewElement.appendChild(a._removeLink));b=function(b){return function(d){d.preventDefault();d.stopPropagation();
return a.status===c.UPLOADING?c.confirm(b.options.dictCancelUploadConfirmation,function(){return b.removeFile(a)}):b.options.dictRemoveFileConfirmation?c.confirm(b.options.dictRemoveFileConfirmation,function(){return b.removeFile(a)}):b.removeFile(a)}}(this);h=a.previewElement.querySelectorAll("[data-dz-remove]");k=[];e=0;for(g=h.length;e<g;e++)d=h[e],k.push(d.addEventListener("click",b));return k}},removedfile:function(a){var b;a.previewElement&&null!=(b=a.previewElement)&&b.parentNode.removeChild(a.previewElement);
return this._updateMaxFilesReachedClass()},thumbnail:function(a,b){var c,d,e,g;if(a.previewElement){a.previewElement.classList.remove("dz-file-preview");g=a.previewElement.querySelectorAll("[data-dz-thumbnail]");d=0;for(e=g.length;d<e;d++)c=g[d],c.alt=a.name,c.src=b;return setTimeout(function(b){return function(){return a.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(a,b){var c,d,e,g;if(a.previewElement){a.previewElement.classList.add("dz-error");"String"!==typeof b&&
b.error&&(b=b.error);e=a.previewElement.querySelectorAll("[data-dz-errormessage]");g=[];c=0;for(d=e.length;c<d;c++)a=e[c],g.push(a.textContent=b);return g}},errormultiple:l,processing:function(a){if(a.previewElement&&(a.previewElement.classList.add("dz-processing"),a._removeLink))return a._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:l,uploadprogress:function(a,b,c){var d,e,g;if(a.previewElement){e=a.previewElement.querySelectorAll("[data-dz-uploadprogress]");g=[];c=0;
for(d=e.length;c<d;c++)a=e[c],"PROGRESS"===a.nodeName?g.push(a.value=b):g.push(a.style.width=""+b+"%");return g}},totaluploadprogress:l,sending:l,sendingmultiple:l,success:function(a){if(a.previewElement)return a.previewElement.classList.add("dz-success")},successmultiple:l,canceled:function(a){return this.emit("error",a,"Upload canceled.")},canceledmultiple:l,complete:function(a){a._removeLink&&(a._removeLink.textContent=this.options.dictRemoveFile);if(a.previewElement)return a.previewElement.classList.add("dz-complete")},
completemultiple:l,maxfilesexceeded:l,maxfilesreached:l,queuecomplete:l,addedfiles:l,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'};
d=function(){var a,b,c,d,e,h,k;d=arguments[0];c=2<=arguments.length?w.call(arguments,1):[];h=0;for(k=c.length;h<k;h++)for(a in b=c[h],b)e=b[a],d[a]=e;return d};c.prototype.getAcceptedFiles=function(){var a,b,c,d,e;d=this.files;e=[];b=0;for(c=d.length;b<c;b++)a=d[b],a.accepted&&e.push(a);return e};c.prototype.getRejectedFiles=function(){var a,b,c,d,e;d=this.files;e=[];b=0;for(c=d.length;b<c;b++)a=d[b],a.accepted||e.push(a);return e};c.prototype.getFilesWithStatus=function(a){var b,c,d,e,g;e=this.files;
g=[];c=0;for(d=e.length;c<d;c++)b=e[c],b.status===a&&g.push(b);return g};c.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(c.QUEUED)};c.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(c.UPLOADING)};c.prototype.getAddedFiles=function(){return this.getFilesWithStatus(c.ADDED)};c.prototype.getActiveFiles=function(){var a,b,d,e,h;e=this.files;h=[];b=0;for(d=e.length;b<d;b++)a=e[b],a.status!==c.UPLOADING&&a.status!==c.QUEUED||h.push(a);return h};c.prototype.init=
function(){var a,b,d,e,h,k;"form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data");this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(c.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"));this.clickableElements.length&&(d=function(a){return function(){a.hiddenFileInput&&a.hiddenFileInput.parentNode.removeChild(a.hiddenFileInput);a.hiddenFileInput=
document.createElement("input");a.hiddenFileInput.setAttribute("type","file");(null==a.options.maxFiles||1<a.options.maxFiles)&&a.hiddenFileInput.setAttribute("multiple","multiple");a.hiddenFileInput.className="dz-hidden-input";null!=a.options.acceptedFiles&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles);null!=a.options.capture&&a.hiddenFileInput.setAttribute("capture",a.options.capture);a.hiddenFileInput.style.visibility="hidden";a.hiddenFileInput.style.position="absolute";a.hiddenFileInput.style.top=
"0";a.hiddenFileInput.style.left="0";a.hiddenFileInput.style.height="0";a.hiddenFileInput.style.width="0";document.querySelector(a.options.hiddenInputContainer).appendChild(a.hiddenFileInput);return a.hiddenFileInput.addEventListener("change",function(){var b,c,e,g;c=a.hiddenFileInput.files;if(c.length)for(e=0,g=c.length;e<g;e++)b=c[e],a.addFile(b);a.emit("addedfiles",c);return d()})}}(this),d());this.URL=null!=(a=window.URL)?a:window.webkitURL;k=this.events;e=0;for(h=k.length;e<h;e++)a=k[e],this.on(a,
this.options[a]);this.on("uploadprogress",function(a){return function(){return a.updateTotalUploadProgress()}}(this));this.on("removedfile",function(a){return function(){return a.updateTotalUploadProgress()}}(this));this.on("canceled",function(a){return function(b){return a.emit("complete",b)}}(this));this.on("complete",function(a){return function(b){if(0===a.getAddedFiles().length&&0===a.getUploadingFiles().length&&0===a.getQueuedFiles().length)return setTimeout(function(){return a.emit("queuecomplete")},
0)}}(this));b=function(a){a.stopPropagation();return a.preventDefault?a.preventDefault():a.returnValue=!1};this.listeners=[{element:this.element,events:{dragstart:function(a){return function(b){return a.emit("dragstart",b)}}(this),dragenter:function(a){return function(c){b(c);return a.emit("dragenter",c)}}(this),dragover:function(a){return function(c){var d;try{d=c.dataTransfer.effectAllowed}catch(J){}c.dataTransfer.dropEffect="move"===d||"linkMove"===d?"move":"copy";b(c);return a.emit("dragover",
c)}}(this),dragleave:function(a){return function(b){return a.emit("dragleave",b)}}(this),drop:function(a){return function(c){b(c);return a.drop(c)}}(this),dragend:function(a){return function(b){return a.emit("dragend",b)}}(this)}}];this.clickableElements.forEach(function(a){return function(b){return a.listeners.push({element:b,events:{click:function(d){(b!==a.element||d.target===a.element||c.elementInside(d.target,a.element.querySelector(".dz-message")))&&a.hiddenFileInput.click();return!0}}})}}(this));
this.enable();return this.options.init.call(this)};c.prototype.destroy=function(){var a;this.disable();this.removeAllFiles(!0);null!=(a=this.hiddenFileInput)&&a.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null);delete this.element.dropzone;return c.instances.splice(c.instances.indexOf(this),1)};c.prototype.updateTotalUploadProgress=function(){var a,b,c,d,e,h;b=c=0;if(this.getActiveFiles().length){h=this.getActiveFiles();d=0;for(e=h.length;d<
e;d++)a=h[d],c+=a.upload.bytesSent,b+=a.upload.total;a=100*c/b}else a=100;return this.emit("totaluploadprogress",a,b,c)};c.prototype._getParamName=function(a){return"function"===typeof this.options.paramName?this.options.paramName(a):""+this.options.paramName+(this.options.uploadMultiple?"["+a+"]":"")};c.prototype.getFallbackForm=function(){var a,b;if(a=this.getExistingFallback())return a;a='<div class="dz-fallback">';this.options.dictFallbackText&&(a+="<p>"+this.options.dictFallbackText+"</p>");
a+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>';a=c.createElement(a);"FORM"!==this.element.tagName?(b=c.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),b.appendChild(a)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method));return null!=b?b:a};
c.prototype.getExistingFallback=function(){var a,b,c,d,e;b=function(a){var b,c,d;c=0;for(d=a.length;c<d;c++)if(b=a[c],/(^| )fallback($| )/.test(b.className))return b};e=["div","form"];c=0;for(d=e.length;c<d;c++)if(a=e[c],a=b(this.element.getElementsByTagName(a)))return a};c.prototype.setupEventListeners=function(){var a,b,c,d,e,h,k;h=this.listeners;k=[];d=0;for(e=h.length;d<e;d++)a=h[d],k.push(function(){var d,e;d=a.events;e=[];for(b in d)c=d[b],e.push(a.element.addEventListener(b,c,!1));return e}());
return k};c.prototype.removeEventListeners=function(){var a,b,c,d,e,h,k;h=this.listeners;k=[];d=0;for(e=h.length;d<e;d++)a=h[d],k.push(function(){var d,e;d=a.events;e=[];for(b in d)c=d[b],e.push(a.element.removeEventListener(b,c,!1));return e}());return k};c.prototype.disable=function(){var a,b,c,d,e;this.clickableElements.forEach(function(a){return a.classList.remove("dz-clickable")});this.removeEventListeners();d=this.files;e=[];b=0;for(c=d.length;b<c;b++)a=d[b],e.push(this.cancelUpload(a));return e};
c.prototype.enable=function(){this.clickableElements.forEach(function(a){return a.classList.add("dz-clickable")});return this.setupEventListeners()};c.prototype.filesize=function(a){var b,c,d,e,g,h,k,f;d=0;e="b";if(0<a){h=["TB","GB","MB","KB","b"];c=k=0;for(f=h.length;k<f;c=++k)if(g=h[c],b=Math.pow(this.options.filesizeBase,4-c)/10,a>=b){d=a/Math.pow(this.options.filesizeBase,4-c);e=g;break}d=Math.round(10*d)/10}return"<strong>"+d+"</strong> "+e};c.prototype._updateMaxFilesReachedClass=function(){return null!=
this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")};c.prototype.drop=function(a){var b;a.dataTransfer&&(this.emit("drop",a),b=a.dataTransfer.files,this.emit("addedfiles",b),b.length&&((a=a.dataTransfer.items)&&a.length&&null!=a[0].webkitGetAsEntry?this._addFilesFromItems(a):
this.handleFiles(b)))};c.prototype.paste=function(a){var b;if(null!=(null!=a?null!=(b=a.clipboardData)?b.items:void 0:void 0)&&(this.emit("paste",a),a=a.clipboardData.items,a.length))return this._addFilesFromItems(a)};c.prototype.handleFiles=function(a){var b,c,d,e;e=[];c=0;for(d=a.length;c<d;c++)b=a[c],e.push(this.addFile(b));return e};c.prototype._addFilesFromItems=function(a){var b,c,d,e,g;g=[];d=0;for(e=a.length;d<e;d++)c=a[d],null!=c.webkitGetAsEntry&&(b=c.webkitGetAsEntry())?b.isFile?g.push(this.addFile(c.getAsFile())):
b.isDirectory?g.push(this._addFilesFromDirectory(b,b.name)):g.push(void 0):null!=c.getAsFile?null==c.kind||"file"===c.kind?g.push(this.addFile(c.getAsFile())):g.push(void 0):g.push(void 0);return g};c.prototype._addFilesFromDirectory=function(a,b){var c;a=a.createReader();c=function(a){return function(c){var d,e,g;e=0;for(g=c.length;e<g;e++)d=c[e],d.isFile?d.file(function(c){if(!a.options.ignoreHiddenFiles||"."!==c.name.substring(0,1))return c.fullPath=""+b+"/"+c.name,a.addFile(c)}):d.isDirectory&&
a._addFilesFromDirectory(d,""+b+"/"+d.name)}}(this);return a.readEntries(c,function(a){return"undefined"!==typeof console&&null!==console?"function"===typeof console.log?console.log(a):void 0:void 0})};c.prototype.accept=function(a,b){return a.size>1048576*this.options.maxFilesize?b(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(a.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):c.isValidFile(a,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=
this.options.maxFiles?(b(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",a)):this.options.accept.call(this,a,b):b(this.options.dictInvalidFileType)};c.prototype.addFile=function(a){a.upload={progress:0,total:a.size,bytesSent:0};this.files.push(a);a.status=c.ADDED;this.emit("addedfile",a);this._enqueueThumbnail(a);return this.accept(a,function(b){return function(c){c?(a.accepted=!1,b._errorProcessing([a],c)):(a.accepted=!0,b.options.autoQueue&&
b.enqueueFile(a));return b._updateMaxFilesReachedClass()}}(this))};c.prototype.enqueueFiles=function(a){var b,c,d;c=0;for(d=a.length;c<d;c++)b=a[c],this.enqueueFile(b);return null};c.prototype.enqueueFile=function(a){if(a.status===c.ADDED&&!0===a.accepted){if(a.status=c.QUEUED,this.options.autoProcessQueue)return setTimeout(function(a){return function(){return a.processQueue()}}(this),0)}else throw Error("This file can't be queued because it has already been processed or was rejected.");};c.prototype._thumbnailQueue=
[];c.prototype._processingThumbnail=!1;c.prototype._enqueueThumbnail=function(a){if(this.options.createImageThumbnails&&a.type.match(/image.*/)&&a.size<=1048576*this.options.maxThumbnailFilesize)return this._thumbnailQueue.push(a),setTimeout(function(a){return function(){return a._processThumbnailQueue()}}(this),0)};c.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),
function(a){return function(){a._processingThumbnail=!1;return a._processThumbnailQueue()}}(this))};c.prototype.removeFile=function(a){a.status===c.UPLOADING&&this.cancelUpload(a);this.files=q(this.files,a);this.emit("removedfile",a);if(0===this.files.length)return this.emit("reset")};c.prototype.removeAllFiles=function(a){var b,d,e,g;null==a&&(a=!1);g=this.files.slice();d=0;for(e=g.length;d<e;d++)b=g[d],(b.status!==c.UPLOADING||a)&&this.removeFile(b);return null};c.prototype.createThumbnail=function(a,
b){var c;c=new FileReader;c.onload=function(d){return function(){if("image/svg+xml"===a.type)d.emit("thumbnail",a,c.result),null!=b&&b();else return d.createThumbnailFromUrl(a,c.result,b)}}(this);return c.readAsDataURL(a)};c.prototype.createThumbnailFromUrl=function(a,b,c,d){var e;e=document.createElement("img");d&&(e.crossOrigin=d);e.onload=function(b){return function(){var d,g,h,k,l,m,n;a.width=e.width;a.height=e.height;h=b.options.resize.call(b,a);null==h.trgWidth&&(h.trgWidth=h.optWidth);null==
h.trgHeight&&(h.trgHeight=h.optHeight);d=document.createElement("canvas");g=d.getContext("2d");d.width=h.trgWidth;d.height=h.trgHeight;f(g,e,null!=(k=h.srcX)?k:0,null!=(l=h.srcY)?l:0,h.srcWidth,h.srcHeight,null!=(m=h.trgX)?m:0,null!=(n=h.trgY)?n:0,h.trgWidth,h.trgHeight);d=d.toDataURL("image/png");b.emit("thumbnail",a,d);if(null!=c)return c()}}(this);null!=c&&(e.onerror=c);return e.src=b};c.prototype.processQueue=function(){var a,b,c,d;b=this.options.parallelUploads;a=c=this.getUploadingFiles().length;
if(!(c>=b)&&(d=this.getQueuedFiles(),0<d.length)){if(this.options.uploadMultiple)return this.processFiles(d.slice(0,b-c));for(;a<b&&d.length;)this.processFile(d.shift()),a++}};c.prototype.processFile=function(a){return this.processFiles([a])};c.prototype.processFiles=function(a){var b,d,e;d=0;for(e=a.length;d<e;d++)b=a[d],b.processing=!0,b.status=c.UPLOADING,this.emit("processing",b);this.options.uploadMultiple&&this.emit("processingmultiple",a);return this.uploadFiles(a)};c.prototype._getFilesWithXhr=
function(a){var b,c,d,e,g;e=this.files;g=[];c=0;for(d=e.length;c<d;c++)b=e[c],b.xhr===a&&g.push(b);return g};c.prototype.cancelUpload=function(a){var b,d,e,g;if(a.status===c.UPLOADING){d=this._getFilesWithXhr(a.xhr);e=0;for(g=d.length;e<g;e++)b=d[e],b.status=c.CANCELED;a.xhr.abort();a=0;for(e=d.length;a<e;a++)b=d[a],this.emit("canceled",b);this.options.uploadMultiple&&this.emit("canceledmultiple",d)}else if((b=a.status)===c.ADDED||b===c.QUEUED)a.status=c.CANCELED,this.emit("canceled",a),this.options.uploadMultiple&&
this.emit("canceledmultiple",[a]);if(this.options.autoProcessQueue)return this.processQueue()};e=function(){var a,b;b=arguments[0];a=2<=arguments.length?w.call(arguments,1):[];return"function"===typeof b?b.apply(this,a):b};c.prototype.uploadFile=function(a){return this.uploadFiles([a])};c.prototype.uploadFiles=function(a){var b,g,h,k,f,l,m,n,q,p,u,t,r,w,y;r=new XMLHttpRequest;f=0;for(t=a.length;f<t;f++)b=a[f],b.xhr=r;f=e(this.options.method,a);t=e(this.options.url,a);r.open(f,t,!0);r.withCredentials=
!!this.options.withCredentials;p=null;h=function(c){return function(){var d,e,g;g=[];d=0;for(e=a.length;d<e;d++)b=a[d],g.push(c._errorProcessing(a,p||c.options.dictResponseError.replace("{{statusCode}}",r.status),r));return g}}(this);u=function(c){return function(d){var e,g,h;if(null!=d)for(e=100*d.loaded/d.total,g=0,h=a.length;g<h;g++)b=a[g],b.upload={progress:e,total:d.total,bytesSent:d.loaded};else{d=!0;e=100;g=0;for(h=a.length;g<h;g++){b=a[g];if(100!==b.upload.progress||b.upload.bytesSent!==b.upload.total)d=
!1;b.upload.progress=e;b.upload.bytesSent=b.upload.total}if(d)return}h=[];d=0;for(g=a.length;d<g;d++)b=a[d],h.push(c.emit("uploadprogress",b,e,b.upload.bytesSent));return h}}(this);r.onload=function(b){return function(d){var e;if(a[0].status!==c.CANCELED&&4===r.readyState){p=r.responseText;if(r.getResponseHeader("content-type")&&~r.getResponseHeader("content-type").indexOf("application/json"))try{p=JSON.parse(p)}catch(U){d=U,p="Invalid JSON response from server."}u();return 200<=(e=r.status)&&300>
e?b._finished(a,p,d):h()}}}(this);r.onerror=function(b){return function(){if(a[0].status!==c.CANCELED)return h()}}(this);(null!=(k=r.upload)?k:r).onprogress=u;f={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&d(f,this.options.headers);for(g in f)(k=f[g])&&r.setRequestHeader(g,k);g=new FormData;if(this.options.params)for(n in f=this.options.params,f)k=f[n],g.append(n,k);n=0;for(k=a.length;n<k;n++)b=a[n],this.emit("sending",b,r,g);this.options.uploadMultiple&&
this.emit("sendingmultiple",a,r,g);if("FORM"===this.element.tagName)for(t=this.element.querySelectorAll("input, textarea, select, button"),k=0,f=t.length;k<f;k++)if(m=t[k],n=m.getAttribute("name"),q=m.getAttribute("type"),"SELECT"===m.tagName&&m.hasAttribute("multiple"))for(y=m.options,q=0,w=y.length;q<w;q++)m=y[q],m.selected&&g.append(n,m.value);else(!q||"checkbox"!==(l=q.toLowerCase())&&"radio"!==l||m.checked)&&g.append(n,m.value);l=n=0;for(k=a.length-1;0<=k?n<=k:n>=k;l=0<=k?++n:--n)g.append(this._getParamName(l),
a[l],a[l].name);return this.submitRequest(r,g,a)};c.prototype.submitRequest=function(a,b,c){return a.send(b)};c.prototype._finished=function(a,b,d){var e,g,h;g=0;for(h=a.length;g<h;g++)e=a[g],e.status=c.SUCCESS,this.emit("success",e,b,d),this.emit("complete",e);this.options.uploadMultiple&&(this.emit("successmultiple",a,b,d),this.emit("completemultiple",a));if(this.options.autoProcessQueue)return this.processQueue()};c.prototype._errorProcessing=function(a,b,d){var e,g,h;g=0;for(h=a.length;g<h;g++)e=
a[g],e.status=c.ERROR,this.emit("error",e,b,d),this.emit("complete",e);this.options.uploadMultiple&&(this.emit("errormultiple",a,b,d),this.emit("completemultiple",a));if(this.options.autoProcessQueue)return this.processQueue()};return c}(b);e.version="4.2.0";e.options={};e.optionsForElement=function(a){if(a.getAttribute("id"))return e.options[k(a.getAttribute("id"))]};e.instances=[];e.forElement=function(a){"string"===typeof a&&(a=document.querySelector(a));if(null==(null!=a?a.dropzone:void 0))throw Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");
return a.dropzone};e.autoDiscover=!0;e.discover=function(){var a,b,c,d,g;document.querySelectorAll?b=document.querySelectorAll(".dropzone"):(b=[],a=function(a){var c,d,e,g;g=[];d=0;for(e=a.length;d<e;d++)c=a[d],/(^| )dropzone($| )/.test(c.className)?g.push(b.push(c)):g.push(void 0);return g},a(document.getElementsByTagName("div")),a(document.getElementsByTagName("form")));g=[];c=0;for(d=b.length;c<d;c++)a=b[c],!1!==e.optionsForElement(a)?g.push(new e(a)):g.push(void 0);return g};e.blacklistedBrowsers=
[/opera.*Macintosh.*version\/12/i];e.isBrowserSupported=function(){var a,b,c,d,g;a=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(g=e.blacklistedBrowsers,c=0,d=g.length;c<d;c++)b=g[c],b.test(navigator.userAgent)&&(a=!1);else a=!1;else a=!1;return a};q=function(a,b){var c,d,e,h;h=[];d=0;for(e=a.length;d<e;d++)c=a[d],c!==b&&h.push(c);return h};k=function(a){return a.replace(/[\-_](\w)/g,function(a){return a.charAt(1).toUpperCase()})};
e.createElement=function(a){var b;b=document.createElement("div");b.innerHTML=a;return b.childNodes[0]};e.elementInside=function(a,b){if(a===b)return!0;for(;a=a.parentNode;)if(a===b)return!0;return!1};e.getElement=function(a,b){var c;"string"===typeof a?c=document.querySelector(a):null!=a.nodeType&&(c=a);if(null==c)throw Error("Invalid `"+b+"` option provided. Please provide a CSS selector or a plain HTML element.");return c};e.getElements=function(a,b){var c,d,e,h;if(a instanceof Array){d=[];try{for(e=
0,h=a.length;e<h;e++)c=a[e],d.push(this.getElement(c,b))}catch(z){d=null}}else if("string"===typeof a)for(d=[],h=document.querySelectorAll(a),a=0,e=h.length;a<e;a++)c=h[a],d.push(c);else null!=a.nodeType&&(d=[a]);if(null==d||!d.length)throw Error("Invalid `"+b+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return d};e.confirm=function(a,b,c){if(window.confirm(a))return b();if(null!=c)return c()};e.isValidFile=function(a,b){var c,d,e,h,k;if(!b)return!0;
b=b.split(",");d=a.type;c=d.replace(/\/.*$/,"");h=0;for(k=b.length;h<k;h++)if(e=b[h],e=e.trim(),"."===e.charAt(0)){if(-1!==a.name.toLowerCase().indexOf(e.toLowerCase(),a.name.length-e.length))return!0}else if(/\/\*$/.test(e)){if(c===e.replace(/\/.*$/,""))return!0}else if(d===e)return!0;return!1};"undefined"!==typeof a&&null!==a&&(a.fn.dropzone=function(a){return this.each(function(){return new e(this,a)})});"undefined"!==typeof c&&null!==c?c.exports=e:window.Dropzone=e;e.ADDED="added";e.QUEUED="queued";
e.ACCEPTED=e.QUEUED;e.UPLOADING="uploading";e.PROCESSING=e.UPLOADING;e.CANCELED="canceled";e.ERROR="error";e.SUCCESS="success";d=function(a){var b,c,d,e,h;d=a.naturalHeight;b=document.createElement("canvas");b.width=1;b.height=d;b=b.getContext("2d");b.drawImage(a,0,0);b=b.getImageData(0,0,1,d).data;h=0;for(e=c=d;e>h;)a=b[4*(e-1)+3],0===a?c=e:h=e,e=c+h>>1;d=e/d;return 0===d?1:d};f=function(a,b,c,e,g,h,k,f,l,m){var n;n=d(b);return a.drawImage(b,c,e,g,h,k,f,l,m/n)};e._autoDiscoverFunction=function(){if(e.autoDiscover)return e.discover()};
(function(a,b){var c,d,e,h,k,f,l,m,n;e=!1;n=!0;d=a.document;m=d.documentElement;c=d.addEventListener?"addEventListener":"attachEvent";l=d.addEventListener?"removeEventListener":"detachEvent";f=d.addEventListener?"":"on";h=function(c){if("readystatechange"!==c.type||"complete"===d.readyState)if(("load"===c.type?a:d)[l](f+c.type,h,!1),!e&&(e=!0))return b.call(a,c.type||c)};k=function(){try{m.doScroll("left")}catch(E){setTimeout(k,50);return}return h("poll")};if("complete"!==d.readyState){if(d.createEventObject&&
m.doScroll){try{n=!a.frameElement}catch(E){}n&&k()}d[c](f+"DOMContentLoaded",h,!1);d[c](f+"readystatechange",h,!1);return a[c](f+"load",h,!1)}})(window,e._autoDiscoverFunction)}).call(this);return c.exports})},{}],722:[function(a,l,f){var c=a("./lib/encode.js"),e=a("./lib/decode.js");f.decode=function(a,b){return(!b||0>=b?e.XML:e.HTML)(a)};f.decodeStrict=function(a,b){return(!b||0>=b?e.XML:e.HTMLStrict)(a)};f.encode=function(a,b){return(!b||0>=b?c.XML:c.HTML)(a)};f.encodeXML=c.XML;f.encodeHTML4=f.encodeHTML5=
f.encodeHTML=c.HTML;f.decodeXML=f.decodeXMLStrict=e.XML;f.decodeHTML4=f.decodeHTML5=f.decodeHTML=e.HTML;f.decodeHTML4Strict=f.decodeHTML5Strict=f.decodeHTMLStrict=e.HTMLStrict;f.escape=c.escape},{"./lib/decode.js":723,"./lib/encode.js":725}],723:[function(a,l,f){function c(a){var b=Object.keys(a).join("|"),c=h(a),d=new RegExp("&(?:"+(b+"|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(a){return String(a).replace(d,c)}}function e(a,b){return a<b?1:-1}function h(a){return function(b){return"#"===
b.charAt(1)?"X"===b.charAt(2)||"x"===b.charAt(2)?d(parseInt(b.substr(3),16)):d(parseInt(b.substr(2),10)):a[b.slice(1,-1)]}}var b=a("../maps/entities.json"),k=a("../maps/legacy.json");f=a("../maps/xml.json");var d=a("./decode_codepoint.js");a=c(f);f=c(b);var n=function(){function a(a){";"!==a.substr(-1)&&(a+=";");return u(a)}for(var c=Object.keys(k).sort(e),d=Object.keys(b).sort(e),f=0,l=0;f<d.length;f++)c[l]===d[f]?(d[f]+=";?",l++):d[f]+=";";var n=new RegExp("&(?:"+d.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)",
"g"),u=h(b);return function(b){return String(b).replace(n,a)}}();l.exports={XML:a,HTML:n,HTMLStrict:f}},{"../maps/entities.json":727,"../maps/legacy.json":728,"../maps/xml.json":729,"./decode_codepoint.js":724}],724:[function(a,l,f){var c=a("../maps/decode.json");l.exports=function(a){if(55296<=a&&57343>=a||1114111<a)return"\ufffd";a in c&&(a=c[a]);var e="";65535<a&&(a-=65536,e+=String.fromCharCode(a>>>10&1023|55296),a=56320|a&1023);return e+=String.fromCharCode(a)}},{"../maps/decode.json":726}],
725:[function(a,l,f){function c(a){return Object.keys(a).sort().reduce(function(b,c){b[a[c]]="&"+c+";";return b},{})}function e(a){var b=[],c=[];Object.keys(a).forEach(function(a){1===a.length?b.push("\\"+a):c.push(a)});c.unshift("["+b.join("")+"]");return new RegExp(c.join("|"),"g")}function h(a){return"&#x"+a.charCodeAt(0).toString(16).toUpperCase()+";"}function b(a){var b=a.charCodeAt(0);a=a.charCodeAt(1);return"&#x"+(1024*(b-55296)+a-56320+65536).toString(16).toUpperCase()+";"}function k(a,c){function d(b){return a[b]}
return function(a){return a.replace(c,d).replace(m,b).replace(n,h)}}l=c(a("../maps/xml.json"));var d=e(l);f.XML=k(l,d);a=c(a("../maps/entities.json"));d=e(a);f.HTML=k(a,d);var n=/[^\0-\x7F]/g,m=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,q=e(l);f.escape=function(a){return a.replace(q,h).replace(m,b).replace(n,h)}},{"../maps/entities.json":727,"../maps/xml.json":729}],726:[function(a,l,f){l.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,
142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},{}],727:[function(a,l,f){l.exports={Aacute:"\u00c1",aacute:"\u00e1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223e",acd:"\u223f",acE:"\u223e\u0333",Acirc:"\u00c2",acirc:"\u00e2",acute:"\u00b4",Acy:"\u0410",acy:"\u0430",AElig:"\u00c6",aelig:"\u00e6",af:"\u2061",Afr:"\ud835\udd04",afr:"\ud835\udd1e",Agrave:"\u00c0",agrave:"\u00e0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",
alpha:"\u03b1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2a3f",amp:"&",AMP:"&",andand:"\u2a55",And:"\u2a53",and:"\u2227",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",ange:"\u29a4",angle:"\u2220",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angmsd:"\u2221",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angst:"\u00c5",angzarr:"\u237c",Aogon:"\u0104",aogon:"\u0105",Aopf:"\ud835\udd38",
aopf:"\ud835\udd52",apacir:"\u2a6f",ap:"\u2248",apE:"\u2a70",ape:"\u224a",apid:"\u224b",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224a",Aring:"\u00c5",aring:"\u00e5",Ascr:"\ud835\udc9c",ascr:"\ud835\udcb6",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224d",Atilde:"\u00c3",atilde:"\u00e3",Auml:"\u00c4",auml:"\u00e4",awconint:"\u2233",awint:"\u2a11",backcong:"\u224c",backepsilon:"\u03f6",backprime:"\u2035",backsim:"\u223d",backsimeq:"\u22cd",Backslash:"\u2216",Barv:"\u2ae7",barvee:"\u22bd",
barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23b5",bbrktbrk:"\u23b6",bcong:"\u224c",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201e",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29b0",bepsi:"\u03f6",bernou:"\u212c",Bernoullis:"\u212c",Beta:"\u0392",beta:"\u03b2",beth:"\u2136",between:"\u226c",Bfr:"\ud835\udd05",bfr:"\ud835\udd1f",bigcap:"\u22c2",bigcirc:"\u25ef",bigcup:"\u22c3",bigodot:"\u2a00",bigoplus:"\u2a01",bigotimes:"\u2a02",bigsqcup:"\u2a06",bigstar:"\u2605",bigtriangledown:"\u25bd",
bigtriangleup:"\u25b3",biguplus:"\u2a04",bigvee:"\u22c1",bigwedge:"\u22c0",bkarow:"\u290d",blacklozenge:"\u29eb",blacksquare:"\u25aa",blacktriangle:"\u25b4",blacktriangledown:"\u25be",blacktriangleleft:"\u25c2",blacktriangleright:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bNot:"\u2aed",bnot:"\u2310",Bopf:"\ud835\udd39",bopf:"\ud835\udd53",bot:"\u22a5",bottom:"\u22a5",bowtie:"\u22c8",boxbox:"\u29c9",boxdl:"\u2510",boxdL:"\u2555",
boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250c",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252c",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229f",boxplus:"\u229e",boxtimes:"\u22a0",boxul:"\u2518",boxuL:"\u255b",boxUl:"\u255c",boxUL:"\u255d",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255a",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253c",boxvH:"\u256a",boxVh:"\u256b",boxVH:"\u256c",boxvl:"\u2524",
boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251c",boxvR:"\u255e",boxVr:"\u255f",boxVR:"\u2560",bprime:"\u2035",breve:"\u02d8",Breve:"\u02d8",brvbar:"\u00a6",bscr:"\ud835\udcb7",Bscr:"\u212c",bsemi:"\u204f",bsim:"\u223d",bsime:"\u22cd",bsolb:"\u29c5",bsol:"\\",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bump:"\u224e",bumpE:"\u2aae",bumpe:"\u224f",Bumpeq:"\u224e",bumpeq:"\u224f",Cacute:"\u0106",cacute:"\u0107",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",cap:"\u2229",Cap:"\u22d2",
capcup:"\u2a47",capdot:"\u2a40",CapitalDifferentialD:"\u2145",caps:"\u2229\ufe00",caret:"\u2041",caron:"\u02c7",Cayleys:"\u212d",ccaps:"\u2a4d",Ccaron:"\u010c",ccaron:"\u010d",Ccedil:"\u00c7",ccedil:"\u00e7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2a4c",ccupssm:"\u2a50",Cdot:"\u010a",cdot:"\u010b",cedil:"\u00b8",Cedilla:"\u00b8",cemptyv:"\u29b2",cent:"\u00a2",centerdot:"\u00b7",CenterDot:"\u00b7",cfr:"\ud835\udd20",Cfr:"\u212d",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",
Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",circeq:"\u2257",circlearrowleft:"\u21ba",circlearrowright:"\u21bb",circledast:"\u229b",circledcirc:"\u229a",circleddash:"\u229d",CircleDot:"\u2299",circledR:"\u00ae",circledS:"\u24c8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25cb",cirE:"\u29c3",cire:"\u2257",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201d",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",
colon:":",Colon:"\u2237",Colone:"\u2a74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2a6d",Congruent:"\u2261",conint:"\u222e",Conint:"\u222f",ContourIntegral:"\u222e",copf:"\ud835\udd54",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\u00a9",COPY:"\u00a9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21b5",cross:"\u2717",Cross:"\u2a2f",Cscr:"\ud835\udc9e",cscr:"\ud835\udcb8",
csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",cuesc:"\u22df",cularr:"\u21b6",cularrp:"\u293d",cupbrcap:"\u2a48",cupcap:"\u2a46",CupCap:"\u224d",cup:"\u222a",Cup:"\u22d3",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curarrm:"\u293c",curlyeqprec:"\u22de",curlyeqsucc:"\u22df",curlyvee:"\u22ce",curlywedge:"\u22cf",curren:"\u00a4",curvearrowleft:"\u21b6",curvearrowright:"\u21b7",cuvee:"\u22ce",
cuwed:"\u22cf",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232d",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21a1",dArr:"\u21d3",dash:"\u2010",Dashv:"\u2ae4",dashv:"\u22a3",dbkarow:"\u290f",dblac:"\u02dd",Dcaron:"\u010e",dcaron:"\u010f",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21ca",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2a77",deg:"\u00b0",Del:"\u2207",Delta:"\u0394",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",Dfr:"\ud835\udd07",dfr:"\ud835\udd21",
dHar:"\u2965",dharl:"\u21c3",dharr:"\u21c2",DiacriticalAcute:"\u00b4",DiacriticalDot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",DiacriticalGrave:"`",DiacriticalTilde:"\u02dc",diam:"\u22c4",diamond:"\u22c4",Diamond:"\u22c4",diamondsuit:"\u2666",diams:"\u2666",die:"\u00a8",DifferentialD:"\u2146",digamma:"\u03dd",disin:"\u22f2",div:"\u00f7",divide:"\u00f7",divideontimes:"\u22c7",divonx:"\u22c7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231e",dlcrop:"\u230d",dollar:"$",Dopf:"\ud835\udd3b",dopf:"\ud835\udd55",
Dot:"\u00a8",dot:"\u02d9",DotDot:"\u20dc",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22a1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222f",DoubleDot:"\u00a8",DoubleDownArrow:"\u21d3",DoubleLeftArrow:"\u21d0",DoubleLeftRightArrow:"\u21d4",DoubleLeftTee:"\u2ae4",DoubleLongLeftArrow:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",DoubleLongRightArrow:"\u27f9",DoubleRightArrow:"\u21d2",DoubleRightTee:"\u22a8",DoubleUpArrow:"\u21d1",DoubleUpDownArrow:"\u21d5",
DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21d3",DownArrowUpArrow:"\u21f5",DownBreve:"\u0311",downdownarrows:"\u21ca",downharpoonleft:"\u21c3",downharpoonright:"\u21c2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21bd",DownRightTeeVector:"\u295f",DownRightVectorBar:"\u2957",DownRightVector:"\u21c1",DownTeeArrow:"\u21a7",DownTee:"\u22a4",drbkarow:"\u2910",drcorn:"\u231f",drcrop:"\u230c",
Dscr:"\ud835\udc9f",dscr:"\ud835\udcb9",DScy:"\u0405",dscy:"\u0455",dsol:"\u29f6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",dtrif:"\u25be",duarr:"\u21f5",duhar:"\u296f",dwangle:"\u29a6",DZcy:"\u040f",dzcy:"\u045f",dzigrarr:"\u27ff",Eacute:"\u00c9",eacute:"\u00e9",easter:"\u2a6e",Ecaron:"\u011a",ecaron:"\u011b",Ecirc:"\u00ca",ecirc:"\u00ea",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042d",ecy:"\u044d",eDDot:"\u2a77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",
Efr:"\ud835\udd08",efr:"\ud835\udd22",eg:"\u2a9a",Egrave:"\u00c8",egrave:"\u00e8",egs:"\u2a96",egsdot:"\u2a98",el:"\u2a99",Element:"\u2208",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",elsdot:"\u2a97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25fb",emptyv:"\u2205",EmptyVerySmallSquare:"\u25ab",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014a",eng:"\u014b",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\ud835\udd3c",eopf:"\ud835\udd56",epar:"\u22d5",
eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",Epsilon:"\u0395",epsilon:"\u03b5",epsiv:"\u03f5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2a96",eqslantless:"\u2a95",Equal:"\u2a75",equals:"=",EqualTilde:"\u2242",equest:"\u225f",Equilibrium:"\u21cc",equiv:"\u2261",equivDD:"\u2a78",eqvparsl:"\u29e5",erarr:"\u2971",erDot:"\u2253",escr:"\u212f",Escr:"\u2130",esdot:"\u2250",Esim:"\u2a73",esim:"\u2242",Eta:"\u0397",eta:"\u03b7",ETH:"\u00d0",eth:"\u00f0",Euml:"\u00cb",euml:"\u00eb",euro:"\u20ac",
excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",Ffr:"\ud835\udd09",ffr:"\ud835\udd23",filig:"\ufb01",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",Fopf:"\ud835\udd3d",fopf:"\ud835\udd57",forall:"\u2200",ForAll:"\u2200",fork:"\u22d4",forkv:"\u2ad9",Fouriertrf:"\u2131",
fpartint:"\u2a0d",frac12:"\u00bd",frac13:"\u2153",frac14:"\u00bc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\u00be",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",fscr:"\ud835\udcbb",Fscr:"\u2131",gacute:"\u01f5",Gamma:"\u0393",gamma:"\u03b3",Gammad:"\u03dc",gammad:"\u03dd",gap:"\u2a86",Gbreve:"\u011e",gbreve:"\u011f",Gcedil:"\u0122",Gcirc:"\u011c",gcirc:"\u011d",Gcy:"\u0413",
gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2a8c",gel:"\u22db",geq:"\u2265",geqq:"\u2267",geqslant:"\u2a7e",gescc:"\u2aa9",ges:"\u2a7e",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",Gfr:"\ud835\udd0a",gfr:"\ud835\udd24",gg:"\u226b",Gg:"\u22d9",ggg:"\u22d9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2aa5",gl:"\u2277",glE:"\u2a92",glj:"\u2aa4",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gnE:"\u2269",gneq:"\u2a88",gneqq:"\u2269",
gnsim:"\u22e7",Gopf:"\ud835\udd3e",gopf:"\ud835\udd58",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22db",GreaterFullEqual:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2a7e",GreaterTilde:"\u2273",Gscr:"\ud835\udca2",gscr:"\u210a",gsim:"\u2273",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gt:">",GT:">",Gt:"\u226b",gtdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrapprox:"\u2a86",gtrarr:"\u2978",gtrdot:"\u22d7",gtreqless:"\u22db",gtreqqless:"\u2a8c",
gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",Hacek:"\u02c7",hairsp:"\u200a",half:"\u00bd",hamilt:"\u210b",HARDcy:"\u042a",hardcy:"\u044a",harrcir:"\u2948",harr:"\u2194",hArr:"\u21d4",harrw:"\u21ad",Hat:"^",hbar:"\u210f",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22b9",hfr:"\ud835\udd25",Hfr:"\u210c",HilbertSpace:"\u210b",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",hookrightarrow:"\u21aa",
hopf:"\ud835\udd59",Hopf:"\u210d",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\ud835\udcbd",Hscr:"\u210b",hslash:"\u210f",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224e",HumpEqual:"\u224f",hybull:"\u2043",hyphen:"\u2010",Iacute:"\u00cd",iacute:"\u00ed",ic:"\u2063",Icirc:"\u00ce",icirc:"\u00ee",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\u00a1",iff:"\u21d4",ifr:"\ud835\udd26",Ifr:"\u2111",Igrave:"\u00cc",igrave:"\u00ec",ii:"\u2148",iiiint:"\u2a0c",iiint:"\u222d",
iinfin:"\u29dc",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012a",imacr:"\u012b",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22b7",imped:"\u01b5",Implies:"\u21d2",incare:"\u2105","in":"\u2208",infin:"\u221e",infintie:"\u29dd",inodot:"\u0131",intcal:"\u22ba","int":"\u222b",Int:"\u222c",integers:"\u2124",Integral:"\u222b",intercal:"\u22ba",Intersection:"\u22c2",intlarhk:"\u2a17",intprod:"\u2a3c",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",
IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012e",iogon:"\u012f",Iopf:"\ud835\udd40",iopf:"\ud835\udd5a",Iota:"\u0399",iota:"\u03b9",iprod:"\u2a3c",iquest:"\u00bf",iscr:"\ud835\udcbe",Iscr:"\u2110",isin:"\u2208",isindot:"\u22f5",isinE:"\u22f9",isins:"\u22f4",isinsv:"\u22f3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\u00cf",iuml:"\u00ef",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\ud835\udd0d",jfr:"\ud835\udd27",jmath:"\u0237",Jopf:"\ud835\udd41",
jopf:"\ud835\udd5b",Jscr:"\ud835\udca5",jscr:"\ud835\udcbf",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039a",kappa:"\u03ba",kappav:"\u03f0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041a",kcy:"\u043a",Kfr:"\ud835\udd0e",kfr:"\ud835\udd28",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040c",kjcy:"\u045c",Kopf:"\ud835\udd42",kopf:"\ud835\udd5c",Kscr:"\ud835\udca6",kscr:"\ud835\udcc0",lAarr:"\u21da",Lacute:"\u0139",lacute:"\u013a",laemptyv:"\u29b4",lagran:"\u2112",Lambda:"\u039b",
lambda:"\u03bb",lang:"\u27e8",Lang:"\u27ea",langd:"\u2991",langle:"\u27e8",lap:"\u2a85",Laplacetrf:"\u2112",laquo:"\u00ab",larrb:"\u21e4",larrbfs:"\u291f",larr:"\u2190",Larr:"\u219e",lArr:"\u21d0",larrfs:"\u291d",larrhk:"\u21a9",larrlp:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",latail:"\u2919",lAtail:"\u291b",lat:"\u2aab",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lBarr:"\u290e",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",Lcaron:"\u013d",
lcaron:"\u013e",Lcedil:"\u013b",lcedil:"\u013c",lceil:"\u2308",lcub:"{",Lcy:"\u041b",lcy:"\u043b",ldca:"\u2936",ldquo:"\u201c",ldquor:"\u201e",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27e8",LeftArrowBar:"\u21e4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21d0",LeftArrowRightArrow:"\u21c6",leftarrowtail:"\u21a2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21c3",LeftFloor:"\u230a",
leftharpoondown:"\u21bd",leftharpoonup:"\u21bc",leftleftarrows:"\u21c7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21d4",leftrightarrows:"\u21c6",leftrightharpoons:"\u21cb",leftrightsquigarrow:"\u21ad",LeftRightVector:"\u294e",LeftTeeArrow:"\u21a4",LeftTee:"\u22a3",LeftTeeVector:"\u295a",leftthreetimes:"\u22cb",LeftTriangleBar:"\u29cf",LeftTriangle:"\u22b2",LeftTriangleEqual:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21bf",
LeftVectorBar:"\u2952",LeftVector:"\u21bc",lEg:"\u2a8b",leg:"\u22da",leq:"\u2264",leqq:"\u2266",leqslant:"\u2a7d",lescc:"\u2aa8",les:"\u2a7d",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessapprox:"\u2a85",lessdot:"\u22d6",lesseqgtr:"\u22da",lesseqqgtr:"\u2a8b",LessEqualGreater:"\u22da",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2aa1",lesssim:"\u2272",LessSlantEqual:"\u2a7d",LessTilde:"\u2272",lfisht:"\u297c",lfloor:"\u230a",
Lfr:"\ud835\udd0f",lfr:"\ud835\udd29",lg:"\u2276",lgE:"\u2a91",lHar:"\u2962",lhard:"\u21bd",lharu:"\u21bc",lharul:"\u296a",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21c7",ll:"\u226a",Ll:"\u22d8",llcorner:"\u231e",Lleftarrow:"\u21da",llhard:"\u296b",lltri:"\u25fa",Lmidot:"\u013f",lmidot:"\u0140",lmoustache:"\u23b0",lmoust:"\u23b0",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lnE:"\u2268",lneq:"\u2a87",lneqq:"\u2268",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",lobrk:"\u27e6",longleftarrow:"\u27f5",
LongLeftArrow:"\u27f5",Longleftarrow:"\u27f8",longleftrightarrow:"\u27f7",LongLeftRightArrow:"\u27f7",Longleftrightarrow:"\u27fa",longmapsto:"\u27fc",longrightarrow:"\u27f6",LongRightArrow:"\u27f6",Longrightarrow:"\u27f9",looparrowleft:"\u21ab",looparrowright:"\u21ac",lopar:"\u2985",Lopf:"\ud835\udd43",lopf:"\ud835\udd5d",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25ca",lozenge:"\u25ca",lozf:"\u29eb",lpar:"(",lparlt:"\u2993",
lrarr:"\u21c6",lrcorner:"\u231f",lrhar:"\u21cb",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\ud835\udcc1",Lscr:"\u2112",lsh:"\u21b0",Lsh:"\u21b0",lsim:"\u2272",lsime:"\u2a8d",lsimg:"\u2a8f",lsqb:"[",lsquo:"\u2018",lsquor:"\u201a",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",lt:"<",LT:"<",Lt:"\u226a",ltdot:"\u22d6",lthree:"\u22cb",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltri:"\u25c3",ltrie:"\u22b4",ltrif:"\u25c2",ltrPar:"\u2996",lurdshar:"\u294a",luruhar:"\u2966",
lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",macr:"\u00af",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21a6",mapsto:"\u21a6",mapstodown:"\u21a7",mapstoleft:"\u21a4",mapstoup:"\u21a5",marker:"\u25ae",mcomma:"\u2a29",Mcy:"\u041c",mcy:"\u043c",mdash:"\u2014",mDDot:"\u223a",measuredangle:"\u2221",MediumSpace:"\u205f",Mellintrf:"\u2133",Mfr:"\ud835\udd10",mfr:"\ud835\udd2a",mho:"\u2127",micro:"\u00b5",midast:"*",midcir:"\u2af0",mid:"\u2223",middot:"\u00b7",minusb:"\u229f",minus:"\u2212",
minusd:"\u2238",minusdu:"\u2a2a",MinusPlus:"\u2213",mlcp:"\u2adb",mldr:"\u2026",mnplus:"\u2213",models:"\u22a7",Mopf:"\ud835\udd44",mopf:"\ud835\udd5e",mp:"\u2213",mscr:"\ud835\udcc2",Mscr:"\u2133",mstpos:"\u223e",Mu:"\u039c",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20d2",nap:"\u2249",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266e",naturals:"\u2115",natur:"\u266e",nbsp:"\u00a0",nbump:"\u224e\u0338",
nbumpe:"\u224f\u0338",ncap:"\u2a43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",Ncy:"\u041d",ncy:"\u043d",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21d7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226b",NestedLessLess:"\u226a",
NewLine:"\n",nexist:"\u2204",nexists:"\u2204",Nfr:"\ud835\udd11",nfr:"\ud835\udd2b",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",nGg:"\u22d9\u0338",ngsim:"\u2275",nGt:"\u226b\u20d2",ngt:"\u226f",ngtr:"\u226f",nGtv:"\u226b\u0338",nharr:"\u21ae",nhArr:"\u21ce",nhpar:"\u2af2",ni:"\u220b",nis:"\u22fc",nisd:"\u22fa",niv:"\u220b",NJcy:"\u040a",njcy:"\u045a",nlarr:"\u219a",nlArr:"\u21cd",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219a",
nLeftarrow:"\u21cd",nleftrightarrow:"\u21ae",nLeftrightarrow:"\u21ce",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",nless:"\u226e",nLl:"\u22d8\u0338",nlsim:"\u2274",nLt:"\u226a\u20d2",nlt:"\u226e",nltri:"\u22ea",nltrie:"\u22ec",nLtv:"\u226a\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\u00a0",nopf:"\ud835\udd5f",Nopf:"\u2115",Not:"\u2aec",not:"\u00ac",NotCongruent:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",
NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226f",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",notin:"\u2209",notindot:"\u22f5\u0338",notinE:"\u22f9\u0338",notinva:"\u2209",notinvb:"\u22f7",notinvc:"\u22f6",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangle:"\u22ea",NotLeftTriangleEqual:"\u22ec",
NotLess:"\u226e",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",notni:"\u220c",notniva:"\u220c",notnivb:"\u22fe",notnivc:"\u22fd",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",NotReverseElement:"\u220c",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangle:"\u22eb",NotRightTriangleEqual:"\u22ed",NotSquareSubset:"\u228f\u0338",
NotSquareSubsetEqual:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",NotSubset:"\u2282\u20d2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",
npolint:"\u2a14",npr:"\u2280",nprcue:"\u22e0",nprec:"\u2280",npreceq:"\u2aaf\u0338",npre:"\u2aaf\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219b",nrArr:"\u21cf",nrarrw:"\u219d\u0338",nrightarrow:"\u219b",nRightarrow:"\u21cf",nrtri:"\u22eb",nrtrie:"\u22ed",nsc:"\u2281",nsccue:"\u22e1",nsce:"\u2ab0\u0338",Nscr:"\ud835\udca9",nscr:"\ud835\udcc3",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22e2",nsqsupe:"\u22e3",nsub:"\u2284",
nsubE:"\u2ac5\u0338",nsube:"\u2288",nsubset:"\u2282\u20d2",nsubseteq:"\u2288",nsubseteqq:"\u2ac5\u0338",nsucc:"\u2281",nsucceq:"\u2ab0\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20d2",nsupseteq:"\u2289",nsupseteqq:"\u2ac6\u0338",ntgl:"\u2279",Ntilde:"\u00d1",ntilde:"\u00f1",ntlg:"\u2278",ntriangleleft:"\u22ea",ntrianglelefteq:"\u22ec",ntriangleright:"\u22eb",ntrianglerighteq:"\u22ed",Nu:"\u039d",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224d\u20d2",
nvdash:"\u22ac",nvDash:"\u22ad",nVdash:"\u22ae",nVDash:"\u22af",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvHarr:"\u2904",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21d6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\u00d3",oacute:"\u00f3",oast:"\u229b",Ocirc:"\u00d4",ocirc:"\u00f4",ocir:"\u229a",Ocy:"\u041e",ocy:"\u043e",odash:"\u229d",Odblac:"\u0150",odblac:"\u0151",
odiv:"\u2a38",odot:"\u2299",odsold:"\u29bc",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29bf",Ofr:"\ud835\udd12",ofr:"\ud835\udd2c",ogon:"\u02db",Ograve:"\u00d2",ograve:"\u00f2",ogt:"\u29c1",ohbar:"\u29b5",ohm:"\u03a9",oint:"\u222e",olarr:"\u21ba",olcir:"\u29be",olcross:"\u29bb",oline:"\u203e",olt:"\u29c0",Omacr:"\u014c",omacr:"\u014d",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",omid:"\u29b6",ominus:"\u2296",Oopf:"\ud835\udd46",oopf:"\ud835\udd60",opar:"\u29b7",OpenCurlyDoubleQuote:"\u201c",
OpenCurlyQuote:"\u2018",operp:"\u29b9",oplus:"\u2295",orarr:"\u21bb",Or:"\u2a54",or:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",ordf:"\u00aa",ordm:"\u00ba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oS:"\u24c8",Oscr:"\ud835\udcaa",oscr:"\u2134",Oslash:"\u00d8",oslash:"\u00f8",osol:"\u2298",Otilde:"\u00d5",otilde:"\u00f5",otimesas:"\u2a36",Otimes:"\u2a37",otimes:"\u2297",Ouml:"\u00d6",ouml:"\u00f6",ovbar:"\u233d",OverBar:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",OverParenthesis:"\u23dc",
para:"\u00b6",parallel:"\u2225",par:"\u2225",parsim:"\u2af3",parsl:"\u2afd",part:"\u2202",PartialD:"\u2202",Pcy:"\u041f",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",perp:"\u22a5",pertenk:"\u2031",Pfr:"\ud835\udd13",pfr:"\ud835\udd2d",Phi:"\u03a6",phi:"\u03c6",phiv:"\u03d5",phmmat:"\u2133",phone:"\u260e",Pi:"\u03a0",pi:"\u03c0",pitchfork:"\u22d4",piv:"\u03d6",planck:"\u210f",planckh:"\u210e",plankv:"\u210f",plusacir:"\u2a23",plusb:"\u229e",pluscir:"\u2a22",plus:"+",plusdo:"\u2214",plusdu:"\u2a25",
pluse:"\u2a72",PlusMinus:"\u00b1",plusmn:"\u00b1",plussim:"\u2a26",plustwo:"\u2a27",pm:"\u00b1",Poincareplane:"\u210c",pointint:"\u2a15",popf:"\ud835\udd61",Popf:"\u2119",pound:"\u00a3",prap:"\u2ab7",Pr:"\u2abb",pr:"\u227a",prcue:"\u227c",precapprox:"\u2ab7",prec:"\u227a",preccurlyeq:"\u227c",Precedes:"\u227a",PrecedesEqual:"\u2aaf",PrecedesSlantEqual:"\u227c",PrecedesTilde:"\u227e",preceq:"\u2aaf",precnapprox:"\u2ab9",precneqq:"\u2ab5",precnsim:"\u22e8",pre:"\u2aaf",prE:"\u2ab3",precsim:"\u227e",
prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2ab9",prnE:"\u2ab5",prnsim:"\u22e8",prod:"\u220f",Product:"\u220f",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prop:"\u221d",Proportional:"\u221d",Proportion:"\u2237",propto:"\u221d",prsim:"\u227e",prurel:"\u22b0",Pscr:"\ud835\udcab",pscr:"\ud835\udcc5",Psi:"\u03a8",psi:"\u03c8",puncsp:"\u2008",Qfr:"\ud835\udd14",qfr:"\ud835\udd2e",qint:"\u2a0c",qopf:"\ud835\udd62",Qopf:"\u211a",qprime:"\u2057",Qscr:"\ud835\udcac",qscr:"\ud835\udcc6",
quaternions:"\u210d",quatint:"\u2a16",quest:"?",questeq:"\u225f",quot:'"',QUOT:'"',rAarr:"\u21db",race:"\u223d\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221a",raemptyv:"\u29b3",rang:"\u27e9",Rang:"\u27eb",rangd:"\u2992",range:"\u29a5",rangle:"\u27e9",raquo:"\u00bb",rarrap:"\u2975",rarrb:"\u21e5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21a0",rArr:"\u21d2",rarrfs:"\u291e",rarrhk:"\u21aa",rarrlp:"\u21ac",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21a3",rarrw:"\u219d",
ratail:"\u291a",rAtail:"\u291c",ratio:"\u2236",rationals:"\u211a",rbarr:"\u290d",rBarr:"\u290f",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201d",rdquor:"\u201d",rdsh:"\u21b3",real:"\u211c",realine:"\u211b",realpart:"\u211c",reals:"\u211d",Re:"\u211c",rect:"\u25ad",reg:"\u00ae",REG:"\u00ae",
ReverseElement:"\u220b",ReverseEquilibrium:"\u21cb",ReverseUpEquilibrium:"\u296f",rfisht:"\u297d",rfloor:"\u230b",rfr:"\ud835\udd2f",Rfr:"\u211c",rHar:"\u2964",rhard:"\u21c1",rharu:"\u21c0",rharul:"\u296c",Rho:"\u03a1",rho:"\u03c1",rhov:"\u03f1",RightAngleBracket:"\u27e9",RightArrowBar:"\u21e5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21d2",RightArrowLeftArrow:"\u21c4",rightarrowtail:"\u21a3",RightCeiling:"\u2309",RightDoubleBracket:"\u27e7",RightDownTeeVector:"\u295d",RightDownVectorBar:"\u2955",
RightDownVector:"\u21c2",RightFloor:"\u230b",rightharpoondown:"\u21c1",rightharpoonup:"\u21c0",rightleftarrows:"\u21c4",rightleftharpoons:"\u21cc",rightrightarrows:"\u21c9",rightsquigarrow:"\u219d",RightTeeArrow:"\u21a6",RightTee:"\u22a2",RightTeeVector:"\u295b",rightthreetimes:"\u22cc",RightTriangleBar:"\u29d0",RightTriangle:"\u22b3",RightTriangleEqual:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVectorBar:"\u2954",RightUpVector:"\u21be",RightVectorBar:"\u2953",RightVector:"\u21c0",
ring:"\u02da",risingdotseq:"\u2253",rlarr:"\u21c4",rlhar:"\u21cc",rlm:"\u200f",rmoustache:"\u23b1",rmoust:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",robrk:"\u27e7",ropar:"\u2986",ropf:"\ud835\udd63",Ropf:"\u211d",roplus:"\u2a2e",rotimes:"\u2a35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rrarr:"\u21c9",Rrightarrow:"\u21db",rsaquo:"\u203a",rscr:"\ud835\udcc7",Rscr:"\u211b",rsh:"\u21b1",Rsh:"\u21b1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22cc",rtimes:"\u22ca",
rtri:"\u25b9",rtrie:"\u22b5",rtrif:"\u25b8",rtriltri:"\u29ce",RuleDelayed:"\u29f4",ruluhar:"\u2968",rx:"\u211e",Sacute:"\u015a",sacute:"\u015b",sbquo:"\u201a",scap:"\u2ab8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2abc",sc:"\u227b",sccue:"\u227d",sce:"\u2ab0",scE:"\u2ab4",Scedil:"\u015e",scedil:"\u015f",Scirc:"\u015c",scirc:"\u015d",scnap:"\u2aba",scnE:"\u2ab6",scnsim:"\u22e9",scpolint:"\u2a13",scsim:"\u227f",Scy:"\u0421",scy:"\u0441",sdotb:"\u22a1",sdot:"\u22c5",sdote:"\u2a66",searhk:"\u2925",searr:"\u2198",
seArr:"\u21d8",searrow:"\u2198",sect:"\u00a7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\ud835\udd16",sfr:"\ud835\udd30",sfrown:"\u2322",sharp:"\u266f",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\u00ad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",sim:"\u223c",simdot:"\u2a6a",sime:"\u2243",
simeq:"\u2243",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2a33",smeparsl:"\u29e4",smid:"\u2223",smile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",SOFTcy:"\u042c",softcy:"\u044c",solbar:"\u233f",solb:"\u29c4",sol:"/",Sopf:"\ud835\udd4a",sopf:"\ud835\udd64",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\ufe00",sqcup:"\u2294",
sqcups:"\u2294\ufe00",Sqrt:"\u221a",sqsub:"\u228f",sqsube:"\u2291",sqsubset:"\u228f",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25a1",Square:"\u25a1",SquareIntersection:"\u2293",SquareSubset:"\u228f",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25aa",squ:"\u25a1",squf:"\u25aa",srarr:"\u2192",Sscr:"\ud835\udcae",sscr:"\ud835\udcc8",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22c6",
Star:"\u22c6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03f5",straightphi:"\u03d5",strns:"\u00af",sub:"\u2282",Sub:"\u22d0",subdot:"\u2abd",subE:"\u2ac5",sube:"\u2286",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subne:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subset:"\u2282",Subset:"\u22d0",subseteq:"\u2286",subseteqq:"\u2ac5",SubsetEqual:"\u2286",subsetneq:"\u228a",subsetneqq:"\u2acb",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",succapprox:"\u2ab8",succ:"\u227b",succcurlyeq:"\u227d",
Succeeds:"\u227b",SucceedsEqual:"\u2ab0",SucceedsSlantEqual:"\u227d",SucceedsTilde:"\u227f",succeq:"\u2ab0",succnapprox:"\u2aba",succneqq:"\u2ab6",succnsim:"\u22e9",succsim:"\u227f",SuchThat:"\u220b",sum:"\u2211",Sum:"\u2211",sung:"\u266a",sup1:"\u00b9",sup2:"\u00b2",sup3:"\u00b3",sup:"\u2283",Sup:"\u22d1",supdot:"\u2abe",supdsub:"\u2ad8",supE:"\u2ac6",supe:"\u2287",supedot:"\u2ac4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",
supne:"\u228b",supplus:"\u2ac0",supset:"\u2283",Supset:"\u22d1",supseteq:"\u2287",supseteqq:"\u2ac6",supsetneq:"\u228b",supsetneqq:"\u2acc",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21d9",swarrow:"\u2199",swnwar:"\u292a",szlig:"\u00df",Tab:"\t",target:"\u2316",Tau:"\u03a4",tau:"\u03c4",tbrk:"\u23b4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20db",telrec:"\u2315",Tfr:"\ud835\udd17",tfr:"\ud835\udd31",
there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",thickapprox:"\u2248",thicksim:"\u223c",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223c",THORN:"\u00de",thorn:"\u00fe",tilde:"\u02dc",Tilde:"\u223c",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2a31",timesb:"\u22a0",times:"\u00d7",timesd:"\u2a30",tint:"\u222d",toea:"\u2928",topbot:"\u2336",topcir:"\u2af1",top:"\u22a4",
Topf:"\ud835\udd4b",topf:"\ud835\udd65",topfork:"\u2ada",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25b5",triangledown:"\u25bf",triangleleft:"\u25c3",trianglelefteq:"\u22b4",triangleq:"\u225c",triangleright:"\u25b9",trianglerighteq:"\u22b5",tridot:"\u25ec",trie:"\u225c",triminus:"\u2a3a",TripleDot:"\u20db",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",Tscr:"\ud835\udcaf",tscr:"\ud835\udcc9",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040b",tshcy:"\u045b",
Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226c",twoheadleftarrow:"\u219e",twoheadrightarrow:"\u21a0",Uacute:"\u00da",uacute:"\u00fa",uarr:"\u2191",Uarr:"\u219f",uArr:"\u21d1",Uarrocir:"\u2949",Ubrcy:"\u040e",ubrcy:"\u045e",Ubreve:"\u016c",ubreve:"\u016d",Ucirc:"\u00db",ucirc:"\u00fb",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21c5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296e",ufisht:"\u297e",Ufr:"\ud835\udd18",ufr:"\ud835\udd32",Ugrave:"\u00d9",ugrave:"\u00f9",uHar:"\u2963",uharl:"\u21bf",uharr:"\u21be",
uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",Umacr:"\u016a",umacr:"\u016b",uml:"\u00a8",UnderBar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",UnionPlus:"\u228e",Uogon:"\u0172",uogon:"\u0173",Uopf:"\ud835\udd4c",uopf:"\ud835\udd66",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21d1",UpArrowDownArrow:"\u21c5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21d5",UpEquilibrium:"\u296e",upharpoonleft:"\u21bf",
upharpoonright:"\u21be",uplus:"\u228e",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03c5",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",UpTeeArrow:"\u21a5",UpTee:"\u22a5",upuparrows:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",Uring:"\u016e",uring:"\u016f",urtri:"\u25f9",Uscr:"\ud835\udcb0",uscr:"\ud835\udcca",utdot:"\u22f0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25b5",utrif:"\u25b4",uuarr:"\u21c8",Uuml:"\u00dc",uuml:"\u00fc",uwangle:"\u29a7",vangrt:"\u299c",
varepsilon:"\u03f5",varkappa:"\u03f0",varnothing:"\u2205",varphi:"\u03d5",varpi:"\u03d6",varpropto:"\u221d",varr:"\u2195",vArr:"\u21d5",varrho:"\u03f1",varsigma:"\u03c2",varsubsetneq:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vartheta:"\u03d1",vartriangleleft:"\u22b2",vartriangleright:"\u22b3",vBar:"\u2ae8",Vbar:"\u2aeb",vBarv:"\u2ae9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22a2",vDash:"\u22a8",Vdash:"\u22a9",VDash:"\u22ab",Vdashl:"\u2ae6",veebar:"\u22bb",
vee:"\u2228",Vee:"\u22c1",veeeq:"\u225a",vellip:"\u22ee",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200a",Vfr:"\ud835\udd19",vfr:"\ud835\udd33",vltri:"\u22b2",vnsub:"\u2282\u20d2",vnsup:"\u2283\u20d2",Vopf:"\ud835\udd4d",vopf:"\ud835\udd67",vprop:"\u221d",vrtri:"\u22b3",Vscr:"\ud835\udcb1",vscr:"\ud835\udccb",vsubnE:"\u2acb\ufe00",vsubne:"\u228a\ufe00",vsupnE:"\u2acc\ufe00",vsupne:"\u228b\ufe00",
Vvdash:"\u22aa",vzigzag:"\u299a",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2a5f",wedge:"\u2227",Wedge:"\u22c0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\ud835\udd1a",wfr:"\ud835\udd34",Wopf:"\ud835\udd4e",wopf:"\ud835\udd68",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\ud835\udcb2",wscr:"\ud835\udccc",xcap:"\u22c2",xcirc:"\u25ef",xcup:"\u22c3",xdtri:"\u25bd",Xfr:"\ud835\udd1b",xfr:"\ud835\udd35",xharr:"\u27f7",xhArr:"\u27fa",Xi:"\u039e",xi:"\u03be",xlarr:"\u27f5",xlArr:"\u27f8",xmap:"\u27fc",xnis:"\u22fb",
xodot:"\u2a00",Xopf:"\ud835\udd4f",xopf:"\ud835\udd69",xoplus:"\u2a01",xotime:"\u2a02",xrarr:"\u27f6",xrArr:"\u27f9",Xscr:"\ud835\udcb3",xscr:"\ud835\udccd",xsqcup:"\u2a06",xuplus:"\u2a04",xutri:"\u25b3",xvee:"\u22c1",xwedge:"\u22c0",Yacute:"\u00dd",yacute:"\u00fd",YAcy:"\u042f",yacy:"\u044f",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042b",ycy:"\u044b",yen:"\u00a5",Yfr:"\ud835\udd1c",yfr:"\ud835\udd36",YIcy:"\u0407",yicy:"\u0457",Yopf:"\ud835\udd50",yopf:"\ud835\udd6a",Yscr:"\ud835\udcb4",yscr:"\ud835\udcce",
YUcy:"\u042e",yucy:"\u044e",yuml:"\u00ff",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017a",Zcaron:"\u017d",zcaron:"\u017e",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017b",zdot:"\u017c",zeetrf:"\u2128",ZeroWidthSpace:"\u200b",Zeta:"\u0396",zeta:"\u03b6",zfr:"\ud835\udd37",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\ud835\udd6b",Zopf:"\u2124",Zscr:"\ud835\udcb5",zscr:"\ud835\udccf",zwj:"\u200d",zwnj:"\u200c"}},{}],728:[function(a,l,f){l.exports={Aacute:"\u00c1",aacute:"\u00e1",Acirc:"\u00c2",
acirc:"\u00e2",acute:"\u00b4",AElig:"\u00c6",aelig:"\u00e6",Agrave:"\u00c0",agrave:"\u00e0",amp:"&",AMP:"&",Aring:"\u00c5",aring:"\u00e5",Atilde:"\u00c3",atilde:"\u00e3",Auml:"\u00c4",auml:"\u00e4",brvbar:"\u00a6",Ccedil:"\u00c7",ccedil:"\u00e7",cedil:"\u00b8",cent:"\u00a2",copy:"\u00a9",COPY:"\u00a9",curren:"\u00a4",deg:"\u00b0",divide:"\u00f7",Eacute:"\u00c9",eacute:"\u00e9",Ecirc:"\u00ca",ecirc:"\u00ea",Egrave:"\u00c8",egrave:"\u00e8",ETH:"\u00d0",eth:"\u00f0",Euml:"\u00cb",euml:"\u00eb",frac12:"\u00bd",
frac14:"\u00bc",frac34:"\u00be",gt:">",GT:">",Iacute:"\u00cd",iacute:"\u00ed",Icirc:"\u00ce",icirc:"\u00ee",iexcl:"\u00a1",Igrave:"\u00cc",igrave:"\u00ec",iquest:"\u00bf",Iuml:"\u00cf",iuml:"\u00ef",laquo:"\u00ab",lt:"<",LT:"<",macr:"\u00af",micro:"\u00b5",middot:"\u00b7",nbsp:"\u00a0",not:"\u00ac",Ntilde:"\u00d1",ntilde:"\u00f1",Oacute:"\u00d3",oacute:"\u00f3",Ocirc:"\u00d4",ocirc:"\u00f4",Ograve:"\u00d2",ograve:"\u00f2",ordf:"\u00aa",ordm:"\u00ba",Oslash:"\u00d8",oslash:"\u00f8",Otilde:"\u00d5",
otilde:"\u00f5",Ouml:"\u00d6",ouml:"\u00f6",para:"\u00b6",plusmn:"\u00b1",pound:"\u00a3",quot:'"',QUOT:'"',raquo:"\u00bb",reg:"\u00ae",REG:"\u00ae",sect:"\u00a7",shy:"\u00ad",sup1:"\u00b9",sup2:"\u00b2",sup3:"\u00b3",szlig:"\u00df",THORN:"\u00de",thorn:"\u00fe",times:"\u00d7",Uacute:"\u00da",uacute:"\u00fa",Ucirc:"\u00db",ucirc:"\u00fb",Ugrave:"\u00d9",ugrave:"\u00f9",uml:"\u00a8",Uuml:"\u00dc",uuml:"\u00fc",Yacute:"\u00dd",yacute:"\u00fd",yen:"\u00a5",yuml:"\u00ff"}},{}],729:[function(a,l,f){l.exports=
{amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},{}],730:[function(a,l,f){(function(c){var e=a("./invariant"),h={addClass:function(a,k){/\s/.test(k)?"production"!==c.env.NODE_ENV?e(!1,'CSSCore.addClass takes only a single class name. "%s" contains multiple classes.',k):e(!1):void 0;k&&(a.classList?a.classList.add(k):h.hasClass(a,k)||(a.className=a.className+" "+k));return a},removeClass:function(a,k){/\s/.test(k)?"production"!==c.env.NODE_ENV?e(!1,'CSSCore.removeClass takes only a single class name. "%s" contains multiple classes.',
k):e(!1):void 0;k&&(a.classList?a.classList.remove(k):h.hasClass(a,k)&&(a.className=a.className.replace(new RegExp("(^|\\s)"+k+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")));return a},conditionClass:function(a,c,d){return(d?h.addClass:h.removeClass)(a,c)},hasClass:function(a,h){/\s/.test(h)?"production"!==c.env.NODE_ENV?e(!1,"CSS.hasClass takes only a single class name."):e(!1):void 0;return a.classList?!!h&&a.classList.contains(h):-1<(" "+a.className+" ").indexOf(" "+h+" ")}};
l.exports=h}).call(this,a("_process"))},{"./invariant":746,_process:1028}],731:[function(a,l,f){(function(c){var e=a("./emptyFunction");l.exports={listen:function(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}};if(a.attachEvent)return a.attachEvent("on"+b,c),{remove:function(){a.detachEvent("on"+b,c)}}},capture:function(a,b,k){if(a.addEventListener)return a.addEventListener(b,k,!0),{remove:function(){a.removeEventListener(b,k,!0)}};
"production"!==c.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events.");return{remove:e}},registerDefault:function(){}}}).call(this,a("_process"))},{"./emptyFunction":738,_process:1028}],732:[function(a,l,f){a=!("undefined"===typeof window||!window.document||!window.document.createElement);l.exports={canUseDOM:a,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:a&&
!(!window.addEventListener&&!window.attachEvent),canUseViewport:a&&!!window.screen,isInWorker:!a}},{}],733:[function(a,l,f){var c=/-(.)/g;l.exports=function(a){return a.replace(c,function(a,b){return b.toUpperCase()})}},{}],734:[function(a,l,f){var c=a("./camelize"),e=/^-ms-/;l.exports=function(a){return c(a.replace(e,"ms-"))}},{"./camelize":733}],735:[function(a,l,f){var c=a("./isTextNode");l.exports=function(a,h){var b=!0;for(;b;)if(a&&h){if(a===h)return!0;if(c(a))return!1;if(c(h))h=h.parentNode,
b=!0;else return a.contains?a.contains(h):a.compareDocumentPosition?!!(a.compareDocumentPosition(h)&16):!1}else return!1}},{"./isTextNode":748}],736:[function(a,l,f){var c=a("./toArray");l.exports=function(a){return!a||"object"!=typeof a&&"function"!=typeof a||!("length"in a)||"setInterval"in a||"number"==typeof a.nodeType||!(Array.isArray(a)||"callee"in a||"item"in a)?[a]:Array.isArray(a)?a.slice():c(a)}},{"./toArray":756}],737:[function(a,l,f){(function(c){var e=a("./ExecutionEnvironment"),h=a("./createArrayFromMixed"),
b=a("./getMarkupWrap"),k=a("./invariant"),d=e.canUseDOM?document.createElement("div"):null,f=/^\s*<(\w+)/;l.exports=function(a,e){var l=d;d?void 0:"production"!==c.env.NODE_ENV?k(!1,"createNodesFromMarkup dummy not initialized"):k(!1);var m;if(m=(m=(m=a.match(f))&&m[1].toLowerCase())&&b(m))for(l.innerHTML=m[1]+a+m[2],a=m[0];a--;)l=l.lastChild;else l.innerHTML=a;a=l.getElementsByTagName("script");a.length&&(e?void 0:"production"!==c.env.NODE_ENV?k(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."):
k(!1),h(a).forEach(e));for(e=h(l.childNodes);l.lastChild;)l.removeChild(l.lastChild);return e}}).call(this,a("_process"))},{"./ExecutionEnvironment":732,"./createArrayFromMixed":736,"./getMarkupWrap":742,"./invariant":746,_process:1028}],738:[function(a,l,f){function c(a){return function(){return a}}function e(){}e.thatReturns=c;e.thatReturnsFalse=c(!1);e.thatReturnsTrue=c(!0);e.thatReturnsNull=c(null);e.thatReturnsThis=function(){return this};e.thatReturnsArgument=function(a){return a};l.exports=
e},{}],739:[function(a,l,f){f={};"production"!==a("_process").env.NODE_ENV&&Object.freeze(f);l.exports=f},{_process:1028}],740:[function(a,l,f){l.exports=function(a){try{a.focus()}catch(e){}}},{}],741:[function(a,l,f){l.exports=function(){if("undefined"===typeof document)return null;try{return document.activeElement||document.body}catch(c){return document.body}}},{}],742:[function(a,l,f){(function(c){var e=a("./ExecutionEnvironment"),h=a("./invariant"),b=e.canUseDOM?document.createElement("div"):
null,k={},e=[1,'<select multiple="true">',"</select>"],d=[1,"<table>","</table>"],f=[3,"<table><tbody><tr>","</tr></tbody></table>"],m=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],q={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:e,option:e,caption:d,colgroup:d,tbody:d,tfoot:d,thead:d,td:f,th:f};
"circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop text tspan".split(" ").forEach(function(a){q[a]=m;k[a]=!0});l.exports=function(a){b?void 0:"production"!==c.env.NODE_ENV?h(!1,"Markup wrapping node not initialized"):h(!1);q.hasOwnProperty(a)||(a="*");k.hasOwnProperty(a)||(b.innerHTML="*"===a?"<link />":"<"+a+"></"+a+">",k[a]=!b.firstChild);return k[a]?q[a]:null}}).call(this,a("_process"))},{"./ExecutionEnvironment":732,"./invariant":746,
_process:1028}],743:[function(a,l,f){l.exports=function(a){return a===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:a.scrollLeft,y:a.scrollTop}}},{}],744:[function(a,l,f){var c=/([A-Z])/g;l.exports=function(a){return a.replace(c,"-$1").toLowerCase()}},{}],745:[function(a,l,f){var c=a("./hyphenate"),e=/^ms-/;l.exports=function(a){return c(a).replace(e,"-ms-")}},{"./hyphenate":744}],746:[function(a,l,f){(function(a){l.exports=
function(c,h,b,k,d,f,l,q){if("production"!==a.env.NODE_ENV&&void 0===h)throw Error("invariant requires an error message argument");if(!c){if(void 0===h)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var e=[b,k,d,f,l,q],m=0;c=Error(h.replace(/%s/g,function(){return e[m++]}));c.name="Invariant Violation"}c.framesToPop=1;throw c;}}}).call(this,a("_process"))},{_process:1028}],747:[function(a,l,f){l.exports=
function(a){return!!(a&&("function"===typeof Node?a instanceof Node:"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName))}},{}],748:[function(a,l,f){var c=a("./isNode");l.exports=function(a){return c(a)&&3==a.nodeType}},{"./isNode":747}],749:[function(a,l,f){(function(c){var e=a("./invariant");l.exports=function(a){var b={},h;a instanceof Object&&!Array.isArray(a)?void 0:"production"!==c.env.NODE_ENV?e(!1,"keyMirror(...): Argument must be an object."):e(!1);for(h in a)a.hasOwnProperty(h)&&
(b[h]=h);return b}}).call(this,a("_process"))},{"./invariant":746,_process:1028}],750:[function(a,l,f){l.exports=function(a){for(var c in a)if(a.hasOwnProperty(c))return c;return null}},{}],751:[function(a,l,f){var c=Object.prototype.hasOwnProperty;l.exports=function(a,h,b){if(!a)return null;var e={},d;for(d in a)c.call(a,d)&&(e[d]=h.call(b,a[d],d,a));return e}},{}],752:[function(a,l,f){l.exports=function(a){var c={};return function(e){c.hasOwnProperty(e)||(c[e]=a.call(this,e));return c[e]}}},{}],
753:[function(a,l,f){var c;a("./ExecutionEnvironment").canUseDOM&&(c=window.performance||window.msPerformance||window.webkitPerformance);l.exports=c||{}},{"./ExecutionEnvironment":732}],754:[function(a,l,f){var c=a("./performance");l.exports=c.now?function(){return c.now()}:function(){return Date.now()}},{"./performance":753}],755:[function(a,l,f){var c=Object.prototype.hasOwnProperty;l.exports=function(a,h){if(a===h)return!0;if("object"!==typeof a||null===a||"object"!==typeof h||null===h)return!1;
var b=Object.keys(a),e=Object.keys(h);if(b.length!==e.length)return!1;for(var e=c.bind(h),d=0;d<b.length;d++)if(!e(b[d])||a[b[d]]!==h[b[d]])return!1;return!0}},{}],756:[function(a,l,f){(function(c){var e=a("./invariant");l.exports=function(a){var b=a.length;Array.isArray(a)||"object"!==typeof a&&"function"!==typeof a?"production"!==c.env.NODE_ENV?e(!1,"toArray: Array-like object expected"):e(!1):void 0;"number"!==typeof b?"production"!==c.env.NODE_ENV?e(!1,"toArray: Object needs a length property"):
e(!1):void 0;0===b||b-1 in a?void 0:"production"!==c.env.NODE_ENV?e(!1,"toArray: Object should have keys for indices"):e(!1);if(a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(n){}for(var h=Array(b),d=0;d<b;d++)h[d]=a[d];return h}}).call(this,a("_process"))},{"./invariant":746,_process:1028}],757:[function(a,l,f){(function(c){var e=a("./emptyFunction");"production"!==c.env.NODE_ENV&&(e=function(a,b){for(var c=arguments.length,d=Array(2<c?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if(void 0===
b)throw Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==b.indexOf("Failed Composite propType: ")&&!a){var h=0,c="Warning: "+b.replace(/%s/g,function(){return d[h++]});"undefined"!==typeof console&&console.error(c);try{throw Error(c);}catch(q){}}});l.exports=e}).call(this,a("_process"))},{"./emptyFunction":738,_process:1028}],758:[function(a,l,f){var c=a("./getVendorPrefixedName");l.exports={hasCSSAnimations:function(){return!!c("animationName")},hasCSSTransforms:function(){return!!c("transform")},
hasCSS3DTransforms:function(){return!!c("perspective")},hasCSSTransitions:function(){return!!c("transition")}}},{"./getVendorPrefixedName":794}],759:[function(a,l,f){var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),e=a("./EventListener"),h=a("./cancelAnimationFramePolyfill"),b=a("./requestAnimationFramePolyfill");
a=function(){function a(b,c,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._isDragging=!1;this._animationFrameID=null;this._domNode=e;this._onMove=b;this._onMoveEnd=c;this._onMouseMove=this._onMouseMove.bind(this);this._onMouseUp=this._onMouseUp.bind(this);this._didMouseMove=this._didMouseMove.bind(this)}c(a,[{key:"captureMouseMoves",value:function(a){this._eventMoveToken||this._eventUpToken||(this._eventMoveToken=e.listen(this._domNode,"mousemove",this._onMouseMove),
this._eventUpToken=e.listen(this._domNode,"mouseup",this._onMouseUp));this._isDragging||(this._deltaY=this._deltaX=0,this._isDragging=!0,this._x=a.clientX,this._y=a.clientY);a.preventDefault()}},{key:"releaseMouseMoves",value:function(){this._eventMoveToken&&this._eventUpToken&&(this._eventMoveToken.remove(),this._eventMoveToken=null,this._eventUpToken.remove(),this._eventUpToken=null);null!==this._animationFrameID&&(h(this._animationFrameID),this._animationFrameID=null);this._isDragging&&(this._isDragging=
!1,this._y=this._x=null)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"_onMouseMove",value:function(a){var c=a.clientX,d=a.clientY;this._deltaX+=c-this._x;this._deltaY+=d-this._y;null===this._animationFrameID&&(this._animationFrameID=b(this._didMouseMove));this._x=c;this._y=d;a.preventDefault()}},{key:"_didMouseMove",value:function(){this._animationFrameID=null;this._onMove(this._deltaX,this._deltaY);this._deltaY=this._deltaX=0}},{key:"_onMouseUp",value:function(){this._animationFrameID&&
this._didMouseMove();this._onMoveEnd()}}]);return a}();l.exports=a},{"./EventListener":760,"./cancelAnimationFramePolyfill":788,"./requestAnimationFramePolyfill":804}],760:[function(a,l,f){(function(c){var e=a("./emptyFunction");l.exports={listen:function(a,b,c){if(a.addEventListener)return a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}};if(a.attachEvent)return a.attachEvent("on"+b,c),{remove:function(){a.detachEvent("on"+b,c)}}},capture:function(a,b,k){if(a.addEventListener)return a.addEventListener(b,
k,!0),{remove:function(){a.removeEventListener(b,k,!0)}};"production"!==c.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events.");return{remove:e}},registerDefault:function(){}}}).call(this,a("_process"))},{"./emptyFunction":793,_process:1028}],761:[function(a,l,f){a=!("undefined"===typeof window||!window.document||!window.document.createElement);l.exports={canUseDOM:a,
canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:a&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:a&&!!window.screen,isInWorker:!a}},{}],762:[function(a,l,f){var c=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=a("./FixedDataTableHelper"),h=a("./React");f=a("./ReactComponentWithPureRenderMixin");var b=a("./ReactWheelHandler"),k=a("./Scrollbar.react"),d=
a("./FixedDataTableBufferedRows.react"),n=a("./FixedDataTableColumnResizeHandle.react"),m=a("./FixedDataTableRow.react"),q=a("./FixedDataTableScrollHelper"),w=a("./FixedDataTableWidthHelper"),p=a("./cx"),r=a("./debounceCore"),t=a("./emptyFunction"),u=a("./invariant"),y=a("./joinClasses"),A=a("./shallowEqual"),g=a("./translateDOMPositionXY");a=h.PropTypes;var v=h.Children,z=e.renderToString,B={},e=h.createClass({displayName:"FixedDataTable",propTypes:{width:a.number.isRequired,height:a.number,maxHeight:a.number,
ownerHeight:a.number,overflowX:a.oneOf(["hidden","auto"]),overflowY:a.oneOf(["hidden","auto"]),rowsCount:a.number.isRequired,rowHeight:a.number.isRequired,rowHeightGetter:a.func,rowGetter:a.func.isRequired,rowClassNameGetter:a.func,groupHeaderHeight:a.number,headerHeight:a.number.isRequired,headerDataGetter:a.func,footerHeight:a.number,footerData:a.oneOfType([a.object,a.array]),footerDataGetter:a.func,scrollLeft:a.number,scrollToColumn:a.number,scrollTop:a.number,scrollToRow:a.number,onScrollStart:a.func,
onScrollEnd:a.func,onContentHeightChange:a.func,onRowClick:a.func,onRowDoubleClick:a.func,onRowMouseDown:a.func,onRowMouseEnter:a.func,onRowMouseLeave:a.func,onColumnResizeEndCallback:a.func,isColumnResizing:a.bool},getDefaultProps:function(){return{footerHeight:0,groupHeaderHeight:0,headerHeight:0,scrollLeft:0,scrollTop:0}},getInitialState:function(){var a=this.props;this._scrollHelper=new q(a.rowsCount,a.rowHeight,(void 0===a.height?a.maxHeight:a.height)-(a.headerHeight||0)-(a.footerHeight||0)-
(a.groupHeaderHeight||0),a.rowHeightGetter);a.scrollTop&&this._scrollHelper.scrollTo(a.scrollTop);this._didScrollStop=r(this._didScrollStop,160,this);return this._calculateState(this.props)},componentWillMount:function(){var a=this.props.scrollToRow;void 0!==a&&null!==a&&(this._rowToScrollTo=a);a=this.props.scrollToColumn;void 0!==a&&null!==a&&(this._columnToScrollTo=a);this._wheelHandler=new b(this._onWheel,this._shouldHandleWheelX,this._shouldHandleWheelY)},_shouldHandleWheelX:function(a){if("hidden"===
this.props.overflowX)return!1;a=Math.round(a);return 0===a?!1:0>a&&0<this.state.scrollX||0<=a&&this.state.scrollX<this.state.maxScrollX},_shouldHandleWheelY:function(a){if("hidden"===this.props.overflowY||0===a)return!1;a=Math.round(a);return 0===a?!1:0>a&&0<this.state.scrollY||0<=a&&this.state.scrollY<this.state.maxScrollY},_reportContentHeight:function(){var a=this.state.scrollContentHeight+this.state.reservedHeight,a=void 0===this.props.height&&this.props.maxHeight>a?a:this.state.height>a&&this.props.ownerHeight?
Math.max(a,this.props.ownerHeight):this.state.height+this.state.maxScrollY;if(a!==this._contentHeight&&this.props.onContentHeightChange)this.props.onContentHeightChange(a);this._contentHeight=a},componentDidMount:function(){this._reportContentHeight()},componentWillReceiveProps:function(a){var c=a.scrollToRow;void 0!==c&&null!==c&&(this._rowToScrollTo=c);c=a.scrollToColumn;void 0!==c&&null!==c&&(this._columnToScrollTo=c);var c=a.overflowX,d=a.overflowY;if(c!==this.props.overflowX||d!==this.props.overflowY)this._wheelHandler=
new b(this._onWheel,"hidden"!==c,"hidden"!==d);this.setState(this._calculateState(a,this.state))},componentDidUpdate:function(){this._reportContentHeight()},render:function(){var a=this.state,b=this.props,c;a.useGroupHeader&&(c=h.createElement(m,{key:"group_header",className:y(p("fixedDataTableLayout/header"),p("public/fixedDataTable/header")),data:a.groupHeaderData,width:a.width,height:a.groupHeaderHeight,index:0,zIndex:1,offsetTop:0,scrollLeft:a.scrollX,fixedColumns:a.groupHeaderFixedColumns,scrollableColumns:a.groupHeaderScrollableColumns}));
var d=this.state.maxScrollY,e=0<a.maxScrollX&&"hidden"!==a.overflowX,g=0<d&&"hidden"!==a.overflowY,f=e?k.SIZE:0,l=a.height-f-2-a.footerHeight,q=a.useGroupHeader?a.groupHeaderHeight:0,u=q+a.headerHeight,l=l-u,t=0,r=null!=b.maxHeight?u+a.bodyHeight:u+l,w=r+a.footerHeight;void 0!==b.ownerHeight&&b.ownerHeight<a.height&&(t=b.ownerHeight-a.height,r=Math.min(r,b.ownerHeight-a.footerHeight-f),l=Math.max(0,r-u));var v;g&&(v=h.createElement(k,{size:l,contentSize:l+d,onScroll:this._onVerticalScroll,verticalTop:u,
position:a.scrollY}));var B;e&&(B=a.width,B=h.createElement(G,{contentSize:B+a.maxScrollX,offset:t,onScroll:this._onHorizontalScroll,position:a.scrollX,size:B}));t=h.createElement(n,{height:a.height,initialWidth:a.columnResizingData.width||0,minWidth:a.columnResizingData.minWidth||0,maxWidth:a.columnResizingData.maxWidth||Number.MAX_VALUE,visible:!!a.isColumnResizing,leftOffset:a.columnResizingData.left||0,knobHeight:a.headerHeight,initialEvent:a.columnResizingData.initialEvent,onColumnResizeEnd:b.onColumnResizeEndCallback,
columnKey:a.columnResizingData.key});e=null;a.footerHeight&&(b=b.footerDataGetter?b.footerDataGetter():b.footerData,e=h.createElement(m,{key:"footer",className:y(p("fixedDataTableLayout/footer"),p("public/fixedDataTable/footer")),data:b,fixedColumns:a.footFixedColumns,height:a.footerHeight,index:-1,zIndex:1,offsetTop:r,scrollableColumns:a.footScrollableColumns,scrollLeft:a.scrollX,width:a.width}));var b=this._renderRows(u),q=h.createElement(m,{key:"header",className:y(p("fixedDataTableLayout/header"),
p("public/fixedDataTable/header")),data:a.headData,width:a.width,height:a.headerHeight,index:-1,zIndex:1,offsetTop:q,scrollLeft:a.scrollX,fixedColumns:a.headFixedColumns,scrollableColumns:a.headScrollableColumns,onColumnResize:this._onColumnResize}),z,A;a.scrollY&&(z=h.createElement("div",{className:y(p("fixedDataTableLayout/topShadow"),p("public/fixedDataTable/topShadow")),style:{top:u}}));if(null!=a.ownerHeight&&a.ownerHeight<a.height&&a.scrollContentHeight+a.reservedHeight>a.ownerHeight||a.scrollY<
d)A=h.createElement("div",{className:y(p("fixedDataTableLayout/bottomShadow"),p("public/fixedDataTable/bottomShadow")),style:{top:r}});return h.createElement("div",{className:y(p("fixedDataTableLayout/main"),p("public/fixedDataTable/main")),onWheel:this._wheelHandler.onWheel,style:{height:a.height,width:a.width}},h.createElement("div",{className:p("fixedDataTableLayout/rowsContainer"),style:{height:w,width:a.width}},t,c,q,b,e,z,A),v,B)},_renderRows:function(a){var b=this.state;return h.createElement(d,
{defaultRowHeight:b.rowHeight,firstRowIndex:b.firstRowIndex,firstRowOffset:b.firstRowOffset,fixedColumns:b.bodyFixedColumns,height:b.bodyHeight,offsetTop:a,onRowClick:b.onRowClick,onRowDoubleClick:b.onRowDoubleClick,onRowMouseDown:b.onRowMouseDown,onRowMouseEnter:b.onRowMouseEnter,onRowMouseLeave:b.onRowMouseLeave,rowClassNameGetter:b.rowClassNameGetter,rowsCount:b.rowsCount,rowGetter:b.rowGetter,rowHeightGetter:b.rowHeightGetter,scrollLeft:b.scrollX,scrollableColumns:b.bodyScrollableColumns,showLastRowBorder:!0,
width:b.width,rowPositionGetter:this._scrollHelper.getRowPosition})},_onColumnResize:function(a,b,c,d,e,g,h){this.setState({isColumnResizing:!0,columnResizingData:{left:b+a-c,width:c,minWidth:d,maxWidth:e,initialEvent:{clientX:h.clientX,clientY:h.clientY,preventDefault:t},key:g}})},_areColumnSettingsIdentical:function(a,b){if(a.length!==b.length)return!1;for(var c=0;c<a.length;++c)if(!A(a[c].props,b[c].props))return!1;return!0},_populateColumnsAndColumnData:function(a,b,c){var d=!1,e=!1;c&&c.columns&&
(d=this._areColumnSettingsIdentical(a,c.columns));c&&c.columnGroups&&b&&(e=this._areColumnSettingsIdentical(b,c.columnGroups));var g={};d?(g.bodyFixedColumns=c.bodyFixedColumns,g.bodyScrollableColumns=c.bodyScrollableColumns,g.headFixedColumns=c.headFixedColumns,g.headScrollableColumns=c.headScrollableColumns,g.footFixedColumns=c.footFixedColumns,g.footScrollableColumns=c.footScrollableColumns):(d=this._splitColumnTypes(a),g.bodyFixedColumns=d.fixed,g.bodyScrollableColumns=d.scrollable,d=this._splitColumnTypes(this._createHeadColumns(a)),
g.headFixedColumns=d.fixed,g.headScrollableColumns=d.scrollable,d=this._splitColumnTypes(this._createFootColumns(a)),g.footFixedColumns=d.fixed,g.footScrollableColumns=d.scrollable);e?(g.groupHeaderFixedColumns=c.groupHeaderFixedColumns,g.groupHeaderScrollableColumns=c.groupHeaderScrollableColumns):b&&(g.groupHeaderData=this._getGroupHeaderData(b),b=this._createGroupHeaderColumns(b),b=this._splitColumnTypes(b),g.groupHeaderFixedColumns=b.fixed,g.groupHeaderScrollableColumns=b.scrollable);g.headData=
this._getHeadData(a);return g},_calculateState:function(a,b){u(void 0!==a.height||void 0!==a.maxHeight,"You must set either a height or a maxHeight");var d=[];v.forEach(a.children,function(a,b){null!=a&&(u(a.type.__TableColumnGroup__||a.type.__TableColumn__,"child type should be <FixedDataTableColumn /> or <FixedDataTableColumnGroup />"),d.push(a))});var e=!1;d.length&&d[0].type.__TableColumnGroup__&&(e=!0);var g=b&&b.firstRowIndex||0,h=b&&b.firstRowOffset||0,f,l;f=b&&"hidden"!==a.overflowX?b.scrollX:
a.scrollLeft;b&&"hidden"!==a.overflowY?l=b.scrollY:(l=this._scrollHelper.scrollTo(a.scrollTop),g=l.index,h=l.offset,l=l.position);void 0!==this._rowToScrollTo&&(l=this._scrollHelper.scrollRowIntoView(this._rowToScrollTo),g=l.index,h=l.offset,l=l.position,delete this._rowToScrollTo);var m=e?a.groupHeaderHeight:0;b&&a.rowsCount!==b.rowsCount?(this._scrollHelper=new q(a.rowsCount,a.rowHeight,(void 0===a.height?a.maxHeight:a.height)-(a.headerHeight||0)-(a.footerHeight||0)-(a.groupHeaderHeight||0),a.rowHeightGetter),
l=this._scrollHelper.scrollToRow(g,h),g=l.index,h=l.offset,l=l.position):b&&a.rowHeightGetter!==b.rowHeightGetter&&this._scrollHelper.setRowHeightGetter(a.rowHeightGetter);var n;n=a.isColumnResizing?b&&b.columnResizingData:B;var p,t;e?(t=w.adjustColumnGroupWidths(d,a.width),p=t.columns,t=t.columnGroups):p=w.adjustColumnWidths(d,a.width);var r=this._populateColumnsAndColumnData(p,t,b);if(void 0!==this._columnToScrollTo){var y=r.bodyFixedColumns.length;if(this._columnToScrollTo>=y){var x=0,D,z;for(D=
0;D<r.bodyFixedColumns.length;++D)z=r.bodyFixedColumns[D],x+=z.props.width;var G=Math.min(this._columnToScrollTo-y,r.bodyScrollableColumns.length-1);for(D=y=0;D<G;++D)z=r.bodyScrollableColumns[D],y+=z.props.width;x=y+r.bodyScrollableColumns[G].props.width-(a.width-x);f<x&&(f=x);f>y&&(f=y)}delete this._columnToScrollTo}x=void 0===a.height;D=Math.round(x?a.maxHeight:a.height);z=a.footerHeight+a.headerHeight+m+2;var y=D-z,G=this._scrollHelper.getContentHeight(),ca=G+z,ha=w.getTotalWidth(p),X=ha>a.width&&
"hidden"!==a.overflowX;X&&(y-=k.SIZE,ca+=k.SIZE,z+=k.SIZE);var ha=Math.max(0,ha-a.width),aa=Math.max(0,G-y);f=Math.min(f,ha);l=Math.min(l,aa);aa||(x&&(D=ca),y=ca-z);this._scrollHelper.setViewportHeight(y);a=c({isColumnResizing:b&&b.isColumnResizing},r,a,{columns:p,columnGroups:t,columnResizingData:n,firstRowIndex:g,firstRowOffset:h,horizontalScrollbarVisible:X,maxScrollX:ha,maxScrollY:aa,reservedHeight:z,scrollContentHeight:G,scrollX:f,scrollY:l,bodyHeight:y,height:D,groupHeaderHeight:m,useGroupHeader:e});
b&&(b.headData&&a.headData&&A(b.headData,a.headData)&&(a.headData=b.headData),b.groupHeaderData&&a.groupHeaderData&&A(b.groupHeaderData,a.groupHeaderData)&&(a.groupHeaderData=b.groupHeaderData));return a},_createGroupHeaderColumns:function(a){for(var b=[],c=0;c<a.length;++c)b[c]=h.cloneElement(a[c],{dataKey:c,children:void 0,columnData:a[c].props.columnGroupData,cellRenderer:a[c].props.groupHeaderRenderer||z,isHeaderCell:!0});return b},_createHeadColumns:function(a){for(var b=[],c=0;c<a.length;++c){var d=
a[c].props;b.push(h.cloneElement(a[c],{cellRenderer:d.headerRenderer||z,columnData:d.columnData,dataKey:d.dataKey,isHeaderCell:!0,label:d.label}))}return b},_createFootColumns:function(a){for(var b=[],c=0;c<a.length;++c){var d=a[c].props;b.push(h.cloneElement(a[c],{cellRenderer:d.footerRenderer||z,columnData:d.columnData,dataKey:d.dataKey,isFooterCell:!0}))}return b},_getHeadData:function(a){if(!this.props.headerDataGetter)return null;for(var b={},c=0;c<a.length;++c){var d=a[c].props;b[d.dataKey]=
this.props.headerDataGetter(d.dataKey)}return b},_getGroupHeaderData:function(a){for(var b=[],c=0;c<a.length;++c)b[c]=a[c].props.label||"";return b},_splitColumnTypes:function(a){for(var b=[],c=[],d=0;d<a.length;++d)a[d].props.fixed?b.push(a[d]):c.push(a[d]);return{fixed:b,scrollable:c}},_onWheel:function(a,b){if(this.isMounted()){this._isScrolling||this._didScrollStart();var c=this.state.scrollX;Math.abs(b)>Math.abs(a)&&"hidden"!==this.props.overflowY?(a=this._scrollHelper.scrollBy(Math.round(b)),
this.setState({firstRowIndex:a.index,firstRowOffset:a.offset,scrollY:a.position,scrollContentHeight:a.contentHeight,maxScrollY:Math.max(0,a.contentHeight-this.state.bodyHeight)})):a&&"hidden"!==this.props.overflowX&&(c+=a,c=0>c?0:c,c=c>this.state.maxScrollX?this.state.maxScrollX:c,this.setState({scrollX:c}));this._didScrollStop()}},_onHorizontalScroll:function(a){this.isMounted()&&a!==this.state.scrollX&&(this._isScrolling||this._didScrollStart(),this.setState({scrollX:a}),this._didScrollStop())},
_onVerticalScroll:function(a){this.isMounted()&&a!==this.state.scrollY&&(this._isScrolling||this._didScrollStart(),a=this._scrollHelper.scrollTo(Math.round(a)),this.setState({firstRowIndex:a.index,firstRowOffset:a.offset,scrollY:a.position,scrollContentHeight:a.contentHeight}),this._didScrollStop())},_didScrollStart:function(){if(this.isMounted()&&!this._isScrolling&&(this._isScrolling=!0,this.props.onScrollStart))this.props.onScrollStart(this.state.scrollX,this.state.scrollY)},_didScrollStop:function(){if(this.isMounted()&&
this._isScrolling&&(this._isScrolling=!1,this.props.onScrollEnd))this.props.onScrollEnd(this.state.scrollX,this.state.scrollY)}}),G=h.createClass({displayName:"HorizontalScrollbar",mixins:[f],propTypes:{contentSize:a.number.isRequired,offset:a.number.isRequired,onScroll:a.func.isRequired,position:a.number.isRequired,size:a.number.isRequired},render:function(){var a={height:k.SIZE,width:this.props.size},b={height:k.SIZE,position:"absolute",overflow:"hidden",width:this.props.size};g(b,0,this.props.offset);
return h.createElement("div",{className:y(p("fixedDataTableLayout/horizontalScrollbar"),p("public/fixedDataTable/horizontalScrollbar")),style:a},h.createElement("div",{style:b},h.createElement(k,c({},this.props,{isOpaque:!0,orientation:"horizontal",offset:void 0}))))}});l.exports=e},{"./FixedDataTableBufferedRows.react":763,"./FixedDataTableColumnResizeHandle.react":768,"./FixedDataTableHelper":769,"./FixedDataTableRow.react":771,"./FixedDataTableScrollHelper":773,"./FixedDataTableWidthHelper":774,
"./React":782,"./ReactComponentWithPureRenderMixin":783,"./ReactWheelHandler":784,"./Scrollbar.react":785,"./cx":791,"./debounceCore":792,"./emptyFunction":793,"./invariant":795,"./joinClasses":798,"./shallowEqual":805,"./translateDOMPositionXY":806}],763:[function(a,l,f){var c=a("./React"),e=a("./FixedDataTableRowBuffer"),h=a("./FixedDataTableRow.react"),b=a("./cx"),k=a("./emptyFunction"),d=a("./joinClasses"),n=a("./translateDOMPositionXY");a=c.PropTypes;a=c.createClass({displayName:"FixedDataTableBufferedRows",
propTypes:{defaultRowHeight:a.number.isRequired,firstRowIndex:a.number.isRequired,firstRowOffset:a.number.isRequired,fixedColumns:a.array.isRequired,height:a.number.isRequired,offsetTop:a.number.isRequired,onRowClick:a.func,onRowDoubleClick:a.func,onRowMouseDown:a.func,onRowMouseEnter:a.func,onRowMouseLeave:a.func,rowClassNameGetter:a.func,rowsCount:a.number.isRequired,rowGetter:a.func.isRequired,rowHeightGetter:a.func,rowPositionGetter:a.func.isRequired,scrollLeft:a.number.isRequired,scrollableColumns:a.array.isRequired,
showLastRowBorder:a.bool,width:a.number.isRequired},getInitialState:function(){this._rowBuffer=new e(this.props.rowsCount,this.props.defaultRowHeight,this.props.height,this._getRowHeight);return{rowsToRender:this._rowBuffer.getRows(this.props.firstRowIndex,this.props.firstRowOffset)}},componentWillMount:function(){this._staticRowArray=[]},componentDidMount:function(){this._bufferUpdateTimer=setTimeout(this._updateBuffer,1E3)},componentWillReceiveProps:function(a){if(a.rowsCount!==this.props.rowsCount||
a.defaultRowHeight!==this.props.defaultRowHeight||a.height!==this.props.height)this._rowBuffer=new e(a.rowsCount,a.defaultRowHeight,a.height,this._getRowHeight);this.setState({rowsToRender:this._rowBuffer.getRows(a.firstRowIndex,a.firstRowOffset)});this._bufferUpdateTimer&&clearTimeout(this._bufferUpdateTimer);this._bufferUpdateTimer=setTimeout(this._updateBuffer,400)},_updateBuffer:function(){this._bufferUpdateTimer=null;this.isMounted()&&this.setState({rowsToRender:this._rowBuffer.getRowsWithUpdatedBuffer()})},
shouldComponentUpdate:function(){return!0},componentWillUnmount:function(){this._staticRowArray.length=0},render:function(){var a=this.props,e=a.rowClassNameGetter||k,f=a.rowGetter,l=a.rowPositionGetter,r=this.state.rowsToRender;this._staticRowArray.length=r.length;for(var t=0;t<r.length;++t){var u=r[t],y=this._getRowHeight(u),A=l(u),g=u===a.rowsCount-1&&a.showLastRowBorder;this._staticRowArray[t]=c.createElement(h,{key:t,index:u,data:f(u),width:a.width,height:y,scrollLeft:Math.round(a.scrollLeft),
offsetTop:Math.round(A),fixedColumns:a.fixedColumns,scrollableColumns:a.scrollableColumns,onClick:a.onRowClick,onDoubleClick:a.onRowDoubleClick,onMouseDown:a.onRowMouseDown,onMouseEnter:a.onRowMouseEnter,onMouseLeave:a.onRowMouseLeave,className:d(e(u),b("public/fixedDataTable/bodyRow"),b({"fixedDataTableLayout/hasBottomBorder":g,"public/fixedDataTable/hasBottomBorder":g}))})}e=a.rowPositionGetter(a.firstRowIndex);f={position:"absolute"};n(f,0,a.firstRowOffset-e+a.offsetTop);return c.createElement("div",
{style:f},this._staticRowArray)},_getRowHeight:function(a){return this.props.rowHeightGetter?this.props.rowHeightGetter(a):this.props.defaultRowHeight}});l.exports=a},{"./FixedDataTableRow.react":771,"./FixedDataTableRowBuffer":772,"./React":782,"./cx":791,"./emptyFunction":793,"./joinClasses":798,"./translateDOMPositionXY":806}],764:[function(a,l,f){var c=a("./FixedDataTableHelper");f=a("./ImmutableObject");var e=a("./React"),h=a("./ReactComponentWithPureRenderMixin"),b=a("./cx"),k=a("./joinClasses"),
d=c.DIR_SIGN;a=e.PropTypes;var n=new f({align:"left",highlighted:!1,isFooterCell:!1,isHeaderCell:!1});a=e.createClass({displayName:"FixedDataTableCell",mixins:[h],propTypes:{align:a.oneOf(["left","center","right"]),className:a.string,highlighted:a.bool,isFooterCell:a.bool,isHeaderCell:a.bool,width:a.number.isRequired,minWidth:a.number,maxWidth:a.number,height:a.number.isRequired,cellData:a.any,cellDataKey:a.oneOfType([a.string.isRequired,a.number.isRequired]),cellRenderer:a.func.isRequired,columnData:a.any,
rowData:a.oneOfType([a.object.isRequired,a.array.isRequired]),rowIndex:a.number.isRequired,onColumnResize:a.func,left:a.number},getDefaultProps:function(){return n},render:function(){var a=this.props,c={height:a.height,width:a.width};1===d?c.left=a.left:c.right=a.left;var h=k(b({"fixedDataTableCellLayout/main":!0,"fixedDataTableCellLayout/lastChild":a.lastChild,"fixedDataTableCellLayout/alignRight":"right"===a.align,"fixedDataTableCellLayout/alignCenter":"center"===a.align,"public/fixedDataTableCell/alignRight":"right"===
a.align,"public/fixedDataTableCell/highlighted":a.highlighted,"public/fixedDataTableCell/main":!0}),a.className),f;f=a.isHeaderCell||a.isFooterCell?a.cellRenderer(a.cellData,a.cellDataKey,a.columnData,a.rowData,a.width):a.cellRenderer(a.cellData,a.cellDataKey,a.rowData,a.rowIndex,a.columnData,a.width);var l=b("public/fixedDataTableCell/cellContent");f=e.isValidElement(f)?e.cloneElement(f,{className:k(f.props.className,l)}):e.createElement("div",{className:l},f);var n;a.onColumnResize&&(n={height:a.height},
n=e.createElement("div",{className:b("fixedDataTableCellLayout/columnResizerContainer"),style:n,onMouseDown:this._onColumnResizerMouseDown},e.createElement("div",{className:k(b("fixedDataTableCellLayout/columnResizerKnob"),b("public/fixedDataTableCell/columnResizerKnob")),style:n})));a={height:a.height,width:a.width};return e.createElement("div",{className:h,style:c},n,e.createElement("div",{className:k(b("fixedDataTableCellLayout/wrap1"),b("public/fixedDataTableCell/wrap1")),style:a},e.createElement("div",
{className:k(b("fixedDataTableCellLayout/wrap2"),b("public/fixedDataTableCell/wrap2"))},e.createElement("div",{className:k(b("fixedDataTableCellLayout/wrap3"),b("public/fixedDataTableCell/wrap3"))},f))))},_onColumnResizerMouseDown:function(a){this.props.onColumnResize(this.props.left,this.props.width,this.props.minWidth,this.props.maxWidth,this.props.cellDataKey,a)}});l.exports=a},{"./FixedDataTableHelper":769,"./ImmutableObject":776,"./React":782,"./ReactComponentWithPureRenderMixin":783,"./cx":791,
"./joinClasses":798}],765:[function(a,l,f){var c=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};f=a("./FixedDataTableHelper");var e=a("./ImmutableObject"),h=a("./React"),b=a("./ReactComponentWithPureRenderMixin"),k=a("./FixedDataTableCell.react"),d=a("./cx"),n=f.renderToString,m=a("./translateDOMPositionXY");a=h.PropTypes;var q=f.DIR_SIGN,w=new e({}),p=h.createClass({displayName:"FixedDataTableCellGroupImpl",
mixins:[b],propTypes:{columns:a.array.isRequired,data:a.oneOfType([a.object,a.array]),left:a.number,onColumnResize:a.func,rowHeight:a.number.isRequired,rowIndex:a.number.isRequired,width:a.number.isRequired,zIndex:a.number.isRequired},render:function(){for(var a=this.props,b=a.columns,c=Array(b.length),e=0,k=0,g=b.length;k<g;k++){var f=b[k].props;if(!f.allowCellsRecycling||e-a.left<=a.width&&0<=e-a.left+f.width)c[k]=this._renderCell(a.data,a.rowIndex,a.rowHeight,f,e,"cell_"+k);e+=f.width}b=this._getColumnsWidth(b);
b={height:a.height,position:"absolute",width:b,zIndex:a.zIndex};m(b,-1*q*a.left,0);return h.createElement("div",{className:d("fixedDataTableCellGroupLayout/cellGroup"),style:b},c)},_renderCell:function(a,b,c,d,e,g){var f=d.cellRenderer||n,l=d.columnData||w,m=d.dataKey,q=d.isFooterCell,p=d.isHeaderCell,u;u=p||q?null==a||null==a[m]?d.label:a[m]:(u=d.cellDataGetter)?u(m,a):a[m];return h.createElement(k,{align:d.align,cellData:u,cellDataKey:m,cellRenderer:f,className:p||q?p?d.headerClassName:d.footerClassName:
d.cellClassName,columnData:l,height:c,isFooterCell:q,isHeaderCell:p,key:g,maxWidth:d.maxWidth,minWidth:d.minWidth,onColumnResize:d.isResizable&&this.props.onColumnResize?this.props.onColumnResize:null,rowData:a,rowIndex:b,width:d.width,left:e})},_getColumnsWidth:function(a){for(var b=0,c=0;c<a.length;++c)b+=a[c].props.width;return b}});a=h.createClass({displayName:"FixedDataTableCellGroup",mixins:[b],propTypes:{height:a.number.isRequired,offsetLeft:a.number,zIndex:a.number.isRequired},getDefaultProps:function(){return{offsetLeft:0}},
render:function(){var a=this.props,b=a.offsetLeft,e=["offsetLeft"],k={},f;for(f in a)0<=e.indexOf(f)||Object.prototype.hasOwnProperty.call(a,f)&&(k[f]=a[f]);a={height:k.height};1===q?a.left=b:a.right=b;b=k.onColumnResize?this._onColumnResize:null;return h.createElement("div",{style:a,className:d("fixedDataTableCellGroupLayout/cellGroupWrapper")},h.createElement(p,c({},k,{onColumnResize:b})))},_onColumnResize:function(a,b,c,d,e,g){this.props.onColumnResize&&this.props.onColumnResize(this.props.offsetLeft,
a-this.props.left+b,b,c,d,e,g)}});l.exports=a},{"./FixedDataTableCell.react":764,"./FixedDataTableHelper":769,"./ImmutableObject":776,"./React":782,"./ReactComponentWithPureRenderMixin":783,"./cx":791,"./translateDOMPositionXY":806}],766:[function(a,l,f){(function(c){var e=a("./React"),h=e.PropTypes,e=e.createClass({displayName:"FixedDataTableColumn",statics:{__TableColumn__:!0},propTypes:{align:h.oneOf(["left","center","right"]),headerClassName:h.string,footerClassName:h.string,cellClassName:h.string,
cellRenderer:h.func,cellDataGetter:h.func,dataKey:h.oneOfType([h.string,h.number]).isRequired,fixed:h.bool,headerRenderer:h.func,footerRenderer:h.func,columnData:h.object,label:h.string,width:h.number.isRequired,minWidth:h.number,maxWidth:h.number,flexGrow:h.number,isResizable:h.bool,allowCellsRecycling:h.bool},getDefaultProps:function(){return{allowCellsRecycling:!1,fixed:!1}},render:function(){if("production"!==c.env.NODE_ENV)throw Error("Component <FixedDataTableColumn /> should never render");
return null}});l.exports=e}).call(this,a("_process"))},{"./React":782,_process:1028}],767:[function(a,l,f){(function(c){var e=a("./React"),h=e.PropTypes,e=e.createClass({displayName:"FixedDataTableColumnGroup",statics:{__TableColumnGroup__:!0},propTypes:{align:h.oneOf(["left","center","right"]),fixed:h.bool,columnGroupData:h.object,label:h.string,groupHeaderRenderer:h.func},getDefaultProps:function(){return{fixed:!1}},render:function(){if("production"!==c.env.NODE_ENV)throw Error("Component <FixedDataTableColumnGroup /> should never render");
return null}});l.exports=e}).call(this,a("_process"))},{"./React":782,_process:1028}],768:[function(a,l,f){var c=a("./DOMMouseMoveTracker"),e=a("./Locale"),h=a("./React");f=a("./ReactComponentWithPureRenderMixin");var b=a("./clamp"),k=a("./cx");a=h.PropTypes;a=h.createClass({displayName:"FixedDataTableColumnResizeHandle",mixins:[f],propTypes:{visible:a.bool.isRequired,height:a.number.isRequired,leftOffset:a.number.isRequired,knobHeight:a.number.isRequired,initialWidth:a.number,minWidth:a.number,maxWidth:a.number,
initialEvent:a.object,onColumnResizeEnd:a.func,columnKey:a.oneOfType([a.string,a.number])},getInitialState:function(){return{width:0,cursorDelta:0}},componentWillReceiveProps:function(a){a.initialEvent&&!this._mouseMoveTracker.isDragging()&&(this._mouseMoveTracker.captureMouseMoves(a.initialEvent),this.setState({width:a.initialWidth,cursorDelta:a.initialWidth}))},componentDidMount:function(){this._mouseMoveTracker=new c(this._onMove,this._onColumnResizeEnd,document.body)},componentWillUnmount:function(){this._mouseMoveTracker.releaseMouseMoves();
this._mouseMoveTracker=null},render:function(){var a={width:this.state.width,height:this.props.height};e.isRTL()?a.right=this.props.leftOffset:a.left=this.props.leftOffset;return h.createElement("div",{className:k({"fixedDataTableColumnResizerLineLayout/main":!0,"fixedDataTableColumnResizerLineLayout/hiddenElem":!this.props.visible,"public/fixedDataTableColumnResizerLine/main":!0}),style:a},h.createElement("div",{className:k("fixedDataTableColumnResizerLineLayout/mouseArea"),style:{height:this.props.height}}))},
_onMove:function(a){e.isRTL()&&(a=-a);a=this.state.cursorDelta+a;var c=b(this.props.minWidth,a,this.props.maxWidth);this.setState({width:c,cursorDelta:a})},_onColumnResizeEnd:function(){this._mouseMoveTracker.releaseMouseMoves();this.props.onColumnResizeEnd(this.state.width,this.props.columnKey)}});l.exports=a},{"./DOMMouseMoveTracker":759,"./Locale":780,"./React":782,"./ReactComponentWithPureRenderMixin":783,"./clamp":789,"./cx":791}],769:[function(a,l,f){function c(a,d){e.Children.forEach(a,function(a){a.type===
h?c(a.props.children,d):a.type===b&&d(a)})}f=a("./Locale");var e=a("./React"),h=a("./FixedDataTableColumnGroup.react"),b=a("./FixedDataTableColumn.react");a={DIR_SIGN:f.isRTL()?-1:1,CELL_VISIBILITY_TOLERANCE:5,renderToString:function(a){return null===a||void 0===a?"":String(a)},forEachColumn:c,mapColumns:function(a,d){var k=[];e.Children.forEach(a,function(a){var f=a;if(a.type===h){var l=!1,m=[];c(a.props.children,function(a){var b=d(a);b!==a&&(l=!0);m.push(b)});l&&(f=e.cloneElement(a,{children:m}))}else a.type===
b&&(f=d(a));k.push(f)});return k}};l.exports=a},{"./FixedDataTableColumn.react":766,"./FixedDataTableColumnGroup.react":767,"./Locale":780,"./React":782}],770:[function(a,l,f){f=a("./FixedDataTable.react");var c=a("./FixedDataTableColumn.react");a=a("./FixedDataTableColumnGroup.react");l.exports={Column:c,ColumnGroup:a,Table:f,version:"0.4.6"}},{"./FixedDataTable.react":762,"./FixedDataTableColumn.react":766,"./FixedDataTableColumnGroup.react":767}],771:[function(a,l,f){var c=Object.assign||function(a){for(var b=
1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},e=a("./React");f=a("./ReactComponentWithPureRenderMixin");var h=a("./FixedDataTableCellGroup.react"),b=a("./cx"),k=a("./joinClasses"),d=a("./translateDOMPositionXY");a=e.PropTypes;var n=e.createClass({displayName:"FixedDataTableRowImpl",mixins:[f],propTypes:{data:a.oneOfType([a.object,a.array]),fixedColumns:a.array.isRequired,height:a.number.isRequired,index:a.number.isRequired,
scrollableColumns:a.array.isRequired,scrollLeft:a.number.isRequired,width:a.number.isRequired,onClick:a.func,onDoubleClick:a.func,onColumnResize:a.func},render:function(){var a={width:this.props.width,height:this.props.height},c=b({"fixedDataTableRowLayout/main":!0,"public/fixedDataTableRow/main":!0,"public/fixedDataTableRow/highlighted":1===this.props.index%2,"public/fixedDataTableRow/odd":1===this.props.index%2,"public/fixedDataTableRow/even":0===this.props.index%2}),d=-1===this.props.index;if(!this.props.data&&
!d)return e.createElement("div",{className:k(c,this.props.className),style:a});var f=this._getColumnsWidth(this.props.fixedColumns),d=e.createElement(h,{key:"fixed_cells",height:this.props.height,left:0,width:f,zIndex:2,columns:this.props.fixedColumns,data:this.props.data,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index}),l=this._renderColumnsShadow(f),f=e.createElement(h,{key:"scrollable_cells",height:this.props.height,left:this.props.scrollLeft,offsetLeft:f,
width:this.props.width-f,zIndex:0,columns:this.props.scrollableColumns,data:this.props.data,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index});return e.createElement("div",{className:k(c,this.props.className),onClick:this.props.onClick?this._onClick:null,onDoubleClick:this.props.onDoubleClick?this._onDoubleClick:null,onMouseDown:this.props.onMouseDown?this._onMouseDown:null,onMouseEnter:this.props.onMouseEnter?this._onMouseEnter:null,onMouseLeave:this.props.onMouseLeave?
this._onMouseLeave:null,style:a},e.createElement("div",{className:b("fixedDataTableRowLayout/body")},d,f,l))},_getColumnsWidth:function(a){for(var b=0,c=0;c<a.length;++c)b+=a[c].props.width;return b},_renderColumnsShadow:function(a){if(0<a){var c=b({"fixedDataTableRowLayout/fixedColumnsDivider":!0,"fixedDataTableRowLayout/columnsShadow":0<this.props.scrollLeft,"public/fixedDataTableRow/fixedColumnsDivider":!0,"public/fixedDataTableRow/columnsShadow":0<this.props.scrollLeft});return e.createElement("div",
{className:c,style:{left:a,height:this.props.height}})}},_onClick:function(a){this.props.onClick(a,this.props.index,this.props.data)},_onDoubleClick:function(a){this.props.onDoubleClick(a,this.props.index,this.props.data)},_onMouseDown:function(a){this.props.onMouseDown(a,this.props.index,this.props.data)},_onMouseEnter:function(a){this.props.onMouseEnter(a,this.props.index,this.props.data)},_onMouseLeave:function(a){this.props.onMouseLeave(a,this.props.index,this.props.data)}});a=e.createClass({displayName:"FixedDataTableRow",
mixins:[f],propTypes:{height:a.number.isRequired,zIndex:a.number,offsetTop:a.number.isRequired,width:a.number.isRequired},render:function(){var a={width:this.props.width,height:this.props.height,zIndex:this.props.zIndex?this.props.zIndex:0};d(a,0,this.props.offsetTop);return e.createElement("div",{style:a,className:b("fixedDataTableRowLayout/rowWrapper")},e.createElement(n,c({},this.props,{offsetTop:void 0,zIndex:void 0})))}});l.exports=a},{"./FixedDataTableCellGroup.react":765,"./React":782,"./ReactComponentWithPureRenderMixin":783,
"./cx":791,"./joinClasses":798,"./translateDOMPositionXY":806}],772:[function(a,l,f){var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),e=a("./IntegerBufferSet"),h=a("./clamp"),b=a("./invariant");a=function(){function a(c,k,f,l){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
b(0!==k,"defaultRowHeight musn't be equal 0 in FixedDataTableRowBuffer");this._bufferSet=new e;this._defaultRowHeight=k;this._viewportRowsEnd=this._viewportRowsBegin=0;this._maxVisibleRowCount=Math.ceil(f/k)+1;this._bufferRowsCount=h(3,Math.floor(this._maxVisibleRowCount/2),6);this._rowsCount=c;this._rowHeightGetter=l;this._rows=[];this._viewportHeight=f;this.getRows=this.getRows.bind(this);this.getRowsWithUpdatedBuffer=this.getRowsWithUpdatedBuffer.bind(this)}c(a,[{key:"getRowsWithUpdatedBuffer",
value:function(){for(var a=2*this._bufferRowsCount,b=Math.max(this._viewportRowsBegin-this._bufferRowsCount,0);b<this._viewportRowsBegin;)this._addRowToBuffer(b,this._viewportRowsBegin,this._viewportRowsEnd-1),b++,a--;for(b=this._viewportRowsEnd;b<this._rowsCount&&0<a;)this._addRowToBuffer(b,this._viewportRowsBegin,this._viewportRowsEnd-1),b++,a--;return this._rows}},{key:"getRows",value:function(a,b){var c=a,d=Math.min(a+this._maxVisibleRowCount,this._rowsCount);for(this._viewportRowsBegin=a;c<d||
b<this._viewportHeight&&c<this._rowsCount;)this._addRowToBuffer(c,a,d-1),b+=this._rowHeightGetter(c),++c,this._viewportRowsEnd=c;return this._rows}},{key:"_addRowToBuffer",value:function(a,b,c){var d=this._bufferSet.getValuePosition(a),e=c-b+1+2*this._bufferRowsCount;null===d&&this._bufferSet.getSize()>=e&&(d=this._bufferSet.replaceFurthestValuePosition(b,c,a));null===d&&(d=this._bufferSet.getNewPositionForValue(a));this._rows[d]=a}}]);return a}();l.exports=a},{"./IntegerBufferSet":778,"./clamp":789,
"./invariant":795}],773:[function(a,l,f){var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),e=a("./PrefixIntervalTree"),h=a("./clamp"),b={index:0,offset:0,position:0,contentHeight:0};a=function(){function a(b,c,h,k){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._rowOffsets=
e.uniform(b,c);this._storedHeights=Array(b);for(var d=0;d<b;++d)this._storedHeights[d]=c;this._rowCount=b;this._position=0;this._contentHeight=b*c;this._defaultRowHeight=c;this._rowHeightGetter=k?k:function(){return c};this._viewportHeight=h;this.scrollRowIntoView=this.scrollRowIntoView.bind(this);this.setViewportHeight=this.setViewportHeight.bind(this);this.scrollBy=this.scrollBy.bind(this);this.scrollTo=this.scrollTo.bind(this);this.scrollToRow=this.scrollToRow.bind(this);this.setRowHeightGetter=
this.setRowHeightGetter.bind(this);this.getContentHeight=this.getContentHeight.bind(this);this.getRowPosition=this.getRowPosition.bind(this);this._updateHeightsInViewport(0,0)}c(a,[{key:"setRowHeightGetter",value:function(a){this._rowHeightGetter=a}},{key:"setViewportHeight",value:function(a){this._viewportHeight=a}},{key:"getContentHeight",value:function(){return this._contentHeight}},{key:"_updateHeightsInViewport",value:function(a,b){for(;b<=this._viewportHeight&&a<this._rowCount;)this._updateRowHeight(a),
b+=this._storedHeights[a],a++}},{key:"_updateHeightsAboveViewport",value:function(a){for(var b=a-1;0<=b&&b>=a-5;){var c=this._updateRowHeight(b);this._position+=c;b--}}},{key:"_updateRowHeight",value:function(a){if(0>a||a>=this._rowCount)return 0;var b=this._rowHeightGetter(a);if(b!==this._storedHeights[a]){var c=b-this._storedHeights[a];this._rowOffsets.set(a,b);this._storedHeights[a]=b;this._contentHeight+=c;return c}return 0}},{key:"getRowPosition",value:function(a){this._updateRowHeight(a);return this._rowOffsets.sumUntil(a)}},
{key:"scrollBy",value:function(a){if(0===this._rowCount)return b;var c=this._rowOffsets.greatestLowerBound(this._position),c=h(0,c,Math.max(this._rowCount-1,0)),d=this._rowOffsets.sumUntil(c),e=c,c=this._position,k=this._updateRowHeight(e);0!==d&&(c+=k);d=this._storedHeights[e]-(c-d);if(0<=a)for(;0<a&&e<this._rowCount;)a<d?(c+=a,a=0):(a-=d,c+=d,e++),e<this._rowCount&&(this._updateRowHeight(e),d=this._storedHeights[e]);else if(0>a)for(a=-a,d=this._storedHeights[e]-d;0<a&&0<=e;)a<d?(c-=a,a=0):(c-=d,
a-=d,e--),0<=e&&(k=this._updateRowHeight(e),d=this._storedHeights[e],c+=k);this._position=c=h(0,c,this._contentHeight-this._viewportHeight);a=this._rowOffsets.greatestLowerBound(c);a=h(0,a,Math.max(this._rowCount-1,0));d=this._rowOffsets.sumUntil(a);c=d-c;this._updateHeightsInViewport(a,c);this._updateHeightsAboveViewport(a);return{index:a,offset:c,position:this._position,contentHeight:this._contentHeight}}},{key:"_getRowAtEndPosition",value:function(a){this._updateRowHeight(a);for(var b=a,c=this._storedHeights[b];c<
this._viewportHeight&&0<=b;)b--,0<=b&&(this._updateRowHeight(b),c+=this._storedHeights[b]);a=this._rowOffsets.sumTo(a)-this._viewportHeight;0>a&&(a=0);return a}},{key:"scrollTo",value:function(a){if(0===this._rowCount)return b;if(0>=a)return this._position=0,this._updateHeightsInViewport(0,0),{index:0,offset:0,position:this._position,contentHeight:this._contentHeight};a>=this._contentHeight-this._viewportHeight&&(a=this._getRowAtEndPosition(this._rowCount-1));this._position=a;var c=this._rowOffsets.greatestLowerBound(a),
c=h(0,c,Math.max(this._rowCount-1,0));a=this._rowOffsets.sumUntil(c)-a;this._updateHeightsInViewport(c,a);this._updateHeightsAboveViewport(c);return{index:c,offset:a,position:this._position,contentHeight:this._contentHeight}}},{key:"scrollToRow",value:function(a,b){a=h(0,a,Math.max(this._rowCount-1,0));b=h(-this._storedHeights[a],b,0);a=this._rowOffsets.sumUntil(a);return this.scrollTo(a-b)}},{key:"scrollRowIntoView",value:function(a){a=h(0,a,Math.max(this._rowCount-1,0));var b=this._rowOffsets.sumUntil(a),
c=b+this._storedHeights[a];return b<this._position?this.scrollTo(b):this._position+this._viewportHeight<c?(a=this._getRowAtEndPosition(a),this.scrollTo(a)):this.scrollTo(this._position)}}]);return a}();l.exports=a},{"./PrefixIntervalTree":781,"./clamp":789}],774:[function(a,l,f){function c(a){for(var b=0,c=0;c<a.length;++c)b+=a[c].props.width;return b}function e(a){for(var b=0,c=0;c<a.length;++c)b+=a[c].props.flexGrow||0;return b}function h(a,d){if(0>=d)return{columns:a,width:c(a)};for(var h=e(a),
k=[],f=0,l=0;l<a.length;++l){var p=a[l];if(p.props.flexGrow){var r=Math.floor(p.props.flexGrow/h*d),t=Math.floor(p.props.width+r),f=f+t,h=h-p.props.flexGrow;d-=r;k.push(b.cloneElement(p,{width:t}))}else f+=p.props.width,k.push(p)}return{columns:k,width:f}}var b=a("./React");l.exports={getTotalWidth:c,getTotalFlexGrow:e,distributeFlexWidth:h,adjustColumnWidths:function(a,b){var d=c(a);return d<b?h(a,b-d).columns:a},adjustColumnGroupWidths:function(a,d){var k=[],f;for(f=0;f<a.length;++f)b.Children.forEach(a[f].props.children,
function(a){k.push(a)});f=c(k);var l=e(k);d=Math.max(d-f,0);var w=[],p=[];for(f=0;f<a.length;++f){var r=a[f],t=[];b.Children.forEach(r.props.children,function(a){t.push(a)});var u=e(t),y=Math.floor(u/l*d),A=h(t,y),l=l-u;d-=y;for(u=0;u<A.columns.length;++u)w.push(A.columns[u]);p.push(b.cloneElement(r,{width:A.width}))}return{columns:w,columnGroups:p}}}},{"./React":782}],775:[function(a,l,f){function c(a,b){return a<b}var e=function(){function a(a,c){for(var b=0;b<c.length;b++){var e=c[b];e.enumerable=
e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();a=function(){function a(b,e){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._items=b||[];this._size=this._items.length;this._comparator=e||c;this._heapify()}e(a,[{key:"empty",value:function(){return 0===this._size}},{key:"pop",value:function(){if(0!==this._size){var a=this._items[0],c=this._items.pop();
this._size--;0<this._size&&(this._items[0]=c,this._sinkDown(0));return a}}},{key:"push",value:function(a){this._items[this._size++]=a;this._bubbleUp(this._size-1)}},{key:"size",value:function(){return this._size}},{key:"peek",value:function(){if(0!==this._size)return this._items[0]}},{key:"_heapify",value:function(){for(var a=Math.floor((this._size+1)/2);0<=a;a--)this._sinkDown(a)}},{key:"_bubbleUp",value:function(a){for(var b=this._items[a];0<a;){var c=Math.floor((a+1)/2)-1,e=this._items[c];if(this._comparator(e,
b))break;this._items[c]=b;this._items[a]=e;a=c}}},{key:"_sinkDown",value:function(a){for(var b=this._items[a];;){var c=2*(a+1)-1,e=2*(a+1),h=-1;c<this._size&&this._comparator(this._items[c],b)&&(h=c);e<this._size&&(c=this._items[e],this._comparator(c,b)&&(-1===h||this._comparator(c,this._items[h]))&&(h=e));if(-1===h)break;this._items[a]=this._items[h];this._items[h]=b;a=h}}}]);return a}();l.exports=a},{}],776:[function(a,l,f){(function(c){function e(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a){f(a instanceof d,"ImmutableObject: Attempted to set fields on an object that is not an instance of ImmutableValue.")}function b(a,c){w(a,c);for(var e={},g=Object.keys(a),h=0;h<g.length;h++){var k=g[h];c.hasOwnProperty(k)?p(a[k])||p(c[k])?e[k]=c[k]:e[k]=b(a[k],c[k]):e[k]=a[k]}g=Object.keys(c);for(h=0;h<
g.length;h++)k=g[h],a.hasOwnProperty(k)||(e[k]=c[k]);return a instanceof d?new t(e):c instanceof d?new t(e):e}var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),d=a("./ImmutableValue"),f=a("./invariant"),m=a("./keyOf"),q=a("./mergeHelpers"),w=q.checkMergeObjectArgs,p=q.isTerminal,r=m({_DONT_EVER_TYPE_THIS_SECRET_KEY:null}),
t=function(a){function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");var a;a:{var b=Object.getPrototypeOf(l.prototype),e="constructor";a=this;var h=!0;for(;h;)if(null===b&&(b=Function.prototype),h=Object.getOwnPropertyDescriptor(b,e),void 0===h){b=Object.getPrototypeOf(b);if(null===b)break;h=!0}else{if("value"in h){a=h.value;break a}e=h.get;a=void 0===e?void 0:e.call(a);break a}a=void 0}a.call(this,d[r]);d.mergeAllPropertiesInto(this,arguments);"production"!==
c.env.NODE_ENV&&d.deepFreezeRootNode(this)}e(l,a);k(l,null,[{key:"create",value:function(){var a=Object.create(l.prototype);l.apply(a,arguments);return a}},{key:"set",value:function(a,b){h(a);f("object"===typeof b&&void 0!==b&&!Array.isArray(b),"Invalid ImmutableMap.set argument `put`");return new l(a,b)}},{key:"setProperty",value:function(a,b,c){var d={};d[b]=c;return l.set(a,d)}},{key:"deleteProperty",value:function(a,b){var c={},d;for(d in a)d!==b&&a.hasOwnProperty(d)&&(c[d]=a[d]);return new l(c)}},
{key:"setDeep",value:function(a,c){h(a);return b(a,c)}},{key:"values",value:function(a){return Object.keys(a).map(function(b){return a[b]})}}]);return l}(d);l.exports=t}).call(this,a("_process"))},{"./ImmutableValue":777,"./invariant":795,"./keyOf":800,"./mergeHelpers":801,_process:1028}],777:[function(a,l,f){var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,
c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}(),e=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};"use strict";var h=a("./invariant"),b=a("./isNode"),k=a("./keyOf")({_DONT_EVER_TYPE_THIS_SECRET_KEY:null});a=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");h(b===a[k],"Only certain classes should create instances of `ImmutableValue`.You probably want something like ImmutableValueObject.create.")}
c(a,null,[{key:"mergeAllPropertiesInto",value:function(a,b){for(var c=b.length,d=0;d<c;d++)e(a,b[d])}},{key:"deepFreezeRootNode",value:function(c){if(!b(c)){Object.freeze(c);for(var d in c)c.hasOwnProperty(d)&&a.recurseDeepFreeze(c[d]);Object.seal(c)}}},{key:"recurseDeepFreeze",value:function(c){if(!b(c)&&a.shouldRecurseFreeze(c)){Object.freeze(c);for(var d in c)c.hasOwnProperty(d)&&a.recurseDeepFreeze(c[d]);Object.seal(c)}}},{key:"shouldRecurseFreeze",value:function(b){return"object"===typeof b&&
!(b instanceof a)&&null!==b}}]);return a}();a._DONT_EVER_TYPE_THIS_SECRET_KEY=Math.random();l.exports=a},{"./invariant":795,"./isNode":797,"./keyOf":800}],778:[function(a,l,f){var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),e=a("./Heap"),h=a("./invariant");a=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this._valueToPositionMap={};this._size=0;this._smallValues=new e([],this._smallerComparator);this._largeValues=new e([],this._greaterComparator);this.getNewPositionForValue=this.getNewPositionForValue.bind(this);this.getValuePosition=this.getValuePosition.bind(this);this.getSize=this.getSize.bind(this);this.replaceFurthestValuePosition=this.replaceFurthestValuePosition.bind(this)}c(a,[{key:"getSize",value:function(){return this._size}},{key:"getValuePosition",
value:function(a){return void 0===this._valueToPositionMap[a]?null:this._valueToPositionMap[a]}},{key:"getNewPositionForValue",value:function(a){h(void 0===this._valueToPositionMap[a],"Shouldn't try to find new position for value already stored in BufferSet");var b=this._size;this._size++;this._pushToHeaps(b,a);return this._valueToPositionMap[a]=b}},{key:"replaceFurthestValuePosition",value:function(a,b,c){h(void 0===this._valueToPositionMap[c],"Shouldn't try to replace values with value already stored value in BufferSet");
this._cleanHeaps();if(this._smallValues.empty()||this._largeValues.empty())return null;var d=this._smallValues.peek().value,e=this._largeValues.peek().value;if(d>=a&&e<=b)return null;a-d>e-b?(a=d,this._smallValues.pop()):(a=e,this._largeValues.pop());b=this._valueToPositionMap[a];delete this._valueToPositionMap[a];this._valueToPositionMap[c]=b;this._pushToHeaps(b,c);return b}},{key:"_pushToHeaps",value:function(a,b){a={position:a,value:b};this._smallValues.push(a);this._largeValues.push(a)}},{key:"_cleanHeaps",
value:function(){this._cleanHeap(this._smallValues);this._cleanHeap(this._largeValues);var a=Math.min(this._smallValues.size(),this._largeValues.size());Math.max(this._smallValues.size(),this._largeValues.size())>10*a&&this._recreateHeaps()}},{key:"_recreateHeaps",value:function(){for(var a=this._smallValues.size()<this._largeValues.size()?this._smallValues:this._largeValues,b=new e([],this._smallerComparator),c=new e([],this._greaterComparator);!a.empty();){var h=a.pop();void 0!==this._valueToPositionMap[h.value]&&
(b.push(h),c.push(h))}this._smallValues=b;this._largeValues=c}},{key:"_cleanHeap",value:function(a){for(;!a.empty()&&void 0===this._valueToPositionMap[a.peek().value];)a.pop()}},{key:"_smallerComparator",value:function(a,b){return a.value<b.value}},{key:"_greaterComparator",value:function(a,b){return a.value>b.value}}]);return a}();l.exports=a},{"./Heap":775,"./invariant":795}],779:[function(a,l,f){l.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,
LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},{}],780:[function(a,l,f){l.exports={isRTL:function(){return!1},getDirection:function(){return"LTR"}}},{}],781:[function(a,l,f){(function(c){var e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),h=a("./invariant"),
b=c.Int32Array||function(a){var b=[];for(--a;0<=a;--a)b[a]=0;return b};c=function(){function a(c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._size=c.length;for(var d=1;d<this._size;)d*=2;this._half=d;this._heap=new b(2*this._half);for(d=0;d<this._size;++d)this._heap[this._half+d]=c[d];for(d=this._half-1;0<d;--d)this._heap[d]=this._heap[2*d]+this._heap[2*d+1]}e(a,[{key:"set",value:function(a,b){h(0<=a&&a<this._size,"Index out of range %s",a);a=this._half+
a;this._heap[a]=b;for(a=Math.floor(a/2);0!==a;a=Math.floor(a/2))this._heap[a]=this._heap[2*a]+this._heap[2*a+1]}},{key:"get",value:function(a){h(0<=a&&a<this._size,"Index out of range %s",a);return this._heap[this._half+a]}},{key:"getSize",value:function(){return this._size}},{key:"sumUntil",value:function(a){h(0<=a&&a<this._size+1,"Index out of range %s",a);if(0===a)return 0;a=this._half+a-1;for(var b=this._heap[a];1!==a;a=Math.floor(a/2))1===a%2&&(b+=this._heap[a-1]);return b}},{key:"sumTo",value:function(a){h(0<=
a&&a<this._size,"Index out of range %s",a);return this.sumUntil(a+1)}},{key:"sum",value:function(a,b){h(a<=b,"Begin must precede end");return this.sumUntil(b)-this.sumUntil(a)}},{key:"greatestLowerBound",value:function(a){if(0>a)return-1;var b=1;if(this._heap[b]<=a)return this._size;for(;b<this._half;){var c=this._heap[2*b];a<c?b*=2:(b=2*b+1,a-=c)}return b-this._half}},{key:"greatestStrictLowerBound",value:function(a){if(0>=a)return-1;var b=1;if(this._heap[b]<a)return this._size;for(;b<this._half;){var c=
this._heap[2*b];a<=c?b*=2:(b=2*b+1,a-=c)}return b-this._half}},{key:"leastUpperBound",value:function(a){return this.greatestStrictLowerBound(a)+1}},{key:"leastStrictUpperBound",value:function(a){return this.greatestLowerBound(a)+1}}],[{key:"uniform",value:function(b,c){var d=[];for(--b;0<=b;--b)d[b]=c;return new a(d)}},{key:"empty",value:function(b){return a.uniform(b,0)}}]);return a}();l.exports=c}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{})},{"./invariant":795}],782:[function(a,l,f){l.exports=a("react")},{react:1001}],783:[function(a,l,f){function c(a,c){if(a===c)return!0;for(var b in a)if(a.hasOwnProperty(b)&&(!c.hasOwnProperty(b)||a[b]!==c[b]))return!1;for(b in c)if(c.hasOwnProperty(b)&&!a.hasOwnProperty(b))return!1;return!0}l.exports={shouldComponentUpdate:function(a,h){return!c(this.props,a)||!c(this.state,h)}}},{}],784:[function(a,l,f){var c=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=
d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,e){c&&a(b.prototype,c);e&&a(b,e);return b}}(),e=a("./emptyFunction"),h=a("./normalizeWheel"),b=a("./requestAnimationFramePolyfill");a=function(){function a(b,c,h,f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._animationFrameID=null;this._deltaY=this._deltaX=0;this._didWheel=this._didWheel.bind(this);"function"!==typeof c&&(c=c?e.thatReturnsTrue:
e.thatReturnsFalse);"function"!==typeof h&&(h=h?e.thatReturnsTrue:e.thatReturnsFalse);"function"!==typeof f&&(f=f?e.thatReturnsTrue:e.thatReturnsFalse);this._handleScrollX=c;this._handleScrollY=h;this._stopPropagation=f;this._onWheelCallback=b;this.onWheel=this.onWheel.bind(this)}c(a,[{key:"onWheel",value:function(a){var c=h(a),d=this._deltaX+c.pixelX,e=this._deltaY+c.pixelY,f=this._handleScrollX(d,e),d=this._handleScrollY(e,d);if(f||d){this._deltaX+=f?c.pixelX:0;this._deltaY+=d?c.pixelY:0;a.preventDefault();
var k;if(0!==this._deltaX||0!==this._deltaY)this._stopPropagation()&&a.stopPropagation(),k=!0;!0===k&&null===this._animationFrameID&&(this._animationFrameID=b(this._didWheel))}}},{key:"_didWheel",value:function(){this._animationFrameID=null;this._onWheelCallback(this._deltaX,this._deltaY);this._deltaY=this._deltaX=0}}]);return a}();l.exports=a},{"./emptyFunction":793,"./normalizeWheel":803,"./requestAnimationFramePolyfill":804}],785:[function(a,l,f){var c=a("./DOMMouseMoveTracker"),e=a("./Keys"),
h=a("./React");f=a("./ReactComponentWithPureRenderMixin");var b=a("./ReactWheelHandler"),k=a("./cssVar"),d=a("./cx"),n=a("./emptyFunction"),m=a("./translateDOMPositionXY");a=h.PropTypes;var q={position:0,scrollable:!1},w=parseInt(k("scrollbar-face-margin"),10),p=2*w,r=null;a=h.createClass({displayName:"Scrollbar",mixins:[f],propTypes:{contentSize:a.number.isRequired,defaultPosition:a.number,isOpaque:a.bool,orientation:a.oneOf(["vertical","horizontal"]),onScroll:a.func,position:a.number,size:a.number.isRequired,
trackColor:a.oneOf(["gray"]),zIndex:a.number,verticalTop:a.number},getInitialState:function(){var a=this.props;return this._calculateState(a.position||a.defaultPosition||0,a.size,a.contentSize,a.orientation)},componentWillReceiveProps:function(a){var b=a.position;void 0===b?this._setNextState(this._calculateState(this.state.position,a.size,a.contentSize,a.orientation)):this._setNextState(this._calculateState(b,a.size,a.contentSize,a.orientation),a)},getDefaultProps:function(){return{defaultPosition:0,
isOpaque:!1,onScroll:n,orientation:"vertical",zIndex:99}},render:function(){if(!this.state.scrollable)return null;var a=this.props.size,b,c=this.state.isHorizontal,e=!c,g=this.state.focused||this.state.isDragging;b=this.state.faceSize;var f=this.props.verticalTop||0,l=d({"ScrollbarLayout/main":!0,"ScrollbarLayout/mainVertical":e,"ScrollbarLayout/mainHorizontal":c,"public/Scrollbar/main":!0,"public/Scrollbar/mainOpaque":this.props.isOpaque,"public/Scrollbar/mainActive":g}),e=d({"ScrollbarLayout/face":!0,
"ScrollbarLayout/faceHorizontal":c,"ScrollbarLayout/faceVertical":e,"public/Scrollbar/faceActive":g,"public/Scrollbar/face":!0}),g=this.state.position*this.state.scale+w;c?(a={width:a},b={width:b-p},m(b,g,0)):(a={top:f,height:a},b={height:b-p},m(b,0,g));a.zIndex=this.props.zIndex;"gray"===this.props.trackColor&&(a.backgroundColor=k("fbui-desktop-background-light"));return h.createElement("div",{onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,onMouseDown:this._onMouseDown,onWheel:this._wheelHandler.onWheel,
className:l,style:a,tabIndex:0},h.createElement("div",{ref:"face",className:e,style:b}))},componentWillMount:function(){this._wheelHandler=new b("horizontal"===this.props.orientation?this._onWheelX:this._onWheelY,this._shouldHandleX,this._shouldHandleY)},componentDidMount:function(){this._mouseMoveTracker=new c(this._onMouseMove,this._onMouseMoveEnd,document.documentElement);void 0!==this.props.position&&this.state.position!==this.props.position&&this._didScroll()},componentWillUnmount:function(){this._nextState=
null;this._mouseMoveTracker.releaseMouseMoves();r===this&&(r=null);delete this._mouseMoveTracker},scrollBy:function(a){this._onWheel(a)},_shouldHandleX:function(a){return"horizontal"===this.props.orientation?this._shouldHandleChange(a):!1},_shouldHandleY:function(a){return"horizontal"!==this.props.orientation?this._shouldHandleChange(a):!1},_shouldHandleChange:function(a){return this._calculateState(this.state.position+a,this.props.size,this.props.contentSize,this.props.orientation).position!==this.state.position},
_calculateState:function(a,b,c,d){if(1>b||c<=b)return q;var e=a+"_"+b+"_"+c+"_"+d;if(this._stateKey===e)return this._stateForKey;d="horizontal"===d;var h=b/c,f=b*h;30>f&&(h=(b-30)/(c-b),f=30);b=c-b;0>a?a=0:a>b&&(a=b);b=this._mouseMoveTracker?this._mouseMoveTracker.isDragging():!1;a={faceSize:f,isDragging:b,isHorizontal:d,position:a,scale:h,scrollable:!0};this._stateKey=e;return this._stateForKey=a},_onWheelY:function(a,b){this._onWheel(b)},_onWheelX:function(a,b){this._onWheel(a)},_onWheel:function(a){var b=
this.props;this._setNextState(this._calculateState(this.state.position+a,b.size,b.contentSize,b.orientation))},_onMouseDown:function(a){var b;if(a.target!==h.findDOMNode(this.refs.face)){b=a.nativeEvent;b=this.state.isHorizontal?b.offsetX||b.layerX:b.offsetY||b.layerY;var c=this.props;b/=this.state.scale;b=this._calculateState(b-.5*this.state.faceSize/this.state.scale,c.size,c.contentSize,c.orientation)}else b={};b.focused=!0;this._setNextState(b);this._mouseMoveTracker.captureMouseMoves(a);h.findDOMNode(this).focus()},
_onMouseMove:function(a,b){var c=this.props;a=this.state.isHorizontal?a:b;a/=this.state.scale;this._setNextState(this._calculateState(this.state.position+a,c.size,c.contentSize,c.orientation))},_onMouseMoveEnd:function(){this._nextState=null;this._mouseMoveTracker.releaseMouseMoves();this.setState({isDragging:!1})},_onKeyDown:function(a){var b=a.keyCode;if(b!==e.TAB){var c=40,d=0;if(this.state.isHorizontal)switch(b){case e.HOME:d=-1;c=this.props.contentSize;break;case e.LEFT:d=-1;break;case e.RIGHT:d=
1;break;default:return}if(!this.state.isHorizontal)switch(b){case e.SPACE:d=a.shiftKey?-1:1;break;case e.HOME:d=-1;c=this.props.contentSize;break;case e.UP:d=-1;break;case e.DOWN:d=1;break;case e.PAGE_UP:d=-1;c=this.props.size;break;case e.PAGE_DOWN:d=1;c=this.props.size;break;default:return}a.preventDefault();a=this.props;this._setNextState(this._calculateState(this.state.position+c*d,a.size,a.contentSize,a.orientation))}},_onFocus:function(){this.setState({focused:!0})},_onBlur:function(){this.setState({focused:!1})},
_blur:function(){if(this.isMounted())try{this._onBlur(),h.findDOMNode(this).blur()}catch(t){}},_setNextState:function(a,b){b=b||this.props;b=b.position;var c=this.state.position!==a.position;if(void 0===b)this.setState(a,c?this._didScroll:void 0);else if(b===a.position)this.setState(a);else{if(void 0!==a.position&&a.position!==this.state.position)this.props.onScroll(a.position);return}c&&r!==this&&(r&&r._blur(),r=this)},_didScroll:function(){this.props.onScroll(this.state.position)}});a.KEYBOARD_SCROLL_AMOUNT=
40;a.SIZE=parseInt(k("scrollbar-size"),10);l.exports=a},{"./DOMMouseMoveTracker":759,"./Keys":779,"./React":782,"./ReactComponentWithPureRenderMixin":783,"./ReactWheelHandler":784,"./cssVar":790,"./cx":791,"./emptyFunction":793,"./translateDOMPositionXY":806}],786:[function(a,l,f){function c(){if(!e){e=!0;var a=navigator.userAgent,c=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a),
f=/(Mac OS X)|(Windows)|(Linux)/.exec(a);u=/\b(iPhone|iP[ao]d)/.exec(a);y=/\b(iP[ao]d)/.exec(a);r=/Android/i.exec(a);A=/FBAN\/\w+;/i.exec(a);g=/Mobile/i.exec(a);t=!!/Win64/.exec(a);if(c){(h=c[1]?parseFloat(c[1]):c[5]?parseFloat(c[5]):NaN)&&document&&document.documentMode&&(h=document.documentMode);var l=/(?:Trident\/(\d+.\d+))/.exec(a);m=l?parseFloat(l[1])+4:h;b=c[2]?parseFloat(c[2]):NaN;k=c[3]?parseFloat(c[3]):NaN;n=(d=c[4]?parseFloat(c[4]):NaN)?(c=/(?:Chrome\/(\d+\.\d+))/.exec(a))&&c[1]?parseFloat(c[1]):
NaN:NaN}else h=b=k=n=d=NaN;f?(q=f[1]?(a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a))?parseFloat(a[1].replace("_",".")):!0:!1,w=!!f[2],p=!!f[3]):q=w=p=!1}}var e=!1,h,b,k,d,n,m,q,w,p,r,t,u,y,A,g,v={ie:function(){return c()||h},ieCompatibilityMode:function(){return c()||m>h},ie64:function(){return v.ie()&&t},firefox:function(){return c()||b},opera:function(){return c()||k},webkit:function(){return c()||d},safari:function(){return v.webkit()},chrome:function(){return c()||n},windows:function(){return c()||
w},osx:function(){return c()||q},linux:function(){return c()||p},iphone:function(){return c()||u},mobile:function(){return c()||u||y||r||g},nativeApp:function(){return c()||A},android:function(){return c()||r},ipad:function(){return c()||y}};l.exports=v},{}],787:[function(a,l,f){var c=/-(.)/g;l.exports=function(a){return a.replace(c,function(a,b){return b.toUpperCase()})}},{}],788:[function(a,l,f){a="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:
{};l.exports=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.clearTimeout},{}],789:[function(a,l,f){l.exports=function(a,e,h){return e<a?a:e>h?h:e}},{}],790:[function(a,l,f){function c(a){if(e.hasOwnProperty(a))return e[a];throw Error('cssVar("'+a+'"): Unexpected class transformation.');}var e={"scrollbar-face-active-color":"#7d7d7d","scrollbar-face-color":"#c2c2c2","scrollbar-face-margin":"4px","scrollbar-face-radius":"6px",
"scrollbar-size":"15px","scrollbar-size-large":"17px","scrollbar-track-color":"rgba(255, 255, 255, 0.8)","fbui-white":"#fff","fbui-desktop-background-light":"#f6f7f8"};c.CSS_VARS=e;l.exports=c},{}],791:[function(a,l,f){function c(a){if(h[a])return h[a];h[a]=a.replace(e,"_");return h[a]}var e=/\//g,h={};l.exports=function(a){return("object"==typeof a?Object.keys(a).filter(function(b){return a[b]}):Array.prototype.slice.call(arguments)).map(c).join(" ")}},{}],792:[function(a,l,f){l.exports=function(a,
e,h,b,f){function c(){for(var d=arguments.length,f=Array(d),l=0;l<d;l++)f[l]=arguments[l];c.reset();d=function(){a.apply(h,f)};d.__SMmeta=a.__SMmeta;k=b(d,e)}b=b||setTimeout;f=f||clearTimeout;var k;c.reset=function(){f(k)};return c}},{}],793:[function(a,l,f){function c(a){return function(){return a}}function e(){}e.thatReturns=c;e.thatReturnsFalse=c(!1);e.thatReturnsTrue=c(!0);e.thatReturnsNull=c(null);e.thatReturnsThis=function(){return this};e.thatReturnsArgument=function(a){return a};l.exports=
e},{}],794:[function(a,l,f){f=a("./ExecutionEnvironment");var c=a("./camelize"),e=a("./invariant"),h={},b=["Webkit","ms","Moz","O"],k=new RegExp("^("+b.join("|")+")"),d=f.canUseDOM?document.createElement("div").style:{};l.exports=function(a){var f=c(a);if(void 0===h[f]){var l=f.charAt(0).toUpperCase()+f.slice(1);k.test(l)&&e(!1,"getVendorPrefixedName must only be called with unprefixedCSS property names. It was called with %s",a);if(f in d)l=f;else a:{for(a=0;a<b.length;a++){var n=b[a]+l;if(n in d){l=
n;break a}}l=null}h[f]=l}return h[f]}},{"./ExecutionEnvironment":761,"./camelize":787,"./invariant":795}],795:[function(a,l,f){(function(a){l.exports=function(c,h,b,f,d,l,m,q){if("production"!==a.env.NODE_ENV&&void 0===h)throw Error("invariant requires an error message argument");if(!c){if(void 0===h)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var e=[b,f,d,l,m,q],k=0;c=Error("Invariant Violation: "+h.replace(/%s/g,
function(){return e[k++]}))}c.framesToPop=1;throw c;}}}).call(this,a("_process"))},{_process:1028}],796:[function(a,l,f){var c=a("./ExecutionEnvironment"),e;c.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));l.exports=function(a,b){if(!c.canUseDOM||b&&!("addEventListener"in document))return!1;b="on"+a;var h=b in document;h||(h=document.createElement("div"),h.setAttribute(b,"return;"),h="function"===typeof h[b]);!h&&e&&"wheel"===
a&&(h=document.implementation.hasFeature("Events.wheel","3.0"));return h}},{"./ExecutionEnvironment":761}],797:[function(a,l,f){l.exports=function(a){return!!(a&&("function"===typeof Node?a instanceof Node:"object"===typeof a&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName))}},{}],798:[function(a,l,f){l.exports=function(a){a||(a="");var c,h=arguments.length;if(1<h)for(var b=1;b<h;b++)(c=arguments[b])&&(a=(a?a+" ":"")+c);return a}},{}],799:[function(a,l,f){var c=a("./invariant");l.exports=
function(a){var e={},b;c(a instanceof Object&&!Array.isArray(a),"keyMirror(...): Argument must be an object.");for(b in a)a.hasOwnProperty(b)&&(e[b]=b);return e}},{"./invariant":795}],800:[function(a,l,f){l.exports=function(a){for(var c in a)if(a.hasOwnProperty(c))return c;return null}},{}],801:[function(a,l,f){var c=a("./invariant");a=a("./keyMirror");var e=function(a){return"object"!==typeof a||a instanceof Date||null===a},h={MAX_MERGE_DEPTH:36,isTerminal:e,normalizeMergeArg:function(a){return void 0===
a||null===a?{}:a},checkMergeArrayArgs:function(a,e){c(Array.isArray(a)&&Array.isArray(e),"Tried to merge arrays, instead got %s and %s.",a,e)},checkMergeObjectArgs:function(a,c){h.checkMergeObjectArg(a);h.checkMergeObjectArg(c)},checkMergeObjectArg:function(a){c(!e(a)&&!Array.isArray(a),"Tried to merge an object, instead got %s.",a)},checkMergeIntoObjectArg:function(a){c((!e(a)||"function"===typeof a)&&!Array.isArray(a),"Tried to merge into an object, instead got %s.",a)},checkMergeLevel:function(a){c(36>
a,"Maximum deep merge depth exceeded. You may be attempting to merge circular structures in an unsupported way.")},checkArrayStrategy:function(a){c(void 0===a||a in h.ArrayStrategies,"You must provide an array strategy to deep merge functions to instruct the deep merge how to resolve merging two arrays.")},ArrayStrategies:a({Clobber:!0,IndexByIndex:!0})};l.exports=h},{"./invariant":795,"./keyMirror":799}],802:[function(a,l,f){a="undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==
typeof window?window:{};l.exports=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame},{}],803:[function(a,l,f){function c(a){var b=0,c=0,e,h;"detail"in a&&(c=a.detail);"wheelDelta"in a&&(c=-a.wheelDelta/120);"wheelDeltaY"in a&&(c=-a.wheelDeltaY/120);"wheelDeltaX"in a&&(b=-a.wheelDeltaX/120);"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(b=c,c=0);e=10*b;h=10*c;"deltaY"in a&&(h=a.deltaY);"deltaX"in a&&(e=a.deltaX);(e||h)&&
a.deltaMode&&(1==a.deltaMode?(e*=40,h*=40):(e*=800,h*=800));e&&!b&&(b=1>e?-1:1);h&&!c&&(c=1>h?-1:1);return{spinX:b,spinY:c,pixelX:e,pixelY:h}}var e=a("./UserAgent_DEPRECATED"),h=a("./isEventSupported");c.getEventType=function(){return e.firefox()?"DOMMouseScroll":h("wheel")?"wheel":"mousewheel"};l.exports=c},{"./UserAgent_DEPRECATED":786,"./isEventSupported":796}],804:[function(a,l,f){(function(c){var e=a("./emptyFunction"),h=0,b=a("./nativeRequestAnimationFrame")||function(a){var b=Date.now(),e=
Math.max(0,16-(b-h));h=b+e;return c.setTimeout(function(){a(Date.now())},e)};b(e);l.exports=b}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./emptyFunction":793,"./nativeRequestAnimationFrame":802}],805:[function(a,l,f){l.exports=function(a,e){if(a===e)return!0;if("object"!==typeof a||null===a||"object"!==typeof e||null===e)return!1;var c=Object.keys(a),b=Object.keys(e);if(c.length!==b.length)return!1;for(var b=Object.prototype.hasOwnProperty.bind(e),
f=0;f<c.length;f++)if(!b(c[f])||a[c[f]]!==e[c[f]])return!1;return!0}},{}],806:[function(a,l,f){(function(c){var e=a("./BrowserSupportCore"),h=a("./getVendorPrefixedName"),b=h("transform"),f=h("backfaceVisibility"),h=function(){if(e.hasCSSTransforms()){var a=c.window?c.window.navigator.userAgent:"UNKNOWN";return/Safari\//.test(a)&&!/Chrome\//.test(a)||!e.hasCSS3DTransforms()?function(a,c,d){a[b]="translate("+c+"px,"+d+"px)"}:function(a,c,d){a[b]="translate3d("+c+"px,"+d+"px,0)";a[f]="hidden"}}return function(a,
b,c){a.left=b+"px";a.top=c+"px"}}();l.exports=h}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./BrowserSupportCore":758,"./getVendorPrefixedName":794}],807:[function(a,l,f){l.exports=a("./internal/FixedDataTableRoot")},{"./internal/FixedDataTableRoot":770}],808:[function(a,l,f){function c(a){this._cbs=a||{};this.events=[]}l.exports=c;var e=a("./").EVENTS;Object.keys(e).forEach(function(a){if(0===e[a])a="on"+a,c.prototype[a]=
function(){this.events.push([a]);if(this._cbs[a])this._cbs[a]()};else if(1===e[a])a="on"+a,c.prototype[a]=function(b){this.events.push([a,b]);if(this._cbs[a])this._cbs[a](b)};else if(2===e[a])a="on"+a,c.prototype[a]=function(b,c){this.events.push([a,b,c]);if(this._cbs[a])this._cbs[a](b,c)};else throw Error("wrong number of arguments");});c.prototype.onreset=function(){this.events=[];if(this._cbs.onreset)this._cbs.onreset()};c.prototype.restart=function(){if(this._cbs.onreset)this._cbs.onreset();for(var a=
0,b=this.events.length;a<b;a++)if(this._cbs[this.events[a][0]]){var c=this.events[a].length;if(1===c)this._cbs[this.events[a][0]]();else if(2===c)this._cbs[this.events[a][0]](this.events[a][1]);else this._cbs[this.events[a][0]](this.events[a][1],this.events[a][2])}}},{"./":815}],809:[function(a,l,f){function c(a,b){this.init(a,b)}function e(a,b,c){return k.getText(k.getElementsByTagName(a,b,c,1)).trim()}function h(a,b,c,d,h){(c=e(c,d,h))&&(a[b]=c)}f=a("./index.js");var b=f.DomHandler,k=f.DomUtils;
a("inherits")(c,b);c.prototype.init=b;var d=function(a){return"rss"===a||"feed"===a||"rdf:RDF"===a};c.prototype.onend=function(){var a={},c=k.getElementsByTagName(d,this.dom,!0,1)[0],f,l;if(c)if("feed"===c.name){l=c.children;a.type="atom";h(a,"id","id",l);h(a,"title","title",l);(f=k.getElementsByTagName("link",l,!0,1)[0])&&(f=f.attribs)&&(f=f.href)&&(a.link=f);h(a,"description","subtitle",l);if(f=e("updated",l))a.updated=new Date(f);h(a,"author","email",l,!0);a.items=k.getElementsByTagName("entry",
l,!0).map(function(a){var b={},c;a=a.children;h(b,"id","id",a);h(b,"title","title",a);(c=k.getElementsByTagName("link",a,!0,1)[0])&&(c=c.attribs)&&(c=c.href)&&(b.link=c);if(c=e("summary",a)||e("content",a))b.description=c;if(c=e("updated",a))b.pubDate=new Date(c);return b})}else{l=k.getElementsByTagName("channel",c.children,!0,1)[0].children;a.type=c.name.substr(0,3);a.id="";h(a,"title","title",l);h(a,"link","link",l);h(a,"description","description",l);if(f=e("lastBuildDate",l))a.updated=new Date(f);
h(a,"author","managingEditor",l,!0);a.items=k.getElementsByTagName("item",c.children,!0).map(function(a){var b={};a=a.children;h(b,"id","guid",a);h(b,"title","title",a);h(b,"link","link",a);h(b,"description","description",a);if(a=e("pubDate",a))b.pubDate=new Date(a);return b})}this.dom=a;b.prototype._handleCallback.call(this,c?null:Error("couldn't find root of feed"))};l.exports=c},{"./index.js":815,inherits:817}],810:[function(a,l,f){function c(a,b){this._options=b||{};this._cbs=a||{};this._attribvalue=
this._attribname=this._tagname="";this._attribs=null;this._stack=[];this.startIndex=0;this.endIndex=null;this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode;this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode;this._options.Tokenizer&&(e=this._options.Tokenizer);this._tokenizer=new e(this._options,this);if(this._cbs.onparserinit)this._cbs.onparserinit(this)}var e=
a("./Tokenizer.js");f={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0};var h={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:f,input:f,output:f,button:f,datalist:f,textarea:f,option:{option:!0},optgroup:{optgroup:!0}},b={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,
link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},k=/\s|\//;a("inherits")(c,a("events").EventEmitter);c.prototype._updatePosition=function(a){this.startIndex=null===this.endIndex?this._tokenizer._sectionStart<=a?0:this._tokenizer._sectionStart-a:this.endIndex+1;this.endIndex=this._tokenizer.getAbsoluteIndex()};c.prototype.ontext=function(a){this._updatePosition(1);this.endIndex--;if(this._cbs.ontext)this._cbs.ontext(a)};
c.prototype.onopentagname=function(a){this._lowerCaseTagNames&&(a=a.toLowerCase());this._tagname=a;if(!this._options.xmlMode&&a in h)for(var c;(c=this._stack[this._stack.length-1])in h[a];this.onclosetag(c));!this._options.xmlMode&&a in b||this._stack.push(a);if(this._cbs.onopentagname)this._cbs.onopentagname(a);this._cbs.onopentag&&(this._attribs={})};c.prototype.onopentagend=function(){this._updatePosition(1);if(this._attribs){if(this._cbs.onopentag)this._cbs.onopentag(this._tagname,this._attribs);
this._attribs=null}if(!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in b)this._cbs.onclosetag(this._tagname);this._tagname=""};c.prototype.onclosetag=function(a){this._updatePosition(1);this._lowerCaseTagNames&&(a=a.toLowerCase());if(!this._stack.length||a in b&&!this._options.xmlMode)this._options.xmlMode||"br"!==a&&"p"!==a||(this.onopentagname(a),this._closeCurrentTag());else{var c=this._stack.lastIndexOf(a);if(-1!==c)if(this._cbs.onclosetag)for(c=this._stack.length-c;c--;)this._cbs.onclosetag(this._stack.pop());
else this._stack.length=c;else"p"!==a||this._options.xmlMode||(this.onopentagname(a),this._closeCurrentTag())}};c.prototype.onselfclosingtag=function(){if(this._options.xmlMode||this._options.recognizeSelfClosing)this._closeCurrentTag();else this.onopentagend()};c.prototype._closeCurrentTag=function(){var a=this._tagname;this.onopentagend();if(this._stack[this._stack.length-1]===a){if(this._cbs.onclosetag)this._cbs.onclosetag(a);this._stack.pop()}};c.prototype.onattribname=function(a){this._lowerCaseAttributeNames&&
(a=a.toLowerCase());this._attribname=a};c.prototype.onattribdata=function(a){this._attribvalue+=a};c.prototype.onattribend=function(){if(this._cbs.onattribute)this._cbs.onattribute(this._attribname,this._attribvalue);this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue);this._attribvalue=this._attribname=""};c.prototype._getInstructionName=function(a){var b=a.search(k);a=0>b?a:a.substr(0,b);this._lowerCaseTagNames&&
(a=a.toLowerCase());return a};c.prototype.ondeclaration=function(a){if(this._cbs.onprocessinginstruction){var b=this._getInstructionName(a);this._cbs.onprocessinginstruction("!"+b,"!"+a)}};c.prototype.onprocessinginstruction=function(a){if(this._cbs.onprocessinginstruction){var b=this._getInstructionName(a);this._cbs.onprocessinginstruction("?"+b,"?"+a)}};c.prototype.oncomment=function(a){this._updatePosition(4);if(this._cbs.oncomment)this._cbs.oncomment(a);if(this._cbs.oncommentend)this._cbs.oncommentend()};
c.prototype.oncdata=function(a){this._updatePosition(1);if(this._options.xmlMode||this._options.recognizeCDATA){if(this._cbs.oncdatastart)this._cbs.oncdatastart();if(this._cbs.ontext)this._cbs.ontext(a);if(this._cbs.oncdataend)this._cbs.oncdataend()}else this.oncomment("[CDATA["+a+"]]")};c.prototype.onerror=function(a){if(this._cbs.onerror)this._cbs.onerror(a)};c.prototype.onend=function(){if(this._cbs.onclosetag)for(var a=this._stack.length;0<a;this._cbs.onclosetag(this._stack[--a]));if(this._cbs.onend)this._cbs.onend()};
c.prototype.reset=function(){if(this._cbs.onreset)this._cbs.onreset();this._tokenizer.reset();this._attribname=this._tagname="";this._attribs=null;this._stack=[];if(this._cbs.onparserinit)this._cbs.onparserinit(this)};c.prototype.parseComplete=function(a){this.reset();this.end(a)};c.prototype.write=function(a){this._tokenizer.write(a)};c.prototype.end=function(a){this._tokenizer.end(a)};c.prototype.pause=function(){this._tokenizer.pause()};c.prototype.resume=function(){this._tokenizer.resume()};c.prototype.parseChunk=
c.prototype.write;c.prototype.done=c.prototype.end;l.exports=c},{"./Tokenizer.js":813,events:1026,inherits:817}],811:[function(a,l,f){function c(a){this._cbs=a||{}}l.exports=c;var e=a("./").EVENTS;Object.keys(e).forEach(function(a){if(0===e[a])a="on"+a,c.prototype[a]=function(){if(this._cbs[a])this._cbs[a]()};else if(1===e[a])a="on"+a,c.prototype[a]=function(b){if(this._cbs[a])this._cbs[a](b)};else if(2===e[a])a="on"+a,c.prototype[a]=function(b,c){if(this._cbs[a])this._cbs[a](b,c)};else throw Error("wrong number of arguments");
})},{"./":815}],812:[function(a,l,f){function c(a){h.call(this,new e(this),a)}function e(a){this.scope=a}l.exports=c;var h=a("./WritableStream.js");a("inherits")(c,h);c.prototype.readable=!0;var b=a("../").EVENTS;Object.keys(b).forEach(function(a){if(0===b[a])e.prototype["on"+a]=function(){this.scope.emit(a)};else if(1===b[a])e.prototype["on"+a]=function(b){this.scope.emit(a,b)};else if(2===b[a])e.prototype["on"+a]=function(b,c){this.scope.emit(a,b,c)};else throw Error("wrong number of arguments!");
})},{"../":815,"./WritableStream.js":814,inherits:817}],813:[function(a,l,f){function c(a){return" "===a||"\n"===a||"\t"===a||"\f"===a||"\r"===a}function e(a,b,c){var d=a.toLowerCase();return a===d?function(a){a===d?this._state=b:(this._state=c,this._index--)}:function(e){e===d||e===a?this._state=b:(this._state=c,this._index--)}}function h(a,b){var c=a.toLowerCase();return function(d){d===c||d===a?this._state=b:(this._state=p,this._index--)}}function b(a,b){this._state=q;this._buffer="";this._bufferOffset=
this._index=this._sectionStart=0;this._baseState=q;this._special=oa;this._cbs=b;this._running=!0;this._ended=!1;this._xmlMode=!(!a||!a.xmlMode);this._decodeEntities=!(!a||!a.decodeEntities)}l.exports=b;var k=a("entities/lib/decode_codepoint.js"),d=a("entities/maps/entities.json"),n=a("entities/maps/legacy.json"),m=a("entities/maps/xml.json");a=0;var q=a++,w=a++,p=a++,r=a++,t=a++,u=a++,y=a++,A=a++,g=a++,v=a++,z=a++,B=a++,G=a++,x=a++,D=a++,E=a++,F=a++,J=a++,L=a++,I=a++,K=a++,N=a++,P=a++,Y=a++,M=a++,
O=a++,Q=a++,U=a++,R=a++,ba=a++,T=a++,ca=a++,ha=a++,X=a++,aa=a++,ga=a++,ka=a++,ra=a++,Ea=a++,ua=a++,$a=a++,La=a++,pa=a++,fa=a++,ea=a++,Z=a++,C=a++,va=a++,za=a++,Ma=a++,Ra=a++,Ta=a++,Ha=a++,na=a++,Fa=a++;a=0;var oa=a++,V=a++,ib=a++;b.prototype._stateText=function(a){if("<"===a){if(this._index>this._sectionStart)this._cbs.ontext(this._getSection());this._state=w;this._sectionStart=this._index}else if(this._decodeEntities&&this._special===oa&&"&"===a){if(this._index>this._sectionStart)this._cbs.ontext(this._getSection());
this._baseState=q;this._state=Ra;this._sectionStart=this._index}};b.prototype._stateBeforeTagName=function(a){"/"===a?this._state=t:"<"===a?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===a||this._special!==oa||c(a)?this._state=q:"!"===a?(this._state=D,this._sectionStart=this._index+1):"?"===a?(this._state=F,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==a&&"S"!==a?p:T,this._sectionStart=this._index)};b.prototype._stateInTagName=function(a){if("/"===
a||">"===a||c(a))this._emitToken("onopentagname"),this._state=A,this._index--};b.prototype._stateBeforeCloseingTagName=function(a){c(a)||(">"===a?this._state=q:this._special!==oa?"s"===a||"S"===a?this._state=ca:(this._state=q,this._index--):(this._state=u,this._sectionStart=this._index))};b.prototype._stateInCloseingTagName=function(a){if(">"===a||c(a))this._emitToken("onclosetag"),this._state=y,this._index--};b.prototype._stateAfterCloseingTagName=function(a){">"===a&&(this._state=q,this._sectionStart=
this._index+1)};b.prototype._stateBeforeAttributeName=function(a){">"===a?(this._cbs.onopentagend(),this._state=q,this._sectionStart=this._index+1):"/"===a?this._state=r:c(a)||(this._state=g,this._sectionStart=this._index)};b.prototype._stateInSelfClosingTag=function(a){">"===a?(this._cbs.onselfclosingtag(),this._state=q,this._sectionStart=this._index+1):c(a)||(this._state=A,this._index--)};b.prototype._stateInAttributeName=function(a){if("="===a||"/"===a||">"===a||c(a))this._cbs.onattribname(this._getSection()),
this._sectionStart=-1,this._state=v,this._index--};b.prototype._stateAfterAttributeName=function(a){"="===a?this._state=z:"/"===a||">"===a?(this._cbs.onattribend(),this._state=A,this._index--):c(a)||(this._cbs.onattribend(),this._state=g,this._sectionStart=this._index)};b.prototype._stateBeforeAttributeValue=function(a){'"'===a?(this._state=B,this._sectionStart=this._index+1):"'"===a?(this._state=G,this._sectionStart=this._index+1):c(a)||(this._state=x,this._sectionStart=this._index,this._index--)};
b.prototype._stateInAttributeValueDoubleQuotes=function(a){'"'===a?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=A):this._decodeEntities&&"&"===a&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=Ra,this._sectionStart=this._index)};b.prototype._stateInAttributeValueSingleQuotes=function(a){"'"===a?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=A):this._decodeEntities&&"&"===a&&(this._emitToken("onattribdata"),this._baseState=this._state,
this._state=Ra,this._sectionStart=this._index)};b.prototype._stateInAttributeValueNoQuotes=function(a){c(a)||">"===a?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=A,this._index--):this._decodeEntities&&"&"===a&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=Ra,this._sectionStart=this._index)};b.prototype._stateBeforeDeclaration=function(a){this._state="["===a?N:"-"===a?J:E};b.prototype._stateInDeclaration=function(a){">"===a&&(this._cbs.ondeclaration(this._getSection()),
this._state=q,this._sectionStart=this._index+1)};b.prototype._stateInProcessingInstruction=function(a){">"===a&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=q,this._sectionStart=this._index+1)};b.prototype._stateBeforeComment=function(a){"-"===a?(this._state=L,this._sectionStart=this._index+1):this._state=E};b.prototype._stateInComment=function(a){"-"===a&&(this._state=I)};b.prototype._stateAfterComment1=function(a){this._state="-"===a?K:L};b.prototype._stateAfterComment2=function(a){">"===
a?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=q,this._sectionStart=this._index+1):"-"!==a&&(this._state=L)};b.prototype._stateBeforeCdata1=e("C",P,E);b.prototype._stateBeforeCdata2=e("D",Y,E);b.prototype._stateBeforeCdata3=e("A",M,E);b.prototype._stateBeforeCdata4=e("T",O,E);b.prototype._stateBeforeCdata5=e("A",Q,E);b.prototype._stateBeforeCdata6=function(a){"["===a?(this._state=U,this._sectionStart=this._index+1):(this._state=E,this._index--)};b.prototype._stateInCdata=
function(a){"]"===a&&(this._state=R)};b.prototype._stateAfterCdata1=function(a,b){return function(c){c===a&&(this._state=b)}}("]",ba);b.prototype._stateAfterCdata2=function(a){">"===a?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=q,this._sectionStart=this._index+1):"]"!==a&&(this._state=U)};b.prototype._stateBeforeSpecial=function(a){"c"===a||"C"===a?this._state=ha:"t"===a||"T"===a?this._state=pa:(this._state=p,this._index--)};b.prototype._stateBeforeSpecialEnd=
function(a){this._state=this._special!==V||"c"!==a&&"C"!==a?this._special!==ib||"t"!==a&&"T"!==a?q:C:ra};b.prototype._stateBeforeScript1=h("R",X);b.prototype._stateBeforeScript2=h("I",aa);b.prototype._stateBeforeScript3=h("P",ga);b.prototype._stateBeforeScript4=h("T",ka);b.prototype._stateBeforeScript5=function(a){if("/"===a||">"===a||c(a))this._special=V;this._state=p;this._index--};b.prototype._stateAfterScript1=e("R",Ea,q);b.prototype._stateAfterScript2=e("I",ua,q);b.prototype._stateAfterScript3=
e("P",$a,q);b.prototype._stateAfterScript4=e("T",La,q);b.prototype._stateAfterScript5=function(a){">"===a||c(a)?(this._special=oa,this._state=u,this._sectionStart=this._index-6,this._index--):this._state=q};b.prototype._stateBeforeStyle1=h("Y",fa);b.prototype._stateBeforeStyle2=h("L",ea);b.prototype._stateBeforeStyle3=h("E",Z);b.prototype._stateBeforeStyle4=function(a){if("/"===a||">"===a||c(a))this._special=ib;this._state=p;this._index--};b.prototype._stateAfterStyle1=e("Y",va,q);b.prototype._stateAfterStyle2=
e("L",za,q);b.prototype._stateAfterStyle3=e("E",Ma,q);b.prototype._stateAfterStyle4=function(a){">"===a||c(a)?(this._special=oa,this._state=u,this._sectionStart=this._index-5,this._index--):this._state=q};b.prototype._stateBeforeEntity=e("#",Ta,Ha);b.prototype._stateBeforeNumericEntity=e("X",Fa,na);b.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var a=this._buffer.substring(this._sectionStart+1,this._index),b=this._xmlMode?m:d;b.hasOwnProperty(a)&&(this._emitPartial(b[a]),
this._sectionStart=this._index+1)}};b.prototype._parseLegacyEntity=function(){var a=this._sectionStart+1,b=this._index-a;for(6<b&&(b=6);2<=b;){var c=this._buffer.substr(a,b);if(n.hasOwnProperty(c)){this._emitPartial(n[c]);this._sectionStart+=b+1;break}else b--}};b.prototype._stateInNamedEntity=function(a){";"===a?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):("a">a||"z"<a)&&("A">a||"Z"<a)&&("0">a||"9"<a)&&(this._xmlMode||
this._sectionStart+1!==this._index&&(this._baseState!==q?"="!==a&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)};b.prototype._decodeNumericEntity=function(a,b){a=this._sectionStart+a;a!==this._index?(a=this._buffer.substring(a,this._index),b=parseInt(a,b),this._emitPartial(k(b)),this._sectionStart=this._index):this._sectionStart--;this._state=this._baseState};b.prototype._stateInNumericEntity=function(a){if(";"===a)this._decodeNumericEntity(2,
10),this._sectionStart++;else if("0">a||"9"<a)this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--};b.prototype._stateInHexEntity=function(a){";"===a?(this._decodeNumericEntity(3,16),this._sectionStart++):("a">a||"f"<a)&&("A">a||"F"<a)&&("0">a||"9"<a)&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)};b.prototype._cleanup=function(){if(0>this._sectionStart)this._buffer="",this._index=0,this._bufferOffset+=this._index;else if(this._running){if(this._state===
q){if(this._sectionStart!==this._index)this._cbs.ontext(this._buffer.substr(this._sectionStart));this._buffer="";this._bufferOffset+=this._index;this._index=0}else this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart);this._sectionStart=0}};b.prototype.write=function(a){if(this._ended)this._cbs.onerror(Error(".write() after done!"));
this._buffer+=a;this._parse()};b.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var a=this._buffer.charAt(this._index);if(this._state===q)this._stateText(a);else if(this._state===w)this._stateBeforeTagName(a);else if(this._state===p)this._stateInTagName(a);else if(this._state===t)this._stateBeforeCloseingTagName(a);else if(this._state===u)this._stateInCloseingTagName(a);else if(this._state===y)this._stateAfterCloseingTagName(a);else if(this._state===r)this._stateInSelfClosingTag(a);
else if(this._state===A)this._stateBeforeAttributeName(a);else if(this._state===g)this._stateInAttributeName(a);else if(this._state===v)this._stateAfterAttributeName(a);else if(this._state===z)this._stateBeforeAttributeValue(a);else if(this._state===B)this._stateInAttributeValueDoubleQuotes(a);else if(this._state===G)this._stateInAttributeValueSingleQuotes(a);else if(this._state===x)this._stateInAttributeValueNoQuotes(a);else if(this._state===D)this._stateBeforeDeclaration(a);else if(this._state===
E)this._stateInDeclaration(a);else if(this._state===F)this._stateInProcessingInstruction(a);else if(this._state===J)this._stateBeforeComment(a);else if(this._state===L)this._stateInComment(a);else if(this._state===I)this._stateAfterComment1(a);else if(this._state===K)this._stateAfterComment2(a);else if(this._state===N)this._stateBeforeCdata1(a);else if(this._state===P)this._stateBeforeCdata2(a);else if(this._state===Y)this._stateBeforeCdata3(a);else if(this._state===M)this._stateBeforeCdata4(a);else if(this._state===
O)this._stateBeforeCdata5(a);else if(this._state===Q)this._stateBeforeCdata6(a);else if(this._state===U)this._stateInCdata(a);else if(this._state===R)this._stateAfterCdata1(a);else if(this._state===ba)this._stateAfterCdata2(a);else if(this._state===T)this._stateBeforeSpecial(a);else if(this._state===ca)this._stateBeforeSpecialEnd(a);else if(this._state===ha)this._stateBeforeScript1(a);else if(this._state===X)this._stateBeforeScript2(a);else if(this._state===aa)this._stateBeforeScript3(a);else if(this._state===
ga)this._stateBeforeScript4(a);else if(this._state===ka)this._stateBeforeScript5(a);else if(this._state===ra)this._stateAfterScript1(a);else if(this._state===Ea)this._stateAfterScript2(a);else if(this._state===ua)this._stateAfterScript3(a);else if(this._state===$a)this._stateAfterScript4(a);else if(this._state===La)this._stateAfterScript5(a);else if(this._state===pa)this._stateBeforeStyle1(a);else if(this._state===fa)this._stateBeforeStyle2(a);else if(this._state===ea)this._stateBeforeStyle3(a);else if(this._state===
Z)this._stateBeforeStyle4(a);else if(this._state===C)this._stateAfterStyle1(a);else if(this._state===va)this._stateAfterStyle2(a);else if(this._state===za)this._stateAfterStyle3(a);else if(this._state===Ma)this._stateAfterStyle4(a);else if(this._state===Ra)this._stateBeforeEntity(a);else if(this._state===Ta)this._stateBeforeNumericEntity(a);else if(this._state===Ha)this._stateInNamedEntity(a);else if(this._state===na)this._stateInNumericEntity(a);else if(this._state===Fa)this._stateInHexEntity(a);
else this._cbs.onerror(Error("unknown _state"),this._state);this._index++}this._cleanup()};b.prototype.pause=function(){this._running=!1};b.prototype.resume=function(){this._running=!0;this._index<this._buffer.length&&this._parse();this._ended&&this._finish()};b.prototype.end=function(a){if(this._ended)this._cbs.onerror(Error(".end() after done!"));a&&this.write(a);this._ended=!0;this._running&&this._finish()};b.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData();
this._cbs.onend()};b.prototype._handleTrailingData=function(){var a=this._buffer.substr(this._sectionStart);if(this._state===U||this._state===R||this._state===ba)this._cbs.oncdata(a);else if(this._state===L||this._state===I||this._state===K)this._cbs.oncomment(a);else if(this._state===Ha&&!this._xmlMode)this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData());else if(this._state===na&&!this._xmlMode)this._decodeNumericEntity(2,10),this._sectionStart<
this._index&&(this._state=this._baseState,this._handleTrailingData());else if(this._state===Fa&&!this._xmlMode)this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData());else if(this._state!==p&&this._state!==A&&this._state!==z&&this._state!==v&&this._state!==g&&this._state!==G&&this._state!==B&&this._state!==x&&this._state!==u)this._cbs.ontext(a)};b.prototype.reset=function(){b.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},
this._cbs)};b.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index};b.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)};b.prototype._emitToken=function(a){this._cbs[a](this._getSection());this._sectionStart=-1};b.prototype._emitPartial=function(a){if(this._baseState!==q)this._cbs.onattribdata(a);else this._cbs.ontext(a)}},{"entities/lib/decode_codepoint.js":724,"entities/maps/entities.json":727,"entities/maps/legacy.json":728,"entities/maps/xml.json":729}],
814:[function(a,l,f){function c(a,c){var d=this._parser=new e(a,c),f=this._decoder=new b;h.call(this,{decodeStrings:!1});this.once("finish",function(){d.end(f.end())})}l.exports=c;var e=a("./Parser.js"),h=a("stream").Writable||a("readable-stream").Writable,b=a("string_decoder").StringDecoder,k=a("buffer").Buffer;a("inherits")(c,h);h.prototype._write=function(a,b,c){a instanceof k&&(a=this._decoder.write(a));this._parser.write(a);c()}},{"./Parser.js":810,buffer:1025,inherits:817,"readable-stream":1024,
stream:1029,string_decoder:1030}],815:[function(a,l,f){function c(a,c){delete l.exports[a];return l.exports[a]=c}var e=a("./Parser.js"),h=a("domhandler");l.exports={Parser:e,Tokenizer:a("./Tokenizer.js"),ElementType:a("domelementtype"),DomHandler:h,get FeedHandler(){return c("FeedHandler",a("./FeedHandler.js"))},get Stream(){return c("Stream",a("./Stream.js"))},get WritableStream(){return c("WritableStream",a("./WritableStream.js"))},get ProxyHandler(){return c("ProxyHandler",a("./ProxyHandler.js"))},
get DomUtils(){return c("DomUtils",a("domutils"))},get CollectingHandler(){return c("CollectingHandler",a("./CollectingHandler.js"))},DefaultHandler:h,get RssHandler(){return c("RssHandler",this.FeedHandler)},parseDOM:function(a,c){var b=new h(c);(new e(b,c)).end(a);return b.dom},parseFeed:function(a,c){var b=new l.exports.FeedHandler(c);(new e(b,c)).end(a);return b.dom},createDomStream:function(a,c,d){a=new h(a,c,d);return new e(a,c)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,
comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},{"./CollectingHandler.js":808,"./FeedHandler.js":809,"./Parser.js":810,"./ProxyHandler.js":811,"./Stream.js":812,"./Tokenizer.js":813,"./WritableStream.js":814,domelementtype:710,domhandler:711,domutils:714}],816:[function(a,l,f){f.read=function(a,e,h,b,f){var c;c=8*f-b-1;var k=(1<<c)-1,l=k>>1,q=-7;f=h?f-1:0;var w=h?-1:1,p=a[e+f];f+=w;h=p&(1<<-q)-1;p>>=-q;for(q+=c;0<q;h=256*h+a[e+f],f+=w,q-=8);c=h&(1<<-q)-1;h>>=-q;for(q+=b;0<
q;c=256*c+a[e+f],f+=w,q-=8);if(0===h)h=1-l;else{if(h===k)return c?NaN:Infinity*(p?-1:1);c+=Math.pow(2,b);h-=l}return(p?-1:1)*c*Math.pow(2,h-b)};f.write=function(a,e,h,b,f,d){var c,k=8*d-f-1,l=(1<<k)-1,w=l>>1,p=23===f?Math.pow(2,-24)-Math.pow(2,-77):0;d=b?0:d-1;var r=b?1:-1,t=0>e||0===e&&0>1/e?1:0;e=Math.abs(e);isNaN(e)||Infinity===e?(e=isNaN(e)?1:0,b=l):(b=Math.floor(Math.log(e)/Math.LN2),1>e*(c=Math.pow(2,-b))&&(b--,c*=2),e=1<=b+w?e+p/c:e+p*Math.pow(2,1-w),2<=e*c&&(b++,c/=2),b+w>=l?(e=0,b=l):1<=
b+w?(e=(e*c-1)*Math.pow(2,f),b+=w):(e=e*Math.pow(2,w-1)*Math.pow(2,f),b=0));for(;8<=f;a[h+d]=e&255,d+=r,e/=256,f-=8);b=b<<f|e;for(k+=f;0<k;a[h+d]=b&255,d+=r,b/=256,k-=8);a[h+d-r]|=128*t}},{}],817:[function(a,l,f){l.exports="function"===typeof Object.create?function(a,e){a.super_=e;a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,e){a.super_=e;var c=function(){};c.prototype=e.prototype;a.prototype=new c;a.prototype.constructor=a}},
{}],818:[function(a,l,f){var c={}.toString;l.exports=Array.isArray||function(a){return"[object Array]"==c.call(a)}},{}],819:[function(a,l,f){(function(a){(function(a,c,b,f,d){(function(b,c){"object"===typeof a&&"object"===typeof a.exports?a.exports=b.document?c(b,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return c(a)}:c(b)})("undefined"!==typeof window?window:this,function(a,b){function c(a){var b="length"in a&&a.length,c=C.type(a);return"function"===c||
C.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"===typeof b&&0<b&&b-1 in a}function d(a,b,c){if(C.isFunction(b))return C.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return C.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(Fa.test(b))return C.filter(b,a,c);b=C.filter(b,a)}return C.grep(a,function(a){return 0<=$a.call(b,a)!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function h(a){var b=ec[a]={};C.each(a.match(cb)||[],function(a,
c){b[c]=!0});return b}function k(){Z.removeEventListener("DOMContentLoaded",k,!1);a.removeEventListener("load",k,!1);C.ready()}function l(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=C.expando+l.uid++}function m(a,b,c){if(void 0===c&&1===a.nodeType)if(c="data-"+b.replace(Da,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Xb.test(c)?C.parseJSON(c):c}catch(be){}wa.set(a,b,c)}else c=void 0;
return c}function n(){return!0}function g(){return!1}function v(){try{return Z.activeElement}catch(Aa){}}function z(a,b){return C.nodeName(a,"table")&&C.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function B(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function G(a){var b=pc.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function x(a,b){for(var c=0,d=a.length;c<d;c++)W.set(a[c],
"globalEval",!b||W.get(b[c],"globalEval"))}function D(a,b){var c,d,e,g;if(1===b.nodeType){if(W.hasData(a)&&(g=W.access(a),c=W.set(b,g),g=g.events))for(e in delete c.handle,c.events={},g)for(c=0,d=g[e].length;c<d;c++)C.event.add(b,e,g[e][c]);wa.hasData(a)&&(a=wa.access(a),a=C.extend({},a),wa.set(b,a))}}function E(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&C.nodeName(a,b)?C.merge([a],c):c}function F(b,c){var d;
b=C(c.createElement(b)).appendTo(c.body);c=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(b[0]))?d.display:C.css(b[0],"display");b.detach();return c}function J(a){var b=Z,c=sb[a];c||(c=F(a,b),"none"!==c&&c||(xd=(xd||C("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=xd[0].contentDocument,b.write(),b.close(),c=F(a,b),xd.detach()),sb[a]=c);return c}function L(a,b,c){var d,e,g=a.style;(c=c||bd(a))&&(e=c.getPropertyValue(b)||c[b]);c&&(""!==e||C.contains(a.ownerDocument,
a)||(e=C.style(a,b)),Ib.test(e)&&Bd.test(b)&&(a=g.width,b=g.minWidth,d=g.maxWidth,g.minWidth=g.maxWidth=g.width=e,e=c.width,g.width=a,g.minWidth=b,g.maxWidth=d));return void 0!==e?e+"":e}function I(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function K(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Cc.length;e--;)if(b=Cc[e]+c,b in a)return b;return d}function N(a,b,c){return(a=Qc.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):
b}function P(a,b,c,d,e){b=c===(d?"border":"content")?4:"width"===b?1:0;for(var g=0;4>b;b+=2)"margin"===c&&(g+=C.css(a,c+uc[b],!0,e)),d?("content"===c&&(g-=C.css(a,"padding"+uc[b],!0,e)),"margin"!==c&&(g-=C.css(a,"border"+uc[b]+"Width",!0,e))):(g+=C.css(a,"padding"+uc[b],!0,e),"padding"!==c&&(g+=C.css(a,"border"+uc[b]+"Width",!0,e)));return g}function Y(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,g=bd(a),h="border-box"===C.css(a,"boxSizing",!1,g);if(0>=e||null==e){e=L(a,b,g);if(0>e||
null==e)e=a.style[b];if(Ib.test(e))return e;d=h&&(ea.boxSizingReliable()||e===a.style[b]);e=parseFloat(e)||0}return e+P(a,b,c||(h?"border":"content"),d,g)+"px"}function M(a,b){for(var c,d,e,g=[],h=0,f=a.length;h<f;h++)d=a[h],d.style&&(g[h]=W.get(d,"olddisplay"),c=d.style.display,b?(g[h]||"none"!==c||(d.style.display=""),""===d.style.display&&hc(d)&&(g[h]=W.access(d,"olddisplay",J(d.nodeName)))):(e=hc(d),"none"===c&&e||W.set(d,"olddisplay",e?c:C.css(d,"display"))));for(h=0;h<f;h++)d=a[h],!d.style||
b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?g[h]||"":"none");return a}function O(a,b,c,d,e){return new O.prototype.init(a,b,c,d,e)}function Q(){setTimeout(function(){Cb=void 0});return Cb=C.now()}function U(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=uc[d],e["margin"+c]=e["padding"+c]=a;b&&(e.opacity=e.width=a);return e}function R(a,b,c){for(var d,e=(Ac[b]||[]).concat(Ac["*"]),g=0,h=e.length;g<h;g++)if(d=e[g].call(c,b,a))return d}function ba(a,b){var c,d,e,g,h;for(c in a)if(d=
C.camelCase(c),e=b[d],g=a[c],C.isArray(g)&&(e=g[1],g=a[c]=g[0]),c!==d&&(a[d]=g,delete a[c]),(h=C.cssHooks[d])&&"expand"in h)for(c in g=h.expand(g),delete a[d],g)c in a||(a[c]=g[c],b[c]=e);else b[d]=e}function T(a,b,c){var d,e=0,g=Ob.length,h=C.Deferred().always(function(){delete f.elem}),f=function(){if(d)return!1;for(var b=Cb||Q(),b=Math.max(0,k.startTime+k.duration-b),c=1-(b/k.duration||0),e=0,g=k.tweens.length;e<g;e++)k.tweens[e].run(c);h.notifyWith(a,[k,c,b]);if(1>c&&g)return b;h.resolveWith(a,
[k]);return!1},k=h.promise({elem:a,props:C.extend({},b),opts:C.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Cb||Q(),duration:c.duration,tweens:[],createTween:function(b,c){b=C.Tween(a,k.opts,b,c,k.opts.specialEasing[b]||k.opts.easing);k.tweens.push(b);return b},stop:function(b){var c=0,e=b?k.tweens.length:0;if(d)return this;for(d=!0;c<e;c++)k.tweens[c].run(1);b?h.resolveWith(a,[k,b]):h.rejectWith(a,[k,b]);return this}});c=k.props;for(ba(c,k.opts.specialEasing);e<
g;e++)if(b=Ob[e].call(k,a,c,k.opts))return b;C.map(c,R,k);C.isFunction(k.opts.start)&&k.opts.start.call(a,k);C.fx.timer(C.extend(f,{elem:a,anim:k,queue:k.opts.queue}));return k.progress(k.opts.progress).done(k.opts.done,k.opts.complete).fail(k.opts.fail).always(k.opts.always)}function ca(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var d=0,e=b.toLowerCase().match(cb)||[];if(C.isFunction(c))for(;b=e[d++];)"+"===b[0]?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(c)):(a[b]=a[b]||[]).push(c)}}
function ha(a,b,c,d){function e(f){var k;g[f]=!0;C.each(a[f]||[],function(a,f){a=f(b,c,d);if("string"===typeof a&&!h&&!g[a])return b.dataTypes.unshift(a),e(a),!1;if(h)return!(k=a)});return k}var g={},h=a===zc;return e(b.dataTypes[0])||!g["*"]&&e("*")}function X(a,b){var c,d,e=C.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);d&&C.extend(!0,a,d);return a}function aa(a,b,c,d){var e;if(C.isArray(b))C.each(b,function(b,e){c||Xf.test(a)?d(a,e):aa(a+"["+("object"===typeof e?
b:"")+"]",e,c,d)});else if(c||"object"!==C.type(b))d(a,b);else for(e in b)aa(a+"["+e+"]",b[e],c,d)}function ga(a){return C.isWindow(a)?a:9===a.nodeType&&a.defaultView}var ka=[],ra=ka.slice,Ea=ka.concat,ua=ka.push,$a=ka.indexOf,La={},pa=La.toString,fa=La.hasOwnProperty,ea={},Z=a.document,C=function(a,b){return new C.fn.init(a,b)},va=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,za=/^-ms-/,Ma=/-([\da-z])/gi,Ra=function(a,b){return b.toUpperCase()};C.fn=C.prototype={jquery:"2.1.4",constructor:C,selector:"",length:0,
toArray:function(){return ra.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:ra.call(this)},pushStack:function(a){a=C.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a,b){return C.each(this,a,b)},map:function(a){return this.pushStack(C.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ra.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=
this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:ua,sort:ka.sort,splice:ka.splice};C.extend=C.fn.extend=function(){var a,b,c,d,e,g=arguments[0]||{},h=1,f=arguments.length,k=!1;"boolean"===typeof g&&(k=g,g=arguments[h]||{},h++);"object"===typeof g||C.isFunction(g)||(g={});h===f&&(g=this,h--);for(;h<f;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(k&&d&&(C.isPlainObject(d)||(e=C.isArray(d)))?
(e?(e=!1,c=c&&C.isArray(c)?c:[]):c=c&&C.isPlainObject(c)?c:{},g[b]=C.extend(k,c,d)):void 0!==d&&(g[b]=d));return g};C.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===C.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!C.isArray(a)&&0<=a-parseFloat(a)+1},isPlainObject:function(a){return"object"!==C.type(a)||a.nodeType||
C.isWindow(a)||a.constructor&&!fa.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?La[pa.call(a)]||"object":typeof a},globalEval:function(a){var b;b=eval;if(a=C.trim(a))1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):b(a)},camelCase:function(a){return a.replace(za,"ms-").replace(Ma,Ra)},nodeName:function(a,
b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,g=0,h=a.length;e=c(a);if(d)if(e)for(;g<h&&(e=b.apply(a[g],d),!1!==e);g++);else for(g in a){if(e=b.apply(a[g],d),!1===e)break}else if(e)for(;g<h&&(e=b.call(a[g],g,a[g]),!1!==e);g++);else for(g in a)if(e=b.call(a[g],g,a[g]),!1===e)break;return a},trim:function(a){return null==a?"":(a+"").replace(va,"")},makeArray:function(a,b){b=b||[];null!=a&&(c(Object(a))?C.merge(b,"string"===typeof a?[a]:a):ua.call(b,a));
return b},inArray:function(a,b,c){return null==b?-1:$a.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];a.length=e;return a},grep:function(a,b,c){for(var d=[],e=0,g=a.length,h=!c;e<g;e++)c=!b(a[e],e),c!==h&&d.push(a[e]);return d},map:function(a,b,d){var e,g=0,h=a.length,f=[];if(c(a))for(;g<h;g++)e=b(a[g],g,d),null!=e&&f.push(e);else for(g in a)e=b(a[g],g,d),null!=e&&f.push(e);return Ea.apply([],f)},guid:1,proxy:function(a,b){var c,d;"string"===typeof b&&(c=a[b],
b=a,a=c);if(C.isFunction(a))return d=ra.call(arguments,2),c=function(){return a.apply(b||this,d.concat(ra.call(arguments)))},c.guid=a.guid=a.guid||C.guid++,c},now:Date.now,support:ea});C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){La["[object "+b+"]"]=b.toLowerCase()});var Ta=function(a){function b(a,b,c,d){var e,g,h,f,k;(b?b.ownerDocument||b:L)!==F&&J(b);b=b||F;c=c||[];f=b.nodeType;if("string"!==typeof a||!a||1!==f&&9!==f&&11!==f)return c;if(!d&&
Q){if(11!==f&&(e=wa.exec(a)))if(h=e[1])if(9===f)if((g=b.getElementById(h))&&g.parentNode){if(g.id===h)return c.push(g),c}else return c;else{if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&P(b,g)&&g.id===h)return c.push(g),c}else{if(e[2])return ka.apply(c,b.getElementsByTagName(a)),c;if((h=e[3])&&D.getElementsByClassName)return ka.apply(c,b.getElementsByClassName(h)),c}if(D.qsa&&(!N||!N.test(a))){g=e=K;h=b;k=1!==f&&a;if(1===f&&"object"!==b.nodeName.toLowerCase()){f=A(a);(e=b.getAttribute("id"))?
g=e.replace(La,"\\$&"):b.setAttribute("id",g);g="[id='"+g+"'] ";for(h=f.length;h--;)f[h]=g+q(f[h]);h=ec.test(a)&&m(b.parentNode)||b;k=f.join(",")}if(k)try{return ka.apply(c,h.querySelectorAll(k)),c}catch(ef){}finally{e||b.removeAttribute("id")}}}return O(a.replace(W,"$1"),b,c,d)}function c(){function a(c,d){b.push(c+" ")>x.cacheLength&&delete a[b.shift()];return a[c+" "]=d}var b=[];return a}function d(a){a[K]=!0;return a}function e(a){var b=F.createElement("div");try{return!!a(b)}catch(pe){return!1}finally{b.parentNode&&
b.parentNode.removeChild(b)}}function g(a,b){var c=a.split("|");for(a=a.length;a--;)x.attrHandle[c[a]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function f(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function k(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function l(a){return d(function(b){b=
+b;return d(function(c,d){for(var e,g=a([],c.length,b),h=g.length;h--;)c[e=g[h]]&&(c[e]=!(d[e]=c[e]))})})}function m(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function n(){}function q(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function p(a,b,c){var d=b.dir,e=c&&"parentNode"===d,g=ba++;return b.first?function(b,c,g){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,g)}:function(b,c,h){var f,k,l=[U,g];if(h)for(;b=b[d];){if((1===b.nodeType||e)&&a(b,c,h))return!0}else for(;b=
b[d];)if(1===b.nodeType||e){k=b[K]||(b[K]={});if((f=k[d])&&f[0]===U&&f[1]===g)return l[2]=f[2];k[d]=l;if(l[2]=a(b,c,h))return!0}}}function u(a){return 1<a.length?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function r(a,b,c,d,e){for(var g,h=[],f=0,k=a.length,l=null!=b;f<k;f++)if(g=a[f])if(!c||c(g,d,e))h.push(g),l&&b.push(f);return h}function t(a,c,e,g,h,f){g&&!g[K]&&(g=t(g));h&&!h[K]&&(h=t(h,f));return d(function(d,f,k,l){var m,n,q=[],p=[],u=f.length,t;if(!(t=d)){t=
c||"*";for(var w=k.nodeType?[k]:k,y=[],v=0,D=w.length;v<D;v++)b(t,w[v],y);t=y}t=!a||!d&&c?t:r(t,q,a,k,l);w=e?h||(d?a:u||g)?[]:f:t;e&&e(t,w,k,l);if(g)for(m=r(w,p),g(m,[],k,l),k=m.length;k--;)if(n=m[k])w[p[k]]=!(t[p[k]]=n);if(d){if(h||a){if(h){m=[];for(k=w.length;k--;)(n=w[k])&&m.push(t[k]=n);h(null,w=[],m,l)}for(k=w.length;k--;)(n=w[k])&&-1<(m=h?Ha(d,n):q[k])&&(d[m]=!(f[m]=n))}}else w=r(w===f?w.splice(u,w.length):w),h?h(null,f,w,l):ka.apply(f,w)})}function w(a){var b,c,d,e=a.length,g=x.relative[a[0].type];
c=g||x.relative[" "];for(var h=g?1:0,f=p(function(a){return a===b},c,!0),k=p(function(a){return-1<Ha(b,a)},c,!0),l=[function(a,c,d){a=!g&&(d||c!==E)||((b=c).nodeType?f(a,c,d):k(a,c,d));b=null;return a}];h<e;h++)if(c=x.relative[a[h].type])l=[p(u(l),c)];else{c=x.filter[a[h].type].apply(null,a[h].matches);if(c[K]){for(d=++h;d<e&&!x.relative[a[d].type];d++);return t(1<h&&u(l),1<h&&q(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(W,"$1"),c,h<d&&w(a.slice(h,d)),d<e&&w(a=a.slice(d)),d<
e&&q(a))}l.push(c)}return u(l)}function y(a,c){var e=0<c.length,g=0<a.length,h=function(d,h,f,k,l){var m,n,q,p=0,u="0",t=d&&[],w=[],y=E,v=d||g&&x.find.TAG("*",l),D=U+=null==y?1:Math.random()||.1,B=v.length;for(l&&(E=h!==F&&h);u!==B&&null!=(m=v[u]);u++){if(g&&m){for(n=0;q=a[n++];)if(q(m,h,f)){k.push(m);break}l&&(U=D)}e&&((m=!q&&m)&&p--,d&&t.push(m))}p+=u;if(e&&u!==p){for(n=0;q=c[n++];)q(t,w,h,f);if(d){if(0<p)for(;u--;)t[u]||w[u]||(w[u]=ha.call(k));w=r(w)}ka.apply(k,w);l&&!d&&0<w.length&&1<p+c.length&&
b.uniqueSort(k)}l&&(U=D,E=y);return t};return e?d(h):h}var v,D,x,B,z,A,G,O,E,Aa,M,J,F,R,Q,N,C,I,P,K="sizzle"+1*new Date,L=a.document,U=0,ba=0,T=c(),ib=c(),ca=c(),Y=function(a,b){a===b&&(M=!0);return 0},ga={}.hasOwnProperty,V=[],ha=V.pop,X=V.push,ka=V.push,aa=V.slice,Ha=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},na="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),ra="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+
na+"))|)[\\x20\\t\\r\\n\\f]*\\]",Fa=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ra+")*)|.*)\\)|)",oa=/[\x20\t\r\n\f]+/g,W=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Ea=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ua=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,cb=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,$a=new RegExp(Fa),tb=new RegExp("^"+na+"$"),fa={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,
TAG:new RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:new RegExp("^"+ra),PSEUDO:new RegExp("^"+Fa),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},
pa=/^(?:input|select|textarea|button)$/i,ea=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,wa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ec=/[+~]/,La=/'|\\/g,va=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,Da=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},za=function(){J()};try{ka.apply(V=aa.call(L.childNodes),L.childNodes),V[L.childNodes.length].nodeType}catch(ja){ka={apply:V.length?function(a,b){X.apply(a,aa.call(b))}:function(a,
b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}D=b.support={};z=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};J=b.setDocument=function(a){var b=a?a.ownerDocument||a:L;if(b===F||9!==b.nodeType||!b.documentElement)return F;F=b;R=b.documentElement;(a=b.defaultView)&&a!==a.top&&(a.addEventListener?a.addEventListener("unload",za,!1):a.attachEvent&&a.attachEvent("onunload",za));Q=!z(b);D.attributes=e(function(a){a.className="i";return!a.getAttribute("className")});
D.getElementsByTagName=e(function(a){a.appendChild(b.createComment(""));return!a.getElementsByTagName("*").length});D.getElementsByClassName=Z.test(b.getElementsByClassName);D.getById=e(function(a){R.appendChild(a).id=K;return!b.getElementsByName||!b.getElementsByName(K).length});D.getById?(x.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&Q)return(a=b.getElementById(a))&&a.parentNode?[a]:[]},x.filter.ID=function(a){var b=a.replace(va,Da);return function(a){return a.getAttribute("id")===
b}}):(delete x.find.ID,x.filter.ID=function(a){var b=a.replace(va,Da);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});x.find.TAG=D.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(D.qsa)return b.querySelectorAll(a)}:function(a,b){var c=[],d=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[d++];)1===a.nodeType&&c.push(a);return c}return b};x.find.CLASS=D.getElementsByClassName&&
function(a,b){if(Q)return b.getElementsByClassName(a)};C=[];N=[];if(D.qsa=Z.test(b.querySelectorAll))e(function(a){R.appendChild(a).innerHTML="<a id='"+K+"'></a><select id='"+K+"-\f]' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||N.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~="+K+"-]").length||N.push("~=");a.querySelectorAll(":checked").length||N.push(":checked");a.querySelectorAll("a#"+K+"+*").length||N.push(".#.+[+~]")}),e(function(a){var c=b.createElement("input");c.setAttribute("type","hidden");a.appendChild(c).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&N.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||N.push(":enabled",":disabled");a.querySelectorAll("*,:x");N.push(",.*:")});(D.matchesSelector=
Z.test(I=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&e(function(a){D.disconnectedMatch=I.call(a,"div");I.call(a,"[s!='']:x");C.push("!=",Fa)});N=N.length&&new RegExp(N.join("|"));C=C.length&&new RegExp(C.join("|"));P=(a=Z.test(R.compareDocumentPosition))||Z.test(R.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!!(b&&1===b.nodeType&&(c.contains?c.contains(b):a.compareDocumentPosition&&a.compareDocumentPosition(b)&
16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};Y=a?function(a,c){if(a===c)return M=!0,0;var d=!a.compareDocumentPosition-!c.compareDocumentPosition;if(d)return d;d=(a.ownerDocument||a)===(c.ownerDocument||c)?a.compareDocumentPosition(c):1;return d&1||!D.sortDetached&&c.compareDocumentPosition(a)===d?a===b||a.ownerDocument===L&&P(L,a)?-1:c===b||c.ownerDocument===L&&P(L,c)?1:Aa?Ha(Aa,a)-Ha(Aa,c):0:d&4?-1:1}:function(a,c){if(a===c)return M=!0,0;var d=0,e=a.parentNode,g=c.parentNode,
f=[a],k=[c];if(!e||!g)return a===b?-1:c===b?1:e?-1:g?1:Aa?Ha(Aa,a)-Ha(Aa,c):0;if(e===g)return h(a,c);for(;a=a.parentNode;)f.unshift(a);for(a=c;a=a.parentNode;)k.unshift(a);for(;f[d]===k[d];)d++;return d?h(f[d],k[d]):f[d]===L?-1:k[d]===L?1:0};return b};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==F&&J(a);c=c.replace(cb,"='$1']");if(!(!D.matchesSelector||!Q||C&&C.test(c)||N&&N.test(c)))try{var d=I.call(a,c);if(d||D.disconnectedMatch||a.document&&
11!==a.document.nodeType)return d}catch(oc){}return 0<b(c,F,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==F&&J(a);return P(a,b)};b.attr=function(a,b){(a.ownerDocument||a)!==F&&J(a);var c=x.attrHandle[b.toLowerCase()],c=c&&ga.call(x.attrHandle,b.toLowerCase())?c(a,b,!Q):void 0;return void 0!==c?c:D.attributes||!Q?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,
c=[],d=0,e=0;M=!D.detectDuplicates;Aa=!D.sortStable&&a.slice(0);a.sort(Y);if(M){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}Aa=null;return a};B=b.getText=function(a){var b,c="",d=0;b=a.nodeType;if(!b)for(;b=a[d++];)c+=B(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=B(a)}else if(3===b||4===b)return a.nodeValue;return c};x=b.selectors={cacheLength:50,createPseudo:d,match:fa,attrHandle:{},find:{},
relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=a[1].replace(va,Da);a[3]=(a[3]||a[4]||a[5]||"").replace(va,Da);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,
c=!a[6]&&a[2];if(fa.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&$a.test(c)&&(b=A(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(va,Da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=T[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),T(a,function(a){return b.test("string"===
typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,c,d){return function(e){e=b.attr(e,a);if(null==e)return"!="===c;if(!c)return!0;e+="";return"="===c?e===d:"!="===c?e!==d:"^="===c?d&&0===e.indexOf(d):"*="===c?d&&-1<e.indexOf(d):"$="===c?d&&e.slice(-d.length)===d:"~="===c?-1<(" "+e.replace(oa," ")+" ").indexOf(d):"|="===c?e===d||e.slice(0,d.length+1)===d+"-":!1}},CHILD:function(a,b,c,d,e){var g="nth"!==a.slice(0,3),h="last"!==a.slice(-4),
f="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,k){var l,m,n,q,p;c=g!==h?"nextSibling":"previousSibling";var u=b.parentNode,t=f&&b.nodeName.toLowerCase();k=!k&&!f;if(u){if(g){for(;c;){for(m=b;m=m[c];)if(f?m.nodeName.toLowerCase()===t:1===m.nodeType)return!1;p=c="only"===a&&!p&&"nextSibling"}return!0}p=[h?u.firstChild:u.lastChild];if(h&&k)for(k=u[K]||(u[K]={}),l=k[a]||[],q=l[0]===U&&l[1],n=l[0]===U&&l[2],m=q&&u.childNodes[q];m=++q&&m&&m[c]||(n=q=0)||p.pop();){if(1===
m.nodeType&&++n&&m===b){k[a]=[U,q,n];break}}else if(k&&(l=(b[K]||(b[K]={}))[a])&&l[0]===U)n=l[1];else for(;(m=++q&&m&&m[c]||(n=q=0)||p.pop())&&((f?m.nodeName.toLowerCase()!==t:1!==m.nodeType)||!++n||(k&&((m[K]||(m[K]={}))[a]=[U,n]),m!==b)););n-=e;return n===d||0===n%d&&0<=n/d}}},PSEUDO:function(a,c){var e,g=x.pseudos[a]||x.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return g[K]?g(c):1<g.length?(e=[a,a,"",c],x.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,
e=g(a,c),h=e.length;h--;)d=Ha(a,e[h]),a[d]=!(b[d]=e[h])}):function(a){return g(a,0,e)}):g}},pseudos:{not:d(function(a){var b=[],c=[],e=G(a.replace(W,"$1"));return e[K]?d(function(a,b,c,d){d=e(a,null,d,[]);for(var g=a.length;g--;)if(c=d[g])a[g]=!(b[g]=c)}):function(a,d,g){b[0]=a;e(b,null,g,c);b[0]=null;return!c.pop()}}),has:d(function(a){return function(c){return 0<b(a,c).length}}),contains:d(function(a){a=a.replace(va,Da);return function(b){return-1<(b.textContent||b.innerText||B(b)).indexOf(a)}}),
lang:d(function(a){tb.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(va,Da).toLowerCase();return function(b){var c;do if(c=Q?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===R},focus:function(a){return a===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(a.type||a.href||
~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!x.pseudos.empty(a)},header:function(a){return ea.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},
button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:l(function(){return[0]}),last:l(function(a,b){return[b-1]}),eq:l(function(a,b,c){return[0>c?c+b:c]}),even:l(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:l(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:l(function(a,b,c){for(b=
0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:l(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};x.pseudos.nth=x.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[v]=f(v);for(v in{submit:!0,reset:!0})x.pseudos[v]=k(v);n.prototype=x.filters=x.pseudos;x.setFilters=new n;A=b.tokenize=function(a,c){var d,e,g,h,f,k,l;if(f=ib[a+" "])return c?0:f.slice(0);f=a;k=[];for(l=x.preFilter;f;){if(!d||(e=Ea.exec(f)))e&&(f=f.slice(e[0].length)||f),k.push(g=[]);d=!1;if(e=ua.exec(f))d=
e.shift(),g.push({value:d,type:e[0].replace(W," ")}),f=f.slice(d.length);for(h in x.filter)!(e=fa[h].exec(f))||l[h]&&!(e=l[h](e))||(d=e.shift(),g.push({value:d,type:h,matches:e}),f=f.slice(d.length));if(!d)break}return c?f.length:f?b.error(a):ib(a,k).slice(0)};G=b.compile=function(a,b){var c,d=[],e=[],g=ca[a+" "];if(!g){b||(b=A(a));for(c=b.length;c--;)g=w(b[c]),g[K]?d.push(g):e.push(g);g=ca(a,y(e,d));g.selector=a}return g};O=b.select=function(a,b,c,d){var e,g,h,f,k="function"===typeof a&&a,l=!d&&
A(a=k.selector||a);c=c||[];if(1===l.length){g=l[0]=l[0].slice(0);if(2<g.length&&"ID"===(h=g[0]).type&&D.getById&&9===b.nodeType&&Q&&x.relative[g[1].type]){b=(x.find.ID(h.matches[0].replace(va,Da),b)||[])[0];if(!b)return c;k&&(b=b.parentNode);a=a.slice(g.shift().value.length)}for(e=fa.needsContext.test(a)?0:g.length;e--;){h=g[e];if(x.relative[f=h.type])break;if(f=x.find[f])if(d=f(h.matches[0].replace(va,Da),ec.test(g[0].type)&&m(b.parentNode)||b)){g.splice(e,1);a=d.length&&q(g);if(!a)return ka.apply(c,
d),c;break}}}(k||G(a,l))(d,b,!Q,c,ec.test(a)&&m(b.parentNode)||b);return c};D.sortStable=K.split("").sort(Y).join("")===K;D.detectDuplicates=!!M;J();D.sortDetached=e(function(a){return a.compareDocumentPosition(F.createElement("div"))&1});e(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});D.attributes&&e(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value",
"");return""===a.firstChild.getAttribute("value")})||g("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});e(function(a){return null==a.getAttribute("disabled")})||g("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null});return b}(a);C.find=Ta;C.expr=Ta.selectors;C.expr[":"]=C.expr.pseudos;
C.unique=Ta.uniqueSort;C.text=Ta.getText;C.isXMLDoc=Ta.isXML;C.contains=Ta.contains;var Ha=C.expr.match.needsContext,na=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Fa=/^.[^:#\[\.,]*$/;C.filter=function(a,b,c){var d=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===d.nodeType?C.find.matchesSelector(d,a)?[d]:[]:C.find.matches(a,C.grep(b,function(a){return 1===a.nodeType}))};C.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!==typeof a)return this.pushStack(C(a).filter(function(){for(b=0;b<
c;b++)if(C.contains(e[b],this))return!0}));for(b=0;b<c;b++)C.find(a,e[b],d);d=this.pushStack(1<c?C.unique(d):d);d.selector=this.selector?this.selector+" "+a:a;return d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"===typeof a&&Ha.test(a)?C(a):a||[],!1).length}});var oa,V=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(C.fn.init=function(a,b){var c;if(!a)return this;if("string"===typeof a){c="<"===
a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:V.exec(a);if(!c||!c[1]&&b)return!b||b.jquery?(b||oa).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof C?b[0]:b,C.merge(this,C.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),na.test(c[1])&&C.isPlainObject(b))for(c in b)if(C.isFunction(this[c]))this[c](b[c]);else this.attr(c,b[c])}else(b=Z.getElementById(c[2]))&&b.parentNode&&(this.length=1,this[0]=b),this.context=Z,this.selector=a;return this}if(a.nodeType)return this.context=
this[0]=a,this.length=1,this;if(C.isFunction(a))return"undefined"!==typeof oa.ready?oa.ready(a):a(C);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return C.makeArray(a,this)}).prototype=C.fn;oa=C(Z);var ib=/^(?:parents|prev(?:Until|All))/,tb={children:!0,contents:!0,next:!0,prev:!0};C.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&C(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===
a.nodeType&&a!==b&&c.push(a);return c}});C.fn.extend({has:function(a){var b=C(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(C.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,g=[],h=Ha.test(a)||"string"!==typeof a?C(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(h?-1<h.index(c):1===c.nodeType&&C.find.matchesSelector(c,a))){g.push(c);break}return this.pushStack(1<g.length?C.unique(g):g)},index:function(a){return a?
"string"===typeof a?$a.call(C(a),this[0]):$a.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(C.unique(C.merge(this.get(),C(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});C.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return C.dir(a,"parentNode")},parentsUntil:function(a,b,c){return C.dir(a,"parentNode",c)},next:function(a){return e(a,
"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return C.dir(a,"nextSibling")},prevAll:function(a){return C.dir(a,"previousSibling")},nextUntil:function(a,b,c){return C.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return C.dir(a,"previousSibling",c)},siblings:function(a){return C.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return C.sibling(a.firstChild)},contents:function(a){return a.contentDocument||C.merge([],a.childNodes)}},function(a,
b){C.fn[a]=function(c,d){var e=C.map(this,b,c);"Until"!==a.slice(-5)&&(d=c);d&&"string"===typeof d&&(e=C.filter(d,e));1<this.length&&(tb[a]||C.unique(e),ib.test(a)&&e.reverse());return this.pushStack(e)}});var cb=/\S+/g,ec={};C.Callbacks=function(a){a="string"===typeof a?ec[a]||h(a):C.extend({},a);var b,c,d,e,g,f,k=[],l=!a.once&&[],m=function(h){b=a.memory&&h;c=!0;f=e||0;e=0;g=k.length;for(d=!0;k&&f<g;f++)if(!1===k[f].apply(h[0],h[1])&&a.stopOnFalse){b=!1;break}d=!1;k&&(l?l.length&&m(l.shift()):b?
k=[]:n.disable())},n={add:function(){if(k){var c=k.length;(function Gd(b){C.each(b,function(b,c){b=C.type(c);"function"===b?a.unique&&n.has(c)||k.push(c):c&&c.length&&"string"!==b&&Gd(c)})})(arguments);d?g=k.length:b&&(e=c,m(b))}return this},remove:function(){k&&C.each(arguments,function(a,b){for(var c;-1<(c=C.inArray(b,k,c));)k.splice(c,1),d&&(c<=g&&g--,c<=f&&f--)});return this},has:function(a){return a?-1<C.inArray(a,k):!(!k||!k.length)},empty:function(){k=[];g=0;return this},disable:function(){k=
l=b=void 0;return this},disabled:function(){return!k},lock:function(){l=void 0;b||n.disable();return this},locked:function(){return!l},fireWith:function(a,b){!k||c&&!l||(b=b||[],b=[a,b.slice?b.slice():b],d?l.push(b):m(b));return this},fire:function(){n.fireWith(this,arguments);return this},fired:function(){return!!c}};return n};C.extend({Deferred:function(a){var b=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",
C.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return C.Deferred(function(c){C.each(b,function(b,g){var h=C.isFunction(a[b])&&a[b];e[g[1]](function(){var a=h&&h.apply(this,arguments);if(a&&C.isFunction(a.promise))a.promise().done(c.resolve).fail(c.reject).progress(c.notify);else c[g[0]+"With"](this===d?c.promise():this,h?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=
a?C.extend(a,d):d}},e={};d.pipe=d.then;C.each(b,function(a,g){var h=g[2],f=g[3];d[g[1]]=h.add;f&&h.add(function(){c=f},b[a^1][2].disable,b[2][2].lock);e[g[0]]=function(){e[g[0]+"With"](this===e?d:this,arguments);return this};e[g[0]+"With"]=h.fireWith});d.promise(e);a&&a.call(e,e);return e},when:function(a){var b=0,c=ra.call(arguments),d=c.length,e=1!==d||a&&C.isFunction(a.promise)?d:0,g=1===e?a:C.Deferred(),h=function(a,b,c){return function(d){b[a]=this;c[a]=1<arguments.length?ra.call(arguments):
d;c===f?g.notifyWith(b,c):--e||g.resolveWith(b,c)}},f,k,l;if(1<d)for(f=Array(d),k=Array(d),l=Array(d);b<d;b++)c[b]&&C.isFunction(c[b].promise)?c[b].promise().done(h(b,l,c)).fail(g.reject).progress(h(b,k,f)):--e;e||g.resolveWith(l,c);return g.promise()}});var fc;C.fn.ready=function(a){C.ready.promise().done(a);return this};C.extend({isReady:!1,readyWait:1,holdReady:function(a){a?C.readyWait++:C.ready(!0)},ready:function(a){(!0===a?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==a&&0<--C.readyWait||(fc.resolveWith(Z,
[C]),C.fn.triggerHandler&&(C(Z).triggerHandler("ready"),C(Z).off("ready"))))}});C.ready.promise=function(b){fc||(fc=C.Deferred(),"complete"===Z.readyState?setTimeout(C.ready):(Z.addEventListener("DOMContentLoaded",k,!1),a.addEventListener("load",k,!1)));return fc.promise(b)};C.ready.promise();var ob=C.access=function(a,b,c,d,e,g,h){var f=0,k=a.length,l=null==c;if("object"===C.type(c))for(f in e=!0,c)C.access(a,b,f,c[f],!0,g,h);else if(void 0!==d&&(e=!0,C.isFunction(d)||(h=!0),l&&(h?(b.call(a,d),b=
null):(l=b,b=function(a,b,c){return l.call(C(a),c)})),b))for(;f<k;f++)b(a[f],c,h?d:d.call(a[f],f,b(a[f],c)));return e?a:l?b.call(a):k?b(a[0],c):g};C.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};l.uid=1;l.accepts=C.acceptData;l.prototype={key:function(a){if(!l.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=l.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(be){b[this.expando]=c,C.extend(a,b)}}this.cache[c]||(this.cache[c]={});return c},
set:function(a,b,c){var d;a=this.key(a);var e=this.cache[a];if("string"===typeof b)e[b]=c;else if(C.isEmptyObject(e))C.extend(this.cache[a],b);else for(d in b)e[d]=b[d];return e},get:function(a,b){a=this.cache[this.key(a)];return void 0===b?a:a[b]},access:function(a,b,c){if(void 0===b||b&&"string"===typeof b&&void 0===c)return c=this.get(a,b),void 0!==c?c:this.get(a,C.camelCase(b));this.set(a,b,c);return void 0!==c?c:b},remove:function(a,b){var c;c=this.key(a);a=this.cache[c];if(void 0===b)this.cache[c]=
{};else for(C.isArray(b)?c=b.concat(b.map(C.camelCase)):(c=C.camelCase(b),c=b in a?[b,c]:c in a?[c]:c.match(cb)||[]),b=c.length;b--;)delete a[c[b]]},hasData:function(a){return!C.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var W=new l,wa=new l,Xb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Da=/([A-Z])/g;C.extend({hasData:function(a){return wa.hasData(a)||W.hasData(a)},data:function(a,b,c){return wa.access(a,b,c)},removeData:function(a,
b){wa.remove(a,b)},_data:function(a,b,c){return W.access(a,b,c)},_removeData:function(a,b){W.remove(a,b)}});C.fn.extend({data:function(a,b){var c,d,e,g=this[0],h=g&&g.attributes;if(void 0===a){if(this.length&&(e=wa.get(g),1===g.nodeType&&!W.get(g,"hasDataAttrs"))){for(c=h.length;c--;)h[c]&&(d=h[c].name,0===d.indexOf("data-")&&(d=C.camelCase(d.slice(5)),m(g,d,e[d])));W.set(g,"hasDataAttrs",!0)}return e}return"object"===typeof a?this.each(function(){wa.set(this,a)}):ob(this,function(b){var c,d=C.camelCase(a);
if(g&&void 0===b){c=wa.get(g,a);if(void 0!==c)return c;c=wa.get(g,d);if(void 0!==c)return c;c=m(g,d,void 0);if(void 0!==c)return c}else this.each(function(){var c=wa.get(this,d);wa.set(this,d,b);-1!==a.indexOf("-")&&void 0!==c&&wa.set(this,a,b)})},null,b,1<arguments.length,null,!0)},removeData:function(a){return this.each(function(){wa.remove(this,a)})}});C.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=W.get(a,b),c&&(!d||C.isArray(c)?d=W.access(a,b,C.makeArray(c)):d.push(c)),
d||[]},dequeue:function(a,b){b=b||"fx";var c=C.queue(a,b),d=c.length,e=c.shift(),g=C._queueHooks(a,b),h=function(){C.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--);e&&("fx"===b&&c.unshift("inprogress"),delete g.stop,e.call(a,h,g));!d&&g&&g.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return W.get(a,c)||W.access(a,c,{empty:C.Callbacks("once memory").add(function(){W.remove(a,[b+"queue",c])})})}});C.fn.extend({queue:function(a,b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<
c?C.queue(this[0],a):void 0===b?this:this.each(function(){var c=C.queue(this,a,b);C._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&C.dequeue(this,a)})},dequeue:function(a){return this.each(function(){C.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=C.Deferred(),g=this,h=this.length,f=function(){--d||e.resolveWith(g,[g])};"string"!==typeof a&&(b=a,a=void 0);for(a=a||"fx";h--;)(c=W.get(g[h],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(f));
f();return e.promise(b)}});var pb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,uc=["Top","Right","Bottom","Left"],hc=function(a,b){a=b||a;return"none"===C.css(a,"display")||!C.contains(a.ownerDocument,a)},tc=/^(?:checkbox|radio)$/i;(function(){var a=Z.createDocumentFragment().appendChild(Z.createElement("div")),b=Z.createElement("input");b.setAttribute("type","radio");b.setAttribute("checked","checked");b.setAttribute("name","t");a.appendChild(b);ea.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;
a.innerHTML="<textarea>x</textarea>";ea.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue})();ea.focusinBubbles="onfocusin"in a;var wf=/^key/,Vd=/^(?:mouse|pointer|contextmenu)|click/,Bb=/^(?:focusinfocus|focusoutblur)$/,ub=/^([^.]*)(?:\.(.+)|)$/;C.event={global:{},add:function(a,b,c,d,e){var g,h,f,k,l,m,n,q,p;if(l=W.get(a))for(c.handler&&(g=c,c=g.handler,e=g.selector),c.guid||(c.guid=C.guid++),(k=l.events)||(k=l.events={}),(h=l.handle)||(h=l.handle=function(b){return"undefined"!==typeof C&&
C.event.triggered!==b.type?C.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(cb)||[""],l=b.length;l--;)f=ub.exec(b[l])||[],q=m=f[1],p=(f[2]||"").split(".").sort(),q&&(f=C.event.special[q]||{},q=(e?f.delegateType:f.bindType)||q,f=C.event.special[q]||{},m=C.extend({type:q,origType:m,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&C.expr.match.needsContext.test(e),namespace:p.join(".")},g),(n=k[q])||(n=k[q]=[],n.delegateCount=0,f.setup&&!1!==f.setup.call(a,d,p,h)||a.addEventListener&&
a.addEventListener(q,h,!1)),f.add&&(f.add.call(a,m),m.handler.guid||(m.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,m):n.push(m),C.event.global[q]=!0)},remove:function(a,b,c,d,e){var g,h,f,k,l,m,n,q,p,u,t,r=W.hasData(a)&&W.get(a);if(r&&(k=r.events)){b=(b||"").match(cb)||[""];for(l=b.length;l--;)if(f=ub.exec(b[l])||[],p=t=f[1],u=(f[2]||"").split(".").sort(),p){n=C.event.special[p]||{};p=(d?n.delegateType:n.bindType)||p;q=k[p]||[];f=f[2]&&new RegExp("(^|\\.)"+u.join("\\.(?:.*\\.|)")+"(\\.|$)");
for(h=g=q.length;g--;)m=q[g],!e&&t!==m.origType||c&&c.guid!==m.guid||f&&!f.test(m.namespace)||d&&d!==m.selector&&("**"!==d||!m.selector)||(q.splice(g,1),m.selector&&q.delegateCount--,n.remove&&n.remove.call(a,m));h&&!q.length&&(n.teardown&&!1!==n.teardown.call(a,u,r.handle)||C.removeEvent(a,p,r.handle),delete k[p])}else for(p in k)C.event.remove(a,p+b[l],c,d,!0);C.isEmptyObject(k)&&(delete r.handle,W.remove(a,"events"))}},trigger:function(b,c,d,e){var g,h,f,k,l,m,n=[d||Z],q=fa.call(b,"type")?b.type:
b;m=fa.call(b,"namespace")?b.namespace.split("."):[];h=g=d=d||Z;if(3!==d.nodeType&&8!==d.nodeType&&!Bb.test(q+C.event.triggered)&&(0<=q.indexOf(".")&&(m=q.split("."),q=m.shift(),m.sort()),k=0>q.indexOf(":")&&"on"+q,b=b[C.expando]?b:new C.Event(q,"object"===typeof b&&b),b.isTrigger=e?2:3,b.namespace=m.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:C.makeArray(c,[b]),m=C.event.special[q]||{},e||!m.trigger||
!1!==m.trigger.apply(d,c))){if(!e&&!m.noBubble&&!C.isWindow(d)){f=m.delegateType||q;Bb.test(f+q)||(h=h.parentNode);for(;h;h=h.parentNode)n.push(h),g=h;g===(d.ownerDocument||Z)&&n.push(g.defaultView||g.parentWindow||a)}for(g=0;(h=n[g++])&&!b.isPropagationStopped();)b.type=1<g?f:m.bindType||q,(l=(W.get(h,"events")||{})[b.type]&&W.get(h,"handle"))&&l.apply(h,c),(l=k&&h[k])&&l.apply&&C.acceptData(h)&&(b.result=l.apply(h,c),!1===b.result&&b.preventDefault());b.type=q;e||b.isDefaultPrevented()||m._default&&
!1!==m._default.apply(n.pop(),c)||!C.acceptData(d)||!k||!C.isFunction(d[q])||C.isWindow(d)||((g=d[k])&&(d[k]=null),C.event.triggered=q,d[q](),C.event.triggered=void 0,g&&(d[k]=g));return b.result}},dispatch:function(a){a=C.event.fix(a);var b,c,d,e,g,h=ra.call(arguments);b=(W.get(this,"events")||{})[a.type]||[];var f=C.event.special[a.type]||{};h[0]=a;a.delegateTarget=this;if(!f.preDispatch||!1!==f.preDispatch.call(this,a)){g=C.event.handlers.call(this,a,b);for(b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=
e.elem,c=0;(d=e.handlers[c++])&&!a.isImmediatePropagationStopped();)if(!a.namespace_re||a.namespace_re.test(d.namespace))a.handleObj=d,a.data=d.data,d=((C.event.special[d.origType]||{}).handle||d.handler).apply(e.elem,h),void 0!==d&&!1===(a.result=d)&&(a.preventDefault(),a.stopPropagation());f.postDispatch&&f.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var c,d,e,g,h=[],f=b.delegateCount,k=a.target;if(f&&k.nodeType&&(!a.button||"click"!==a.type))for(;k!==this;k=k.parentNode||
this)if(!0!==k.disabled||"click"!==a.type){d=[];for(c=0;c<f;c++)g=b[c],e=g.selector+" ",void 0===d[e]&&(d[e]=g.needsContext?0<=C(e,this).index(k):C.find(e,this,null,[k]).length),d[e]&&d.push(g);d.length&&h.push({elem:k,handlers:d})}f<b.length&&h.push({elem:this,handlers:b.slice(f)});return h},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,
b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e=b.button;null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,c=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||c&&c.scrollLeft||0)-(d&&d.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||c&&c.scrollTop||0)-(d&&d.clientTop||c&&c.clientTop||
0));a.which||void 0===e||(a.which=e&1?1:e&2?3:e&4?2:0);return a}},fix:function(a){if(a[C.expando])return a;var b,c,d;b=a.type;var e=a,g=this.fixHooks[b];g||(this.fixHooks[b]=g=Vd.test(b)?this.mouseHooks:wf.test(b)?this.keyHooks:{});d=g.props?this.props.concat(g.props):this.props;a=new C.Event(e);for(b=d.length;b--;)c=d[b],a[c]=e[c];a.target||(a.target=Z);3===a.target.nodeType&&(a.target=a.target.parentNode);return g.filter?g.filter(a,e):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==
v()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===v()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&C.nodeName(this,"input"))return this.click(),!1},_default:function(a){return C.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){a=C.extend(new C.Event,c,{type:a,
isSimulated:!0,originalEvent:{}});d?C.event.trigger(a,null,b):C.event.dispatch.call(b,a);a.isDefaultPrevented()&&c.preventDefault()}};C.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)};C.Event=function(a,b){if(!(this instanceof C.Event))return new C.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?n:g):this.type=a;b&&C.extend(this,b);this.timeStamp=a&&a.timeStamp||
C.now();this[C.expando]=!0};C.Event.prototype={isDefaultPrevented:g,isPropagationStopped:g,isImmediatePropagationStopped:g,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=n;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=n;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=n;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();
this.stopPropagation()}};C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){C.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=a.relatedTarget,e=a.handleObj;if(!d||d!==this&&!C.contains(this,d))a.type=e.origType,c=e.handler.apply(this,arguments),a.type=b;return c}}});ea.focusinBubbles||C.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){C.event.simulate(b,a.target,C.event.fix(a),!0)};C.event.special[b]=
{setup:function(){var d=this.ownerDocument||this,e=W.access(d,b);e||d.addEventListener(a,c,!0);W.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=W.access(d,b)-1;e?W.access(d,b,e):(d.removeEventListener(a,c,!0),W.remove(d,b))}}});C.fn.extend({on:function(a,b,c,d,e){var h,f;if("object"===typeof a){"string"!==typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"===typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0));
if(!1===d)d=g;else if(!d)return this;1===e&&(h=d,d=function(a){C().off(a);return h.apply(this,arguments)},d.guid=h.guid||(h.guid=C.guid++));return this.each(function(){C.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,C(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"===typeof a){for(d in a)this.off(d,b,a[d]);return this}if(!1===
b||"function"===typeof b)c=b,b=void 0;!1===c&&(c=g);return this.each(function(){C.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){C.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return C.event.trigger(a,b,c,!0)}});var Nb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ad=/<([\w:]+)/,db=/<|&#?\w+;/,vb=/<(?:script|style|link)/i,rb=/checked\s*(?:[^=]|=\s*.checked.)/i,dd=/^$|\/(?:java|ecma)script/i,pc=/^true\/(.*)/,Mc=
/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ab={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ab.optgroup=Ab.option;Ab.tbody=Ab.tfoot=Ab.colgroup=Ab.caption=Ab.thead;Ab.th=Ab.td;C.extend({clone:function(a,b,c){var d,e,g,h,f=a.cloneNode(!0),k=C.contains(a.ownerDocument,a);if(!(ea.noCloneChecked||1!==
a.nodeType&&11!==a.nodeType||C.isXMLDoc(a)))for(h=E(f),g=E(a),d=0,e=g.length;d<e;d++){var l=g[d],m=h[d],n=m.nodeName.toLowerCase();if("input"===n&&tc.test(l.type))m.checked=l.checked;else if("input"===n||"textarea"===n)m.defaultValue=l.defaultValue}if(b)if(c)for(g=g||E(a),h=h||E(f),d=0,e=g.length;d<e;d++)D(g[d],h[d]);else D(a,f);h=E(f,"script");0<h.length&&x(h,!k&&E(a,"script"));return f},buildFragment:function(a,b,c,d){for(var e,g,h,f=b.createDocumentFragment(),k=[],l=0,m=a.length;l<m;l++)if((e=
a[l])||0===e)if("object"===C.type(e))C.merge(k,e.nodeType?[e]:e);else if(db.test(e)){g=g||f.appendChild(b.createElement("div"));h=(Ad.exec(e)||["",""])[1].toLowerCase();h=Ab[h]||Ab._default;g.innerHTML=h[1]+e.replace(Nb,"<$1></$2>")+h[2];for(h=h[0];h--;)g=g.lastChild;C.merge(k,g.childNodes);g=f.firstChild;g.textContent=""}else k.push(b.createTextNode(e));f.textContent="";for(l=0;e=k[l++];)if(!d||-1===C.inArray(e,d))if(a=C.contains(e.ownerDocument,e),g=E(f.appendChild(e),"script"),a&&x(g),c)for(h=
0;e=g[h++];)dd.test(e.type||"")&&c.push(e);return f},cleanData:function(a){for(var b,c,d,e,g=C.event.special,h=0;void 0!==(c=a[h]);h++){if(C.acceptData(c)&&(e=c[W.expando])&&(b=W.cache[e])){if(b.events)for(d in b.events)g[d]?C.event.remove(c,d):C.removeEvent(c,d,b.handle);W.cache[e]&&delete W.cache[e]}delete wa.cache[c[wa.expando]]}}});C.fn.extend({text:function(a){return ob(this,function(a){return void 0===a?C.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===
this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||z(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=z(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},
after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c=a?C.filter(a,this):this,d=0;null!=(a=c[d]);d++)b||1!==a.nodeType||C.cleanData(E(a)),a.parentNode&&(b&&C.contains(a.ownerDocument,a)&&x(E(a,"script")),a.parentNode.removeChild(a));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(C.cleanData(E(a,!1)),a.textContent="");return this},clone:function(a,b){a=null==
a?!1:a;b=null==b?a:b;return this.map(function(){return C.clone(this,a,b)})},html:function(a){return ob(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"===typeof a&&!vb.test(a)&&!Ab[(Ad.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Nb,"<$1></$2>");try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(C.cleanData(E(b,!1)),b.innerHTML=a);b=0}catch(We){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];
this.domManip(arguments,function(b){a=this.parentNode;C.cleanData(E(this));a&&a.replaceChild(b,this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=Ea.apply([],a);var c,d,e,g,h=0,f=this.length,k=this,l=f-1,m=a[0],n=C.isFunction(m);if(n||1<f&&"string"===typeof m&&!ea.checkClone&&rb.test(m))return this.each(function(c){var d=k.eq(c);n&&(a[0]=m.call(this,c,d.html()));d.domManip(a,b)});if(f&&(c=C.buildFragment(a,this[0].ownerDocument,
!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){d=C.map(E(c,"script"),B);for(e=d.length;h<f;h++)g=c,h!==l&&(g=C.clone(g,!0,!0),e&&C.merge(d,E(g,"script"))),b.call(this[h],g,h);if(e)for(c=d[d.length-1].ownerDocument,C.map(d,G),h=0;h<e;h++)g=d[h],dd.test(g.type||"")&&!W.access(g,"globalEval")&&C.contains(c,g)&&(g.src?C._evalUrl&&C._evalUrl(g.src):C.globalEval(g.textContent.replace(Mc,"")))}return this}});C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",
replaceAll:"replaceWith"},function(a,b){C.fn[a]=function(a){for(var c=[],d=C(a),e=d.length-1,g=0;g<=e;g++)a=g===e?this:this.clone(!0),C(d[g])[b](a),ua.apply(c,a.get());return this.pushStack(c)}});var xd,sb={},Bd=/^margin/,Ib=new RegExp("^("+pb+")(?!px)[a-z%]+$","i"),bd=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};(function(){function b(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute";
h.innerHTML="";e.appendChild(g);var b=a.getComputedStyle(h,null);c="1%"!==b.top;d="4px"===b.width;e.removeChild(g)}var c,d,e=Z.documentElement,g=Z.createElement("div"),h=Z.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",ea.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",g.appendChild(h),a.getComputedStyle&&C.extend(ea,{pixelPosition:function(){b();
return c},boxSizingReliable:function(){null==d&&b();return d},reliableMarginRight:function(){var b,c=h.appendChild(Z.createElement("div"));c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";c.style.marginRight=c.style.width="0";h.style.width="1px";e.appendChild(g);b=!parseFloat(a.getComputedStyle(c,null).marginRight);e.removeChild(g);h.removeChild(c);return b}}))})();C.swap=function(a,b,c,d){var e,
g={};for(e in b)g[e]=a.style[e],a.style[e]=b[e];c=c.apply(a,d||[]);for(e in b)a.style[e]=g[e];return c};var Yd=/^(none|table(?!-c[ea]).+)/,Qc=new RegExp("^("+pb+")(.*)$","i"),Kc=new RegExp("^([+-])=("+pb+")","i"),Ae={position:"absolute",visibility:"hidden",display:"block"},Zd={letterSpacing:"0",fontWeight:"400"},Cc=["Webkit","O","Moz","ms"];C.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=L(a,"opacity"),""===a?"1":a}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,
fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,g,h,f=C.camelCase(b),k=a.style;b=C.cssProps[f]||(C.cssProps[f]=K(k,f));h=C.cssHooks[b]||C.cssHooks[f];if(void 0!==c)g=typeof c,"string"===g&&(e=Kc.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(C.css(a,b)),g="number"),null!=c&&c===c&&("number"!==g||C.cssNumber[f]||(c+="px"),ea.clearCloneStyle||""!==c||0!==b.indexOf("background")||
(k[b]="inherit"),h&&"set"in h&&void 0===(c=h.set(a,c,d))||(k[b]=c));else return h&&"get"in h&&void 0!==(e=h.get(a,!1,d))?e:k[b]}},css:function(a,b,c,d){var e,g;g=C.camelCase(b);b=C.cssProps[g]||(C.cssProps[g]=K(a.style,g));(g=C.cssHooks[b]||C.cssHooks[g])&&"get"in g&&(e=g.get(a,!0,c));void 0===e&&(e=L(a,b,d));"normal"===e&&b in Zd&&(e=Zd[b]);return""===c||c?(a=parseFloat(e),!0===c||C.isNumeric(a)?a||0:e):e}});C.each(["height","width"],function(a,b){C.cssHooks[b]={get:function(a,c,d){if(c)return Yd.test(C.css(a,
"display"))&&0===a.offsetWidth?C.swap(a,Ae,function(){return Y(a,b,d)}):Y(a,b,d)},set:function(a,c,d){var e=d&&bd(a);return N(a,c,d?P(a,b,d,"border-box"===C.css(a,"boxSizing",!1,e),e):0)}}});C.cssHooks.marginRight=I(ea.reliableMarginRight,function(a,b){if(b)return C.swap(a,{display:"inline-block"},L,[a,"marginRight"])});C.each({margin:"",padding:"",border:"Width"},function(a,b){C.cssHooks[a+b]={expand:function(c){var d=0,e={};for(c="string"===typeof c?c.split(" "):[c];4>d;d++)e[a+uc[d]+b]=c[d]||c[d-
2]||c[0];return e}};Bd.test(a)||(C.cssHooks[a+b].set=N)});C.fn.extend({css:function(a,b){return ob(this,function(a,b,c){var d,e={},g=0;if(C.isArray(b)){c=bd(a);for(d=b.length;g<d;g++)e[b[g]]=C.css(a,b[g],!1,c);return e}return void 0!==c?C.style(a,b,c):C.css(a,b)},a,b,1<arguments.length)},show:function(){return M(this,!0)},hide:function(){return M(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){hc(this)?C(this).show():C(this).hide()})}});C.Tween=
O;O.prototype={constructor:O,init:function(a,b,c,d,e,g){this.elem=a;this.prop=c;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=g||(C.cssNumber[c]?"":"px")},cur:function(){var a=O.propHooks[this.prop];return a&&a.get?a.get(this):O.propHooks._default.get(this)},run:function(a){var b,c=O.propHooks[this.prop];this.pos=this.options.duration?b=C.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;
this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):O.propHooks._default.set(this);return this}};O.prototype.init.prototype=O.prototype;O.propHooks={_default:{get:function(a){return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(a=C.css(a.elem,a.prop,""))&&"auto"!==a?a:0:a.elem[a.prop]},set:function(a){if(C.fx.step[a.prop])C.fx.step[a.prop](a);else a.elem.style&&(null!=a.elem.style[C.cssProps[a.prop]]||C.cssHooks[a.prop])?C.style(a.elem,a.prop,
a.now+a.unit):a.elem[a.prop]=a.now}}};O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};C.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}};C.fx=O.prototype.init;C.fx.step={};var Cb,Rc,gd=/^(?:toggle|show|hide)$/,hd=new RegExp("^(?:([+-])=|)("+pb+")([a-z%]*)$","i"),Ce=/queueHooks$/,Ob=[function(a,b,c){var d,e,g,h,f,k,l=this,m={},n=a.style,q=a.nodeType&&hc(a),p=W.get(a,"fxshow");c.queue||
(h=C._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,f=h.empty.fire,h.empty.fire=function(){h.unqueued||f()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--;C.queue(a,"fx").length||h.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],k=C.css(a,"display"),e="none"===k?W.get(a,"olddisplay")||J(a.nodeName):k,"inline"===e&&"none"===C.css(a,"float")&&(n.display="inline-block"));c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=
c.overflow[0];n.overflowX=c.overflow[1];n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],gd.exec(e)){delete b[d];g=g||"toggle"===e;if(e===(q?"hide":"show"))if("show"===e&&p&&void 0!==p[d])q=!0;else continue;m[d]=p&&p[d]||C.style(a,d)}else k=void 0;if(C.isEmptyObject(m))"inline"===("none"===k?J(a.nodeName):k)&&(n.display=k);else for(d in p?"hidden"in p&&(q=p.hidden):p=W.access(a,"fxshow",{}),g&&(p.hidden=!q),q?C(a).show():l.done(function(){C(a).hide()}),l.done(function(){var b;W.remove(a,"fxshow");
for(b in m)C.style(a,b,m[b])}),m)b=R(q?p[d]:0,d,l),d in p||(p[d]=b.start,q&&(b.end=b.start,b.start="width"===d||"height"===d?1:0))}],Ac={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=(b=hd.exec(b))&&b[3]||(C.cssNumber[a]?"":"px"),g=(C.cssNumber[a]||"px"!==e&&+d)&&hd.exec(C.css(c.elem,a)),h=1,f=20;if(g&&g[3]!==e){e=e||g[3];b=b||[];g=+d||1;do h=h||".5",g/=h,C.style(c.elem,a,g+e);while(h!==(h=c.cur()/d)&&1!==h&&--f)}b&&(g=c.start=+g||+d||0,c.unit=e,c.end=b[1]?g+(b[1]+1)*b[2]:+b[2]);return c}]};
C.Animation=C.extend(T,{tweener:function(a,b){C.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;d<e;d++)c=a[d],Ac[c]=Ac[c]||[],Ac[c].unshift(b)},prefilter:function(a,b){b?Ob.unshift(a):Ob.push(a)}});C.speed=function(a,b,c){var d=a&&"object"===typeof a?C.extend({},a):{complete:c||!c&&b||C.isFunction(a)&&a,duration:a,easing:c&&b||b&&!C.isFunction(b)&&b};d.duration=C.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in C.fx.speeds?C.fx.speeds[d.duration]:C.fx.speeds._default;
if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){C.isFunction(d.old)&&d.old.call(this);d.queue&&C.dequeue(this,d.queue)};return d};C.fn.extend({fadeTo:function(a,b,c,d){return this.filter(hc).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=C.isEmptyObject(a),g=C.speed(b,c,d);b=function(){var b=T(this,C.extend({},a),g);(e||W.get(this,"finish"))&&b.stop(!0)};b.finish=b;return e||!1===g.queue?this.each(b):this.queue(g.queue,
b)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",g=C.timers,h=W.get(this);if(e)h[e]&&h[e].stop&&d(h[e]);else for(e in h)h[e]&&h[e].stop&&Ce.test(e)&&d(h[e]);for(e=g.length;e--;)g[e].elem!==this||null!=a&&g[e].queue!==a||(g[e].anim.stop(c),b=!1,g.splice(e,1));!b&&c||C.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,
c=W.get(this),d=c[a+"queue"];b=c[a+"queueHooks"];var e=C.timers,g=d?d.length:0;c.finish=!0;C.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=e.length;b--;)e[b].elem===this&&e[b].queue===a&&(e[b].anim.stop(!0),e.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}});C.each(["toggle","show","hide"],function(a,b){var c=C.fn[b];C.fn[b]=function(a,d,e){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(U(b,!0),a,d,e)}});C.each({slideDown:U("show"),
slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){C.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});C.timers=[];C.fx.tick=function(){var a,b=0,c=C.timers;for(Cb=C.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||C.fx.stop();Cb=void 0};C.fx.timer=function(a){C.timers.push(a);a()?C.fx.start():C.timers.pop()};C.fx.interval=13;C.fx.start=function(){Rc||(Rc=setInterval(C.fx.tick,C.fx.interval))};
C.fx.stop=function(){clearInterval(Rc);Rc=null};C.fx.speeds={slow:600,fast:200,_default:400};C.fn.delay=function(a,b){a=C.fx?C.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})};(function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox";ea.checkOn=""!==a.value;ea.optSelected=c.selected;b.disabled=!0;ea.optDisabled=!c.disabled;a=Z.createElement("input");a.value=
"t";a.type="radio";ea.radioValue="t"===a.value})();var ab,Lb=C.expr.attrHandle;C.fn.extend({attr:function(a,b){return ob(this,C.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){C.removeAttr(this,a)})}});C.extend({attr:function(a,b,c){var d,e,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){if("undefined"===typeof a.getAttribute)return C.prop(a,b,c);1===g&&C.isXMLDoc(a)||(b=b.toLowerCase(),d=C.attrHooks[b]||(C.expr.match.bool.test(b)?ab:void 0));if(void 0!==c)if(null===c)C.removeAttr(a,
b);else{if(d&&"set"in d&&void 0!==(e=d.set(a,c,b)))return e;a.setAttribute(b,c+"");return c}else{if(d&&"get"in d&&null!==(e=d.get(a,b)))return e;e=C.find.attr(a,b);return null==e?void 0:e}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(cb);if(e&&1===a.nodeType)for(;b=e[d++];)c=C.propFix[b]||b,C.expr.match.bool.test(b)&&(a[c]=!1),a.removeAttribute(b)},attrHooks:{type:{set:function(a,b){if(!ea.radioValue&&"radio"===b&&C.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}}});
ab={set:function(a,b,c){!1===b?C.removeAttr(a,c):a.setAttribute(c,c);return c}};C.each(C.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Lb[b]||C.find.attr;Lb[b]=function(a,b,d){var e,g;d||(g=Lb[b],Lb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,Lb[b]=g);return e}});var nb=/^(?:input|select|textarea|button)$/i;C.fn.extend({prop:function(a,b){return ob(this,C.prop,a,b,1<arguments.length)},removeProp:function(a){return this.each(function(){delete this[C.propFix[a]||a]})}});C.extend({propFix:{"for":"htmlFor",
"class":"className"},prop:function(a,b,c){var d,e,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return 1===g&&C.isXMLDoc(a)||(b=C.propFix[b]||b,e=C.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||nb.test(a.nodeName)||a.href?a.tabIndex:-1}}}});ea.optSelected||(C.propHooks.selected={get:function(a){(a=a.parentNode)&&a.parentNode&&a.parentNode.selectedIndex;return null}});
C.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){C.propFix[this.toLowerCase()]=this});var Ua=/[\t\r\n\f]/g;C.fn.extend({addClass:function(a){var b,c,d,e,g;b="string"===typeof a&&a;var h=0,f=this.length;if(C.isFunction(a))return this.each(function(b){C(this).addClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(cb)||[];h<f;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ua,
" "):" ")){for(g=0;e=b[g++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");d=C.trim(d);c.className!==d&&(c.className=d)}return this},removeClass:function(a){var b,c,d,e,g;b=0===arguments.length||"string"===typeof a&&a;var h=0,f=this.length;if(C.isFunction(a))return this.each(function(b){C(this).removeClass(a.call(this,b,this.className))});if(b)for(b=(a||"").match(cb)||[];h<f;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ua," "):"")){for(g=0;e=b[g++];)for(;0<=d.indexOf(" "+e+" ");)d=
d.replace(" "+e+" "," ");d=a?C.trim(d):"";c.className!==d&&(c.className=d)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):C.isFunction(a)?this.each(function(c){C(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var b,d=0,e=C(this),g=a.match(cb)||[];b=g[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else if("undefined"===c||"boolean"===c)this.className&&W.set(this,
"__className__",this.className),this.className=this.className||!1===a?"":W.get(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var b=0,c=this.length;b<c;b++)if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(Ua," ").indexOf(a))return!0;return!1}});var lb=/\r/g;C.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length)return d=C.isFunction(a),this.each(function(c){1===this.nodeType&&(c=d?a.call(this,c,C(this).val()):a,null==c?c="":"number"===typeof c?c+="":
C.isArray(c)&&(c=C.map(c,function(a){return null==a?"":a+""})),b=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))});if(e){if((b=C.valHooks[e.type]||C.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value")))return c;c=e.value;return"string"===typeof c?c.replace(lb,""):null==c?"":c}}});C.extend({valHooks:{option:{get:function(a){var b=C.find.attr(a,"value");return null!=b?b:C.trim(C.text(a))}},select:{get:function(a){for(var b,
c=a.options,d=a.selectedIndex,e=(a="select-one"===a.type||0>d)?null:[],g=a?d+1:c.length,h=0>d?g:a?d:0;h<g;h++)if(b=c[h],!(!b.selected&&h!==d||(ea.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&C.nodeName(b.parentNode,"optgroup"))){b=C(b).val();if(a)return b;e.push(b)}return e},set:function(a,b){for(var c,d=a.options,e=C.makeArray(b),g=d.length;g--;)if(b=d[g],b.selected=0<=C.inArray(b.value,e))c=!0;c||(a.selectedIndex=-1);return e}}}});C.each(["radio","checkbox"],
function(){C.valHooks[this]={set:function(a,b){if(C.isArray(b))return a.checked=0<=C.inArray(C(a).val(),b)}};ea.checkOn||(C.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){C.fn[b]=function(a,c){return 0<arguments.length?this.on(b,
null,a,c):this.trigger(b)}});C.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var eb=C.now(),Dc=/\?/;C.parseJSON=function(a){return JSON.parse(a+"")};C.parseXML=function(a){var b,c;if(!a||"string"!==typeof a)return null;try{c=new DOMParser,
b=c.parseFromString(a,"text/xml")}catch(be){b=void 0}b&&!b.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+a);return b};var sc=/#.*$/,mb=/([?&])_=[^&]*/,Db=/^(.*?):[ \t]*([^\r\n]*)$/mg,rc=/^(?:GET|HEAD)$/,kb=/^\/\//,Cd=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Sd={},zc={},Ed="*/".concat("*"),Qb=a.location.href,xb=Cd.exec(Qb.toLowerCase())||[];C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Qb,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xb[1]),
global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ed,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?X(X(a,
C.ajaxSettings),b):X(C.ajaxSettings,a)},ajaxPrefilter:ca(Sd),ajaxTransport:ca(zc),ajax:function(a,b){function c(a,b,c,h){var l,r,w,v;v=b;if(2!==y){y=2;f&&clearTimeout(f);d=void 0;g=h||"";D.readyState=0<a?4:0;h=200<=a&&300>a||304===a;if(c){w=m;for(var x=D,B,z,A,G,O=w.contents,E=w.dataTypes;"*"===E[0];)E.shift(),void 0===B&&(B=w.mimeType||x.getResponseHeader("Content-Type"));if(B)for(z in O)if(O[z]&&O[z].test(B)){E.unshift(z);break}if(E[0]in c)A=E[0];else{for(z in c){if(!E[0]||w.converters[z+" "+E[0]]){A=
z;break}G||(G=z)}A=A||G}A?(A!==E[0]&&E.unshift(A),w=c[A]):w=void 0}a:{c=m;B=w;z=D;A=h;var M,J,F,x={},O=c.dataTypes.slice();if(O[1])for(J in c.converters)x[J.toLowerCase()]=c.converters[J];for(G=O.shift();G;)if(c.responseFields[G]&&(z[c.responseFields[G]]=B),!F&&A&&c.dataFilter&&(B=c.dataFilter(B,c.dataType)),F=G,G=O.shift())if("*"===G)G=F;else if("*"!==F&&F!==G){J=x[F+" "+G]||x["* "+G];if(!J)for(M in x)if(w=M.split(" "),w[1]===G&&(J=x[F+" "+w[0]]||x["* "+w[0]])){!0===J?J=x[M]:!0!==x[M]&&(G=w[0],O.unshift(w[1]));
break}if(!0!==J)if(J&&c["throws"])B=J(B);else try{B=J(B)}catch(md){w={state:"parsererror",error:J?md:"No conversion from "+F+" to "+G};break a}}w={state:"success",data:B}}if(h)m.ifModified&&((v=D.getResponseHeader("Last-Modified"))&&(C.lastModified[e]=v),(v=D.getResponseHeader("etag"))&&(C.etag[e]=v)),204===a||"HEAD"===m.type?v="nocontent":304===a?v="notmodified":(v=w.state,l=w.data,r=w.error,h=!r);else if(r=v,a||!v)v="error",0>a&&(a=0);D.status=a;D.statusText=(b||v)+"";h?p.resolveWith(n,[l,v,D]):
p.rejectWith(n,[D,v,r]);D.statusCode(t);t=void 0;k&&q.trigger(h?"ajaxSuccess":"ajaxError",[D,m,h?l:r]);u.fireWith(n,[D,v]);k&&(q.trigger("ajaxComplete",[D,m]),--C.active||C.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=void 0);b=b||{};var d,e,g,h,f,k,l,m=C.ajaxSetup({},b),n=m.context||m,q=m.context&&(n.nodeType||n.jquery)?C(n):C.event,p=C.Deferred(),u=C.Callbacks("once memory"),t=m.statusCode||{},r={},w={},y=0,v="canceled",D={readyState:0,getResponseHeader:function(a){var b;if(2===y){if(!h)for(h=
{};b=Db.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===y?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();y||(a=w[c]=w[c]||a,r[a]=b);return this},overrideMimeType:function(a){y||(m.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>y)for(b in a)t[b]=[t[b],a[b]];else D.always(a[D.status]);return this},abort:function(a){a=a||v;d&&d.abort(a);c(0,a);return this}};p.promise(D).complete=u.add;D.success=
D.done;D.error=D.fail;m.url=((a||m.url||Qb)+"").replace(sc,"").replace(kb,xb[1]+"//");m.type=b.method||b.type||m.method||m.type;m.dataTypes=C.trim(m.dataType||"*").toLowerCase().match(cb)||[""];null==m.crossDomain&&(a=Cd.exec(m.url.toLowerCase()),m.crossDomain=!(!a||a[1]===xb[1]&&a[2]===xb[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(xb[3]||("http:"===xb[1]?"80":"443"))));m.data&&m.processData&&"string"!==typeof m.data&&(m.data=C.param(m.data,m.traditional));ha(Sd,m,b,D);if(2===y)return D;(k=C.event&&
m.global)&&0===C.active++&&C.event.trigger("ajaxStart");m.type=m.type.toUpperCase();m.hasContent=!rc.test(m.type);e=m.url;m.hasContent||(m.data&&(e=m.url+=(Dc.test(e)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=mb.test(e)?e.replace(mb,"$1_="+eb++):e+(Dc.test(e)?"&":"?")+"_="+eb++));m.ifModified&&(C.lastModified[e]&&D.setRequestHeader("If-Modified-Since",C.lastModified[e]),C.etag[e]&&D.setRequestHeader("If-None-Match",C.etag[e]));(m.data&&m.hasContent&&!1!==m.contentType||b.contentType)&&D.setRequestHeader("Content-Type",
m.contentType);D.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Ed+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)D.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(!1===m.beforeSend.call(n,D,m)||2===y))return D.abort();v="abort";for(l in{success:1,error:1,complete:1})D[l](m[l]);if(d=ha(zc,m,b,D)){D.readyState=1;k&&q.trigger("ajaxSend",[D,m]);m.async&&0<m.timeout&&(f=setTimeout(function(){D.abort("timeout")},m.timeout));
try{y=1,d.send(r,c)}catch(bb){if(2>y)c(-1,bb);else throw bb;}}else c(-1,"No Transport");return D},getJSON:function(a,b,c){return C.get(a,b,c,"json")},getScript:function(a,b){return C.get(a,void 0,b,"script")}});C.each(["get","post"],function(a,b){C[b]=function(a,c,d,e){C.isFunction(c)&&(e=e||d,d=c,c=void 0);return C.ajax({url:a,type:b,dataType:e,data:c,success:d})}});C._evalUrl=function(a){return C.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};C.fn.extend({wrapAll:function(a){var b;
if(C.isFunction(a))return this.each(function(b){C(this).wrapAll(a.call(this,b))});this[0]&&(b=C(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this));return this},wrapInner:function(a){return C.isFunction(a)?this.each(function(b){C(this).wrapInner(a.call(this,b))}):this.each(function(){var b=C(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=
C.isFunction(a);return this.each(function(c){C(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){C.nodeName(this,"body")||C(this).replaceWith(this.childNodes)}).end()}});C.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight};C.expr.filters.visible=function(a){return!C.expr.filters.hidden(a)};var Ee=/%20/g,Xf=/\[\]$/,Fd=/\r?\n/g,Je=/^(?:submit|button|image|reset|file)$/i,Fe=/^(?:input|select|textarea|keygen)/i;C.param=function(a,b){var c,
d=[],e=function(a,b){b=C.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=C.ajaxSettings&&C.ajaxSettings.traditional);if(C.isArray(a)||a.jquery&&!C.isPlainObject(a))C.each(a,function(){e(this.name,this.value)});else for(c in a)aa(c,a[c],b,e);return d.join("&").replace(Ee,"+")};C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=C.prop(this,"elements");return a?
C.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!C(this).is(":disabled")&&Fe.test(this.nodeName)&&!Je.test(a)&&(this.checked||!tc.test(a))}).map(function(a,b){a=C(this).val();return null==a?null:C.isArray(a)?C.map(a,function(a){return{name:b.name,value:a.replace(Fd,"\r\n")}}):{name:b.name,value:a.replace(Fd,"\r\n")}}).get()}});C.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(Aa){}};var $e=0,kd={},Lc={0:200,1223:204},Ub=C.ajaxSettings.xhr();a.attachEvent&&
a.attachEvent("onunload",function(){for(var a in kd)kd[a]()});ea.cors=!!Ub&&"withCredentials"in Ub;ea.ajax=Ub=!!Ub;C.ajaxTransport(function(a){var b;if(ea.cors||Ub&&!a.crossDomain)return{send:function(c,d){var e,g=a.xhr(),h=++$e;g.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(e in a.xhrFields)g[e]=a.xhrFields[e];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType);a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)g.setRequestHeader(e,
c[e]);b=function(a){return function(){b&&(delete kd[h],b=g.onload=g.onerror=null,"abort"===a?g.abort():"error"===a?d(g.status,g.statusText):d(Lc[g.status]||g.status,g.statusText,"string"===typeof g.responseText?{text:g.responseText}:void 0,g.getAllResponseHeaders()))}};g.onload=b();g.onerror=b("error");b=kd[h]=b("abort");try{g.send(a.hasContent&&a.data||null)}catch(ae){if(b)throw ae;}},abort:function(){b&&b()}}});C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){C.globalEval(a);return a}}});C.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET")});C.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=C("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove();c=null;a&&e("error"===a.type?404:200,a.type)});Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});
var Ge=[],ld=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Ge.pop()||C.expando+"_"+eb++;this[a]=!0;return a}});C.ajaxPrefilter("json jsonp",function(b,c,d){var e,g,h,f=!1!==b.jsonp&&(ld.test(b.url)?"url":"string"===typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ld.test(b.data)&&"data");if(f||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=C.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,f?b[f]=b[f].replace(ld,"$1"+
e):!1!==b.jsonp&&(b.url+=(Dc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){h||C.error(e+" was not called");return h[0]},b.dataTypes[0]="json",g=a[e],a[e]=function(){h=arguments},d.always(function(){a[e]=g;b[e]&&(b.jsonpCallback=c.jsonpCallback,Ge.push(e));h&&C.isFunction(g)&&g(h[0]);h=g=void 0}),"script"});C.parseHTML=function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);b=b||Z;var d=na.exec(a);c=!c&&[];if(d)return[b.createElement(d[1])];
d=C.buildFragment([a],b,c);c&&c.length&&C(c).remove();return C.merge([],d.childNodes)};var Le=C.fn.load;C.fn.load=function(a,b,c){if("string"!==typeof a&&Le)return Le.apply(this,arguments);var d,e,g,h=this,f=a.indexOf(" ");0<=f&&(d=C.trim(a.slice(f)),a=a.slice(0,f));C.isFunction(b)?(c=b,b=void 0):b&&"object"===typeof b&&(e="POST");0<h.length&&C.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){g=arguments;h.html(d?C("<div>").append(C.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){h.each(c,
g||[a.responseText,b,a])});return this};C.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){C.fn[b]=function(a){return this.on(b,a)}});C.expr.filters.animated=function(a){return C.grep(C.timers,function(b){return a===b.elem}).length};var bc=a.document.documentElement;C.offset={setOffset:function(a,b,c){var d,e,g,h=C.css(a,"position"),f=C(a),k={};"static"===h&&(a.style.position="relative");g=f.offset();e=C.css(a,"top");d=C.css(a,"left");("absolute"===h||
"fixed"===h)&&-1<(e+d).indexOf("auto")?(d=f.position(),e=d.top,d=d.left):(e=parseFloat(e)||0,d=parseFloat(d)||0);C.isFunction(b)&&(b=b.call(a,c,g));null!=b.top&&(k.top=b.top-g.top+e);null!=b.left&&(k.left=b.left-g.left+d);"using"in b?b.using.call(a,k):f.css(k)}};C.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){C.offset.setOffset(this,a,b)});var b,c;c=this[0];var d={top:0,left:0},e=c&&c.ownerDocument;if(e){b=e.documentElement;if(!C.contains(b,c))return d;
"undefined"!==typeof c.getBoundingClientRect&&(d=c.getBoundingClientRect());c=ga(e);return{top:d.top+c.pageYOffset-b.clientTop,left:d.left+c.pageXOffset-b.clientLeft}}},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};"fixed"===C.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),C.nodeName(a[0],"html")||(d=a.offset()),d.top+=C.css(a[0],"borderTopWidth",!0),d.left+=C.css(a[0],"borderLeftWidth",!0));return{top:b.top-d.top-C.css(c,"marginTop",!0),
left:b.left-d.left-C.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||bc;a&&!C.nodeName(a,"html")&&"static"===C.css(a,"position");)a=a.offsetParent;return a||bc})}});C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;C.fn[b]=function(e){return ob(this,function(b,e,g){var h=ga(b);if(void 0===g)return h?h[c]:b[e];h?h.scrollTo(d?a.pageXOffset:g,d?g:a.pageYOffset):b[e]=g},b,e,arguments.length,null)}});
C.each(["top","left"],function(a,b){C.cssHooks[b]=I(ea.pixelPosition,function(a,c){if(c)return c=L(a,b),Ib.test(c)?C(a).position()[b]+"px":c})});C.each({Height:"height",Width:"width"},function(a,b){C.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){C.fn[d]=function(d,e){var g=arguments.length&&(c||"boolean"!==typeof d),h=c||(!0===d||!0===e?"margin":"border");return ob(this,function(b,c,d){return C.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,
Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):void 0===d?C.css(b,c,h):C.style(b,c,d,h)},b,g?d:void 0,g,null)}})});C.fn.size=function(){return this.length};C.fn.andSelf=C.fn.addBack;"function"===typeof f&&f.amd&&f("jquery",[],function(){return C});var Me=a.jQuery,cf=a.$;C.noConflict=function(b){a.$===C&&(a.$=cf);b&&a.jQuery===C&&(a.jQuery=Me);return C};"undefined"===typeof b&&(a.jQuery=a.$=C);return C});d("undefined"!=typeof $?$:window.$)}).call(a,void 0,
void 0,void 0,void 0,function(a){l.exports=a})}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],820:[function(a,l,f){var c=a("./src/ParseError"),e=a("./src/Settings"),h=a("./src/buildTree"),b=a("./src/parseTree"),k=a("./src/utils");a=function(a,c,f){k.clearNode(c);f=new e(f);var d=b(a,f);a=h(d,a,f).toNode();c.appendChild(a)};"undefined"!==typeof document&&"CSS1Compat"!==document.compatMode&&("undefined"!==typeof console&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),
a=function(){throw new c("KaTeX doesn't work in quirks mode.");});l.exports={render:a,renderToString:function(a,c){c=new e(c);var d=b(a,c);return h(d,a,c).toMarkup()},__parse:function(a,c){c=new e(c);return b(a,c)},ParseError:c}},{"./src/ParseError":823,"./src/Settings":825,"./src/buildTree":830,"./src/parseTree":839,"./src/utils":841}],821:[function(a,l,f){function c(a){this._input=a}function e(a,b,c){this.text=a;this.data=b;this.position=c}var h=a("match-at"),b=a("./ParseError"),k=[/[/|@.""`0-9a-zA-Z]/,
/[*+-]/,/[=<>:]/,/[,;]/,/['\^_{}]/,/[(\[]/,/[)\]?!]/,/~/,/&/,/\\\\/],d=[/[a-zA-Z0-9`!@*()-=+\[\]'";:?\/.,]/,/[{}]/,/~/,/&/,/\\\\/],n=/\s*/,m=/ +|\\  +/,q=/\\(?:[a-zA-Z]+|.)/;c.prototype._innerLex=function(a,c,d){var f=this._input;if(d)d=h(n,f,a)[0],a+=d.length;else if(d=h(m,f,a),null!==d)return new e(" ",null,a+d[0].length);if(a===f.length)return new e("EOF",null,a);if(d=h(q,f,a))return new e(d[0],null,a+d[0].length);for(var k=0;k<c.length;k++)if(d=h(c[k],f,a))return new e(d[0],null,a+d[0].length);
throw new b("Unexpected character: '"+f[a]+"'",this,a);};var w=/#[a-z0-9]+|[a-z]+/i;c.prototype._innerLexColor=function(a){var c=this._input,d=h(n,c,a)[0];a+=d.length;if(c=h(w,c,a))return new e(c[0],null,a+c[0].length);throw new b("Invalid color",this,a);};var p=/(-?)\s*(\d+(?:\.\d*)?|\.\d+)\s*([a-z]{2})/;c.prototype._innerLexSize=function(a){var c=this._input,d=h(n,c,a)[0];a+=d.length;if(c=h(p,c,a)){d=c[3];if("em"!==d&&"ex"!==d)throw new b("Invalid unit: '"+d+"'",this,a);return new e(c[0],{number:+(c[1]+
c[2]),unit:d},a+c[0].length)}throw new b("Invalid size",this,a);};c.prototype._innerLexWhitespace=function(a){var b=h(n,this._input,a)[0];a+=b.length;return new e(b[0],null,a)};c.prototype.lex=function(a,b){if("math"===b)return this._innerLex(a,k,!0);if("text"===b)return this._innerLex(a,d,!1);if("color"===b)return this._innerLexColor(a);if("size"===b)return this._innerLexSize(a);if("whitespace"===b)return this._innerLexWhitespace(a)};l.exports=c},{"./ParseError":823,"match-at":844}],822:[function(a,
l,f){function c(a){this.style=a.style;this.color=a.color;this.size=a.size;this.phantom=a.phantom;this.font=a.font;this.parentStyle=void 0===a.parentStyle?a.style:a.parentStyle;this.parentSize=void 0===a.parentSize?a.size:a.parentSize}c.prototype.extend=function(a){var b={style:this.style,size:this.size,color:this.color,parentStyle:this.style,parentSize:this.size,phantom:this.phantom,font:this.font},e;for(e in a)a.hasOwnProperty(e)&&(b[e]=a[e]);return new c(b)};c.prototype.withStyle=function(a){return this.extend({style:a})};
c.prototype.withSize=function(a){return this.extend({size:a})};c.prototype.withColor=function(a){return this.extend({color:a})};c.prototype.withPhantom=function(){return this.extend({phantom:!0})};c.prototype.withFont=function(a){return this.extend({font:a})};c.prototype.reset=function(){return this.extend({})};var e={"katex-blue":"#6495ed","katex-orange":"#ffa500","katex-pink":"#ff00af","katex-red":"#df0030","katex-green":"#28ae7b","katex-gray":"gray","katex-purple":"#9d38bd","katex-blueA":"#c7e9f1",
"katex-blueB":"#9cdceb","katex-blueC":"#58c4dd","katex-blueD":"#29abca","katex-blueE":"#1c758a","katex-tealA":"#acead7","katex-tealB":"#76ddc0","katex-tealC":"#5cd0b3","katex-tealD":"#55c1a7","katex-tealE":"#49a88f","katex-greenA":"#c9e2ae","katex-greenB":"#a6cf8c","katex-greenC":"#83c167","katex-greenD":"#77b05d","katex-greenE":"#699c52","katex-goldA":"#f7c797","katex-goldB":"#f9b775","katex-goldC":"#f0ac5f","katex-goldD":"#e1a158","katex-goldE":"#c78d46","katex-redA":"#f7a1a3","katex-redB":"#ff8080",
"katex-redC":"#fc6255","katex-redD":"#e65a4c","katex-redE":"#cf5044","katex-maroonA":"#ecabc1","katex-maroonB":"#ec92ab","katex-maroonC":"#c55f73","katex-maroonD":"#a24d61","katex-maroonE":"#94424f","katex-purpleA":"#caa3e8","katex-purpleB":"#b189c6","katex-purpleC":"#9a72ac","katex-purpleD":"#715582","katex-purpleE":"#644172","katex-mintA":"#f5f9e8","katex-mintB":"#edf2df","katex-mintC":"#e0e5cc","katex-grayA":"#fdfdfd","katex-grayB":"#f7f7f7","katex-grayC":"#eeeeee","katex-grayD":"#dddddd","katex-grayE":"#cccccc",
"katex-grayF":"#aaaaaa","katex-grayG":"#999999","katex-grayH":"#555555","katex-grayI":"#333333","katex-kaBlue":"#314453","katex-kaGreen":"#639b24"};c.prototype.getColor=function(){return this.phantom?"transparent":e[this.color]||this.color};l.exports=c},{}],823:[function(a,l,f){function c(a,h,b){a="KaTeX parse error: "+a;void 0!==h&&void 0!==b&&(a+=" at position "+b+": ",h=h._input,h=h.slice(0,b)+"\u0332"+h.slice(b),a+=h.slice(Math.max(0,b-15),b+15));h=Error(a);h.name="ParseError";h.__proto__=c.prototype;
h.position=b;return h}c.prototype.__proto__=Error.prototype;l.exports=c},{}],824:[function(a,l,f){function c(a,b){this.lexer=new k(a);this.settings=b}function e(a,b){this.result=a;this.isFunction=b}var h=a("./functions"),b=a("./environments"),k=a("./Lexer"),d=a("./symbols"),n=a("./utils");f=a("./parseData");var m=a("./ParseError"),q=f.ParseNode,w=f.ParseResult;c.prototype.expect=function(a,b){if(a.text!==b)throw new m("Expected '"+b+"', got '"+a.text+"'",this.lexer,a.position);};c.prototype.parse=
function(a){return this.parseInput(0,"math").result};c.prototype.parseInput=function(a,b){a=this.parseExpression(a,b,!1);this.expect(a.peek,"EOF");return a};var p="} \\end \\right & \\\\ \\cr".split(" ");c.prototype.parseExpression=function(a,b,c,d){for(var e=[],g;;){g=this.lexer.lex(a,b);if(-1!==p.indexOf(g.text))break;if(d&&g.text===d)break;var h=this.parseAtom(a,b);if(!h){if(!this.settings.throwOnError&&"\\"===g.text[0]){a=this.handleUnsupportedCmd(g.text,b);e.push(a);a=g.position;continue}break}if(c&&
"infix"===h.result.type)break;e.push(h.result);a=h.position}b=new w(this.handleInfixNodes(e,b),a);b.peek=g;return b};c.prototype.handleInfixNodes=function(a,b){for(var c=-1,d,e,f=0;f<a.length;f++){var k=a[f];if("infix"===k.type){if(-1!==c)throw new m("only one infix operator per group",this.lexer,-1);c=f;e=k.value.replaceWith;d=h.funcs[e]}}return-1!==c?(f=a.slice(0,c),c=a.slice(c+1),a=1===f.length&&"ordgroup"===f[0].type?f[0]:new q("ordgroup",f,b),c=1===c.length&&"ordgroup"===c[0].type?c[0]:new q("ordgroup",
c,b),d=d.handler(e,a,c),[new q(d.type,d,b)]):a};c.prototype.handleSupSubscript=function(a,b,c,d){var e=this.parseGroup(a,b);if(e){if(e.isFunction){if(1<h.funcs[e.result.result].greediness)return this.parseFunction(a,b);throw new m("Got function '"+e.result.result+"' with no arguments as "+d,this.lexer,a);}return e.result}d=this.lexer.lex(a,b);if(this.settings.throwOnError||"\\"!==d.text[0])throw new m("Expected group after '"+c+"'",this.lexer,a);return new w(this.handleUnsupportedCmd(d.text,b),d.position)};
c.prototype.handleUnsupportedCmd=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new q("textord",a[d],"text"));a=new q("text",{body:c,type:"text"},b);return new q("color",{color:this.settings.errorColor,value:[a],type:"color"},b)};c.prototype.parseAtom=function(a,b){var c=this.parseImplicitGroup(a,b);if("text"===b)return c;c?a=c.position:c=void 0;for(var d,e,h;;)if(h=this.lexer.lex(a,b),"\\limits"===h.text||"\\nolimits"===h.text)if(c&&"op"===c.result.type)c.result.value.limits="\\limits"===h.text,
c.result.value.alwaysHandleSupSub=!0,a=h.position;else throw new m("Limit controls must follow a math operator",this.lexer,a);else if("^"===h.text){if(d)throw new m("Double superscript",this.lexer,a);h=this.handleSupSubscript(h.position,b,h.text,"superscript");a=h.position;d=h.result}else if("_"===h.text){if(e)throw new m("Double subscript",this.lexer,a);h=this.handleSupSubscript(h.position,b,h.text,"subscript");a=h.position;e=h.result}else if("'"===h.text){d=new q("textord","\\prime",b);var f=[d];
for(a=h.position;"'"===(h=this.lexer.lex(a,b)).text;)f.push(d),a=h.position;d=new q("ordgroup",f,b)}else break;return d||e?new w(new q("supsub",{base:c&&c.result,sup:d,sub:e},b),a):c};var r="\\tiny \\scriptsize \\footnotesize \\small \\normalsize \\large \\Large \\LARGE \\huge \\Huge".split(" "),t=["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"];c.prototype.parseImplicitGroup=function(a,c){var d=this.parseSymbol(a,c);if(!d||!d.result)return this.parseFunction(a,c);var e=d.result.result;
if("\\left"===e)return e=this.parseFunction(a,c),a=this.parseExpression(e.position,c,!1),this.expect(a.peek,"\\right"),d=this.parseFunction(a.position,c),new w(new q("leftright",{body:a.result,left:e.result.value.value,right:d.result.value.value},c),d.position);if("\\begin"===e){var h=this.parseFunction(a,c),e=h.result.value.name;if(!b.hasOwnProperty(e))throw new m("No such environment: "+e,this.lexer,h.result.value.namepos);a=b[e];d=[null,c,e];h=this.parseArguments(h.position,c,"\\begin{"+e+"}",
a,d);d[0]=h;a=a.handler.apply(this,d);d=this.lexer.lex(a.position,c);this.expect(d,"\\end");c=this.parseFunction(a.position,c);if(c.result.value.name!==e)throw new m("Mismatch: \\begin{"+e+"} matched by \\end{"+c.result.value.name+"}",this.lexer,c.namepos);a.position=c.position;return a}return n.contains(r,e)?(a=this.parseExpression(d.result.position,c,!1),new w(new q("sizing",{size:"size"+(n.indexOf(r,e)+1),value:a.result},c),a.position)):n.contains(t,e)?(a=this.parseExpression(d.result.position,
c,!0),new w(new q("styling",{style:e.slice(1,e.length-5),value:a.result},c),a.position)):this.parseFunction(a,c)};c.prototype.parseFunction=function(a,b){var c=this.parseGroup(a,b);if(c){if(c.isFunction){a=c.result.result;var d=h.funcs[a];if("text"===b&&!d.allowedInText)throw new m("Can't use function '"+a+"' in text mode",this.lexer,c.position);var e=[a],c=this.parseArguments(c.result.position,b,a,d,e);a=h.funcs[a].handler.apply(this,e);return new w(new q(a.type,a,b),c)}return c.result}return null};
c.prototype.parseArguments=function(a,b,c,d,f){var g=d.numArgs+d.numOptionalArgs;if(0===g)return a;for(var k=a,l=d.greediness,n=[k],q=0;q<g;q++){var p=d.argTypes&&d.argTypes[q];if(q<d.numOptionalArgs){if(p=p?this.parseSpecialGroup(k,p,b,!0):this.parseOptionalGroup(k,b),!p){f.push(null);n.push(k);continue}}else if(p=p?this.parseSpecialGroup(k,p,b):this.parseGroup(k,b),!p){p=this.lexer.lex(k,b);if(this.settings.throwOnError||"\\"!==p.text[0])throw new m("Expected group after '"+c+"'",this.lexer,a);
p=new e(new w(this.handleUnsupportedCmd(p.text,b),p.position),!1)}if(p.isFunction)if(h.funcs[p.result.result].greediness>l)k=this.parseFunction(k,b);else throw new m("Got function '"+p.result.result+"' as argument to '"+c+"'",this.lexer,p.result.position-1);else k=p.result;f.push(k.result);n.push(k.position);k=k.position}f.push(n);return k};c.prototype.parseSpecialGroup=function(a,b,c,d){"original"===b&&(b=c);if("color"===b||"size"===b){a=this.lexer.lex(a,c);if(d&&"["!==a.text)return null;this.expect(a,
d?"[":"{");var g=this.lexer.lex(a.position,b);a="color"===b?g.text:g.data;g=this.lexer.lex(g.position,c);this.expect(g,d?"]":"}");return new e(new w(new q(b,a,c),g.position),!1)}"text"===b&&(a=this.lexer.lex(a,"whitespace").position);return d?this.parseOptionalGroup(a,b):this.parseGroup(a,b)};c.prototype.parseGroup=function(a,b){var c=this.lexer.lex(a,b);return"{"===c.text?(a=this.parseExpression(c.position,b,!1),c=this.lexer.lex(a.position,b),this.expect(c,"}"),new e(new w(new q("ordgroup",a.result,
b),c.position),!1)):this.parseSymbol(a,b)};c.prototype.parseOptionalGroup=function(a,b){a=this.lexer.lex(a,b);if("["===a.text){a=this.parseExpression(a.position,b,!1,"]");var c=this.lexer.lex(a.position,b);this.expect(c,"]");return new e(new w(new q("ordgroup",a.result,b),c.position),!1)}return null};c.prototype.parseSymbol=function(a,b){a=this.lexer.lex(a,b);return h.funcs[a.text]?new e(new w(a.text,a.position),!0):d[b][a.text]?new e(new w(new q(d[b][a.text].group,a.text,b),a.position),!1):null};
c.prototype.ParseNode=q;l.exports=c},{"./Lexer":821,"./ParseError":823,"./environments":833,"./functions":836,"./parseData":838,"./symbols":840,"./utils":841}],825:[function(a,l,f){function c(a,c){return void 0===a?c:a}l.exports=function(a){a=a||{};this.displayMode=c(a.displayMode,!1);this.throwOnError=c(a.throwOnError,!0);this.errorColor=c(a.errorColor,"#cc0000")}},{}],826:[function(a,l,f){function c(a,b,c,d){this.id=a;this.size=b;this.cramped=d;this.sizeMultiplier=c}c.prototype.sup=function(){return b[k[this.id]]};
c.prototype.sub=function(){return b[d[this.id]]};c.prototype.fracNum=function(){return b[n[this.id]]};c.prototype.fracDen=function(){return b[m[this.id]]};c.prototype.cramp=function(){return b[q[this.id]]};c.prototype.cls=function(){return e[this.size]+(this.cramped?" cramped":" uncramped")};c.prototype.reset=function(){return h[this.size]};var e=["displaystyle textstyle","textstyle","scriptstyle","scriptscriptstyle"],h=["reset-textstyle","reset-textstyle","reset-scriptstyle","reset-scriptscriptstyle"],
b=[new c(0,0,1,!1),new c(1,0,1,!0),new c(2,1,1,!1),new c(3,1,1,!0),new c(4,2,.7,!1),new c(5,2,.7,!0),new c(6,3,.5,!1),new c(7,3,.5,!0)],k=[4,5,4,5,6,7,6,7],d=[5,5,5,5,7,7,7,7],n=[2,3,4,5,6,7,6,7],m=[3,3,5,5,7,7,7,7],q=[1,1,3,3,5,5,7,7];l.exports={DISPLAY:b[0],TEXT:b[2],SCRIPT:b[4],SCRIPTSCRIPT:b[6]}},{}],827:[function(a,l,f){var c=a("./domTree"),e=a("./fontMetrics"),h=a("./symbols"),b=a("./utils"),k="\\Gamma \\Delta \\Theta \\Lambda \\Xi \\Pi \\Sigma \\Upsilon \\Phi \\Psi \\Omega".split(" "),d=["\u0131",
"\u0237"],n=function(a,b,d,f,g){h[d][a]&&h[d][a].replace&&(a=h[d][a].replace);(d=e.getCharacterMetrics(a,b))?a=new c.symbolNode(a,d.height,d.depth,d.italic,d.skew,g):("undefined"!==typeof console&&console.warn("No character metrics for '"+a+"' in style '"+b+"'"),a=new c.symbolNode(a,0,0,0,0,g));f&&(a.style.color=f);return a},m=function(a,b,c,d,e){if("mathord"===e)return q(a,b,c,d);if("textord"===e)return n(a,"Main-Regular",b,c,d.concat(["mathrm"]));throw Error("unexpected type: "+e+" in mathDefault");
},q=function(a,c,e,h){return/[0-9]/.test(a.charAt(0))||b.contains(d,a)||b.contains(k,a)?n(a,"Main-Italic",c,e,h.concat(["mainit"])):n(a,"Math-Italic",c,e,h.concat(["mathit"]))},w=function(a){var b=0,c=0,d=0;if(a.children)for(var e=0;e<a.children.length;e++)a.children[e].height>b&&(b=a.children[e].height),a.children[e].depth>c&&(c=a.children[e].depth),a.children[e].maxFontSize>d&&(d=a.children[e].maxFontSize);a.height=b;a.depth=c;a.maxFontSize=d},p=function(a,b,d){a=new c.span(a,b);w(a);d&&(a.style.color=
d);return a},r={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}};l.exports={fontMap:r,makeSymbol:n,mathsym:function(a,
b,c,d){return"\\"===a||"main"===h[b][a].font?n(a,"Main-Regular",b,c,d):n(a,"AMS-Regular",b,c,d.concat(["amsrm"]))},makeSpan:p,makeFragment:function(a){a=new c.documentFragment(a);w(a);return a},makeVList:function(a,b,d,e){var g;if("individualShift"===b){var h=a;a=[h[0]];d=b=-h[0].shift-h[0].elem.depth;for(g=1;g<h.length;g++){var f=-h[g].shift-d-h[g].elem.depth,k=f-(h[g-1].elem.height+h[g-1].elem.depth);d+=f;a.push({type:"kern",size:k});a.push(h[g])}}else if("top"===b)for(b=d,g=0;g<a.length;g++)b=
"kern"===a[g].type?b-a[g].size:b-(a[g].elem.height+a[g].elem.depth);else b="bottom"===b?-d:"shift"===b?-a[0].elem.depth-d:"firstBaseline"===b?-a[0].elem.depth:0;for(g=d=0;g<a.length;g++)"elem"===a[g].type&&(d=Math.max(d,a[g].elem.maxFontSize));g=p([],[new c.symbolNode("\u200b")]);g.style.fontSize=d/e.style.sizeMultiplier+"em";h=p(["fontsize-ensurer","reset-"+e.size,"size5"],[g]);e=[];d=b;for(g=0;g<a.length;g++)"kern"===a[g].type?d+=a[g].size:(k=a[g].elem,f=-k.depth-d,d+=k.height+k.depth,k=p([],[h,
k]),k.height-=f,k.depth+=f,k.style.top=f+"em",e.push(k));a=p(["baseline-fix"],[h,new c.symbolNode("\u200b")]);e.push(a);a=p(["vlist"],e);a.height=Math.max(d,a.height);a.depth=Math.max(-b,a.depth);return a},makeOrd:function(a,c,f){var k=a.mode;a=a.value;h[k][a]&&h[k][a].replace&&(a=h[k][a].replace);var g=["mord"],l=c.getColor();if(c=c.font){if("mathit"===c||b.contains(d,a))return q(a,k,l,g);var p=r[c].fontName;return e.getCharacterMetrics(a,p)?n(a,p,k,l,g.concat([c])):m(a,k,l,g,f)}return m(a,k,l,g,
f)},sizingMultiplier:{size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49},spacingFunctions:{"\\qquad":{size:"2em",className:"qquad"},"\\quad":{size:"1em",className:"quad"},"\\enspace":{size:"0.5em",className:"enspace"},"\\;":{size:"0.277778em",className:"thickspace"},"\\:":{size:"0.22222em",className:"mediumspace"},"\\,":{size:"0.16667em",className:"thinspace"},"\\!":{size:"-0.16667em",className:"negativethinspace"}}}},{"./domTree":832,"./fontMetrics":834,
"./symbols":840,"./utils":841}],828:[function(a,l,f){var c=a("./ParseError"),e=a("./Style"),h=a("./buildCommon"),b=a("./delimiter"),k=a("./domTree"),d=a("./fontMetrics"),n=a("./utils"),m=h.makeSpan,q=function(a,b,c){for(var d=[],e=0;e<a.length;e++){var g=a[e];d.push(A(g,b,c));c=g}return d},w={mathord:"mord",textord:"mord",bin:"mbin",rel:"mrel",text:"mord",open:"mopen",close:"mclose",inner:"minner",genfrac:"mord",array:"mord",spacing:"mord",punct:"mpunct",ordgroup:"mord",op:"mop",katex:"mord",overline:"mord",
rule:"mord",leftright:"minner",sqrt:"mord",accent:"mord"},p=function(a){return null==a?w.mathord:"supsub"===a.type?p(a.value.base):"llap"===a.type||"rlap"===a.type?p(a.value):"color"===a.type?p(a.value.value):"sizing"===a.type?p(a.value.value):"styling"===a.type?p(a.value.value):"delimsizing"===a.type?w[a.value.delimType]:w[a.type]},r=function(a){return a?"ordgroup"===a.type?1===a.value.length?r(a.value[0]):a:"color"===a.type?1===a.value.value.length?r(a.value.value[0]):a:a:!1},t=function(a){a=r(a);
return"mathord"===a.type||"textord"===a.type||"bin"===a.type||"rel"===a.type||"inner"===a.type||"open"===a.type||"close"===a.type||"punct"===a.type},u=function(a){return m(["sizing","reset-"+a.size,"size5",a.style.reset(),e.TEXT.cls(),"nulldelimiter"])},y={mathord:function(a,b,c){return h.makeOrd(a,b,"mathord")},textord:function(a,b,c){return h.makeOrd(a,b,"textord")},bin:function(a,b,c){for(var d="mbin",e=c;e&&"color"===e.type;)e=e.value.value,e=e[e.length-1];if(!c||n.contains(["mbin","mopen","mrel",
"mop","mpunct"],p(e)))a.type="textord",d="mord";return h.mathsym(a.value,a.mode,b.getColor(),[d])},rel:function(a,b,c){return h.mathsym(a.value,a.mode,b.getColor(),["mrel"])},open:function(a,b,c){return h.mathsym(a.value,a.mode,b.getColor(),["mopen"])},close:function(a,b,c){return h.mathsym(a.value,a.mode,b.getColor(),["mclose"])},inner:function(a,b,c){return h.mathsym(a.value,a.mode,b.getColor(),["minner"])},punct:function(a,b,c){return h.mathsym(a.value,a.mode,b.getColor(),["mpunct"])},ordgroup:function(a,
b,c){return m(["mord",b.style.cls()],q(a.value,b.reset()))},text:function(a,b,c){return m(["text","mord",b.style.cls()],q(a.value.body,b.reset()))},color:function(a,b,c){a=q(a.value.value,b.withColor(a.value.color),c);return new h.makeFragment(a)},supsub:function(a,b,c){var g=a.value.base;if(g&&("op"===g.type?g.value.limits&&(b.style.size===e.DISPLAY.size||g.value.alwaysHandleSupSub):"accent"===g.type&&t(g.value.base)))return y[a.value.base.type](a,b,c);c=A(a.value.base,b.reset());var f,l,n,q;a.value.sup&&
(n=A(a.value.sup,b.withStyle(b.style.sup())),f=m([b.style.reset(),b.style.sup().cls()],[n]));a.value.sub&&(q=A(a.value.sub,b.withStyle(b.style.sub())),l=m([b.style.reset(),b.style.sub().cls()],[q]));var u,r;t(a.value.base)?r=u=0:(u=c.height-d.metrics.supDrop,r=c.depth+d.metrics.subDrop);var w;w=b.style===e.DISPLAY?d.metrics.sup1:b.style.cramped?d.metrics.sup3:d.metrics.sup2;g=.5/d.metrics.ptPerEm/(e.TEXT.sizeMultiplier*b.style.sizeMultiplier)+"em";a.value.sup?a.value.sub?(u=Math.max(u,w,n.depth+.25*
d.metrics.xHeight),r=Math.max(r,d.metrics.sub2),w=d.metrics.defaultRuleThickness,u-n.depth-(q.height-r)<4*w&&(r=4*w-(u-n.depth)+q.height,n=.8*d.metrics.xHeight-(u-n.depth),0<n&&(u+=n,r-=n)),b=h.makeVList([{type:"elem",elem:l,shift:r},{type:"elem",elem:f,shift:-u}],"individualShift",null,b),c instanceof k.symbolNode&&(b.children[0].style.marginLeft=-c.italic+"em"),b.children[0].style.marginRight=g,b.children[1].style.marginRight=g):(u=Math.max(u,w,n.depth+.25*d.metrics.xHeight),b=h.makeVList([{type:"elem",
elem:f}],"shift",-u,b),b.children[0].style.marginRight=g):(r=Math.max(r,d.metrics.sub1,q.height-.8*d.metrics.xHeight),b=h.makeVList([{type:"elem",elem:l}],"shift",r,b),b.children[0].style.marginRight=g,c instanceof k.symbolNode&&(b.children[0].style.marginLeft=-c.italic+"em"));return m([p(a.value.base)],[c,b])},genfrac:function(a,c,f){f=c.style;"display"===a.value.size?f=e.DISPLAY:"text"===a.value.size&&(f=e.TEXT);var g=f.fracNum(),k=f.fracDen(),l=A(a.value.numer,c.withStyle(g)),g=m([f.reset(),g.cls()],
[l]),n=A(a.value.denom,c.withStyle(k)),k=m([f.reset(),k.cls()],[n]),q;q=a.value.hasBarLine?d.metrics.defaultRuleThickness/c.style.sizeMultiplier:0;var p,r,t;f.size===e.DISPLAY.size?(p=d.metrics.num1,r=0<q?3*q:7*d.metrics.defaultRuleThickness,t=d.metrics.denom1):(0<q?(p=d.metrics.num2,r=q):(p=d.metrics.num3,r=3*d.metrics.defaultRuleThickness),t=d.metrics.denom2);if(0===q)l=p-l.depth-(n.height-t),l<r&&(p+=.5*(r-l),t+=.5*(r-l)),g=h.makeVList([{type:"elem",elem:k,shift:t},{type:"elem",elem:g,shift:-p}],
"individualShift",null,c);else{var w=d.metrics.axisHeight;p-l.depth-(w+.5*q)<r&&(p+=r-(p-l.depth-(w+.5*q)));w-.5*q-(n.height-t)<r&&(t+=r-(w-.5*q-(n.height-t)));l=m([c.style.reset(),e.TEXT.cls(),"frac-line"]);l.height=q;g=h.makeVList([{type:"elem",elem:k,shift:t},{type:"elem",elem:l,shift:-(w-.5*q)},{type:"elem",elem:g,shift:-p}],"individualShift",null,c)}g.height*=f.sizeMultiplier/c.style.sizeMultiplier;g.depth*=f.sizeMultiplier/c.style.sizeMultiplier;k=f.size===e.DISPLAY.size?d.metrics.delim1:d.metrics.getDelim2(f);
l=null==a.value.leftDelim?u(c):b.customSizedDelim(a.value.leftDelim,k,!0,c.withStyle(f),a.mode);a=null==a.value.rightDelim?u(c):b.customSizedDelim(a.value.rightDelim,k,!0,c.withStyle(f),a.mode);return m(["mord",c.style.reset(),f.cls()],[l,m(["mfrac"],[g]),a],c.getColor())},array:function(a,b,e){var g,f;e=a.value.body.length;var k=0,l=Array(e),q=1/d.metrics.ptPerEm,p=5*q,q=12*q,q=n.deflt(a.value.arraystretch,1)*q,u=.7*q,r=.3*q;for(g=q=0;g<a.value.body.length;++g){var t=a.value.body[g],w=u,y=r;k<t.length&&
(k=t.length);var v=Array(t.length);for(f=0;f<t.length;++f){var z=A(t[f],b);y<z.depth&&(y=z.depth);w<z.height&&(w=z.height);v[f]=z}f=0;if(a.value.rowGaps[g]){f=a.value.rowGaps[g].value;switch(f.unit){case "em":f=f.number;break;case "ex":f=f.number*d.metrics.emPerEx;break;default:console.error("Can't handle unit "+f.unit),f=0}0<f&&(f+=r,y<f&&(y=f),f=0)}v.height=w;v.depth=y;q+=w;v.pos=q;q+=y+f;l[g]=v}u=q/2+d.metrics.axisHeight;r=a.value.cols||[];w=[];for(y=f=0;f<k||y<r.length;++f,++y){v=r[y]||{};for(g=
!0;"separator"===v.type;){g||(g=m(["arraycolsep"],[]),g.style.width=d.metrics.doubleRuleSep+"em",w.push(g));if("|"===v.separator)g=m(["vertical-separator"],[]),g.style.height=q+"em",g.style.verticalAlign=-(q-u)+"em",w.push(g);else throw new c("Invalid separator type: "+v.separator);y++;v=r[y]||{};g=!1}if(!(f>=k)){if(0<f||a.value.hskipBeforeAndAfter)t=n.deflt(v.pregap,p),0!==t&&(g=m(["arraycolsep"],[]),g.style.width=t+"em",w.push(g));t=[];for(g=0;g<e;++g){var z=l[g],M=z[f];if(M){var O=z.pos-u;M.depth=
z.depth;M.height=z.height;t.push({type:"elem",elem:M,shift:O})}}t=h.makeVList(t,"individualShift",null,b);t=m(["col-align-"+(v.align||"c")],[t]);w.push(t);if(f<k-1||a.value.hskipBeforeAndAfter)t=n.deflt(v.postgap,p),0!==t&&(g=m(["arraycolsep"],[]),g.style.width=t+"em",w.push(g))}}l=m(["mtable"],w);return m(["mord"],[l],b.getColor())},spacing:function(a,b,c){return"\\ "===a.value||"\\space"===a.value||" "===a.value||"~"===a.value?m(["mord","mspace"],[h.mathsym(a.value,a.mode)]):m(["mord","mspace",
h.spacingFunctions[a.value].className])},llap:function(a,b,c){a=m(["inner"],[A(a.value.body,b.reset())]);c=m(["fix"],[]);return m(["llap",b.style.cls()],[a,c])},rlap:function(a,b,c){a=m(["inner"],[A(a.value.body,b.reset())]);c=m(["fix"],[]);return m(["rlap",b.style.cls()],[a,c])},op:function(a,b,c){var g,f,k=!1;"supsub"===a.type&&(g=a.value.sup,f=a.value.sub,a=a.value.base,k=!0);c=["\\smallint"];var l=!1;b.style.size===e.DISPLAY.size&&a.value.symbol&&!n.contains(c,a.value.body)&&(l=!0);var q=0;c=
0;if(a.value.symbol)l=h.makeSymbol(a.value.body,l?"Size2-Regular":"Size1-Regular","math",b.getColor(),["op-symbol",l?"large-op":"small-op","mop"]),q=(l.height-l.depth)/2-d.metrics.axisHeight*b.style.sizeMultiplier,c=l.italic;else{for(var l=[],p=1;p<a.value.body.length;p++)l.push(h.mathsym(a.value.body[p],a.mode));l=m(["mop"],l,b.getColor())}if(k){var l=m([],[l]),u,r,t,w;g&&(r=A(g,b.withStyle(b.style.sup())),u=m([b.style.reset(),b.style.sup().cls()],[r]),r=Math.max(d.metrics.bigOpSpacing1,d.metrics.bigOpSpacing3-
r.depth));f&&(w=A(f,b.withStyle(b.style.sub())),t=m([b.style.reset(),b.style.sub().cls()],[w]),w=Math.max(d.metrics.bigOpSpacing2,d.metrics.bigOpSpacing4-w.height));if(g)if(f)if(g||f)g=d.metrics.bigOpSpacing5+t.height+t.depth+w+l.depth+q,b=h.makeVList([{type:"kern",size:d.metrics.bigOpSpacing5},{type:"elem",elem:t},{type:"kern",size:w},{type:"elem",elem:l},{type:"kern",size:r},{type:"elem",elem:u},{type:"kern",size:d.metrics.bigOpSpacing5}],"bottom",g,b),b.children[0].style.marginLeft=-c+"em",b.children[2].style.marginLeft=
c+"em";else return l;else g=l.depth+q,b=h.makeVList([{type:"elem",elem:l},{type:"kern",size:r},{type:"elem",elem:u},{type:"kern",size:d.metrics.bigOpSpacing5}],"bottom",g,b),b.children[1].style.marginLeft=c+"em";else u=l.height-q,b=h.makeVList([{type:"kern",size:d.metrics.bigOpSpacing5},{type:"elem",elem:t},{type:"kern",size:w},{type:"elem",elem:l}],"top",u,b),b.children[0].style.marginLeft=-c+"em";return m(["mop","op-limits"],[b])}a.value.symbol&&(l.style.top=q+"em");return l},katex:function(a,b,
c){c=m(["k"],[h.mathsym("K",a.mode)]);var d=m(["a"],[h.mathsym("A",a.mode)]);d.height=.75*(d.height+.2);d.depth=.75*(d.height-.2);var e=m(["t"],[h.mathsym("T",a.mode)]),g=m(["e"],[h.mathsym("E",a.mode)]);g.height-=.2155;g.depth+=.2155;a=m(["x"],[h.mathsym("X",a.mode)]);return m(["katex-logo","mord"],[c,d,e,g,a],b.getColor())},overline:function(a,b,c){a=A(a.value.body,b.withStyle(b.style.cramp()));c=d.metrics.defaultRuleThickness/b.style.sizeMultiplier;var g=m([b.style.reset(),e.TEXT.cls(),"overline-line"]);
g.height=c;g.maxFontSize=1;a=h.makeVList([{type:"elem",elem:a},{type:"kern",size:3*c},{type:"elem",elem:g},{type:"kern",size:c}],"firstBaseline",null,b);return m(["overline","mord"],[a],b.getColor())},sqrt:function(a,c,f){var g=A(a.value.body,c.withStyle(c.style.cramp())),k=d.metrics.defaultRuleThickness/c.style.sizeMultiplier,l=m([c.style.reset(),e.TEXT.cls(),"sqrt-line"],[],c.getColor());l.height=k;l.maxFontSize=1;f=k;c.style.id<e.TEXT.id&&(f=d.metrics.xHeight);var n=k+f/4;f=m(["sqrt-sign"],[b.customSizedDelim("\\surd",
(g.height+g.depth)*c.style.sizeMultiplier+n+k,!1,c,a.mode)],c.getColor());var q=f.height+f.depth-k;q>g.height+g.depth+n&&(n=(n+q-g.height-g.depth)/2);q=-(g.height+n+k)+f.height;f.style.top=q+"em";f.height-=q;f.depth+=q;g=0===g.height&&0===g.depth?m():h.makeVList([{type:"elem",elem:g},{type:"kern",size:n},{type:"elem",elem:l},{type:"kern",size:k}],"firstBaseline",null,c);return a.value.index?(a=A(a.value.index,c.withStyle(e.SCRIPTSCRIPT)),a=m([c.style.reset(),e.SCRIPTSCRIPT.cls()],[a]),c=h.makeVList([{type:"elem",
elem:a}],"shift",-(.6*(Math.max(f.height,g.height)-Math.max(f.depth,g.depth))),c),c=m(["root"],[c]),m(["sqrt","mord"],[c,f,g])):m(["sqrt","mord"],[f,g])},sizing:function(a,b,c){c=q(a.value.value,b.withSize(a.value.size),c);c=m(["mord"],[m(["sizing","reset-"+b.size,a.value.size,b.style.cls()],c)]);c.maxFontSize=h.sizingMultiplier[a.value.size]*b.style.sizeMultiplier;return c},styling:function(a,b,c){var d={display:e.DISPLAY,text:e.TEXT,script:e.SCRIPT,scriptscript:e.SCRIPTSCRIPT}[a.value.style];a=
q(a.value.value,b.withStyle(d),c);return m([b.style.reset(),d.cls()],a)},font:function(a,b,c){return A(a.value.body,b.withFont(a.value.font),c)},delimsizing:function(a,c,d){d=a.value.value;return"."===d?m([w[a.value.delimType]]):m([w[a.value.delimType]],[b.sizedDelim(d,a.value.size,c,a.mode)])},leftright:function(a,c,d){d=q(a.value.body,c.reset());for(var e=0,g=0,h=0;h<d.length;h++)e=Math.max(d[h].height,e),g=Math.max(d[h].depth,g);e*=c.style.sizeMultiplier;g*=c.style.sizeMultiplier;h="."===a.value.left?
u(c):b.leftRightDelim(a.value.left,e,g,c,a.mode);d.unshift(h);a="."===a.value.right?u(c):b.leftRightDelim(a.value.right,e,g,c,a.mode);d.push(a);return m(["minner",c.style.cls()],d,c.getColor())},rule:function(a,b,c){c=m(["mord","rule"],[],b.getColor());var e=0;a.value.shift&&(e=a.value.shift.number,"ex"===a.value.shift.unit&&(e*=d.metrics.xHeight));var g=a.value.width.number;"ex"===a.value.width.unit&&(g*=d.metrics.xHeight);var h=a.value.height.number;"ex"===a.value.height.unit&&(h*=d.metrics.xHeight);
e/=b.style.sizeMultiplier;g/=b.style.sizeMultiplier;h/=b.style.sizeMultiplier;c.style.borderRightWidth=g+"em";c.style.borderTopWidth=h+"em";c.style.bottom=e+"em";c.width=g;c.height=h+e;c.depth=-e;return c},accent:function(a,b,c){var e=a.value.base,g;"supsub"===a.type&&(g=a,a=g.value.base,e=a.value.base,g.value.base=e,g=A(g,b.reset(),c));c=A(e,b.withStyle(b.style.cramp()));t(e)?(e=r(e),e=A(e,b.withStyle(b.style.cramp())).skew):e=0;var f=Math.min(c.height,d.metrics.xHeight),k=h.makeSymbol(a.value.accent,
"Main-Regular","math",b.getColor());k.italic=0;a=m(["accent-body","\\vec"===a.value.accent?"accent-vec":null],[m([],[k])]);a=h.makeVList([{type:"elem",elem:c},{type:"kern",size:-f},{type:"elem",elem:a}],"firstBaseline",null,b);a.children[1].style.marginLeft=2*e+"em";b=m(["mord","accent"],[a]);return g?(g.children[0]=b,g.height=Math.max(b.height,g.height),g.classes[0]="mord",g):b},phantom:function(a,b,c){a=q(a.value.value,b.withPhantom(),c);return new h.makeFragment(a)}},A=function(a,b,d){if(!a)return m();
if(y[a.type])return a=y[a.type](a,b,d),b.style!==b.parentStyle&&(d=b.style.sizeMultiplier/b.parentStyle.sizeMultiplier,a.height*=d,a.depth*=d),b.size!==b.parentSize&&(d=h.sizingMultiplier[b.size]/h.sizingMultiplier[b.parentSize],a.height*=d,a.depth*=d),a;throw new c("Got group of unknown type: '"+a.type+"'");};l.exports=function(a,b){a=JSON.parse(JSON.stringify(a));a=q(a,b);b=m(["base",b.style.cls()],a);a=m(["strut"]);var c=m(["strut","bottom"]);a.style.height=b.height+"em";c.style.height=b.height+
b.depth+"em";c.style.verticalAlign=-b.depth+"em";b=m(["katex-html"],[a,c,b]);b.setAttribute("aria-hidden","true");return b}},{"./ParseError":823,"./Style":826,"./buildCommon":827,"./delimiter":831,"./domTree":832,"./fontMetrics":834,"./utils":841}],829:[function(a,l,f){var c=a("./buildCommon"),e=a("./fontMetrics"),h=a("./mathMLTree"),b=a("./ParseError"),k=a("./symbols"),d=a("./utils"),n=c.makeSpan,m=c.fontMap,q=function(a,b){k[b][a]&&k[b][a].replace&&(a=k[b][a].replace);return new h.TextNode(a)},
w=function(a,b){var c=b.font;if(!c)return null;var g=a.mode;if("mathit"===c)return"italic";a=a.value;if(d.contains(["\\imath","\\jmath"],a))return null;k[g][a]&&k[g][a].replace&&(a=k[g][a].replace);return e.getCharacterMetrics(a,m[c].fontName)?m[b.font].variant:null},p={mathord:function(a,b){var c=new h.MathNode("mi",[q(a.value,a.mode)]);(a=w(a,b))&&c.setAttribute("mathvariant",a);return c},textord:function(a,b){var c=q(a.value,a.mode),d=w(a,b)||"normal";/[0-9]/.test(a.value)?(a=new h.MathNode("mn",
[c]),b.font&&a.setAttribute("mathvariant",d)):(a=new h.MathNode("mi",[c]),a.setAttribute("mathvariant",d));return a},bin:function(a){return new h.MathNode("mo",[q(a.value,a.mode)])},rel:function(a){return new h.MathNode("mo",[q(a.value,a.mode)])},open:function(a){return new h.MathNode("mo",[q(a.value,a.mode)])},close:function(a){return new h.MathNode("mo",[q(a.value,a.mode)])},inner:function(a){return new h.MathNode("mo",[q(a.value,a.mode)])},punct:function(a){a=new h.MathNode("mo",[q(a.value,a.mode)]);
a.setAttribute("separator","true");return a},ordgroup:function(a,b){a=r(a.value,b);return new h.MathNode("mrow",a)},text:function(a,b){a=r(a.value.body,b);return new h.MathNode("mtext",a)},color:function(a,b){b=r(a.value.value,b);b=new h.MathNode("mstyle",b);b.setAttribute("mathcolor",a.value.color);return b},supsub:function(a,b){var c=[t(a.value.base,b)];a.value.sub&&c.push(t(a.value.sub,b));a.value.sup&&c.push(t(a.value.sup,b));return new h.MathNode(a.value.sub?a.value.sup?"msubsup":"msub":"msup",
c)},genfrac:function(a,b){var c=new h.MathNode("mfrac",[t(a.value.numer,b),t(a.value.denom,b)]);a.value.hasBarLine||c.setAttribute("linethickness","0px");if(null!=a.value.leftDelim||null!=a.value.rightDelim){b=[];if(null!=a.value.leftDelim){var d=new h.MathNode("mo",[new h.TextNode(a.value.leftDelim)]);d.setAttribute("fence","true");b.push(d)}b.push(c);null!=a.value.rightDelim&&(a=new h.MathNode("mo",[new h.TextNode(a.value.rightDelim)]),a.setAttribute("fence","true"),b.push(a));return new h.MathNode("mrow",
b)}return c},array:function(a,b){return new h.MathNode("mtable",a.value.body.map(function(a){return new h.MathNode("mtr",a.map(function(a){return new h.MathNode("mtd",[t(a,b)])}))}))},sqrt:function(a,b){return a.value.index?new h.MathNode("mroot",[t(a.value.body,b),t(a.value.index,b)]):new h.MathNode("msqrt",[t(a.value.body,b)])},leftright:function(a,b){b=r(a.value.body,b);if("."!==a.value.left){var c=new h.MathNode("mo",[q(a.value.left,a.mode)]);c.setAttribute("fence","true");b.unshift(c)}"."!==
a.value.right&&(a=new h.MathNode("mo",[q(a.value.right,a.mode)]),a.setAttribute("fence","true"),b.push(a));return new h.MathNode("mrow",b)},accent:function(a,b){var c=new h.MathNode("mo",[q(a.value.accent,a.mode)]);a=new h.MathNode("mover",[t(a.value.base,b),c]);a.setAttribute("accent","true");return a},spacing:function(a){var b;"\\ "===a.value||"\\space"===a.value||" "===a.value||"~"===a.value?b=new h.MathNode("mtext",[new h.TextNode("\u00a0")]):(b=new h.MathNode("mspace"),b.setAttribute("width",
c.spacingFunctions[a.value].size));return b},op:function(a){return a.value.symbol?new h.MathNode("mo",[q(a.value.body,a.mode)]):new h.MathNode("mi",[new h.TextNode(a.value.body.slice(1))])},katex:function(a){return new h.MathNode("mtext",[new h.TextNode("KaTeX")])},font:function(a,b){return t(a.value.body,b.withFont(a.value.font))},delimsizing:function(a){var b=[];"."!==a.value.value&&b.push(q(a.value.value,a.mode));b=new h.MathNode("mo",b);"open"===a.value.delimType||"close"===a.value.delimType?
b.setAttribute("fence","true"):b.setAttribute("fence","false");return b},styling:function(a,b){b=r(a.value.value,b);b=new h.MathNode("mstyle",b);a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[a.value.style];b.setAttribute("scriptlevel",a[0]);b.setAttribute("displaystyle",a[1]);return b},sizing:function(a,b){b=r(a.value.value,b);b=new h.MathNode("mstyle",b);b.setAttribute("mathsize",c.sizingMultiplier[a.value.size]+"em");return b},overline:function(a,b){var c=
new h.MathNode("mo",[new h.TextNode("\u203e")]);c.setAttribute("stretchy","true");a=new h.MathNode("mover",[t(a.value.body,b),c]);a.setAttribute("accent","true");return a},rule:function(a){return new h.MathNode("mrow")},llap:function(a,b){a=new h.MathNode("mpadded",[t(a.value.body,b)]);a.setAttribute("lspace","-1width");a.setAttribute("width","0px");return a},rlap:function(a,b){a=new h.MathNode("mpadded",[t(a.value.body,b)]);a.setAttribute("width","0px");return a},phantom:function(a,b,c){a=r(a.value.value,
b);return new h.MathNode("mphantom",a)}},r=function(a,b){for(var c=[],d=0;d<a.length;d++)c.push(t(a[d],b));return c},t=function(a,c){if(!a)return new h.MathNode("mrow");if(p[a.type])return p[a.type](a,c);throw new b("Got group of unknown type: '"+a.type+"'");};l.exports=function(a,b,c){a=r(a,c);a=new h.MathNode("mrow",a);b=new h.MathNode("annotation",[new h.TextNode(b)]);b.setAttribute("encoding","application/x-tex");b=new h.MathNode("semantics",[a,b]);b=new h.MathNode("math",[b]);return n(["katex-mathml"],
[b])}},{"./ParseError":823,"./buildCommon":827,"./fontMetrics":834,"./mathMLTree":837,"./symbols":840,"./utils":841}],830:[function(a,l,f){var c=a("./buildHTML"),e=a("./buildMathML");f=a("./buildCommon");var h=a("./Options"),b=a("./Settings"),k=a("./Style"),d=f.makeSpan;l.exports=function(a,f,l){l=l||new b({});var m=k.TEXT;l.displayMode&&(m=k.DISPLAY);m=new h({style:m,size:"size5"});f=e(a,f,m);a=c(a,m);a=d(["katex"],[f,a]);return l.displayMode?d(["katex-display"],[a]):a}},{"./Options":822,"./Settings":825,
"./Style":826,"./buildCommon":827,"./buildHTML":828,"./buildMathML":829}],831:[function(a,l,f){var c=a("./ParseError"),e=a("./Style"),h=a("./buildCommon"),b=a("./fontMetrics"),k=a("./symbols"),d=a("./utils"),n=h.makeSpan,m=function(a,c){return k.math[a]&&k.math[a].replace?b.getCharacterMetrics(k.math[a].replace,c):b.getCharacterMetrics(a,c)},q=function(a,b,c){a=n(["style-wrap",c.style.reset(),b.cls()],[a]);c=b.sizeMultiplier/c.style.sizeMultiplier;a.height*=c;a.depth*=c;a.maxFontSize=b.sizeMultiplier;
return a},w=function(a,c,d,g,f){a=h.makeSymbol(a,"Size"+c+"-Regular",f);c=q(n(["delimsizing","size"+c],[a],g.getColor()),e.TEXT,g);d&&(d=(1-g.style.sizeMultiplier)*b.metrics.axisHeight,c.style.top=d+"em",c.height-=d,c.depth+=d);return c},p=function(a,b,c){var d;"Size1-Regular"===b?d="delim-size1":"Size4-Regular"===b&&(d="delim-size4");return{type:"elem",elem:n(["delimsizinginner",d],[n([],[h.makeSymbol(a,b,c)])])}},r=function(a,c,d,g,f){var k,l,r,t;k=r=t=a;l=null;var u="Size1-Regular";"\\uparrow"===
a?r=t="\u23d0":"\\Uparrow"===a?r=t="\u2016":"\\downarrow"===a?k=r="\u23d0":"\\Downarrow"===a?k=r="\u2016":"\\updownarrow"===a?(k="\\uparrow",r="\u23d0",t="\\downarrow"):"\\Updownarrow"===a?(k="\\Uparrow",r="\u2016",t="\\Downarrow"):"["===a||"\\lbrack"===a?(k="\u23a1",r="\u23a2",t="\u23a3",u="Size4-Regular"):"]"===a||"\\rbrack"===a?(k="\u23a4",r="\u23a5",t="\u23a6",u="Size4-Regular"):"\\lfloor"===a?(r=k="\u23a2",t="\u23a3",u="Size4-Regular"):"\\lceil"===a?(k="\u23a1",r=t="\u23a2",u="Size4-Regular"):
"\\rfloor"===a?(r=k="\u23a5",t="\u23a6",u="Size4-Regular"):"\\rceil"===a?(k="\u23a4",r=t="\u23a5",u="Size4-Regular"):"("===a?(k="\u239b",r="\u239c",t="\u239d",u="Size4-Regular"):")"===a?(k="\u239e",r="\u239f",t="\u23a0",u="Size4-Regular"):"\\{"===a||"\\lbrace"===a?(k="\u23a7",l="\u23a8",t="\u23a9",r="\u23aa",u="Size4-Regular"):"\\}"===a||"\\rbrace"===a?(k="\u23ab",l="\u23ac",t="\u23ad",r="\u23aa",u="Size4-Regular"):"\\lgroup"===a?(k="\u23a7",t="\u23a9",r="\u23aa",u="Size4-Regular"):"\\rgroup"===a?
(k="\u23ab",t="\u23ad",r="\u23aa",u="Size4-Regular"):"\\lmoustache"===a?(k="\u23a7",t="\u23ad",r="\u23aa",u="Size4-Regular"):"\\rmoustache"===a?(k="\u23ab",t="\u23a9",r="\u23aa",u="Size4-Regular"):"\\surd"===a&&(k="\ue001",t="\u23b7",r="\ue000",u="Size4-Regular");a=m(k,u);var w=a.height+a.depth;a=m(r,u);a=a.height+a.depth;var y=m(t,u),D=y.height+y.depth,v=0,y=1;null!==l&&(y=m(l,u),v=y.height+y.depth,y=2);w=w+D+v;c=Math.ceil((c-w)/(y*a));D=b.metrics.axisHeight;d&&(D*=g.style.sizeMultiplier);d=(w+c*
y*a)/2-D;a=[];a.push(p(t,u,f));if(null!==l){for(t=0;t<c;t++)a.push(p(r,u,f));a.push(p(l,u,f))}for(t=0;t<c;t++)a.push(p(r,u,f));a.push(p(k,u,f));f=h.makeVList(a,"bottom",d,g);return q(n(["delimsizing","mult"],[f],g.getColor()),e.TEXT,g)},t="( ) [ \\lbrack ] \\rbrack \\{ \\lbrace \\} \\rbrace \\lfloor \\rfloor \\lceil \\rceil \\surd".split(" "),u="\\uparrow \\downarrow \\updownarrow \\Uparrow \\Downarrow \\Updownarrow | \\| \\vert \\Vert \\lvert \\rvert \\lVert \\rVert \\lgroup \\rgroup \\lmoustache \\rmoustache".split(" "),
y="< > \\langle \\rangle / \\backslash".split(" "),A=[0,1.2,1.8,2.4,3],g=[{type:"small",style:e.SCRIPTSCRIPT},{type:"small",style:e.SCRIPT},{type:"small",style:e.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],v=[{type:"small",style:e.SCRIPTSCRIPT},{type:"small",style:e.SCRIPT},{type:"small",style:e.TEXT},{type:"stack"}],z=[{type:"small",style:e.SCRIPTSCRIPT},{type:"small",style:e.SCRIPT},{type:"small",style:e.TEXT},{type:"large",size:1},{type:"large",
size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],B=function(a,c,e,f,k){"<"===a?a="\\langle":">"===a&&(a="\\rangle");var l;l=d.contains(y,a)?g:d.contains(t,a)?z:v;a:{for(var n=a,p=Math.min(2,3-f.style.size);p<l.length&&"stack"!==l[p].type;p++){var u=n,D;D=l[p];D="small"===D.type?"Main-Regular":"large"===D.type?"Size"+D.size+"-Regular":"stack"===D.type?"Size4-Regular":void 0;u=m(u,D);u=u.height+u.depth;"small"===l[p].type&&(u*=l[p].style.sizeMultiplier);if(u>c){l=l[p];break a}}l=
l[l.length-1]}if("small"===l.type)return c=l.style,a=h.makeSymbol(a,"Main-Regular",k),a=q(a,c,f),e&&(e=(1-f.style.sizeMultiplier/c.sizeMultiplier)*b.metrics.axisHeight,a.style.top=e+"em",a.height-=e,a.depth+=e),a;if("large"===l.type)return w(a,l.size,e,f,k);if("stack"===l.type)return r(a,c,e,f,k)};l.exports={sizedDelim:function(a,b,e,g){"<"===a?a="\\langle":">"===a&&(a="\\rangle");if(d.contains(t,a)||d.contains(y,a))return w(a,b,!1,e,g);if(d.contains(u,a))return r(a,A[b],!1,e,g);throw new c("Illegal delimiter: '"+
a+"'");},customSizedDelim:B,leftRightDelim:function(a,c,d,e,g){var h=b.metrics.axisHeight*e.style.sizeMultiplier;c=Math.max(c-h,d+h);return B(a,Math.max(c/500*901,2*c-5/b.metrics.ptPerEm),!0,e,g)}}},{"./ParseError":823,"./Style":826,"./buildCommon":827,"./fontMetrics":834,"./symbols":840,"./utils":841}],832:[function(a,l,f){function c(a,b,c,e,h,f){this.classes=a||[];this.children=b||[];this.height=c||0;this.depth=e||0;this.maxFontSize=h||0;this.style=f||{};this.attributes={}}function e(a,b,c,e){this.children=
a||[];this.height=b||0;this.depth=c||0;this.maxFontSize=e||0}function h(a,b,c,e,h,f,k){this.value=a||"";this.height=b||0;this.depth=c||0;this.italic=e||0;this.skew=h||0;this.classes=f||[];this.style=k||{};this.maxFontSize=0}var b=a("./utils"),k=function(a){a=a.slice();for(var b=a.length-1;0<=b;b--)a[b]||a.splice(b,1);return a.join(" ")};c.prototype.setAttribute=function(a,b){this.attributes[a]=b};c.prototype.toNode=function(){var a=document.createElement("span");a.className=k(this.classes);for(var b in this.style)Object.prototype.hasOwnProperty.call(this.style,
b)&&(a.style[b]=this.style[b]);for(var c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&a.setAttribute(c,this.attributes[c]);for(b=0;b<this.children.length;b++)a.appendChild(this.children[b].toNode());return a};c.prototype.toMarkup=function(){var a="<span";this.classes.length&&(a=a+' class="'+b.escape(k(this.classes)),a+='"');var c="",e;for(e in this.style)this.style.hasOwnProperty(e)&&(c+=b.hyphenate(e)+":"+this.style[e]+";");c&&(a+=' style="'+b.escape(c)+'"');for(var h in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,
h)&&(a+=" "+h+'="',a+=b.escape(this.attributes[h]),a+='"');a+=">";for(c=0;c<this.children.length;c++)a+=this.children[c].toMarkup();return a+"</span>"};e.prototype.toNode=function(){for(var a=document.createDocumentFragment(),b=0;b<this.children.length;b++)a.appendChild(this.children[b].toNode());return a};e.prototype.toMarkup=function(){for(var a="",b=0;b<this.children.length;b++)a+=this.children[b].toMarkup();return a};h.prototype.toNode=function(){var a=document.createTextNode(this.value),b=null;
0<this.italic&&(b=document.createElement("span"),b.style.marginRight=this.italic+"em");0<this.classes.length&&(b=b||document.createElement("span"),b.className=k(this.classes));for(var c in this.style)this.style.hasOwnProperty(c)&&(b=b||document.createElement("span"),b.style[c]=this.style[c]);return b?(b.appendChild(a),b):a};h.prototype.toMarkup=function(){var a=!1,c="<span";this.classes.length&&(a=!0,c=c+' class="'+b.escape(k(this.classes)),c+='"');var e="";0<this.italic&&(e+="margin-right:"+this.italic+
"em;");for(var h in this.style)this.style.hasOwnProperty(h)&&(e+=b.hyphenate(h)+":"+this.style[h]+";");e&&(a=!0,c+=' style="'+b.escape(e)+'"');e=b.escape(this.value);return a?c+">"+e+"</span>":e};l.exports={span:c,documentFragment:e,symbolNode:h}},{"./utils":841}],833:[function(a,l,f){function c(a,c,d,e){for(var f=[],l=[f],m=[];;){var n=a.parseExpression(c,d,!1,null);f.push(new b("ordgroup",n.result,d));c=n.position;var q=n.peek.text;if("&"===q)c=n.peek.position;else if("\\end"===q)break;else if("\\\\"===
q||"\\cr"===q)c=a.parseFunction(c,d),m.push(c.result.value.size),c=c.position,f=[],l.push(f);else throw new h("Expected & or \\\\ or \\end",a.lexer,n.peek.position);}e.body=l;e.rowGaps=m;return new k(new b(e.type,e,d),c)}var e=a("./fontMetrics");f=a("./parseData");var h=a("./ParseError"),b=f.ParseNode,k=f.ParseResult,d=[{names:["array"],numArgs:1,handler:function(a,b,d,e,f){var k=this;e=e.value.map?e.value:[e];d={type:"array",cols:e.map(function(a){var b=a.value;if(-1!=="lcr".indexOf(b))return{type:"align",
align:b};if("|"===b)return{type:"separator",separator:"|"};throw new h("Unknown column alignment: "+a.value,k.lexer,f[1]);}),hskipBeforeAndAfter:!0};return d=c(k,a,b,d)}},{names:"matrix pmatrix bmatrix Bmatrix vmatrix Vmatrix".split(" "),handler:function(a,d,e){e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e];var h={type:"array",hskipBeforeAndAfter:!1},h=c(this,a,d,h);e&&(h.result=new b("leftright",{body:[h.result],left:e[0],
right:e[1]},d));return h}},{names:["cases"],handler:function(a,d,h){h={type:"array",arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:e.metrics.quad},{type:"align",align:"l",pregap:0,postgap:0}]};h=c(this,a,d,h);h.result=new b("leftright",{body:[h.result],left:"\\{",right:"."},d);return h}}];l.exports=function(){for(var a={},b=0;b<d.length;++b){var c=d[b];c.greediness=1;c.allowedInText=!!c.allowedInText;c.numArgs=c.numArgs||0;c.numOptionalArgs=c.numOptionalArgs||0;for(var e=0;e<c.names.length;++e)a[c.names[e]]=
c}return a}()},{"./ParseError":823,"./fontMetrics":834,"./parseData":838}],834:[function(a,l,f){var c=a("./Style"),e=a("./fontMetricsData");l.exports={metrics:{xHeight:.431,quad:1,num1:.677,num2:.394,num3:.444,denom1:.686,denom2:.345,sup1:.413,sup2:.363,sup3:.289,sub1:.15,sub2:.247,supDrop:.386,subDrop:.05,axisHeight:.25,defaultRuleThickness:.04,bigOpSpacing1:.111,bigOpSpacing2:.166,bigOpSpacing3:.2,bigOpSpacing4:.6,bigOpSpacing5:.1,ptPerEm:10,emPerEx:.431,doubleRuleSep:.2,delim1:2.39,getDelim2:function(a){if(a.size===
c.TEXT.size)return 1.01;if(a.size===c.SCRIPT.size)return.81;if(a.size===c.SCRIPTSCRIPT.size)return.71;throw Error("Unexpected style size: "+a.size);}},getCharacterMetrics:function(a,b){return e[b][a.charCodeAt(0)]}}},{"./Style":826,"./fontMetricsData":835}],835:[function(a,l,f){l.exports={"AMS-Regular":{65:{depth:0,height:.68889,italic:0,skew:0},66:{depth:0,height:.68889,italic:0,skew:0},67:{depth:0,height:.68889,italic:0,skew:0},68:{depth:0,height:.68889,italic:0,skew:0},69:{depth:0,height:.68889,
italic:0,skew:0},70:{depth:0,height:.68889,italic:0,skew:0},71:{depth:0,height:.68889,italic:0,skew:0},72:{depth:0,height:.68889,italic:0,skew:0},73:{depth:0,height:.68889,italic:0,skew:0},74:{depth:.16667,height:.68889,italic:0,skew:0},75:{depth:0,height:.68889,italic:0,skew:0},76:{depth:0,height:.68889,italic:0,skew:0},77:{depth:0,height:.68889,italic:0,skew:0},78:{depth:0,height:.68889,italic:0,skew:0},79:{depth:.16667,height:.68889,italic:0,skew:0},80:{depth:0,height:.68889,italic:0,skew:0},81:{depth:.16667,
height:.68889,italic:0,skew:0},82:{depth:0,height:.68889,italic:0,skew:0},83:{depth:0,height:.68889,italic:0,skew:0},84:{depth:0,height:.68889,italic:0,skew:0},85:{depth:0,height:.68889,italic:0,skew:0},86:{depth:0,height:.68889,italic:0,skew:0},87:{depth:0,height:.68889,italic:0,skew:0},88:{depth:0,height:.68889,italic:0,skew:0},89:{depth:0,height:.68889,italic:0,skew:0},90:{depth:0,height:.68889,italic:0,skew:0},107:{depth:0,height:.68889,italic:0,skew:0},165:{depth:0,height:.675,italic:.025,skew:0},
174:{depth:.15559,height:.69224,italic:0,skew:0},240:{depth:0,height:.68889,italic:0,skew:0},295:{depth:0,height:.68889,italic:0,skew:0},710:{depth:0,height:.825,italic:0,skew:0},732:{depth:0,height:.9,italic:0,skew:0},770:{depth:0,height:.825,italic:0,skew:0},771:{depth:0,height:.9,italic:0,skew:0},989:{depth:.08167,height:.58167,italic:0,skew:0},1008:{depth:0,height:.43056,italic:.04028,skew:0},8245:{depth:0,height:.54986,italic:0,skew:0},8463:{depth:0,height:.68889,italic:0,skew:0},8487:{depth:0,
height:.68889,italic:0,skew:0},8498:{depth:0,height:.68889,italic:0,skew:0},8502:{depth:0,height:.68889,italic:0,skew:0},8503:{depth:0,height:.68889,italic:0,skew:0},8504:{depth:0,height:.68889,italic:0,skew:0},8513:{depth:0,height:.68889,italic:0,skew:0},8592:{depth:-.03598,height:.46402,italic:0,skew:0},8594:{depth:-.03598,height:.46402,italic:0,skew:0},8602:{depth:-.13313,height:.36687,italic:0,skew:0},8603:{depth:-.13313,height:.36687,italic:0,skew:0},8606:{depth:.01354,height:.52239,italic:0,
skew:0},8608:{depth:.01354,height:.52239,italic:0,skew:0},8610:{depth:.01354,height:.52239,italic:0,skew:0},8611:{depth:.01354,height:.52239,italic:0,skew:0},8619:{depth:0,height:.54986,italic:0,skew:0},8620:{depth:0,height:.54986,italic:0,skew:0},8621:{depth:-.13313,height:.37788,italic:0,skew:0},8622:{depth:-.13313,height:.36687,italic:0,skew:0},8624:{depth:0,height:.69224,italic:0,skew:0},8625:{depth:0,height:.69224,italic:0,skew:0},8630:{depth:0,height:.43056,italic:0,skew:0},8631:{depth:0,height:.43056,
italic:0,skew:0},8634:{depth:.08198,height:.58198,italic:0,skew:0},8635:{depth:.08198,height:.58198,italic:0,skew:0},8638:{depth:.19444,height:.69224,italic:0,skew:0},8639:{depth:.19444,height:.69224,italic:0,skew:0},8642:{depth:.19444,height:.69224,italic:0,skew:0},8643:{depth:.19444,height:.69224,italic:0,skew:0},8644:{depth:.1808,height:.675,italic:0,skew:0},8646:{depth:.1808,height:.675,italic:0,skew:0},8647:{depth:.1808,height:.675,italic:0,skew:0},8648:{depth:.19444,height:.69224,italic:0,skew:0},
8649:{depth:.1808,height:.675,italic:0,skew:0},8650:{depth:.19444,height:.69224,italic:0,skew:0},8651:{depth:.01354,height:.52239,italic:0,skew:0},8652:{depth:.01354,height:.52239,italic:0,skew:0},8653:{depth:-.13313,height:.36687,italic:0,skew:0},8654:{depth:-.13313,height:.36687,italic:0,skew:0},8655:{depth:-.13313,height:.36687,italic:0,skew:0},8666:{depth:.13667,height:.63667,italic:0,skew:0},8667:{depth:.13667,height:.63667,italic:0,skew:0},8669:{depth:-.13313,height:.37788,italic:0,skew:0},
8672:{depth:-.064,height:.437,italic:0,skew:0},8674:{depth:-.064,height:.437,italic:0,skew:0},8705:{depth:0,height:.825,italic:0,skew:0},8708:{depth:0,height:.68889,italic:0,skew:0},8709:{depth:.08167,height:.58167,italic:0,skew:0},8717:{depth:0,height:.43056,italic:0,skew:0},8722:{depth:-.03598,height:.46402,italic:0,skew:0},8724:{depth:.08198,height:.69224,italic:0,skew:0},8726:{depth:.08167,height:.58167,italic:0,skew:0},8733:{depth:0,height:.69224,italic:0,skew:0},8736:{depth:0,height:.69224,
italic:0,skew:0},8737:{depth:0,height:.69224,italic:0,skew:0},8738:{depth:.03517,height:.52239,italic:0,skew:0},8739:{depth:.08167,height:.58167,italic:0,skew:0},8740:{depth:.25142,height:.74111,italic:0,skew:0},8741:{depth:.08167,height:.58167,italic:0,skew:0},8742:{depth:.25142,height:.74111,italic:0,skew:0},8756:{depth:0,height:.69224,italic:0,skew:0},8757:{depth:0,height:.69224,italic:0,skew:0},8764:{depth:-.13313,height:.36687,italic:0,skew:0},8765:{depth:-.13313,height:.37788,italic:0,skew:0},
8769:{depth:-.13313,height:.36687,italic:0,skew:0},8770:{depth:-.03625,height:.46375,italic:0,skew:0},8774:{depth:.30274,height:.79383,italic:0,skew:0},8776:{depth:-.01688,height:.48312,italic:0,skew:0},8778:{depth:.08167,height:.58167,italic:0,skew:0},8782:{depth:.06062,height:.54986,italic:0,skew:0},8783:{depth:.06062,height:.54986,italic:0,skew:0},8785:{depth:.08198,height:.58198,italic:0,skew:0},8786:{depth:.08198,height:.58198,italic:0,skew:0},8787:{depth:.08198,height:.58198,italic:0,skew:0},
8790:{depth:0,height:.69224,italic:0,skew:0},8791:{depth:.22958,height:.72958,italic:0,skew:0},8796:{depth:.08198,height:.91667,italic:0,skew:0},8806:{depth:.25583,height:.75583,italic:0,skew:0},8807:{depth:.25583,height:.75583,italic:0,skew:0},8808:{depth:.25142,height:.75726,italic:0,skew:0},8809:{depth:.25142,height:.75726,italic:0,skew:0},8812:{depth:.25583,height:.75583,italic:0,skew:0},8814:{depth:.20576,height:.70576,italic:0,skew:0},8815:{depth:.20576,height:.70576,italic:0,skew:0},8816:{depth:.30274,
height:.79383,italic:0,skew:0},8817:{depth:.30274,height:.79383,italic:0,skew:0},8818:{depth:.22958,height:.72958,italic:0,skew:0},8819:{depth:.22958,height:.72958,italic:0,skew:0},8822:{depth:.1808,height:.675,italic:0,skew:0},8823:{depth:.1808,height:.675,italic:0,skew:0},8828:{depth:.13667,height:.63667,italic:0,skew:0},8829:{depth:.13667,height:.63667,italic:0,skew:0},8830:{depth:.22958,height:.72958,italic:0,skew:0},8831:{depth:.22958,height:.72958,italic:0,skew:0},8832:{depth:.20576,height:.70576,
italic:0,skew:0},8833:{depth:.20576,height:.70576,italic:0,skew:0},8840:{depth:.30274,height:.79383,italic:0,skew:0},8841:{depth:.30274,height:.79383,italic:0,skew:0},8842:{depth:.13597,height:.63597,italic:0,skew:0},8843:{depth:.13597,height:.63597,italic:0,skew:0},8847:{depth:.03517,height:.54986,italic:0,skew:0},8848:{depth:.03517,height:.54986,italic:0,skew:0},8858:{depth:.08198,height:.58198,italic:0,skew:0},8859:{depth:.08198,height:.58198,italic:0,skew:0},8861:{depth:.08198,height:.58198,italic:0,
skew:0},8862:{depth:0,height:.675,italic:0,skew:0},8863:{depth:0,height:.675,italic:0,skew:0},8864:{depth:0,height:.675,italic:0,skew:0},8865:{depth:0,height:.675,italic:0,skew:0},8872:{depth:0,height:.69224,italic:0,skew:0},8873:{depth:0,height:.69224,italic:0,skew:0},8874:{depth:0,height:.69224,italic:0,skew:0},8876:{depth:0,height:.68889,italic:0,skew:0},8877:{depth:0,height:.68889,italic:0,skew:0},8878:{depth:0,height:.68889,italic:0,skew:0},8879:{depth:0,height:.68889,italic:0,skew:0},8882:{depth:.03517,
height:.54986,italic:0,skew:0},8883:{depth:.03517,height:.54986,italic:0,skew:0},8884:{depth:.13667,height:.63667,italic:0,skew:0},8885:{depth:.13667,height:.63667,italic:0,skew:0},8888:{depth:0,height:.54986,italic:0,skew:0},8890:{depth:.19444,height:.43056,italic:0,skew:0},8891:{depth:.19444,height:.69224,italic:0,skew:0},8892:{depth:.19444,height:.69224,italic:0,skew:0},8901:{depth:0,height:.54986,italic:0,skew:0},8903:{depth:.08167,height:.58167,italic:0,skew:0},8905:{depth:.08167,height:.58167,
italic:0,skew:0},8906:{depth:.08167,height:.58167,italic:0,skew:0},8907:{depth:0,height:.69224,italic:0,skew:0},8908:{depth:0,height:.69224,italic:0,skew:0},8909:{depth:-.03598,height:.46402,italic:0,skew:0},8910:{depth:0,height:.54986,italic:0,skew:0},8911:{depth:0,height:.54986,italic:0,skew:0},8912:{depth:.03517,height:.54986,italic:0,skew:0},8913:{depth:.03517,height:.54986,italic:0,skew:0},8914:{depth:0,height:.54986,italic:0,skew:0},8915:{depth:0,height:.54986,italic:0,skew:0},8916:{depth:0,
height:.69224,italic:0,skew:0},8918:{depth:.0391,height:.5391,italic:0,skew:0},8919:{depth:.0391,height:.5391,italic:0,skew:0},8920:{depth:.03517,height:.54986,italic:0,skew:0},8921:{depth:.03517,height:.54986,italic:0,skew:0},8922:{depth:.38569,height:.88569,italic:0,skew:0},8923:{depth:.38569,height:.88569,italic:0,skew:0},8926:{depth:.13667,height:.63667,italic:0,skew:0},8927:{depth:.13667,height:.63667,italic:0,skew:0},8928:{depth:.30274,height:.79383,italic:0,skew:0},8929:{depth:.30274,height:.79383,
italic:0,skew:0},8934:{depth:.23222,height:.74111,italic:0,skew:0},8935:{depth:.23222,height:.74111,italic:0,skew:0},8936:{depth:.23222,height:.74111,italic:0,skew:0},8937:{depth:.23222,height:.74111,italic:0,skew:0},8938:{depth:.20576,height:.70576,italic:0,skew:0},8939:{depth:.20576,height:.70576,italic:0,skew:0},8940:{depth:.30274,height:.79383,italic:0,skew:0},8941:{depth:.30274,height:.79383,italic:0,skew:0},8994:{depth:.19444,height:.69224,italic:0,skew:0},8995:{depth:.19444,height:.69224,italic:0,
skew:0},9416:{depth:.15559,height:.69224,italic:0,skew:0},9484:{depth:0,height:.69224,italic:0,skew:0},9488:{depth:0,height:.69224,italic:0,skew:0},9492:{depth:0,height:.37788,italic:0,skew:0},9496:{depth:0,height:.37788,italic:0,skew:0},9585:{depth:.19444,height:.68889,italic:0,skew:0},9586:{depth:.19444,height:.74111,italic:0,skew:0},9632:{depth:0,height:.675,italic:0,skew:0},9633:{depth:0,height:.675,italic:0,skew:0},9650:{depth:0,height:.54986,italic:0,skew:0},9651:{depth:0,height:.54986,italic:0,
skew:0},9654:{depth:.03517,height:.54986,italic:0,skew:0},9660:{depth:0,height:.54986,italic:0,skew:0},9661:{depth:0,height:.54986,italic:0,skew:0},9664:{depth:.03517,height:.54986,italic:0,skew:0},9674:{depth:.11111,height:.69224,italic:0,skew:0},9733:{depth:.19444,height:.69224,italic:0,skew:0},10003:{depth:0,height:.69224,italic:0,skew:0},10016:{depth:0,height:.69224,italic:0,skew:0},10731:{depth:.11111,height:.69224,italic:0,skew:0},10846:{depth:.19444,height:.75583,italic:0,skew:0},10877:{depth:.13667,
height:.63667,italic:0,skew:0},10878:{depth:.13667,height:.63667,italic:0,skew:0},10885:{depth:.25583,height:.75583,italic:0,skew:0},10886:{depth:.25583,height:.75583,italic:0,skew:0},10887:{depth:.13597,height:.63597,italic:0,skew:0},10888:{depth:.13597,height:.63597,italic:0,skew:0},10889:{depth:.26167,height:.75726,italic:0,skew:0},10890:{depth:.26167,height:.75726,italic:0,skew:0},10891:{depth:.48256,height:.98256,italic:0,skew:0},10892:{depth:.48256,height:.98256,italic:0,skew:0},10901:{depth:.13667,
height:.63667,italic:0,skew:0},10902:{depth:.13667,height:.63667,italic:0,skew:0},10933:{depth:.25142,height:.75726,italic:0,skew:0},10934:{depth:.25142,height:.75726,italic:0,skew:0},10935:{depth:.26167,height:.75726,italic:0,skew:0},10936:{depth:.26167,height:.75726,italic:0,skew:0},10937:{depth:.26167,height:.75726,italic:0,skew:0},10938:{depth:.26167,height:.75726,italic:0,skew:0},10949:{depth:.25583,height:.75583,italic:0,skew:0},10950:{depth:.25583,height:.75583,italic:0,skew:0},10955:{depth:.28481,
height:.79383,italic:0,skew:0},10956:{depth:.28481,height:.79383,italic:0,skew:0},57350:{depth:.08167,height:.58167,italic:0,skew:0},57351:{depth:.08167,height:.58167,italic:0,skew:0},57352:{depth:.08167,height:.58167,italic:0,skew:0},57353:{depth:0,height:.43056,italic:.04028,skew:0},57356:{depth:.25142,height:.75726,italic:0,skew:0},57357:{depth:.25142,height:.75726,italic:0,skew:0},57358:{depth:.41951,height:.91951,italic:0,skew:0},57359:{depth:.30274,height:.79383,italic:0,skew:0},57360:{depth:.30274,
height:.79383,italic:0,skew:0},57361:{depth:.41951,height:.91951,italic:0,skew:0},57366:{depth:.25142,height:.75726,italic:0,skew:0},57367:{depth:.25142,height:.75726,italic:0,skew:0},57368:{depth:.25142,height:.75726,italic:0,skew:0},57369:{depth:.25142,height:.75726,italic:0,skew:0},57370:{depth:.13597,height:.63597,italic:0,skew:0},57371:{depth:.13597,height:.63597,italic:0,skew:0}},"Caligraphic-Regular":{48:{depth:0,height:.43056,italic:0,skew:0},49:{depth:0,height:.43056,italic:0,skew:0},50:{depth:0,
height:.43056,italic:0,skew:0},51:{depth:.19444,height:.43056,italic:0,skew:0},52:{depth:.19444,height:.43056,italic:0,skew:0},53:{depth:.19444,height:.43056,italic:0,skew:0},54:{depth:0,height:.64444,italic:0,skew:0},55:{depth:.19444,height:.43056,italic:0,skew:0},56:{depth:0,height:.64444,italic:0,skew:0},57:{depth:.19444,height:.43056,italic:0,skew:0},65:{depth:0,height:.68333,italic:0,skew:.19445},66:{depth:0,height:.68333,italic:.03041,skew:.13889},67:{depth:0,height:.68333,italic:.05834,skew:.13889},
68:{depth:0,height:.68333,italic:.02778,skew:.08334},69:{depth:0,height:.68333,italic:.08944,skew:.11111},70:{depth:0,height:.68333,italic:.09931,skew:.11111},71:{depth:.09722,height:.68333,italic:.0593,skew:.11111},72:{depth:0,height:.68333,italic:.00965,skew:.11111},73:{depth:0,height:.68333,italic:.07382,skew:0},74:{depth:.09722,height:.68333,italic:.18472,skew:.16667},75:{depth:0,height:.68333,italic:.01445,skew:.05556},76:{depth:0,height:.68333,italic:0,skew:.13889},77:{depth:0,height:.68333,
italic:0,skew:.13889},78:{depth:0,height:.68333,italic:.14736,skew:.08334},79:{depth:0,height:.68333,italic:.02778,skew:.11111},80:{depth:0,height:.68333,italic:.08222,skew:.08334},81:{depth:.09722,height:.68333,italic:0,skew:.11111},82:{depth:0,height:.68333,italic:0,skew:.08334},83:{depth:0,height:.68333,italic:.075,skew:.13889},84:{depth:0,height:.68333,italic:.25417,skew:0},85:{depth:0,height:.68333,italic:.09931,skew:.08334},86:{depth:0,height:.68333,italic:.08222,skew:0},87:{depth:0,height:.68333,
italic:.08222,skew:.08334},88:{depth:0,height:.68333,italic:.14643,skew:.13889},89:{depth:.09722,height:.68333,italic:.08222,skew:.08334},90:{depth:0,height:.68333,italic:.07944,skew:.13889}},"Fraktur-Regular":{33:{depth:0,height:.69141,italic:0,skew:0},34:{depth:0,height:.69141,italic:0,skew:0},38:{depth:0,height:.69141,italic:0,skew:0},39:{depth:0,height:.69141,italic:0,skew:0},40:{depth:.24982,height:.74947,italic:0,skew:0},41:{depth:.24982,height:.74947,italic:0,skew:0},42:{depth:0,height:.62119,
italic:0,skew:0},43:{depth:.08319,height:.58283,italic:0,skew:0},44:{depth:0,height:.10803,italic:0,skew:0},45:{depth:.08319,height:.58283,italic:0,skew:0},46:{depth:0,height:.10803,italic:0,skew:0},47:{depth:.24982,height:.74947,italic:0,skew:0},48:{depth:0,height:.47534,italic:0,skew:0},49:{depth:0,height:.47534,italic:0,skew:0},50:{depth:0,height:.47534,italic:0,skew:0},51:{depth:.18906,height:.47534,italic:0,skew:0},52:{depth:.18906,height:.47534,italic:0,skew:0},53:{depth:.18906,height:.47534,
italic:0,skew:0},54:{depth:0,height:.69141,italic:0,skew:0},55:{depth:.18906,height:.47534,italic:0,skew:0},56:{depth:0,height:.69141,italic:0,skew:0},57:{depth:.18906,height:.47534,italic:0,skew:0},58:{depth:0,height:.47534,italic:0,skew:0},59:{depth:.12604,height:.47534,italic:0,skew:0},61:{depth:-.13099,height:.36866,italic:0,skew:0},63:{depth:0,height:.69141,italic:0,skew:0},65:{depth:0,height:.69141,italic:0,skew:0},66:{depth:0,height:.69141,italic:0,skew:0},67:{depth:0,height:.69141,italic:0,
skew:0},68:{depth:0,height:.69141,italic:0,skew:0},69:{depth:0,height:.69141,italic:0,skew:0},70:{depth:.12604,height:.69141,italic:0,skew:0},71:{depth:0,height:.69141,italic:0,skew:0},72:{depth:.06302,height:.69141,italic:0,skew:0},73:{depth:0,height:.69141,italic:0,skew:0},74:{depth:.12604,height:.69141,italic:0,skew:0},75:{depth:0,height:.69141,italic:0,skew:0},76:{depth:0,height:.69141,italic:0,skew:0},77:{depth:0,height:.69141,italic:0,skew:0},78:{depth:0,height:.69141,italic:0,skew:0},79:{depth:0,
height:.69141,italic:0,skew:0},80:{depth:.18906,height:.69141,italic:0,skew:0},81:{depth:.03781,height:.69141,italic:0,skew:0},82:{depth:0,height:.69141,italic:0,skew:0},83:{depth:0,height:.69141,italic:0,skew:0},84:{depth:0,height:.69141,italic:0,skew:0},85:{depth:0,height:.69141,italic:0,skew:0},86:{depth:0,height:.69141,italic:0,skew:0},87:{depth:0,height:.69141,italic:0,skew:0},88:{depth:0,height:.69141,italic:0,skew:0},89:{depth:.18906,height:.69141,italic:0,skew:0},90:{depth:.12604,height:.69141,
italic:0,skew:0},91:{depth:.24982,height:.74947,italic:0,skew:0},93:{depth:.24982,height:.74947,italic:0,skew:0},94:{depth:0,height:.69141,italic:0,skew:0},97:{depth:0,height:.47534,italic:0,skew:0},98:{depth:0,height:.69141,italic:0,skew:0},99:{depth:0,height:.47534,italic:0,skew:0},100:{depth:0,height:.62119,italic:0,skew:0},101:{depth:0,height:.47534,italic:0,skew:0},102:{depth:.18906,height:.69141,italic:0,skew:0},103:{depth:.18906,height:.47534,italic:0,skew:0},104:{depth:.18906,height:.69141,
italic:0,skew:0},105:{depth:0,height:.69141,italic:0,skew:0},106:{depth:0,height:.69141,italic:0,skew:0},107:{depth:0,height:.69141,italic:0,skew:0},108:{depth:0,height:.69141,italic:0,skew:0},109:{depth:0,height:.47534,italic:0,skew:0},110:{depth:0,height:.47534,italic:0,skew:0},111:{depth:0,height:.47534,italic:0,skew:0},112:{depth:.18906,height:.52396,italic:0,skew:0},113:{depth:.18906,height:.47534,italic:0,skew:0},114:{depth:0,height:.47534,italic:0,skew:0},115:{depth:0,height:.47534,italic:0,
skew:0},116:{depth:0,height:.62119,italic:0,skew:0},117:{depth:0,height:.47534,italic:0,skew:0},118:{depth:0,height:.52396,italic:0,skew:0},119:{depth:0,height:.52396,italic:0,skew:0},120:{depth:.18906,height:.47534,italic:0,skew:0},121:{depth:.18906,height:.47534,italic:0,skew:0},122:{depth:.18906,height:.47534,italic:0,skew:0},8216:{depth:0,height:.69141,italic:0,skew:0},8217:{depth:0,height:.69141,italic:0,skew:0},58112:{depth:0,height:.62119,italic:0,skew:0},58113:{depth:0,height:.62119,italic:0,
skew:0},58114:{depth:.18906,height:.69141,italic:0,skew:0},58115:{depth:.18906,height:.69141,italic:0,skew:0},58116:{depth:.18906,height:.47534,italic:0,skew:0},58117:{depth:0,height:.69141,italic:0,skew:0},58118:{depth:0,height:.62119,italic:0,skew:0},58119:{depth:0,height:.47534,italic:0,skew:0}},"Main-Bold":{33:{depth:0,height:.69444,italic:0,skew:0},34:{depth:0,height:.69444,italic:0,skew:0},35:{depth:.19444,height:.69444,italic:0,skew:0},36:{depth:.05556,height:.75,italic:0,skew:0},37:{depth:.05556,
height:.75,italic:0,skew:0},38:{depth:0,height:.69444,italic:0,skew:0},39:{depth:0,height:.69444,italic:0,skew:0},40:{depth:.25,height:.75,italic:0,skew:0},41:{depth:.25,height:.75,italic:0,skew:0},42:{depth:0,height:.75,italic:0,skew:0},43:{depth:.13333,height:.63333,italic:0,skew:0},44:{depth:.19444,height:.15556,italic:0,skew:0},45:{depth:0,height:.44444,italic:0,skew:0},46:{depth:0,height:.15556,italic:0,skew:0},47:{depth:.25,height:.75,italic:0,skew:0},48:{depth:0,height:.64444,italic:0,skew:0},
49:{depth:0,height:.64444,italic:0,skew:0},50:{depth:0,height:.64444,italic:0,skew:0},51:{depth:0,height:.64444,italic:0,skew:0},52:{depth:0,height:.64444,italic:0,skew:0},53:{depth:0,height:.64444,italic:0,skew:0},54:{depth:0,height:.64444,italic:0,skew:0},55:{depth:0,height:.64444,italic:0,skew:0},56:{depth:0,height:.64444,italic:0,skew:0},57:{depth:0,height:.64444,italic:0,skew:0},58:{depth:0,height:.44444,italic:0,skew:0},59:{depth:.19444,height:.44444,italic:0,skew:0},60:{depth:.08556,height:.58556,
italic:0,skew:0},61:{depth:-.10889,height:.39111,italic:0,skew:0},62:{depth:.08556,height:.58556,italic:0,skew:0},63:{depth:0,height:.69444,italic:0,skew:0},64:{depth:0,height:.69444,italic:0,skew:0},65:{depth:0,height:.68611,italic:0,skew:0},66:{depth:0,height:.68611,italic:0,skew:0},67:{depth:0,height:.68611,italic:0,skew:0},68:{depth:0,height:.68611,italic:0,skew:0},69:{depth:0,height:.68611,italic:0,skew:0},70:{depth:0,height:.68611,italic:0,skew:0},71:{depth:0,height:.68611,italic:0,skew:0},
72:{depth:0,height:.68611,italic:0,skew:0},73:{depth:0,height:.68611,italic:0,skew:0},74:{depth:0,height:.68611,italic:0,skew:0},75:{depth:0,height:.68611,italic:0,skew:0},76:{depth:0,height:.68611,italic:0,skew:0},77:{depth:0,height:.68611,italic:0,skew:0},78:{depth:0,height:.68611,italic:0,skew:0},79:{depth:0,height:.68611,italic:0,skew:0},80:{depth:0,height:.68611,italic:0,skew:0},81:{depth:.19444,height:.68611,italic:0,skew:0},82:{depth:0,height:.68611,italic:0,skew:0},83:{depth:0,height:.68611,
italic:0,skew:0},84:{depth:0,height:.68611,italic:0,skew:0},85:{depth:0,height:.68611,italic:0,skew:0},86:{depth:0,height:.68611,italic:.01597,skew:0},87:{depth:0,height:.68611,italic:.01597,skew:0},88:{depth:0,height:.68611,italic:0,skew:0},89:{depth:0,height:.68611,italic:.02875,skew:0},90:{depth:0,height:.68611,italic:0,skew:0},91:{depth:.25,height:.75,italic:0,skew:0},92:{depth:.25,height:.75,italic:0,skew:0},93:{depth:.25,height:.75,italic:0,skew:0},94:{depth:0,height:.69444,italic:0,skew:0},
95:{depth:.31,height:.13444,italic:.03194,skew:0},96:{depth:0,height:.69444,italic:0,skew:0},97:{depth:0,height:.44444,italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},99:{depth:0,height:.44444,italic:0,skew:0},100:{depth:0,height:.69444,italic:0,skew:0},101:{depth:0,height:.44444,italic:0,skew:0},102:{depth:0,height:.69444,italic:.10903,skew:0},103:{depth:.19444,height:.44444,italic:.01597,skew:0},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.69444,italic:0,skew:0},
106:{depth:.19444,height:.69444,italic:0,skew:0},107:{depth:0,height:.69444,italic:0,skew:0},108:{depth:0,height:.69444,italic:0,skew:0},109:{depth:0,height:.44444,italic:0,skew:0},110:{depth:0,height:.44444,italic:0,skew:0},111:{depth:0,height:.44444,italic:0,skew:0},112:{depth:.19444,height:.44444,italic:0,skew:0},113:{depth:.19444,height:.44444,italic:0,skew:0},114:{depth:0,height:.44444,italic:0,skew:0},115:{depth:0,height:.44444,italic:0,skew:0},116:{depth:0,height:.63492,italic:0,skew:0},117:{depth:0,
height:.44444,italic:0,skew:0},118:{depth:0,height:.44444,italic:.01597,skew:0},119:{depth:0,height:.44444,italic:.01597,skew:0},120:{depth:0,height:.44444,italic:0,skew:0},121:{depth:.19444,height:.44444,italic:.01597,skew:0},122:{depth:0,height:.44444,italic:0,skew:0},123:{depth:.25,height:.75,italic:0,skew:0},124:{depth:.25,height:.75,italic:0,skew:0},125:{depth:.25,height:.75,italic:0,skew:0},126:{depth:.35,height:.34444,italic:0,skew:0},168:{depth:0,height:.69444,italic:0,skew:0},172:{depth:0,
height:.44444,italic:0,skew:0},175:{depth:0,height:.59611,italic:0,skew:0},176:{depth:0,height:.69444,italic:0,skew:0},177:{depth:.13333,height:.63333,italic:0,skew:0},180:{depth:0,height:.69444,italic:0,skew:0},215:{depth:.13333,height:.63333,italic:0,skew:0},247:{depth:.13333,height:.63333,italic:0,skew:0},305:{depth:0,height:.44444,italic:0,skew:0},567:{depth:.19444,height:.44444,italic:0,skew:0},710:{depth:0,height:.69444,italic:0,skew:0},711:{depth:0,height:.63194,italic:0,skew:0},713:{depth:0,
height:.59611,italic:0,skew:0},714:{depth:0,height:.69444,italic:0,skew:0},715:{depth:0,height:.69444,italic:0,skew:0},728:{depth:0,height:.69444,italic:0,skew:0},729:{depth:0,height:.69444,italic:0,skew:0},730:{depth:0,height:.69444,italic:0,skew:0},732:{depth:0,height:.69444,italic:0,skew:0},768:{depth:0,height:.69444,italic:0,skew:0},769:{depth:0,height:.69444,italic:0,skew:0},770:{depth:0,height:.69444,italic:0,skew:0},771:{depth:0,height:.69444,italic:0,skew:0},772:{depth:0,height:.59611,italic:0,
skew:0},774:{depth:0,height:.69444,italic:0,skew:0},775:{depth:0,height:.69444,italic:0,skew:0},776:{depth:0,height:.69444,italic:0,skew:0},778:{depth:0,height:.69444,italic:0,skew:0},779:{depth:0,height:.69444,italic:0,skew:0},780:{depth:0,height:.63194,italic:0,skew:0},824:{depth:.19444,height:.69444,italic:0,skew:0},915:{depth:0,height:.68611,italic:0,skew:0},916:{depth:0,height:.68611,italic:0,skew:0},920:{depth:0,height:.68611,italic:0,skew:0},923:{depth:0,height:.68611,italic:0,skew:0},926:{depth:0,
height:.68611,italic:0,skew:0},928:{depth:0,height:.68611,italic:0,skew:0},931:{depth:0,height:.68611,italic:0,skew:0},933:{depth:0,height:.68611,italic:0,skew:0},934:{depth:0,height:.68611,italic:0,skew:0},936:{depth:0,height:.68611,italic:0,skew:0},937:{depth:0,height:.68611,italic:0,skew:0},8211:{depth:0,height:.44444,italic:.03194,skew:0},8212:{depth:0,height:.44444,italic:.03194,skew:0},8216:{depth:0,height:.69444,italic:0,skew:0},8217:{depth:0,height:.69444,italic:0,skew:0},8220:{depth:0,height:.69444,
italic:0,skew:0},8221:{depth:0,height:.69444,italic:0,skew:0},8224:{depth:.19444,height:.69444,italic:0,skew:0},8225:{depth:.19444,height:.69444,italic:0,skew:0},8242:{depth:0,height:.55556,italic:0,skew:0},8407:{depth:0,height:.72444,italic:.15486,skew:0},8463:{depth:0,height:.69444,italic:0,skew:0},8465:{depth:0,height:.69444,italic:0,skew:0},8467:{depth:0,height:.69444,italic:0,skew:0},8472:{depth:.19444,height:.44444,italic:0,skew:0},8476:{depth:0,height:.69444,italic:0,skew:0},8501:{depth:0,
height:.69444,italic:0,skew:0},8592:{depth:-.10889,height:.39111,italic:0,skew:0},8593:{depth:.19444,height:.69444,italic:0,skew:0},8594:{depth:-.10889,height:.39111,italic:0,skew:0},8595:{depth:.19444,height:.69444,italic:0,skew:0},8596:{depth:-.10889,height:.39111,italic:0,skew:0},8597:{depth:.25,height:.75,italic:0,skew:0},8598:{depth:.19444,height:.69444,italic:0,skew:0},8599:{depth:.19444,height:.69444,italic:0,skew:0},8600:{depth:.19444,height:.69444,italic:0,skew:0},8601:{depth:.19444,height:.69444,
italic:0,skew:0},8636:{depth:-.10889,height:.39111,italic:0,skew:0},8637:{depth:-.10889,height:.39111,italic:0,skew:0},8640:{depth:-.10889,height:.39111,italic:0,skew:0},8641:{depth:-.10889,height:.39111,italic:0,skew:0},8656:{depth:-.10889,height:.39111,italic:0,skew:0},8657:{depth:.19444,height:.69444,italic:0,skew:0},8658:{depth:-.10889,height:.39111,italic:0,skew:0},8659:{depth:.19444,height:.69444,italic:0,skew:0},8660:{depth:-.10889,height:.39111,italic:0,skew:0},8661:{depth:.25,height:.75,
italic:0,skew:0},8704:{depth:0,height:.69444,italic:0,skew:0},8706:{depth:0,height:.69444,italic:.06389,skew:0},8707:{depth:0,height:.69444,italic:0,skew:0},8709:{depth:.05556,height:.75,italic:0,skew:0},8711:{depth:0,height:.68611,italic:0,skew:0},8712:{depth:.08556,height:.58556,italic:0,skew:0},8715:{depth:.08556,height:.58556,italic:0,skew:0},8722:{depth:.13333,height:.63333,italic:0,skew:0},8723:{depth:.13333,height:.63333,italic:0,skew:0},8725:{depth:.25,height:.75,italic:0,skew:0},8726:{depth:.25,
height:.75,italic:0,skew:0},8727:{depth:-.02778,height:.47222,italic:0,skew:0},8728:{depth:-.02639,height:.47361,italic:0,skew:0},8729:{depth:-.02639,height:.47361,italic:0,skew:0},8730:{depth:.18,height:.82,italic:0,skew:0},8733:{depth:0,height:.44444,italic:0,skew:0},8734:{depth:0,height:.44444,italic:0,skew:0},8736:{depth:0,height:.69224,italic:0,skew:0},8739:{depth:.25,height:.75,italic:0,skew:0},8741:{depth:.25,height:.75,italic:0,skew:0},8743:{depth:0,height:.55556,italic:0,skew:0},8744:{depth:0,
height:.55556,italic:0,skew:0},8745:{depth:0,height:.55556,italic:0,skew:0},8746:{depth:0,height:.55556,italic:0,skew:0},8747:{depth:.19444,height:.69444,italic:.12778,skew:0},8764:{depth:-.10889,height:.39111,italic:0,skew:0},8768:{depth:.19444,height:.69444,italic:0,skew:0},8771:{depth:.00222,height:.50222,italic:0,skew:0},8776:{depth:.02444,height:.52444,italic:0,skew:0},8781:{depth:.00222,height:.50222,italic:0,skew:0},8801:{depth:.00222,height:.50222,italic:0,skew:0},8804:{depth:.19667,height:.69667,
italic:0,skew:0},8805:{depth:.19667,height:.69667,italic:0,skew:0},8810:{depth:.08556,height:.58556,italic:0,skew:0},8811:{depth:.08556,height:.58556,italic:0,skew:0},8826:{depth:.08556,height:.58556,italic:0,skew:0},8827:{depth:.08556,height:.58556,italic:0,skew:0},8834:{depth:.08556,height:.58556,italic:0,skew:0},8835:{depth:.08556,height:.58556,italic:0,skew:0},8838:{depth:.19667,height:.69667,italic:0,skew:0},8839:{depth:.19667,height:.69667,italic:0,skew:0},8846:{depth:0,height:.55556,italic:0,
skew:0},8849:{depth:.19667,height:.69667,italic:0,skew:0},8850:{depth:.19667,height:.69667,italic:0,skew:0},8851:{depth:0,height:.55556,italic:0,skew:0},8852:{depth:0,height:.55556,italic:0,skew:0},8853:{depth:.13333,height:.63333,italic:0,skew:0},8854:{depth:.13333,height:.63333,italic:0,skew:0},8855:{depth:.13333,height:.63333,italic:0,skew:0},8856:{depth:.13333,height:.63333,italic:0,skew:0},8857:{depth:.13333,height:.63333,italic:0,skew:0},8866:{depth:0,height:.69444,italic:0,skew:0},8867:{depth:0,
height:.69444,italic:0,skew:0},8868:{depth:0,height:.69444,italic:0,skew:0},8869:{depth:0,height:.69444,italic:0,skew:0},8900:{depth:-.02639,height:.47361,italic:0,skew:0},8901:{depth:-.02639,height:.47361,italic:0,skew:0},8902:{depth:-.02778,height:.47222,italic:0,skew:0},8968:{depth:.25,height:.75,italic:0,skew:0},8969:{depth:.25,height:.75,italic:0,skew:0},8970:{depth:.25,height:.75,italic:0,skew:0},8971:{depth:.25,height:.75,italic:0,skew:0},8994:{depth:-.13889,height:.36111,italic:0,skew:0},
8995:{depth:-.13889,height:.36111,italic:0,skew:0},9651:{depth:.19444,height:.69444,italic:0,skew:0},9657:{depth:-.02778,height:.47222,italic:0,skew:0},9661:{depth:.19444,height:.69444,italic:0,skew:0},9667:{depth:-.02778,height:.47222,italic:0,skew:0},9711:{depth:.19444,height:.69444,italic:0,skew:0},9824:{depth:.12963,height:.69444,italic:0,skew:0},9825:{depth:.12963,height:.69444,italic:0,skew:0},9826:{depth:.12963,height:.69444,italic:0,skew:0},9827:{depth:.12963,height:.69444,italic:0,skew:0},
9837:{depth:0,height:.75,italic:0,skew:0},9838:{depth:.19444,height:.69444,italic:0,skew:0},9839:{depth:.19444,height:.69444,italic:0,skew:0},10216:{depth:.25,height:.75,italic:0,skew:0},10217:{depth:.25,height:.75,italic:0,skew:0},10815:{depth:0,height:.68611,italic:0,skew:0},10927:{depth:.19667,height:.69667,italic:0,skew:0},10928:{depth:.19667,height:.69667,italic:0,skew:0}},"Main-Italic":{33:{depth:0,height:.69444,italic:.12417,skew:0},34:{depth:0,height:.69444,italic:.06961,skew:0},35:{depth:.19444,
height:.69444,italic:.06616,skew:0},37:{depth:.05556,height:.75,italic:.13639,skew:0},38:{depth:0,height:.69444,italic:.09694,skew:0},39:{depth:0,height:.69444,italic:.12417,skew:0},40:{depth:.25,height:.75,italic:.16194,skew:0},41:{depth:.25,height:.75,italic:.03694,skew:0},42:{depth:0,height:.75,italic:.14917,skew:0},43:{depth:.05667,height:.56167,italic:.03694,skew:0},44:{depth:.19444,height:.10556,italic:0,skew:0},45:{depth:0,height:.43056,italic:.02826,skew:0},46:{depth:0,height:.10556,italic:0,
skew:0},47:{depth:.25,height:.75,italic:.16194,skew:0},48:{depth:0,height:.64444,italic:.13556,skew:0},49:{depth:0,height:.64444,italic:.13556,skew:0},50:{depth:0,height:.64444,italic:.13556,skew:0},51:{depth:0,height:.64444,italic:.13556,skew:0},52:{depth:.19444,height:.64444,italic:.13556,skew:0},53:{depth:0,height:.64444,italic:.13556,skew:0},54:{depth:0,height:.64444,italic:.13556,skew:0},55:{depth:.19444,height:.64444,italic:.13556,skew:0},56:{depth:0,height:.64444,italic:.13556,skew:0},57:{depth:0,
height:.64444,italic:.13556,skew:0},58:{depth:0,height:.43056,italic:.0582,skew:0},59:{depth:.19444,height:.43056,italic:.0582,skew:0},61:{depth:-.13313,height:.36687,italic:.06616,skew:0},63:{depth:0,height:.69444,italic:.1225,skew:0},64:{depth:0,height:.69444,italic:.09597,skew:0},65:{depth:0,height:.68333,italic:0,skew:0},66:{depth:0,height:.68333,italic:.10257,skew:0},67:{depth:0,height:.68333,italic:.14528,skew:0},68:{depth:0,height:.68333,italic:.09403,skew:0},69:{depth:0,height:.68333,italic:.12028,
skew:0},70:{depth:0,height:.68333,italic:.13305,skew:0},71:{depth:0,height:.68333,italic:.08722,skew:0},72:{depth:0,height:.68333,italic:.16389,skew:0},73:{depth:0,height:.68333,italic:.15806,skew:0},74:{depth:0,height:.68333,italic:.14028,skew:0},75:{depth:0,height:.68333,italic:.14528,skew:0},76:{depth:0,height:.68333,italic:0,skew:0},77:{depth:0,height:.68333,italic:.16389,skew:0},78:{depth:0,height:.68333,italic:.16389,skew:0},79:{depth:0,height:.68333,italic:.09403,skew:0},80:{depth:0,height:.68333,
italic:.10257,skew:0},81:{depth:.19444,height:.68333,italic:.09403,skew:0},82:{depth:0,height:.68333,italic:.03868,skew:0},83:{depth:0,height:.68333,italic:.11972,skew:0},84:{depth:0,height:.68333,italic:.13305,skew:0},85:{depth:0,height:.68333,italic:.16389,skew:0},86:{depth:0,height:.68333,italic:.18361,skew:0},87:{depth:0,height:.68333,italic:.18361,skew:0},88:{depth:0,height:.68333,italic:.15806,skew:0},89:{depth:0,height:.68333,italic:.19383,skew:0},90:{depth:0,height:.68333,italic:.14528,skew:0},
91:{depth:.25,height:.75,italic:.1875,skew:0},93:{depth:.25,height:.75,italic:.10528,skew:0},94:{depth:0,height:.69444,italic:.06646,skew:0},95:{depth:.31,height:.12056,italic:.09208,skew:0},97:{depth:0,height:.43056,italic:.07671,skew:0},98:{depth:0,height:.69444,italic:.06312,skew:0},99:{depth:0,height:.43056,italic:.05653,skew:0},100:{depth:0,height:.69444,italic:.10333,skew:0},101:{depth:0,height:.43056,italic:.07514,skew:0},102:{depth:.19444,height:.69444,italic:.21194,skew:0},103:{depth:.19444,
height:.43056,italic:.08847,skew:0},104:{depth:0,height:.69444,italic:.07671,skew:0},105:{depth:0,height:.65536,italic:.1019,skew:0},106:{depth:.19444,height:.65536,italic:.14467,skew:0},107:{depth:0,height:.69444,italic:.10764,skew:0},108:{depth:0,height:.69444,italic:.10333,skew:0},109:{depth:0,height:.43056,italic:.07671,skew:0},110:{depth:0,height:.43056,italic:.07671,skew:0},111:{depth:0,height:.43056,italic:.06312,skew:0},112:{depth:.19444,height:.43056,italic:.06312,skew:0},113:{depth:.19444,
height:.43056,italic:.08847,skew:0},114:{depth:0,height:.43056,italic:.10764,skew:0},115:{depth:0,height:.43056,italic:.08208,skew:0},116:{depth:0,height:.61508,italic:.09486,skew:0},117:{depth:0,height:.43056,italic:.07671,skew:0},118:{depth:0,height:.43056,italic:.10764,skew:0},119:{depth:0,height:.43056,italic:.10764,skew:0},120:{depth:0,height:.43056,italic:.12042,skew:0},121:{depth:.19444,height:.43056,italic:.08847,skew:0},122:{depth:0,height:.43056,italic:.12292,skew:0},126:{depth:.35,height:.31786,
italic:.11585,skew:0},163:{depth:0,height:.69444,italic:0,skew:0},305:{depth:0,height:.43056,italic:0,skew:.02778},567:{depth:.19444,height:.43056,italic:0,skew:.08334},768:{depth:0,height:.69444,italic:0,skew:0},769:{depth:0,height:.69444,italic:.09694,skew:0},770:{depth:0,height:.69444,italic:.06646,skew:0},771:{depth:0,height:.66786,italic:.11585,skew:0},772:{depth:0,height:.56167,italic:.10333,skew:0},774:{depth:0,height:.69444,italic:.10806,skew:0},775:{depth:0,height:.66786,italic:.11752,skew:0},
776:{depth:0,height:.66786,italic:.10474,skew:0},778:{depth:0,height:.69444,italic:0,skew:0},779:{depth:0,height:.69444,italic:.1225,skew:0},780:{depth:0,height:.62847,italic:.08295,skew:0},915:{depth:0,height:.68333,italic:.13305,skew:0},916:{depth:0,height:.68333,italic:0,skew:0},920:{depth:0,height:.68333,italic:.09403,skew:0},923:{depth:0,height:.68333,italic:0,skew:0},926:{depth:0,height:.68333,italic:.15294,skew:0},928:{depth:0,height:.68333,italic:.16389,skew:0},931:{depth:0,height:.68333,
italic:.12028,skew:0},933:{depth:0,height:.68333,italic:.11111,skew:0},934:{depth:0,height:.68333,italic:.05986,skew:0},936:{depth:0,height:.68333,italic:.11111,skew:0},937:{depth:0,height:.68333,italic:.10257,skew:0},8211:{depth:0,height:.43056,italic:.09208,skew:0},8212:{depth:0,height:.43056,italic:.09208,skew:0},8216:{depth:0,height:.69444,italic:.12417,skew:0},8217:{depth:0,height:.69444,italic:.12417,skew:0},8220:{depth:0,height:.69444,italic:.1685,skew:0},8221:{depth:0,height:.69444,italic:.06961,
skew:0},8463:{depth:0,height:.68889,italic:0,skew:0}},"Main-Regular":{32:{depth:0,height:0,italic:0,skew:0},33:{depth:0,height:.69444,italic:0,skew:0},34:{depth:0,height:.69444,italic:0,skew:0},35:{depth:.19444,height:.69444,italic:0,skew:0},36:{depth:.05556,height:.75,italic:0,skew:0},37:{depth:.05556,height:.75,italic:0,skew:0},38:{depth:0,height:.69444,italic:0,skew:0},39:{depth:0,height:.69444,italic:0,skew:0},40:{depth:.25,height:.75,italic:0,skew:0},41:{depth:.25,height:.75,italic:0,skew:0},
42:{depth:0,height:.75,italic:0,skew:0},43:{depth:.08333,height:.58333,italic:0,skew:0},44:{depth:.19444,height:.10556,italic:0,skew:0},45:{depth:0,height:.43056,italic:0,skew:0},46:{depth:0,height:.10556,italic:0,skew:0},47:{depth:.25,height:.75,italic:0,skew:0},48:{depth:0,height:.64444,italic:0,skew:0},49:{depth:0,height:.64444,italic:0,skew:0},50:{depth:0,height:.64444,italic:0,skew:0},51:{depth:0,height:.64444,italic:0,skew:0},52:{depth:0,height:.64444,italic:0,skew:0},53:{depth:0,height:.64444,
italic:0,skew:0},54:{depth:0,height:.64444,italic:0,skew:0},55:{depth:0,height:.64444,italic:0,skew:0},56:{depth:0,height:.64444,italic:0,skew:0},57:{depth:0,height:.64444,italic:0,skew:0},58:{depth:0,height:.43056,italic:0,skew:0},59:{depth:.19444,height:.43056,italic:0,skew:0},60:{depth:.0391,height:.5391,italic:0,skew:0},61:{depth:-.13313,height:.36687,italic:0,skew:0},62:{depth:.0391,height:.5391,italic:0,skew:0},63:{depth:0,height:.69444,italic:0,skew:0},64:{depth:0,height:.69444,italic:0,skew:0},
65:{depth:0,height:.68333,italic:0,skew:0},66:{depth:0,height:.68333,italic:0,skew:0},67:{depth:0,height:.68333,italic:0,skew:0},68:{depth:0,height:.68333,italic:0,skew:0},69:{depth:0,height:.68333,italic:0,skew:0},70:{depth:0,height:.68333,italic:0,skew:0},71:{depth:0,height:.68333,italic:0,skew:0},72:{depth:0,height:.68333,italic:0,skew:0},73:{depth:0,height:.68333,italic:0,skew:0},74:{depth:0,height:.68333,italic:0,skew:0},75:{depth:0,height:.68333,italic:0,skew:0},76:{depth:0,height:.68333,italic:0,
skew:0},77:{depth:0,height:.68333,italic:0,skew:0},78:{depth:0,height:.68333,italic:0,skew:0},79:{depth:0,height:.68333,italic:0,skew:0},80:{depth:0,height:.68333,italic:0,skew:0},81:{depth:.19444,height:.68333,italic:0,skew:0},82:{depth:0,height:.68333,italic:0,skew:0},83:{depth:0,height:.68333,italic:0,skew:0},84:{depth:0,height:.68333,italic:0,skew:0},85:{depth:0,height:.68333,italic:0,skew:0},86:{depth:0,height:.68333,italic:.01389,skew:0},87:{depth:0,height:.68333,italic:.01389,skew:0},88:{depth:0,
height:.68333,italic:0,skew:0},89:{depth:0,height:.68333,italic:.025,skew:0},90:{depth:0,height:.68333,italic:0,skew:0},91:{depth:.25,height:.75,italic:0,skew:0},92:{depth:.25,height:.75,italic:0,skew:0},93:{depth:.25,height:.75,italic:0,skew:0},94:{depth:0,height:.69444,italic:0,skew:0},95:{depth:.31,height:.12056,italic:.02778,skew:0},96:{depth:0,height:.69444,italic:0,skew:0},97:{depth:0,height:.43056,italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},99:{depth:0,height:.43056,italic:0,
skew:0},100:{depth:0,height:.69444,italic:0,skew:0},101:{depth:0,height:.43056,italic:0,skew:0},102:{depth:0,height:.69444,italic:.07778,skew:0},103:{depth:.19444,height:.43056,italic:.01389,skew:0},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.66786,italic:0,skew:0},106:{depth:.19444,height:.66786,italic:0,skew:0},107:{depth:0,height:.69444,italic:0,skew:0},108:{depth:0,height:.69444,italic:0,skew:0},109:{depth:0,height:.43056,italic:0,skew:0},110:{depth:0,height:.43056,italic:0,
skew:0},111:{depth:0,height:.43056,italic:0,skew:0},112:{depth:.19444,height:.43056,italic:0,skew:0},113:{depth:.19444,height:.43056,italic:0,skew:0},114:{depth:0,height:.43056,italic:0,skew:0},115:{depth:0,height:.43056,italic:0,skew:0},116:{depth:0,height:.61508,italic:0,skew:0},117:{depth:0,height:.43056,italic:0,skew:0},118:{depth:0,height:.43056,italic:.01389,skew:0},119:{depth:0,height:.43056,italic:.01389,skew:0},120:{depth:0,height:.43056,italic:0,skew:0},121:{depth:.19444,height:.43056,italic:.01389,
skew:0},122:{depth:0,height:.43056,italic:0,skew:0},123:{depth:.25,height:.75,italic:0,skew:0},124:{depth:.25,height:.75,italic:0,skew:0},125:{depth:.25,height:.75,italic:0,skew:0},126:{depth:.35,height:.31786,italic:0,skew:0},160:{depth:0,height:0,italic:0,skew:0},168:{depth:0,height:.66786,italic:0,skew:0},172:{depth:0,height:.43056,italic:0,skew:0},175:{depth:0,height:.56778,italic:0,skew:0},176:{depth:0,height:.69444,italic:0,skew:0},177:{depth:.08333,height:.58333,italic:0,skew:0},180:{depth:0,
height:.69444,italic:0,skew:0},215:{depth:.08333,height:.58333,italic:0,skew:0},247:{depth:.08333,height:.58333,italic:0,skew:0},305:{depth:0,height:.43056,italic:0,skew:0},567:{depth:.19444,height:.43056,italic:0,skew:0},710:{depth:0,height:.69444,italic:0,skew:0},711:{depth:0,height:.62847,italic:0,skew:0},713:{depth:0,height:.56778,italic:0,skew:0},714:{depth:0,height:.69444,italic:0,skew:0},715:{depth:0,height:.69444,italic:0,skew:0},728:{depth:0,height:.69444,italic:0,skew:0},729:{depth:0,height:.66786,
italic:0,skew:0},730:{depth:0,height:.69444,italic:0,skew:0},732:{depth:0,height:.66786,italic:0,skew:0},768:{depth:0,height:.69444,italic:0,skew:0},769:{depth:0,height:.69444,italic:0,skew:0},770:{depth:0,height:.69444,italic:0,skew:0},771:{depth:0,height:.66786,italic:0,skew:0},772:{depth:0,height:.56778,italic:0,skew:0},774:{depth:0,height:.69444,italic:0,skew:0},775:{depth:0,height:.66786,italic:0,skew:0},776:{depth:0,height:.66786,italic:0,skew:0},778:{depth:0,height:.69444,italic:0,skew:0},
779:{depth:0,height:.69444,italic:0,skew:0},780:{depth:0,height:.62847,italic:0,skew:0},824:{depth:.19444,height:.69444,italic:0,skew:0},915:{depth:0,height:.68333,italic:0,skew:0},916:{depth:0,height:.68333,italic:0,skew:0},920:{depth:0,height:.68333,italic:0,skew:0},923:{depth:0,height:.68333,italic:0,skew:0},926:{depth:0,height:.68333,italic:0,skew:0},928:{depth:0,height:.68333,italic:0,skew:0},931:{depth:0,height:.68333,italic:0,skew:0},933:{depth:0,height:.68333,italic:0,skew:0},934:{depth:0,
height:.68333,italic:0,skew:0},936:{depth:0,height:.68333,italic:0,skew:0},937:{depth:0,height:.68333,italic:0,skew:0},8211:{depth:0,height:.43056,italic:.02778,skew:0},8212:{depth:0,height:.43056,italic:.02778,skew:0},8216:{depth:0,height:.69444,italic:0,skew:0},8217:{depth:0,height:.69444,italic:0,skew:0},8220:{depth:0,height:.69444,italic:0,skew:0},8221:{depth:0,height:.69444,italic:0,skew:0},8224:{depth:.19444,height:.69444,italic:0,skew:0},8225:{depth:.19444,height:.69444,italic:0,skew:0},8230:{depth:0,
height:.12,italic:0,skew:0},8242:{depth:0,height:.55556,italic:0,skew:0},8407:{depth:0,height:.71444,italic:.15382,skew:0},8463:{depth:0,height:.68889,italic:0,skew:0},8465:{depth:0,height:.69444,italic:0,skew:0},8467:{depth:0,height:.69444,italic:0,skew:.11111},8472:{depth:.19444,height:.43056,italic:0,skew:.11111},8476:{depth:0,height:.69444,italic:0,skew:0},8501:{depth:0,height:.69444,italic:0,skew:0},8592:{depth:-.13313,height:.36687,italic:0,skew:0},8593:{depth:.19444,height:.69444,italic:0,
skew:0},8594:{depth:-.13313,height:.36687,italic:0,skew:0},8595:{depth:.19444,height:.69444,italic:0,skew:0},8596:{depth:-.13313,height:.36687,italic:0,skew:0},8597:{depth:.25,height:.75,italic:0,skew:0},8598:{depth:.19444,height:.69444,italic:0,skew:0},8599:{depth:.19444,height:.69444,italic:0,skew:0},8600:{depth:.19444,height:.69444,italic:0,skew:0},8601:{depth:.19444,height:.69444,italic:0,skew:0},8614:{depth:.011,height:.511,italic:0,skew:0},8617:{depth:.011,height:.511,italic:0,skew:0},8618:{depth:.011,
height:.511,italic:0,skew:0},8636:{depth:-.13313,height:.36687,italic:0,skew:0},8637:{depth:-.13313,height:.36687,italic:0,skew:0},8640:{depth:-.13313,height:.36687,italic:0,skew:0},8641:{depth:-.13313,height:.36687,italic:0,skew:0},8652:{depth:.011,height:.671,italic:0,skew:0},8656:{depth:-.13313,height:.36687,italic:0,skew:0},8657:{depth:.19444,height:.69444,italic:0,skew:0},8658:{depth:-.13313,height:.36687,italic:0,skew:0},8659:{depth:.19444,height:.69444,italic:0,skew:0},8660:{depth:-.13313,
height:.36687,italic:0,skew:0},8661:{depth:.25,height:.75,italic:0,skew:0},8704:{depth:0,height:.69444,italic:0,skew:0},8706:{depth:0,height:.69444,italic:.05556,skew:.08334},8707:{depth:0,height:.69444,italic:0,skew:0},8709:{depth:.05556,height:.75,italic:0,skew:0},8711:{depth:0,height:.68333,italic:0,skew:0},8712:{depth:.0391,height:.5391,italic:0,skew:0},8715:{depth:.0391,height:.5391,italic:0,skew:0},8722:{depth:.08333,height:.58333,italic:0,skew:0},8723:{depth:.08333,height:.58333,italic:0,skew:0},
8725:{depth:.25,height:.75,italic:0,skew:0},8726:{depth:.25,height:.75,italic:0,skew:0},8727:{depth:-.03472,height:.46528,italic:0,skew:0},8728:{depth:-.05555,height:.44445,italic:0,skew:0},8729:{depth:-.05555,height:.44445,italic:0,skew:0},8730:{depth:.2,height:.8,italic:0,skew:0},8733:{depth:0,height:.43056,italic:0,skew:0},8734:{depth:0,height:.43056,italic:0,skew:0},8736:{depth:0,height:.69224,italic:0,skew:0},8739:{depth:.25,height:.75,italic:0,skew:0},8741:{depth:.25,height:.75,italic:0,skew:0},
8743:{depth:0,height:.55556,italic:0,skew:0},8744:{depth:0,height:.55556,italic:0,skew:0},8745:{depth:0,height:.55556,italic:0,skew:0},8746:{depth:0,height:.55556,italic:0,skew:0},8747:{depth:.19444,height:.69444,italic:.11111,skew:0},8764:{depth:-.13313,height:.36687,italic:0,skew:0},8768:{depth:.19444,height:.69444,italic:0,skew:0},8771:{depth:-.03625,height:.46375,italic:0,skew:0},8773:{depth:-.022,height:.589,italic:0,skew:0},8776:{depth:-.01688,height:.48312,italic:0,skew:0},8781:{depth:-.03625,
height:.46375,italic:0,skew:0},8784:{depth:-.133,height:.67,italic:0,skew:0},8800:{depth:.215,height:.716,italic:0,skew:0},8801:{depth:-.03625,height:.46375,italic:0,skew:0},8804:{depth:.13597,height:.63597,italic:0,skew:0},8805:{depth:.13597,height:.63597,italic:0,skew:0},8810:{depth:.0391,height:.5391,italic:0,skew:0},8811:{depth:.0391,height:.5391,italic:0,skew:0},8826:{depth:.0391,height:.5391,italic:0,skew:0},8827:{depth:.0391,height:.5391,italic:0,skew:0},8834:{depth:.0391,height:.5391,italic:0,
skew:0},8835:{depth:.0391,height:.5391,italic:0,skew:0},8838:{depth:.13597,height:.63597,italic:0,skew:0},8839:{depth:.13597,height:.63597,italic:0,skew:0},8846:{depth:0,height:.55556,italic:0,skew:0},8849:{depth:.13597,height:.63597,italic:0,skew:0},8850:{depth:.13597,height:.63597,italic:0,skew:0},8851:{depth:0,height:.55556,italic:0,skew:0},8852:{depth:0,height:.55556,italic:0,skew:0},8853:{depth:.08333,height:.58333,italic:0,skew:0},8854:{depth:.08333,height:.58333,italic:0,skew:0},8855:{depth:.08333,
height:.58333,italic:0,skew:0},8856:{depth:.08333,height:.58333,italic:0,skew:0},8857:{depth:.08333,height:.58333,italic:0,skew:0},8866:{depth:0,height:.69444,italic:0,skew:0},8867:{depth:0,height:.69444,italic:0,skew:0},8868:{depth:0,height:.69444,italic:0,skew:0},8869:{depth:0,height:.69444,italic:0,skew:0},8872:{depth:.249,height:.75,italic:0,skew:0},8900:{depth:-.05555,height:.44445,italic:0,skew:0},8901:{depth:-.05555,height:.44445,italic:0,skew:0},8902:{depth:-.03472,height:.46528,italic:0,
skew:0},8904:{depth:.005,height:.505,italic:0,skew:0},8942:{depth:.03,height:.9,italic:0,skew:0},8943:{depth:-.19,height:.31,italic:0,skew:0},8945:{depth:-.1,height:.82,italic:0,skew:0},8968:{depth:.25,height:.75,italic:0,skew:0},8969:{depth:.25,height:.75,italic:0,skew:0},8970:{depth:.25,height:.75,italic:0,skew:0},8971:{depth:.25,height:.75,italic:0,skew:0},8994:{depth:-.14236,height:.35764,italic:0,skew:0},8995:{depth:-.14236,height:.35764,italic:0,skew:0},9136:{depth:.244,height:.744,italic:0,
skew:0},9137:{depth:.244,height:.744,italic:0,skew:0},9651:{depth:.19444,height:.69444,italic:0,skew:0},9657:{depth:-.03472,height:.46528,italic:0,skew:0},9661:{depth:.19444,height:.69444,italic:0,skew:0},9667:{depth:-.03472,height:.46528,italic:0,skew:0},9711:{depth:.19444,height:.69444,italic:0,skew:0},9824:{depth:.12963,height:.69444,italic:0,skew:0},9825:{depth:.12963,height:.69444,italic:0,skew:0},9826:{depth:.12963,height:.69444,italic:0,skew:0},9827:{depth:.12963,height:.69444,italic:0,skew:0},
9837:{depth:0,height:.75,italic:0,skew:0},9838:{depth:.19444,height:.69444,italic:0,skew:0},9839:{depth:.19444,height:.69444,italic:0,skew:0},10216:{depth:.25,height:.75,italic:0,skew:0},10217:{depth:.25,height:.75,italic:0,skew:0},10222:{depth:.244,height:.744,italic:0,skew:0},10223:{depth:.244,height:.744,italic:0,skew:0},10229:{depth:.011,height:.511,italic:0,skew:0},10230:{depth:.011,height:.511,italic:0,skew:0},10231:{depth:.011,height:.511,italic:0,skew:0},10232:{depth:.024,height:.525,italic:0,
skew:0},10233:{depth:.024,height:.525,italic:0,skew:0},10234:{depth:.024,height:.525,italic:0,skew:0},10236:{depth:.011,height:.511,italic:0,skew:0},10815:{depth:0,height:.68333,italic:0,skew:0},10927:{depth:.13597,height:.63597,italic:0,skew:0},10928:{depth:.13597,height:.63597,italic:0,skew:0}},"Math-BoldItalic":{47:{depth:.19444,height:.69444,italic:0,skew:0},65:{depth:0,height:.68611,italic:0,skew:0},66:{depth:0,height:.68611,italic:.04835,skew:0},67:{depth:0,height:.68611,italic:.06979,skew:0},
68:{depth:0,height:.68611,italic:.03194,skew:0},69:{depth:0,height:.68611,italic:.05451,skew:0},70:{depth:0,height:.68611,italic:.15972,skew:0},71:{depth:0,height:.68611,italic:0,skew:0},72:{depth:0,height:.68611,italic:.08229,skew:0},73:{depth:0,height:.68611,italic:.07778,skew:0},74:{depth:0,height:.68611,italic:.10069,skew:0},75:{depth:0,height:.68611,italic:.06979,skew:0},76:{depth:0,height:.68611,italic:0,skew:0},77:{depth:0,height:.68611,italic:.11424,skew:0},78:{depth:0,height:.68611,italic:.11424,
skew:0},79:{depth:0,height:.68611,italic:.03194,skew:0},80:{depth:0,height:.68611,italic:.15972,skew:0},81:{depth:.19444,height:.68611,italic:0,skew:0},82:{depth:0,height:.68611,italic:.00421,skew:0},83:{depth:0,height:.68611,italic:.05382,skew:0},84:{depth:0,height:.68611,italic:.15972,skew:0},85:{depth:0,height:.68611,italic:.11424,skew:0},86:{depth:0,height:.68611,italic:.25555,skew:0},87:{depth:0,height:.68611,italic:.15972,skew:0},88:{depth:0,height:.68611,italic:.07778,skew:0},89:{depth:0,height:.68611,
italic:.25555,skew:0},90:{depth:0,height:.68611,italic:.06979,skew:0},97:{depth:0,height:.44444,italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},99:{depth:0,height:.44444,italic:0,skew:0},100:{depth:0,height:.69444,italic:0,skew:0},101:{depth:0,height:.44444,italic:0,skew:0},102:{depth:.19444,height:.69444,italic:.11042,skew:0},103:{depth:.19444,height:.44444,italic:.03704,skew:0},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.69326,italic:0,skew:0},106:{depth:.19444,
height:.69326,italic:.0622,skew:0},107:{depth:0,height:.69444,italic:.01852,skew:0},108:{depth:0,height:.69444,italic:.0088,skew:0},109:{depth:0,height:.44444,italic:0,skew:0},110:{depth:0,height:.44444,italic:0,skew:0},111:{depth:0,height:.44444,italic:0,skew:0},112:{depth:.19444,height:.44444,italic:0,skew:0},113:{depth:.19444,height:.44444,italic:.03704,skew:0},114:{depth:0,height:.44444,italic:.03194,skew:0},115:{depth:0,height:.44444,italic:0,skew:0},116:{depth:0,height:.63492,italic:0,skew:0},
117:{depth:0,height:.44444,italic:0,skew:0},118:{depth:0,height:.44444,italic:.03704,skew:0},119:{depth:0,height:.44444,italic:.02778,skew:0},120:{depth:0,height:.44444,italic:0,skew:0},121:{depth:.19444,height:.44444,italic:.03704,skew:0},122:{depth:0,height:.44444,italic:.04213,skew:0},915:{depth:0,height:.68611,italic:.15972,skew:0},916:{depth:0,height:.68611,italic:0,skew:0},920:{depth:0,height:.68611,italic:.03194,skew:0},923:{depth:0,height:.68611,italic:0,skew:0},926:{depth:0,height:.68611,
italic:.07458,skew:0},928:{depth:0,height:.68611,italic:.08229,skew:0},931:{depth:0,height:.68611,italic:.05451,skew:0},933:{depth:0,height:.68611,italic:.15972,skew:0},934:{depth:0,height:.68611,italic:0,skew:0},936:{depth:0,height:.68611,italic:.11653,skew:0},937:{depth:0,height:.68611,italic:.04835,skew:0},945:{depth:0,height:.44444,italic:0,skew:0},946:{depth:.19444,height:.69444,italic:.03403,skew:0},947:{depth:.19444,height:.44444,italic:.06389,skew:0},948:{depth:0,height:.69444,italic:.03819,
skew:0},949:{depth:0,height:.44444,italic:0,skew:0},950:{depth:.19444,height:.69444,italic:.06215,skew:0},951:{depth:.19444,height:.44444,italic:.03704,skew:0},952:{depth:0,height:.69444,italic:.03194,skew:0},953:{depth:0,height:.44444,italic:0,skew:0},954:{depth:0,height:.44444,italic:0,skew:0},955:{depth:0,height:.69444,italic:0,skew:0},956:{depth:.19444,height:.44444,italic:0,skew:0},957:{depth:0,height:.44444,italic:.06898,skew:0},958:{depth:.19444,height:.69444,italic:.03021,skew:0},959:{depth:0,
height:.44444,italic:0,skew:0},960:{depth:0,height:.44444,italic:.03704,skew:0},961:{depth:.19444,height:.44444,italic:0,skew:0},962:{depth:.09722,height:.44444,italic:.07917,skew:0},963:{depth:0,height:.44444,italic:.03704,skew:0},964:{depth:0,height:.44444,italic:.13472,skew:0},965:{depth:0,height:.44444,italic:.03704,skew:0},966:{depth:.19444,height:.44444,italic:0,skew:0},967:{depth:.19444,height:.44444,italic:0,skew:0},968:{depth:.19444,height:.69444,italic:.03704,skew:0},969:{depth:0,height:.44444,
italic:.03704,skew:0},977:{depth:0,height:.69444,italic:0,skew:0},981:{depth:.19444,height:.69444,italic:0,skew:0},982:{depth:0,height:.44444,italic:.03194,skew:0},1009:{depth:.19444,height:.44444,italic:0,skew:0},1013:{depth:0,height:.44444,italic:0,skew:0}},"Math-Italic":{47:{depth:.19444,height:.69444,italic:0,skew:0},65:{depth:0,height:.68333,italic:0,skew:.13889},66:{depth:0,height:.68333,italic:.05017,skew:.08334},67:{depth:0,height:.68333,italic:.07153,skew:.08334},68:{depth:0,height:.68333,
italic:.02778,skew:.05556},69:{depth:0,height:.68333,italic:.05764,skew:.08334},70:{depth:0,height:.68333,italic:.13889,skew:.08334},71:{depth:0,height:.68333,italic:0,skew:.08334},72:{depth:0,height:.68333,italic:.08125,skew:.05556},73:{depth:0,height:.68333,italic:.07847,skew:.11111},74:{depth:0,height:.68333,italic:.09618,skew:.16667},75:{depth:0,height:.68333,italic:.07153,skew:.05556},76:{depth:0,height:.68333,italic:0,skew:.02778},77:{depth:0,height:.68333,italic:.10903,skew:.08334},78:{depth:0,
height:.68333,italic:.10903,skew:.08334},79:{depth:0,height:.68333,italic:.02778,skew:.08334},80:{depth:0,height:.68333,italic:.13889,skew:.08334},81:{depth:.19444,height:.68333,italic:0,skew:.08334},82:{depth:0,height:.68333,italic:.00773,skew:.08334},83:{depth:0,height:.68333,italic:.05764,skew:.08334},84:{depth:0,height:.68333,italic:.13889,skew:.08334},85:{depth:0,height:.68333,italic:.10903,skew:.02778},86:{depth:0,height:.68333,italic:.22222,skew:0},87:{depth:0,height:.68333,italic:.13889,skew:0},
88:{depth:0,height:.68333,italic:.07847,skew:.08334},89:{depth:0,height:.68333,italic:.22222,skew:0},90:{depth:0,height:.68333,italic:.07153,skew:.08334},97:{depth:0,height:.43056,italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},99:{depth:0,height:.43056,italic:0,skew:.05556},100:{depth:0,height:.69444,italic:0,skew:.16667},101:{depth:0,height:.43056,italic:0,skew:.05556},102:{depth:.19444,height:.69444,italic:.10764,skew:.16667},103:{depth:.19444,height:.43056,italic:.03588,skew:.02778},
104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.65952,italic:0,skew:0},106:{depth:.19444,height:.65952,italic:.05724,skew:0},107:{depth:0,height:.69444,italic:.03148,skew:0},108:{depth:0,height:.69444,italic:.01968,skew:.08334},109:{depth:0,height:.43056,italic:0,skew:0},110:{depth:0,height:.43056,italic:0,skew:0},111:{depth:0,height:.43056,italic:0,skew:.05556},112:{depth:.19444,height:.43056,italic:0,skew:.08334},113:{depth:.19444,height:.43056,italic:.03588,skew:.08334},114:{depth:0,
height:.43056,italic:.02778,skew:.05556},115:{depth:0,height:.43056,italic:0,skew:.05556},116:{depth:0,height:.61508,italic:0,skew:.08334},117:{depth:0,height:.43056,italic:0,skew:.02778},118:{depth:0,height:.43056,italic:.03588,skew:.02778},119:{depth:0,height:.43056,italic:.02691,skew:.08334},120:{depth:0,height:.43056,italic:0,skew:.02778},121:{depth:.19444,height:.43056,italic:.03588,skew:.05556},122:{depth:0,height:.43056,italic:.04398,skew:.05556},915:{depth:0,height:.68333,italic:.13889,skew:.08334},
916:{depth:0,height:.68333,italic:0,skew:.16667},920:{depth:0,height:.68333,italic:.02778,skew:.08334},923:{depth:0,height:.68333,italic:0,skew:.16667},926:{depth:0,height:.68333,italic:.07569,skew:.08334},928:{depth:0,height:.68333,italic:.08125,skew:.05556},931:{depth:0,height:.68333,italic:.05764,skew:.08334},933:{depth:0,height:.68333,italic:.13889,skew:.05556},934:{depth:0,height:.68333,italic:0,skew:.08334},936:{depth:0,height:.68333,italic:.11,skew:.05556},937:{depth:0,height:.68333,italic:.05017,
skew:.08334},945:{depth:0,height:.43056,italic:.0037,skew:.02778},946:{depth:.19444,height:.69444,italic:.05278,skew:.08334},947:{depth:.19444,height:.43056,italic:.05556,skew:0},948:{depth:0,height:.69444,italic:.03785,skew:.05556},949:{depth:0,height:.43056,italic:0,skew:.08334},950:{depth:.19444,height:.69444,italic:.07378,skew:.08334},951:{depth:.19444,height:.43056,italic:.03588,skew:.05556},952:{depth:0,height:.69444,italic:.02778,skew:.08334},953:{depth:0,height:.43056,italic:0,skew:.05556},
954:{depth:0,height:.43056,italic:0,skew:0},955:{depth:0,height:.69444,italic:0,skew:0},956:{depth:.19444,height:.43056,italic:0,skew:.02778},957:{depth:0,height:.43056,italic:.06366,skew:.02778},958:{depth:.19444,height:.69444,italic:.04601,skew:.11111},959:{depth:0,height:.43056,italic:0,skew:.05556},960:{depth:0,height:.43056,italic:.03588,skew:0},961:{depth:.19444,height:.43056,italic:0,skew:.08334},962:{depth:.09722,height:.43056,italic:.07986,skew:.08334},963:{depth:0,height:.43056,italic:.03588,
skew:0},964:{depth:0,height:.43056,italic:.1132,skew:.02778},965:{depth:0,height:.43056,italic:.03588,skew:.02778},966:{depth:.19444,height:.43056,italic:0,skew:.08334},967:{depth:.19444,height:.43056,italic:0,skew:.05556},968:{depth:.19444,height:.69444,italic:.03588,skew:.11111},969:{depth:0,height:.43056,italic:.03588,skew:0},977:{depth:0,height:.69444,italic:0,skew:.08334},981:{depth:.19444,height:.69444,italic:0,skew:.08334},982:{depth:0,height:.43056,italic:.02778,skew:0},1009:{depth:.19444,
height:.43056,italic:0,skew:.08334},1013:{depth:0,height:.43056,italic:0,skew:.05556}},"Math-Regular":{65:{depth:0,height:.68333,italic:0,skew:.13889},66:{depth:0,height:.68333,italic:.05017,skew:.08334},67:{depth:0,height:.68333,italic:.07153,skew:.08334},68:{depth:0,height:.68333,italic:.02778,skew:.05556},69:{depth:0,height:.68333,italic:.05764,skew:.08334},70:{depth:0,height:.68333,italic:.13889,skew:.08334},71:{depth:0,height:.68333,italic:0,skew:.08334},72:{depth:0,height:.68333,italic:.08125,
skew:.05556},73:{depth:0,height:.68333,italic:.07847,skew:.11111},74:{depth:0,height:.68333,italic:.09618,skew:.16667},75:{depth:0,height:.68333,italic:.07153,skew:.05556},76:{depth:0,height:.68333,italic:0,skew:.02778},77:{depth:0,height:.68333,italic:.10903,skew:.08334},78:{depth:0,height:.68333,italic:.10903,skew:.08334},79:{depth:0,height:.68333,italic:.02778,skew:.08334},80:{depth:0,height:.68333,italic:.13889,skew:.08334},81:{depth:.19444,height:.68333,italic:0,skew:.08334},82:{depth:0,height:.68333,
italic:.00773,skew:.08334},83:{depth:0,height:.68333,italic:.05764,skew:.08334},84:{depth:0,height:.68333,italic:.13889,skew:.08334},85:{depth:0,height:.68333,italic:.10903,skew:.02778},86:{depth:0,height:.68333,italic:.22222,skew:0},87:{depth:0,height:.68333,italic:.13889,skew:0},88:{depth:0,height:.68333,italic:.07847,skew:.08334},89:{depth:0,height:.68333,italic:.22222,skew:0},90:{depth:0,height:.68333,italic:.07153,skew:.08334},97:{depth:0,height:.43056,italic:0,skew:0},98:{depth:0,height:.69444,
italic:0,skew:0},99:{depth:0,height:.43056,italic:0,skew:.05556},100:{depth:0,height:.69444,italic:0,skew:.16667},101:{depth:0,height:.43056,italic:0,skew:.05556},102:{depth:.19444,height:.69444,italic:.10764,skew:.16667},103:{depth:.19444,height:.43056,italic:.03588,skew:.02778},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.65952,italic:0,skew:0},106:{depth:.19444,height:.65952,italic:.05724,skew:0},107:{depth:0,height:.69444,italic:.03148,skew:0},108:{depth:0,height:.69444,italic:.01968,
skew:.08334},109:{depth:0,height:.43056,italic:0,skew:0},110:{depth:0,height:.43056,italic:0,skew:0},111:{depth:0,height:.43056,italic:0,skew:.05556},112:{depth:.19444,height:.43056,italic:0,skew:.08334},113:{depth:.19444,height:.43056,italic:.03588,skew:.08334},114:{depth:0,height:.43056,italic:.02778,skew:.05556},115:{depth:0,height:.43056,italic:0,skew:.05556},116:{depth:0,height:.61508,italic:0,skew:.08334},117:{depth:0,height:.43056,italic:0,skew:.02778},118:{depth:0,height:.43056,italic:.03588,
skew:.02778},119:{depth:0,height:.43056,italic:.02691,skew:.08334},120:{depth:0,height:.43056,italic:0,skew:.02778},121:{depth:.19444,height:.43056,italic:.03588,skew:.05556},122:{depth:0,height:.43056,italic:.04398,skew:.05556},915:{depth:0,height:.68333,italic:.13889,skew:.08334},916:{depth:0,height:.68333,italic:0,skew:.16667},920:{depth:0,height:.68333,italic:.02778,skew:.08334},923:{depth:0,height:.68333,italic:0,skew:.16667},926:{depth:0,height:.68333,italic:.07569,skew:.08334},928:{depth:0,
height:.68333,italic:.08125,skew:.05556},931:{depth:0,height:.68333,italic:.05764,skew:.08334},933:{depth:0,height:.68333,italic:.13889,skew:.05556},934:{depth:0,height:.68333,italic:0,skew:.08334},936:{depth:0,height:.68333,italic:.11,skew:.05556},937:{depth:0,height:.68333,italic:.05017,skew:.08334},945:{depth:0,height:.43056,italic:.0037,skew:.02778},946:{depth:.19444,height:.69444,italic:.05278,skew:.08334},947:{depth:.19444,height:.43056,italic:.05556,skew:0},948:{depth:0,height:.69444,italic:.03785,
skew:.05556},949:{depth:0,height:.43056,italic:0,skew:.08334},950:{depth:.19444,height:.69444,italic:.07378,skew:.08334},951:{depth:.19444,height:.43056,italic:.03588,skew:.05556},952:{depth:0,height:.69444,italic:.02778,skew:.08334},953:{depth:0,height:.43056,italic:0,skew:.05556},954:{depth:0,height:.43056,italic:0,skew:0},955:{depth:0,height:.69444,italic:0,skew:0},956:{depth:.19444,height:.43056,italic:0,skew:.02778},957:{depth:0,height:.43056,italic:.06366,skew:.02778},958:{depth:.19444,height:.69444,
italic:.04601,skew:.11111},959:{depth:0,height:.43056,italic:0,skew:.05556},960:{depth:0,height:.43056,italic:.03588,skew:0},961:{depth:.19444,height:.43056,italic:0,skew:.08334},962:{depth:.09722,height:.43056,italic:.07986,skew:.08334},963:{depth:0,height:.43056,italic:.03588,skew:0},964:{depth:0,height:.43056,italic:.1132,skew:.02778},965:{depth:0,height:.43056,italic:.03588,skew:.02778},966:{depth:.19444,height:.43056,italic:0,skew:.08334},967:{depth:.19444,height:.43056,italic:0,skew:.05556},
968:{depth:.19444,height:.69444,italic:.03588,skew:.11111},969:{depth:0,height:.43056,italic:.03588,skew:0},977:{depth:0,height:.69444,italic:0,skew:.08334},981:{depth:.19444,height:.69444,italic:0,skew:.08334},982:{depth:0,height:.43056,italic:.02778,skew:0},1009:{depth:.19444,height:.43056,italic:0,skew:.08334},1013:{depth:0,height:.43056,italic:0,skew:.05556}},"SansSerif-Regular":{33:{depth:0,height:.69444,italic:0,skew:0},34:{depth:0,height:.69444,italic:0,skew:0},35:{depth:.19444,height:.69444,
italic:0,skew:0},36:{depth:.05556,height:.75,italic:0,skew:0},37:{depth:.05556,height:.75,italic:0,skew:0},38:{depth:0,height:.69444,italic:0,skew:0},39:{depth:0,height:.69444,italic:0,skew:0},40:{depth:.25,height:.75,italic:0,skew:0},41:{depth:.25,height:.75,italic:0,skew:0},42:{depth:0,height:.75,italic:0,skew:0},43:{depth:.08333,height:.58333,italic:0,skew:0},44:{depth:.125,height:.08333,italic:0,skew:0},45:{depth:0,height:.44444,italic:0,skew:0},46:{depth:0,height:.08333,italic:0,skew:0},47:{depth:.25,
height:.75,italic:0,skew:0},48:{depth:0,height:.65556,italic:0,skew:0},49:{depth:0,height:.65556,italic:0,skew:0},50:{depth:0,height:.65556,italic:0,skew:0},51:{depth:0,height:.65556,italic:0,skew:0},52:{depth:0,height:.65556,italic:0,skew:0},53:{depth:0,height:.65556,italic:0,skew:0},54:{depth:0,height:.65556,italic:0,skew:0},55:{depth:0,height:.65556,italic:0,skew:0},56:{depth:0,height:.65556,italic:0,skew:0},57:{depth:0,height:.65556,italic:0,skew:0},58:{depth:0,height:.44444,italic:0,skew:0},
59:{depth:.125,height:.44444,italic:0,skew:0},61:{depth:-.13,height:.37,italic:0,skew:0},63:{depth:0,height:.69444,italic:0,skew:0},64:{depth:0,height:.69444,italic:0,skew:0},65:{depth:0,height:.69444,italic:0,skew:0},66:{depth:0,height:.69444,italic:0,skew:0},67:{depth:0,height:.69444,italic:0,skew:0},68:{depth:0,height:.69444,italic:0,skew:0},69:{depth:0,height:.69444,italic:0,skew:0},70:{depth:0,height:.69444,italic:0,skew:0},71:{depth:0,height:.69444,italic:0,skew:0},72:{depth:0,height:.69444,
italic:0,skew:0},73:{depth:0,height:.69444,italic:0,skew:0},74:{depth:0,height:.69444,italic:0,skew:0},75:{depth:0,height:.69444,italic:0,skew:0},76:{depth:0,height:.69444,italic:0,skew:0},77:{depth:0,height:.69444,italic:0,skew:0},78:{depth:0,height:.69444,italic:0,skew:0},79:{depth:0,height:.69444,italic:0,skew:0},80:{depth:0,height:.69444,italic:0,skew:0},81:{depth:.125,height:.69444,italic:0,skew:0},82:{depth:0,height:.69444,italic:0,skew:0},83:{depth:0,height:.69444,italic:0,skew:0},84:{depth:0,
height:.69444,italic:0,skew:0},85:{depth:0,height:.69444,italic:0,skew:0},86:{depth:0,height:.69444,italic:.01389,skew:0},87:{depth:0,height:.69444,italic:.01389,skew:0},88:{depth:0,height:.69444,italic:0,skew:0},89:{depth:0,height:.69444,italic:.025,skew:0},90:{depth:0,height:.69444,italic:0,skew:0},91:{depth:.25,height:.75,italic:0,skew:0},93:{depth:.25,height:.75,italic:0,skew:0},94:{depth:0,height:.69444,italic:0,skew:0},95:{depth:.35,height:.09444,italic:.02778,skew:0},97:{depth:0,height:.44444,
italic:0,skew:0},98:{depth:0,height:.69444,italic:0,skew:0},99:{depth:0,height:.44444,italic:0,skew:0},100:{depth:0,height:.69444,italic:0,skew:0},101:{depth:0,height:.44444,italic:0,skew:0},102:{depth:0,height:.69444,italic:.06944,skew:0},103:{depth:.19444,height:.44444,italic:.01389,skew:0},104:{depth:0,height:.69444,italic:0,skew:0},105:{depth:0,height:.67937,italic:0,skew:0},106:{depth:.19444,height:.67937,italic:0,skew:0},107:{depth:0,height:.69444,italic:0,skew:0},108:{depth:0,height:.69444,
italic:0,skew:0},109:{depth:0,height:.44444,italic:0,skew:0},110:{depth:0,height:.44444,italic:0,skew:0},111:{depth:0,height:.44444,italic:0,skew:0},112:{depth:.19444,height:.44444,italic:0,skew:0},113:{depth:.19444,height:.44444,italic:0,skew:0},114:{depth:0,height:.44444,italic:.01389,skew:0},115:{depth:0,height:.44444,italic:0,skew:0},116:{depth:0,height:.57143,italic:0,skew:0},117:{depth:0,height:.44444,italic:0,skew:0},118:{depth:0,height:.44444,italic:.01389,skew:0},119:{depth:0,height:.44444,
italic:.01389,skew:0},120:{depth:0,height:.44444,italic:0,skew:0},121:{depth:.19444,height:.44444,italic:.01389,skew:0},122:{depth:0,height:.44444,italic:0,skew:0},126:{depth:.35,height:.32659,italic:0,skew:0},305:{depth:0,height:.44444,italic:0,skew:0},567:{depth:.19444,height:.44444,italic:0,skew:0},768:{depth:0,height:.69444,italic:0,skew:0},769:{depth:0,height:.69444,italic:0,skew:0},770:{depth:0,height:.69444,italic:0,skew:0},771:{depth:0,height:.67659,italic:0,skew:0},772:{depth:0,height:.60889,
italic:0,skew:0},774:{depth:0,height:.69444,italic:0,skew:0},775:{depth:0,height:.67937,italic:0,skew:0},776:{depth:0,height:.67937,italic:0,skew:0},778:{depth:0,height:.69444,italic:0,skew:0},779:{depth:0,height:.69444,italic:0,skew:0},780:{depth:0,height:.63194,italic:0,skew:0},915:{depth:0,height:.69444,italic:0,skew:0},916:{depth:0,height:.69444,italic:0,skew:0},920:{depth:0,height:.69444,italic:0,skew:0},923:{depth:0,height:.69444,italic:0,skew:0},926:{depth:0,height:.69444,italic:0,skew:0},
928:{depth:0,height:.69444,italic:0,skew:0},931:{depth:0,height:.69444,italic:0,skew:0},933:{depth:0,height:.69444,italic:0,skew:0},934:{depth:0,height:.69444,italic:0,skew:0},936:{depth:0,height:.69444,italic:0,skew:0},937:{depth:0,height:.69444,italic:0,skew:0},8211:{depth:0,height:.44444,italic:.02778,skew:0},8212:{depth:0,height:.44444,italic:.02778,skew:0},8216:{depth:0,height:.69444,italic:0,skew:0},8217:{depth:0,height:.69444,italic:0,skew:0},8220:{depth:0,height:.69444,italic:0,skew:0},8221:{depth:0,
height:.69444,italic:0,skew:0}},"Script-Regular":{65:{depth:0,height:.7,italic:.22925,skew:0},66:{depth:0,height:.7,italic:.04087,skew:0},67:{depth:0,height:.7,italic:.1689,skew:0},68:{depth:0,height:.7,italic:.09371,skew:0},69:{depth:0,height:.7,italic:.18583,skew:0},70:{depth:0,height:.7,italic:.13634,skew:0},71:{depth:0,height:.7,italic:.17322,skew:0},72:{depth:0,height:.7,italic:.29694,skew:0},73:{depth:0,height:.7,italic:.19189,skew:0},74:{depth:.27778,height:.7,italic:.19189,skew:0},75:{depth:0,
height:.7,italic:.31259,skew:0},76:{depth:0,height:.7,italic:.19189,skew:0},77:{depth:0,height:.7,italic:.15981,skew:0},78:{depth:0,height:.7,italic:.3525,skew:0},79:{depth:0,height:.7,italic:.08078,skew:0},80:{depth:0,height:.7,italic:.08078,skew:0},81:{depth:0,height:.7,italic:.03305,skew:0},82:{depth:0,height:.7,italic:.06259,skew:0},83:{depth:0,height:.7,italic:.19189,skew:0},84:{depth:0,height:.7,italic:.29087,skew:0},85:{depth:0,height:.7,italic:.25815,skew:0},86:{depth:0,height:.7,italic:.27523,
skew:0},87:{depth:0,height:.7,italic:.27523,skew:0},88:{depth:0,height:.7,italic:.26006,skew:0},89:{depth:0,height:.7,italic:.2939,skew:0},90:{depth:0,height:.7,italic:.24037,skew:0}},"Size1-Regular":{40:{depth:.35001,height:.85,italic:0,skew:0},41:{depth:.35001,height:.85,italic:0,skew:0},47:{depth:.35001,height:.85,italic:0,skew:0},91:{depth:.35001,height:.85,italic:0,skew:0},92:{depth:.35001,height:.85,italic:0,skew:0},93:{depth:.35001,height:.85,italic:0,skew:0},123:{depth:.35001,height:.85,italic:0,
skew:0},125:{depth:.35001,height:.85,italic:0,skew:0},710:{depth:0,height:.72222,italic:0,skew:0},732:{depth:0,height:.72222,italic:0,skew:0},770:{depth:0,height:.72222,italic:0,skew:0},771:{depth:0,height:.72222,italic:0,skew:0},8214:{depth:-9.9E-4,height:.601,italic:0,skew:0},8593:{depth:1E-5,height:.6,italic:0,skew:0},8595:{depth:1E-5,height:.6,italic:0,skew:0},8657:{depth:1E-5,height:.6,italic:0,skew:0},8659:{depth:1E-5,height:.6,italic:0,skew:0},8719:{depth:.25001,height:.75,italic:0,skew:0},
8720:{depth:.25001,height:.75,italic:0,skew:0},8721:{depth:.25001,height:.75,italic:0,skew:0},8730:{depth:.35001,height:.85,italic:0,skew:0},8739:{depth:-.00599,height:.606,italic:0,skew:0},8741:{depth:-.00599,height:.606,italic:0,skew:0},8747:{depth:.30612,height:.805,italic:.19445,skew:0},8748:{depth:.306,height:.805,italic:.19445,skew:0},8749:{depth:.306,height:.805,italic:.19445,skew:0},8750:{depth:.30612,height:.805,italic:.19445,skew:0},8896:{depth:.25001,height:.75,italic:0,skew:0},8897:{depth:.25001,
height:.75,italic:0,skew:0},8898:{depth:.25001,height:.75,italic:0,skew:0},8899:{depth:.25001,height:.75,italic:0,skew:0},8968:{depth:.35001,height:.85,italic:0,skew:0},8969:{depth:.35001,height:.85,italic:0,skew:0},8970:{depth:.35001,height:.85,italic:0,skew:0},8971:{depth:.35001,height:.85,italic:0,skew:0},9168:{depth:-9.9E-4,height:.601,italic:0,skew:0},10216:{depth:.35001,height:.85,italic:0,skew:0},10217:{depth:.35001,height:.85,italic:0,skew:0},10752:{depth:.25001,height:.75,italic:0,skew:0},
10753:{depth:.25001,height:.75,italic:0,skew:0},10754:{depth:.25001,height:.75,italic:0,skew:0},10756:{depth:.25001,height:.75,italic:0,skew:0},10758:{depth:.25001,height:.75,italic:0,skew:0}},"Size2-Regular":{40:{depth:.65002,height:1.15,italic:0,skew:0},41:{depth:.65002,height:1.15,italic:0,skew:0},47:{depth:.65002,height:1.15,italic:0,skew:0},91:{depth:.65002,height:1.15,italic:0,skew:0},92:{depth:.65002,height:1.15,italic:0,skew:0},93:{depth:.65002,height:1.15,italic:0,skew:0},123:{depth:.65002,
height:1.15,italic:0,skew:0},125:{depth:.65002,height:1.15,italic:0,skew:0},710:{depth:0,height:.75,italic:0,skew:0},732:{depth:0,height:.75,italic:0,skew:0},770:{depth:0,height:.75,italic:0,skew:0},771:{depth:0,height:.75,italic:0,skew:0},8719:{depth:.55001,height:1.05,italic:0,skew:0},8720:{depth:.55001,height:1.05,italic:0,skew:0},8721:{depth:.55001,height:1.05,italic:0,skew:0},8730:{depth:.65002,height:1.15,italic:0,skew:0},8747:{depth:.86225,height:1.36,italic:.44445,skew:0},8748:{depth:.862,
height:1.36,italic:.44445,skew:0},8749:{depth:.862,height:1.36,italic:.44445,skew:0},8750:{depth:.86225,height:1.36,italic:.44445,skew:0},8896:{depth:.55001,height:1.05,italic:0,skew:0},8897:{depth:.55001,height:1.05,italic:0,skew:0},8898:{depth:.55001,height:1.05,italic:0,skew:0},8899:{depth:.55001,height:1.05,italic:0,skew:0},8968:{depth:.65002,height:1.15,italic:0,skew:0},8969:{depth:.65002,height:1.15,italic:0,skew:0},8970:{depth:.65002,height:1.15,italic:0,skew:0},8971:{depth:.65002,height:1.15,
italic:0,skew:0},10216:{depth:.65002,height:1.15,italic:0,skew:0},10217:{depth:.65002,height:1.15,italic:0,skew:0},10752:{depth:.55001,height:1.05,italic:0,skew:0},10753:{depth:.55001,height:1.05,italic:0,skew:0},10754:{depth:.55001,height:1.05,italic:0,skew:0},10756:{depth:.55001,height:1.05,italic:0,skew:0},10758:{depth:.55001,height:1.05,italic:0,skew:0}},"Size3-Regular":{40:{depth:.95003,height:1.45,italic:0,skew:0},41:{depth:.95003,height:1.45,italic:0,skew:0},47:{depth:.95003,height:1.45,italic:0,
skew:0},91:{depth:.95003,height:1.45,italic:0,skew:0},92:{depth:.95003,height:1.45,italic:0,skew:0},93:{depth:.95003,height:1.45,italic:0,skew:0},123:{depth:.95003,height:1.45,italic:0,skew:0},125:{depth:.95003,height:1.45,italic:0,skew:0},710:{depth:0,height:.75,italic:0,skew:0},732:{depth:0,height:.75,italic:0,skew:0},770:{depth:0,height:.75,italic:0,skew:0},771:{depth:0,height:.75,italic:0,skew:0},8730:{depth:.95003,height:1.45,italic:0,skew:0},8968:{depth:.95003,height:1.45,italic:0,skew:0},8969:{depth:.95003,
height:1.45,italic:0,skew:0},8970:{depth:.95003,height:1.45,italic:0,skew:0},8971:{depth:.95003,height:1.45,italic:0,skew:0},10216:{depth:.95003,height:1.45,italic:0,skew:0},10217:{depth:.95003,height:1.45,italic:0,skew:0}},"Size4-Regular":{40:{depth:1.25003,height:1.75,italic:0,skew:0},41:{depth:1.25003,height:1.75,italic:0,skew:0},47:{depth:1.25003,height:1.75,italic:0,skew:0},91:{depth:1.25003,height:1.75,italic:0,skew:0},92:{depth:1.25003,height:1.75,italic:0,skew:0},93:{depth:1.25003,height:1.75,
italic:0,skew:0},123:{depth:1.25003,height:1.75,italic:0,skew:0},125:{depth:1.25003,height:1.75,italic:0,skew:0},710:{depth:0,height:.825,italic:0,skew:0},732:{depth:0,height:.825,italic:0,skew:0},770:{depth:0,height:.825,italic:0,skew:0},771:{depth:0,height:.825,italic:0,skew:0},8730:{depth:1.25003,height:1.75,italic:0,skew:0},8968:{depth:1.25003,height:1.75,italic:0,skew:0},8969:{depth:1.25003,height:1.75,italic:0,skew:0},8970:{depth:1.25003,height:1.75,italic:0,skew:0},8971:{depth:1.25003,height:1.75,
italic:0,skew:0},9115:{depth:.64502,height:1.155,italic:0,skew:0},9116:{depth:1E-5,height:.6,italic:0,skew:0},9117:{depth:.64502,height:1.155,italic:0,skew:0},9118:{depth:.64502,height:1.155,italic:0,skew:0},9119:{depth:1E-5,height:.6,italic:0,skew:0},9120:{depth:.64502,height:1.155,italic:0,skew:0},9121:{depth:.64502,height:1.155,italic:0,skew:0},9122:{depth:-9.9E-4,height:.601,italic:0,skew:0},9123:{depth:.64502,height:1.155,italic:0,skew:0},9124:{depth:.64502,height:1.155,italic:0,skew:0},9125:{depth:-9.9E-4,
height:.601,italic:0,skew:0},9126:{depth:.64502,height:1.155,italic:0,skew:0},9127:{depth:1E-5,height:.9,italic:0,skew:0},9128:{depth:.65002,height:1.15,italic:0,skew:0},9129:{depth:.90001,height:0,italic:0,skew:0},9130:{depth:0,height:.3,italic:0,skew:0},9131:{depth:1E-5,height:.9,italic:0,skew:0},9132:{depth:.65002,height:1.15,italic:0,skew:0},9133:{depth:.90001,height:0,italic:0,skew:0},9143:{depth:.88502,height:.915,italic:0,skew:0},10216:{depth:1.25003,height:1.75,italic:0,skew:0},10217:{depth:1.25003,
height:1.75,italic:0,skew:0},57344:{depth:-.00499,height:.605,italic:0,skew:0},57345:{depth:-.00499,height:.605,italic:0,skew:0},57680:{depth:0,height:.12,italic:0,skew:0},57681:{depth:0,height:.12,italic:0,skew:0},57682:{depth:0,height:.12,italic:0,skew:0},57683:{depth:0,height:.12,italic:0,skew:0}},"Typewriter-Regular":{33:{depth:0,height:.61111,italic:0,skew:0},34:{depth:0,height:.61111,italic:0,skew:0},35:{depth:0,height:.61111,italic:0,skew:0},36:{depth:.08333,height:.69444,italic:0,skew:0},
37:{depth:.08333,height:.69444,italic:0,skew:0},38:{depth:0,height:.61111,italic:0,skew:0},39:{depth:0,height:.61111,italic:0,skew:0},40:{depth:.08333,height:.69444,italic:0,skew:0},41:{depth:.08333,height:.69444,italic:0,skew:0},42:{depth:0,height:.52083,italic:0,skew:0},43:{depth:-.08056,height:.53055,italic:0,skew:0},44:{depth:.13889,height:.125,italic:0,skew:0},45:{depth:-.08056,height:.53055,italic:0,skew:0},46:{depth:0,height:.125,italic:0,skew:0},47:{depth:.08333,height:.69444,italic:0,skew:0},
48:{depth:0,height:.61111,italic:0,skew:0},49:{depth:0,height:.61111,italic:0,skew:0},50:{depth:0,height:.61111,italic:0,skew:0},51:{depth:0,height:.61111,italic:0,skew:0},52:{depth:0,height:.61111,italic:0,skew:0},53:{depth:0,height:.61111,italic:0,skew:0},54:{depth:0,height:.61111,italic:0,skew:0},55:{depth:0,height:.61111,italic:0,skew:0},56:{depth:0,height:.61111,italic:0,skew:0},57:{depth:0,height:.61111,italic:0,skew:0},58:{depth:0,height:.43056,italic:0,skew:0},59:{depth:.13889,height:.43056,
italic:0,skew:0},60:{depth:-.05556,height:.55556,italic:0,skew:0},61:{depth:-.19549,height:.41562,italic:0,skew:0},62:{depth:-.05556,height:.55556,italic:0,skew:0},63:{depth:0,height:.61111,italic:0,skew:0},64:{depth:0,height:.61111,italic:0,skew:0},65:{depth:0,height:.61111,italic:0,skew:0},66:{depth:0,height:.61111,italic:0,skew:0},67:{depth:0,height:.61111,italic:0,skew:0},68:{depth:0,height:.61111,italic:0,skew:0},69:{depth:0,height:.61111,italic:0,skew:0},70:{depth:0,height:.61111,italic:0,skew:0},
71:{depth:0,height:.61111,italic:0,skew:0},72:{depth:0,height:.61111,italic:0,skew:0},73:{depth:0,height:.61111,italic:0,skew:0},74:{depth:0,height:.61111,italic:0,skew:0},75:{depth:0,height:.61111,italic:0,skew:0},76:{depth:0,height:.61111,italic:0,skew:0},77:{depth:0,height:.61111,italic:0,skew:0},78:{depth:0,height:.61111,italic:0,skew:0},79:{depth:0,height:.61111,italic:0,skew:0},80:{depth:0,height:.61111,italic:0,skew:0},81:{depth:.13889,height:.61111,italic:0,skew:0},82:{depth:0,height:.61111,
italic:0,skew:0},83:{depth:0,height:.61111,italic:0,skew:0},84:{depth:0,height:.61111,italic:0,skew:0},85:{depth:0,height:.61111,italic:0,skew:0},86:{depth:0,height:.61111,italic:0,skew:0},87:{depth:0,height:.61111,italic:0,skew:0},88:{depth:0,height:.61111,italic:0,skew:0},89:{depth:0,height:.61111,italic:0,skew:0},90:{depth:0,height:.61111,italic:0,skew:0},91:{depth:.08333,height:.69444,italic:0,skew:0},92:{depth:.08333,height:.69444,italic:0,skew:0},93:{depth:.08333,height:.69444,italic:0,skew:0},
94:{depth:0,height:.61111,italic:0,skew:0},95:{depth:.09514,height:0,italic:0,skew:0},96:{depth:0,height:.61111,italic:0,skew:0},97:{depth:0,height:.43056,italic:0,skew:0},98:{depth:0,height:.61111,italic:0,skew:0},99:{depth:0,height:.43056,italic:0,skew:0},100:{depth:0,height:.61111,italic:0,skew:0},101:{depth:0,height:.43056,italic:0,skew:0},102:{depth:0,height:.61111,italic:0,skew:0},103:{depth:.22222,height:.43056,italic:0,skew:0},104:{depth:0,height:.61111,italic:0,skew:0},105:{depth:0,height:.61111,
italic:0,skew:0},106:{depth:.22222,height:.61111,italic:0,skew:0},107:{depth:0,height:.61111,italic:0,skew:0},108:{depth:0,height:.61111,italic:0,skew:0},109:{depth:0,height:.43056,italic:0,skew:0},110:{depth:0,height:.43056,italic:0,skew:0},111:{depth:0,height:.43056,italic:0,skew:0},112:{depth:.22222,height:.43056,italic:0,skew:0},113:{depth:.22222,height:.43056,italic:0,skew:0},114:{depth:0,height:.43056,italic:0,skew:0},115:{depth:0,height:.43056,italic:0,skew:0},116:{depth:0,height:.55358,italic:0,
skew:0},117:{depth:0,height:.43056,italic:0,skew:0},118:{depth:0,height:.43056,italic:0,skew:0},119:{depth:0,height:.43056,italic:0,skew:0},120:{depth:0,height:.43056,italic:0,skew:0},121:{depth:.22222,height:.43056,italic:0,skew:0},122:{depth:0,height:.43056,italic:0,skew:0},123:{depth:.08333,height:.69444,italic:0,skew:0},124:{depth:.08333,height:.69444,italic:0,skew:0},125:{depth:.08333,height:.69444,italic:0,skew:0},126:{depth:0,height:.61111,italic:0,skew:0},127:{depth:0,height:.61111,italic:0,
skew:0},305:{depth:0,height:.43056,italic:0,skew:0},567:{depth:.22222,height:.43056,italic:0,skew:0},768:{depth:0,height:.61111,italic:0,skew:0},769:{depth:0,height:.61111,italic:0,skew:0},770:{depth:0,height:.61111,italic:0,skew:0},771:{depth:0,height:.61111,italic:0,skew:0},772:{depth:0,height:.56555,italic:0,skew:0},774:{depth:0,height:.61111,italic:0,skew:0},776:{depth:0,height:.61111,italic:0,skew:0},778:{depth:0,height:.61111,italic:0,skew:0},780:{depth:0,height:.56597,italic:0,skew:0},915:{depth:0,
height:.61111,italic:0,skew:0},916:{depth:0,height:.61111,italic:0,skew:0},920:{depth:0,height:.61111,italic:0,skew:0},923:{depth:0,height:.61111,italic:0,skew:0},926:{depth:0,height:.61111,italic:0,skew:0},928:{depth:0,height:.61111,italic:0,skew:0},931:{depth:0,height:.61111,italic:0,skew:0},933:{depth:0,height:.61111,italic:0,skew:0},934:{depth:0,height:.61111,italic:0,skew:0},936:{depth:0,height:.61111,italic:0,skew:0},937:{depth:0,height:.61111,italic:0,skew:0},2018:{depth:0,height:.61111,italic:0,
skew:0},2019:{depth:0,height:.61111,italic:0,skew:0},8242:{depth:0,height:.61111,italic:0,skew:0}}}},{}],836:[function(a,l,f){var c=a("./utils"),e=a("./ParseError"),h={"\\sqrt":{numArgs:1,numOptionalArgs:1,handler:function(a,b,c,d){return{type:"sqrt",body:c,index:b}}},"\\text":{numArgs:1,argTypes:["text"],greediness:2,handler:function(a,b){return{type:"text",body:"ordgroup"===b.type?b.value:[b]}}},"\\color":{numArgs:2,allowedInText:!0,greediness:3,argTypes:["color","original"],handler:function(a,
b,c){return{type:"color",color:b.value,value:"ordgroup"===c.type?c.value:[c]}}},"\\overline":{numArgs:1,handler:function(a,b){return{type:"overline",body:b}}},"\\rule":{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"],handler:function(a,b,c,d){return{type:"rule",shift:b&&b.value,width:c.value,height:d.value}}},"\\KaTeX":{numArgs:0,handler:function(a){return{type:"katex"}}},"\\phantom":{numArgs:1,handler:function(a,b){return{type:"phantom",value:"ordgroup"===b.type?b.value:[b]}}}},b={"\\bigl":{type:"open",
size:1},"\\Bigl":{type:"open",size:2},"\\biggl":{type:"open",size:3},"\\Biggl":{type:"open",size:4},"\\bigr":{type:"close",size:1},"\\Bigr":{type:"close",size:2},"\\biggr":{type:"close",size:3},"\\Biggr":{type:"close",size:4},"\\bigm":{type:"rel",size:1},"\\Bigm":{type:"rel",size:2},"\\biggm":{type:"rel",size:3},"\\Biggm":{type:"rel",size:4},"\\big":{type:"textord",size:1},"\\Big":{type:"textord",size:2},"\\bigg":{type:"textord",size:3},"\\Bigg":{type:"textord",size:4}},k="( ) [ \\lbrack ] \\rbrack \\{ \\lbrace \\} \\rbrace \\lfloor \\rfloor \\lceil \\rceil < > \\langle \\rangle \\lvert \\rvert \\lVert \\rVert \\lgroup \\rgroup \\lmoustache \\rmoustache / \\backslash | \\vert \\| \\Vert \\uparrow \\Uparrow \\downarrow \\Downarrow \\updownarrow \\Updownarrow .".split(" "),
d={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak"};a=[{funcs:"\\blue \\orange \\pink \\red \\green \\gray \\purple \\blueA \\blueB \\blueC \\blueD \\blueE \\tealA \\tealB \\tealC \\tealD \\tealE \\greenA \\greenB \\greenC \\greenD \\greenE \\goldA \\goldB \\goldC \\goldD \\goldE \\redA \\redB \\redC \\redD \\redE \\maroonA \\maroonB \\maroonC \\maroonD \\maroonE \\purpleA \\purpleB \\purpleC \\purpleD \\purpleE \\mintA \\mintB \\mintC \\grayA \\grayB \\grayC \\grayD \\grayE \\grayF \\grayG \\grayH \\grayI \\kaBlue \\kaGreen".split(" "),
data:{numArgs:1,allowedInText:!0,greediness:3,handler:function(a,b){b="ordgroup"===b.type?b.value:[b];return{type:"color",color:"katex-"+a.slice(1),value:b}}}},{funcs:"\\arcsin \\arccos \\arctan \\arg \\cos \\cosh \\cot \\coth \\csc \\deg \\dim \\exp \\hom \\ker \\lg \\ln \\log \\sec \\sin \\sinh \\tan \\tanh".split(" "),data:{numArgs:0,handler:function(a){return{type:"op",limits:!1,symbol:!1,body:a}}}},{funcs:"\\det \\gcd \\inf \\lim \\liminf \\limsup \\max \\min \\Pr \\sup".split(" "),data:{numArgs:0,
handler:function(a){return{type:"op",limits:!0,symbol:!1,body:a}}}},{funcs:["\\int","\\iint","\\iiint","\\oint"],data:{numArgs:0,handler:function(a){return{type:"op",limits:!1,symbol:!0,body:a}}}},{funcs:"\\coprod \\bigvee \\bigwedge \\biguplus \\bigcap \\bigcup \\intop \\prod \\sum \\bigotimes \\bigoplus \\bigodot \\bigsqcup \\smallint".split(" "),data:{numArgs:0,handler:function(a){return{type:"op",limits:!0,symbol:!0,body:a}}}},{funcs:"\\dfrac \\frac \\tfrac \\dbinom \\binom \\tbinom".split(" "),
data:{numArgs:2,greediness:2,handler:function(a,b,c){var d,e=null,h=null,f="auto";switch(a){case "\\dfrac":case "\\frac":case "\\tfrac":d=!0;break;case "\\dbinom":case "\\binom":case "\\tbinom":d=!1;e="(";h=")";break;default:throw Error("Unrecognized genfrac command");}switch(a){case "\\dfrac":case "\\dbinom":f="display";break;case "\\tfrac":case "\\tbinom":f="text"}return{type:"genfrac",numer:b,denom:c,hasBarLine:d,leftDelim:e,rightDelim:h,size:f}}}},{funcs:["\\llap","\\rlap"],data:{numArgs:1,allowedInText:!0,
handler:function(a,b){return{type:a.slice(1),body:b}}}},{funcs:"\\bigl \\Bigl \\biggl \\Biggl \\bigr \\Bigr \\biggr \\Biggr \\bigm \\Bigm \\biggm \\Biggm \\big \\Big \\bigg \\Bigg \\left \\right".split(" "),data:{numArgs:1,handler:function(a,d,h){if(!c.contains(k,d.value))throw new e("Invalid delimiter: '"+d.value+"' after '"+a+"'",this.lexer,h[1]);return"\\left"===a||"\\right"===a?{type:"leftright",value:d.value}:{type:"delimsizing",size:b[a].size,delimType:b[a].type,value:d.value}}}},{funcs:"\\tiny \\scriptsize \\footnotesize \\small \\normalsize \\large \\Large \\LARGE \\huge \\Huge".split(" "),
data:{numArgs:0}},{funcs:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],data:{numArgs:0}},{funcs:"\\mathrm \\mathit \\mathbf \\mathbb \\mathcal \\mathfrak \\mathscr \\mathsf \\mathtt \\Bbb \\bold \\frak".split(" "),data:{numArgs:1,handler:function(a,b){a in d&&(a=d[a]);return{type:"font",font:a.slice(1),body:b}}}},{funcs:"\\acute \\grave \\ddot \\tilde \\bar \\breve \\check \\hat \\vec \\dot".split(" "),data:{numArgs:1,handler:function(a,b){return{type:"accent",accent:a,base:b}}}},
{funcs:["\\over","\\choose"],data:{numArgs:0,handler:function(a){switch(a){case "\\over":a="\\frac";break;case "\\choose":a="\\binom";break;default:throw Error("Unrecognized infix genfrac command");}return{type:"infix",replaceWith:a}}}},{funcs:["\\\\","\\cr"],data:{numArgs:0,numOptionalArgs:1,argTypes:["size"],handler:function(a,b){return{type:"cr",size:b}}}},{funcs:["\\begin","\\end"],data:{numArgs:1,argTypes:["text"],handler:function(a,b,c){if("ordgroup"!==b.type)throw new e("Invalid environment name",
this.lexer,c[1]);a="";for(var d=0;d<b.value.length;++d)a+=b.value[d].value;return{type:"environment",name:a,namepos:c[1]}}}}];f=function(a,b){for(var c=0;c<a.length;c++)h[a[c]]=b};for(var n=0;n<a.length;n++)f(a[n].funcs,a[n].data);for(var m in h)h.hasOwnProperty(m)&&(a=h[m],h[m]={numArgs:a.numArgs,argTypes:a.argTypes,greediness:void 0===a.greediness?1:a.greediness,allowedInText:a.allowedInText?a.allowedInText:!1,numOptionalArgs:void 0===a.numOptionalArgs?0:a.numOptionalArgs,handler:a.handler});l.exports=
{funcs:h}},{"./ParseError":823,"./utils":841}],837:[function(a,l,f){function c(a,c){this.type=a;this.attributes={};this.children=c||[]}function e(a){this.text=a}var h=a("./utils");c.prototype.setAttribute=function(a,c){this.attributes[a]=c};c.prototype.toNode=function(){var a=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type),c;for(c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&a.setAttribute(c,this.attributes[c]);for(c=0;c<this.children.length;c++)a.appendChild(this.children[c].toNode());
return a};c.prototype.toMarkup=function(){var a="<"+this.type,c;for(c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&(a+=" "+c+'="',a+=h.escape(this.attributes[c]),a+='"');a+=">";for(c=0;c<this.children.length;c++)a+=this.children[c].toMarkup();return a+="</"+this.type+">"};e.prototype.toNode=function(){return document.createTextNode(this.text)};e.prototype.toMarkup=function(){return h.escape(this.text)};l.exports={MathNode:c,TextNode:e}},{"./utils":841}],838:[function(a,
l,f){l.exports={ParseNode:function(a,e,h){this.type=a;this.value=e;this.mode=h},ParseResult:function(a,e,h){this.result=a;this.position=e}}},{}],839:[function(a,l,f){var c=a("./Parser");l.exports=function(a,h){return(new c(a,h)).parse()}},{"./Parser":824}],840:[function(a,l,f){a={math:{"\\equiv":{font:"main",group:"rel",replace:"\u2261"},"\\prec":{font:"main",group:"rel",replace:"\u227a"},"\\succ":{font:"main",group:"rel",replace:"\u227b"},"\\sim":{font:"main",group:"rel",replace:"\u223c"},"\\perp":{font:"main",
group:"rel",replace:"\u22a5"},"\\preceq":{font:"main",group:"rel",replace:"\u2aaf"},"\\succeq":{font:"main",group:"rel",replace:"\u2ab0"},"\\simeq":{font:"main",group:"rel",replace:"\u2243"},"\\mid":{font:"main",group:"rel",replace:"\u2223"},"\\ll":{font:"main",group:"rel",replace:"\u226a"},"\\gg":{font:"main",group:"rel",replace:"\u226b"},"\\asymp":{font:"main",group:"rel",replace:"\u224d"},"\\parallel":{font:"main",group:"rel",replace:"\u2225"},"\\bowtie":{font:"main",group:"rel",replace:"\u22c8"},
"\\smile":{font:"main",group:"rel",replace:"\u2323"},"\\sqsubseteq":{font:"main",group:"rel",replace:"\u2291"},"\\sqsupseteq":{font:"main",group:"rel",replace:"\u2292"},"\\doteq":{font:"main",group:"rel",replace:"\u2250"},"\\frown":{font:"main",group:"rel",replace:"\u2322"},"\\ni":{font:"main",group:"rel",replace:"\u220b"},"\\propto":{font:"main",group:"rel",replace:"\u221d"},"\\vdash":{font:"main",group:"rel",replace:"\u22a2"},"\\dashv":{font:"main",group:"rel",replace:"\u22a3"},"\\owns":{font:"main",
group:"rel",replace:"\u220b"},"\\ldotp":{font:"main",group:"punct",replace:"."},"\\cdotp":{font:"main",group:"punct",replace:"\u22c5"},"\\#":{font:"main",group:"textord",replace:"#"},"\\&":{font:"main",group:"textord",replace:"&"},"\\aleph":{font:"main",group:"textord",replace:"\u2135"},"\\forall":{font:"main",group:"textord",replace:"\u2200"},"\\hbar":{font:"main",group:"textord",replace:"\u210f"},"\\exists":{font:"main",group:"textord",replace:"\u2203"},"\\nabla":{font:"main",group:"textord",replace:"\u2207"},
"\\flat":{font:"main",group:"textord",replace:"\u266d"},"\\ell":{font:"main",group:"textord",replace:"\u2113"},"\\natural":{font:"main",group:"textord",replace:"\u266e"},"\\clubsuit":{font:"main",group:"textord",replace:"\u2663"},"\\wp":{font:"main",group:"textord",replace:"\u2118"},"\\sharp":{font:"main",group:"textord",replace:"\u266f"},"\\diamondsuit":{font:"main",group:"textord",replace:"\u2662"},"\\Re":{font:"main",group:"textord",replace:"\u211c"},"\\heartsuit":{font:"main",group:"textord",
replace:"\u2661"},"\\Im":{font:"main",group:"textord",replace:"\u2111"},"\\spadesuit":{font:"main",group:"textord",replace:"\u2660"},"\\dag":{font:"main",group:"textord",replace:"\u2020"},"\\ddag":{font:"main",group:"textord",replace:"\u2021"},"\\rmoustache":{font:"main",group:"close",replace:"\u23b1"},"\\lmoustache":{font:"main",group:"open",replace:"\u23b0"},"\\rgroup":{font:"main",group:"close",replace:"\u27ef"},"\\lgroup":{font:"main",group:"open",replace:"\u27ee"},"\\mp":{font:"main",group:"bin",
replace:"\u2213"},"\\ominus":{font:"main",group:"bin",replace:"\u2296"},"\\uplus":{font:"main",group:"bin",replace:"\u228e"},"\\sqcap":{font:"main",group:"bin",replace:"\u2293"},"\\ast":{font:"main",group:"bin",replace:"\u2217"},"\\sqcup":{font:"main",group:"bin",replace:"\u2294"},"\\bigcirc":{font:"main",group:"bin",replace:"\u25ef"},"\\bullet":{font:"main",group:"bin",replace:"\u2219"},"\\ddagger":{font:"main",group:"bin",replace:"\u2021"},"\\wr":{font:"main",group:"bin",replace:"\u2240"},"\\amalg":{font:"main",
group:"bin",replace:"\u2a3f"},"\\longleftarrow":{font:"main",group:"rel",replace:"\u27f5"},"\\Leftarrow":{font:"main",group:"rel",replace:"\u21d0"},"\\Longleftarrow":{font:"main",group:"rel",replace:"\u27f8"},"\\longrightarrow":{font:"main",group:"rel",replace:"\u27f6"},"\\Rightarrow":{font:"main",group:"rel",replace:"\u21d2"},"\\Longrightarrow":{font:"main",group:"rel",replace:"\u27f9"},"\\leftrightarrow":{font:"main",group:"rel",replace:"\u2194"},"\\longleftrightarrow":{font:"main",group:"rel",
replace:"\u27f7"},"\\Leftrightarrow":{font:"main",group:"rel",replace:"\u21d4"},"\\Longleftrightarrow":{font:"main",group:"rel",replace:"\u27fa"},"\\mapsto":{font:"main",group:"rel",replace:"\u21a6"},"\\longmapsto":{font:"main",group:"rel",replace:"\u27fc"},"\\nearrow":{font:"main",group:"rel",replace:"\u2197"},"\\hookleftarrow":{font:"main",group:"rel",replace:"\u21a9"},"\\hookrightarrow":{font:"main",group:"rel",replace:"\u21aa"},"\\searrow":{font:"main",group:"rel",replace:"\u2198"},"\\leftharpoonup":{font:"main",
group:"rel",replace:"\u21bc"},"\\rightharpoonup":{font:"main",group:"rel",replace:"\u21c0"},"\\swarrow":{font:"main",group:"rel",replace:"\u2199"},"\\leftharpoondown":{font:"main",group:"rel",replace:"\u21bd"},"\\rightharpoondown":{font:"main",group:"rel",replace:"\u21c1"},"\\nwarrow":{font:"main",group:"rel",replace:"\u2196"},"\\rightleftharpoons":{font:"main",group:"rel",replace:"\u21cc"},"\\nless":{font:"ams",group:"rel",replace:"\u226e"},"\\nleqslant":{font:"ams",group:"rel",replace:"\ue010"},
"\\nleqq":{font:"ams",group:"rel",replace:"\ue011"},"\\lneq":{font:"ams",group:"rel",replace:"\u2a87"},"\\lneqq":{font:"ams",group:"rel",replace:"\u2268"},"\\lvertneqq":{font:"ams",group:"rel",replace:"\ue00c"},"\\lnsim":{font:"ams",group:"rel",replace:"\u22e6"},"\\lnapprox":{font:"ams",group:"rel",replace:"\u2a89"},"\\nprec":{font:"ams",group:"rel",replace:"\u2280"},"\\npreceq":{font:"ams",group:"rel",replace:"\u22e0"},"\\precnsim":{font:"ams",group:"rel",replace:"\u22e8"},"\\precnapprox":{font:"ams",
group:"rel",replace:"\u2ab9"},"\\nsim":{font:"ams",group:"rel",replace:"\u2241"},"\\nshortmid":{font:"ams",group:"rel",replace:"\ue006"},"\\nmid":{font:"ams",group:"rel",replace:"\u2224"},"\\nvdash":{font:"ams",group:"rel",replace:"\u22ac"},"\\nvDash":{font:"ams",group:"rel",replace:"\u22ad"},"\\ntriangleleft":{font:"ams",group:"rel",replace:"\u22ea"},"\\ntrianglelefteq":{font:"ams",group:"rel",replace:"\u22ec"},"\\subsetneq":{font:"ams",group:"rel",replace:"\u228a"},"\\varsubsetneq":{font:"ams",
group:"rel",replace:"\ue01a"},"\\subsetneqq":{font:"ams",group:"rel",replace:"\u2acb"},"\\varsubsetneqq":{font:"ams",group:"rel",replace:"\ue017"},"\\ngtr":{font:"ams",group:"rel",replace:"\u226f"},"\\ngeqslant":{font:"ams",group:"rel",replace:"\ue00f"},"\\ngeqq":{font:"ams",group:"rel",replace:"\ue00e"},"\\gneq":{font:"ams",group:"rel",replace:"\u2a88"},"\\gneqq":{font:"ams",group:"rel",replace:"\u2269"},"\\gvertneqq":{font:"ams",group:"rel",replace:"\ue00d"},"\\gnsim":{font:"ams",group:"rel",replace:"\u22e7"},
"\\gnapprox":{font:"ams",group:"rel",replace:"\u2a8a"},"\\nsucc":{font:"ams",group:"rel",replace:"\u2281"},"\\nsucceq":{font:"ams",group:"rel",replace:"\u22e1"},"\\succnsim":{font:"ams",group:"rel",replace:"\u22e9"},"\\succnapprox":{font:"ams",group:"rel",replace:"\u2aba"},"\\ncong":{font:"ams",group:"rel",replace:"\u2246"},"\\nshortparallel":{font:"ams",group:"rel",replace:"\ue007"},"\\nparallel":{font:"ams",group:"rel",replace:"\u2226"},"\\nVDash":{font:"ams",group:"rel",replace:"\u22af"},"\\ntriangleright":{font:"ams",
group:"rel",replace:"\u22eb"},"\\ntrianglerighteq":{font:"ams",group:"rel",replace:"\u22ed"},"\\nsupseteqq":{font:"ams",group:"rel",replace:"\ue018"},"\\supsetneq":{font:"ams",group:"rel",replace:"\u228b"},"\\varsupsetneq":{font:"ams",group:"rel",replace:"\ue01b"},"\\supsetneqq":{font:"ams",group:"rel",replace:"\u2acc"},"\\varsupsetneqq":{font:"ams",group:"rel",replace:"\ue019"},"\\nVdash":{font:"ams",group:"rel",replace:"\u22ae"},"\\precneqq":{font:"ams",group:"rel",replace:"\u2ab5"},"\\succneqq":{font:"ams",
group:"rel",replace:"\u2ab6"},"\\nsubseteqq":{font:"ams",group:"rel",replace:"\ue016"},"\\unlhd":{font:"ams",group:"bin",replace:"\u22b4"},"\\unrhd":{font:"ams",group:"bin",replace:"\u22b5"},"\\nleftarrow":{font:"ams",group:"rel",replace:"\u219a"},"\\nrightarrow":{font:"ams",group:"rel",replace:"\u219b"},"\\nLeftarrow":{font:"ams",group:"rel",replace:"\u21cd"},"\\nRightarrow":{font:"ams",group:"rel",replace:"\u21cf"},"\\nleftrightarrow":{font:"ams",group:"rel",replace:"\u21ae"},"\\nLeftrightarrow":{font:"ams",
group:"rel",replace:"\u21ce"},"\\vartriangle":{font:"ams",group:"rel",replace:"\u25b3"},"\\hslash":{font:"ams",group:"textord",replace:"\u210f"},"\\triangledown":{font:"ams",group:"textord",replace:"\u25bd"},"\\lozenge":{font:"ams",group:"textord",replace:"\u25ca"},"\\circledS":{font:"ams",group:"textord",replace:"\u24c8"},"\\circledR":{font:"ams",group:"textord",replace:"\u00ae"},"\\measuredangle":{font:"ams",group:"textord",replace:"\u2221"},"\\nexists":{font:"ams",group:"textord",replace:"\u2204"},
"\\mho":{font:"ams",group:"textord",replace:"\u2127"},"\\Finv":{font:"ams",group:"textord",replace:"\u2132"},"\\Game":{font:"ams",group:"textord",replace:"\u2141"},"\\Bbbk":{font:"ams",group:"textord",replace:"k"},"\\backprime":{font:"ams",group:"textord",replace:"\u2035"},"\\blacktriangle":{font:"ams",group:"textord",replace:"\u25b2"},"\\blacktriangledown":{font:"ams",group:"textord",replace:"\u25bc"},"\\blacksquare":{font:"ams",group:"textord",replace:"\u25a0"},"\\blacklozenge":{font:"ams",group:"textord",
replace:"\u29eb"},"\\bigstar":{font:"ams",group:"textord",replace:"\u2605"},"\\sphericalangle":{font:"ams",group:"textord",replace:"\u2222"},"\\complement":{font:"ams",group:"textord",replace:"\u2201"},"\\eth":{font:"ams",group:"textord",replace:"\u00f0"},"\\diagup":{font:"ams",group:"textord",replace:"\u2571"},"\\diagdown":{font:"ams",group:"textord",replace:"\u2572"},"\\square":{font:"ams",group:"textord",replace:"\u25a1"},"\\Box":{font:"ams",group:"textord",replace:"\u25a1"},"\\Diamond":{font:"ams",
group:"textord",replace:"\u25ca"},"\\yen":{font:"ams",group:"textord",replace:"\u00a5"},"\\checkmark":{font:"ams",group:"textord",replace:"\u2713"},"\\beth":{font:"ams",group:"textord",replace:"\u2136"},"\\daleth":{font:"ams",group:"textord",replace:"\u2138"},"\\gimel":{font:"ams",group:"textord",replace:"\u2137"},"\\digamma":{font:"ams",group:"textord",replace:"\u03dd"},"\\varkappa":{font:"ams",group:"textord",replace:"\u03f0"},"\\ulcorner":{font:"ams",group:"open",replace:"\u250c"},"\\urcorner":{font:"ams",
group:"close",replace:"\u2510"},"\\llcorner":{font:"ams",group:"open",replace:"\u2514"},"\\lrcorner":{font:"ams",group:"close",replace:"\u2518"},"\\leqq":{font:"ams",group:"rel",replace:"\u2266"},"\\leqslant":{font:"ams",group:"rel",replace:"\u2a7d"},"\\eqslantless":{font:"ams",group:"rel",replace:"\u2a95"},"\\lesssim":{font:"ams",group:"rel",replace:"\u2272"},"\\lessapprox":{font:"ams",group:"rel",replace:"\u2a85"},"\\approxeq":{font:"ams",group:"rel",replace:"\u224a"},"\\lessdot":{font:"ams",group:"bin",
replace:"\u22d6"},"\\lll":{font:"ams",group:"rel",replace:"\u22d8"},"\\lessgtr":{font:"ams",group:"rel",replace:"\u2276"},"\\lesseqgtr":{font:"ams",group:"rel",replace:"\u22da"},"\\lesseqqgtr":{font:"ams",group:"rel",replace:"\u2a8b"},"\\doteqdot":{font:"ams",group:"rel",replace:"\u2251"},"\\risingdotseq":{font:"ams",group:"rel",replace:"\u2253"},"\\fallingdotseq":{font:"ams",group:"rel",replace:"\u2252"},"\\backsim":{font:"ams",group:"rel",replace:"\u223d"},"\\backsimeq":{font:"ams",group:"rel",
replace:"\u22cd"},"\\subseteqq":{font:"ams",group:"rel",replace:"\u2ac5"},"\\Subset":{font:"ams",group:"rel",replace:"\u22d0"},"\\sqsubset":{font:"ams",group:"rel",replace:"\u228f"},"\\preccurlyeq":{font:"ams",group:"rel",replace:"\u227c"},"\\curlyeqprec":{font:"ams",group:"rel",replace:"\u22de"},"\\precsim":{font:"ams",group:"rel",replace:"\u227e"},"\\precapprox":{font:"ams",group:"rel",replace:"\u2ab7"},"\\vartriangleleft":{font:"ams",group:"rel",replace:"\u22b2"},"\\trianglelefteq":{font:"ams",
group:"rel",replace:"\u22b4"},"\\vDash":{font:"ams",group:"rel",replace:"\u22a8"},"\\Vvdash":{font:"ams",group:"rel",replace:"\u22aa"},"\\smallsmile":{font:"ams",group:"rel",replace:"\u2323"},"\\smallfrown":{font:"ams",group:"rel",replace:"\u2322"},"\\bumpeq":{font:"ams",group:"rel",replace:"\u224f"},"\\Bumpeq":{font:"ams",group:"rel",replace:"\u224e"},"\\geqq":{font:"ams",group:"rel",replace:"\u2267"},"\\geqslant":{font:"ams",group:"rel",replace:"\u2a7e"},"\\eqslantgtr":{font:"ams",group:"rel",replace:"\u2a96"},
"\\gtrsim":{font:"ams",group:"rel",replace:"\u2273"},"\\gtrapprox":{font:"ams",group:"rel",replace:"\u2a86"},"\\gtrdot":{font:"ams",group:"bin",replace:"\u22d7"},"\\ggg":{font:"ams",group:"rel",replace:"\u22d9"},"\\gtrless":{font:"ams",group:"rel",replace:"\u2277"},"\\gtreqless":{font:"ams",group:"rel",replace:"\u22db"},"\\gtreqqless":{font:"ams",group:"rel",replace:"\u2a8c"},"\\eqcirc":{font:"ams",group:"rel",replace:"\u2256"},"\\circeq":{font:"ams",group:"rel",replace:"\u2257"},"\\triangleq":{font:"ams",
group:"rel",replace:"\u225c"},"\\thicksim":{font:"ams",group:"rel",replace:"\u223c"},"\\thickapprox":{font:"ams",group:"rel",replace:"\u2248"},"\\supseteqq":{font:"ams",group:"rel",replace:"\u2ac6"},"\\Supset":{font:"ams",group:"rel",replace:"\u22d1"},"\\sqsupset":{font:"ams",group:"rel",replace:"\u2290"},"\\succcurlyeq":{font:"ams",group:"rel",replace:"\u227d"},"\\curlyeqsucc":{font:"ams",group:"rel",replace:"\u22df"},"\\succsim":{font:"ams",group:"rel",replace:"\u227f"},"\\succapprox":{font:"ams",
group:"rel",replace:"\u2ab8"},"\\vartriangleright":{font:"ams",group:"rel",replace:"\u22b3"},"\\trianglerighteq":{font:"ams",group:"rel",replace:"\u22b5"},"\\Vdash":{font:"ams",group:"rel",replace:"\u22a9"},"\\shortmid":{font:"ams",group:"rel",replace:"\u2223"},"\\shortparallel":{font:"ams",group:"rel",replace:"\u2225"},"\\between":{font:"ams",group:"rel",replace:"\u226c"},"\\pitchfork":{font:"ams",group:"rel",replace:"\u22d4"},"\\varpropto":{font:"ams",group:"rel",replace:"\u221d"},"\\blacktriangleleft":{font:"ams",
group:"rel",replace:"\u25c0"},"\\therefore":{font:"ams",group:"rel",replace:"\u2234"},"\\backepsilon":{font:"ams",group:"rel",replace:"\u220d"},"\\blacktriangleright":{font:"ams",group:"rel",replace:"\u25b6"},"\\because":{font:"ams",group:"rel",replace:"\u2235"},"\\llless":{font:"ams",group:"rel",replace:"\u22d8"},"\\gggtr":{font:"ams",group:"rel",replace:"\u22d9"},"\\lhd":{font:"ams",group:"bin",replace:"\u22b2"},"\\rhd":{font:"ams",group:"bin",replace:"\u22b3"},"\\eqsim":{font:"ams",group:"rel",
replace:"\u2242"},"\\Join":{font:"main",group:"rel",replace:"\u22c8"},"\\Doteq":{font:"ams",group:"rel",replace:"\u2251"},"\\dotplus":{font:"ams",group:"bin",replace:"\u2214"},"\\smallsetminus":{font:"ams",group:"bin",replace:"\u2216"},"\\Cap":{font:"ams",group:"bin",replace:"\u22d2"},"\\Cup":{font:"ams",group:"bin",replace:"\u22d3"},"\\doublebarwedge":{font:"ams",group:"bin",replace:"\u2a5e"},"\\boxminus":{font:"ams",group:"bin",replace:"\u229f"},"\\boxplus":{font:"ams",group:"bin",replace:"\u229e"},
"\\divideontimes":{font:"ams",group:"bin",replace:"\u22c7"},"\\ltimes":{font:"ams",group:"bin",replace:"\u22c9"},"\\rtimes":{font:"ams",group:"bin",replace:"\u22ca"},"\\leftthreetimes":{font:"ams",group:"bin",replace:"\u22cb"},"\\rightthreetimes":{font:"ams",group:"bin",replace:"\u22cc"},"\\curlywedge":{font:"ams",group:"bin",replace:"\u22cf"},"\\curlyvee":{font:"ams",group:"bin",replace:"\u22ce"},"\\circleddash":{font:"ams",group:"bin",replace:"\u229d"},"\\circledast":{font:"ams",group:"bin",replace:"\u229b"},
"\\centerdot":{font:"ams",group:"bin",replace:"\u22c5"},"\\intercal":{font:"ams",group:"bin",replace:"\u22ba"},"\\doublecap":{font:"ams",group:"bin",replace:"\u22d2"},"\\doublecup":{font:"ams",group:"bin",replace:"\u22d3"},"\\boxtimes":{font:"ams",group:"bin",replace:"\u22a0"},"\\dashrightarrow":{font:"ams",group:"rel",replace:"\u21e2"},"\\dashleftarrow":{font:"ams",group:"rel",replace:"\u21e0"},"\\leftleftarrows":{font:"ams",group:"rel",replace:"\u21c7"},"\\leftrightarrows":{font:"ams",group:"rel",
replace:"\u21c6"},"\\Lleftarrow":{font:"ams",group:"rel",replace:"\u21da"},"\\twoheadleftarrow":{font:"ams",group:"rel",replace:"\u219e"},"\\leftarrowtail":{font:"ams",group:"rel",replace:"\u21a2"},"\\looparrowleft":{font:"ams",group:"rel",replace:"\u21ab"},"\\leftrightharpoons":{font:"ams",group:"rel",replace:"\u21cb"},"\\curvearrowleft":{font:"ams",group:"rel",replace:"\u21b6"},"\\circlearrowleft":{font:"ams",group:"rel",replace:"\u21ba"},"\\Lsh":{font:"ams",group:"rel",replace:"\u21b0"},"\\upuparrows":{font:"ams",
group:"rel",replace:"\u21c8"},"\\upharpoonleft":{font:"ams",group:"rel",replace:"\u21bf"},"\\downharpoonleft":{font:"ams",group:"rel",replace:"\u21c3"},"\\multimap":{font:"ams",group:"rel",replace:"\u22b8"},"\\leftrightsquigarrow":{font:"ams",group:"rel",replace:"\u21ad"},"\\rightrightarrows":{font:"ams",group:"rel",replace:"\u21c9"},"\\rightleftarrows":{font:"ams",group:"rel",replace:"\u21c4"},"\\twoheadrightarrow":{font:"ams",group:"rel",replace:"\u21a0"},"\\rightarrowtail":{font:"ams",group:"rel",
replace:"\u21a3"},"\\looparrowright":{font:"ams",group:"rel",replace:"\u21ac"},"\\curvearrowright":{font:"ams",group:"rel",replace:"\u21b7"},"\\circlearrowright":{font:"ams",group:"rel",replace:"\u21bb"},"\\Rsh":{font:"ams",group:"rel",replace:"\u21b1"},"\\downdownarrows":{font:"ams",group:"rel",replace:"\u21ca"},"\\upharpoonright":{font:"ams",group:"rel",replace:"\u21be"},"\\downharpoonright":{font:"ams",group:"rel",replace:"\u21c2"},"\\rightsquigarrow":{font:"ams",group:"rel",replace:"\u21dd"},
"\\leadsto":{font:"ams",group:"rel",replace:"\u21dd"},"\\Rrightarrow":{font:"ams",group:"rel",replace:"\u21db"},"\\restriction":{font:"ams",group:"rel",replace:"\u21be"},"`":{font:"main",group:"textord",replace:"\u2018"},"\\$":{font:"main",group:"textord",replace:"$"},"\\%":{font:"main",group:"textord",replace:"%"},"\\_":{font:"main",group:"textord",replace:"_"},"\\angle":{font:"main",group:"textord",replace:"\u2220"},"\\infty":{font:"main",group:"textord",replace:"\u221e"},"\\prime":{font:"main",
group:"textord",replace:"\u2032"},"\\triangle":{font:"main",group:"textord",replace:"\u25b3"},"\\Gamma":{font:"main",group:"textord",replace:"\u0393"},"\\Delta":{font:"main",group:"textord",replace:"\u0394"},"\\Theta":{font:"main",group:"textord",replace:"\u0398"},"\\Lambda":{font:"main",group:"textord",replace:"\u039b"},"\\Xi":{font:"main",group:"textord",replace:"\u039e"},"\\Pi":{font:"main",group:"textord",replace:"\u03a0"},"\\Sigma":{font:"main",group:"textord",replace:"\u03a3"},"\\Upsilon":{font:"main",
group:"textord",replace:"\u03a5"},"\\Phi":{font:"main",group:"textord",replace:"\u03a6"},"\\Psi":{font:"main",group:"textord",replace:"\u03a8"},"\\Omega":{font:"main",group:"textord",replace:"\u03a9"},"\\neg":{font:"main",group:"textord",replace:"\u00ac"},"\\lnot":{font:"main",group:"textord",replace:"\u00ac"},"\\top":{font:"main",group:"textord",replace:"\u22a4"},"\\bot":{font:"main",group:"textord",replace:"\u22a5"},"\\emptyset":{font:"main",group:"textord",replace:"\u2205"},"\\varnothing":{font:"ams",
group:"textord",replace:"\u2205"},"\\alpha":{font:"main",group:"mathord",replace:"\u03b1"},"\\beta":{font:"main",group:"mathord",replace:"\u03b2"},"\\gamma":{font:"main",group:"mathord",replace:"\u03b3"},"\\delta":{font:"main",group:"mathord",replace:"\u03b4"},"\\epsilon":{font:"main",group:"mathord",replace:"\u03f5"},"\\zeta":{font:"main",group:"mathord",replace:"\u03b6"},"\\eta":{font:"main",group:"mathord",replace:"\u03b7"},"\\theta":{font:"main",group:"mathord",replace:"\u03b8"},"\\iota":{font:"main",
group:"mathord",replace:"\u03b9"},"\\kappa":{font:"main",group:"mathord",replace:"\u03ba"},"\\lambda":{font:"main",group:"mathord",replace:"\u03bb"},"\\mu":{font:"main",group:"mathord",replace:"\u03bc"},"\\nu":{font:"main",group:"mathord",replace:"\u03bd"},"\\xi":{font:"main",group:"mathord",replace:"\u03be"},"\\omicron":{font:"main",group:"mathord",replace:"o"},"\\pi":{font:"main",group:"mathord",replace:"\u03c0"},"\\rho":{font:"main",group:"mathord",replace:"\u03c1"},"\\sigma":{font:"main",group:"mathord",
replace:"\u03c3"},"\\tau":{font:"main",group:"mathord",replace:"\u03c4"},"\\upsilon":{font:"main",group:"mathord",replace:"\u03c5"},"\\phi":{font:"main",group:"mathord",replace:"\u03d5"},"\\chi":{font:"main",group:"mathord",replace:"\u03c7"},"\\psi":{font:"main",group:"mathord",replace:"\u03c8"},"\\omega":{font:"main",group:"mathord",replace:"\u03c9"},"\\varepsilon":{font:"main",group:"mathord",replace:"\u03b5"},"\\vartheta":{font:"main",group:"mathord",replace:"\u03d1"},"\\varpi":{font:"main",group:"mathord",
replace:"\u03d6"},"\\varrho":{font:"main",group:"mathord",replace:"\u03f1"},"\\varsigma":{font:"main",group:"mathord",replace:"\u03c2"},"\\varphi":{font:"main",group:"mathord",replace:"\u03c6"},"*":{font:"main",group:"bin",replace:"\u2217"},"+":{font:"main",group:"bin"},"-":{font:"main",group:"bin",replace:"\u2212"},"\\cdot":{font:"main",group:"bin",replace:"\u22c5"},"\\circ":{font:"main",group:"bin",replace:"\u2218"},"\\div":{font:"main",group:"bin",replace:"\u00f7"},"\\pm":{font:"main",group:"bin",
replace:"\u00b1"},"\\times":{font:"main",group:"bin",replace:"\u00d7"},"\\cap":{font:"main",group:"bin",replace:"\u2229"},"\\cup":{font:"main",group:"bin",replace:"\u222a"},"\\setminus":{font:"main",group:"bin",replace:"\u2216"},"\\land":{font:"main",group:"bin",replace:"\u2227"},"\\lor":{font:"main",group:"bin",replace:"\u2228"},"\\wedge":{font:"main",group:"bin",replace:"\u2227"},"\\vee":{font:"main",group:"bin",replace:"\u2228"},"\\surd":{font:"main",group:"textord",replace:"\u221a"},"(":{font:"main",
group:"open"},"[":{font:"main",group:"open"},"\\langle":{font:"main",group:"open",replace:"\u27e8"},"\\lvert":{font:"main",group:"open",replace:"\u2223"},"\\lVert":{font:"main",group:"open",replace:"\u2225"},")":{font:"main",group:"close"},"]":{font:"main",group:"close"},"?":{font:"main",group:"close"},"!":{font:"main",group:"close"},"\\rangle":{font:"main",group:"close",replace:"\u27e9"},"\\rvert":{font:"main",group:"close",replace:"\u2223"},"\\rVert":{font:"main",group:"close",replace:"\u2225"},
"=":{font:"main",group:"rel"},"<":{font:"main",group:"rel"},">":{font:"main",group:"rel"},":":{font:"main",group:"rel"},"\\approx":{font:"main",group:"rel",replace:"\u2248"},"\\cong":{font:"main",group:"rel",replace:"\u2245"},"\\ge":{font:"main",group:"rel",replace:"\u2265"},"\\geq":{font:"main",group:"rel",replace:"\u2265"},"\\gets":{font:"main",group:"rel",replace:"\u2190"},"\\in":{font:"main",group:"rel",replace:"\u2208"},"\\notin":{font:"main",group:"rel",replace:"\u2209"},"\\subset":{font:"main",
group:"rel",replace:"\u2282"},"\\supset":{font:"main",group:"rel",replace:"\u2283"},"\\subseteq":{font:"main",group:"rel",replace:"\u2286"},"\\supseteq":{font:"main",group:"rel",replace:"\u2287"},"\\nsubseteq":{font:"ams",group:"rel",replace:"\u2288"},"\\nsupseteq":{font:"ams",group:"rel",replace:"\u2289"},"\\models":{font:"main",group:"rel",replace:"\u22a8"},"\\leftarrow":{font:"main",group:"rel",replace:"\u2190"},"\\le":{font:"main",group:"rel",replace:"\u2264"},"\\leq":{font:"main",group:"rel",
replace:"\u2264"},"\\ne":{font:"main",group:"rel",replace:"\u2260"},"\\neq":{font:"main",group:"rel",replace:"\u2260"},"\\rightarrow":{font:"main",group:"rel",replace:"\u2192"},"\\to":{font:"main",group:"rel",replace:"\u2192"},"\\ngeq":{font:"ams",group:"rel",replace:"\u2271"},"\\nleq":{font:"ams",group:"rel",replace:"\u2270"},"\\!":{font:"main",group:"spacing"},"\\ ":{font:"main",group:"spacing",replace:"\u00a0"},"~":{font:"main",group:"spacing",replace:"\u00a0"},"\\,":{font:"main",group:"spacing"},
"\\:":{font:"main",group:"spacing"},"\\;":{font:"main",group:"spacing"},"\\enspace":{font:"main",group:"spacing"},"\\qquad":{font:"main",group:"spacing"},"\\quad":{font:"main",group:"spacing"},"\\space":{font:"main",group:"spacing",replace:"\u00a0"},",":{font:"main",group:"punct"},";":{font:"main",group:"punct"},"\\colon":{font:"main",group:"punct",replace:":"},"\\barwedge":{font:"ams",group:"bin",replace:"\u22bc"},"\\veebar":{font:"ams",group:"bin",replace:"\u22bb"},"\\odot":{font:"main",group:"bin",
replace:"\u2299"},"\\oplus":{font:"main",group:"bin",replace:"\u2295"},"\\otimes":{font:"main",group:"bin",replace:"\u2297"},"\\partial":{font:"main",group:"textord",replace:"\u2202"},"\\oslash":{font:"main",group:"bin",replace:"\u2298"},"\\circledcirc":{font:"ams",group:"bin",replace:"\u229a"},"\\boxdot":{font:"ams",group:"bin",replace:"\u22a1"},"\\bigtriangleup":{font:"main",group:"bin",replace:"\u25b3"},"\\bigtriangledown":{font:"main",group:"bin",replace:"\u25bd"},"\\dagger":{font:"main",group:"bin",
replace:"\u2020"},"\\diamond":{font:"main",group:"bin",replace:"\u22c4"},"\\star":{font:"main",group:"bin",replace:"\u22c6"},"\\triangleleft":{font:"main",group:"bin",replace:"\u25c3"},"\\triangleright":{font:"main",group:"bin",replace:"\u25b9"},"\\{":{font:"main",group:"open",replace:"{"},"\\}":{font:"main",group:"close",replace:"}"},"\\lbrace":{font:"main",group:"open",replace:"{"},"\\rbrace":{font:"main",group:"close",replace:"}"},"\\lbrack":{font:"main",group:"open",replace:"["},"\\rbrack":{font:"main",
group:"close",replace:"]"},"\\lfloor":{font:"main",group:"open",replace:"\u230a"},"\\rfloor":{font:"main",group:"close",replace:"\u230b"},"\\lceil":{font:"main",group:"open",replace:"\u2308"},"\\rceil":{font:"main",group:"close",replace:"\u2309"},"\\backslash":{font:"main",group:"textord",replace:"\\"},"|":{font:"main",group:"textord",replace:"\u2223"},"\\vert":{font:"main",group:"textord",replace:"\u2223"},"\\|":{font:"main",group:"textord",replace:"\u2225"},"\\Vert":{font:"main",group:"textord",
replace:"\u2225"},"\\uparrow":{font:"main",group:"rel",replace:"\u2191"},"\\Uparrow":{font:"main",group:"rel",replace:"\u21d1"},"\\downarrow":{font:"main",group:"rel",replace:"\u2193"},"\\Downarrow":{font:"main",group:"rel",replace:"\u21d3"},"\\updownarrow":{font:"main",group:"rel",replace:"\u2195"},"\\Updownarrow":{font:"main",group:"rel",replace:"\u21d5"},"\\coprod":{font:"math",group:"op",replace:"\u2210"},"\\bigvee":{font:"math",group:"op",replace:"\u22c1"},"\\bigwedge":{font:"math",group:"op",
replace:"\u22c0"},"\\biguplus":{font:"math",group:"op",replace:"\u2a04"},"\\bigcap":{font:"math",group:"op",replace:"\u22c2"},"\\bigcup":{font:"math",group:"op",replace:"\u22c3"},"\\int":{font:"math",group:"op",replace:"\u222b"},"\\intop":{font:"math",group:"op",replace:"\u222b"},"\\iint":{font:"math",group:"op",replace:"\u222c"},"\\iiint":{font:"math",group:"op",replace:"\u222d"},"\\prod":{font:"math",group:"op",replace:"\u220f"},"\\sum":{font:"math",group:"op",replace:"\u2211"},"\\bigotimes":{font:"math",
group:"op",replace:"\u2a02"},"\\bigoplus":{font:"math",group:"op",replace:"\u2a01"},"\\bigodot":{font:"math",group:"op",replace:"\u2a00"},"\\oint":{font:"math",group:"op",replace:"\u222e"},"\\bigsqcup":{font:"math",group:"op",replace:"\u2a06"},"\\smallint":{font:"math",group:"op",replace:"\u222b"},"\\ldots":{font:"main",group:"inner",replace:"\u2026"},"\\cdots":{font:"main",group:"inner",replace:"\u22ef"},"\\ddots":{font:"main",group:"inner",replace:"\u22f1"},"\\vdots":{font:"main",group:"textord",
replace:"\u22ee"},"\\acute":{font:"main",group:"accent",replace:"\u00b4"},"\\grave":{font:"main",group:"accent",replace:"`"},"\\ddot":{font:"main",group:"accent",replace:"\u00a8"},"\\tilde":{font:"main",group:"accent",replace:"~"},"\\bar":{font:"main",group:"accent",replace:"\u00af"},"\\breve":{font:"main",group:"accent",replace:"\u02d8"},"\\check":{font:"main",group:"accent",replace:"\u02c7"},"\\hat":{font:"main",group:"accent",replace:"^"},"\\vec":{font:"main",group:"accent",replace:"\u20d7"},"\\dot":{font:"main",
group:"accent",replace:"\u02d9"},"\\imath":{font:"main",group:"mathord",replace:"\u0131"},"\\jmath":{font:"main",group:"mathord",replace:"\u0237"}},text:{"\\ ":{font:"main",group:"spacing",replace:"\u00a0"}," ":{font:"main",group:"spacing",replace:"\u00a0"},"~":{font:"main",group:"spacing",replace:"\u00a0"}}};for(f=0;14>f;f++){var c='0123456789/@."'.charAt(f);a.math[c]={font:"main",group:"textord"}}for(f=0;29>f;f++)c="0123456789`!@*()-=+[]'\";:?/.,".charAt(f),a.text[c]={font:"main",group:"textord"};
for(f=0;52>f;f++)c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(f),a.math[c]={font:"main",group:"mathord"},a.text[c]={font:"main",group:"textord"};l.exports=a},{}],841:[function(a,l,f){function c(a){return k[a]}var e=Array.prototype.indexOf,h=function(a,b){if(null==a)return-1;if(e&&a.indexOf===e)return a.indexOf(b);for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},b=/([A-Z])/g,k={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},d=/[&><"']/g,n;"undefined"!==
typeof document&&(n="textContent"in document.createElement("span")?function(a,b){a.textContent=b}:function(a,b){a.innerText=b});l.exports={contains:function(a,b){return-1!==h(a,b)},deflt:function(a,b){return void 0===a?b:a},escape:function(a){return(""+a).replace(d,c)},hyphenate:function(a){return a.replace(b,"-$1").toLowerCase()},indexOf:h,setTextContent:n,clearNode:function(a){n(a,"")}}},{}],842:[function(a,l,f){(function(a){(function(){function c(a,b){if(a!==b){var c=null===a,d=a===x,e=a===a,g=
null===b,h=b===x,f=b===b;if(a>b&&!g||!e||c&&!h&&f||d&&f)return 1;if(a<b&&!c||!f||g&&!d&&e||h&&e)return-1}return 0}function h(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function b(a,b,c){if(b!==b)return u(a,c);--c;for(var d=a.length;++c<d;)if(a[c]===b)return c;return-1}function k(a){return"function"==typeof a||!1}function d(a){return null==a?"":a+""}function n(a,b){for(var c=-1,d=a.length;++c<d&&-1<b.indexOf(a.charAt(c)););return c}function m(a,b){for(var c=a.length;c--&&
-1<b.indexOf(a.charAt(c)););return c}function q(a,b){return c(a.criteria,b.criteria)||a.index-b.index}function w(a){return ea[a]}function p(a){return Z[a]}function r(a,b,c){b?a=za[a]:c&&(a=Ma[a]);return"\\"+a}function t(a){return"\\"+Ma[a]}function u(a,b,c){var d=a.length;for(b+=c?0:-1;c?b--:++b<d;){var e=a[b];if(e!==e)return b}return-1}function y(a){return!!a&&"object"==typeof a}function A(a){return 160>=a&&9<=a&&13>=a||32==a||160==a||5760==a||6158==a||8192<=a&&(8202>=a||8232==a||8233==a||8239==
a||8287==a||12288==a||65279==a)}function g(a,b){for(var c=-1,d=a.length,e=-1,g=[];++c<d;)a[c]===b&&(a[c]="__lodash_placeholder__",g[++e]=c);return g}function v(a){for(var b=-1,c=a.length;++b<c&&A(a.charCodeAt(b)););return b}function z(a){for(var b=a.length;b--&&A(a.charCodeAt(b)););return b}function B(a){return C[a]}function G(a){function e(a){if(y(a)&&!Ba(a)&&!(a instanceof A)){if(a instanceof l)return a;if(gb.call(a,"__chain__")&&gb.call(a,"__wrapped__"))return eg(a)}return new l(a)}function f(){}
function l(a,b,c){this.__wrapped__=a;this.__actions__=c||[];this.__chain__=!!b}function A(a){this.__wrapped__=a;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=Xc;this.__views__=[]}function C(){this.__data__={}}function Ha(a){var b=a?a.length:0;for(this.data={hash:Vb(null),set:new nd};b--;)this.push(a[b])}function na(a,b){a=a.data;return("string"==typeof b||Wa(b)?a.set.has(b):a.hash[b])?0:-1}function V(a,b){var c=-1,d=a.length;for(b||(b=fb(d));++c<
d;)b[c]=a[c];return b}function Z(a,b){for(var c=-1,d=a.length;++c<d&&!1!==b(a[c],c,a););return a}function ea(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function va(a,b){for(var c=-1,d=a.length,e=-1,g=[];++c<d;){var h=a[c];b(h,c,a)&&(g[++e]=h)}return g}function za(a,b){for(var c=-1,d=a.length,e=fb(d);++c<d;)e[c]=b(a[c],c,a);return e}function Ma(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function Ra(a,b,c,d){var e=-1,g=a.length;for(d&&g&&(c=a[++e]);++e<
g;)c=b(c,a[e],e,a);return c}function Ta(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function Vd(a,b,c,d){return a!==x&&gb.call(d,c)?a:b}function Bb(a,b,c){for(var d=-1,e=Ja(b),g=e.length;++d<g;){var h=e[d],f=a[h],k=c(f,b[h],h,a,b);(k===k?k===f:f!==f)&&(f!==x||h in a)||(a[h]=k)}return a}function ub(a,b){return null==b?a:Ad(b,Ja(b),a)}function Nb(a,b){for(var c=-1,d=null==a,e=!d&&bb(a),g=e?a.length:0,h=b.length,f=fb(h);++c<h;){var k=b[c];f[c]=e?Rb(k,g)?a[k]:x:d?x:a[k]}return f}
function Ad(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var g=b[d];c[g]=a[g]}return c}function db(a,b,c){var d=typeof a;return"function"==d?b===x?a:kb(a,b,c):null==a?Jc:"object"==d?Cc(a):b===x?zd(a):Cb(a,b)}function vb(a,b,c,d,e,g,h){var f;c&&(f=e?c(a,d,e):c(a));if(f!==x)return f;if(!Wa(a))return a;if(d=Ba(a)){if(f=tg(a),!b)return V(a,f)}else{var k=Jb.call(a),l="[object Function]"==k;if("[object Object]"==k||"[object Arguments]"==k||l&&!e){if(f=ee(l?{}:a),!b)return ub(f,a)}else return fa[k]?
De(a,k,b):e?a:{}}g||(g=[]);h||(h=[]);for(e=g.length;e--;)if(g[e]==a)return h[e];g.push(a);h.push(f);(d?Z:Ib)(a,function(d,e){f[e]=vb(d,b,c,e,a,g,h)});return f}function rb(a,b,c){if("function"!=typeof a)throw new Xa("Expected a function");return Se(function(){a.apply(x,c)},b)}function dd(a,c){var d=a?a.length:0,e=[];if(!d)return e;var g=-1,h=Uc(),f=h==b,k=f&&200<=c.length?Vb&&nd?new Ha(c):null:null,l=c.length;k&&(h=na,f=!1,c=k);a:for(;++g<d;)if(k=a[g],f&&k===k){for(var m=l;m--;)if(c[m]===k)continue a;
e.push(k)}else 0>h(c,k,0)&&e.push(k);return e}function pc(a,b){var c=!0;Zb(a,function(a,d,e){return c=!!b(a,d,e)});return c}function Mc(a,b,c,d){var e=d,g=e;Zb(a,function(a,h,f){h=+b(a,h,f);if(c(h,e)||h===d&&h===g)e=h,g=a});return g}function Ab(a,b){var c=[];Zb(a,function(a,d,e){b(a,d,e)&&c.push(a)});return c}function xd(a,b,c,d){var e;c(a,function(a,c,g){if(b(a,c,g))return e=d?c:a,!1});return e}function sb(a,b,c,d){d||(d=[]);for(var e=-1,g=a.length;++e<g;){var h=a[e];y(h)&&bb(h)&&(c||Ba(h)||Pc(h))?
b?sb(h,b,c,d):Ma(d,h):c||(d[d.length]=h)}return d}function Bd(a,b){return Kb(a,b,ja)}function Ib(a,b){return Kb(a,b,Ja)}function bd(a,b){return of(a,b,Ja)}function Yd(a,b){for(var c=-1,d=b.length,e=-1,g=[];++c<d;){var h=b[c];Md(a[h])&&(g[++e]=h)}return g}function Qc(a,b,c){if(null!=a){c!==x&&c in mc(a)&&(b=[c]);c=0;for(var d=b.length;null!=a&&c<d;)a=a[b[c++]];return c&&c==d?a:x}}function Kc(a,b,c,d,e,g){if(a===b)return!0;if(null==a||null==b||!Wa(a)&&!y(b))return a!==a&&b!==b;a:{var h=Kc,f=Ba(a),k=
Ba(b),l="[object Array]",m="[object Array]";f||(l=Jb.call(a),"[object Arguments]"==l?l="[object Object]":"[object Object]"!=l&&(f=Id(a)));k||(m=Jb.call(b),"[object Arguments]"==m?m="[object Object]":"[object Object]"!=m&&Id(b));var n="[object Object]"==l,k="[object Object]"==m,m=l==m;if(!m||f||n){if(!d&&(l=n&&gb.call(a,"__wrapped__"),k=k&&gb.call(b,"__wrapped__"),l||k)){a=h(l?a.value():a,k?b.value():b,c,d,e,g);break a}if(m){e||(e=[]);g||(g=[]);for(l=e.length;l--;)if(e[l]==a){a=g[l]==b;break a}e.push(a);
g.push(b);a=(f?fe:Ff)(a,b,h,c,d,e,g);e.pop();g.pop()}else a=!1}else a=bg(a,b,l)}return a}function Ae(a,b,c){var d=b.length,e=d,g=!c;if(null==a)return!e;for(a=mc(a);d--;){var h=b[d];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++d<e;){var h=b[d],f=h[0],k=a[f],l=h[1];if(g&&h[2]){if(k===x&&!(f in a))return!1}else if(h=c?c(k,l,f):x,h===x?!Kc(l,k,c,!0):!h)return!1}return!0}function Zd(a,b){var c=-1,d=bb(a)?fb(a.length):[];Zb(a,function(a,e,g){d[++c]=b(a,e,g)});return d}function Cc(a){var b=ff(a);
if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:a[c]===d&&(d!==x||c in mc(a))}}return function(a){return Ae(a,b)}}function Cb(a,b){var c=Ba(a),d=Gc(a)&&b===b&&!Wa(b),e=a+"";a=Ic(a);return function(g){if(null==g)return!1;var h=e;g=mc(g);if(!(!c&&d||h in g)){g=1==a.length?g:Qc(g,ab(a,0,-1));if(null==g)return!1;h=md(a);g=mc(g)}return g[h]===b?b!==x||h in g:Kc(b,g[h],x,!0)}}function Rc(a,b,c,d,e){if(!Wa(a))return a;var g=bb(b)&&(Ba(b)||Id(b)),h=g?x:Ja(b);Z(h||b,function(f,
k){h&&(k=f,f=b[k]);if(y(f))a:{d||(d=[]),e||(e=[]),f=k;k=d;for(var l=e,m=k.length,n=b[f];m--;)if(k[m]==n){a[f]=l[m];break a}var m=a[f],q=c?c(m,n,f,a,b):x,p=q===x;p&&(q=n,bb(n)&&(Ba(n)||Id(n))?q=Ba(m)?m:bb(m)?V(m):[]:lf(n)||Pc(n)?q=Pc(m)?Hd(m):lf(m)?m:{}:p=!1);k.push(n);l.push(q);if(p)a[f]=Rc(q,n,c,k,l);else if(q===q?q!==m:m===m)a[f]=q}else l=a[k],n=c?c(l,f,k,a,b):x,(m=n===x)&&(n=f),n===x&&(!g||k in a)||!m&&(n===n?n===l:l!==l)||(a[k]=n)});return a}function gd(a){return function(b){return null==b?x:
b[a]}}function hd(a){var b=a+"";a=Ic(a);return function(c){return Qc(c,a,b)}}function Ce(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Rb(d)){var e=d;Wd.call(a,d,1)}}return a}function Ob(a,b){return a+xc($d()*(b-a+1))}function Ac(a,b,c,d,e){e(a,function(a,e,g){c=d?(d=!1,a):b(c,a,e,g)});return c}function ab(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0;0>b&&(b=-b>e?0:e+b);c=c===x||c>e?e:+c||0;0>c&&(c+=e);e=b>c?0:c-b>>>0;b>>>=0;for(c=fb(e);++d<e;)c[d]=a[d+b];return c}function Lb(a,b){var c;Zb(a,
function(a,d,e){c=b(a,d,e);return!c});return!!c}function nb(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Ua(a,b,d){var e=Oa(),g=-1;b=za(b,function(a){return e(a)});a=Zd(a,function(a){return{criteria:za(b,function(b){return b(a)}),index:++g,value:a}});return nb(a,function(a,b){var e;a:{for(var g=-1,h=a.criteria,f=b.criteria,k=h.length,l=d.length;++g<k;)if(e=c(h[g],f[g])){if(g>=l)break a;a=d[g];e*="asc"===a||!0===a?1:-1;break a}e=a.index-b.index}return e})}function lb(a,
b){var c=0;Zb(a,function(a,d,e){c+=+b(a,d,e)||0});return c}function eb(a,c){var d=-1,e=Uc(),g=a.length,h=e==b,f=h&&200<=g,k=f?Vb&&nd?new Ha(void 0):null:null,l=[];k?(e=na,h=!1):(f=!1,k=c?[]:l);a:for(;++d<g;){var m=a[d],n=c?c(m,d,a):m;if(h&&m===m){for(var q=k.length;q--;)if(k[q]===n)continue a;c&&k.push(n);l.push(m)}else 0>e(k,n,0)&&((c||f)&&k.push(n),l.push(m))}return l}function Dc(a,b){for(var c=-1,d=b.length,e=fb(d);++c<d;)e[c]=a[b[c]];return e}function sc(a,b,c,d){for(var e=a.length,g=d?e:-1;(d?
g--:++g<e)&&b(a[g],g,a););return c?ab(a,d?0:g,d?g+1:e):ab(a,d?g+1:0,d?e:g)}function mb(a,b){a instanceof A&&(a=a.value());for(var c=-1,d=b.length;++c<d;){var e=b[c];a=e.func.apply(e.thisArg,Ma([a],e.args))}return a}function Db(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&2147483647>=e){for(;d<e;){var g=d+e>>>1,h=a[g];(c?h<=b:h<b)&&null!==h?d=g+1:e=g}return e}return rc(a,b,Jc,c)}function rc(a,b,c,d){b=c(b);for(var e=0,g=a?a.length:0,h=b!==b,f=null===b,k=b===x;e<g;){var l=xc((e+g)/2),
m=c(a[l]),n=m!==x,q=m===m;(h?q||d:f?q&&n&&(d||null!=m):k?q&&(d||n):null==m?0:d?m<=b:m<b)?e=l+1:g=l}return Yb(g,4294967294)}function kb(a,b,c){if("function"!=typeof a)return Jc;if(b===x)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,g){return a.call(b,c,d,e,g)};case 5:return function(c,d,e,g,h){return a.call(b,c,d,e,g,h)}}return function(){return a.apply(b,arguments)}}function Cd(a){var b=new uf(a.byteLength);
(new la(b)).set(new la(a));return b}function Sd(a,b,c){for(var d=c.length,e=-1,g=Eb(a.length-d,0),h=-1,f=b.length,k=fb(f+g);++h<f;)k[h]=b[h];for(;++e<d;)k[c[e]]=a[e];for(;g--;)k[h++]=a[e++];return k}function zc(a,b,c){for(var d=-1,e=c.length,g=-1,h=Eb(a.length-e,0),f=-1,k=b.length,l=fb(h+k);++g<h;)l[g]=a[g];for(h=g;++f<k;)l[h+f]=b[f];for(;++d<e;)l[h+c[d]]=a[g++];return l}function Ed(a,b){return function(c,d,e){var g=b?b():{};d=Oa(d,e,3);if(Ba(c)){e=-1;for(var h=c.length;++e<h;){var f=c[e];a(g,f,d(f,
e,c),c)}}else Zb(c,function(b,c,e){a(g,b,d(b,c,e),e)});return g}}function Qb(a){return Sa(function(b,c){var d=-1,e=null==b?0:c.length,g=2<e?c[e-2]:x,h=2<e?c[2]:x,f=1<e?c[e-1]:x;"function"==typeof g?(g=kb(g,f,5),e-=2):(g="function"==typeof f?f:x,e-=g?1:0);h&&Ga(c[0],c[1],h)&&(g=3>e?x:g,e=1);for(;++d<e;)(h=c[d])&&a(b,h,g);return b})}function xb(a,b){return function(c,d){var e=c?td(c):0;if(!lc(e))return a(c,d);for(var g=b?e:-1,h=mc(c);(b?g--:++g<e)&&!1!==d(h[g],g,h););return c}}function Ee(a){return function(b,
c,d){var e=mc(b);d=d(b);for(var g=d.length,h=a?g:-1;a?h--:++h<g;){var f=d[h];if(!1===c(e[f],f,e))break}return b}}function Xf(a,b){function c(){return(this&&this!==Fa&&this instanceof c?d:a).apply(b,arguments)}var d=Je(a);return c}function Fd(a){return function(b){var c=-1;b=qc(oc(b));for(var d=b.length,e="";++c<d;)e=a(e,b[c],c);return e}}function Je(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],
b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Yc(a.prototype),b=a.apply(c,b);return Wa(b)?b:c}}function Fe(a){function b(c,d,e){e&&Ga(c,d,e)&&(d=x);c=Tc(c,a,x,x,x,x,x,d);c.placeholder=b.placeholder;return c}return b}function $e(a,b){return Sa(function(c){var d=c[0];if(null==d)return d;c.push(b);return a.apply(x,c)})}function kd(a,b){return function(c,
d,e){e&&Ga(c,d,e)&&(d=x);d=Oa(d,e,3);if(1==d.length){e=c=Ba(c)?c:Kd(c);for(var g=d,h=-1,f=e.length,k=b,l=k;++h<f;){var m=e[h],n=+g(m);a(n,k)&&(k=n,l=m)}e=l;if(!c.length||e!==b)return e}return Mc(c,d,a,b)}}function Lc(a,b){return function(c,d,e){d=Oa(d,e,3);return Ba(c)?(d=h(c,d,b),-1<d?c[d]:x):xd(c,d,a)}}function Ub(a){return function(b,c,d){if(!b||!b.length)return-1;c=Oa(c,d,3);return h(b,c,a)}}function Ge(a){return function(b,c,d){c=Oa(c,d,3);return xd(b,c,a,!0)}}function ld(a){return function(){for(var b,
c=arguments.length,d=a?c:-1,e=0,g=fb(c);a?d--:++d<c;){var h=g[e++]=arguments[d];if("function"!=typeof h)throw new Xa("Expected a function");!b&&l.prototype.thru&&"wrapper"==Gd(h)&&(b=new l([],!0))}for(d=b?-1:c;++d<c;){var h=g[d],e=Gd(h),f="wrapper"==e?Te(h):x;b=f&&Hc(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?b[Gd(f[0])].apply(b,f[3]):1==h.length&&Hc(h)?b[e]():b.thru(h)}return function(){var a=arguments,d=a[0];if(b&&1==a.length&&Ba(d)&&200<=d.length)return b.plant(d).value();for(var e=0,a=c?g[e].apply(this,
a):d;++e<c;)a=g[e].call(this,a);return a}}}function Le(a,b){return function(c,d,e){return"function"==typeof d&&e===x&&Ba(c)?a(c,d):b(c,kb(d,e,3))}}function bc(a){return function(b,c,d){if("function"!=typeof c||d!==x)c=kb(c,d,3);return a(b,c,ja)}}function Me(a){return function(b,c,d){if("function"!=typeof c||d!==x)c=kb(c,d,3);return a(b,c)}}function cf(a){return function(b,c,d){var e={};c=Oa(c,d,3);Ib(b,function(b,d,g){g=c(b,d,g);d=a?g:d;b=a?b:g;e[d]=b});return e}}function Aa(a){return function(b,
c,e){b=d(b);return(a?b:"")+Yf(b,c,e)+(a?"":b)}}function sg(a){var b=Sa(function(c,d){var e=g(d,b.placeholder);return Tc(c,a,x,d,e)});return b}function Df(a,b){return function(c,d,e,g){var h=3>arguments.length;return"function"==typeof d&&g===x&&Ba(c)?a(c,d,e,h):Ac(c,Oa(d,g,4),e,h,b)}}function be(a,b,c,d,e,h,f,k,l,m){function n(){for(var v=arguments.length,D=v,B=fb(v);D--;)B[D]=arguments[D];d&&(B=Sd(B,d,e));h&&(B=zc(B,h,f));if(t||w){var D=n.placeholder,A=g(B,D),v=v-A.length;if(v<m){var z=k?V(k):x,v=
Eb(m-v,0),Ca=t?A:x,A=t?x:A,O=t?B:x,B=t?x:B;b|=t?32:64;b&=~(t?64:32);u||(b&=-4);B=[a,b,c,O,Ca,B,A,z,l,v];z=be.apply(x,B);Hc(a)&&Ia(z,B);z.placeholder=D;return z}}D=p?c:this;z=r?D[a]:a;if(k)for(v=B.length,Ca=Yb(k.length,v),A=V(B);Ca--;)O=k[Ca],B[Ca]=Rb(O,v)?A[O]:x;q&&l<B.length&&(B.length=l);this&&this!==Fa&&this instanceof n&&(z=y||Je(a));return z.apply(D,B)}var q=b&128,p=b&1,r=b&2,t=b&8,u=b&4,w=b&16,y=r?x:Je(a);return n}function Yf(a,b,c){a=a.length;b=+b;if(a>=b||!sd(b))return"";b-=a;c=null==c?" ":
c+"";return Pa(c,Hb(b/c.length)).slice(0,b)}function We(a,b,c,d){function e(){for(var b=-1,f=arguments.length,k=-1,l=d.length,m=fb(l+f);++k<l;)m[k]=d[k];for(;f--;)m[k++]=arguments[++b];return(this&&this!==Fa&&this instanceof e?h:a).apply(g?c:this,m)}var g=b&1,h=Je(a);return e}function Tb(a){var b=qd[a];return function(a,c){return(c=c===x?0:+c||0)?(c=yc(10,c),b(a*c)/c):b(a)}}function ae(a){return function(b,c,d,e){var g=Oa(d);return null==d&&g===db?Db(b,c,a):rc(b,c,g(d,e,1),a)}}function Tc(a,b,c,d,
e,h,f,k){var l=b&2;if(!l&&"function"!=typeof a)throw new Xa("Expected a function");var m=d?d.length:0;m||(b&=-97,d=e=x);m-=e?e.length:0;if(b&64){var n=d,q=e;d=e=x}var p=l?x:Te(a);c=[a,b,c,d,e,n,q,h,f,k];if(p){d=c[1];b=p[1];k=d|b;e=128==b&&8==d||128==b&&256==d&&c[7].length<=p[8]||384==b&&8==d;if(128>k||e){b&1&&(c[2]=p[2],k|=d&1?0:4);if(d=p[3])e=c[3],c[3]=e?Sd(e,d,p[4]):V(d),c[4]=e?g(c[3],"__lodash_placeholder__"):V(p[4]);if(d=p[5])e=c[5],c[5]=e?zc(e,d,p[6]):V(d),c[6]=e?g(c[5],"__lodash_placeholder__"):
V(p[6]);(d=p[7])&&(c[7]=V(d));b&128&&(c[8]=null==c[8]?p[8]:Yb(c[8],p[8]));null==c[9]&&(c[9]=p[9]);c[0]=p[0];c[1]=k}b=c[1];k=c[9]}c[9]=null==k?l?0:a.length:Eb(k-m,0)||0;a=1==b?Xf(c[0],c[2]):32!=b&&33!=b||c[4].length?be.apply(x,c):We.apply(x,c);return(p?Mb:Ia)(a,c)}function fe(a,b,c,d,e,g,h){var f=-1,k=a.length,l=b.length;if(k!=l&&!(e&&l>k))return!1;for(;++f<k;){var m=a[f],l=b[f],n=d?d(e?l:m,e?m:l,f):x;if(n!==x){if(n)continue;return!1}if(e){if(!Ta(b,function(a){return m===a||c(m,a,d,e,g,h)}))return!1}else if(m!==
l&&!c(m,l,d,e,g,h))return!1}return!0}function bg(a,b,c){switch(c){case "[object Boolean]":case "[object Date]":return+a==+b;case "[object Error]":return a.name==b.name&&a.message==b.message;case "[object Number]":return a!=+a?b!=+b:a==+b;case "[object RegExp]":case "[object String]":return a==b+""}return!1}function Ff(a,b,c,d,e,g,h){var f=Ja(a),k=f.length,l=Ja(b).length;if(k!=l&&!e)return!1;for(l=k;l--;){var m=f[l];if(!(e?m in b:gb.call(b,m)))return!1}for(var n=e;++l<k;){var m=f[l],p=a[m],q=b[m],
r=d?d(e?q:p,e?p:q,m):x;if(r===x?!c(p,q,d,e,g,h):!r)return!1;n||(n="constructor"==m)}return n||(c=a.constructor,d=b.constructor,!(c!=d&&"constructor"in a&&"constructor"in b)||"function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)?!0:!1}function Oa(a,b,c){var d=e.callback||Pb,d=d===Pb?db:d;return c?d(a,b,c):d}function Gd(a){for(var b=a.name,c=Ud[b],d=c?c.length:0;d--;){var e=c[d],g=e.func;if(null==g||g==a)return e.name}return b}function Uc(a,c,d){var g=e.indexOf||jf,g=g===jf?b:
g;return a?g(a,c,d):g}function ff(a){a=yd(a);for(var b=a.length;b--;){var c=a[b],d;d=a[b][1];d=d===d&&!Wa(d);c[2]=d}return a}function Fc(a,b){a=null==a?x:a[b];return hg(a)?a:x}function tg(a){var b=a.length,c=new a.constructor(b);b&&"string"==typeof a[0]&&gb.call(a,"index")&&(c.index=a.index,c.input=a.input);return c}function ee(a){a=a.constructor;"function"==typeof a&&a instanceof a||(a=kc);return new a}function De(a,b,c){var d=a.constructor;switch(b){case "[object ArrayBuffer]":return Cd(a);case "[object Boolean]":case "[object Date]":return new d(+a);
case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return b=a.buffer,new d(c?Cd(b):b,a.byteOffset,a.length);case "[object Number]":case "[object String]":return new d(a);case "[object RegExp]":var e=new d(a.source,ha.exec(a));e.lastIndex=a.lastIndex}return e}function Jd(a,b,c){null==a||Gc(b,a)||(b=
Ic(b),a=1==b.length?a:Qc(a,ab(b,0,-1)),b=md(b));b=null==a?a:a[b];return null==b?x:b.apply(a,c)}function bb(a){return null!=a&&lc(td(a))}function Rb(a,b){a="number"==typeof a||ga.test(a)?+a:-1;return-1<a&&0==a%1&&a<(null==b?9007199254740991:b)}function Ga(a,b,c){if(!Wa(c))return!1;var d=typeof b;return("number"==d?bb(c)&&Rb(b,c.length):"string"==d&&b in c)?(b=c[b],a===a?a===b:b!==b):!1}function Gc(a,b){var c=typeof a;return"string"==c&&O.test(a)||"number"==c?!0:Ba(a)?!1:!M.test(a)||null!=b&&a in mc(b)}
function Hc(a){var b=Gd(a);if(!(b in A.prototype))return!1;b=e[b];if(a===b)return!0;b=Te(b);return!!b&&a===b[0]}function lc(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function gf(a,b){return a===x?b:Pd(a,b,gf)}function ta(a,b){a=mc(a);for(var c=-1,d=b.length,e={};++c<d;){var g=b[c];g in a&&(e[g]=a[g])}return e}function Oe(a,b){var c={};Bd(a,function(a,d,e){b(a,d,e)&&(c[d]=a)});return c}function Pe(a){for(var b=ja(a),c=b.length,d=c&&a.length,e=!!d&&lc(d)&&(Ba(a)||Pc(a)),g=-1,h=
[];++g<c;){var f=b[g];(e&&Rb(f,d)||gb.call(a,f))&&h.push(f)}return h}function Kd(a){return null==a?[]:bb(a)?Wa(a)?a:kc(a):pe(a)}function mc(a){return Wa(a)?a:kc(a)}function Ic(a){if(Ba(a))return a;var b=[];d(a).replace(Q,function(a,c,d,e){b.push(d?e.replace(T,"$1"):c||a)});return b}function eg(a){return a instanceof A?a.clone():new l(a.__wrapped__,a.__chain__,V(a.__actions__))}function hf(a,b,c){if(!a||!a.length)return[];if(c?Ga(a,b,c):null==b)b=1;return ab(a,0>b?0:b)}function je(a,b,c){var d=a?a.length:
0;if(!d)return[];if(c?Ga(a,b,c):null==b)b=1;b=d-(+b||0);return ab(a,0,0>b?0:b)}function Ne(a){return a?a[0]:x}function jf(a,c,d){var e=a?a.length:0;if(!e)return-1;if("number"==typeof d)d=0>d?Eb(e+d,0):d;else if(d)return d=Db(a,c),d<e&&(c===c?c===a[d]:a[d]!==a[d])?d:-1;return b(a,c,d||0)}function md(a){var b=a?a.length:0;return b?a[b-1]:x}function cg(a){return hf(a,1)}function fg(a,c,d,e){if(!a||!a.length)return[];null!=c&&"boolean"!=typeof c&&(e=d,d=Ga(a,c,e)?x:c,c=!1);var g=Oa();if(null!=d||g!==
db)d=g(d,e,3);if(c&&Uc()==b){c=d;var h;d=-1;e=a.length;for(var g=-1,f=[];++d<e;){var k=a[d],l=c?c(k,d,a):k;d&&h===l||(h=l,f[++g]=k)}a=f}else a=eb(a,d);return a}function od(a){if(!a||!a.length)return[];var b=-1,c=0;a=va(a,function(a){if(bb(a))return c=Eb(a.length,c),!0});for(var d=fb(c);++b<c;)d[b]=za(a,gd(b));return d}function Ld(a,b,c){if(!a||!a.length)return[];a=od(a);if(null==b)return a;b=kb(b,c,4);return za(a,function(a){return Ra(a,b,x,!0)})}function wd(a,b){var c=-1,d=a?a.length:0,e={};for(!d||
b||Ba(a[0])||(b=[]);++c<d;){var g=a[c];b?e[g]=b[c]:g&&(e[g[0]]=g[1])}return e}function Hf(a){a=e(a);a.__chain__=!0;return a}function Gb(a,b,c){return b.call(c,a)}function tf(a,b,c){var d=Ba(a)?ea:pc;c&&Ga(a,b,c)&&(b=x);if("function"!=typeof b||c!==x)b=Oa(b,c,3);return d(a,b)}function Td(a,b,c){var d=Ba(a)?va:Ab;b=Oa(b,c,3);return d(a,b)}function nc(a,b,c,d){var e=a?td(a):0;lc(e)||(a=pe(a),e=a.length);c="number"!=typeof c||d&&Ga(b,c,d)?0:0>c?Eb(e+c,0):c||0;return"string"==typeof a||!Ba(a)&&he(a)?c<=
e&&-1<a.indexOf(b,c):!!e&&-1<Uc(a,b,c)}function ke(a,b,c){var d=Ba(a)?za:Zd;b=Oa(b,c,3);return d(a,b)}function Ec(a,b,c){if(c?Ga(a,b,c):null==b){a=Kd(a);var d=a.length;return 0<d?a[Ob(0,d-1)]:x}c=-1;a=oe(a);var d=a.length,e=d-1;for(b=Yb(0>b?0:+b||0,d);++c<b;){var d=Ob(c,e),g=a[d];a[d]=a[c];a[c]=g}a.length=b;return a}function Qe(a,b,c){var d=Ba(a)?Ta:Lb;c&&Ga(a,b,c)&&(b=x);if("function"!=typeof b||c!==x)b=Oa(b,c,3);return d(a,b)}function le(a,b){var c;if("function"!=typeof b)if("function"==typeof a){var d=
a;a=b;b=d}else throw new Xa("Expected a function");return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=x);return c}}function Jf(a,b,c){function d(b,c){c&&rd(c);k=p=q=x;b&&(r=Sc(),l=a.apply(n,f),p||k||(f=n=x))}function e(){var a=b-(Sc()-m);0>=a||a>b?d(q,k):p=Se(e,a)}function g(){d(u,p)}function h(){f=arguments;m=Sc();n=this;q=u&&(p||!w);if(!1===t)var c=w&&!p;else{k||w||(r=m);var d=t-(m-r),h=0>=d||d>t;h?(k&&(k=rd(k)),r=m,l=a.apply(n,f)):k||(k=Se(g,d))}h&&p?p=rd(p):p||b===t||(p=Se(e,b));c&&
(h=!0,l=a.apply(n,f));!h||p||k||(f=n=x);return l}var f,k,l,m,n,p,q,r=0,t=!1,u=!0;if("function"!=typeof a)throw new Xa("Expected a function");b=0>b?0:+b||0;if(!0===c)var w=!0,u=!1;else Wa(c)&&(w=!!c.leading,t="maxWait"in c&&Eb(+c.maxWait||0,b),u="trailing"in c?!!c.trailing:u);h.cancel=function(){p&&rd(p);k&&rd(k);r=0;k=p=q=x};return h}function me(a,b){if("function"!=typeof a||b&&"function"!=typeof b)throw new Xa("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],g=c.cache;
if(g.has(e))return g.get(e);d=a.apply(this,d);c.cache=g.set(e,d);return d};c.cache=new me.Cache;return c}function Sa(a,b){if("function"!=typeof a)throw new Xa("Expected a function");b=Eb(b===x?a.length-1:+b||0,0);return function(){for(var c=arguments,d=-1,e=Eb(c.length-b,0),g=fb(e);++d<e;)g[d]=c[b+d];switch(b){case 0:return a.call(this,g);case 1:return a.call(this,c[0],g);case 2:return a.call(this,c[0],c[1],g)}e=fb(b+1);for(d=-1;++d<b;)e[d]=c[d];e[b]=g;return a.apply(this,e)}}function gg(a,b){return a>
b}function Pc(a){return y(a)&&bb(a)&&gb.call(a,"callee")&&!Ve.call(a,"callee")}function Kf(a,b,c,d){d=(c="function"==typeof c?kb(c,d,3):x)?c(a,b):x;return d===x?Kc(a,b,c):!!d}function ed(a){return y(a)&&"string"==typeof a.message&&"[object Error]"==Jb.call(a)}function Md(a){return Wa(a)&&"[object Function]"==Jb.call(a)}function Wa(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function hg(a){return null==a?!1:Md(a)?zb.test(gc.call(a)):y(a)&&aa.test(a)}function Wc(a){return"number"==typeof a||
y(a)&&"[object Number]"==Jb.call(a)}function lf(a){var b;if(!y(a)||"[object Object]"!=Jb.call(a)||Pc(a)||!(gb.call(a,"constructor")||(b=a.constructor,"function"!=typeof b||b instanceof b)))return!1;var c;Bd(a,function(a,b){c=b});return c===x||gb.call(a,c)}function pd(a){return Wa(a)&&"[object RegExp]"==Jb.call(a)}function he(a){return"string"==typeof a||y(a)&&"[object String]"==Jb.call(a)}function Id(a){return y(a)&&lc(a.length)&&!!pa[Jb.call(a)]}function ne(a,b){return a<b}function oe(a){var b=a?
td(a):0;return lc(b)?b?V(a):[]:pe(a)}function Hd(a){return Ad(a,ja(a))}function sf(a){return Yd(a,ja(a))}function ja(a){if(null==a)return[];Wa(a)||(a=kc(a));for(var b=a.length,b=b&&lc(b)&&(Ba(a)||Pc(a))&&b||0,c=a.constructor,d=-1,c="function"==typeof c&&c.prototype===a,e=fb(b),g=0<b;++d<b;)e[d]=d+"";for(var h in a)g&&Rb(h,b)||"constructor"==h&&(c||!gb.call(a,h))||e.push(h);return e}function yd(a){a=mc(a);for(var b=-1,c=Ja(a),d=c.length,e=fb(d);++b<d;){var g=c[b];e[b]=[g,a[g]]}return e}function pe(a){return Dc(a,
Ja(a))}function oc(a){return(a=d(a))&&a.replace(ka,w).replace(ba,"")}function Pa(a,b){var c="";a=d(a);b=+b;if(1>b||!a||!sd(b))return c;do b%2&&(c+=a),b=xc(b/2),a+=a;while(b);return c}function ad(a,b,c){var e=a;a=d(a);if(!a)return a;if(c?Ga(e,b,c):null==b)return a.slice(v(a),z(a)+1);b+="";return a.slice(n(a,b),m(a,b)+1)}function qc(a,b,c){c&&Ga(a,b,c)&&(b=x);a=d(a);return a.match(b||ua)||[]}function Pb(a,b,c){c&&Ga(a,b,c)&&(b=x);return y(a)?ef(a):db(a,b)}function Jc(a){return a}function ef(a){return Cc(vb(a,
!0))}function vf(a,b,c){if(null==c){var d=Wa(b),e=d?Ja(b):x;((e=e&&e.length?Yd(b,e):x)?e.length:d)||(e=!1,c=b,b=a,a=this)}e||(e=Yd(b,Ja(b)));var g=!0,d=-1,h=Md(a),f=e.length;!1===c?g=!1:Wa(c)&&"chain"in c&&(g=c.chain);for(;++d<f;){c=e[d];var k=b[c];a[c]=k;h&&(a.prototype[c]=function(b){return function(){var c=this.__chain__;if(g||c){var d=a(this.__wrapped__);(d.__actions__=V(this.__actions__)).push({func:b,args:arguments,thisArg:a});d.__chain__=c;return d}return b.apply(a,Ma([this.value()],arguments))}}(k))}return a}
function dg(){}function zd(a){return Gc(a)?gd(a):hd(a)}a=a?oa.defaults(Fa.Object(),a,oa.pick(Fa,$a)):Fa;var fb=a.Array,ug=a.Date,Re=a.Error,jg=a.Function,qd=a.Math,ge=a.Number,kc=a.Object,jc=a.RegExp,nf=a.String,Xa=a.TypeError,wg=fb.prototype,$b=kc.prototype,og=nf.prototype,gc=jg.prototype.toString,gb=$b.hasOwnProperty,Rd=0,Jb=$b.toString,Na=Fa._,zb=jc("^"+gc.call(gb).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),uf=a.ArrayBuffer,
rd=a.clearTimeout,kg=a.parseFloat,yc=qd.pow,Ve=$b.propertyIsEnumerable,nd=Fc(a,"Set"),Se=a.setTimeout,Wd=wg.splice,la=a.Uint8Array,vd=Fc(a,"WeakMap"),Hb=qd.ceil,Vb=Fc(kc,"create"),xc=qd.floor,Lf=Fc(fb,"isArray"),sd=a.isFinite,rf=Fc(kc,"keys"),Eb=qd.max,Yb=qd.min,Af=Fc(ug,"now"),Bf=a.parseInt,$d=qd.random,Ze=ge.NEGATIVE_INFINITY,Xc=ge.POSITIVE_INFINITY,Nd=vd&&new vd,Ud={};e.support={};e.templateSettings={escape:N,evaluate:P,interpolate:Y,variable:"",imports:{_:e}};var Yc=function(){function a(){}return function(b){if(Wa(b)){a.prototype=
b;var c=new a;a.prototype=x}return c||{}}}(),Zb=xb(Ib),Gf=xb(bd,!0),Kb=Ee(),of=Ee(!0),Mb=Nd?function(a,b){Nd.set(a,b);return a}:Jc,Te=Nd?function(a){return Nd.get(a)}:dg,td=gd("length"),Ia=function(){var a=0,b=0;return function(c,d){var e=Sc(),g=16-(e-b);b=e;if(0<g){if(150<=++a)return c}else a=0;return Mb(c,d)}}(),Va=Sa(function(a,b){return y(a)&&bb(a)?dd(a,sb(b,!1,!0)):[]}),qb=Ub(),Mf=Ub(!0),zg=Sa(function(a){for(var c=a.length,d=c,e=fb(m),g=Uc(),h=g==b,f=[];d--;){var k=a[d]=bb(k=a[d])?k:[];e[d]=
h&&120<=k.length?Vb&&nd?new Ha(d&&k):null:null}var h=a[0],l=-1,m=h?h.length:0,n=e[0];a:for(;++l<m;)if(k=h[l],0>(n?na(n,k):g(f,k,0))){for(d=c;--d;){var p=e[d];if(0>(p?na(p,k):g(a[d],k,0)))continue a}n&&n.push(k);f.push(k)}return f}),vc=Sa(function(a,b){b=sb(b);var d=Nb(a,b);Ce(a,b.sort(c));return d}),Wf=ae(),Ag=ae(!0),pg=Sa(function(a){return eb(sb(a,!1,!0))}),xe=Sa(function(a,b){return bb(a)?dd(a,b):[]}),Ue=Sa(od),Bc=Sa(function(a){var b=a.length,c=2<b?a[b-2]:x,d=1<b?a[b-1]:x;2<b&&"function"==typeof c?
b-=2:(c=1<b&&"function"==typeof d?(--b,d):x,d=x);a.length=b;return Ld(a,c,d)}),Bg=Sa(function(a){a=sb(a);return this.thru(function(b){b=Ba(b)?b:[mc(b)];for(var c=a,d=-1,e=b.length,g=-1,h=c.length,f=fb(e+h);++d<e;)f[d]=b[d];for(;++g<h;)f[d++]=c[g];return f})}),Od=Sa(function(a,b){return Nb(a,sb(b))}),Cg=Ed(function(a,b,c){gb.call(a,c)?++a[c]:a[c]=1}),Dd=Lc(Zb),df=Lc(Gf,!0),Nc=Le(Z,Zb),S=Le(function(a,b){for(var c=a.length;c--&&!1!==b(a[c],c,a););return a},Gf),ya=Ed(function(a,b,c){gb.call(a,c)?a[c].push(b):
a[c]=[b]}),Wb=Ed(function(a,b,c){a[c]=b}),ze=Sa(function(a,b,c){var d=-1,e="function"==typeof b,g=Gc(b),h=bb(a)?fb(a.length):[];Zb(a,function(a){var f=e?b:g&&null!=a?a[b]:x;h[++d]=f?f.apply(a,c):Jd(a,b,c)});return h}),id=Ed(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),jd=Df(Ra,Zb),ic=Df(function(a,b,c,d){var e=a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c},Gf),Ie=Sa(function(a,b){if(null==a)return[];var c=b[2];c&&Ga(b[0],b[1],c)&&(b.length=1);return Ua(a,sb(b),[])}),
Sc=Af||function(){return(new ug).getTime()},Cf=Sa(function(a,b,c){var d=1;if(c.length)var e=g(c,Cf.placeholder),d=d|32;return Tc(a,d,b,c,e)}),af=Sa(function(a,b){b=b.length?sb(b):sf(a);for(var c=-1,d=b.length;++c<d;){var e=b[c];a[e]=Tc(a[e],1,a)}return a}),ac=Sa(function(a,b,c){var d=3;if(c.length)var e=g(c,ac.placeholder),d=d|32;return Tc(b,d,a,c,e)}),Zf=Fe(8),Og=Fe(16),$f=Sa(function(a,b){return rb(a,1,b)}),de=Sa(function(a,b,c){return rb(a,b,c)}),ng=ld(),$c=ld(!0),ue=Sa(function(a,b){b=sb(b);if("function"!=
typeof a||!ea(b,k))throw new Xa("Expected a function");var c=b.length;return Sa(function(d){for(var e=Yb(d.length,c);e--;)d[e]=b[e](d[e]);return a.apply(this,d)})}),Nf=sg(32),pf=sg(64),se=Sa(function(a,b){return Tc(a,256,x,x,x,sb(b))}),Ba=Lf||function(a){return y(a)&&lc(a.length)&&"[object Array]"==Jb.call(a)},Pd=Qb(Rc),Oc=Qb(function(a,b,c){return c?Bb(a,b,c):ub(a,b)}),Vf=$e(Oc,function(a,b){return a===x?b:a}),Ke=$e(Pd,gf),cc=Ge(Ib),bf=Ge(bd),Ng=bc(Kb),H=bc(of),kf=Me(Ib),Vc=Me(bd),Ja=rf?function(a){var b=
null==a?x:a.constructor;return"function"==typeof b&&b.prototype===a||"function"!=typeof a&&bb(a)?Pe(a):Wa(a)?rf(a):[]}:Pe,ie=cf(!0),If=cf(),mf=Sa(function(a,b){if(null==a)return{};if("function"!=typeof b[0])return b=za(sb(b),nf),ta(a,dd(ja(a),b));var c=kb(b[0],b[1],3);return Oe(a,function(a,b,d){return!c(a,b,d)})}),vg=Sa(function(a,b){return null==a?{}:"function"==typeof b[0]?Oe(a,kb(b[0],b[1],3)):ta(a,sb(b))}),Pg=Fd(function(a,b,c){b=b.toLowerCase();return a+(c?b.charAt(0).toUpperCase()+b.slice(1):
b)}),Eg=Fd(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),ia=Aa(),Gg=Aa(!0),qf=Fd(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),wb=Fd(function(a,b,c){return a+(c?" ":"")+(b.charAt(0).toUpperCase()+b.slice(1))}),Of=Sa(function(a,b){try{return a.apply(x,b)}catch(ma){return ed(ma)?ma:new Re(ma)}}),He=Sa(function(a,b){return function(c){return Jd(c,a,b)}}),sa=Sa(function(a,b){return function(c){return Jd(a,c,b)}}),Ka=Tb("ceil"),wc=Tb("floor"),Ya=kd(gg,Ze),re=kd(ne,Xc),ud=Tb("round");e.prototype=
f.prototype;l.prototype=Yc(f.prototype);l.prototype.constructor=l;A.prototype=Yc(f.prototype);A.prototype.constructor=A;C.prototype["delete"]=function(a){return this.has(a)&&delete this.__data__[a]};C.prototype.get=function(a){return"__proto__"==a?x:this.__data__[a]};C.prototype.has=function(a){return"__proto__"!=a&&gb.call(this.__data__,a)};C.prototype.set=function(a,b){"__proto__"!=a&&(this.__data__[a]=b);return this};Ha.prototype.push=function(a){var b=this.data;"string"==typeof a||Wa(a)?b.set.add(a):
b.hash[a]=!0};me.Cache=C;e.after=function(a,b){if("function"!=typeof b)if("function"==typeof a){var c=a;a=b;b=c}else throw new Xa("Expected a function");a=sd(a=+a)?a:0;return function(){if(1>--a)return b.apply(this,arguments)}};e.ary=function(a,b,c){c&&Ga(a,b,c)&&(b=x);b=a&&null==b?a.length:Eb(+b||0,0);return Tc(a,128,x,x,x,x,b)};e.assign=Oc;e.at=Od;e.before=le;e.bind=Cf;e.bindAll=af;e.bindKey=ac;e.callback=Pb;e.chain=Hf;e.chunk=function(a,b,c){b=(c?Ga(a,b,c):null==b)?1:Eb(xc(b)||1,1);c=0;for(var d=
a?a.length:0,e=-1,g=fb(Hb(d/b));c<d;)g[++e]=ab(a,c,c+=b);return g};e.compact=function(a){for(var b=-1,c=a?a.length:0,d=-1,e=[];++b<c;){var g=a[b];g&&(e[++d]=g)}return e};e.constant=function(a){return function(){return a}};e.countBy=Cg;e.create=function(a,b,c){var d=Yc(a);c&&Ga(a,b,c)&&(b=x);return b?ub(d,b):d};e.curry=Zf;e.curryRight=Og;e.debounce=Jf;e.defaults=Vf;e.defaultsDeep=Ke;e.defer=$f;e.delay=de;e.difference=Va;e.drop=hf;e.dropRight=je;e.dropRightWhile=function(a,b,c){return a&&a.length?sc(a,
Oa(b,c,3),!0,!0):[]};e.dropWhile=function(a,b,c){return a&&a.length?sc(a,Oa(b,c,3),!0):[]};e.fill=function(a,b,c,d){var e=a?a.length:0;if(!e)return[];c&&"number"!=typeof c&&Ga(a,b,c)&&(c=0,d=e);e=a.length;c=null==c?0:+c||0;0>c&&(c=-c>e?0:e+c);d=d===x||d>e?e:+d||0;0>d&&(d+=e);e=c>d?0:d>>>0;for(c>>>=0;c<e;)a[c++]=b;return a};e.filter=Td;e.flatten=function(a,b,c){var d=a?a.length:0;c&&Ga(a,b,c)&&(b=!1);return d?sb(a,b):[]};e.flattenDeep=function(a){return a&&a.length?sb(a,!0):[]};e.flow=ng;e.flowRight=
$c;e.forEach=Nc;e.forEachRight=S;e.forIn=Ng;e.forInRight=H;e.forOwn=kf;e.forOwnRight=Vc;e.functions=sf;e.groupBy=ya;e.indexBy=Wb;e.initial=function(a){return je(a,1)};e.intersection=zg;e.invert=function(a,b,c){c&&Ga(a,b,c)&&(b=x);c=-1;for(var d=Ja(a),e=d.length,g={};++c<e;){var h=d[c],f=a[h];b?gb.call(g,f)?g[f].push(h):g[f]=[h]:g[f]=h}return g};e.invoke=ze;e.keys=Ja;e.keysIn=ja;e.map=ke;e.mapKeys=ie;e.mapValues=If;e.matches=ef;e.matchesProperty=function(a,b){return Cb(a,vb(b,!0))};e.memoize=me;e.merge=
Pd;e.method=He;e.methodOf=sa;e.mixin=vf;e.modArgs=ue;e.negate=function(a){if("function"!=typeof a)throw new Xa("Expected a function");return function(){return!a.apply(this,arguments)}};e.omit=mf;e.once=function(a){return le(2,a)};e.pairs=yd;e.partial=Nf;e.partialRight=pf;e.partition=id;e.pick=vg;e.pluck=function(a,b){return ke(a,zd(b))};e.property=zd;e.propertyOf=function(a){return function(b){return Qc(a,Ic(b),b+"")}};e.pull=function(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,
d=Uc(),e=a.length;++c<e;)for(var g=0,h=a[c];-1<(g=d(b,h,g));)Wd.call(b,g,1);return b};e.pullAt=vc;e.range=function(a,b,c){c&&Ga(a,b,c)&&(b=c=x);a=+a||0;c=null==c?1:+c||0;null==b?(b=a,a=0):b=+b||0;var d=-1;b=Eb(Hb((b-a)/(c||1)),0);for(var e=fb(b);++d<b;)e[d]=a,a+=c;return e};e.rearg=se;e.reject=function(a,b,c){var d=Ba(a)?va:Ab;b=Oa(b,c,3);return d(a,function(a,c,d){return!b(a,c,d)})};e.remove=function(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,g=[],h=a.length;for(b=Oa(b,c,3);++e<h;)c=a[e],
b(c,e,a)&&(d.push(c),g.push(e));Ce(a,g);return d};e.rest=cg;e.restParam=Sa;e.set=function(a,b,c){if(null==a)return a;var d=b+"";b=null!=a[d]||Gc(b,a)?[d]:Ic(b);for(var d=-1,e=b.length,g=e-1,h=a;null!=h&&++d<e;){var f=b[d];Wa(h)&&(d==g?h[f]=c:null==h[f]&&(h[f]=Rb(b[d+1])?[]:{}));h=h[f]}return a};e.shuffle=function(a){return Ec(a,Xc)};e.slice=function(a,b,c){var d=a?a.length:0;if(!d)return[];c&&"number"!=typeof c&&Ga(a,b,c)&&(b=0,c=d);return ab(a,b,c)};e.sortBy=function(a,b,c){if(null==a)return[];c&&
Ga(a,b,c)&&(b=x);var d=-1;b=Oa(b,c,3);a=Zd(a,function(a,c,e){return{criteria:b(a,c,e),index:++d,value:a}});return nb(a,q)};e.sortByAll=Ie;e.sortByOrder=function(a,b,c,d){if(null==a)return[];d&&Ga(b,c,d)&&(c=x);Ba(b)||(b=null==b?[]:[b]);Ba(c)||(c=null==c?[]:[c]);return Ua(a,b,c)};e.spread=function(a){if("function"!=typeof a)throw new Xa("Expected a function");return function(b){return a.apply(this,b)}};e.take=function(a,b,c){if(!a||!a.length)return[];if(c?Ga(a,b,c):null==b)b=1;return ab(a,0,0>b?0:
b)};e.takeRight=function(a,b,c){var d=a?a.length:0;if(!d)return[];if(c?Ga(a,b,c):null==b)b=1;b=d-(+b||0);return ab(a,0>b?0:b)};e.takeRightWhile=function(a,b,c){return a&&a.length?sc(a,Oa(b,c,3),!1,!0):[]};e.takeWhile=function(a,b,c){return a&&a.length?sc(a,Oa(b,c,3)):[]};e.tap=function(a,b,c){b.call(c,a);return a};e.throttle=function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new Xa("Expected a function");!1===c?d=!1:Wa(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e);return Jf(a,
b,{leading:d,maxWait:+b,trailing:e})};e.thru=Gb;e.times=function(a,b,c){a=xc(a);if(1>a||!sd(a))return[];var d=-1,e=fb(Yb(a,4294967295));for(b=kb(b,c,1);++d<a;)4294967295>d?e[d]=b(d):b(d);return e};e.toArray=oe;e.toPlainObject=Hd;e.transform=function(a,b,c,d){var e=Ba(a)||Id(a);b=Oa(b,d,4);null==c&&(e||Wa(a)?(d=a.constructor,c=e?Ba(a)?new d:[]:Yc(Md(d)?d.prototype:x)):c={});(e?Z:Ib)(a,function(a,d,e){return b(c,a,d,e)});return c};e.union=pg;e.uniq=fg;e.unzip=od;e.unzipWith=Ld;e.values=pe;e.valuesIn=
function(a){return Dc(a,ja(a))};e.where=function(a,b){return Td(a,Cc(b))};e.without=xe;e.wrap=function(a,b){b=null==b?Jc:b;return Tc(b,32,x,[a],[])};e.xor=function(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(bb(c))var d=d?Ma(dd(d,c),dd(c,d)):c}return d?eb(d):[]};e.zip=Ue;e.zipObject=wd;e.zipWith=Bc;e.backflow=$c;e.collect=ke;e.compose=$c;e.each=Nc;e.eachRight=S;e.extend=Oc;e.iteratee=Pb;e.methods=sf;e.object=wd;e.select=Td;e.tail=cg;e.unique=fg;vf(e,e);e.add=function(a,b){return(+a||
0)+(+b||0)};e.attempt=Of;e.camelCase=Pg;e.capitalize=function(a){return(a=d(a))&&a.charAt(0).toUpperCase()+a.slice(1)};e.ceil=Ka;e.clone=function(a,b,c,d){b&&"boolean"!=typeof b&&Ga(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1);return"function"==typeof c?vb(a,b,kb(c,d,1)):vb(a,b)};e.cloneDeep=function(a,b,c){return"function"==typeof b?vb(a,!0,kb(b,c,1)):vb(a,!0)};e.deburr=oc;e.endsWith=function(a,b,c){a=d(a);b+="";var e=a.length;c=c===x?e:Yb(0>c?0:+c||0,e);c-=b.length;return 0<=c&&a.indexOf(b,
c)==c};e.escape=function(a){return(a=d(a))&&K.test(a)?a.replace(L,p):a};e.escapeRegExp=function(a){return(a=d(a))&&R.test(a)?a.replace(U,r):a||"(?:)"};e.every=tf;e.find=Dd;e.findIndex=qb;e.findKey=cc;e.findLast=df;e.findLastIndex=Mf;e.findLastKey=bf;e.findWhere=function(a,b){return Dd(a,Cc(b))};e.first=Ne;e.floor=wc;e.get=function(a,b,c){a=null==a?x:Qc(a,Ic(b),b+"");return a===x?c:a};e.gt=gg;e.gte=function(a,b){return a>=b};e.has=function(a,b){if(null==a)return!1;var c=gb.call(a,b);if(!c&&!Gc(b)){b=
Ic(b);a=1==b.length?a:Qc(a,ab(b,0,-1));if(null==a)return!1;b=md(b);c=gb.call(a,b)}return c||lc(a.length)&&Rb(b,a.length)&&(Ba(a)||Pc(a))};e.identity=Jc;e.includes=nc;e.indexOf=jf;e.inRange=function(a,b,c){b=+b||0;c===x?(c=b,b=0):c=+c||0;return a>=Yb(b,c)&&a<Eb(b,c)};e.isArguments=Pc;e.isArray=Ba;e.isBoolean=function(a){return!0===a||!1===a||y(a)&&"[object Boolean]"==Jb.call(a)};e.isDate=function(a){return y(a)&&"[object Date]"==Jb.call(a)};e.isElement=function(a){return!!a&&1===a.nodeType&&y(a)&&
!lf(a)};e.isEmpty=function(a){return null==a?!0:bb(a)&&(Ba(a)||he(a)||Pc(a)||y(a)&&Md(a.splice))?!a.length:!Ja(a).length};e.isEqual=Kf;e.isError=ed;e.isFinite=function(a){return"number"==typeof a&&sd(a)};e.isFunction=Md;e.isMatch=function(a,b,c,d){c="function"==typeof c?kb(c,d,3):x;return Ae(a,ff(b),c)};e.isNaN=function(a){return Wc(a)&&a!=+a};e.isNative=hg;e.isNull=function(a){return null===a};e.isNumber=Wc;e.isObject=Wa;e.isPlainObject=lf;e.isRegExp=pd;e.isString=he;e.isTypedArray=Id;e.isUndefined=
function(a){return a===x};e.kebabCase=Eg;e.last=md;e.lastIndexOf=function(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?Eb(d+c,0):Yb(c||0,d-1))+1;else if(c)return e=Db(a,b,!0)-1,a=a[e],(b===b?b===a:a!==a)?e:-1;if(b!==b)return u(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1};e.lt=ne;e.lte=function(a,b){return a<=b};e.max=Ya;e.min=re;e.noConflict=function(){Fa._=Na;return this};e.noop=dg;e.now=Sc;e.pad=function(a,b,c){a=d(a);b=+b;var e=a.length;if(e>=b||!sd(b))return a;
e=(b-e)/2;b=xc(e);e=Hb(e);c=Yf("",e,c);return c.slice(0,b)+a+c};e.padLeft=ia;e.padRight=Gg;e.parseInt=function(a,b,c){(c?Ga(a,b,c):null==b)?b=0:b&&(b=+b);a=ad(a);return Bf(a,b||(X.test(a)?16:10))};e.random=function(a,b,c){c&&Ga(a,b,c)&&(b=c=x);var d=null==a,e=null==b;null==c&&(e&&"boolean"==typeof a?(c=a,a=1):"boolean"==typeof b&&(c=b,e=!0));d&&e&&(b=1,e=!1);a=+a||0;e?(b=a,a=0):b=+b||0;return c||a%1||b%1?(c=$d(),Yb(a+c*(b-a+kg("1e-"+((c+"").length-1))),b)):Ob(a,b)};e.reduce=jd;e.reduceRight=ic;e.repeat=
Pa;e.result=function(a,b,c){var d=null==a?x:a[b];d===x&&(null==a||Gc(b,a)||(b=Ic(b),a=1==b.length?a:Qc(a,ab(b,0,-1)),d=null==a?x:a[md(b)]),d=d===x?c:d);return Md(d)?d.call(a):d};e.round=ud;e.runInContext=G;e.size=function(a){var b=a?td(a):0;return lc(b)?b:Ja(a).length};e.snakeCase=qf;e.some=Qe;e.sortedIndex=Wf;e.sortedLastIndex=Ag;e.startCase=wb;e.startsWith=function(a,b,c){a=d(a);c=null==c?0:Yb(0>c?0:+c||0,a.length);return a.lastIndexOf(b,c)==c};e.sum=function(a,b,c){c&&Ga(a,b,c)&&(b=x);b=Oa(b,c,
3);if(1==b.length){a=Ba(a)?a:Kd(a);c=a.length;for(var d=0;c--;)d+=+b(a[c])||0;a=d}else a=lb(a,b);return a};e.template=function(a,b,c){var g=e.templateSettings;c&&Ga(a,b,c)&&(b=c=x);a=d(a);b=Bb(ub({},c||b),g,Vd);c=Bb(ub({},b.imports),g.imports,Vd);var h=Ja(c),f=Dc(c,h),k,l,m=0;c=b.interpolate||ra;var n="__p += '";c=jc((b.escape||ra).source+"|"+c.source+"|"+(c===Y?ca:ra).source+"|"+(b.evaluate||ra).source+"|$","g");var p="//# sourceURL="+("sourceURL"in b?b.sourceURL:"lodash.templateSources["+ ++La+
"]")+"\n";a.replace(c,function(b,c,d,e,g,h){d||(d=e);n+=a.slice(m,h).replace(Ea,t);c&&(k=!0,n+="' +\n__e("+c+") +\n'");g&&(l=!0,n+="';\n"+g+";\n__p += '");d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'");m=h+b.length;return b});n+="';\n";(b=b.variable)||(n="with (obj) {\n"+n+"\n}\n");n=(l?n.replace(D,""):n).replace(E,"$1").replace(F,"$1;");n="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(k?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":
";\n")+n+"return __p\n}";b=Of(function(){return jg(h,p+"return "+n).apply(x,f)});b.source=n;if(ed(b))throw b;return b};e.trim=ad;e.trimLeft=function(a,b,c){var e=a;return(a=d(a))?(c?Ga(e,b,c):null==b)?a.slice(v(a)):a.slice(n(a,b+"")):a};e.trimRight=function(a,b,c){var e=a;return(a=d(a))?(c?Ga(e,b,c):null==b)?a.slice(0,z(a)+1):a.slice(0,m(a,b+"")+1):a};e.trunc=function(a,b,c){c&&Ga(a,b,c)&&(b=x);var e=30;c="...";if(null!=b)if(Wa(b)){var g="separator"in b?b.separator:g,e="length"in b?+b.length||0:e;
c="omission"in b?d(b.omission):c}else e=+b||0;a=d(a);if(e>=a.length)return a;e-=c.length;if(1>e)return c;b=a.slice(0,e);if(null==g)return b+c;if(pd(g)){if(a.slice(e).search(g)){var h,f=a.slice(0,e);g.global||(g=jc(g.source,(ha.exec(g)||"")+"g"));for(g.lastIndex=0;a=g.exec(f);)h=a.index;b=b.slice(0,null==h?e:h)}}else a.indexOf(g,e)!=e&&(g=b.lastIndexOf(g),-1<g&&(b=b.slice(0,g)));return b+c};e.unescape=function(a){return(a=d(a))&&I.test(a)?a.replace(J,B):a};e.uniqueId=function(a){var b=++Rd;return d(a)+
b};e.words=qc;e.all=tf;e.any=Qe;e.contains=nc;e.eq=Kf;e.detect=Dd;e.foldl=jd;e.foldr=ic;e.head=Ne;e.include=nc;e.inject=jd;vf(e,function(){var a={};Ib(e,function(b,c){e.prototype[c]||(a[c]=b)});return a}(),!1);e.sample=Ec;e.prototype.sample=function(a){return this.__chain__||null!=a?this.thru(function(b){return Ec(b,a)}):Ec(this.value())};e.VERSION="3.10.1";Z("bind bindKey curry curryRight partial partialRight".split(" "),function(a){e[a].placeholder=e});Z(["drop","take"],function(a,b){A.prototype[a]=
function(c){var d=this.__filtered__;if(d&&!b)return new A(this);c=null==c?1:Eb(xc(c)||0,0);var e=this.clone();d?e.__takeCount__=Yb(e.__takeCount__,c):e.__views__.push({size:c,type:a+(0>e.__dir__?"Right":"")});return e};A.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});Z(["filter","map","takeWhile"],function(a,b){var c=b+1,d=2!=c;A.prototype[a]=function(a,b){var e=this.clone();e.__iteratees__.push({iteratee:Oa(a,b,1),type:c});e.__filtered__=e.__filtered__||d;return e}});Z(["first",
"last"],function(a,b){var c="take"+(b?"Right":"");A.prototype[a]=function(){return this[c](1).value()[0]}});Z(["initial","rest"],function(a,b){var c="drop"+(b?"":"Right");A.prototype[a]=function(){return this.__filtered__?new A(this):this[c](1)}});Z(["pluck","where"],function(a,b){var c=b?"filter":"map",d=b?Cc:zd;A.prototype[a]=function(a){return this[c](d(a))}});A.prototype.compact=function(){return this.filter(Jc)};A.prototype.reject=function(a,b){a=Oa(a,b,1);return this.filter(function(b){return!a(b)})};
A.prototype.slice=function(a,b){a=null==a?0:+a||0;var c=this;if(c.__filtered__&&(0<a||0>b))return new A(c);0>a?c=c.takeRight(-a):a&&(c=c.drop(a));b!==x&&(b=+b||0,c=0>b?c.dropRight(-b):c.take(b-a));return c};A.prototype.takeRightWhile=function(a,b){return this.reverse().takeWhile(a,b).reverse()};A.prototype.toArray=function(){return this.take(Xc)};Ib(A.prototype,function(a,b){var c=/^(?:filter|map|reject)|While$/.test(b),d=/^(?:first|last)$/.test(b),g=e[d?"take"+("last"==b?"Right":""):b];g&&(e.prototype[b]=
function(){var b=d?[1]:arguments,e=this.__chain__,h=this.__wrapped__,f=!!this.__actions__.length,k=h instanceof A,m=b[0],n=k||Ba(h);n&&c&&"function"==typeof m&&1!=m.length&&(k=n=!1);var p=function(a){return d&&e?g(a,1)[0]:g.apply(x,Ma([a],b))},m={func:Gb,args:[p],thisArg:x},f=k&&!f;return d&&!e?f?(h=h.clone(),h.__actions__.push(m),a.call(h)):g.call(x,this.value())[0]:!d&&n?(h=f?h:new A(this),h=a.apply(h,b),h.__actions__.push(m),new l(h,e)):this.thru(p)})});Z("join pop push replace shift sort splice split unshift".split(" "),
function(a){var b=(/^(?:replace|split)$/.test(a)?og:wg)[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:join|pop|replace|shift)$/.test(a);e.prototype[a]=function(){var a=arguments;return d&&!this.__chain__?b.apply(this.value(),a):this[c](function(c){return b.apply(c,a)})}});Ib(A.prototype,function(a,b){if(a=e[b]){var c=a.name;(Ud[c]||(Ud[c]=[])).push({name:b,func:a})}});Ud[be(x,2).name]=[{name:"wrapper",func:x}];A.prototype.clone=function(){var a=new A(this.__wrapped__);a.__actions__=V(this.__actions__);
a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=V(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=V(this.__views__);return a};A.prototype.reverse=function(){if(this.__filtered__){var a=new A(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a};A.prototype.value=function(){var a,b=this.__wrapped__.value(),c=this.__dir__,d=Ba(b),e=0>c,g=d?b.length:0;a=0;for(var h=g,f=this.__views__,k=-1,l=f.length;++k<l;){var m=f[k],n=m.size;switch(m.type){case "drop":a+=
n;break;case "dropRight":h-=n;break;case "take":h=Yb(h,a+n);break;case "takeRight":a=Eb(a,h-n)}}f=h;h=f-a;a=e?f:a-1;f=this.__iteratees__;k=f.length;l=0;m=Yb(h,this.__takeCount__);if(!d||200>g||g==h&&m==h)return mb(e&&d?b.reverse():b,this.__actions__);d=[];a:for(;h--&&l<m;){a+=c;e=-1;for(g=b[a];++e<k;){var p=f[e],n=p.iteratee,p=p.type,n=n(g);if(2==p)g=n;else if(!n)if(1==p)continue a;else break a}d[l++]=g}return d};e.prototype.chain=function(){return Hf(this)};e.prototype.commit=function(){return new l(this.value(),
this.__chain__)};e.prototype.concat=Bg;e.prototype.plant=function(a){for(var b,c=this;c instanceof f;){var d=eg(c);b?e.__wrapped__=d:b=d;var e=d,c=c.__wrapped__}e.__wrapped__=a;return b};e.prototype.reverse=function(){var a=this.__wrapped__,b=function(a){return c&&0>c.__dir__?a:a.reverse()};if(a instanceof A){var c=a;this.__actions__.length&&(c=new A(this));c=c.reverse();c.__actions__.push({func:Gb,args:[b],thisArg:x});return new l(c,this.__chain__)}return this.thru(b)};e.prototype.toString=function(){return this.value()+
""};e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=function(){return mb(this.__wrapped__,this.__actions__)};e.prototype.collect=e.prototype.map;e.prototype.head=e.prototype.first;e.prototype.select=e.prototype.filter;e.prototype.tail=e.prototype.rest;return e}var x,D=/\b__p \+= '';/g,E=/\b(__p \+=) '' \+/g,F=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39|#96);/g,L=/[&<>"'`]/g,I=RegExp(J.source),K=RegExp(L.source),N=/<%-([\s\S]+?)%>/g,P=/<%([\s\S]+?)%>/g,Y=/<%=([\s\S]+?)%>/g,
M=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,O=/^\w*$/,Q=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,U=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,R=RegExp(U.source),ba=/[\u0300-\u036f\ufe20-\ufe23]/g,T=/\\(\\)?/g,ca=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ha=/\w*$/,X=/^0[xX]/,aa=/^\[object .+?Constructor\]$/,ga=/^\d+$/,ka=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,ra=/($^)/,Ea=/['\n\r\u2028\u2029\\]/g,ua=/[A-Z\xc0-\xd6\xd8-\xde]+(?=[A-Z\xc0-\xd6\xd8-\xde][a-z\xdf-\xf6\xf8-\xff]+)|[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+|[A-Z\xc0-\xd6\xd8-\xde]+|[0-9]+/g,
$a="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap".split(" "),La=-1,pa={};pa["[object Float32Array]"]=pa["[object Float64Array]"]=pa["[object Int8Array]"]=pa["[object Int16Array]"]=pa["[object Int32Array]"]=pa["[object Uint8Array]"]=pa["[object Uint8ClampedArray]"]=pa["[object Uint16Array]"]=
pa["[object Uint32Array]"]=!0;pa["[object Arguments]"]=pa["[object Array]"]=pa["[object ArrayBuffer]"]=pa["[object Boolean]"]=pa["[object Date]"]=pa["[object Error]"]=pa["[object Function]"]=pa["[object Map]"]=pa["[object Number]"]=pa["[object Object]"]=pa["[object RegExp]"]=pa["[object Set]"]=pa["[object String]"]=pa["[object WeakMap]"]=!1;var fa={};fa["[object Arguments]"]=fa["[object Array]"]=fa["[object ArrayBuffer]"]=fa["[object Boolean]"]=fa["[object Date]"]=fa["[object Float32Array]"]=fa["[object Float64Array]"]=
fa["[object Int8Array]"]=fa["[object Int16Array]"]=fa["[object Int32Array]"]=fa["[object Number]"]=fa["[object Object]"]=fa["[object RegExp]"]=fa["[object String]"]=fa["[object Uint8Array]"]=fa["[object Uint8ClampedArray]"]=fa["[object Uint16Array]"]=fa["[object Uint32Array]"]=!0;fa["[object Error]"]=fa["[object Function]"]=fa["[object Map]"]=fa["[object Set]"]=fa["[object WeakMap]"]=!1;var ea={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a",
"\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U",
"\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},C={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},va={"function":!0,object:!0},za={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",
F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ma={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ra=va[typeof f]&&f&&!f.nodeType&&f,Ta=va[typeof l]&&l&&!l.nodeType&&l,Ha=va[typeof self]&&self&&self.Object&&self,va=va[typeof window]&&window&&Object&&window,na=Ta&&Ta.exports===Ra&&Ra,Fa=Ra&&Ta&&"object"==typeof a&&a&&a.Object&&a||va!==(this&&this.window)&&va||Ha||this,oa=G();"function"==typeof define&&"object"==typeof define.amd&&
define.amd?(Fa._=oa,define(function(){return oa})):Ra&&Ta?na?(Ta.exports=oa)._=oa:Ra._=oa:Fa._=oa}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],843:[function(a,l,f){(function(c,e){"function"===typeof define&&define.amd?define([],e):"function"===typeof a&&"object"===typeof l&&l&&l.exports?l.exports=e():(c.dcodeIO=c.dcodeIO||{}).Long=e()})(this,function(){function a(a,b,c){this.low=a|0;this.high=b|0;this.unsigned=
!!c}function e(a){return!0===(a&&a.__isLong__)}function h(a,b){var c;if(b){a>>>=0;if(b=0<=a&&256>a)if(c=q[a])return c;c=f(a,0>(a|0)?-1:0,!0);b&&(q[a]=c)}else{a|=0;if(b=-128<=a&&128>a)if(c=m[a])return c;c=f(a,0>a?-1:0,!1);b&&(m[a]=c)}return c}function b(a,c){if(isNaN(a)||!isFinite(a))return c?y:u;if(c){if(0>a)return y;if(a>=p)return B}else{if(a<=-r)return G;if(a+1>=r)return z}return 0>a?b(-a,c).neg():f(a%4294967296|0,a/4294967296|0,c)}function f(b,c,d){return new a(b,c,d)}function d(a,c,e){if(0===
a.length)throw Error("empty string");if("NaN"===a||"Infinity"===a||"+Infinity"===a||"-Infinity"===a)return u;"number"===typeof c?(e=c,c=!1):c=!!c;e=e||10;if(2>e||36<e)throw RangeError("radix");var g;if(0<(g=a.indexOf("-")))throw Error("interior hyphen");if(0===g)return d(a.substring(1),c,e).neg();g=b(w(e,8));for(var h=u,f=0;f<a.length;f+=8){var k=Math.min(8,a.length-f),l=parseInt(a.substring(f,f+k),e);8>k?(k=b(w(e,k)),h=h.mul(k).add(b(l))):(h=h.mul(g),h=h.add(b(l)))}h.unsigned=c;return h}function l(c){return c instanceof
a?c:"number"===typeof c?b(c):"string"===typeof c?d(c):f(c.low,c.high,c.unsigned)}Object.defineProperty(a.prototype,"__isLong__",{value:!0,enumerable:!1,configurable:!1});a.isLong=e;var m={},q={};a.fromInt=h;a.fromNumber=b;a.fromBits=f;var w=Math.pow;a.fromString=d;a.fromValue=l;var p=4294967296*4294967296,r=p/2,t=h(16777216),u=h(0);a.ZERO=u;var y=h(0,!0);a.UZERO=y;var A=h(1);a.ONE=A;var g=h(1,!0);a.UONE=g;var v=h(-1);a.NEG_ONE=v;var z=f(-1,2147483647,!1);a.MAX_VALUE=z;var B=f(-1,-1,!0);a.MAX_UNSIGNED_VALUE=
B;var G=f(0,-2147483648,!1);a.MIN_VALUE=G;var x=a.prototype;x.toInt=function(){return this.unsigned?this.low>>>0:this.low};x.toNumber=function(){return this.unsigned?4294967296*(this.high>>>0)+(this.low>>>0):4294967296*this.high+(this.low>>>0)};x.toString=function(a){a=a||10;if(2>a||36<a)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(G)){var c=b(a),d=this.div(c),c=d.mul(c).sub(this);return d.toString(a)+c.toInt().toString(a)}return"-"+this.neg().toString(a)}for(var d=
b(w(a,6),this.unsigned),c=this,e="";;){var g=c.div(d),h=(c.sub(g.mul(d)).toInt()>>>0).toString(a),c=g;if(c.isZero())return h+e;for(;6>h.length;)h="0"+h;e=""+h+e}};x.getHighBits=function(){return this.high};x.getHighBitsUnsigned=function(){return this.high>>>0};x.getLowBits=function(){return this.low};x.getLowBitsUnsigned=function(){return this.low>>>0};x.getNumBitsAbs=function(){if(this.isNegative())return this.eq(G)?64:this.neg().getNumBitsAbs();for(var a=0!=this.high?this.high:this.low,b=31;0<b&&
0==(a&1<<b);b--);return 0!=this.high?b+33:b+1};x.isZero=function(){return 0===this.high&&0===this.low};x.isNegative=function(){return!this.unsigned&&0>this.high};x.isPositive=function(){return this.unsigned||0<=this.high};x.isOdd=function(){return 1===(this.low&1)};x.isEven=function(){return 0===(this.low&1)};x.equals=function(a){e(a)||(a=l(a));return this.unsigned!==a.unsigned&&1===this.high>>>31&&1===a.high>>>31?!1:this.high===a.high&&this.low===a.low};x.eq=x.equals;x.notEquals=function(a){return!this.eq(a)};
x.neq=x.notEquals;x.lessThan=function(a){return 0>this.comp(a)};x.lt=x.lessThan;x.lessThanOrEqual=function(a){return 0>=this.comp(a)};x.lte=x.lessThanOrEqual;x.greaterThan=function(a){return 0<this.comp(a)};x.gt=x.greaterThan;x.greaterThanOrEqual=function(a){return 0<=this.comp(a)};x.gte=x.greaterThanOrEqual;x.compare=function(a){e(a)||(a=l(a));if(this.eq(a))return 0;var b=this.isNegative(),c=a.isNegative();return b&&!c?-1:!b&&c?1:this.unsigned?a.high>>>0>this.high>>>0||a.high===this.high&&a.low>>>
0>this.low>>>0?-1:1:this.sub(a).isNegative()?-1:1};x.comp=x.compare;x.negate=function(){return!this.unsigned&&this.eq(G)?G:this.not().add(A)};x.neg=x.negate;x.add=function(a){e(a)||(a=l(a));var b=this.high>>>16,c=this.high&65535,d=this.low>>>16,g=a.high>>>16,h=a.high&65535,k=a.low>>>16;a=0+((this.low&65535)+(a.low&65535));k=0+(a>>>16)+(d+k);d=0+(k>>>16);d+=c+h;b=0+(d>>>16)+(b+g)&65535;return f((k&65535)<<16|a&65535,b<<16|d&65535,this.unsigned)};x.subtract=function(a){e(a)||(a=l(a));return this.add(a.neg())};
x.sub=x.subtract;x.multiply=function(a){if(this.isZero())return u;e(a)||(a=l(a));if(a.isZero())return u;if(this.eq(G))return a.isOdd()?G:u;if(a.eq(G))return this.isOdd()?G:u;if(this.isNegative())return a.isNegative()?this.neg().mul(a.neg()):this.neg().mul(a).neg();if(a.isNegative())return this.mul(a.neg()).neg();if(this.lt(t)&&a.lt(t))return b(this.toNumber()*a.toNumber(),this.unsigned);var c=this.high>>>16,d=this.high&65535,g=this.low>>>16,h=this.low&65535,k=a.high>>>16,m=a.high&65535,n=a.low>>>
16;a=a.low&65535;var p,q,r,w;w=0+h*a;r=0+(w>>>16)+g*a;q=0+(r>>>16);r=(r&65535)+h*n;q+=r>>>16;q+=d*a;p=0+(q>>>16);q=(q&65535)+g*n;p+=q>>>16;q=(q&65535)+h*m;p=p+(q>>>16)+(c*a+d*n+g*m+h*k)&65535;return f((r&65535)<<16|w&65535,p<<16|q&65535,this.unsigned)};x.mul=x.multiply;x.divide=function(a){e(a)||(a=l(a));if(a.isZero())throw Error("division by zero");if(this.isZero())return this.unsigned?y:u;var c,d,h;if(this.unsigned){a.unsigned||(a=a.toUnsigned());if(a.gt(this))return y;if(a.gt(this.shru(1)))return g;
h=y}else{if(this.eq(G)){if(a.eq(A)||a.eq(v))return G;if(a.eq(G))return A;c=this.shr(1).div(a).shl(1);if(c.eq(u))return a.isNegative()?A:v;d=this.sub(a.mul(c));return h=c.add(d.div(a))}if(a.eq(G))return this.unsigned?y:u;if(this.isNegative())return a.isNegative()?this.neg().div(a.neg()):this.neg().div(a).neg();if(a.isNegative())return this.div(a.neg()).neg();h=u}for(d=this;d.gte(a);){c=Math.max(1,Math.floor(d.toNumber()/a.toNumber()));for(var f=Math.ceil(Math.log(c)/Math.LN2),f=48>=f?1:w(2,f-48),k=
b(c),m=k.mul(a);m.isNegative()||m.gt(d);)c-=f,k=b(c,this.unsigned),m=k.mul(a);k.isZero()&&(k=A);h=h.add(k);d=d.sub(m)}return h};x.div=x.divide;x.modulo=function(a){e(a)||(a=l(a));return this.sub(this.div(a).mul(a))};x.mod=x.modulo;x.not=function(){return f(~this.low,~this.high,this.unsigned)};x.and=function(a){e(a)||(a=l(a));return f(this.low&a.low,this.high&a.high,this.unsigned)};x.or=function(a){e(a)||(a=l(a));return f(this.low|a.low,this.high|a.high,this.unsigned)};x.xor=function(a){e(a)||(a=l(a));
return f(this.low^a.low,this.high^a.high,this.unsigned)};x.shiftLeft=function(a){e(a)&&(a=a.toInt());return 0===(a&=63)?this:32>a?f(this.low<<a,this.high<<a|this.low>>>32-a,this.unsigned):f(0,this.low<<a-32,this.unsigned)};x.shl=x.shiftLeft;x.shiftRight=function(a){e(a)&&(a=a.toInt());return 0===(a&=63)?this:32>a?f(this.low>>>a|this.high<<32-a,this.high>>a,this.unsigned):f(this.high>>a-32,0<=this.high?0:-1,this.unsigned)};x.shr=x.shiftRight;x.shiftRightUnsigned=function(a){e(a)&&(a=a.toInt());a&=
63;if(0===a)return this;var b=this.high;return 32>a?f(this.low>>>a|b<<32-a,b>>>a,this.unsigned):32===a?f(b,0,this.unsigned):f(b>>>a-32,0,this.unsigned)};x.shru=x.shiftRightUnsigned;x.toSigned=function(){return this.unsigned?f(this.low,this.high,!1):this};x.toUnsigned=function(){return this.unsigned?this:f(this.low,this.high,!0)};x.toBytes=function(a){return a?this.toBytesLE():this.toBytesBE()};x.toBytesLE=function(){var a=this.high,b=this.low;return[b&255,b>>>8&255,b>>>16&255,b>>>24&255,a&255,a>>>
8&255,a>>>16&255,a>>>24&255]};x.toBytesBE=function(){var a=this.high,b=this.low;return[a>>>24&255,a>>>16&255,a>>>8&255,a&255,b>>>24&255,b>>>16&255,b>>>8&255,b&255]};return a})},{}],844:[function(a,l,f){l.exports=function(a,e,h){if(a.global||a.sticky)throw Error("matchAt(...): Only non-global regexes are supported");a.__matchAtRelocatable||(a.__matchAtRelocatable=new RegExp(a.source+"|()","g"+(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")));a=a.__matchAtRelocatable;a.lastIndex=h;e=a.exec(e);
return null==e[e.length-1]?(--e.length,e):null}},{}],845:[function(a,l,f){f=a("./lib/utils/common").assign;var c=a("./lib/deflate"),e=a("./lib/inflate");a=a("./lib/zlib/constants");var h={};f(h,c,e,a);l.exports=h},{"./lib/deflate":846,"./lib/inflate":847,"./lib/utils/common":848,"./lib/zlib/constants":851}],846:[function(a,l,f){function c(a,b){b=new m(b);b.push(a,!0);if(b.err)throw b.msg;return b.result}var e=a("./zlib/deflate.js"),h=a("./utils/common"),b=a("./utils/strings"),k=a("./zlib/messages"),
d=a("./zlib/zstream"),n=Object.prototype.toString,m=function(a){a=this.options=h.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},a||{});a.raw&&0<a.windowBits?a.windowBits=-a.windowBits:a.gzip&&0<a.windowBits&&16>a.windowBits&&(a.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new d;this.strm.avail_out=0;var b=e.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(0!==b)throw Error(k[b]);a.header&&e.deflateSetHeader(this.strm,
a.header)};m.prototype.push=function(a,c){var d=this.strm,f=this.options.chunkSize;if(this.ended)return!1;c=c===~~c?c:!0===c?4:0;"string"===typeof a?d.input=b.string2buf(a):"[object ArrayBuffer]"===n.call(a)?d.input=new Uint8Array(a):d.input=a;d.next_in=0;d.avail_in=d.input.length;do{0===d.avail_out&&(d.output=new h.Buf8(f),d.next_out=0,d.avail_out=f);a=e.deflate(d,c);if(1!==a&&0!==a)return this.onEnd(a),this.ended=!0,!1;if(0===d.avail_out||0===d.avail_in&&(4===c||2===c))if("string"===this.options.to)this.onData(b.buf2binstring(h.shrinkBuf(d.output,
d.next_out)));else this.onData(h.shrinkBuf(d.output,d.next_out))}while((0<d.avail_in||0===d.avail_out)&&1!==a);if(4===c)return a=e.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,0===a;2===c&&(this.onEnd(0),d.avail_out=0);return!0};m.prototype.onData=function(a){this.chunks.push(a)};m.prototype.onEnd=function(a){0===a&&(this.result="string"===this.options.to?this.chunks.join(""):h.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};f.Deflate=m;f.deflate=c;f.deflateRaw=
function(a,b){b=b||{};b.raw=!0;return c(a,b)};f.gzip=function(a,b){b=b||{};b.gzip=!0;return c(a,b)}},{"./utils/common":848,"./utils/strings":849,"./zlib/deflate.js":853,"./zlib/messages":858,"./zlib/zstream":860}],847:[function(a,l,f){function c(a,b){b=new w(b);b.push(a,!0);if(b.err)throw b.msg;return b.result}var e=a("./zlib/inflate.js"),h=a("./utils/common"),b=a("./utils/strings"),k=a("./zlib/constants"),d=a("./zlib/messages"),n=a("./zlib/zstream"),m=a("./zlib/gzheader"),q=Object.prototype.toString,
w=function(a){var b=this.options=h.assign({chunkSize:16384,windowBits:0,to:""},a||{});b.raw&&0<=b.windowBits&&16>b.windowBits&&(b.windowBits=-b.windowBits,0===b.windowBits&&(b.windowBits=-15));!(0<=b.windowBits&&16>b.windowBits)||a&&a.windowBits||(b.windowBits+=32);15<b.windowBits&&48>b.windowBits&&0===(b.windowBits&15)&&(b.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new n;this.strm.avail_out=0;a=e.inflateInit2(this.strm,b.windowBits);if(a!==k.Z_OK)throw Error(d[a]);
this.header=new m;e.inflateGetHeader(this.strm,this.header)};w.prototype.push=function(a,c){var d=this.strm,f=this.options.chunkSize,l,m,g;if(this.ended)return!1;c=c===~~c?c:!0===c?k.Z_FINISH:k.Z_NO_FLUSH;"string"===typeof a?d.input=b.binstring2buf(a):"[object ArrayBuffer]"===q.call(a)?d.input=new Uint8Array(a):d.input=a;d.next_in=0;d.avail_in=d.input.length;do{0===d.avail_out&&(d.output=new h.Buf8(f),d.next_out=0,d.avail_out=f);a=e.inflate(d,k.Z_NO_FLUSH);if(a!==k.Z_STREAM_END&&a!==k.Z_OK)return this.onEnd(a),
this.ended=!0,!1;if(d.next_out&&(0===d.avail_out||a===k.Z_STREAM_END||0===d.avail_in&&(c===k.Z_FINISH||c===k.Z_SYNC_FLUSH)))if("string"===this.options.to)l=b.utf8border(d.output,d.next_out),m=d.next_out-l,g=b.buf2string(d.output,l),d.next_out=m,d.avail_out=f-m,m&&h.arraySet(d.output,d.output,l,m,0),this.onData(g);else this.onData(h.shrinkBuf(d.output,d.next_out))}while(0<d.avail_in&&a!==k.Z_STREAM_END);a===k.Z_STREAM_END&&(c=k.Z_FINISH);if(c===k.Z_FINISH)return a=e.inflateEnd(this.strm),this.onEnd(a),
this.ended=!0,a===k.Z_OK;c===k.Z_SYNC_FLUSH&&(this.onEnd(k.Z_OK),d.avail_out=0);return!0};w.prototype.onData=function(a){this.chunks.push(a)};w.prototype.onEnd=function(a){a===k.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):h.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};f.Inflate=w;f.inflate=c;f.inflateRaw=function(a,b){b=b||{};b.raw=!0;return c(a,b)};f.ungzip=c},{"./utils/common":848,"./utils/strings":849,"./zlib/constants":851,"./zlib/gzheader":854,
"./zlib/inflate.js":856,"./zlib/messages":858,"./zlib/zstream":860}],848:[function(a,l,f){a="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;f.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!==typeof c)throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a};f.shrinkBuf=function(a,b){if(a.length===b)return a;if(a.subarray)return a.subarray(0,
b);a.length=b;return a};var c={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)a.set(b.subarray(c,c+d),e);else for(var h=0;h<d;h++)a[e+h]=b[c+h]},flattenChunks:function(a){var b,c,d,e,h;b=d=0;for(c=a.length;b<c;b++)d+=a[b].length;h=new Uint8Array(d);b=d=0;for(c=a.length;b<c;b++)e=a[b],h.set(e,d),d+=e.length;return h}},e={arraySet:function(a,b,c,d,e){for(var h=0;h<d;h++)a[e+h]=b[c+h]},flattenChunks:function(a){return[].concat.apply([],a)}};f.setTyped=function(a){a?(f.Buf8=Uint8Array,f.Buf16=
Uint16Array,f.Buf32=Int32Array,f.assign(f,c)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,e))};f.setTyped(a)},{}],849:[function(a,l,f){function c(a,c){if(65537>c&&(a.subarray&&b||!a.subarray&&h))return String.fromCharCode.apply(null,e.shrinkBuf(a,c));for(var d="",f=0;f<c;f++)d+=String.fromCharCode(a[f]);return d}var e=a("./common"),h=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch(d){h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(d){b=!1}var k=new e.Buf8(256);for(a=
0;256>a;a++)k[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;k[254]=k[254]=1;f.string2buf=function(a){var b,c,d,h,f,k=a.length,l=0;for(h=0;h<k;h++)c=a.charCodeAt(h),55296===(c&64512)&&h+1<k&&(d=a.charCodeAt(h+1),56320===(d&64512)&&(c=65536+(c-55296<<10)+(d-56320),h++)),l+=128>c?1:2048>c?2:65536>c?3:4;b=new e.Buf8(l);for(h=f=0;f<l;h++)c=a.charCodeAt(h),55296===(c&64512)&&h+1<k&&(d=a.charCodeAt(h+1),56320===(d&64512)&&(c=65536+(c-55296<<10)+(d-56320),h++)),128>c?b[f++]=c:(2048>c?b[f++]=192|c>>>6:
(65536>c?b[f++]=224|c>>>12:(b[f++]=240|c>>>18,b[f++]=128|c>>>12&63),b[f++]=128|c>>>6&63),b[f++]=128|c&63);return b};f.buf2binstring=function(a){return c(a,a.length)};f.binstring2buf=function(a){for(var b=new e.Buf8(a.length),c=0,d=b.length;c<d;c++)b[c]=a.charCodeAt(c);return b};f.buf2string=function(a,b){var d,e,h,f=b||a.length,l=Array(2*f);for(b=d=0;b<f;)if(e=a[b++],128>e)l[d++]=e;else if(h=k[e],4<h)l[d++]=65533,b+=h-1;else{for(e&=2===h?31:3===h?15:7;1<h&&b<f;)e=e<<6|a[b++]&63,h--;1<h?l[d++]=65533:
65536>e?l[d++]=e:(e-=65536,l[d++]=55296|e>>10&1023,l[d++]=56320|e&1023)}return c(l,d)};f.utf8border=function(a,b){var c;b=b||a.length;b>a.length&&(b=a.length);for(c=b-1;0<=c&&128===(a[c]&192);)c--;return 0>c||0===c?b:c+k[a[c]]>b?c:b}},{"./common":848}],850:[function(a,l,f){l.exports=function(a,e,h,b){var c=a&65535|0;a=a>>>16&65535|0;for(var d;0!==h;){d=2E3<h?2E3:h;h-=d;do c=c+e[b++]|0,a=a+c|0;while(--d);c%=65521;a%=65521}return c|a<<16|0}},{}],851:[function(a,l,f){l.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,
Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],852:[function(a,l,f){var c=function(){for(var a,c=[],b=0;256>b;b++){a=b;for(var f=0;8>f;f++)a=a&1?3988292384^a>>>1:a>>>1;c[b]=a}return c}();l.exports=
function(a,h,b,f){b=f+b;for(a^=-1;f<b;f++)a=a>>>8^c[(a^h[f])&255];return a^-1}},{}],853:[function(a,l,f){function c(a,b){a.msg=G[b];return b}function e(a){for(var b=a.length;0<=--b;)a[b]=0}function h(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out);0!==c&&(g.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function b(a,b){v._tr_flush_block(a,0<=a.block_start?a.block_start:
-1,a.strstart-a.block_start,b);a.block_start=a.strstart;h(a.strm)}function k(a,b){a.pending_buf[a.pending++]=b}function d(a,b){a.pending_buf[a.pending++]=b>>>8&255;a.pending_buf[a.pending++]=b&255}function n(a,b){var c=a.max_chain_length,d=a.strstart,e,g=a.prev_length,h=a.nice_match,f=a.strstart>a.w_size-262?a.strstart-(a.w_size-262):0,k=a.window,l=a.w_mask,m=a.prev,n=a.strstart+258,p=k[d+g-1],q=k[d+g];a.prev_length>=a.good_match&&(c>>=2);h>a.lookahead&&(h=a.lookahead);do if(e=b,k[e+g]===q&&k[e+g-
1]===p&&k[e]===k[d]&&k[++e]===k[d+1]){d+=2;for(e++;k[++d]===k[++e]&&k[++d]===k[++e]&&k[++d]===k[++e]&&k[++d]===k[++e]&&k[++d]===k[++e]&&k[++d]===k[++e]&&k[++d]===k[++e]&&k[++d]===k[++e]&&d<n;);e=258-(n-d);d=n-258;if(e>g){a.match_start=b;g=e;if(e>=h)break;p=k[d+g-1];q=k[d+g]}}while((b=m[b&l])>f&&0!==--c);return g<=a.lookahead?g:a.lookahead}function m(a){var b=a.w_size,c,d,e,h;do{h=a.window_size-a.lookahead-a.strstart;if(a.strstart>=b+(b-262)){g.arraySet(a.window,a.window,b,b,0);a.match_start-=b;a.strstart-=
b;a.block_start-=b;c=d=a.hash_size;do e=a.head[--c],a.head[c]=e>=b?e-b:0;while(--d);c=d=b;do e=a.prev[--c],a.prev[c]=e>=b?e-b:0;while(--d);h+=b}if(0===a.strm.avail_in)break;c=a.strm;d=a.window;e=a.strstart+a.lookahead;var f=c.avail_in;f>h&&(f=h);0===f?d=0:(c.avail_in-=f,g.arraySet(d,c.input,c.next_in,f,e),1===c.state.wrap?c.adler=z(c.adler,d,f,e):2===c.state.wrap&&(c.adler=B(c.adler,d,f,e)),c.next_in+=f,c.total_in+=f,d=f);a.lookahead+=d;if(3<=a.lookahead+a.insert)for(h=a.strstart-a.insert,a.ins_h=
a.window[h],a.ins_h=(a.ins_h<<a.hash_shift^a.window[h+1])&a.hash_mask;a.insert&&!(a.ins_h=(a.ins_h<<a.hash_shift^a.window[h+3-1])&a.hash_mask,a.prev[h&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=h,h++,a.insert--,3>a.lookahead+a.insert););}while(262>a.lookahead&&0!==a.strm.avail_in)}function q(a,c){for(var d;;){if(262>a.lookahead){m(a);if(262>a.lookahead&&0===c)return 1;if(0===a.lookahead)break}d=0;3<=a.lookahead&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,d=a.prev[a.strstart&
a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);0!==d&&a.strstart-d<=a.w_size-262&&(a.match_length=n(a,d));if(3<=a.match_length)if(d=v._tr_tally(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&3<=a.lookahead){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=
a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=v._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(b(a,!1),0===a.strm.avail_out))return 1}a.insert=2>a.strstart?a.strstart:2;return 4===c?(b(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(b(a,!1),0===a.strm.avail_out)?1:2}function w(a,c){for(var d,e;;){if(262>a.lookahead){m(a);if(262>a.lookahead&&0===c)return 1;if(0===a.lookahead)break}d=0;3<=a.lookahead&&
(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,d=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);a.prev_length=a.match_length;a.prev_match=a.match_start;a.match_length=2;0!==d&&a.prev_length<a.max_lazy_match&&a.strstart-d<=a.w_size-262&&(a.match_length=n(a,d),5>=a.match_length&&(1===a.strategy||3===a.match_length&&4096<a.strstart-a.match_start)&&(a.match_length=2));if(3<=a.prev_length&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-3;d=v._tr_tally(a,
a.strstart-1-a.prev_match,a.prev_length-3);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);a.match_available=0;a.match_length=2;a.strstart++;if(d&&(b(a,!1),0===a.strm.avail_out))return 1}else if(a.match_available){if((d=v._tr_tally(a,0,a.window[a.strstart-1]))&&b(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=
1,a.strstart++,a.lookahead--}a.match_available&&(v._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0);a.insert=2>a.strstart?a.strstart:2;return 4===c?(b(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(b(a,!1),0===a.strm.avail_out)?1:2}function p(a,c){for(var d,e,g,h=a.window;;){if(258>=a.lookahead){m(a);if(258>=a.lookahead&&0===c)return 1;if(0===a.lookahead)break}a.match_length=0;if(3<=a.lookahead&&0<a.strstart&&(e=a.strstart-1,d=h[e],d===h[++e]&&d===h[++e]&&d===h[++e])){for(g=a.strstart+258;d===
h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&d===h[++e]&&e<g;);a.match_length=258-(g-e);a.match_length>a.lookahead&&(a.match_length=a.lookahead)}3<=a.match_length?(d=v._tr_tally(a,1,a.match_length-3),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(d=v._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++);if(d&&(b(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return 4===c?(b(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(b(a,!1),
0===a.strm.avail_out)?1:2}function r(a,c){for(var d;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(0===c)return 1;break}a.match_length=0;d=v._tr_tally(a,0,a.window[a.strstart]);a.lookahead--;a.strstart++;if(d&&(b(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return 4===c?(b(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(b(a,!1),0===a.strm.avail_out)?1:2}function t(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;
this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new g.Buf16(1146);this.dyn_dtree=
new g.Buf16(122);this.bl_tree=new g.Buf16(78);e(this.dyn_ltree);e(this.dyn_dtree);e(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new g.Buf16(16);this.heap=new g.Buf16(573);e(this.heap);this.heap_max=this.heap_len=0;this.depth=new g.Buf16(573);e(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function u(a){var b;if(!a||!a.state)return c(a,-2);a.total_in=a.total_out=0;a.data_type=
2;b=a.state;b.pending=0;b.pending_out=0;0>b.wrap&&(b.wrap=-b.wrap);b.status=b.wrap?42:113;a.adler=2===b.wrap?0:1;b.last_flush=0;v._tr_init(b);return 0}function y(a){var b=u(a);0===b&&(a=a.state,a.window_size=2*a.w_size,e(a.head),a.max_lazy_match=x[a.level].max_lazy,a.good_match=x[a.level].good_length,a.nice_match=x[a.level].nice_length,a.max_chain_length=x[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0);return b}
function A(a,b,d,e,h,f){if(!a)return-2;var k=1;-1===b&&(b=6);0>e?(k=0,e=-e):15<e&&(k=2,e-=16);if(1>h||9<h||8!==d||8>e||15<e||0>b||9<b||0>f||4<f)return c(a,-2);8===e&&(e=9);var l=new t;a.state=l;l.strm=a;l.wrap=k;l.gzhead=null;l.w_bits=e;l.w_size=1<<l.w_bits;l.w_mask=l.w_size-1;l.hash_bits=h+7;l.hash_size=1<<l.hash_bits;l.hash_mask=l.hash_size-1;l.hash_shift=~~((l.hash_bits+3-1)/3);l.window=new g.Buf8(2*l.w_size);l.head=new g.Buf16(l.hash_size);l.prev=new g.Buf16(l.w_size);l.lit_bufsize=1<<h+6;l.pending_buf_size=
4*l.lit_bufsize;l.pending_buf=new g.Buf8(l.pending_buf_size);l.d_buf=l.lit_bufsize>>1;l.l_buf=3*l.lit_bufsize;l.level=b;l.strategy=f;l.method=d;return y(a)}var g=a("../utils/common"),v=a("./trees"),z=a("./adler32"),B=a("./crc32"),G=a("./messages");a=function(a,b,c,d,e){this.good_length=a;this.max_lazy=b;this.nice_length=c;this.max_chain=d;this.func=e};var x;x=[new a(0,0,0,0,function(a,c){var d=65535;for(d>a.pending_buf_size-5&&(d=a.pending_buf_size-5);;){if(1>=a.lookahead){m(a);if(0===a.lookahead&&
0===c)return 1;if(0===a.lookahead)break}a.strstart+=a.lookahead;a.lookahead=0;var e=a.block_start+d;if(0===a.strstart||a.strstart>=e)if(a.lookahead=a.strstart-e,a.strstart=e,b(a,!1),0===a.strm.avail_out)return 1;if(a.strstart-a.block_start>=a.w_size-262&&(b(a,!1),0===a.strm.avail_out))return 1}a.insert=0;if(4===c)return b(a,!0),0===a.strm.avail_out?3:4;a.strstart>a.block_start&&b(a,!1);return 1}),new a(4,4,8,4,q),new a(4,5,16,8,q),new a(4,6,32,32,q),new a(4,4,16,16,w),new a(8,16,32,32,w),new a(8,
16,128,128,w),new a(8,32,128,256,w),new a(32,128,258,1024,w),new a(32,258,258,4096,w)];f.deflateInit=function(a,b){return A(a,b,8,15,8,0)};f.deflateInit2=A;f.deflateReset=y;f.deflateResetKeep=u;f.deflateSetHeader=function(a,b){if(!a||!a.state||2!==a.state.wrap)return-2;a.state.gzhead=b;return 0};f.deflate=function(a,b){var g,f,l,m;if(!a||!a.state||5<b||0>b)return a?c(a,-2):-2;f=a.state;if(!a.output||!a.input&&0!==a.avail_in||666===f.status&&4!==b)return c(a,0===a.avail_out?-5:-2);f.strm=a;g=f.last_flush;
f.last_flush=b;42===f.status&&(2===f.wrap?(a.adler=0,k(f,31),k(f,139),k(f,8),f.gzhead?(k(f,(f.gzhead.text?1:0)+(f.gzhead.hcrc?2:0)+(f.gzhead.extra?4:0)+(f.gzhead.name?8:0)+(f.gzhead.comment?16:0)),k(f,f.gzhead.time&255),k(f,f.gzhead.time>>8&255),k(f,f.gzhead.time>>16&255),k(f,f.gzhead.time>>24&255),k(f,9===f.level?2:2<=f.strategy||2>f.level?4:0),k(f,f.gzhead.os&255),f.gzhead.extra&&f.gzhead.extra.length&&(k(f,f.gzhead.extra.length&255),k(f,f.gzhead.extra.length>>8&255)),f.gzhead.hcrc&&(a.adler=B(a.adler,
f.pending_buf,f.pending,0)),f.gzindex=0,f.status=69):(k(f,0),k(f,0),k(f,0),k(f,0),k(f,0),k(f,9===f.level?2:2<=f.strategy||2>f.level?4:0),k(f,3),f.status=113)):(l=8+(f.w_bits-8<<4)<<8,l|=(2<=f.strategy||2>f.level?0:6>f.level?1:6===f.level?2:3)<<6,0!==f.strstart&&(l|=32),f.status=113,d(f,l+(31-l%31)),0!==f.strstart&&(d(f,a.adler>>>16),d(f,a.adler&65535)),a.adler=1));if(69===f.status)if(f.gzhead.extra){for(l=f.pending;f.gzindex<(f.gzhead.extra.length&65535)&&(f.pending!==f.pending_buf_size||(f.gzhead.hcrc&&
f.pending>l&&(a.adler=B(a.adler,f.pending_buf,f.pending-l,l)),h(a),l=f.pending,f.pending!==f.pending_buf_size));)k(f,f.gzhead.extra[f.gzindex]&255),f.gzindex++;f.gzhead.hcrc&&f.pending>l&&(a.adler=B(a.adler,f.pending_buf,f.pending-l,l));f.gzindex===f.gzhead.extra.length&&(f.gzindex=0,f.status=73)}else f.status=73;if(73===f.status)if(f.gzhead.name){l=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>l&&(a.adler=B(a.adler,f.pending_buf,f.pending-l,l)),h(a),l=f.pending,f.pending===
f.pending_buf_size)){m=1;break}m=f.gzindex<f.gzhead.name.length?f.gzhead.name.charCodeAt(f.gzindex++)&255:0;k(f,m)}while(0!==m);f.gzhead.hcrc&&f.pending>l&&(a.adler=B(a.adler,f.pending_buf,f.pending-l,l));0===m&&(f.gzindex=0,f.status=91)}else f.status=91;if(91===f.status)if(f.gzhead.comment){l=f.pending;do{if(f.pending===f.pending_buf_size&&(f.gzhead.hcrc&&f.pending>l&&(a.adler=B(a.adler,f.pending_buf,f.pending-l,l)),h(a),l=f.pending,f.pending===f.pending_buf_size)){m=1;break}m=f.gzindex<f.gzhead.comment.length?
f.gzhead.comment.charCodeAt(f.gzindex++)&255:0;k(f,m)}while(0!==m);f.gzhead.hcrc&&f.pending>l&&(a.adler=B(a.adler,f.pending_buf,f.pending-l,l));0===m&&(f.status=103)}else f.status=103;103===f.status&&(f.gzhead.hcrc?(f.pending+2>f.pending_buf_size&&h(a),f.pending+2<=f.pending_buf_size&&(k(f,a.adler&255),k(f,a.adler>>8&255),a.adler=0,f.status=113)):f.status=113);if(0!==f.pending){if(h(a),0===a.avail_out)return f.last_flush=-1,0}else if(0===a.avail_in&&(b<<1)-(4<b?9:0)<=(g<<1)-(4<g?9:0)&&4!==b)return c(a,
-5);if(666===f.status&&0!==a.avail_in)return c(a,-5);if(0!==a.avail_in||0!==f.lookahead||0!==b&&666!==f.status){g=2===f.strategy?r(f,b):3===f.strategy?p(f,b):x[f.level].func(f,b);if(3===g||4===g)f.status=666;if(1===g||3===g)return 0===a.avail_out&&(f.last_flush=-1),0;if(2===g&&(1===b?v._tr_align(f):5!==b&&(v._tr_stored_block(f,0,0,!1),3===b&&(e(f.head),0===f.lookahead&&(f.strstart=0,f.block_start=0,f.insert=0))),h(a),0===a.avail_out))return f.last_flush=-1,0}if(4!==b)return 0;if(0>=f.wrap)return 1;
2===f.wrap?(k(f,a.adler&255),k(f,a.adler>>8&255),k(f,a.adler>>16&255),k(f,a.adler>>24&255),k(f,a.total_in&255),k(f,a.total_in>>8&255),k(f,a.total_in>>16&255),k(f,a.total_in>>24&255)):(d(f,a.adler>>>16),d(f,a.adler&65535));h(a);0<f.wrap&&(f.wrap=-f.wrap);return 0!==f.pending?0:1};f.deflateEnd=function(a){var b;if(!a||!a.state)return-2;b=a.state.status;if(42!==b&&69!==b&&73!==b&&91!==b&&103!==b&&113!==b&&666!==b)return c(a,-2);a.state=null;return 113===b?c(a,-3):0};f.deflateInfo="pako deflate (from Nodeca project)"},
{"../utils/common":848,"./adler32":850,"./crc32":852,"./messages":858,"./trees":859}],854:[function(a,l,f){l.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],855:[function(a,l,f){l.exports=function(a,e){var c,b,f,d,l,m,q,w,p,r,t,u,y,A,g,v,z,B,G,x,D,E,F;c=a.state;b=a.next_in;E=a.input;f=b+(a.avail_in-5);d=a.next_out;F=a.output;e=d-(e-a.avail_out);l=d+(a.avail_out-257);m=c.dmax;q=c.wsize;w=c.whave;
p=c.wnext;r=c.window;t=c.hold;u=c.bits;y=c.lencode;A=c.distcode;g=(1<<c.lenbits)-1;v=(1<<c.distbits)-1;a:do b:for(15>u&&(t+=E[b++]<<u,u+=8,t+=E[b++]<<u,u+=8),z=y[t&g];;){B=z>>>24;t>>>=B;u-=B;B=z>>>16&255;if(0===B)F[d++]=z&65535;else if(B&16){G=z&65535;if(B&=15)u<B&&(t+=E[b++]<<u,u+=8),G+=t&(1<<B)-1,t>>>=B,u-=B;15>u&&(t+=E[b++]<<u,u+=8,t+=E[b++]<<u,u+=8);z=A[t&v];c:for(;;){B=z>>>24;t>>>=B;u-=B;B=z>>>16&255;if(B&16){z&=65535;B&=15;u<B&&(t+=E[b++]<<u,u+=8,u<B&&(t+=E[b++]<<u,u+=8));z+=t&(1<<B)-1;if(z>
m){a.msg="invalid distance too far back";c.mode=30;break a}t>>>=B;u-=B;B=d-e;if(z>B){B=z-B;if(B>w&&c.sane){a.msg="invalid distance too far back";c.mode=30;break a}x=0;D=r;if(0===p){if(x+=q-B,B<G){G-=B;do F[d++]=r[x++];while(--B);x=d-z;D=F}}else if(p<B){if(x+=q+p-B,B-=p,B<G){G-=B;do F[d++]=r[x++];while(--B);x=0;if(p<G){B=p;G-=B;do F[d++]=r[x++];while(--B);x=d-z;D=F}}}else if(x+=p-B,B<G){G-=B;do F[d++]=r[x++];while(--B);x=d-z;D=F}for(;2<G;)F[d++]=D[x++],F[d++]=D[x++],F[d++]=D[x++],G-=3;G&&(F[d++]=D[x++],
1<G&&(F[d++]=D[x++]))}else{x=d-z;do F[d++]=F[x++],F[d++]=F[x++],F[d++]=F[x++],G-=3;while(2<G);G&&(F[d++]=F[x++],1<G&&(F[d++]=F[x++]))}}else if(0===(B&64)){z=A[(z&65535)+(t&(1<<B)-1)];continue c}else{a.msg="invalid distance code";c.mode=30;break a}break}}else if(0===(B&64)){z=y[(z&65535)+(t&(1<<B)-1)];continue b}else{B&32?c.mode=12:(a.msg="invalid literal/length code",c.mode=30);break a}break}while(b<f&&d<l);G=u>>3;b-=G;u-=G<<3;a.next_in=b;a.next_out=d;a.avail_in=b<f?5+(f-b):5-(b-f);a.avail_out=d<
l?257+(l-d):257-(d-l);c.hold=t&(1<<u)-1;c.bits=u}},{}],856:[function(a,l,f){function c(a){return(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)}function e(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;
this.next=null;this.lens=new n.Buf16(320);this.work=new n.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function h(a){var b;if(!a||!a.state)return-2;b=a.state;a.total_in=a.total_out=b.total=0;a.msg="";b.wrap&&(a.adler=b.wrap&1);b.mode=1;b.last=0;b.havedict=0;b.dmax=32768;b.head=null;b.hold=0;b.bits=0;b.lencode=b.lendyn=new n.Buf32(852);b.distcode=b.distdyn=new n.Buf32(592);b.sane=1;b.back=-1;return 0}function b(a){var b;if(!a||!a.state)return-2;b=a.state;b.wsize=0;b.whave=
0;b.wnext=0;return h(a)}function k(a,c){var d,e;if(!a||!a.state)return-2;e=a.state;0>c?(d=0,c=-c):(d=(c>>4)+1,48>c&&(c&=15));if(c&&(8>c||15<c))return-2;null!==e.window&&e.wbits!==c&&(e.window=null);e.wrap=d;e.wbits=c;return b(a)}function d(a,b){var c;if(!a)return-2;c=new e;a.state=c;c.window=null;b=k(a,b);0!==b&&(a.state=null);return b}var n=a("../utils/common"),m=a("./adler32"),q=a("./crc32"),w=a("./inffast"),p=a("./inftrees"),r=!0,t,u;f.inflateReset=b;f.inflateReset2=k;f.inflateResetKeep=h;f.inflateInit=
function(a){return d(a,15)};f.inflateInit2=d;f.inflate=function(a,b){var d,e,h,f,k,l,y,A,F,J,L,I,K,N,P,Y,M,O,Q=new n.Buf8(4),U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return-2;d=a.state;12===d.mode&&(d.mode=13);k=a.next_out;h=a.output;y=a.avail_out;f=a.next_in;e=a.input;l=a.avail_in;A=d.hold;F=d.bits;J=l;L=y;O=0;a:for(;;)switch(d.mode){case 1:if(0===d.wrap){d.mode=13;break}for(;16>F;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}if(d.wrap&2&&
35615===A){d.check=0;Q[0]=A&255;Q[1]=A>>>8&255;d.check=q(d.check,Q,2,0);F=A=0;d.mode=2;break}d.flags=0;d.head&&(d.head.done=!1);if(!(d.wrap&1)||(((A&255)<<8)+(A>>8))%31){a.msg="incorrect header check";d.mode=30;break}if(8!==(A&15)){a.msg="unknown compression method";d.mode=30;break}A>>>=4;F-=4;K=(A&15)+8;if(0===d.wbits)d.wbits=K;else if(K>d.wbits){a.msg="invalid window size";d.mode=30;break}d.dmax=1<<K;a.adler=d.check=1;d.mode=A&512?10:12;F=A=0;break;case 2:for(;16>F;){if(0===l)break a;l--;A+=e[f++]<<
F;F+=8}d.flags=A;if(8!==(d.flags&255)){a.msg="unknown compression method";d.mode=30;break}if(d.flags&57344){a.msg="unknown header flags set";d.mode=30;break}d.head&&(d.head.text=A>>8&1);d.flags&512&&(Q[0]=A&255,Q[1]=A>>>8&255,d.check=q(d.check,Q,2,0));F=A=0;d.mode=3;case 3:for(;32>F;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}d.head&&(d.head.time=A);d.flags&512&&(Q[0]=A&255,Q[1]=A>>>8&255,Q[2]=A>>>16&255,Q[3]=A>>>24&255,d.check=q(d.check,Q,4,0));F=A=0;d.mode=4;case 4:for(;16>F;){if(0===l)break a;l--;
A+=e[f++]<<F;F+=8}d.head&&(d.head.xflags=A&255,d.head.os=A>>8);d.flags&512&&(Q[0]=A&255,Q[1]=A>>>8&255,d.check=q(d.check,Q,2,0));F=A=0;d.mode=5;case 5:if(d.flags&1024){for(;16>F;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}d.length=A;d.head&&(d.head.extra_len=A);d.flags&512&&(Q[0]=A&255,Q[1]=A>>>8&255,d.check=q(d.check,Q,2,0));F=A=0}else d.head&&(d.head.extra=null);d.mode=6;case 6:if(d.flags&1024&&(I=d.length,I>l&&(I=l),I&&(d.head&&(K=d.head.extra_len-d.length,d.head.extra||(d.head.extra=Array(d.head.extra_len)),
n.arraySet(d.head.extra,e,f,I,K)),d.flags&512&&(d.check=q(d.check,e,I,f)),l-=I,f+=I,d.length-=I),d.length))break a;d.length=0;d.mode=7;case 7:if(d.flags&2048){if(0===l)break a;I=0;do K=e[f+I++],d.head&&K&&65536>d.length&&(d.head.name+=String.fromCharCode(K));while(K&&I<l);d.flags&512&&(d.check=q(d.check,e,I,f));l-=I;f+=I;if(K)break a}else d.head&&(d.head.name=null);d.length=0;d.mode=8;case 8:if(d.flags&4096){if(0===l)break a;I=0;do K=e[f+I++],d.head&&K&&65536>d.length&&(d.head.comment+=String.fromCharCode(K));
while(K&&I<l);d.flags&512&&(d.check=q(d.check,e,I,f));l-=I;f+=I;if(K)break a}else d.head&&(d.head.comment=null);d.mode=9;case 9:if(d.flags&512){for(;16>F;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}if(A!==(d.check&65535)){a.msg="header crc mismatch";d.mode=30;break}F=A=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0);a.adler=d.check=0;d.mode=12;break;case 10:for(;32>F;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}a.adler=d.check=c(A);F=A=0;d.mode=11;case 11:if(0===d.havedict)return a.next_out=k,a.avail_out=
y,a.next_in=f,a.avail_in=l,d.hold=A,d.bits=F,2;a.adler=d.check=1;d.mode=12;case 12:if(5===b||6===b)break a;case 13:if(d.last){A>>>=F&7;F-=F&7;d.mode=27;break}for(;3>F;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}d.last=A&1;A>>>=1;--F;switch(A&3){case 0:d.mode=14;break;case 1:I=d;if(r){t=new n.Buf32(512);u=new n.Buf32(32);for(K=0;144>K;)I.lens[K++]=8;for(;256>K;)I.lens[K++]=9;for(;280>K;)I.lens[K++]=7;for(;288>K;)I.lens[K++]=8;p(1,I.lens,0,288,t,0,I.work,{bits:9});for(K=0;32>K;)I.lens[K++]=5;p(2,I.lens,
0,32,u,0,I.work,{bits:5});r=!1}I.lencode=t;I.lenbits=9;I.distcode=u;I.distbits=5;d.mode=20;if(6===b){A>>>=2;F-=2;break a}break;case 2:d.mode=17;break;case 3:a.msg="invalid block type",d.mode=30}A>>>=2;F-=2;break;case 14:A>>>=F&7;for(F-=F&7;32>F;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}if((A&65535)!==(A>>>16^65535)){a.msg="invalid stored block lengths";d.mode=30;break}d.length=A&65535;F=A=0;d.mode=15;if(6===b)break a;case 15:d.mode=16;case 16:if(I=d.length){I>l&&(I=l);I>y&&(I=y);if(0===I)break a;n.arraySet(h,
e,f,I,k);l-=I;f+=I;y-=I;k+=I;d.length-=I;break}d.mode=12;break;case 17:for(;14>F;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}d.nlen=(A&31)+257;A>>>=5;F-=5;d.ndist=(A&31)+1;A>>>=5;F-=5;d.ncode=(A&15)+4;A>>>=4;F-=4;if(286<d.nlen||30<d.ndist){a.msg="too many length or distance symbols";d.mode=30;break}d.have=0;d.mode=18;case 18:for(;d.have<d.ncode;){for(;3>F;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}d.lens[U[d.have++]]=A&7;A>>>=3;F-=3}for(;19>d.have;)d.lens[U[d.have++]]=0;d.lencode=d.lendyn;d.lenbits=7;
I={bits:d.lenbits};O=p(0,d.lens,0,19,d.lencode,0,d.work,I);d.lenbits=I.bits;if(O){a.msg="invalid code lengths set";d.mode=30;break}d.have=0;d.mode=19;case 19:for(;d.have<d.nlen+d.ndist;){for(;;){P=d.lencode[A&(1<<d.lenbits)-1];I=P>>>24;P&=65535;if(I<=F)break;if(0===l)break a;l--;A+=e[f++]<<F;F+=8}if(16>P)A>>>=I,F-=I,d.lens[d.have++]=P;else{if(16===P){for(K=I+2;F<K;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}A>>>=I;F-=I;if(0===d.have){a.msg="invalid bit length repeat";d.mode=30;break}K=d.lens[d.have-
1];I=3+(A&3);A>>>=2;F-=2}else if(17===P){for(K=I+3;F<K;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}A>>>=I;F-=I;K=0;I=3+(A&7);A>>>=3;F-=3}else{for(K=I+7;F<K;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}A>>>=I;F-=I;K=0;I=11+(A&127);A>>>=7;F-=7}if(d.have+I>d.nlen+d.ndist){a.msg="invalid bit length repeat";d.mode=30;break}for(;I--;)d.lens[d.have++]=K}}if(30===d.mode)break;if(0===d.lens[256]){a.msg="invalid code -- missing end-of-block";d.mode=30;break}d.lenbits=9;I={bits:d.lenbits};O=p(1,d.lens,0,d.nlen,d.lencode,
0,d.work,I);d.lenbits=I.bits;if(O){a.msg="invalid literal/lengths set";d.mode=30;break}d.distbits=6;d.distcode=d.distdyn;I={bits:d.distbits};O=p(2,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,I);d.distbits=I.bits;if(O){a.msg="invalid distances set";d.mode=30;break}d.mode=20;if(6===b)break a;case 20:d.mode=21;case 21:if(6<=l&&258<=y){a.next_out=k;a.avail_out=y;a.next_in=f;a.avail_in=l;d.hold=A;d.bits=F;w(a,L);k=a.next_out;h=a.output;y=a.avail_out;f=a.next_in;e=a.input;l=a.avail_in;A=d.hold;F=d.bits;12===
d.mode&&(d.back=-1);break}for(d.back=0;;){P=d.lencode[A&(1<<d.lenbits)-1];I=P>>>24;K=P>>>16&255;P&=65535;if(I<=F)break;if(0===l)break a;l--;A+=e[f++]<<F;F+=8}if(K&&0===(K&240)){N=I;Y=K;for(M=P;;){P=d.lencode[M+((A&(1<<N+Y)-1)>>N)];I=P>>>24;K=P>>>16&255;P&=65535;if(N+I<=F)break;if(0===l)break a;l--;A+=e[f++]<<F;F+=8}A>>>=N;F-=N;d.back+=N}A>>>=I;F-=I;d.back+=I;d.length=P;if(0===K){d.mode=26;break}if(K&32){d.back=-1;d.mode=12;break}if(K&64){a.msg="invalid literal/length code";d.mode=30;break}d.extra=
K&15;d.mode=22;case 22:if(d.extra){for(K=d.extra;F<K;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}d.length+=A&(1<<d.extra)-1;A>>>=d.extra;F-=d.extra;d.back+=d.extra}d.was=d.length;d.mode=23;case 23:for(;;){P=d.distcode[A&(1<<d.distbits)-1];I=P>>>24;K=P>>>16&255;P&=65535;if(I<=F)break;if(0===l)break a;l--;A+=e[f++]<<F;F+=8}if(0===(K&240)){N=I;Y=K;for(M=P;;){P=d.distcode[M+((A&(1<<N+Y)-1)>>N)];I=P>>>24;K=P>>>16&255;P&=65535;if(N+I<=F)break;if(0===l)break a;l--;A+=e[f++]<<F;F+=8}A>>>=N;F-=N;d.back+=N}A>>>=
I;F-=I;d.back+=I;if(K&64){a.msg="invalid distance code";d.mode=30;break}d.offset=P;d.extra=K&15;d.mode=24;case 24:if(d.extra){for(K=d.extra;F<K;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}d.offset+=A&(1<<d.extra)-1;A>>>=d.extra;F-=d.extra;d.back+=d.extra}if(d.offset>d.dmax){a.msg="invalid distance too far back";d.mode=30;break}d.mode=25;case 25:if(0===y)break a;I=L-y;if(d.offset>I){I=d.offset-I;if(I>d.whave&&d.sane){a.msg="invalid distance too far back";d.mode=30;break}I>d.wnext?(I-=d.wnext,K=d.wsize-
I):K=d.wnext-I;I>d.length&&(I=d.length);N=d.window}else N=h,K=k-d.offset,I=d.length;I>y&&(I=y);y-=I;d.length-=I;do h[k++]=N[K++];while(--I);0===d.length&&(d.mode=21);break;case 26:if(0===y)break a;h[k++]=d.length;y--;d.mode=21;break;case 27:if(d.wrap){for(;32>F;){if(0===l)break a;l--;A|=e[f++]<<F;F+=8}L-=y;a.total_out+=L;d.total+=L;L&&(a.adler=d.check=d.flags?q(d.check,h,L,k-L):m(d.check,h,L,k-L));L=y;if((d.flags?A:c(A))!==d.check){a.msg="incorrect data check";d.mode=30;break}F=A=0}d.mode=28;case 28:if(d.wrap&&
d.flags){for(;32>F;){if(0===l)break a;l--;A+=e[f++]<<F;F+=8}if(A!==(d.total&4294967295)){a.msg="incorrect length check";d.mode=30;break}F=A=0}d.mode=29;case 29:O=1;break a;case 30:O=-3;break a;case 31:return-4;default:return-2}a.next_out=k;a.avail_out=y;a.next_in=f;a.avail_in=l;d.hold=A;d.bits=F;if(d.wsize||L!==a.avail_out&&30>d.mode&&(27>d.mode||4!==b))e=a.output,f=a.next_out,k=L-a.avail_out,y=a.state,null===y.window&&(y.wsize=1<<y.wbits,y.wnext=0,y.whave=0,y.window=new n.Buf8(y.wsize)),k>=y.wsize?
(n.arraySet(y.window,e,f-y.wsize,y.wsize,0),y.wnext=0,y.whave=y.wsize):(l=y.wsize-y.wnext,l>k&&(l=k),n.arraySet(y.window,e,f-k,l,y.wnext),(k-=l)?(n.arraySet(y.window,e,f-k,k,0),y.wnext=k,y.whave=y.wsize):(y.wnext+=l,y.wnext===y.wsize&&(y.wnext=0),y.whave<y.wsize&&(y.whave+=l)));J-=a.avail_in;L-=a.avail_out;a.total_in+=J;a.total_out+=L;d.total+=L;d.wrap&&L&&(a.adler=d.check=d.flags?q(d.check,h,L,a.next_out-L):m(d.check,h,L,a.next_out-L));a.data_type=d.bits+(d.last?64:0)+(12===d.mode?128:0)+(20===d.mode||
15===d.mode?256:0);(0===J&&0===L||4===b)&&0===O&&(O=-5);return O};f.inflateEnd=function(a){if(!a||!a.state)return-2;var b=a.state;b.window&&(b.window=null);a.state=null;return 0};f.inflateGetHeader=function(a,b){if(!a||!a.state)return-2;a=a.state;if(0===(a.wrap&2))return-2;a.head=b;b.done=!1;return 0};f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":848,"./adler32":850,"./crc32":852,"./inffast":855,"./inftrees":857}],857:[function(a,l,f){var c=a("../utils/common"),e=[3,4,5,6,
7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],b=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];l.exports=function(a,f,l,q,w,p,r,t){var d=t.bits,m,n,g,v,z,B,G,x,D,E,F,J,L,I=0,K,N=new c.Buf16(16);z=
new c.Buf16(16);var P,Y=0,M,O,Q;for(m=0;15>=m;m++)N[m]=0;for(n=0;n<q;n++)N[f[l+n]]++;v=d;for(g=15;1<=g&&0===N[g];g--);v>g&&(v=g);if(0===g)return w[p++]=20971520,w[p++]=20971520,t.bits=1,0;for(d=1;d<g&&0===N[d];d++);v<d&&(v=d);for(m=B=1;15>=m;m++)if(B<<=1,B-=N[m],0>B)return-1;if(0<B&&(0===a||1!==g))return-1;z[1]=0;for(m=1;15>m;m++)z[m+1]=z[m]+N[m];for(n=0;n<q;n++)0!==f[l+n]&&(r[z[f[l+n]]++]=n);0===a?(L=P=r,K=19):1===a?(L=e,I-=257,P=h,Y-=257,K=256):(L=b,P=k,K=-1);n=x=0;m=d;J=p;q=v;z=0;E=-1;G=1<<v;F=
G-1;if(1===a&&852<G||2===a&&592<G)return 1;for(var U=0;;){U++;M=m-z;r[n]<K?(O=0,Q=r[n]):r[n]>K?(O=P[Y+r[n]],Q=L[I+r[n]]):(O=96,Q=0);B=1<<m-z;d=D=1<<q;do D-=B,w[J+(x>>z)+D]=M<<24|O<<16|Q|0;while(0!==D);for(B=1<<m-1;x&B;)B>>=1;0!==B?(x&=B-1,x+=B):x=0;n++;if(0===--N[m]){if(m===g)break;m=f[l+r[n]]}if(m>v&&(x&F)!==E){0===z&&(z=v);J+=d;q=m-z;for(B=1<<q;q+z<g;){B-=N[q+z];if(0>=B)break;q++;B<<=1}G+=1<<q;if(1===a&&852<G||2===a&&592<G)return 1;E=x&F;w[E]=v<<24|q<<16|J-p|0}}0!==x&&(w[J+x]=m-z<<24|4194304);t.bits=
v;return 0}},{"../utils/common":848}],858:[function(a,l,f){l.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],859:[function(a,l,f){function c(a){for(var b=a.length;0<=--b;)a[b]=0}function e(a,b){a.pending_buf[a.pending++]=b&255;a.pending_buf[a.pending++]=b>>>8&255}function h(a,b,c){a.bi_valid>16-c?(a.bi_buf|=b<<a.bi_valid&65535,e(a,a.bi_buf),a.bi_buf=b>>16-a.bi_valid,
a.bi_valid+=c-16):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function b(a,b,c){h(a,c[2*b],c[2*b+1])}function k(a,b){var c=0;do c|=a&1,a>>>=1,c<<=1;while(0<--b);return c>>>1}function d(a,b,c){var d=Array(16),e=0,g;for(g=1;15>=g;g++)d[g]=e=e+c[g-1]<<1;for(c=0;c<=b;c++)e=a[2*c+1],0!==e&&(a[2*c]=k(d[e]++,e))}function n(a){var b;for(b=0;286>b;b++)a.dyn_ltree[2*b]=0;for(b=0;30>b;b++)a.dyn_dtree[2*b]=0;for(b=0;19>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[512]=1;a.opt_len=a.static_len=0;a.last_lit=a.matches=
0}function m(a){8<a.bi_valid?e(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf);a.bi_buf=0;a.bi_valid=0}function q(a,b,c,d){var e=2*b,g=2*c;return a[e]<a[g]||a[e]===a[g]&&d[b]<=d[c]}function w(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len;){e<a.heap_len&&q(b,a.heap[e+1],a.heap[e],a.depth)&&e++;if(q(b,d,a.heap[e],a.depth))break;a.heap[c]=a.heap[e];c=e;e<<=1}a.heap[c]=d}function p(a,c,d){var e,g,f=0,k,l;if(0!==a.last_lit){do e=a.pending_buf[a.d_buf+2*f]<<8|a.pending_buf[a.d_buf+2*f+
1],g=a.pending_buf[a.l_buf+f],f++,0===e?b(a,g,c):(k=F[g],b(a,k+256+1,c),l=v[k],0!==l&&(g-=J[k],h(a,g,l)),e--,k=256>e?E[e]:E[256+(e>>>7)],b(a,k,d),l=z[k],0!==l&&(e-=L[k],h(a,e,l)));while(f<a.last_lit)}b(a,256,c)}function r(a,b){var c=b.dyn_tree,e=b.stat_desc.static_tree,g=b.stat_desc.has_stree,h=b.stat_desc.elems,f,k=-1,l;a.heap_len=0;a.heap_max=573;for(f=0;f<h;f++)0!==c[2*f]?(a.heap[++a.heap_len]=k=f,a.depth[f]=0):c[2*f+1]=0;for(;2>a.heap_len;)l=a.heap[++a.heap_len]=2>k?++k:0,c[2*l]=1,a.depth[l]=
0,a.opt_len--,g&&(a.static_len-=e[2*l+1]);b.max_code=k;for(f=a.heap_len>>1;1<=f;f--)w(a,c,f);l=h;do f=a.heap[1],a.heap[1]=a.heap[a.heap_len--],w(a,c,1),e=a.heap[1],a.heap[--a.heap_max]=f,a.heap[--a.heap_max]=e,c[2*l]=c[2*f]+c[2*e],a.depth[l]=(a.depth[f]>=a.depth[e]?a.depth[f]:a.depth[e])+1,c[2*f+1]=c[2*e+1]=l,a.heap[1]=l++,w(a,c,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];f=b.dyn_tree;l=b.max_code;var e=b.stat_desc.static_tree,g=b.stat_desc.has_stree,h=b.stat_desc.extra_bits,m=b.stat_desc.extra_base,
n=b.stat_desc.max_length,p,q,r,u,t=0;for(q=0;15>=q;q++)a.bl_count[q]=0;f[2*a.heap[a.heap_max]+1]=0;for(b=a.heap_max+1;573>b;b++)p=a.heap[b],q=f[2*f[2*p+1]+1]+1,q>n&&(q=n,t++),f[2*p+1]=q,p>l||(a.bl_count[q]++,r=0,p>=m&&(r=h[p-m]),u=f[2*p],a.opt_len+=u*(q+r),g&&(a.static_len+=u*(e[2*p+1]+r)));if(0!==t){do{for(q=n-1;0===a.bl_count[q];)q--;a.bl_count[q]--;a.bl_count[q+1]+=2;a.bl_count[n]--;t-=2}while(0<t);for(q=n;0!==q;q--)for(p=a.bl_count[q];0!==p;)e=a.heap[--b],e>l||(f[2*e+1]!==q&&(a.opt_len+=(q-f[2*
e+1])*f[2*e],f[2*e+1]=q),p--)}d(c,k,a.bl_count)}function t(a,b,c){var d,e=-1,g,h=b[1],f=0,k=7,l=4;0===h&&(k=138,l=3);b[2*(c+1)+1]=65535;for(d=0;d<=c;d++)g=h,h=b[2*(d+1)+1],++f<k&&g===h||(f<l?a.bl_tree[2*g]+=f:0!==g?(g!==e&&a.bl_tree[2*g]++,a.bl_tree[32]++):10>=f?a.bl_tree[34]++:a.bl_tree[36]++,f=0,e=g,0===h?(k=138,l=3):g===h?(k=6,l=3):(k=7,l=4))}function u(a,c,d){var e,g=-1,f,k=c[1],l=0,m=7,n=4;0===k&&(m=138,n=3);for(e=0;e<=d;e++)if(f=k,k=c[2*(e+1)+1],!(++l<m&&f===k)){if(l<n){do b(a,f,a.bl_tree);
while(0!==--l)}else 0!==f?(f!==g&&(b(a,f,a.bl_tree),l--),b(a,16,a.bl_tree),h(a,l-3,2)):10>=l?(b(a,17,a.bl_tree),h(a,l-3,3)):(b(a,18,a.bl_tree),h(a,l-11,7));l=0;g=f;0===k?(m=138,n=3):f===k?(m=6,n=3):(m=7,n=4)}}function y(a){var b=4093624447,c;for(c=0;31>=c;c++,b>>>=1)if(b&1&&0!==a.dyn_ltree[2*c])return 0;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return 1;for(c=32;256>c;c++)if(0!==a.dyn_ltree[2*c])return 1;return 0}function A(a,b,c,d){h(a,0+(d?1:0),3);m(a);e(a,c);e(a,~c);g.arraySet(a.pending_buf,
a.window,b,c,a.pending);a.pending+=c}var g=a("../utils/common"),v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=Array(576);c(x);var D=Array(60);c(D);var E=Array(512);c(E);var F=Array(256);c(F);var J=Array(29);c(J);var L=Array(30);c(L);var I=function(a,b,c,d,e){this.static_tree=a;this.extra_bits=b;this.extra_base=c;this.elems=
d;this.max_length=e;this.has_stree=a&&a.length},K,N,P,Y=function(a,b){this.dyn_tree=a;this.max_code=0;this.stat_desc=b},M=!1;f._tr_init=function(a){if(!M){var b,c,e,g=Array(16);for(e=c=0;28>e;e++)for(J[e]=c,b=0;b<1<<v[e];b++)F[c++]=e;F[c-1]=e;for(e=c=0;16>e;e++)for(L[e]=c,b=0;b<1<<z[e];b++)E[c++]=e;for(c>>=7;30>e;e++)for(L[e]=c<<7,b=0;b<1<<z[e]-7;b++)E[256+c++]=e;for(b=0;15>=b;b++)g[b]=0;for(b=0;143>=b;)x[2*b+1]=8,b++,g[8]++;for(;255>=b;)x[2*b+1]=9,b++,g[9]++;for(;279>=b;)x[2*b+1]=7,b++,g[7]++;for(;287>=
b;)x[2*b+1]=8,b++,g[8]++;d(x,287,g);for(b=0;30>b;b++)D[2*b+1]=5,D[2*b]=k(b,5);K=new I(x,v,257,286,15);N=new I(D,z,0,30,15);P=new I([],B,0,19,7);M=!0}a.l_desc=new Y(a.dyn_ltree,K);a.d_desc=new Y(a.dyn_dtree,N);a.bl_desc=new Y(a.bl_tree,P);a.bi_buf=0;a.bi_valid=0;n(a)};f._tr_stored_block=A;f._tr_flush_block=function(a,b,c,d){var e,g,f=0;if(0<a.level){2===a.strm.data_type&&(a.strm.data_type=y(a));r(a,a.l_desc);r(a,a.d_desc);t(a,a.dyn_ltree,a.l_desc.max_code);t(a,a.dyn_dtree,a.d_desc.max_code);r(a,a.bl_desc);
for(f=18;3<=f&&0===a.bl_tree[2*G[f]+1];f--);a.opt_len+=3*(f+1)+14;e=a.opt_len+3+7>>>3;g=a.static_len+3+7>>>3;g<=e&&(e=g)}else e=g=c+5;if(c+4<=e&&-1!==b)A(a,b,c,d);else if(4===a.strategy||g===e)h(a,2+(d?1:0),3),p(a,x,D);else{h(a,4+(d?1:0),3);b=a.l_desc.max_code+1;c=a.d_desc.max_code+1;f+=1;h(a,b-257,5);h(a,c-1,5);h(a,f-4,4);for(e=0;e<f;e++)h(a,a.bl_tree[2*G[e]+1],3);u(a,a.dyn_ltree,b-1);u(a,a.dyn_dtree,c-1);p(a,a.dyn_ltree,a.dyn_dtree)}n(a);d&&m(a)};f._tr_tally=function(a,b,c){a.pending_buf[a.d_buf+
2*a.last_lit]=b>>>8&255;a.pending_buf[a.d_buf+2*a.last_lit+1]=b&255;a.pending_buf[a.l_buf+a.last_lit]=c&255;a.last_lit++;0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(F[c]+256+1)]++,a.dyn_dtree[2*(256>b?E[b]:E[256+(b>>>7)])]++);return a.last_lit===a.lit_bufsize-1};f._tr_align=function(a){h(a,2,3);b(a,256,x);16===a.bi_valid?(e(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):8<=a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf&255,a.bi_buf>>=8,a.bi_valid-=8)}},{"../utils/common":848}],860:[function(a,
l,f){l.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],861:[function(a,l,f){(function(a){function c(c,b,e,d){if("function"!==typeof c)throw new TypeError('"callback" argument must be a function');var h=arguments.length,f;switch(h){case 0:case 1:return a.nextTick(c);case 2:return a.nextTick(function(){c.call(null,b)});case 3:return a.nextTick(function(){c.call(null,
b,e)});case 4:return a.nextTick(function(){c.call(null,b,e,d)});default:f=Array(h-1);for(h=0;h<f.length;)f[h++]=arguments[h];return a.nextTick(function(){c.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?l.exports=c:l.exports=a.nextTick}).call(this,a("_process"))},{_process:1028}],862:[function(a,l,f){(function(c){(function(c,h){"function"===typeof define&&define.amd?define(["bytebuffer"],h):"function"===typeof a&&"object"===
typeof l&&l&&l.exports?l.exports=h(a("bytebuffer"),!0):(c.dcodeIO=c.dcodeIO||{}).ProtoBuf=h(c.dcodeIO.ByteBuffer)})(this,function(e,h){var b={};b.ByteBuffer=e;b.Long=e.Long||null;b.VERSION="5.0.1";b.WIRE_TYPES={};b.WIRE_TYPES.VARINT=0;b.WIRE_TYPES.BITS64=1;b.WIRE_TYPES.LDELIM=2;b.WIRE_TYPES.STARTGROUP=3;b.WIRE_TYPES.ENDGROUP=4;b.WIRE_TYPES.BITS32=5;b.PACKABLE_WIRE_TYPES=[b.WIRE_TYPES.VARINT,b.WIRE_TYPES.BITS64,b.WIRE_TYPES.BITS32];b.TYPES={int32:{name:"int32",wireType:b.WIRE_TYPES.VARINT,defaultValue:0},
uint32:{name:"uint32",wireType:b.WIRE_TYPES.VARINT,defaultValue:0},sint32:{name:"sint32",wireType:b.WIRE_TYPES.VARINT,defaultValue:0},int64:{name:"int64",wireType:b.WIRE_TYPES.VARINT,defaultValue:b.Long?b.Long.ZERO:void 0},uint64:{name:"uint64",wireType:b.WIRE_TYPES.VARINT,defaultValue:b.Long?b.Long.UZERO:void 0},sint64:{name:"sint64",wireType:b.WIRE_TYPES.VARINT,defaultValue:b.Long?b.Long.ZERO:void 0},bool:{name:"bool",wireType:b.WIRE_TYPES.VARINT,defaultValue:!1},"double":{name:"double",wireType:b.WIRE_TYPES.BITS64,
defaultValue:0},string:{name:"string",wireType:b.WIRE_TYPES.LDELIM,defaultValue:""},bytes:{name:"bytes",wireType:b.WIRE_TYPES.LDELIM,defaultValue:null},fixed32:{name:"fixed32",wireType:b.WIRE_TYPES.BITS32,defaultValue:0},sfixed32:{name:"sfixed32",wireType:b.WIRE_TYPES.BITS32,defaultValue:0},fixed64:{name:"fixed64",wireType:b.WIRE_TYPES.BITS64,defaultValue:b.Long?b.Long.UZERO:void 0},sfixed64:{name:"sfixed64",wireType:b.WIRE_TYPES.BITS64,defaultValue:b.Long?b.Long.ZERO:void 0},"float":{name:"float",
wireType:b.WIRE_TYPES.BITS32,defaultValue:0},"enum":{name:"enum",wireType:b.WIRE_TYPES.VARINT,defaultValue:0},message:{name:"message",wireType:b.WIRE_TYPES.LDELIM,defaultValue:null},group:{name:"group",wireType:b.WIRE_TYPES.STARTGROUP,defaultValue:null}};b.MAP_KEY_TYPES=[b.TYPES.int32,b.TYPES.sint32,b.TYPES.sfixed32,b.TYPES.uint32,b.TYPES.fixed32,b.TYPES.int64,b.TYPES.sint64,b.TYPES.sfixed64,b.TYPES.uint64,b.TYPES.fixed64,b.TYPES.bool,b.TYPES.string,b.TYPES.bytes];b.ID_MIN=1;b.ID_MAX=536870911;b.convertFieldsToCamelCase=
!1;b.populateAccessors=!0;b.populateDefaults=!0;b.Util=function(){var b={};b.IS_NODE=!("object"!==typeof c||"[object process]"!==c+""||c.browser);b.XHR=function(){for(var a=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=null,c=0;c<a.length;c++){try{b=a[c]()}catch(q){continue}break}if(!b)throw Error("XMLHttpRequest is not supported");return b};
b.fetch=function(c,e){e&&"function"!=typeof e&&(e=null);if(b.IS_NODE){var d=a("fs");if(e)d.readFile(c,function(a,b){a?e(null):e(""+b)});else try{return d.readFileSync(c)}catch(w){return null}}else{var h=b.XHR();h.open("GET",c,e?!0:!1);h.setRequestHeader("Accept","text/plain");"function"===typeof h.overrideMimeType&&h.overrideMimeType("text/plain");if(e)h.onreadystatechange=function(){4==h.readyState&&(200==h.status||0==h.status&&"string"===typeof h.responseText?e(h.responseText):e(null))},4!=h.readyState&&
h.send(null);else return h.send(null),200==h.status||0==h.status&&"string"===typeof h.responseText?h.responseText:null}};b.toCamelCase=function(a){return a.replace(/_([a-zA-Z])/g,function(a,b){return b.toUpperCase()})};return b}();b.Lang={DELIM:/[\s\{\}=;:\[\],'"\(\)<>]/g,RULE:/^(?:required|optional|repeated|map)$/,TYPE:/^(?:double|float|int32|uint32|sint32|int64|uint64|sint64|fixed32|sfixed32|fixed64|sfixed64|bool|string|bytes)$/,NAME:/^[a-zA-Z_][a-zA-Z_0-9]*$/,TYPEDEF:/^[a-zA-Z][a-zA-Z_0-9]*$/,
TYPEREF:/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,FQTYPEREF:/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/,NUMBER:/^-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+|([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?)|inf|nan)$/,NUMBER_DEC:/^(?:[1-9][0-9]*|0)$/,NUMBER_HEX:/^0[xX][0-9a-fA-F]+$/,NUMBER_OCT:/^0[0-7]+$/,NUMBER_FLT:/^([0-9]*(\.[0-9]*)?([Ee][+-]?[0-9]+)?|inf|nan)$/,BOOL:/^(?:true|false)$/i,ID:/^(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,NEGID:/^\-?(?:[1-9][0-9]*|0|0[xX][0-9a-fA-F]+|0[0-7]+)$/,WHITESPACE:/\s/,STRING:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")|(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,
STRING_DQ:/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,STRING_SQ:/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g};b.DotProto=function(a,b){function c(a,c){var d,e=1;"-"==a.charAt(0)&&(e=-1,a=a.substring(1));if(b.NUMBER_DEC.test(a))d=parseInt(a);else if(b.NUMBER_HEX.test(a))d=parseInt(a.substring(2),16);else if(b.NUMBER_OCT.test(a))d=parseInt(a.substring(1),8);else throw Error("illegal id value: "+(0>e?"-":"")+a);d=e*d|0;if(!c&&0>d)throw Error("illegal id value: "+(0>e?"-":"")+a);return d}function d(a){var c=1;"-"==a.charAt(0)&&
(c=-1,a=a.substring(1));if(b.NUMBER_DEC.test(a))return c*parseInt(a,10);if(b.NUMBER_HEX.test(a))return c*parseInt(a.substring(2),16);if(b.NUMBER_OCT.test(a))return c*parseInt(a.substring(1),8);if("inf"===a)return Infinity*c;if("nan"===a)return NaN;if(b.NUMBER_FLT.test(a))return c*parseFloat(a);throw Error("illegal number value: "+(0>c?"-":"")+a);}function e(a,b,c){"undefined"===typeof a[b]?a[b]=c:(Array.isArray(a[b])||(a[b]=[a[b]]),a[b].push(c))}var h={},f=function(a){this.source=a+"";this.index=
0;this.line=1;this.stack=[];this._stringOpen=null},k=f.prototype;k._readString=function(){var a='"'===this._stringOpen?b.STRING_DQ:b.STRING_SQ;a.lastIndex=this.index-1;var c=a.exec(this.source);if(!c)throw Error("unterminated string");this.index=a.lastIndex;this.stack.push(this._stringOpen);this._stringOpen=null;return c[1]};k.next=function(){if(0<this.stack.length)return this.stack.shift();if(this.index>=this.source.length)return null;if(null!==this._stringOpen)return this._readString();var a,c;
do{for(a=!1;b.WHITESPACE.test(c=this.source.charAt(this.index));)if("\n"===c&&++this.line,++this.index===this.source.length)return null;if("/"===this.source.charAt(this.index))if(++this.index,"/"===this.source.charAt(this.index)){for(;"\n"!==this.source.charAt(++this.index);)if(this.index==this.source.length)return null;++this.index;++this.line;a=!0}else if("*"===(c=this.source.charAt(this.index))){do{"\n"===c&&++this.line;if(++this.index===this.source.length)return null;a=c;c=this.source.charAt(this.index)}while("*"!==
a||"/"!==c);++this.index;a=!0}else return"/"}while(a);if(this.index===this.source.length)return null;c=this.index;b.DELIM.lastIndex=0;if(!b.DELIM.test(this.source.charAt(c++)))for(;c<this.source.length&&!b.DELIM.test(this.source.charAt(c));)++c;c=this.source.substring(this.index,this.index=c);if('"'===c||"'"===c)this._stringOpen=c;return c};k.peek=function(){if(0===this.stack.length){var a=this.next();if(null===a)return null;this.stack.push(a)}return this.stack[0]};k.skip=function(a){var b=this.next();
if(b!==a)throw Error("illegal '"+b+"', '"+a+"' expected");};k.omit=function(a){return this.peek()===a?(this.next(),!0):!1};k.toString=function(){return"Tokenizer ("+this.index+"/"+this.source.length+" at line "+this.line+")"};h.Tokenizer=f;var l=function(a){this.tn=new f(a);this.proto3=!1},k=l.prototype;k.parse=function(){var a={name:"[ROOT]","package":null,messages:[],enums:[],imports:[],options:{},services:[]},c,d=!0,e;try{for(;c=this.tn.next();)switch(c){case "package":if(!d||null!==a["package"])throw Error("unexpected 'package'");
c=this.tn.next();if(!b.TYPEREF.test(c))throw Error("illegal package name: "+c);this.tn.skip(";");a["package"]=c;break;case "import":if(!d)throw Error("unexpected 'import'");c=this.tn.peek();("public"===c||(e="weak"===c))&&this.tn.next();c=this._readString();this.tn.skip(";");e||a.imports.push(c);break;case "syntax":if(!d)throw Error("unexpected 'syntax'");this.tn.skip("=");"proto3"===(a.syntax=this._readString())&&(this.proto3=!0);this.tn.skip(";");break;case "message":this._parseMessage(a,null);
d=!1;break;case "enum":this._parseEnum(a);d=!1;break;case "option":this._parseOption(a);break;case "service":this._parseService(a);break;case "extend":this._parseExtend(a);break;default:throw Error("unexpected '"+c+"'");}}catch(v){throw v.message="Parse error at line "+this.tn.line+": "+v.message,v;}delete a.name;return a};l.parse=function(a){return(new l(a)).parse()};k._readString=function(){var a="",b;do{b=this.tn.next();if("'"!==b&&'"'!==b)throw Error("illegal string delimiter: "+b);a+=this.tn.next();
this.tn.skip(b);b=this.tn.peek()}while('"'===b||'"'===b);return a};k._readValue=function(a){var c=this.tn.peek();if('"'===c||"'"===c)return this._readString();this.tn.next();if(b.NUMBER.test(c))return d(c);if(b.BOOL.test(c))return"true"===c.toLowerCase();if(a&&b.TYPEREF.test(c))return c;throw Error("illegal value: "+c);};k._parseOption=function(a,c){var d=this.tn.next(),e=!1;"("===d&&(e=!0,d=this.tn.next());if(!b.TYPEREF.test(d))throw Error("illegal option name: "+d);var h=d;e&&(this.tn.skip(")"),
h="("+h+")",d=this.tn.peek(),b.FQTYPEREF.test(d)&&(h+=d,this.tn.next()));this.tn.skip("=");this._parseOptionValue(a,h);c||this.tn.skip(";")};k._parseOptionValue=function(a,c){var d=this.tn.peek();if("{"!==d)e(a.options,c,this._readValue(!0));else for(this.tn.skip("{");"}"!==(d=this.tn.next());)if(","!==d){if(!b.NAME.test(d))throw Error("illegal option name: "+c+"."+d);this.tn.omit(":")?"{"===this.tn.peek()?this._parseOptionValue(a,c+"."+d):e(a.options,c+"."+d,this._readValue(!0)):this._parseOptionValue(a,
c+"."+d)}};k._parseService=function(a){var c=this.tn.next();if(!b.NAME.test(c))throw Error("illegal service name at line "+this.tn.line+": "+c);var d={name:c,rpc:{},options:{}};for(this.tn.skip("{");"}"!==(c=this.tn.next());)if("option"===c)this._parseOption(d);else if("rpc"===c)this._parseServiceRPC(d);else throw Error("illegal service token: "+c);this.tn.omit(";");a.services.push(d)};k._parseServiceRPC=function(a){var c=this.tn.next();if(!b.NAME.test(c))throw Error("illegal rpc service method name: "+
c);var d=c,e={request:null,response:null,request_stream:!1,response_stream:!1,options:{}};this.tn.skip("(");c=this.tn.next();"stream"===c.toLowerCase()&&(e.request_stream=!0,c=this.tn.next());if(!b.TYPEREF.test(c))throw Error("illegal rpc service request type: "+c);e.request=c;this.tn.skip(")");c=this.tn.next();if("returns"!==c.toLowerCase())throw Error("illegal rpc service request type delimiter: "+c);this.tn.skip("(");c=this.tn.next();"stream"===c.toLowerCase()&&(e.response_stream=!0,c=this.tn.next());
e.response=c;this.tn.skip(")");c=this.tn.peek();if("{"===c){for(this.tn.next();"}"!==(c=this.tn.next());)if("option"===c)this._parseOption(e);else throw Error("illegal rpc service token: "+c);this.tn.omit(";")}else this.tn.skip(";");"undefined"===typeof a.rpc&&(a.rpc={});a.rpc[d]=e};k._parseMessage=function(a,d){var e=!!d,g=this.tn.next(),h={name:"",fields:[],enums:[],messages:[],options:{},services:[],oneofs:{}};if(!b.NAME.test(g))throw Error("illegal "+(e?"group":"message")+" name: "+g);h.name=
g;e&&(this.tn.skip("="),d.id=c(this.tn.next()),h.isGroup=!0);g=this.tn.peek();"["===g&&d&&this._parseFieldOptions(d);for(this.tn.skip("{");"}"!==(g=this.tn.next());)if(b.RULE.test(g))this._parseMessageField(h,g);else if("oneof"===g)this._parseMessageOneOf(h);else if("enum"===g)this._parseEnum(h);else if("message"===g)this._parseMessage(h);else if("option"===g)this._parseOption(h);else if("service"===g)this._parseService(h);else if("extensions"===g)h.hasOwnProperty("extensions")?h.extensions=h.extensions.concat(this._parseExtensionRanges()):
h.extensions=this._parseExtensionRanges();else if("reserved"===g)this._parseIgnored();else if("extend"===g)this._parseExtend(h);else if(b.TYPEREF.test(g)){if(!this.proto3)throw Error("illegal field rule: "+g);this._parseMessageField(h,"optional",g)}else throw Error("illegal message token: "+g);this.tn.omit(";");a.messages.push(h);return h};k._parseIgnored=function(){for(;";"!==this.tn.peek();)this.tn.next();this.tn.skip(";")};k._parseMessageField=function(a,d,e){if(!b.RULE.test(d))throw Error("illegal message field rule: "+
d);var g={rule:d,type:"",name:"",options:{},id:0};if("map"===d){if(e)throw Error("illegal type: "+e);this.tn.skip("<");d=this.tn.next();if(!b.TYPE.test(d)&&!b.TYPEREF.test(d))throw Error("illegal message field type: "+d);g.keytype=d;this.tn.skip(",");d=this.tn.next();if(!b.TYPE.test(d)&&!b.TYPEREF.test(d))throw Error("illegal message field: "+d);g.type=d;this.tn.skip(">");d=this.tn.next();if(!b.NAME.test(d))throw Error("illegal message field name: "+d);g.name=d;this.tn.skip("=");g.id=c(this.tn.next());
d=this.tn.peek();"["===d&&this._parseFieldOptions(g);this.tn.skip(";")}else if(e="undefined"!==typeof e?e:this.tn.next(),"group"===e){d=this._parseMessage(a,g);if(!/^[A-Z]/.test(d.name))throw Error("illegal group name: "+d.name);g.type=d.name;g.name=d.name.toLowerCase();this.tn.omit(";")}else{if(!b.TYPE.test(e)&&!b.TYPEREF.test(e))throw Error("illegal message field type: "+e);g.type=e;d=this.tn.next();if(!b.NAME.test(d))throw Error("illegal message field name: "+d);g.name=d;this.tn.skip("=");g.id=
c(this.tn.next());d=this.tn.peek();"["===d&&this._parseFieldOptions(g);this.tn.skip(";")}a.fields.push(g);return g};k._parseMessageOneOf=function(a){var c=this.tn.next();if(!b.NAME.test(c))throw Error("illegal oneof name: "+c);var d=c,e=[];for(this.tn.skip("{");"}"!==(c=this.tn.next());)c=this._parseMessageField(a,"optional",c),c.oneof=d,e.push(c.id);this.tn.omit(";");a.oneofs[d]=e};k._parseFieldOptions=function(a){this.tn.skip("[");for(var b=!0;"]"!==this.tn.peek();)b||this.tn.skip(","),this._parseOption(a,
!0),b=!1;this.tn.next()};k._parseEnum=function(a){var d={name:"",values:[],options:{}},e=this.tn.next();if(!b.NAME.test(e))throw Error("illegal name: "+e);d.name=e;for(this.tn.skip("{");"}"!==(e=this.tn.next());)if("option"===e)this._parseOption(d);else{if(!b.NAME.test(e))throw Error("illegal name: "+e);this.tn.skip("=");var g={name:e,id:c(this.tn.next(),!0)},e=this.tn.peek();"["===e&&this._parseFieldOptions({options:{}});this.tn.skip(";");d.values.push(g)}this.tn.omit(";");a.enums.push(d)};k._parseExtensionRanges=
function(){var b=[],c,e;do{for(e=[];;){c=this.tn.next();switch(c){case "min":c=a.ID_MIN;break;case "max":c=a.ID_MAX;break;default:c=d(c)}e.push(c);if(2===e.length)break;if("to"!==this.tn.peek()){e.push(c);break}this.tn.next()}b.push(e)}while(this.tn.omit(","));this.tn.skip(";");return b};k._parseExtend=function(a){var c=this.tn.next();if(!b.TYPEREF.test(c))throw Error("illegal extend reference: "+c);var d={ref:c,fields:[]};for(this.tn.skip("{");"}"!==(c=this.tn.next());)if(b.RULE.test(c))this._parseMessageField(d,
c);else if(b.TYPEREF.test(c)){if(!this.proto3)throw Error("illegal field rule: "+c);this._parseMessageField(d,"optional",c)}else throw Error("illegal extend token: "+c);this.tn.omit(";");a.messages.push(d);return d};k.toString=function(){return"Parser at line "+this.tn.line};h.Parser=l;return h}(b,b.Lang);b.Reflect=function(a){function b(b,c){if(b&&"number"===typeof b.low&&"number"===typeof b.high&&"boolean"===typeof b.unsigned&&b.low===b.low&&b.high===b.high)return new a.Long(b.low,b.high,"undefined"===
typeof c?b.unsigned:c);if("string"===typeof b)return a.Long.fromString(b,c||!1,10);if("number"===typeof b)return a.Long.fromNumber(b,c||!1);throw Error("not convertible to Long");}function c(b,d){var e=d.readVarint32(),g=e&7,e=e>>>3;switch(g){case a.WIRE_TYPES.VARINT:do e=d.readUint8();while(128===(e&128));break;case a.WIRE_TYPES.BITS64:d.offset+=8;break;case a.WIRE_TYPES.LDELIM:e=d.readVarint32();d.offset+=e;break;case a.WIRE_TYPES.STARTGROUP:c(e,d);break;case a.WIRE_TYPES.ENDGROUP:if(e===b)return!1;
throw Error("Illegal GROUPEND after unknown group: "+e+" ("+b+" expected)");case a.WIRE_TYPES.BITS32:d.offset+=4;break;default:throw Error("Illegal wire type in unknown group "+b+": "+g);}return!0}var h={},f=function(a,b,c){this.builder=a;this.parent=b;this.name=c},k=f.prototype;k.fqn=function(){var a=this.name,b=this;do{b=b.parent;if(null==b)break;a=b.name+"."+a}while(1);return a};k.toString=function(a){return(a?this.className+" ":"")+this.fqn()};k.build=function(){throw Error(this.toString(!0)+
" cannot be built directly");};h.T=f;var l=function(a,b,c,d,e){f.call(this,a,b,c);this.className="Namespace";this.children=[];this.options=d||{};this.syntax=e||"proto2"},k=l.prototype=Object.create(f.prototype);k.getChildren=function(a){a=a||null;if(null==a)return this.children.slice();for(var b=[],c=0,d=this.children.length;c<d;++c)this.children[c]instanceof a&&b.push(this.children[c]);return b};k.addChild=function(a){var b;if(b=this.getChild(a.name))if(b instanceof u.Field&&b.name!==b.originalName&&
null===this.getChild(b.originalName))b.name=b.originalName;else if(a instanceof u.Field&&a.name!==a.originalName&&null===this.getChild(a.originalName))a.name=a.originalName;else throw Error("Duplicate name in namespace "+this.toString(!0)+": "+a.name);this.children.push(a)};k.getChild=function(a){for(var b="number"===typeof a?"id":"name",c=0,d=this.children.length;c<d;++c)if(this.children[c][b]===a)return this.children[c];return null};k.resolve=function(a,b){var c="string"===typeof a?a.split("."):
a,d=this,e=0;if(""===c[e]){for(;null!==d.parent;)d=d.parent;e++}do{do{if(!(d instanceof h.Namespace)){d=null;break}d=d.getChild(c[e]);if(!(d&&d instanceof h.T)||b&&!(d instanceof h.Namespace)){d=null;break}e++}while(e<c.length);if(null!=d)break;if(null!==this.parent)return this.parent.resolve(a,b)}while(null!=d);return d};k.qn=function(a){var b=[],c=a;do b.unshift(c.name),c=c.parent;while(null!==c);for(c=1;c<=b.length;c++){var d=b.slice(b.length-c);if(a===this.resolve(d,a instanceof h.Namespace))return d.join(".")}return a.fqn()};
k.build=function(){for(var a={},b=this.children,c=0,d=b.length,e;c<d;++c)e=b[c],e instanceof l&&(a[e.name]=e.build());Object.defineProperty&&Object.defineProperty(a,"$options",{value:this.buildOpt()});return a};k.buildOpt=function(){for(var a={},b=Object.keys(this.options),c=0,d=b.length;c<d;++c)a[b[c]]=this.options[b[c]];return a};k.getOption=function(a){return"undefined"===typeof a?this.options:"undefined"!==typeof this.options[a]?this.options[a]:null};h.Namespace=l;var r=function(b,c,d,e){this.type=
b;this.resolvedType=c;this.isMapKey=d;this.syntax=e;if(d&&0>a.MAP_KEY_TYPES.indexOf(b))throw Error("Invalid map key type: "+b.name);},t=r.prototype;r.defaultFieldValue=function(b){"string"===typeof b&&(b=a.TYPES[b]);if("undefined"===typeof b.defaultValue)throw Error("default value for type "+b.name+" is not supported");return b==a.TYPES.bytes?new e(0):b.defaultValue};t.verifyValue=function(c){function d(a,b){throw Error("Illegal value for "+g.toString(!0)+" of type "+g.type.name+": "+a+" ("+b+")");
}var g=this;switch(this.type){case a.TYPES.int32:case a.TYPES.sint32:case a.TYPES.sfixed32:return("number"!==typeof c||c===c&&0!==c%1)&&d(typeof c,"not an integer"),4294967295<c?c|0:c;case a.TYPES.uint32:case a.TYPES.fixed32:return("number"!==typeof c||c===c&&0!==c%1)&&d(typeof c,"not an integer"),0>c?c>>>0:c;case a.TYPES.int64:case a.TYPES.sint64:case a.TYPES.sfixed64:if(a.Long)try{return b(c,!1)}catch(F){d(typeof c,F.message)}else d(typeof c,"requires Long.js");case a.TYPES.uint64:case a.TYPES.fixed64:if(a.Long)try{return b(c,
!0)}catch(F){d(typeof c,F.message)}else d(typeof c,"requires Long.js");case a.TYPES.bool:return"boolean"!==typeof c&&d(typeof c,"not a boolean"),c;case a.TYPES["float"]:case a.TYPES["double"]:return"number"!==typeof c&&d(typeof c,"not a number"),c;case a.TYPES.string:return"string"===typeof c||c&&c instanceof String||d(typeof c,"not a string"),""+c;case a.TYPES.bytes:return e.isByteBuffer(c)?c:e.wrap(c,"base64");case a.TYPES["enum"]:for(var h=this.resolvedType.getChildren(a.Reflect.Enum.Value),f=
0;f<h.length;f++)if(h[f].name==c||h[f].id==c)return h[f].id;if("proto3"===this.syntax)return("number"!==typeof c||c===c&&0!==c%1)&&d(typeof c,"not an integer"),(4294967295<c||0>c)&&d(typeof c,"not in range for uint32"),c;d(c,"not a valid enum value");case a.TYPES.group:case a.TYPES.message:c&&"object"===typeof c||d(typeof c,"object expected");if(c instanceof this.resolvedType.clazz)return c;if(c instanceof a.Builder.Message){var h={},f;for(f in c)c.hasOwnProperty(f)&&(h[f]=c[f]);c=h}return new this.resolvedType.clazz(c)}throw Error("[INTERNAL] Illegal value for "+
this.toString(!0)+": "+c+" (undefined type "+this.type+")");};t.calculateLength=function(b,c){if(null===c)return 0;switch(this.type){case a.TYPES.int32:return 0>c?e.calculateVarint64(c):e.calculateVarint32(c);case a.TYPES.uint32:return e.calculateVarint32(c);case a.TYPES.sint32:return e.calculateVarint32(e.zigZagEncode32(c));case a.TYPES.fixed32:case a.TYPES.sfixed32:case a.TYPES["float"]:return 4;case a.TYPES.int64:case a.TYPES.uint64:return e.calculateVarint64(c);case a.TYPES.sint64:return e.calculateVarint64(e.zigZagEncode64(c));
case a.TYPES.fixed64:case a.TYPES.sfixed64:return 8;case a.TYPES.bool:return 1;case a.TYPES["enum"]:return e.calculateVarint32(c);case a.TYPES["double"]:return 8;case a.TYPES.string:return c=e.calculateUTF8Bytes(c),e.calculateVarint32(c)+c;case a.TYPES.bytes:if(0>c.remaining())throw Error("Illegal value for "+this.toString(!0)+": "+c.remaining()+" bytes remaining");return e.calculateVarint32(c.remaining())+c.remaining();case a.TYPES.message:return c=this.resolvedType.calculate(c),e.calculateVarint32(c)+
c;case a.TYPES.group:return c=this.resolvedType.calculate(c),c+e.calculateVarint32(b<<3|a.WIRE_TYPES.ENDGROUP)}throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+c+" (unknown type)");};t.encodeValue=function(b,c,d){if(null===c)return d;switch(this.type){case a.TYPES.int32:0>c?d.writeVarint64(c):d.writeVarint32(c);break;case a.TYPES.uint32:d.writeVarint32(c);break;case a.TYPES.sint32:d.writeVarint32ZigZag(c);break;case a.TYPES.fixed32:d.writeUint32(c);break;case a.TYPES.sfixed32:d.writeInt32(c);
break;case a.TYPES.int64:case a.TYPES.uint64:d.writeVarint64(c);break;case a.TYPES.sint64:d.writeVarint64ZigZag(c);break;case a.TYPES.fixed64:d.writeUint64(c);break;case a.TYPES.sfixed64:d.writeInt64(c);break;case a.TYPES.bool:"string"===typeof c?d.writeVarint32("false"===c.toLowerCase()?0:!!c):d.writeVarint32(c?1:0);break;case a.TYPES["enum"]:d.writeVarint32(c);break;case a.TYPES["float"]:d.writeFloat32(c);break;case a.TYPES["double"]:d.writeFloat64(c);break;case a.TYPES.string:d.writeVString(c);
break;case a.TYPES.bytes:if(0>c.remaining())throw Error("Illegal value for "+this.toString(!0)+": "+c.remaining()+" bytes remaining");b=c.offset;d.writeVarint32(c.remaining());d.append(c);c.offset=b;break;case a.TYPES.message:b=(new e).LE();this.resolvedType.encode(c,b);d.writeVarint32(b.offset);d.append(b.flip());break;case a.TYPES.group:this.resolvedType.encode(c,d);d.writeVarint32(b<<3|a.WIRE_TYPES.ENDGROUP);break;default:throw Error("[INTERNAL] Illegal value to encode in "+this.toString(!0)+": "+
c+" (unknown type)");}return d};t.decode=function(b,c,d){if(c!=this.type.wireType)throw Error("Unexpected wire type for element");switch(this.type){case a.TYPES.int32:return b.readVarint32()|0;case a.TYPES.uint32:return b.readVarint32()>>>0;case a.TYPES.sint32:return b.readVarint32ZigZag()|0;case a.TYPES.fixed32:return b.readUint32()>>>0;case a.TYPES.sfixed32:return b.readInt32()|0;case a.TYPES.int64:return b.readVarint64();case a.TYPES.uint64:return b.readVarint64().toUnsigned();case a.TYPES.sint64:return b.readVarint64ZigZag();
case a.TYPES.fixed64:return b.readUint64();case a.TYPES.sfixed64:return b.readInt64();case a.TYPES.bool:return!!b.readVarint32();case a.TYPES["enum"]:return b.readVarint32();case a.TYPES["float"]:return b.readFloat();case a.TYPES["double"]:return b.readDouble();case a.TYPES.string:return b.readVString();case a.TYPES.bytes:d=b.readVarint32();if(b.remaining()<d)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+d+" required but got only "+b.remaining());c=b.clone();c.limit=c.offset+d;
b.offset+=d;return c;case a.TYPES.message:return d=b.readVarint32(),this.resolvedType.decode(b,d);case a.TYPES.group:return this.resolvedType.decode(b,-1,d)}throw Error("[INTERNAL] Illegal decode type");};t.valueFromString=function(b){if(!this.isMapKey)throw Error("valueFromString() called on non-map-key element");switch(this.type){case a.TYPES.int32:case a.TYPES.sint32:case a.TYPES.sfixed32:case a.TYPES.uint32:case a.TYPES.fixed32:return this.verifyValue(parseInt(b));case a.TYPES.int64:case a.TYPES.sint64:case a.TYPES.sfixed64:case a.TYPES.uint64:case a.TYPES.fixed64:return this.verifyValue(b);
case a.TYPES.bool:return"true"===b;case a.TYPES.string:return this.verifyValue(b);case a.TYPES.bytes:return e.fromBinary(b)}};t.valueToString=function(b){if(!this.isMapKey)throw Error("valueToString() called on non-map-key element");return this.type===a.TYPES.bytes?b.toString("binary"):b.toString()};h.Element=r;var u=function(a,b,c,d,e,g){l.call(this,a,b,c,d,g);this.className="Message";this.extensions=void 0;this.clazz=null;this.isGroup=!!e;this._fieldsByName=this._fieldsById=this._fields=null},t=
u.prototype=Object.create(l.prototype);t.build=function(b){if(this.clazz&&!b)return this.clazz;b=function(a,b){function c(b,d,g,h){if(null===b||"object"!==typeof b){if(h&&h instanceof a.Reflect.Enum){var f=a.Reflect.Enum.getName(h.object,b);if(null!==f)return f}return b}if(e.isByteBuffer(b))return d?b.toBase64():b.toBuffer();if(a.Long.isLong(b))return g?b.toString():a.Long.fromValue(b);var k;if(Array.isArray(b))return k=[],b.forEach(function(a,b){k[b]=c(a,d,g,h)}),k;k={};if(b instanceof a.Map){for(var f=
b.entries(),l=f.next();!l.done;l=f.next())k[b.keyElem.valueToString(l.value[0])]=c(l.value[1],d,g,b.valueElem.resolvedType);return k}var f=b.$type,l=void 0,m;for(m in b)b.hasOwnProperty(m)&&(f&&(l=f.getChild(m))?k[m]=c(b[m],d,g,l.resolvedType):k[m]=c(b[m],d,g));return k}var d=b.getChildren(a.Reflect.Message.Field),g=b.getChildren(a.Reflect.Message.OneOf),h=function(c,f){a.Builder.Message.call(this);for(var k=0,l=g.length;k<l;++k)this[g[k].name]=null;k=0;for(l=d.length;k<l;++k){var m=d[k];this[m.name]=
m.repeated?[]:m.map?new a.Map(m):null;!m.required&&"proto3"!==b.syntax||null===m.defaultValue||(this[m.name]=m.defaultValue)}if(0<arguments.length)if(1!==arguments.length||null===c||"object"!==typeof c||!("function"!==typeof c.encode||c instanceof h)||Array.isArray(c)||c instanceof a.Map||e.isByteBuffer(c)||c instanceof ArrayBuffer||a.Long&&c instanceof a.Long)for(k=0,l=arguments.length;k<l;++k)"undefined"!==typeof(m=arguments[k])&&this.$set(d[k].name,m);else this.$set(c)},f=h.prototype=Object.create(a.Builder.Message.prototype);
f.add=function(c,d,e){var g=b._fieldsByName[c];if(!e){if(!g)throw Error(this+"#"+c+" is undefined");if(!(g instanceof a.Reflect.Message.Field))throw Error(this+"#"+c+" is not a field: "+g.toString(!0));if(!g.repeated)throw Error(this+"#"+c+" is not a repeated field");d=g.verifyValue(d,!0)}null===this[c]&&(this[c]=[]);this[c].push(d);return this};f.$add=f.add;f.set=function(c,d,e){if(c&&"object"===typeof c){e=d;for(var g in c)c.hasOwnProperty(g)&&"undefined"!==typeof(d=c[g])&&this.$set(g,d,e);return this}g=
b._fieldsByName[c];if(e)this[c]=d;else{if(!g)throw Error(this+"#"+c+" is not a field: undefined");if(!(g instanceof a.Reflect.Message.Field))throw Error(this+"#"+c+" is not a field: "+g.toString(!0));this[g.name]=d=g.verifyValue(d)}g&&g.oneof&&(e=this[g.oneof.name],null!==d?(null!==e&&e!==g.name&&(this[e]=null),this[g.oneof.name]=g.name):e===c&&(this[g.oneof.name]=null));return this};f.$set=f.set;f.get=function(c,d){if(d)return this[c];d=b._fieldsByName[c];if(!(d&&d instanceof a.Reflect.Message.Field))throw Error(this+
"#"+c+" is not a field: undefined");if(!(d instanceof a.Reflect.Message.Field))throw Error(this+"#"+c+" is not a field: "+d.toString(!0));return this[d.name]};f.$get=f.get;for(var k=0;k<d.length;k++){var l=d[k];l instanceof a.Reflect.Message.ExtensionField||b.builder.options.populateAccessors&&function(a){var c=a.originalName.replace(/(_[a-zA-Z])/g,function(a){return a.toUpperCase().replace("_","")}),c=c.substring(0,1).toUpperCase()+c.substring(1),d=a.originalName.replace(/([A-Z])/g,function(a){return"_"+
a}),e=function(b,c){this[a.name]=c?b:a.verifyValue(b);return this},g=function(){return this[a.name]};null===b.getChild("set"+c)&&(f["set"+c]=e);null===b.getChild("set_"+d)&&(f["set_"+d]=e);null===b.getChild("get"+c)&&(f["get"+c]=g);null===b.getChild("get_"+d)&&(f["get_"+d]=g)}(l)}f.encode=function(a,c){"boolean"===typeof a&&(c=a,a=void 0);var d=!1;a||(a=new e,d=!0);var g=a.littleEndian;try{return b.encode(this,a.LE(),c),(d?a.flip():a).LE(g)}catch(R){throw a.LE(g),R;}};h.encode=function(a,b,c){return(new h(a)).encode(b,
c)};f.calculate=function(){return b.calculate(this)};f.encodeDelimited=function(a,c){var d=!1;a||(a=new e,d=!0);var g=(new e).LE();b.encode(this,g,c).flip();a.writeVarint32(g.remaining());a.append(g);return d?a.flip():a};f.encodeAB=function(){try{return this.encode().toArrayBuffer()}catch(M){throw M.encoded&&(M.encoded=M.encoded.toArrayBuffer()),M;}};f.toArrayBuffer=f.encodeAB;f.encodeNB=function(){try{return this.encode().toBuffer()}catch(M){throw M.encoded&&(M.encoded=M.encoded.toBuffer()),M;}};
f.toBuffer=f.encodeNB;f.encode64=function(){try{return this.encode().toBase64()}catch(M){throw M.encoded&&(M.encoded=M.encoded.toBase64()),M;}};f.toBase64=f.encode64;f.encodeHex=function(){try{return this.encode().toHex()}catch(M){throw M.encoded&&(M.encoded=M.encoded.toHex()),M;}};f.toHex=f.encodeHex;f.toRaw=function(a,b){return c(this,!!a,!!b,this.$type)};f.encodeJSON=function(){return JSON.stringify(c(this,!0,!0,this.$type))};h.decode=function(a,c,d){"string"===typeof c&&(d=c);"string"===typeof a&&
(a=e.wrap(a,d?d:"base64"));a=e.isByteBuffer(a)?a:e.wrap(a);c=a.littleEndian;try{var g=b.decode(a.LE());a.LE(c);return g}catch(R){throw a.LE(c),R;}};h.decodeDelimited=function(a,c){"string"===typeof a&&(a=e.wrap(a,c?c:"base64"));a=e.isByteBuffer(a)?a:e.wrap(a);if(1>a.remaining())return null;c=a.offset;var d=a.readVarint32();if(a.remaining()<d)return a.offset=c,null;try{var g=b.decode(a.slice(a.offset,a.offset+d).LE());a.offset+=d;return g}catch(R){throw a.offset+=d,R;}};h.decode64=function(a){return h.decode(a,
"base64")};h.decodeHex=function(a){return h.decode(a,"hex")};h.decodeJSON=function(a){return new h(JSON.parse(a))};f.toString=function(){return b.toString()};Object.defineProperty&&(Object.defineProperty(h,"$options",{value:b.buildOpt()}),Object.defineProperty(f,"$options",{value:h.$options}),Object.defineProperty(h,"$type",{value:b}),Object.defineProperty(f,"$type",{value:b}));return h}(a,this);this._fields=[];this._fieldsById={};this._fieldsByName={};for(var c=0,d=this.children.length,h;c<d;c++)if(h=
this.children[c],h instanceof A||h instanceof u||h instanceof v){if(b.hasOwnProperty(h.name))throw Error("Illegal reflect child of "+this.toString(!0)+": "+h.toString(!0)+" cannot override static property '"+h.name+"'");b[h.name]=h.build()}else if(h instanceof u.Field)h.build(),this._fields.push(h),this._fieldsById[h.id]=h,this._fieldsByName[h.name]=h;else if(!(h instanceof u.OneOf||h instanceof g))throw Error("Illegal reflect child of "+this.toString(!0)+": "+this.children[c].toString(!0));return this.clazz=
b};t.encode=function(a,b,c){for(var d=null,e,g=0,h=this._fields.length,f;g<h;++g)e=this._fields[g],f=a[e.name],e.required&&null===f?null===d&&(d=e):e.encode(c?f:e.verifyValue(f),b,a);if(null!==d)throw a=Error("Missing at least one required field for "+this.toString(!0)+": "+d),a.encoded=b,a;return b};t.calculate=function(a){for(var b=0,c=0,d=this._fields.length,e,g;c<d;++c){e=this._fields[c];g=a[e.name];if(e.required&&null===g)throw Error("Missing at least one required field for "+this.toString(!0)+
": "+e);b+=e.calculate(g,a)}return b};t.decode=function(b,d,e){d="number"===typeof d?d:-1;for(var g=b.offset,h=new this.clazz,f,k,l;b.offset<g+d||-1===d&&0<b.remaining();){f=b.readVarint32();k=f&7;l=f>>>3;if(k===a.WIRE_TYPES.ENDGROUP){if(l!==e)throw Error("Illegal group end indicator for "+this.toString(!0)+": "+l+" ("+(e?e+" expected":"not a group")+")");break}if(f=this._fieldsById[l])f.repeated&&!f.options.packed?h[f.name].push(f.decode(k,b)):f.map?(k=f.decode(k,b),h[f.name].set(k[0],k[1])):(h[f.name]=
f.decode(k,b),f.oneof&&(k=h[f.oneof.name],null!==k&&k!==f.name&&(h[k]=null),h[f.oneof.name]=f.name));else switch(k){case a.WIRE_TYPES.VARINT:b.readVarint32();break;case a.WIRE_TYPES.BITS32:b.offset+=4;break;case a.WIRE_TYPES.BITS64:b.offset+=8;break;case a.WIRE_TYPES.LDELIM:f=b.readVarint32();b.offset+=f;break;case a.WIRE_TYPES.STARTGROUP:for(;c(l,b););break;default:throw Error("Illegal wire type for unknown field "+l+" in "+this.toString(!0)+"#decode: "+k);}}b=0;for(d=this._fields.length;b<d;++b)if(f=
this._fields[b],null===h[f.name])if("proto3"===this.syntax)h[f.name]=f.defaultValue;else{if(f.required)throw b=Error("Missing at least one required field for "+this.toString(!0)+": "+f.name),b.decoded=h,b;a.populateDefaults&&null!==f.defaultValue&&(h[f.name]=f.defaultValue)}return h};h.Message=u;var y=function(b,c,d,e,g,h,k,l,m,n){f.call(this,b,c,h);this.className="Message.Field";this.required="required"===d;this.repeated="repeated"===d;this.map="map"===d;this.keyType=e||null;this.type=g;this.resolvedType=
null;this.id=k;this.options=l||{};this.defaultValue=null;this.oneof=m||null;this.syntax=n||"proto2";this.originalName=this.name;this.keyElement=this.element=null;!this.builder.options.convertFieldsToCamelCase||this instanceof u.ExtensionField||(this.name=a.Util.toCamelCase(this.name))},t=y.prototype=Object.create(f.prototype);t.build=function(){this.element=new r(this.type,this.resolvedType,!1,this.syntax);this.map&&(this.keyElement=new r(this.keyType,void 0,!0,this.syntax));"proto3"!==this.syntax||
this.repeated||this.map?"undefined"!==typeof this.options["default"]&&(this.defaultValue=this.verifyValue(this.options["default"])):this.defaultValue=r.defaultFieldValue(this.type)};t.verifyValue=function(b,c){function d(a,b){throw Error("Illegal value for "+e.toString(!0)+" of type "+e.type.name+": "+a+" ("+b+")");}c=c||!1;var e=this;if(null===b)return this.required&&d(typeof b,"required"),"proto3"===this.syntax&&this.type!==a.TYPES.message&&d(typeof b,"proto3 field without field presence cannot be null"),
null;if(this.repeated&&!c){Array.isArray(b)||(b=[b]);var g=[];for(c=0;c<b.length;c++)g.push(this.element.verifyValue(b[c]));return g}if(this.map&&!c){if(b instanceof a.Map)return b;b instanceof Object||d(typeof b,"expected ProtoBuf.Map or raw object for map field");return new a.Map(this,b)}!this.repeated&&Array.isArray(b)&&d(typeof b,"no array expected");return this.element.verifyValue(b)};t.hasWirePresence=function(b,c){if("proto3"!==this.syntax)return null!==b;if(this.oneof&&c[this.oneof.name]===
this.name)return!0;switch(this.type){case a.TYPES.int32:case a.TYPES.sint32:case a.TYPES.sfixed32:case a.TYPES.uint32:case a.TYPES.fixed32:return 0!==b;case a.TYPES.int64:case a.TYPES.sint64:case a.TYPES.sfixed64:case a.TYPES.uint64:case a.TYPES.fixed64:return 0!==b.low||0!==b.high;case a.TYPES.bool:return b;case a.TYPES["float"]:case a.TYPES["double"]:return 0!==b;case a.TYPES.string:return 0<b.length;case a.TYPES.bytes:return 0<b.remaining();case a.TYPES["enum"]:return 0!==b;case a.TYPES.message:return null!==
b;default:return!0}};t.encode=function(b,c,d){if(null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+": "+this.type);if(null===b||this.repeated&&0==b.length)return c;try{if(this.repeated){var g;if(this.options.packed&&0<=a.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){c.writeVarint32(this.id<<3|a.WIRE_TYPES.LDELIM);c.ensureCapacity(c.offset+=1);var h=c.offset;for(g=0;g<b.length;g++)this.element.encodeValue(this.id,b[g],c);var f=c.offset-
h,k=e.calculateVarint32(f);if(1<k){var l=c.slice(h,c.offset),h=h+(k-1);c.offset=h;c.append(l)}c.writeVarint32(f,h-k)}else for(g=0;g<b.length;g++)c.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,b[g],c)}else this.map?b.forEach(function(b,d,g){g=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,d)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,b);c.writeVarint32(this.id<<3|a.WIRE_TYPES.LDELIM);c.writeVarint32(g);
c.writeVarint32(8|this.keyType.wireType);this.keyElement.encodeValue(1,d,c);c.writeVarint32(16|this.type.wireType);this.element.encodeValue(2,b,c)},this):this.hasWirePresence(b,d)&&(c.writeVarint32(this.id<<3|this.type.wireType),this.element.encodeValue(this.id,b,c))}catch(I){throw Error("Illegal value for "+this.toString(!0)+": "+b+" ("+I+")");}return c};t.calculate=function(b,c){b=this.verifyValue(b);if(null===this.type||"object"!==typeof this.type)throw Error("[INTERNAL] Unresolved type in "+this.toString(!0)+
": "+this.type);if(null===b||this.repeated&&0==b.length)return 0;var d=0;try{if(this.repeated){var g,h;if(this.options.packed&&0<=a.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)){d+=e.calculateVarint32(this.id<<3|a.WIRE_TYPES.LDELIM);for(g=h=0;g<b.length;g++)h+=this.element.calculateLength(this.id,b[g]);d+=e.calculateVarint32(h);d+=h}else for(g=0;g<b.length;g++)d+=e.calculateVarint32(this.id<<3|this.type.wireType),d+=this.element.calculateLength(this.id,b[g])}else this.map?b.forEach(function(b,
c,g){b=e.calculateVarint32(8|this.keyType.wireType)+this.keyElement.calculateLength(1,c)+e.calculateVarint32(16|this.type.wireType)+this.element.calculateLength(2,b);d+=e.calculateVarint32(this.id<<3|a.WIRE_TYPES.LDELIM);d+=e.calculateVarint32(b);d+=b},this):this.hasWirePresence(b,c)&&(d+=e.calculateVarint32(this.id<<3|this.type.wireType),d+=this.element.calculateLength(this.id,b))}catch(F){throw Error("Illegal value for "+this.toString(!0)+": "+b+" ("+F+")");}return d};t.decode=function(b,c,d){if(!(!this.map&&
b==this.type.wireType||!d&&this.repeated&&this.options.packed&&b==a.WIRE_TYPES.LDELIM||this.map&&b==a.WIRE_TYPES.LDELIM))throw Error("Illegal wire type for field "+this.toString(!0)+": "+b+" ("+this.type.wireType+" expected)");if(b==a.WIRE_TYPES.LDELIM&&this.repeated&&this.options.packed&&0<=a.PACKABLE_WIRE_TYPES.indexOf(this.type.wireType)&&!d){b=c.readVarint32();b=c.offset+b;for(d=[];c.offset<b;)d.push(this.decode(this.type.wireType,c,!0));return d}if(this.map){var e=r.defaultFieldValue(this.keyType);
d=r.defaultFieldValue(this.type);b=c.readVarint32();if(c.remaining()<b)throw Error("Illegal number of bytes for "+this.toString(!0)+": "+b+" required but got only "+c.remaining());var g=c.clone();g.limit=g.offset+b;for(c.offset+=b;0<g.remaining();)if(c=g.readVarint32(),b=c&7,c>>>=3,1===c)e=this.keyElement.decode(g,b,c);else if(2===c)d=this.element.decode(g,b,c);else throw Error("Unexpected tag in map field key/value submessage");return[e,d]}return this.element.decode(c,b,this.id)};h.Message.Field=
y;t=function(a,b,c,d,e,g,h){y.call(this,a,b,c,null,d,e,g,h)};t.prototype=Object.create(y.prototype);h.Message.ExtensionField=t;h.Message.OneOf=function(a,b,c){f.call(this,a,b,c);this.fields=[]};var A=function(a,b,c,d,e){l.call(this,a,b,c,d,e);this.className="Enum";this.object=null};A.getName=function(a,b){for(var c=Object.keys(a),d=0,e;d<c.length;++d)if(a[e=c[d]]===b)return e;return null};(A.prototype=Object.create(l.prototype)).build=function(b){if(this.object&&!b)return this.object;b=new a.Builder.Enum;
for(var c=this.getChildren(A.Value),d=0,e=c.length;d<e;++d)b[c[d].name]=c[d].id;Object.defineProperty&&Object.defineProperty(b,"$options",{value:this.buildOpt(),enumerable:!1});return this.object=b};h.Enum=A;t=function(a,b,c,d){f.call(this,a,b,c);this.className="Enum.Value";this.id=d};t.prototype=Object.create(f.prototype);h.Enum.Value=t;var g=function(a,b,c,d){f.call(this,a,b,c);this.field=d};g.prototype=Object.create(f.prototype);h.Extension=g;var v=function(a,b,c,d){l.call(this,a,b,c,d);this.className=
"Service";this.clazz=null};(v.prototype=Object.create(l.prototype)).build=function(b){return this.clazz&&!b?this.clazz:this.clazz=function(a,b){for(var c=function(b){a.Builder.Service.call(this);this.rpcImpl=b||function(a,b,c){setTimeout(c.bind(this,Error("Not implemented, see: https://github.com/dcodeIO/ProtoBuf.js/wiki/Services")),0)}},d=c.prototype=Object.create(a.Builder.Service.prototype),g=b.getChildren(a.Reflect.Service.RPCMethod),h=0;h<g.length;h++)(function(a){d[a.name]=function(c,d){try{try{c=
a.resolvedRequestType.clazz.decode(e.wrap(c))}catch(N){if(!(N instanceof TypeError))throw N;}if(null===c||"object"!==typeof c)throw Error("Illegal arguments");c instanceof a.resolvedRequestType.clazz||(c=new a.resolvedRequestType.clazz(c));this.rpcImpl(a.fqn(),c,function(c,e){if(c)d(c);else{null===e&&(e="");try{e=a.resolvedResponseType.clazz.decode(e)}catch(Y){}e&&e instanceof a.resolvedResponseType.clazz?d(null,e):d(Error("Illegal response type received in service method "+b.name+"#"+a.name))}})}catch(N){setTimeout(d.bind(this,
N),0)}};c[a.name]=function(b,d,e){(new c(b))[a.name](d,e)};Object.defineProperty&&(Object.defineProperty(c[a.name],"$options",{value:a.buildOpt()}),Object.defineProperty(d[a.name],"$options",{value:c[a.name].$options}))})(g[h]);Object.defineProperty&&(Object.defineProperty(c,"$options",{value:b.buildOpt()}),Object.defineProperty(d,"$options",{value:c.$options}),Object.defineProperty(c,"$type",{value:b}),Object.defineProperty(d,"$type",{value:b}));return c}(a,this)};h.Service=v;var z=function(a,b,
c,d){f.call(this,a,b,c);this.className="Service.Method";this.options=d||{}};(z.prototype=Object.create(f.prototype)).buildOpt=k.buildOpt;h.Service.Method=z;k=function(a,b,c,d,e,g,h,f){z.call(this,a,b,c,f);this.className="Service.RPCMethod";this.requestName=d;this.responseName=e;this.requestStream=g;this.responseStream=h;this.resolvedResponseType=this.resolvedRequestType=null};k.prototype=Object.create(z.prototype);h.Service.RPCMethod=k;return h}(b);b.Builder=function(b,c,e){function d(a){a.messages&&
a.messages.forEach(function(b){b.syntax=a.syntax;d(b)});a.enums&&a.enums.forEach(function(b){b.syntax=a.syntax})}var h=function(a){this.ptr=this.ns=new e.Namespace(this,null,"");this.resolved=!1;this.result=null;this.files={};this.importRoot=null;this.options=a||{}},f=h.prototype;h.isMessage=function(a){return"string"!==typeof a.name||"undefined"!==typeof a.values||"undefined"!==typeof a.rpc?!1:!0};h.isMessageField=function(a){return"string"!==typeof a.rule||"string"!==typeof a.name||"string"!==typeof a.type||
"undefined"===typeof a.id?!1:!0};h.isEnum=function(a){return"string"===typeof a.name&&"undefined"!==typeof a.values&&Array.isArray(a.values)&&0!==a.values.length?!0:!1};h.isService=function(a){return"string"===typeof a.name&&"object"===typeof a.rpc&&a.rpc?!0:!1};h.isExtend=function(a){return"string"!==typeof a.ref?!1:!0};f.reset=function(){this.ptr=this.ns;return this};f.define=function(a){if("string"!==typeof a||!c.TYPEREF.test(a))throw Error("illegal namespace: "+a);a.split(".").forEach(function(a){var b=
this.ptr.getChild(a);null===b&&this.ptr.addChild(b=new e.Namespace(this,this.ptr,a));this.ptr=b},this);return this};f.create=function(a){if(!a)return this;if(Array.isArray(a)){if(0===a.length)return this;a=a.slice()}else a=[a];for(var c=[a];0<c.length;){a=c.pop();if(!Array.isArray(a))throw Error("not a valid namespace: "+JSON.stringify(a));for(;0<a.length;){var d=a.shift();if(h.isMessage(d)){var f=new e.Message(this,this.ptr,d.name,d.options,d.isGroup,d.syntax),k={};d.oneofs&&Object.keys(d.oneofs).forEach(function(a){f.addChild(k[a]=
new e.Message.OneOf(this,f,a))},this);d.fields&&d.fields.forEach(function(a){if(null!==f.getChild(a.id|0))throw Error("duplicate or invalid field id in "+f.name+": "+a.id);if(a.options&&"object"!==typeof a.options)throw Error("illegal field options in "+f.name+"#"+a.name);var b=null;if("string"===typeof a.oneof&&!(b=k[a.oneof]))throw Error("illegal oneof in "+f.name+"#"+a.name+": "+a.oneof);a=new e.Message.Field(this,f,a.rule,a.keytype,a.type,a.name,a.id,a.options,b,d.syntax);b&&b.fields.push(a);
f.addChild(a)},this);var l=[];d.enums&&d.enums.forEach(function(a){l.push(a)});d.messages&&d.messages.forEach(function(a){l.push(a)});d.services&&d.services.forEach(function(a){l.push(a)});d.extensions&&(f.extensions="number"===typeof d.extensions[0]?[d.extensions]:d.extensions);this.ptr.addChild(f);if(0<l.length){c.push(a);a=l;l=null;this.ptr=f;f=null;continue}l=null}else if(h.isEnum(d))f=new e.Enum(this,this.ptr,d.name,d.options,d.syntax),d.values.forEach(function(a){f.addChild(new e.Enum.Value(this,
f,a.name,a.id))},this),this.ptr.addChild(f);else if(h.isService(d))f=new e.Service(this,this.ptr,d.name,d.options),Object.keys(d.rpc).forEach(function(a){var b=d.rpc[a];f.addChild(new e.Service.RPCMethod(this,f,a,b.request,b.response,!!b.request_stream,!!b.response_stream,b.options))},this),this.ptr.addChild(f);else if(h.isExtend(d))if(f=this.ptr.resolve(d.ref,!0))d.fields.forEach(function(a){if(null!==f.getChild(a.id|0))throw Error("duplicate extended field id in "+f.name+": "+a.id);if(f.extensions){var c=
!1;f.extensions.forEach(function(b){a.id>=b[0]&&a.id<=b[1]&&(c=!0)});if(!c)throw Error("illegal extended field id in "+f.name+": "+a.id+" (not within valid ranges)");}var d=a.name;this.options.convertFieldsToCamelCase&&(d=b.Util.toCamelCase(d));var d=new e.Message.ExtensionField(this,f,a.rule,a.type,this.ptr.fqn()+"."+d,a.id,a.options),g=new e.Extension(this,this.ptr,a.name,d);d.extension=g;this.ptr.addChild(g);f.addChild(d)},this);else{if(!/\.?google\.protobuf\./.test(d.ref))throw Error("extended message "+
d.ref+" is not defined");}else throw Error("not a valid definition: "+JSON.stringify(d));f=d=null}a=null;this.ptr=this.ptr.parent}this.resolved=!1;this.result=null;return this};f["import"]=function(c,e){var h="/";if("string"===typeof e){b.Util.IS_NODE&&(e=a("path").resolve(e));if(!0===this.files[e])return this.reset();this.files[e]=!0}else if("object"===typeof e){var f=e.root;b.Util.IS_NODE&&(f=a("path").resolve(f));if(0<=f.indexOf("\\")||0<=e.file.indexOf("\\"))h="\\";f=f+h+e.file;if(!0===this.files[f])return this.reset();
this.files[f]=!0}if(c.imports&&0<c.imports.length){var k=!1;if("object"===typeof e){if(this.importRoot=e.root,k=!0,f=this.importRoot,e=e.file,0<=f.indexOf("\\")||0<=e.indexOf("\\"))h="\\"}else"string"===typeof e?this.importRoot?f=this.importRoot:0<=e.indexOf("/")?(f=e.replace(/\/[^\/]*$/,""),""===f&&(f="/")):0<=e.indexOf("\\")?(f=e.replace(/\\[^\\]*$/,""),h="\\"):f=".":f=null;for(var l=0;l<c.imports.length;l++)if("string"===typeof c.imports[l]){if(!f)throw Error("cannot determine import root");var g=
c.imports[l];if("google/protobuf/descriptor.proto"!==g&&(g=f+h+g,!0!==this.files[g])){/\.proto$/i.test(g)&&!b.DotProto&&(g=g.replace(/\.proto$/,".json"));var m=b.Util.fetch(g);if(null===m)throw Error("failed to import '"+g+"' in '"+e+"': file not found");if(/\.json$/i.test(g))this["import"](JSON.parse(m+""),g);else this["import"](b.DotProto.Parser.parse(m),g)}}else if(e)if(/\.(\w+)$/.test(e))this["import"](c.imports[l],e.replace(/^(.+)\.(\w+)$/,function(a,b,c){return b+"_import"+l+"."+c}));else this["import"](c.imports[l],
e+"_import"+l);else this["import"](c.imports[l]);k&&(this.importRoot=null)}c["package"]&&this.define(c["package"]);c.syntax&&d(c);var n=this.ptr;c.options&&Object.keys(c.options).forEach(function(a){n.options[a]=c.options[a]});c.messages&&(this.create(c.messages),this.ptr=n);c.enums&&(this.create(c.enums),this.ptr=n);c.services&&(this.create(c.services),this.ptr=n);c["extends"]&&this.create(c["extends"]);return this.reset()};f.resolveAll=function(){var a;if(null==this.ptr||"object"===typeof this.ptr.type)return this;
if(this.ptr instanceof e.Namespace)this.ptr.children.forEach(function(a){this.ptr=a;this.resolveAll()},this);else if(this.ptr instanceof e.Message.Field){if(c.TYPE.test(this.ptr.type))this.ptr.type=b.TYPES[this.ptr.type];else{if(!c.TYPEREF.test(this.ptr.type))throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);a=(this.ptr instanceof e.Message.ExtensionField?this.ptr.extension.parent:this.ptr.parent).resolve(this.ptr.type,!0);if(!a)throw Error("unresolvable type reference in "+
this.ptr.toString(!0)+": "+this.ptr.type);this.ptr.resolvedType=a;if(a instanceof e.Enum){if(this.ptr.type=b.TYPES["enum"],"proto3"===this.ptr.syntax&&"proto3"!==a.syntax)throw Error("proto3 message cannot reference proto2 enum");}else if(a instanceof e.Message)this.ptr.type=a.isGroup?b.TYPES.group:b.TYPES.message;else throw Error("illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.type);}if(this.ptr.map){if(!c.TYPE.test(this.ptr.keyType))throw Error("illegal key type for map field in "+
this.ptr.toString(!0)+": "+this.ptr.keyType);this.ptr.keyType=b.TYPES[this.ptr.keyType]}}else if(this.ptr instanceof b.Reflect.Service.Method)if(this.ptr instanceof b.Reflect.Service.RPCMethod){a=this.ptr.parent.resolve(this.ptr.requestName,!0);if(!(a&&a instanceof b.Reflect.Message))throw Error("Illegal type reference in "+this.ptr.toString(!0)+": "+this.ptr.requestName);this.ptr.resolvedRequestType=a;a=this.ptr.parent.resolve(this.ptr.responseName,!0);if(!(a&&a instanceof b.Reflect.Message))throw Error("Illegal type reference in "+
this.ptr.toString(!0)+": "+this.ptr.responseName);this.ptr.resolvedResponseType=a}else throw Error("illegal service type in "+this.ptr.toString(!0));else if(!(this.ptr instanceof b.Reflect.Message.OneOf||this.ptr instanceof b.Reflect.Extension||this.ptr instanceof b.Reflect.Enum.Value))throw Error("illegal object in namespace: "+typeof this.ptr+": "+this.ptr);return this.reset()};f.build=function(a){this.reset();this.resolved||(this.resolveAll(),this.resolved=!0,this.result=null);null===this.result&&
(this.result=this.ns.build());if(!a)return this.result;a="string"===typeof a?a.split("."):a;for(var b=this.result,c=0;c<a.length;c++)if(b[a[c]])b=b[a[c]];else{b=null;break}return b};f.lookup=function(a,b){return a?this.ns.resolve(a,b):this.ns};f.toString=function(){return"Builder"};h.Message=function(){};h.Enum=function(){};h.Service=function(){};return h}(b,b.Lang,b.Reflect);b.Map=function(a,b){function c(a){var b=0;return{next:function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}}a=function(a,
c){if(!a.map)throw Error("field is not a map");this.field=a;this.keyElem=new b.Element(a.keyType,null,!0,a.syntax);this.valueElem=new b.Element(a.type,a.resolvedType,!1,a.syntax);this.map={};Object.defineProperty(this,"size",{get:function(){return Object.keys(this.map).length}});if(c){a=Object.keys(c);for(var d=0;d<a.length;d++){var e=this.keyElem.valueFromString(a[d]),h=this.valueElem.verifyValue(c[a[d]]);this.map[this.keyElem.valueToString(e)]={key:e,value:h}}}};var d=a.prototype;d.clear=function(){this.map=
{}};d["delete"]=function(a){a=this.keyElem.valueToString(this.keyElem.verifyValue(a));var b=a in this.map;delete this.map[a];return b};d.entries=function(){for(var a=[],b=Object.keys(this.map),d=0,e;d<b.length;d++)a.push([(e=this.map[b[d]]).key,e.value]);return c(a)};d.keys=function(){for(var a=[],b=Object.keys(this.map),d=0;d<b.length;d++)a.push(this.map[b[d]].key);return c(a)};d.values=function(){for(var a=[],b=Object.keys(this.map),d=0;d<b.length;d++)a.push(this.map[b[d]].value);return c(a)};d.forEach=
function(a,b){for(var c=Object.keys(this.map),d=0,e;d<c.length;d++)a.call(b,(e=this.map[c[d]]).value,e.key,this)};d.set=function(a,b){a=this.keyElem.verifyValue(a);b=this.valueElem.verifyValue(b);this.map[this.keyElem.valueToString(a)]={key:a,value:b};return this};d.get=function(a){a=this.keyElem.valueToString(this.keyElem.verifyValue(a));if(a in this.map)return this.map[a].value};d.has=function(a){return this.keyElem.valueToString(this.keyElem.verifyValue(a))in this.map};return a}(b,b.Reflect);b.loadProto=
function(a,c,e){if("string"===typeof c||c&&"string"===typeof c.file&&"string"===typeof c.root)e=c,c=void 0;return b.loadJson(b.DotProto.Parser.parse(a),c,e)};b.protoFromString=b.loadProto;b.loadProtoFile=function(a,c,e){c&&"object"===typeof c?(e=c,c=null):c&&"function"===typeof c||(c=null);if(c)return b.Util.fetch("string"===typeof a?a:a.root+"/"+a.file,function(d){if(null===d)c(Error("Failed to fetch file"));else try{c(null,b.loadProto(d,e,a))}catch(w){c(w)}});var d=b.Util.fetch("object"===typeof a?
a.root+"/"+a.file:a);return null===d?null:b.loadProto(d,e,a)};b.protoFromFile=b.loadProtoFile;b.newBuilder=function(a){a=a||{};"undefined"===typeof a.convertFieldsToCamelCase&&(a.convertFieldsToCamelCase=b.convertFieldsToCamelCase);"undefined"===typeof a.populateAccessors&&(a.populateAccessors=b.populateAccessors);return new b.Builder(a)};b.loadJson=function(a,c,e){if("string"===typeof c||c&&"string"===typeof c.file&&"string"===typeof c.root)e=c,c=null;c&&"object"===typeof c||(c=b.newBuilder());"string"===
typeof a&&(a=JSON.parse(a));c["import"](a,e);c.resolveAll();return c};b.loadJsonFile=function(a,c,e){c&&"object"===typeof c?(e=c,c=null):c&&"function"===typeof c||(c=null);if(c)return b.Util.fetch("string"===typeof a?a:a.root+"/"+a.file,function(d){if(null===d)c(Error("Failed to fetch file"));else try{c(null,b.loadJson(JSON.parse(d),e,a))}catch(w){c(w)}});var d=b.Util.fetch("object"===typeof a?a.root+"/"+a.file:a);return null===d?null:b.loadJson(JSON.parse(d),e,a)};return b})}).call(this,a("_process"))},
{_process:1028,bytebuffer:410,fs:1024,path:1024}],863:[function(a,l,f){l.exports=a("react/lib/ReactCSSTransitionGroup")},{"react/lib/ReactCSSTransitionGroup":892}],864:[function(a,l,f){l.exports=a("react/lib/ReactComponentWithPureRenderMixin")},{"react/lib/ReactComponentWithPureRenderMixin":900}],865:[function(a,l,f){l.exports=a("react/lib/ReactDOM")},{"react/lib/ReactDOM":903}],866:[function(a,l,f){var c=a("./ReactMount"),e=a("./findDOMNode"),h=a("fbjs/lib/focusNode");l.exports={Mixin:{componentDidMount:function(){this.props.autoFocus&&
h(e(this))}},focusDOMComponent:function(){h(c.getNode(this._rootNodeID))}}},{"./ReactMount":933,"./findDOMNode":979,"fbjs/lib/focusNode":740}],867:[function(a,l,f){function c(){var a=window.opera;return"object"===typeof a&&"function"===typeof a.version&&12>=parseInt(a.version(),10)}function e(a,b){switch(a){case g.topKeyUp:return-1!==p.indexOf(b.keyCode);case g.topKeyDown:return 229!==b.keyCode;case g.topKeyPress:case g.topMouseDown:case g.topBlur:return!0;default:return!1}}function h(a){a=a.detail;
return"object"===typeof a&&"data"in a?a.data:null}function b(a,b){switch(a){case g.topCompositionEnd:return h(b);case g.topKeyPress:if(32!==b.which)return null;z=!0;return A;case g.topTextInput:return a=b.data,a===A&&z?null:a;default:return null}}function k(a,b){if(B)return a===g.topCompositionEnd||e(a,b)?(a=B.getData(),m.release(B),B=null,a):null;switch(a){case g.topPaste:return null;case g.topKeyPress:return b.which&&(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey)?String.fromCharCode(b.which):
null;case g.topCompositionEnd:return y?null:b.data;default:return null}}f=a("./EventConstants");var d=a("./EventPropagators"),n=a("fbjs/lib/ExecutionEnvironment"),m=a("./FallbackCompositionState"),q=a("./SyntheticCompositionEvent"),w=a("./SyntheticInputEvent");a=a("fbjs/lib/keyOf");var p=[9,13,27,32],r=n.canUseDOM&&"CompositionEvent"in window,t=null;n.canUseDOM&&"documentMode"in document&&(t=document.documentMode);var u=n.canUseDOM&&"TextEvent"in window&&!t&&!c(),y=n.canUseDOM&&(!r||t&&8<t&&11>=t),
A=String.fromCharCode(32),g=f.topLevelTypes,v={beforeInput:{phasedRegistrationNames:{bubbled:a({onBeforeInput:null}),captured:a({onBeforeInputCapture:null})},dependencies:[g.topCompositionEnd,g.topKeyPress,g.topTextInput,g.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:a({onCompositionEnd:null}),captured:a({onCompositionEndCapture:null})},dependencies:[g.topBlur,g.topCompositionEnd,g.topKeyDown,g.topKeyPress,g.topKeyUp,g.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:a({onCompositionStart:null}),
captured:a({onCompositionStartCapture:null})},dependencies:[g.topBlur,g.topCompositionStart,g.topKeyDown,g.topKeyPress,g.topKeyUp,g.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:a({onCompositionUpdate:null}),captured:a({onCompositionUpdateCapture:null})},dependencies:[g.topBlur,g.topCompositionUpdate,g.topKeyDown,g.topKeyPress,g.topKeyUp,g.topMouseDown]}},z=!1,B=null;l.exports={eventTypes:v,extractEvents:function(a,c,f,l,n){var p;var t;if(r)b:{switch(a){case g.topCompositionStart:t=
v.compositionStart;break b;case g.topCompositionEnd:t=v.compositionEnd;break b;case g.topCompositionUpdate:t=v.compositionUpdate;break b}t=void 0}else B?e(a,l)&&(t=v.compositionEnd):a===g.topKeyDown&&229===l.keyCode&&(t=v.compositionStart);t?(y&&(B||t!==v.compositionStart?t===v.compositionEnd&&B&&(p=B.getData()):B=m.getPooled(c)),c=q.getPooled(t,f,l,n),p?c.data=p:(p=h(l),null!==p&&(c.data=p)),d.accumulateTwoPhaseDispatches(c),p=c):p=null;(a=u?b(a,l):k(a,l))?(f=w.getPooled(v.beforeInput,f,l,n),f.data=
a,d.accumulateTwoPhaseDispatches(f)):f=null;return[p,f]}}},{"./EventConstants":879,"./EventPropagators":883,"./FallbackCompositionState":884,"./SyntheticCompositionEvent":961,"./SyntheticInputEvent":965,"fbjs/lib/ExecutionEnvironment":732,"fbjs/lib/keyOf":750}],868:[function(a,l,f){var c={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,
order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},e=["Webkit","ms","Moz","O"];Object.keys(c).forEach(function(a){e.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);c[b]=c[a]})});l.exports={isUnitlessNumber:c,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,
backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}}},
{}],869:[function(a,l,f){(function(c){var e=a("./CSSProperty"),h=a("fbjs/lib/ExecutionEnvironment"),b=a("./ReactPerf"),f=a("fbjs/lib/camelizeStyleName"),d=a("./dangerousStyleValue"),n=a("fbjs/lib/hyphenateStyleName"),m=a("fbjs/lib/memoizeStringOnly"),q=a("fbjs/lib/warning"),w=m(function(a){return n(a)}),p=!1,r="cssFloat";if(h.canUseDOM){h=document.createElement("div").style;try{h.font=""}catch(v){p=!0}void 0===document.documentElement.style.cssFloat&&(r="styleFloat")}if("production"!==c.env.NODE_ENV)var t=
/^(?:webkit|moz|o)[A-Z]/,u=/;\s*$/,y={},A={},g=function(a,b){-1<a.indexOf("-")?y.hasOwnProperty(a)&&y[a]||(y[a]=!0,"production"!==c.env.NODE_ENV?q(!1,"Unsupported style property %s. Did you mean %s?",a,f(a)):void 0):t.test(a)?y.hasOwnProperty(a)&&y[a]||(y[a]=!0,"production"!==c.env.NODE_ENV?q(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",a,a.charAt(0).toUpperCase()+a.slice(1)):void 0):u.test(b)&&(A.hasOwnProperty(b)&&A[b]||(A[b]=!0,"production"!==c.env.NODE_ENV?q(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',
a,b.replace(u,"")):void 0))};h={createMarkupForStyles:function(a){var b="",e;for(e in a)if(a.hasOwnProperty(e)){var h=a[e];"production"!==c.env.NODE_ENV&&g(e,h);null!=h&&(b+=w(e)+":",b+=d(e,h)+";")}return b||null},setValueForStyles:function(a,b){a=a.style;for(var h in b)if(b.hasOwnProperty(h)){"production"!==c.env.NODE_ENV&&g(h,b[h]);var f=d(h,b[h]);"float"===h&&(h=r);if(f)a[h]=f;else if(f=p&&e.shorthandPropertyExpansions[h])for(var k in f)a[k]="";else a[h]=""}}};b.measureMethods(h,"CSSPropertyOperations",
{setValueForStyles:"setValueForStyles"});l.exports=h}).call(this,a("_process"))},{"./CSSProperty":868,"./ReactPerf":939,"./dangerousStyleValue":976,_process:1028,"fbjs/lib/ExecutionEnvironment":732,"fbjs/lib/camelizeStyleName":734,"fbjs/lib/hyphenateStyleName":745,"fbjs/lib/memoizeStringOnly":752,"fbjs/lib/warning":757}],870:[function(a,l,f){(function(c){function e(){this._contexts=this._callbacks=null}var h=a("./PooledClass"),b=a("./Object.assign"),f=a("fbjs/lib/invariant");b(e.prototype,{enqueue:function(a,
b){this._callbacks=this._callbacks||[];this._contexts=this._contexts||[];this._callbacks.push(a);this._contexts.push(b)},notifyAll:function(){var a=this._callbacks,b=this._contexts;if(a){a.length!==b.length?"production"!==c.env.NODE_ENV?f(!1,"Mismatched list of contexts in callback queue"):f(!1):void 0;this._contexts=this._callbacks=null;for(var e=0;e<a.length;e++)a[e].call(b[e]);a.length=0;b.length=0}},reset:function(){this._contexts=this._callbacks=null},destructor:function(){this.reset()}});h.addPoolingTo(e);
l.exports=e}).call(this,a("_process"))},{"./Object.assign":887,"./PooledClass":888,_process:1028,"fbjs/lib/invariant":746}],871:[function(a,l,f){function c(a){a=A.getPooled(G.change,D,a,g(a));t.accumulateTwoPhaseDispatches(a);y.batchedUpdates(e,a)}function e(a){r.enqueueEvents(a);r.processEventQueue(!1)}function h(){x&&(x.detachEvent("onchange",c),D=x=null)}function b(a,b,c){if(a===B.topChange)return c}function k(a,b,d){a===B.topFocus?(h(),x=b,D=d,x.attachEvent("onchange",c)):a===B.topBlur&&h()}function d(){x&&
(delete x.value,x.detachEvent("onpropertychange",n),F=E=D=x=null)}function n(a){if("value"===a.propertyName){var b=a.srcElement.value;b!==E&&(E=b,c(a))}}function m(a,b,c){if(a===B.topInput)return c}function q(a,b,c){a===B.topFocus?(d(),x=b,D=c,E=b.value,F=Object.getOwnPropertyDescriptor(b.constructor.prototype,"value"),Object.defineProperty(x,"value",I),x.attachEvent("onpropertychange",n)):a===B.topBlur&&d()}function w(a,b,c){if((a===B.topSelectionChange||a===B.topKeyUp||a===B.topKeyDown)&&x&&x.value!==
E)return E=x.value,D}function p(a,b,c){if(a===B.topClick)return c}f=a("./EventConstants");var r=a("./EventPluginHub"),t=a("./EventPropagators"),u=a("fbjs/lib/ExecutionEnvironment"),y=a("./ReactUpdates"),A=a("./SyntheticEvent"),g=a("./getEventTarget"),v=a("./isEventSupported"),z=a("./isTextInputElement");a=a("fbjs/lib/keyOf");var B=f.topLevelTypes,G={change:{phasedRegistrationNames:{bubbled:a({onChange:null}),captured:a({onChangeCapture:null})},dependencies:[B.topBlur,B.topChange,B.topClick,B.topFocus,
B.topInput,B.topKeyDown,B.topKeyUp,B.topSelectionChange]}},x=null,D=null,E=null,F=null,J=!1;u.canUseDOM&&(J=v("change")&&(!("documentMode"in document)||8<document.documentMode));var L=!1;u.canUseDOM&&(L=v("input")&&(!("documentMode"in document)||9<document.documentMode));var I={get:function(){return F.get.call(this)},set:function(a){E=""+a;F.set.call(this,a)}};l.exports={eventTypes:G,extractEvents:function(a,c,d,e,g){var h,f,l=c.nodeName&&c.nodeName.toLowerCase();"select"===l||"input"===l&&"file"===
c.type?J?h=b:f=k:z(c)?L?h=m:(h=w,f=q):!c.nodeName||"input"!==c.nodeName.toLowerCase()||"checkbox"!==c.type&&"radio"!==c.type||(h=p);if(h&&(h=h(a,c,d)))return a=A.getPooled(G.change,h,e,g),a.type="change",t.accumulateTwoPhaseDispatches(a),a;f&&f(a,c,d)}}},{"./EventConstants":879,"./EventPluginHub":880,"./EventPropagators":883,"./ReactUpdates":954,"./SyntheticEvent":963,"./getEventTarget":985,"./isEventSupported":990,"./isTextInputElement":991,"fbjs/lib/ExecutionEnvironment":732,"fbjs/lib/keyOf":750}],
872:[function(a,l,f){var c=0;l.exports={createReactRootIndex:function(){return c++}}},{}],873:[function(a,l,f){(function(c){var e=a("./Danger"),h=a("./ReactMultiChildUpdateTypes"),b=a("./ReactPerf"),f=a("./setInnerHTML"),d=a("./setTextContent"),n=a("fbjs/lib/invariant"),m={dangerouslyReplaceNodeWithMarkup:e.dangerouslyReplaceNodeWithMarkup,updateTextContent:d,processUpdates:function(a,b){for(var k,l=null,m=null,q=0;q<a.length;q++)if(k=a[q],k.type===h.MOVE_EXISTING||k.type===h.REMOVE_NODE){var w=k.fromIndex,
A=k.parentNode.childNodes[w];k=k.parentID;A?void 0:"production"!==c.env.NODE_ENV?n(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",w,k):n(!1);l=l||{};l[k]=l[k]||[];l[k][w]=A;m=m||[];m.push(A)}b=b.length&&"string"===
typeof b[0]?e.dangerouslyRenderMarkup(b):b;if(m)for(k=0;k<m.length;k++)m[k].parentNode.removeChild(m[k]);for(m=0;m<a.length;m++)switch(k=a[m],k.type){case h.INSERT_MARKUP:q=k.parentNode;w=b[k.markupIndex];k=k.toIndex;k=k>=q.childNodes.length?null:q.childNodes.item(k);q.insertBefore(w,k);break;case h.MOVE_EXISTING:q=k.parentNode;w=l[k.parentID][k.fromIndex];k=k.toIndex;k=k>=q.childNodes.length?null:q.childNodes.item(k);q.insertBefore(w,k);break;case h.SET_MARKUP:f(k.parentNode,k.content);break;case h.TEXT_CONTENT:d(k.parentNode,
k.content)}}};b.measureMethods(m,"DOMChildrenOperations",{updateTextContent:"updateTextContent"});l.exports=m}).call(this,a("_process"))},{"./Danger":876,"./ReactMultiChildUpdateTypes":935,"./ReactPerf":939,"./setInnerHTML":995,"./setTextContent":996,_process:1028,"fbjs/lib/invariant":746}],874:[function(a,l,f){(function(c){function e(a,b){return(a&b)===b}var h=a("fbjs/lib/invariant"),b={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,
HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(a){var f=b,k=a.Properties||{},l=a.DOMAttributeNamespaces||{},n=a.DOMAttributeNames||{},r=a.DOMPropertyNames||{},t=a.DOMMutationMethods||{};a.isCustomAttribute&&d._isCustomAttributeFunctions.push(a.isCustomAttribute);for(var u in k){d.properties.hasOwnProperty(u)?"production"!==c.env.NODE_ENV?h(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",
u):h(!1):void 0;a=u.toLowerCase();var y=k[u],y={attributeName:a,attributeNamespace:null,propertyName:u,mutationMethod:null,mustUseAttribute:e(y,f.MUST_USE_ATTRIBUTE),mustUseProperty:e(y,f.MUST_USE_PROPERTY),hasSideEffects:e(y,f.HAS_SIDE_EFFECTS),hasBooleanValue:e(y,f.HAS_BOOLEAN_VALUE),hasNumericValue:e(y,f.HAS_NUMERIC_VALUE),hasPositiveNumericValue:e(y,f.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:e(y,f.HAS_OVERLOADED_BOOLEAN_VALUE)};y.mustUseAttribute&&y.mustUseProperty?"production"!==
c.env.NODE_ENV?h(!1,"DOMProperty: Cannot require using both attribute and property: %s",u):h(!1):void 0;!y.mustUseProperty&&y.hasSideEffects?"production"!==c.env.NODE_ENV?h(!1,"DOMProperty: Properties that have side effects must use property: %s",u):h(!1):void 0;1>=y.hasBooleanValue+y.hasNumericValue+y.hasOverloadedBooleanValue?void 0:"production"!==c.env.NODE_ENV?h(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",u):h(!1);"production"!==
c.env.NODE_ENV&&(d.getPossibleStandardName[a]=u);n.hasOwnProperty(u)&&(a=n[u],y.attributeName=a,"production"!==c.env.NODE_ENV&&(d.getPossibleStandardName[a]=u));l.hasOwnProperty(u)&&(y.attributeNamespace=l[u]);r.hasOwnProperty(u)&&(y.propertyName=r[u]);t.hasOwnProperty(u)&&(y.mutationMethod=t[u]);d.properties[u]=y}}},f={},d={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:"production"!==c.env.NODE_ENV?{}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var b=
0;b<d._isCustomAttributeFunctions.length;b++)if((0,d._isCustomAttributeFunctions[b])(a))return!0;return!1},getDefaultValueForProperty:function(a,b){var c=f[a];c||(f[a]=c={});b in c||(a=document.createElement(a),c[b]=a[b]);return c[b]},injection:b};l.exports=d}).call(this,a("_process"))},{_process:1028,"fbjs/lib/invariant":746}],875:[function(a,l,f){(function(c){function e(a){if(w.hasOwnProperty(a))return!0;if(q.hasOwnProperty(a))return!1;if(m.test(a))return w[a]=!0;q[a]=!0;"production"!==c.env.NODE_ENV?
n(!1,"Invalid attribute name: `%s`",a):void 0;return!1}function h(a,b){return null==b||a.hasBooleanValue&&!b||a.hasNumericValue&&isNaN(b)||a.hasPositiveNumericValue&&1>b||a.hasOverloadedBooleanValue&&!1===b}var b=a("./DOMProperty"),f=a("./ReactPerf"),d=a("./quoteAttributeValueForBrowser"),n=a("fbjs/lib/warning"),m=/^[a-zA-Z_][\w\.\-]*$/,q={},w={};if("production"!==c.env.NODE_ENV)var p={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},r={},t=function(a){if(!(p.hasOwnProperty(a)&&p[a]||r.hasOwnProperty(a)&&
r[a])){r[a]=!0;var d=a.toLowerCase(),d=b.isCustomAttribute(d)?d:b.getPossibleStandardName.hasOwnProperty(d)?b.getPossibleStandardName[d]:null;"production"!==c.env.NODE_ENV?n(null==d,"Unknown DOM property %s. Did you mean %s?",a,d):void 0}};var u={createMarkupForID:function(a){return b.ID_ATTRIBUTE_NAME+"="+d(a)},setAttributeForID:function(a,c){a.setAttribute(b.ID_ATTRIBUTE_NAME,c)},createMarkupForProperty:function(a,e){var g=b.properties.hasOwnProperty(a)?b.properties[a]:null;if(g){if(h(g,e))return"";
a=g.attributeName;return g.hasBooleanValue||g.hasOverloadedBooleanValue&&!0===e?a+'=""':a+"="+d(e)}if(b.isCustomAttribute(a))return null==e?"":a+"="+d(e);"production"!==c.env.NODE_ENV&&t(a);return null},createMarkupForCustomAttribute:function(a,b){return e(a)&&null!=b?a+"="+d(b):""},setValueForProperty:function(a,d,e){var g=b.properties.hasOwnProperty(d)?b.properties[d]:null;if(g){var f=g.mutationMethod;f?f(a,e):h(g,e)?this.deleteValueForProperty(a,d):g.mustUseAttribute?(d=g.attributeName,(f=g.attributeNamespace)?
a.setAttributeNS(f,d,""+e):g.hasBooleanValue||g.hasOverloadedBooleanValue&&!0===e?a.setAttribute(d,""):a.setAttribute(d,""+e)):(d=g.propertyName,g.hasSideEffects&&""+a[d]===""+e||(a[d]=e))}else b.isCustomAttribute(d)?u.setValueForAttribute(a,d,e):"production"!==c.env.NODE_ENV&&t(d)},setValueForAttribute:function(a,b,c){e(b)&&(null==c?a.removeAttribute(b):a.setAttribute(b,""+c))},deleteValueForProperty:function(a,d){var e=b.properties.hasOwnProperty(d)?b.properties[d]:null;if(e)if(d=e.mutationMethod)d(a,
void 0);else if(e.mustUseAttribute)a.removeAttribute(e.attributeName);else{d=e.propertyName;var h=b.getDefaultValueForProperty(a.nodeName,d);e.hasSideEffects&&""+a[d]===h||(a[d]=h)}else b.isCustomAttribute(d)?a.removeAttribute(d):"production"!==c.env.NODE_ENV&&t(d)}};f.measureMethods(u,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"});l.exports=u}).call(this,a("_process"))},{"./DOMProperty":874,
"./ReactPerf":939,"./quoteAttributeValueForBrowser":993,_process:1028,"fbjs/lib/warning":757}],876:[function(a,l,f){(function(c){var e=a("fbjs/lib/ExecutionEnvironment"),h=a("fbjs/lib/createNodesFromMarkup"),b=a("fbjs/lib/emptyFunction"),f=a("fbjs/lib/getMarkupWrap"),d=a("fbjs/lib/invariant"),n=/^(<[^ \/>]+)/;l.exports={dangerouslyRenderMarkup:function(a){e.canUseDOM?void 0:"production"!==c.env.NODE_ENV?d(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering."):
d(!1);for(var k,l={},m=0;m<a.length;m++)a[m]?void 0:"production"!==c.env.NODE_ENV?d(!1,"dangerouslyRenderMarkup(...): Missing markup."):d(!1),k=a[m],k=k.substring(1,k.indexOf(" ")),k=f(k)?k:"*",l[k]=l[k]||[],l[k][m]=a[m];var m=[],r=0;for(k in l)if(l.hasOwnProperty(k)){var t=l[k],u;for(u in t)t.hasOwnProperty(u)&&(t[u]=t[u].replace(n,'$1 data-danger-index="'+u+'" '));for(var t=h(t.join(""),b),y=0;y<t.length;++y){var A=t[y];A.hasAttribute&&A.hasAttribute("data-danger-index")?(u=+A.getAttribute("data-danger-index"),
A.removeAttribute("data-danger-index"),m.hasOwnProperty(u)?"production"!==c.env.NODE_ENV?d(!1,"Danger: Assigning to an already-occupied result index."):d(!1):void 0,m[u]=A,r+=1):"production"!==c.env.NODE_ENV&&console.error("Danger: Discarding unexpected node:",A)}}r!==m.length?"production"!==c.env.NODE_ENV?d(!1,"Danger: Did not assign to every index of resultList."):d(!1):void 0;m.length!==a.length?"production"!==c.env.NODE_ENV?d(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",a.length,
m.length):d(!1):void 0;return m},dangerouslyReplaceNodeWithMarkup:function(a,f){e.canUseDOM?void 0:"production"!==c.env.NODE_ENV?d(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."):d(!1);f?void 0:"production"!==c.env.NODE_ENV?d(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):d(!1);"html"===a.tagName.toLowerCase()?
"production"!==c.env.NODE_ENV?d(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):d(!1):void 0;f="string"===typeof f?h(f,b)[0]:f;a.parentNode.replaceChild(f,a)}}}).call(this,a("_process"))},{_process:1028,"fbjs/lib/ExecutionEnvironment":732,"fbjs/lib/createNodesFromMarkup":737,"fbjs/lib/emptyFunction":738,
"fbjs/lib/getMarkupWrap":742,"fbjs/lib/invariant":746}],877:[function(a,l,f){a=a("fbjs/lib/keyOf");a=[a({ResponderEventPlugin:null}),a({SimpleEventPlugin:null}),a({TapEventPlugin:null}),a({EnterLeaveEventPlugin:null}),a({ChangeEventPlugin:null}),a({SelectEventPlugin:null}),a({BeforeInputEventPlugin:null})];l.exports=a},{"fbjs/lib/keyOf":750}],878:[function(a,l,f){f=a("./EventConstants");var c=a("./EventPropagators"),e=a("./SyntheticMouseEvent"),h=a("./ReactMount");a=a("fbjs/lib/keyOf");var b=f.topLevelTypes,
k=h.getFirstReactDOM,d={mouseEnter:{registrationName:a({onMouseEnter:null}),dependencies:[b.topMouseOut,b.topMouseOver]},mouseLeave:{registrationName:a({onMouseLeave:null}),dependencies:[b.topMouseOut,b.topMouseOver]}},n=[null,null];l.exports={eventTypes:d,extractEvents:function(a,f,l,p,r){if(a===b.topMouseOver&&(p.relatedTarget||p.fromElement)||a!==b.topMouseOut&&a!==b.topMouseOver)return null;var m;if(f.window===f)m=f;else{var q=f.ownerDocument;m=q?q.defaultView||q.parentWindow:window}var w=q="";
a===b.topMouseOut?(a=f,q=l,(f=k(p.relatedTarget||p.toElement))?w=h.getID(f):f=m,f=f||m):(a=m,w=l);if(a===f)return null;l=e.getPooled(d.mouseLeave,q,p,r);l.type="mouseleave";l.target=a;l.relatedTarget=f;p=e.getPooled(d.mouseEnter,w,p,r);p.type="mouseenter";p.target=f;p.relatedTarget=a;c.accumulateEnterLeaveDispatches(l,p,q,w);n[0]=l;n[1]=p;return n}}},{"./EventConstants":879,"./EventPropagators":883,"./ReactMount":933,"./SyntheticMouseEvent":967,"fbjs/lib/keyOf":750}],879:[function(a,l,f){a=a("fbjs/lib/keyMirror");
f=a({bubbled:null,captured:null});a={topLevelTypes:a({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,
topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,
topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),PropagationPhases:f};l.exports=a},{"fbjs/lib/keyMirror":749}],880:[function(a,l,f){(function(c){function e(){var a=y&&y.traverseTwoPhase&&y.traverseEnterLeave;"production"!==c.env.NODE_ENV?q(a,"InstanceHandle not injected before use!"):void 0}var h=a("./EventPluginRegistry"),b=a("./EventPluginUtils"),f=a("./ReactErrorUtils"),d=a("./accumulateInto"),n=a("./forEachAccumulated"),m=a("fbjs/lib/invariant"),
q=a("fbjs/lib/warning"),w={},p=null,r=function(a,c){a&&(b.executeDispatchesInOrder(a,c),a.isPersistent()||a.constructor.release(a))},t=function(a){return r(a,!0)},u=function(a){return r(a,!1)},y=null;l.exports={injection:{injectMount:b.injection.injectMount,injectInstanceHandle:function(a){y=a;"production"!==c.env.NODE_ENV&&e()},getInstanceHandle:function(){"production"!==c.env.NODE_ENV&&e();return y},injectEventPluginOrder:h.injectEventPluginOrder,injectEventPluginsByName:h.injectEventPluginsByName},
eventNameDispatchConfigs:h.eventNameDispatchConfigs,registrationNameModules:h.registrationNameModules,putListener:function(a,b,d){"function"!==typeof d?"production"!==c.env.NODE_ENV?m(!1,"Expected %s listener to be a function, instead got type %s",b,typeof d):m(!1):void 0;(w[b]||(w[b]={}))[a]=d;var e=h.registrationNameModules[b];e&&e.didPutListener&&e.didPutListener(a,b,d)},getListener:function(a,b){return(b=w[b])&&b[a]},deleteListener:function(a,b){var c=h.registrationNameModules[b];c&&c.willDeleteListener&&
c.willDeleteListener(a,b);(b=w[b])&&delete b[a]},deleteAllListeners:function(a){for(var b in w)if(w[b][a]){var c=h.registrationNameModules[b];c&&c.willDeleteListener&&c.willDeleteListener(a,b);delete w[b][a]}},extractEvents:function(a,b,c,e,f){for(var g,k=h.plugins,l=0;l<k.length;l++){var m=k[l];m&&(m=m.extractEvents(a,b,c,e,f))&&(g=d(g,m))}return g},enqueueEvents:function(a){a&&(p=d(p,a))},processEventQueue:function(a){var b=p;p=null;a?n(b,t):n(b,u);p?"production"!==c.env.NODE_ENV?m(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):
m(!1):void 0;f.rethrowCaughtError()},__purge:function(){w={}},__getListenerBank:function(){return w}}}).call(this,a("_process"))},{"./EventPluginRegistry":881,"./EventPluginUtils":882,"./ReactErrorUtils":924,"./accumulateInto":973,"./forEachAccumulated":981,_process:1028,"fbjs/lib/invariant":746,"fbjs/lib/warning":757}],881:[function(a,l,f){(function(c){function e(){if(f)for(var a in d){var e=d[a],k=f.indexOf(a);-1<k?void 0:"production"!==c.env.NODE_ENV?b(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",
a):b(!1);if(!n.plugins[k]){e.extractEvents?void 0:"production"!==c.env.NODE_ENV?b(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",a):b(!1);n.plugins[k]=e;var k=e.eventTypes,l;for(l in k){var r;var t=k[l];r=e;var u=l;n.eventNameDispatchConfigs.hasOwnProperty(u)?"production"!==c.env.NODE_ENV?b(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",u):b(!1):void 0;n.eventNameDispatchConfigs[u]=t;var y=t.phasedRegistrationNames;
if(y){t=void 0;for(t in y)y.hasOwnProperty(t)&&h(y[t],r,u);r=!0}else t.registrationName?(h(t.registrationName,r,u),r=!0):r=!1;r?void 0:"production"!==c.env.NODE_ENV?b(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",l,a):b(!1)}}}}function h(a,d,e){n.registrationNameModules[a]?"production"!==c.env.NODE_ENV?b(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",a):b(!1):void 0;n.registrationNameModules[a]=d;n.registrationNameDependencies[a]=
d.eventTypes[e].dependencies}var b=a("fbjs/lib/invariant"),f=null,d={},n={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(a){f?"production"!==c.env.NODE_ENV?b(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):b(!1):void 0;f=Array.prototype.slice.call(a);e()},injectEventPluginsByName:function(a){var h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var k=
a[f];d.hasOwnProperty(f)&&d[f]===k||(d[f]?"production"!==c.env.NODE_ENV?b(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",f):b(!1):void 0,d[f]=k,h=!0)}h&&e()},getPluginModuleForEvent:function(a){a=a.dispatchConfig;if(a.registrationName)return n.registrationNameModules[a.registrationName]||null;for(var b in a.phasedRegistrationNames)if(a.phasedRegistrationNames.hasOwnProperty(b)){var c=n.registrationNameModules[a.phasedRegistrationNames[b]];if(c)return c}return null},
_resetEventPlugins:function(){f=null;for(var a in d)d.hasOwnProperty(a)&&delete d[a];n.plugins.length=0;a=n.eventNameDispatchConfigs;for(var b in a)a.hasOwnProperty(b)&&delete a[b];b=n.registrationNameModules;for(var c in b)b.hasOwnProperty(c)&&delete b[c]}};l.exports=n}).call(this,a("_process"))},{_process:1028,"fbjs/lib/invariant":746}],882:[function(a,l,f){(function(c){function e(a,c,d,e){var h=a.type||"unknown-event";a.currentTarget=n.Mount.getNode(e);c?b.invokeGuardedCallbackWithCatch(h,d,a,
e):b.invokeGuardedCallback(h,d,a,e);a.currentTarget=null}var h=a("./EventConstants"),b=a("./ReactErrorUtils"),f=a("fbjs/lib/invariant"),d=a("fbjs/lib/warning"),n={Mount:null,injectMount:function(a){n.Mount=a;"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?d(a&&a.getNode&&a.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID."):void 0)}},m=h.topLevelTypes,q;"production"!==c.env.NODE_ENV&&(q=function(a){var b=a._dispatchListeners,e=a._dispatchIDs;
a=Array.isArray(b);var h=Array.isArray(e),e=h?e.length:e?1:0,b=a?b.length:b?1:0;"production"!==c.env.NODE_ENV?d(h===a&&e===b,"EventPluginUtils: Invalid `event`."):void 0});l.exports={isEndish:function(a){return a===m.topMouseUp||a===m.topTouchEnd||a===m.topTouchCancel},isMoveish:function(a){return a===m.topMouseMove||a===m.topTouchMove},isStartish:function(a){return a===m.topMouseDown||a===m.topTouchStart},executeDirectDispatch:function(a){"production"!==c.env.NODE_ENV&&q(a);var b=a._dispatchListeners,
d=a._dispatchIDs;Array.isArray(b)?"production"!==c.env.NODE_ENV?f(!1,"executeDirectDispatch(...): Invalid `event`."):f(!1):void 0;b=b?b(a,d):null;a._dispatchListeners=null;a._dispatchIDs=null;return b},executeDispatchesInOrder:function(a,b){var d=a._dispatchListeners,h=a._dispatchIDs;"production"!==c.env.NODE_ENV&&q(a);if(Array.isArray(d))for(var f=0;f<d.length&&!a.isPropagationStopped();f++)e(a,b,d[f],h[f]);else d&&e(a,b,d,h);a._dispatchListeners=null;a._dispatchIDs=null},executeDispatchesInOrderStopAtTrue:function(a){var b;
a:{b=a._dispatchListeners;var d=a._dispatchIDs;"production"!==c.env.NODE_ENV&&q(a);if(Array.isArray(b))for(var e=0;e<b.length&&!a.isPropagationStopped();e++){if(b[e](a,d[e])){b=d[e];break a}}else if(b&&b(a,d)){b=d;break a}b=null}a._dispatchIDs=null;a._dispatchListeners=null;return b},hasDispatches:function(a){return!!a._dispatchListeners},getNode:function(a){return n.Mount.getNode(a)},getID:function(a){return n.Mount.getID(a)},injection:n}}).call(this,a("_process"))},{"./EventConstants":879,"./ReactErrorUtils":924,
_process:1028,"fbjs/lib/invariant":746,"fbjs/lib/warning":757}],883:[function(a,l,f){(function(c){function e(a,b,d){"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?q(a,"Dispatching id must not be null"):void 0);if(b=t(a,d.dispatchConfig.phasedRegistrationNames[b?r.bubbled:r.captured]))d._dispatchListeners=w(d._dispatchListeners,b),d._dispatchIDs=w(d._dispatchIDs,a)}function h(a){a&&a.dispatchConfig.phasedRegistrationNames&&m.injection.getInstanceHandle().traverseTwoPhase(a.dispatchMarker,
e,a)}function b(a){a&&a.dispatchConfig.phasedRegistrationNames&&m.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(a.dispatchMarker,e,a)}function f(a,b,c){c&&c.dispatchConfig.registrationName&&(b=t(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=w(c._dispatchListeners,b),c._dispatchIDs=w(c._dispatchIDs,a))}function d(a){a&&a.dispatchConfig.registrationName&&f(a.dispatchMarker,null,a)}var n=a("./EventConstants"),m=a("./EventPluginHub"),q=a("fbjs/lib/warning"),w=a("./accumulateInto"),
p=a("./forEachAccumulated"),r=n.PropagationPhases,t=m.getListener;l.exports={accumulateTwoPhaseDispatches:function(a){p(a,h)},accumulateTwoPhaseDispatchesSkipTarget:function(a){p(a,b)},accumulateDirectDispatches:function(a){p(a,d)},accumulateEnterLeaveDispatches:function(a,b,c,d){m.injection.getInstanceHandle().traverseEnterLeave(c,d,f,a,b)}}}).call(this,a("_process"))},{"./EventConstants":879,"./EventPluginHub":880,"./accumulateInto":973,"./forEachAccumulated":981,_process:1028,"fbjs/lib/warning":757}],
884:[function(a,l,f){function c(a){this._root=a;this._startText=this.getText();this._fallbackText=null}f=a("./PooledClass");var e=a("./Object.assign"),h=a("./getTextContentAccessor");e(c.prototype,{destructor:function(){this._fallbackText=this._startText=this._root=null},getText:function(){return"value"in this._root?this._root.value:this._root[h()]},getData:function(){if(this._fallbackText)return this._fallbackText;var a,c=this._startText,d=c.length,e,h=this.getText(),f=h.length;for(a=0;a<d&&c[a]===
h[a];a++);var l=d-a;for(e=1;e<=l&&c[d-e]===h[f-e];e++);return this._fallbackText=h.slice(a,1<e?1-e:void 0)}});f.addPoolingTo(c);l.exports=c},{"./Object.assign":887,"./PooledClass":888,"./getTextContentAccessor":988}],885:[function(a,l,f){var c=a("./DOMProperty"),e=a("fbjs/lib/ExecutionEnvironment");a=c.injection.MUST_USE_ATTRIBUTE;f=c.injection.MUST_USE_PROPERTY;var h=c.injection.HAS_BOOLEAN_VALUE,b=c.injection.HAS_SIDE_EFFECTS,k=c.injection.HAS_NUMERIC_VALUE,d=c.injection.HAS_POSITIVE_NUMERIC_VALUE,
c=c.injection.HAS_OVERLOADED_BOOLEAN_VALUE,n;e.canUseDOM&&(n=(n=document.implementation)&&n.hasFeature&&n.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));n={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|h,allowTransparency:a,alt:null,async:h,autoComplete:null,autoPlay:h,capture:a|h,cellPadding:null,cellSpacing:null,charSet:a,challenge:a,checked:f|h,classID:a,
className:n?a:f,cols:a|d,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:f|h,coords:null,crossOrigin:null,data:null,dateTime:a,"default":h,defer:h,dir:null,disabled:a|h,download:c,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:h,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|h,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:f,inputMode:a,integrity:null,is:a,keyParams:a,keyType:a,kind:null,label:null,
lang:null,list:a,loop:f|h,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,minLength:a,multiple:f|h,muted:f|h,name:null,nonce:a,noValidate:h,open:h,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:f|h,rel:null,required:h,reversed:h,role:a,rows:a|d,rowSpan:null,sandbox:null,scope:null,scoped:h,scrolling:null,seamless:a|h,selected:f|h,shape:null,size:a|d,sizes:a,span:d,spellCheck:null,
src:null,srcDoc:f,srcLang:null,srcSet:a,start:k,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:f|b,width:a,wmode:a,wrap:null,about:a,datatype:a,inlist:a,prefix:a,property:a,resource:a,"typeof":a,vocab:a,autoCapitalize:a,autoCorrect:a,autoSave:null,color:null,itemProp:a,itemScope:a|h,itemType:a,itemID:a,itemRef:a,results:null,security:a,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},
DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};l.exports=n},{"./DOMProperty":874,"fbjs/lib/ExecutionEnvironment":732}],886:[function(a,l,f){(function(c){function e(a){null!=a.checkedLink&&null!=a.valueLink?"production"!==c.env.NODE_ENV?n(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):
n(!1):void 0}function h(a){e(a);null!=a.value||null!=a.onChange?"production"!==c.env.NODE_ENV?n(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):n(!1):void 0}function b(a){e(a);null!=a.checked||null!=a.onChange?"production"!==c.env.NODE_ENV?n(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):n(!1):
void 0}var f=a("./ReactPropTypes"),d=a("./ReactPropTypeLocations"),n=a("fbjs/lib/invariant"),m=a("fbjs/lib/warning"),q={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},w={value:function(a,b,c){return!a[b]||q[a.type]||a.onChange||a.readOnly||a.disabled?null:Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(a,
b,c){return!a[b]||a.onChange||a.readOnly||a.disabled?null:Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:f.func},p={};l.exports={checkPropTypes:function(a,b,e){for(var h in w){if(w.hasOwnProperty(h))var f=w[h](b,h,a,d.prop);if(f instanceof Error&&!(f.message in p)){p[f.message]=!0;var g;a:{if(e&&(g=e.getName())){g=
" Check the render method of `"+g+"`.";break a}g=""}"production"!==c.env.NODE_ENV?m(!1,"Failed form propType: %s%s",f.message,g):void 0}}},getValue:function(a){return a.valueLink?(h(a),a.valueLink.value):a.value},getChecked:function(a){return a.checkedLink?(b(a),a.checkedLink.value):a.checked},executeOnChange:function(a,c){if(a.valueLink)return h(a),a.valueLink.requestChange(c.target.value);if(a.checkedLink)return b(a),a.checkedLink.requestChange(c.target.checked);if(a.onChange)return a.onChange.call(void 0,
c)}}}).call(this,a("_process"))},{"./ReactPropTypeLocations":941,"./ReactPropTypes":942,_process:1028,"fbjs/lib/invariant":746,"fbjs/lib/warning":757}],887:[function(a,l,f){l.exports=function(a,e){if(null==a)throw new TypeError("Object.assign target cannot be null or undefined");for(var c=Object(a),b=Object.prototype.hasOwnProperty,f=1;f<arguments.length;f++){var d=arguments[f];if(null!=d){var d=Object(d),l;for(l in d)b.call(d,l)&&(c[l]=d[l])}}return c}},{}],888:[function(a,l,f){(function(c){var e=
a("fbjs/lib/invariant"),h=function(a){if(this.instancePool.length){var b=this.instancePool.pop();this.call(b,a);return b}return new this(a)},b=function(a){a instanceof this?void 0:"production"!==c.env.NODE_ENV?e(!1,"Trying to release an instance into a pool of a different type."):e(!1);a.destructor();this.instancePool.length<this.poolSize&&this.instancePool.push(a)};l.exports={addPoolingTo:function(a,c){a.instancePool=[];a.getPooled=c||h;a.poolSize||(a.poolSize=10);a.release=b;return a},oneArgumentPooler:h,
twoArgumentPooler:function(a,b){if(this.instancePool.length){var c=this.instancePool.pop();this.call(c,a,b);return c}return new this(a,b)},threeArgumentPooler:function(a,b,c){if(this.instancePool.length){var d=this.instancePool.pop();this.call(d,a,b,c);return d}return new this(a,b,c)},fourArgumentPooler:function(a,b,c,e){if(this.instancePool.length){var d=this.instancePool.pop();this.call(d,a,b,c,e);return d}return new this(a,b,c,e)},fiveArgumentPooler:function(a,b,c,e,h){if(this.instancePool.length){var d=
this.instancePool.pop();this.call(d,a,b,c,e,h);return d}return new this(a,b,c,e,h)}}}).call(this,a("_process"))},{_process:1028,"fbjs/lib/invariant":746}],889:[function(a,l,f){f=a("./ReactDOM");var c=a("./ReactDOMServer"),e=a("./ReactIsomorphic"),h=a("./Object.assign");a=a("./deprecated");var b={};h(b,e);h(b,{findDOMNode:a("findDOMNode","ReactDOM","react-dom",f,f.findDOMNode),render:a("render","ReactDOM","react-dom",f,f.render),unmountComponentAtNode:a("unmountComponentAtNode","ReactDOM","react-dom",
f,f.unmountComponentAtNode),renderToString:a("renderToString","ReactDOMServer","react-dom/server",c,c.renderToString),renderToStaticMarkup:a("renderToStaticMarkup","ReactDOMServer","react-dom/server",c,c.renderToStaticMarkup)});b.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f;b.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c;l.exports=b},{"./Object.assign":887,"./ReactDOM":903,"./ReactDOMServer":913,"./ReactIsomorphic":931,"./deprecated":977}],890:[function(a,l,f){(function(c){var e=a("./ReactInstanceMap"),
h=a("./findDOMNode"),b=a("fbjs/lib/warning");l.exports={getDOMNode:function(){"production"!==c.env.NODE_ENV?b(this.constructor._getDOMNodeDidWarn,"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",e.get(this).getName()||this.tagName||"Unknown"):void 0;this.constructor._getDOMNodeDidWarn=!0;return h(this)}}}).call(this,a("_process"))},{"./ReactInstanceMap":930,"./findDOMNode":979,_process:1028,"fbjs/lib/warning":757}],891:[function(a,l,f){var c=a("./EventConstants");
f=a("./EventPluginHub");var e=a("./EventPluginRegistry"),h=a("./ReactEventEmitterMixin"),b=a("./ReactPerf"),k=a("./ViewportMetrics"),d=a("./Object.assign"),n=a("./isEventSupported"),m={},q=!1,w=0,p={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",
topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",
topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",
topWaiting:"waiting",topWheel:"wheel"},r="_reactListenersID"+String(Math.random()).slice(2),t=d({},h,{ReactEventListener:null,injection:{injectReactEventListener:function(a){a.setHandleTopLevel(t.handleTopLevel);t.ReactEventListener=a}},setEnabled:function(a){t.ReactEventListener&&t.ReactEventListener.setEnabled(a)},isEnabled:function(){return!(!t.ReactEventListener||!t.ReactEventListener.isEnabled())},listenTo:function(a,b){var d;Object.prototype.hasOwnProperty.call(b,r)||(b[r]=w++,m[b[r]]={});d=
m[b[r]];a=e.registrationNameDependencies[a];for(var g=c.topLevelTypes,h=0;h<a.length;h++){var f=a[h];d.hasOwnProperty(f)&&d[f]||(f===g.topWheel?n("wheel")?t.ReactEventListener.trapBubbledEvent(g.topWheel,"wheel",b):n("mousewheel")?t.ReactEventListener.trapBubbledEvent(g.topWheel,"mousewheel",b):t.ReactEventListener.trapBubbledEvent(g.topWheel,"DOMMouseScroll",b):f===g.topScroll?n("scroll",!0)?t.ReactEventListener.trapCapturedEvent(g.topScroll,"scroll",b):t.ReactEventListener.trapBubbledEvent(g.topScroll,
"scroll",t.ReactEventListener.WINDOW_HANDLE):f===g.topFocus||f===g.topBlur?(n("focus",!0)?(t.ReactEventListener.trapCapturedEvent(g.topFocus,"focus",b),t.ReactEventListener.trapCapturedEvent(g.topBlur,"blur",b)):n("focusin")&&(t.ReactEventListener.trapBubbledEvent(g.topFocus,"focusin",b),t.ReactEventListener.trapBubbledEvent(g.topBlur,"focusout",b)),d[g.topBlur]=!0,d[g.topFocus]=!0):p.hasOwnProperty(f)&&t.ReactEventListener.trapBubbledEvent(f,p[f],b),d[f]=!0)}},trapBubbledEvent:function(a,b,c){return t.ReactEventListener.trapBubbledEvent(a,
b,c)},trapCapturedEvent:function(a,b,c){return t.ReactEventListener.trapCapturedEvent(a,b,c)},ensureScrollValueMonitoring:function(){q||(t.ReactEventListener.monitorScrollValue(k.refreshScrollValues),q=!0)},eventNameDispatchConfigs:f.eventNameDispatchConfigs,registrationNameModules:f.registrationNameModules,putListener:f.putListener,getListener:f.getListener,deleteListener:f.deleteListener,deleteAllListeners:f.deleteAllListeners});b.measureMethods(t,"ReactBrowserEventEmitter",{putListener:"putListener",
deleteListener:"deleteListener"});l.exports=t},{"./EventConstants":879,"./EventPluginHub":880,"./EventPluginRegistry":881,"./Object.assign":887,"./ReactEventEmitterMixin":925,"./ReactPerf":939,"./ViewportMetrics":972,"./isEventSupported":990}],892:[function(a,l,f){function c(a){var b="transition"+a+"Timeout",c="transition"+a;return function(a){if(a[c]){if(null==a[b])return Error(b+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");
if("number"!==typeof a[b])return Error(b+" must be a number (in milliseconds)")}}}var e=a("./React"),h=a("./Object.assign"),b=a("./ReactTransitionGroup"),k=a("./ReactCSSTransitionGroupChild");a=e.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:k.propTypes.name,transitionAppear:e.PropTypes.bool,transitionEnter:e.PropTypes.bool,transitionLeave:e.PropTypes.bool,transitionAppearTimeout:c("Appear"),transitionEnterTimeout:c("Enter"),transitionLeaveTimeout:c("Leave")},getDefaultProps:function(){return{transitionAppear:!1,
transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(a){return e.createElement(k,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},a)},render:function(){return e.createElement(b,h({},this.props,{childFactory:this._wrapChild}))}});l.exports=a},{"./Object.assign":887,"./React":889,
"./ReactCSSTransitionGroupChild":893,"./ReactTransitionGroup":952}],893:[function(a,l,f){f=a("./React");var c=a("./ReactDOM"),e=a("fbjs/lib/CSSCore"),h=a("./ReactTransitionEvents"),b=a("./onlyChild");a=f.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:f.PropTypes.oneOfType([f.PropTypes.string,f.PropTypes.shape({enter:f.PropTypes.string,leave:f.PropTypes.string,active:f.PropTypes.string}),f.PropTypes.shape({enter:f.PropTypes.string,enterActive:f.PropTypes.string,leave:f.PropTypes.string,
leaveActive:f.PropTypes.string,appear:f.PropTypes.string,appearActive:f.PropTypes.string})]).isRequired,appear:f.PropTypes.bool,enter:f.PropTypes.bool,leave:f.PropTypes.bool,appearTimeout:f.PropTypes.number,enterTimeout:f.PropTypes.number,leaveTimeout:f.PropTypes.number},transition:function(a,b,f){var d=c.findDOMNode(this);if(d){var k=this.props.name[a]||this.props.name+"-"+a,l=this.props.name[a+"Active"]||k+"-active",n=null,r=function(a){a&&a.target!==d||(clearTimeout(n),e.removeClass(d,k),e.removeClass(d,
l),h.removeEndEventListener(d,r),b&&b())};e.addClass(d,k);this.queueClass(l);f?(n=setTimeout(r,f),this.transitionTimeouts.push(n)):h.addEndEventListener(d,r)}else b&&b()},queueClass:function(a){this.classNameQueue.push(a);this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,17))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(e.addClass.bind(e,c.findDOMNode(this)));this.classNameQueue.length=0;this.timeout=null},componentWillMount:function(){this.classNameQueue=
[];this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout);this.transitionTimeouts.forEach(function(a){clearTimeout(a)})},componentWillAppear:function(a){this.props.appear?this.transition("appear",a,this.props.appearTimeout):a()},componentWillEnter:function(a){this.props.enter?this.transition("enter",a,this.props.enterTimeout):a()},componentWillLeave:function(a){this.props.leave?this.transition("leave",a,this.props.leaveTimeout):a()},render:function(){return b(this.props.children)}});
l.exports=a},{"./React":889,"./ReactDOM":903,"./ReactTransitionEvents":951,"./onlyChild":992,"fbjs/lib/CSSCore":730}],894:[function(a,l,f){(function(c){function e(a,d,e){var h=void 0===a[e];"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?n(h,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",e):void 0);null!=d&&h&&(a[e]=b(d,null))}var h=a("./ReactReconciler"),b=a("./instantiateReactComponent"),
f=a("./shouldUpdateReactComponent"),d=a("./traverseAllChildren"),n=a("fbjs/lib/warning");l.exports={instantiateChildren:function(a,b,c){if(null==a)return null;b={};d(a,e,b);return b},updateChildren:function(a,c,d,e){if(!c&&!a)return null;for(var k in c)if(c.hasOwnProperty(k)){var l=a&&a[k],m=l&&l._currentElement,n=c[k];null!=l&&f(m,n)?h.receiveComponent(l,n,d,e):(l&&h.unmountComponent(l,k),l=b(n,null));c[k]=l}for(k in a)!a.hasOwnProperty(k)||c&&c.hasOwnProperty(k)||h.unmountComponent(a[k]);return c},
unmountChildren:function(a){for(var b in a)a.hasOwnProperty(b)&&h.unmountComponent(a[b])}}}).call(this,a("_process"))},{"./ReactReconciler":944,"./instantiateReactComponent":989,"./shouldUpdateReactComponent":998,"./traverseAllChildren":999,_process:1028,"fbjs/lib/warning":757}],895:[function(a,l,f){function c(a,b){this.func=a;this.context=b;this.count=0}function e(a,b,c){a.func.call(a.context,b,a.count++)}function h(a,b,c,d){this.result=a;this.keyPrefix=b;this.func=c;this.context=d;this.count=0}
function b(a,b,c){var d=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?k(a,d,c,m.thatReturnsArgument):null!=a&&(n.isValidElement(a)&&(a=n.cloneAndReplaceKey(a,e+(a!==b?(""+(a.key||"")).replace(p,"//")+"/":"")+c)),d.push(a))}function k(a,c,d,e,f){var g="";null!=d&&(g=(""+d).replace(p,"//")+"/");c=h.getPooled(c,g,e,f);q(a,b,c);h.release(c)}function d(a,b,c){return null}f=a("./PooledClass");var n=a("./ReactElement"),m=a("fbjs/lib/emptyFunction"),q=a("./traverseAllChildren");
a=f.twoArgumentPooler;var w=f.fourArgumentPooler,p=/\/(?!\/)/g;c.prototype.destructor=function(){this.context=this.func=null;this.count=0};f.addPoolingTo(c,a);h.prototype.destructor=function(){this.context=this.func=this.keyPrefix=this.result=null;this.count=0};f.addPoolingTo(h,w);l.exports={forEach:function(a,b,d){if(null==a)return a;b=c.getPooled(b,d);q(a,e,b);c.release(b)},map:function(a,b,c){if(null==a)return a;var d=[];k(a,d,null,b,c);return d},mapIntoWithKeyPrefixInternal:k,count:function(a,
b){return q(a,d,null)},toArray:function(a){var b=[];k(a,b,null,m.thatReturnsArgument);return b}}},{"./PooledClass":888,"./ReactElement":920,"./traverseAllChildren":999,"fbjs/lib/emptyFunction":738}],896:[function(a,l,f){(function(c){function e(){D||(D=!0,"production"!==c.env.NODE_ENV?z(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."):void 0)}function h(a,b,d){for(var e in b)b.hasOwnProperty(e)&&("production"!==c.env.NODE_ENV?z("function"===typeof b[e],
"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",a.displayName||"ReactClass",r[d],e):void 0)}function b(a,b){if(b){"function"===typeof b?"production"!==c.env.NODE_ENV?A(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):A(!1):void 0;w.isValidElement(b)?"production"!==c.env.NODE_ENV?A(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):A(!1):void 0;var e=a.prototype;
b.hasOwnProperty(B)&&F.mixins(a,b.mixins);for(var g in b)if(b.hasOwnProperty(g)&&g!==B){var h=b[g],f=e,k=g,l=E.hasOwnProperty(k)?E[k]:null;J.hasOwnProperty(k)&&(l!==G.OVERRIDE_BASE?"production"!==c.env.NODE_ENV?A(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",k):A(!1):void 0);f.hasOwnProperty(k)&&(l!==G.DEFINE_MANY&&l!==G.DEFINE_MANY_MERGED?"production"!==c.env.NODE_ENV?A(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",
k):A(!1):void 0);if(F.hasOwnProperty(g))F[g](a,h);else f=E.hasOwnProperty(g),k=e.hasOwnProperty(g),"function"!==typeof h||f||k||!1===b.autobind?k?(k=E[g],!f||k!==G.DEFINE_MANY_MERGED&&k!==G.DEFINE_MANY?"production"!==c.env.NODE_ENV?A(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",k,g):A(!1):void 0,k===G.DEFINE_MANY_MERGED?e[g]=d(e[g],h):k===G.DEFINE_MANY&&(e[g]=n(e[g],h))):(e[g]=h,"production"!==c.env.NODE_ENV&&"function"===typeof h&&b.displayName&&(e[g].displayName=
b.displayName+"_"+g)):(e.__reactAutoBindMap||(e.__reactAutoBindMap={}),e.__reactAutoBindMap[g]=h,e[g]=h)}}}function f(a,b){a&&b&&"object"===typeof a&&"object"===typeof b?void 0:"production"!==c.env.NODE_ENV?A(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):A(!1);for(var d in b)b.hasOwnProperty(d)&&(void 0!==a[d]?"production"!==c.env.NODE_ENV?A(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",
d):A(!1):void 0,a[d]=b[d]);return a}function d(a,b){return function(){var c=a.apply(this,arguments),d=b.apply(this,arguments);if(null==c)return d;if(null==d)return c;var e={};f(e,c);f(e,d);return e}}function n(a,b){return function(){a.apply(this,arguments);b.apply(this,arguments)}}function m(a,b){var d=b.bind(a);if("production"!==c.env.NODE_ENV){d.__reactBoundContext=a;d.__reactBoundMethod=b;d.__reactBoundArguments=null;var e=a.constructor.displayName,g=d.bind;d.bind=function(h){for(var f=arguments.length,
k=Array(1<f?f-1:0),l=1;l<f;l++)k[l-1]=arguments[l];if(h!==a&&null!==h)"production"!==c.env.NODE_ENV?z(!1,"bind(): React component methods may only be bound to the component instance. See %s",e):void 0;else if(!k.length)return"production"!==c.env.NODE_ENV?z(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",e):void 0,d;f=g.apply(d,arguments);f.__reactBoundContext=a;f.__reactBoundMethod=
b;f.__reactBoundArguments=k;return f}}return d}var q=a("./ReactComponent"),w=a("./ReactElement"),p=a("./ReactPropTypeLocations"),r=a("./ReactPropTypeLocationNames"),t=a("./ReactNoopUpdateQueue"),u=a("./Object.assign"),y=a("fbjs/lib/emptyObject"),A=a("fbjs/lib/invariant"),g=a("fbjs/lib/keyMirror"),v=a("fbjs/lib/keyOf"),z=a("fbjs/lib/warning"),B=v({mixins:null}),G=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],D=!1,E={mixins:G.DEFINE_MANY,statics:G.DEFINE_MANY,
propTypes:G.DEFINE_MANY,contextTypes:G.DEFINE_MANY,childContextTypes:G.DEFINE_MANY,getDefaultProps:G.DEFINE_MANY_MERGED,getInitialState:G.DEFINE_MANY_MERGED,getChildContext:G.DEFINE_MANY_MERGED,render:G.DEFINE_ONCE,componentWillMount:G.DEFINE_MANY,componentDidMount:G.DEFINE_MANY,componentWillReceiveProps:G.DEFINE_MANY,shouldComponentUpdate:G.DEFINE_ONCE,componentWillUpdate:G.DEFINE_MANY,componentDidUpdate:G.DEFINE_MANY,componentWillUnmount:G.DEFINE_MANY,updateComponent:G.OVERRIDE_BASE},F={displayName:function(a,
b){a.displayName=b},mixins:function(a,c){if(c)for(var d=0;d<c.length;d++)b(a,c[d])},childContextTypes:function(a,b){"production"!==c.env.NODE_ENV&&h(a,b,p.childContext);a.childContextTypes=u({},a.childContextTypes,b)},contextTypes:function(a,b){"production"!==c.env.NODE_ENV&&h(a,b,p.context);a.contextTypes=u({},a.contextTypes,b)},getDefaultProps:function(a,b){a.getDefaultProps=a.getDefaultProps?d(a.getDefaultProps,b):b},propTypes:function(a,b){"production"!==c.env.NODE_ENV&&h(a,b,p.prop);a.propTypes=
u({},a.propTypes,b)},statics:function(a,b){if(b)for(var d in b){var e=b[d];b.hasOwnProperty(d)&&(d in F?"production"!==c.env.NODE_ENV?A(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',d):A(!1):void 0,d in a?"production"!==c.env.NODE_ENV?A(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",
d):A(!1):void 0,a[d]=e)}},autobind:function(){}},J={replaceState:function(a,b){this.updater.enqueueReplaceState(this,a);b&&this.updater.enqueueCallback(this,b)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(a,b){"production"!==c.env.NODE_ENV&&e();this.updater.enqueueSetProps(this,a);b&&this.updater.enqueueCallback(this,b)},replaceProps:function(a,b){"production"!==c.env.NODE_ENV&&e();this.updater.enqueueReplaceProps(this,a);b&&this.updater.enqueueCallback(this,b)}},L=
function(){};u(L.prototype,q.prototype,J);l.exports={createClass:function(a){var d=function(a,b,e){"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?z(this instanceof d,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"):void 0);if(this.__reactAutoBindMap)for(var g in this.__reactAutoBindMap)this.__reactAutoBindMap.hasOwnProperty(g)&&(this[g]=m(this,this.__reactAutoBindMap[g]));this.props=a;this.context=b;this.refs=y;
this.updater=e||t;this.state=null;a=this.getInitialState?this.getInitialState():null;"production"!==c.env.NODE_ENV&&"undefined"===typeof a&&this.getInitialState._isMockFunction&&(a=null);"object"!==typeof a||Array.isArray(a)?"production"!==c.env.NODE_ENV?A(!1,"%s.getInitialState(): must return an object or null",d.displayName||"ReactCompositeComponent"):A(!1):void 0;this.state=a};d.prototype=new L;d.prototype.constructor=d;x.forEach(b.bind(null,d));b(d,a);d.getDefaultProps&&(d.defaultProps=d.getDefaultProps());
"production"!==c.env.NODE_ENV&&(d.getDefaultProps&&(d.getDefaultProps.isReactClassApproved={}),d.prototype.getInitialState&&(d.prototype.getInitialState.isReactClassApproved={}));d.prototype.render?void 0:"production"!==c.env.NODE_ENV?A(!1,"createClass(...): Class specification must implement a `render` method."):A(!1);"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?z(!d.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",
a.displayName||"A component"):void 0,"production"!==c.env.NODE_ENV?z(!d.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",a.displayName||"A component"):void 0);for(var e in E)d.prototype[e]||(d.prototype[e]=null);return d},injection:{injectMixin:function(a){x.push(a)}}}}).call(this,a("_process"))},{"./Object.assign":887,"./ReactComponent":897,"./ReactElement":920,"./ReactNoopUpdateQueue":937,"./ReactPropTypeLocationNames":940,
"./ReactPropTypeLocations":941,_process:1028,"fbjs/lib/emptyObject":739,"fbjs/lib/invariant":746,"fbjs/lib/keyMirror":749,"fbjs/lib/keyOf":750,"fbjs/lib/warning":757}],897:[function(a,l,f){(function(c){function e(a,b,c){this.props=a;this.context=b;this.refs=f;this.updater=c||h}var h=a("./ReactNoopUpdateQueue"),b=a("./canDefineProperty"),f=a("fbjs/lib/emptyObject"),d=a("fbjs/lib/invariant"),n=a("fbjs/lib/warning");e.prototype.isReactComponent={};e.prototype.setState=function(a,b){"object"!==typeof a&&
"function"!==typeof a&&null!=a?"production"!==c.env.NODE_ENV?d(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):d(!1):void 0;"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?n(null!=a,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."):void 0);this.updater.enqueueSetState(this,a);b&&this.updater.enqueueCallback(this,b)};e.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this);
a&&this.updater.enqueueCallback(this,a)};if("production"!==c.env.NODE_ENV){var m={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],
setProps:["setProps","Instead, call render again at the top level."]},q=function(a,d){b&&Object.defineProperty(e.prototype,a,{get:function(){"production"!==c.env.NODE_ENV?n(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",d[0],d[1]):void 0}})},w;for(w in m)m.hasOwnProperty(w)&&q(w,m[w])}l.exports=e}).call(this,a("_process"))},{"./ReactNoopUpdateQueue":937,"./canDefineProperty":975,_process:1028,"fbjs/lib/emptyObject":739,"fbjs/lib/invariant":746,"fbjs/lib/warning":757}],898:[function(a,
l,f){f=a("./ReactDOMIDOperations");var c=a("./ReactMount");l.exports={processChildrenUpdates:f.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:f.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(a){c.purgeID(a)}}},{"./ReactDOMIDOperations":908,"./ReactMount":933}],899:[function(a,l,f){(function(c){var e=a("fbjs/lib/invariant"),h=!1,b={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(a){h?
"production"!==c.env.NODE_ENV?e(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):e(!1):void 0;b.unmountIDFromEnvironment=a.unmountIDFromEnvironment;b.replaceNodeWithMarkupByID=a.replaceNodeWithMarkupByID;b.processChildrenUpdates=a.processChildrenUpdates;h=!0}}};l.exports=b}).call(this,a("_process"))},{_process:1028,"fbjs/lib/invariant":746}],900:[function(a,l,f){var c=a("./shallowCompare");l.exports={shouldComponentUpdate:function(a,h){return c(this,a,h)}}},{"./shallowCompare":997}],
901:[function(a,l,f){(function(c){function e(a){}var h=a("./ReactComponentEnvironment"),b=a("./ReactCurrentOwner"),f=a("./ReactElement"),d=a("./ReactInstanceMap"),n=a("./ReactPerf"),m=a("./ReactPropTypeLocations"),q=a("./ReactPropTypeLocationNames"),w=a("./ReactReconciler"),p=a("./ReactUpdateQueue"),r=a("./Object.assign"),t=a("fbjs/lib/emptyObject"),u=a("fbjs/lib/invariant"),y=a("./shouldUpdateReactComponent"),A=a("fbjs/lib/warning");e.prototype.render=function(){return(0,d.get(this)._currentElement.type)(this.props,
this.context,this.updater)};var g=1,v={construct:function(a){this._currentElement=a;this._pendingStateQueue=this._pendingElement=this._instance=this._rootNodeID=null;this._pendingForceUpdate=this._pendingReplaceState=!1;this._context=this._renderedComponent=null;this._mountOrder=0;this._pendingCallbacks=this._topLevelWrapper=null},mountComponent:function(a,h,k){this._context=k;this._mountOrder=g++;this._rootNodeID=a;var l=this._processProps(this._currentElement.props),m=this._processContext(k),n=
this._currentElement.type,q,r,v="prototype"in n;if(v)if("production"!==c.env.NODE_ENV){b.current=this;try{q=new n(l,m,p)}finally{b.current=null}}else q=new n(l,m,p);if(!v||null===q||!1===q||f.isValidElement(q))r=q,q=new e(n);"production"!==c.env.NODE_ENV&&(null==q.render?"production"!==c.env.NODE_ENV?A(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",
n.displayName||n.name||"Component"):void 0:"production"!==c.env.NODE_ENV?A(n.prototype&&n.prototype.isReactComponent||!v||!(q instanceof n),"%s(...): React component classes must extend React.Component.",n.displayName||n.name||"Component"):void 0);q.props=l;q.context=m;q.refs=t;q.updater=p;this._instance=q;d.set(q,this);"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?A(!q.getInitialState||q.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",
this.getName()||"a component"):void 0,"production"!==c.env.NODE_ENV?A(!q.getDefaultProps||q.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"):void 0,"production"!==c.env.NODE_ENV?A(!q.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",
this.getName()||"a component"):void 0,"production"!==c.env.NODE_ENV?A(!q.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"):void 0,"production"!==c.env.NODE_ENV?A("function"!==typeof q.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||
"A component"):void 0,"production"!==c.env.NODE_ENV?A("function"!==typeof q.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"):void 0,"production"!==c.env.NODE_ENV?A("function"!==typeof q.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component"):void 0);l=q.state;void 0===l&&(q.state=
l=null);"object"!==typeof l||Array.isArray(l)?"production"!==c.env.NODE_ENV?u(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):u(!1):void 0;this._pendingStateQueue=null;this._pendingForceUpdate=this._pendingReplaceState=!1;q.componentWillMount&&(q.componentWillMount(),this._pendingStateQueue&&(q.state=this._processPendingState(q.props,q.context)));void 0===r&&(r=this._renderValidatedComponent());this._renderedComponent=this._instantiateReactComponent(r);a=
w.mountComponent(this._renderedComponent,a,h,this._processChildContext(k));q.componentDidMount&&h.getReactMountReady().enqueue(q.componentDidMount,q);return a},unmountComponent:function(){var a=this._instance;a.componentWillUnmount&&a.componentWillUnmount();w.unmountComponent(this._renderedComponent);this._pendingStateQueue=this._instance=this._renderedComponent=null;this._pendingForceUpdate=this._pendingReplaceState=!1;this._topLevelWrapper=this._rootNodeID=this._context=this._pendingElement=this._pendingCallbacks=
null;d.remove(a)},_maskContext:function(a){var b,c=this._currentElement.type.contextTypes;if(!c)return t;b={};for(var d in c)b[d]=a[d];return b},_processContext:function(a){a=this._maskContext(a);if("production"!==c.env.NODE_ENV){var b=this._currentElement.type;b.contextTypes&&this._checkPropTypes(b.contextTypes,a,m.context)}return a},_processChildContext:function(a){var b=this._currentElement.type,d=this._instance;if(d=d.getChildContext&&d.getChildContext()){"object"!==typeof b.childContextTypes?
"production"!==c.env.NODE_ENV?u(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):u(!1):void 0;"production"!==c.env.NODE_ENV&&this._checkPropTypes(b.childContextTypes,d,m.childContext);for(var e in d)e in b.childContextTypes?void 0:"production"!==c.env.NODE_ENV?u(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",e):u(!1);return r({},a,d)}return a},
_processProps:function(a){if("production"!==c.env.NODE_ENV){var b=this._currentElement.type;b.propTypes&&this._checkPropTypes(b.propTypes,a,m.prop)}return a},_checkPropTypes:function(a,b,d){var e=this.getName(),g;for(g in a)if(a.hasOwnProperty(g)){var h;try{"function"!==typeof a[g]?"production"!==c.env.NODE_ENV?u(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",e||"React class",q[d],g):u(!1):void 0,h=a[g](b,g,e,d)}catch(J){h=J}if(h instanceof Error){var f;a:{if(f=
this._currentElement._owner||null)if(f=f.getName()){f=" Check the render method of `"+f+"`.";break a}f=""}d===m.prop?"production"!==c.env.NODE_ENV?A(!1,"Failed Composite propType: %s%s",h.message,f):void 0:"production"!==c.env.NODE_ENV?A(!1,"Failed Context Types: %s%s",h.message,f):void 0}}},receiveComponent:function(a,b,c){var d=this._currentElement,e=this._context;this._pendingElement=null;this.updateComponent(b,d,a,e,c)},performUpdateIfNecessary:function(a){null!=this._pendingElement&&w.receiveComponent(this,
this._pendingElement||this._currentElement,a,this._context);(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(a,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(a,b,d,e,g){e=this._instance;var h=this._context===g?e.context:this._processContext(g);b===d?b=d.props:(b=this._processProps(d.props),e.componentWillReceiveProps&&e.componentWillReceiveProps(b,h));var f=this._processPendingState(b,h),k=this._pendingForceUpdate||
!e.shouldComponentUpdate||e.shouldComponentUpdate(b,f,h);"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?A("undefined"!==typeof k,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):void 0);k?(this._pendingForceUpdate=!1,this._performComponentUpdate(d,b,f,h,a,g)):(this._currentElement=d,this._context=g,e.props=b,e.state=f,e.context=h)},_processPendingState:function(a,b){var c=this._instance,
d=this._pendingStateQueue,e=this._pendingReplaceState;this._pendingReplaceState=!1;this._pendingStateQueue=null;if(!d)return c.state;if(e&&1===d.length)return d[0];for(var g=r({},e?d[0]:c.state),e=e?1:0;e<d.length;e++){var h=d[e];r(g,"function"===typeof h?h.call(c,g,a,b):h)}return g},_performComponentUpdate:function(a,b,c,d,e,g){var h=this._instance,f=!!h.componentDidUpdate,k,l,m;f&&(k=h.props,l=h.state,m=h.context);h.componentWillUpdate&&h.componentWillUpdate(b,c,d);this._currentElement=a;this._context=
g;h.props=b;h.state=c;h.context=d;this._updateRenderedComponent(e,g);f&&e.getReactMountReady().enqueue(h.componentDidUpdate.bind(h,k,l,m),h)},_updateRenderedComponent:function(a,b){var c=this._renderedComponent,d=c._currentElement,e=this._renderValidatedComponent();if(y(d,e))w.receiveComponent(c,e,a,this._processChildContext(b));else{var g=this._rootNodeID,d=c._rootNodeID;w.unmountComponent(c);this._renderedComponent=this._instantiateReactComponent(e);a=w.mountComponent(this._renderedComponent,g,
a,this._processChildContext(b));this._replaceNodeWithMarkupByID(d,a)}},_replaceNodeWithMarkupByID:function(a,b){h.replaceNodeWithMarkupByID(a,b)},_renderValidatedComponentWithoutOwnerOrContext:function(){var a=this._instance,b=a.render();"production"!==c.env.NODE_ENV&&"undefined"===typeof b&&a.render._isMockFunction&&(b=null);return b},_renderValidatedComponent:function(){var a;b.current=this;try{a=this._renderValidatedComponentWithoutOwnerOrContext()}finally{b.current=null}null===a||!1===a||f.isValidElement(a)?
void 0:"production"!==c.env.NODE_ENV?u(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):u(!1);return a},attachRef:function(a,b){var d=this.getPublicInstance();null==d?"production"!==c.env.NODE_ENV?u(!1,"Stateless function components cannot have refs."):u(!1):void 0;var e=b.getPublicInstance();"production"!==c.env.NODE_ENV&&(b=b&&b.getName?b.getName():"a component","production"!==
c.env.NODE_ENV?A(null!=e,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',a,b,this.getName()):void 0);(d.refs===t?d.refs={}:d.refs)[a]=e},detachRef:function(a){delete this.getPublicInstance().refs[a]},getName:function(){var a=this._currentElement.type,b=this._instance&&this._instance.constructor;return a.displayName||b&&b.displayName||a.name||b&&b.name||null},getPublicInstance:function(){var a=this._instance;return a instanceof
e?null:a},_instantiateReactComponent:null};n.measureMethods(v,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});l.exports={Mixin:v}}).call(this,a("_process"))},{"./Object.assign":887,"./ReactComponentEnvironment":899,"./ReactCurrentOwner":902,"./ReactElement":920,"./ReactInstanceMap":930,"./ReactPerf":939,"./ReactPropTypeLocationNames":940,"./ReactPropTypeLocations":941,"./ReactReconciler":944,"./ReactUpdateQueue":953,
"./shouldUpdateReactComponent":998,_process:1028,"fbjs/lib/emptyObject":739,"fbjs/lib/invariant":746,"fbjs/lib/warning":757}],902:[function(a,l,f){l.exports={current:null}},{}],903:[function(a,l,f){f=a("_process");var c=a("./ReactCurrentOwner"),e=a("./ReactDOMTextComponent"),h=a("./ReactDefaultInjection"),b=a("./ReactInstanceHandles"),k=a("./ReactMount"),d=a("./ReactPerf"),n=a("./ReactReconciler"),m=a("./ReactUpdates"),q=a("./ReactVersion"),w=a("./findDOMNode"),p=a("./renderSubtreeIntoContainer"),
r=a("fbjs/lib/warning");h.inject();h=d.measure("React","render",k.render);m={findDOMNode:w,render:h,unmountComponentAtNode:k.unmountComponentAtNode,version:q,unstable_batchedUpdates:m.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:c,InstanceHandles:b,Mount:k,Reconciler:n,TextComponent:e});if("production"!==f.env.NODE_ENV&&a("fbjs/lib/ExecutionEnvironment").canUseDOM&&
window.top===window.self)for("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(-1<navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("Edge")||-1<navigator.userAgent.indexOf("Firefox"))&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools"),a=document.documentMode&&8>document.documentMode,"production"!==f.env.NODE_ENV?r(!a,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />'):
void 0,a=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],f=0;f<a.length;f++)if(!a[f]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}l.exports=m},{"./ReactCurrentOwner":902,"./ReactDOMTextComponent":914,"./ReactDefaultInjection":917,"./ReactInstanceHandles":929,
"./ReactMount":933,"./ReactPerf":939,"./ReactReconciler":944,"./ReactUpdates":954,"./ReactVersion":955,"./findDOMNode":979,"./renderSubtreeIntoContainer":994,_process:1028,"fbjs/lib/ExecutionEnvironment":732,"fbjs/lib/warning":757}],904:[function(a,l,f){var c={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0};l.exports={getNativeProps:function(a,h,b){if(!h.disabled)return h;
a={};for(var e in h)h.hasOwnProperty(e)&&!c[e]&&(a[e]=h[e]);return a}}},{}],905:[function(a,l,f){(function(c){function e(a){return a&&(a=a._currentElement._owner||null)&&(a=a.getName())?" This DOM node was rendered by `"+a+"`.":""}function h(){if("production"!==c.env.NODE_ENV){var a=this._reactInternalComponent;"production"!==c.env.NODE_ENV?ga(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",e(a)):void 0}return this}function b(){var a=this._reactInternalComponent;
"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?ga(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",e(a)):void 0);return!!a}function f(){if("production"!==c.env.NODE_ENV){var a=this._reactInternalComponent;"production"!==c.env.NODE_ENV?ga(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",e(a)):void 0}}function d(a,b){var d=this._reactInternalComponent;"production"!==c.env.NODE_ENV&&("production"!==
c.env.NODE_ENV?ga(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",e(d)):void 0);d&&(M.enqueueSetPropsInternal(d,a),b&&M.enqueueCallbackInternal(d,b))}function n(a,b){var d=this._reactInternalComponent;"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?ga(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",e(d)):void 0);d&&(M.enqueueReplacePropsInternal(d,
a),b&&M.enqueueCallbackInternal(d,b))}function m(a){if("object"===typeof a){if(Array.isArray(a))return"["+a.map(m).join(", ")+"]";var b=[],c;for(c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=/^[a-z$_][\w$_]*$/i.test(c)?c:JSON.stringify(c);b.push(d+": "+m(a[c]))}return"{"+b.join(", ")+"}"}return"string"===typeof a?JSON.stringify(a):"function"===typeof a?"[function object]":String(a)}function q(a,b){b&&("production"!==c.env.NODE_ENV&&za[a._tag]&&("production"!==c.env.NODE_ENV?ga(null==
b.children&&null==b.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",a._tag,a._currentElement._owner?" Check the render method of "+a._currentElement._owner.getName()+".":""):void 0),null!=b.dangerouslySetInnerHTML&&(null!=b.children?"production"!==c.env.NODE_ENV?R(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):R(!1):void 0,"object"===typeof b.dangerouslySetInnerHTML&&pa in b.dangerouslySetInnerHTML?
void 0:"production"!==c.env.NODE_ENV?R(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):R(!1)),"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?ga(null==b.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."):void 0,"production"!==c.env.NODE_ENV?ga(!b.contentEditable||null==b.children,
"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."):void 0),null!=b.style&&"object"!==typeof b.style?"production"!==c.env.NODE_ENV?R(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",e(a)):R(!1):void 0)}function w(a,b,d,e){"production"!==
c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?ga("onScroll"!==b||ba("scroll",!0),"This browser doesn't support the `onScroll` event"):void 0);var g=N.findReactContainerForID(a);g&&ra(b,1===g.nodeType?g.ownerDocument:g);e.getReactMountReady().enqueue(p,{id:a,registrationName:b,listener:d})}function p(){D.putListener(this.id,this.registrationName,this.listener)}function r(){this._rootNodeID?void 0:"production"!==c.env.NODE_ENV?R(!1,"Must be mounted to trap events"):R(!1);var a=N.getNode(this._rootNodeID);
a?void 0:"production"!==c.env.NODE_ENV?R(!1,"trapBubbledEvent(...): Requires node to be rendered."):R(!1);switch(this._tag){case "iframe":this._wrapperState.listeners=[D.trapBubbledEvent(x.topLevelTypes.topLoad,"load",a)];break;case "video":case "audio":this._wrapperState.listeners=[];for(var b in Z)Z.hasOwnProperty(b)&&this._wrapperState.listeners.push(D.trapBubbledEvent(x.topLevelTypes[b],Z[b],a));break;case "img":this._wrapperState.listeners=[D.trapBubbledEvent(x.topLevelTypes.topError,"error",
a),D.trapBubbledEvent(x.topLevelTypes.topLoad,"load",a)];break;case "form":this._wrapperState.listeners=[D.trapBubbledEvent(x.topLevelTypes.topReset,"reset",a),D.trapBubbledEvent(x.topLevelTypes.topSubmit,"submit",a)]}}function t(){J.mountReadyWrapper(this)}function u(){I.postUpdateWrapper(this)}function y(a,b){a=O({},a);a[aa.ancestorInfoContextKey]=aa.updatedAncestorInfo(a[aa.ancestorInfoContextKey],b._tag,b);return a}function A(a,b){return 0<=a.indexOf("-")||null!=b.is}function g(a){Ta.call(Ra,
a)||(Ma.test(a)?void 0:"production"!==c.env.NODE_ENV?R(!1,"Invalid tag: %s",a):R(!1),Ra[a]=!0);this._tag=a.toLowerCase();this._nodeWithLegacyProperties=this._topLevelWrapper=this._wrapperState=this._rootNodeID=this._previousStyleCopy=this._previousStyle=this._renderedChildren=null;"production"!==c.env.NODE_ENV&&(this._processedContextDev=this._unprocessedContextDev=null)}var v=a("./AutoFocusUtils"),z=a("./CSSPropertyOperations"),B=a("./DOMProperty"),G=a("./DOMPropertyOperations"),x=a("./EventConstants"),
D=a("./ReactBrowserEventEmitter"),E=a("./ReactComponentBrowserEnvironment"),F=a("./ReactDOMButton"),J=a("./ReactDOMInput"),L=a("./ReactDOMOption"),I=a("./ReactDOMSelect"),K=a("./ReactDOMTextarea"),N=a("./ReactMount"),P=a("./ReactMultiChild"),Y=a("./ReactPerf"),M=a("./ReactUpdateQueue"),O=a("./Object.assign"),Q=a("./canDefineProperty"),U=a("./escapeTextContentForBrowser"),R=a("fbjs/lib/invariant"),ba=a("./isEventSupported"),T=a("fbjs/lib/keyOf"),ca=a("./setInnerHTML"),ha=a("./setTextContent"),X=a("fbjs/lib/shallowEqual"),
aa=a("./validateDOMNesting"),ga=a("fbjs/lib/warning"),ka=D.deleteListener,ra=D.listenTo,Ea=D.registrationNameModules,ua={string:!0,number:!0},$a=T({children:null}),La=T({style:null}),pa=T({__html:null}),fa;"production"!==c.env.NODE_ENV&&(fa={props:{enumerable:!1,get:function(){var a=this._reactInternalComponent;"production"!==c.env.NODE_ENV?ga(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",
e(a)):void 0;return a._currentElement.props}}});var ea={},Z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",
topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},C={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},va={listing:!0,pre:!0,textarea:!0},za=O({menuitem:!0},C),Ma=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Ra={},Ta={}.hasOwnProperty;g.displayName="ReactDOMComponent";g.Mixin={construct:function(a){this._currentElement=a},mountComponent:function(a,b,d){this._rootNodeID=a;a=this._currentElement.props;switch(this._tag){case "iframe":case "img":case "form":case "video":case "audio":this._wrapperState=
{listeners:null};b.getReactMountReady().enqueue(r,this);break;case "button":a=F.getNativeProps(this,a,d);break;case "input":J.mountWrapper(this,a,d);a=J.getNativeProps(this,a,d);break;case "option":L.mountWrapper(this,a,d);a=L.getNativeProps(this,a,d);break;case "select":I.mountWrapper(this,a,d);a=I.getNativeProps(this,a,d);d=I.processChildContext(this,a,d);break;case "textarea":K.mountWrapper(this,a,d),a=K.getNativeProps(this,a,d)}q(this,a);"production"!==c.env.NODE_ENV&&d[aa.ancestorInfoContextKey]&&
aa(this._tag,this,d[aa.ancestorInfoContextKey]);"production"!==c.env.NODE_ENV&&(this._unprocessedContextDev=d,d=this._processedContextDev=y(d,this));if(b.useCreateElement){var e=d[N.ownerDocumentContextKey].createElement(this._currentElement.type);G.setAttributeForID(e,this._rootNodeID);N.getID(e);this._updateDOMProperties({},a,b,e);this._createInitialChildren(b,a,d,e);d=e}else e=this._createOpenTagMarkupAndPutListeners(b,a),d=this._createContentMarkup(b,a,d),d=!d&&C[this._tag]?e+"/>":e+">"+d+"</"+
this._currentElement.type+">";switch(this._tag){case "input":b.getReactMountReady().enqueue(t,this);case "button":case "select":case "textarea":a.autoFocus&&b.getReactMountReady().enqueue(v.focusDOMComponent,this)}return d},_createOpenTagMarkupAndPutListeners:function(a,b){var d="<"+this._currentElement.type,e;for(e in b)if(b.hasOwnProperty(e)){var g=b[e];if(null!=g)if(Ea.hasOwnProperty(e))g&&w(this._rootNodeID,e,g,a);else{e===La&&(g&&("production"!==c.env.NODE_ENV&&(this._previousStyle=g),g=this._previousStyleCopy=
O({},b.style)),g=z.createMarkupForStyles(g));var h=null;null!=this._tag&&A(this._tag,b)?e!==$a&&(h=G.createMarkupForCustomAttribute(e,g)):h=G.createMarkupForProperty(e,g);h&&(d+=" "+h)}}if(a.renderToStaticMarkup)return d;a=G.createMarkupForID(this._rootNodeID);return d+" "+a},_createContentMarkup:function(a,b,c){var d="",e=b.dangerouslySetInnerHTML;null!=e?null!=e.__html&&(d=e.__html):(e=ua[typeof b.children]?b.children:null,b=null!=e?null:b.children,null!=e?d=U(e):null!=b&&(d=this.mountChildren(b,
a,c).join("")));return va[this._tag]&&"\n"===d.charAt(0)?"\n"+d:d},_createInitialChildren:function(a,b,c,d){var e=b.dangerouslySetInnerHTML;if(null!=e)null!=e.__html&&ca(d,e.__html);else if(e=ua[typeof b.children]?b.children:null,b=null!=e?null:b.children,null!=e)ha(d,e);else if(null!=b)for(a=this.mountChildren(b,a,c),c=0;c<a.length;c++)d.appendChild(a[c])},receiveComponent:function(a,b,c){var d=this._currentElement;this._currentElement=a;this.updateComponent(b,d,a,c)},updateComponent:function(a,
b,d,e){b=b.props;d=this._currentElement.props;switch(this._tag){case "button":b=F.getNativeProps(this,b);d=F.getNativeProps(this,d);break;case "input":J.updateWrapper(this);b=J.getNativeProps(this,b);d=J.getNativeProps(this,d);break;case "option":b=L.getNativeProps(this,b);d=L.getNativeProps(this,d);break;case "select":b=I.getNativeProps(this,b);d=I.getNativeProps(this,d);break;case "textarea":K.updateWrapper(this),b=K.getNativeProps(this,b),d=K.getNativeProps(this,d)}"production"!==c.env.NODE_ENV&&
(this._unprocessedContextDev!==e&&(this._unprocessedContextDev=e,this._processedContextDev=y(e,this)),e=this._processedContextDev);q(this,d);this._updateDOMProperties(b,d,a,null);this._updateDOMChildren(b,d,a,e);!Q&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=d);"select"===this._tag&&a.getReactMountReady().enqueue(u,this)},_updateDOMProperties:function(a,b,d,e){var g,h,f;for(g in a)if(!b.hasOwnProperty(g)&&a.hasOwnProperty(g))if(g===La){var k=this._previousStyleCopy;for(h in k)k.hasOwnProperty(h)&&
(f=f||{},f[h]="");this._previousStyleCopy=null}else if(Ea.hasOwnProperty(g))a[g]&&ka(this._rootNodeID,g);else if(B.properties[g]||B.isCustomAttribute(g))e||(e=N.getNode(this._rootNodeID)),G.deleteValueForProperty(e,g);for(g in b){var k=b[g],l=g===La?this._previousStyleCopy:a[g];if(b.hasOwnProperty(g)&&k!==l)if(g===La){if(k){if("production"!==c.env.NODE_ENV){var n=this._previousStyleCopy,q=this._previousStyle;if(null!=n&&null!=q&&!X(n,q)){var p=this._tag,t=this._currentElement._owner,r=void 0;t&&(r=
t.getName());var u=r+"|"+p;ea.hasOwnProperty(u)||(ea[u]=!0,"production"!==c.env.NODE_ENV?ga(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",p,t?"of `"+r+"`":"using <"+p+">",m(n),m(q)):void 0)}this._previousStyle=k}k=this._previousStyleCopy=O({},k)}else this._previousStyleCopy=null;if(l){for(h in l)!l.hasOwnProperty(h)||k&&k.hasOwnProperty(h)||(f=f||{},
f[h]="");for(h in k)k.hasOwnProperty(h)&&l[h]!==k[h]&&(f=f||{},f[h]=k[h])}else f=k}else if(Ea.hasOwnProperty(g))k?w(this._rootNodeID,g,k,d):l&&ka(this._rootNodeID,g);else if(A(this._tag,b))e||(e=N.getNode(this._rootNodeID)),g===$a&&(k=null),G.setValueForAttribute(e,g,k);else if(B.properties[g]||B.isCustomAttribute(g))e||(e=N.getNode(this._rootNodeID)),null!=k?G.setValueForProperty(e,g,k):G.deleteValueForProperty(e,g)}f&&(e||(e=N.getNode(this._rootNodeID)),z.setValueForStyles(e,f))},_updateDOMChildren:function(a,
b,c,d){var e=ua[typeof a.children]?a.children:null,g=ua[typeof b.children]?b.children:null,h=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,f=b.dangerouslySetInnerHTML&&b.dangerouslySetInnerHTML.__html;b=null!=g?null:b.children;var k=null!=e||null!=h,l=null!=g||null!=f;null!=(null!=e?null:a.children)&&null==b?this.updateChildren(null,c,d):k&&!l&&this.updateTextContent("");null!=g?e!==g&&this.updateTextContent(""+g):null!=f?h!==f&&this.updateMarkup(""+f):null!=b&&this.updateChildren(b,
c,d)},unmountComponent:function(){switch(this._tag){case "iframe":case "img":case "form":case "video":case "audio":var a=this._wrapperState.listeners;if(a)for(var b=0;b<a.length;b++)a[b].remove();break;case "input":J.unmountWrapper(this);break;case "html":case "head":case "body":"production"!==c.env.NODE_ENV?R(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",
this._tag):R(!1)}this.unmountChildren();D.deleteAllListeners(this._rootNodeID);E.unmountIDFromEnvironment(this._rootNodeID);this._wrapperState=this._rootNodeID=null;this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties=this._nodeWithLegacyProperties._reactInternalComponent=null)},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var a=N.getNode(this._rootNodeID);a._reactInternalComponent=this;a.getDOMNode=h;a.isMounted=b;a.setState=f;a.replaceState=f;a.forceUpdate=f;a.setProps=
d;a.replaceProps=n;"production"!==c.env.NODE_ENV?Q?Object.defineProperties(a,fa):a.props=this._currentElement.props:a.props=this._currentElement.props;this._nodeWithLegacyProperties=a}return this._nodeWithLegacyProperties}};Y.measureMethods(g,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"});O(g.prototype,g.Mixin,P.Mixin);l.exports=g}).call(this,a("_process"))},{"./AutoFocusUtils":866,"./CSSPropertyOperations":869,"./DOMProperty":874,"./DOMPropertyOperations":875,
"./EventConstants":879,"./Object.assign":887,"./ReactBrowserEventEmitter":891,"./ReactComponentBrowserEnvironment":898,"./ReactDOMButton":904,"./ReactDOMInput":909,"./ReactDOMOption":910,"./ReactDOMSelect":911,"./ReactDOMTextarea":915,"./ReactMount":933,"./ReactMultiChild":934,"./ReactPerf":939,"./ReactUpdateQueue":953,"./canDefineProperty":975,"./escapeTextContentForBrowser":978,"./isEventSupported":990,"./setInnerHTML":995,"./setTextContent":996,"./validateDOMNesting":1E3,_process:1028,"fbjs/lib/invariant":746,
"fbjs/lib/keyOf":750,"fbjs/lib/shallowEqual":755,"fbjs/lib/warning":757}],906:[function(a,l,f){(function(c){var e=a("./ReactElement"),h=a("./ReactElementValidator"),b=a("fbjs/lib/mapObject")({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",
dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",
meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",
time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},function(a){return"production"!==c.env.NODE_ENV?h.createFactory(a):e.createFactory(a)});l.exports=b}).call(this,
a("_process"))},{"./ReactElement":920,"./ReactElementValidator":921,_process:1028,"fbjs/lib/mapObject":751}],907:[function(a,l,f){l.exports={useCreateElement:!1}},{}],908:[function(a,l,f){(function(c){var e=a("./DOMChildrenOperations"),h=a("./DOMPropertyOperations"),b=a("./ReactMount"),f=a("./ReactPerf"),d=a("fbjs/lib/invariant"),n={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},m={updatePropertyByID:function(a,
e,f){a=b.getNode(a);n.hasOwnProperty(e)?"production"!==c.env.NODE_ENV?d(!1,"updatePropertyByID(...): %s",n[e]):d(!1):void 0;null!=f?h.setValueForProperty(a,e,f):h.deleteValueForProperty(a,e)},dangerouslyReplaceNodeWithMarkupByID:function(a,c){a=b.getNode(a);e.dangerouslyReplaceNodeWithMarkup(a,c)},dangerouslyProcessChildrenUpdates:function(a,c){for(var d=0;d<a.length;d++)a[d].parentNode=b.getNode(a[d].parentID);e.processUpdates(a,c)}};f.measureMethods(m,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",
dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"});l.exports=m}).call(this,a("_process"))},{"./DOMChildrenOperations":873,"./DOMPropertyOperations":875,"./ReactMount":933,"./ReactPerf":939,_process:1028,"fbjs/lib/invariant":746}],909:[function(a,l,f){(function(c){function e(){this._rootNodeID&&p.updateWrapper(this)}function h(a){var b=this._currentElement.props;a=f.executeOnChange(b,a);n.asap(e,this);var h=b.name;if("radio"===b.type&&null!=h){for(var k=b=d.getNode(this._rootNodeID);k.parentNode;)k=
k.parentNode;h=k.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]');for(k=0;k<h.length;k++){var l=h[k];if(l!==b&&l.form===b.form){(l=d.getID(l))?void 0:"production"!==c.env.NODE_ENV?q(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):q(!1);var g=w[l];g?void 0:"production"!==c.env.NODE_ENV?q(!1,"ReactDOMInput: Unknown radio button ID %s.",l):q(!1);n.asap(e,g)}}}return a}var b=a("./ReactDOMIDOperations"),f=a("./LinkedValueUtils"),
d=a("./ReactMount"),n=a("./ReactUpdates"),m=a("./Object.assign"),q=a("fbjs/lib/invariant"),w={},p={getNativeProps:function(a,b,c){c=f.getValue(b);var d=f.getChecked(b);return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:null!=c?c:a._wrapperState.initialValue,checked:null!=d?d:a._wrapperState.initialChecked,onChange:a._wrapperState.onChange})},mountWrapper:function(a,b){"production"!==c.env.NODE_ENV&&f.checkPropTypes("input",b,a._currentElement._owner);var d=b.defaultValue;a._wrapperState=
{initialChecked:b.defaultChecked||!1,initialValue:null!=d?d:null,onChange:h.bind(a)}},mountReadyWrapper:function(a){w[a._rootNodeID]=a},unmountWrapper:function(a){delete w[a._rootNodeID]},updateWrapper:function(a){var c=a._currentElement.props,d=c.checked;null!=d&&b.updatePropertyByID(a._rootNodeID,"checked",d||!1);c=f.getValue(c);null!=c&&b.updatePropertyByID(a._rootNodeID,"value",""+c)}};l.exports=p}).call(this,a("_process"))},{"./LinkedValueUtils":886,"./Object.assign":887,"./ReactDOMIDOperations":908,
"./ReactMount":933,"./ReactUpdates":954,_process:1028,"fbjs/lib/invariant":746}],910:[function(a,l,f){(function(c){var e=a("./ReactChildren"),h=a("./ReactDOMSelect"),b=a("./Object.assign"),f=a("fbjs/lib/warning"),d=h.valueContextKey;l.exports={mountWrapper:function(a,b,e){"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?f(null==b.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."):void 0);e=e[d];var h=null;if(null!=e)if(h=!1,Array.isArray(e))for(var k=
0;k<e.length;k++){if(""+e[k]===""+b.value){h=!0;break}}else h=""+e===""+b.value;a._wrapperState={selected:h}},getNativeProps:function(a,d,h){h=b({selected:void 0,children:void 0},d);null!=a._wrapperState.selected&&(h.selected=a._wrapperState.selected);var k="";e.forEach(d.children,function(a){null!=a&&("string"===typeof a||"number"===typeof a?k+=a:"production"!==c.env.NODE_ENV?f(!1,"Only strings and numbers are supported as <option> children."):void 0)});k&&(h.children=k);return h}}}).call(this,a("_process"))},
{"./Object.assign":887,"./ReactChildren":895,"./ReactDOMSelect":911,_process:1028,"fbjs/lib/warning":757}],911:[function(a,l,f){(function(c){function e(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var a=this._currentElement.props,c=d.getValue(a);null!=c&&b(this,!!a.multiple,c)}}function h(a){return a&&(a=a.getName())?" Check the render method of `"+a+"`.":""}function b(a,b,c){var d;a=n.getNode(a._rootNodeID).options;if(b){b={};for(d=0;d<c.length;d++)b[""+
c[d]]=!0;for(d=0;d<a.length;d++)c=b.hasOwnProperty(a[d].value),a[d].selected!==c&&(a[d].selected=c)}else{b=""+c;for(d=0;d<a.length;d++)if(a[d].value===b){a[d].selected=!0;return}a.length&&(a[0].selected=!0)}}function f(a){a=d.executeOnChange(this._currentElement.props,a);this._wrapperState.pendingUpdate=!0;m.asap(e,this);return a}var d=a("./LinkedValueUtils"),n=a("./ReactMount"),m=a("./ReactUpdates"),q=a("./Object.assign"),w=a("fbjs/lib/warning"),p="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),
r=["value","defaultValue"];l.exports={valueContextKey:p,getNativeProps:function(a,b,c){return q({},b,{onChange:a._wrapperState.onChange,value:void 0})},mountWrapper:function(a,b){if("production"!==c.env.NODE_ENV){var e=a._currentElement._owner;d.checkPropTypes("select",b,e);for(var k=0;k<r.length;k++){var g=r[k];null!=b[g]&&(b.multiple?"production"!==c.env.NODE_ENV?w(Array.isArray(b[g]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",g,h(e)):void 0:"production"!==c.env.NODE_ENV?
w(!Array.isArray(b[g]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",g,h(e)):void 0)}}e=d.getValue(b);a._wrapperState={pendingUpdate:!1,initialValue:null!=e?e:b.defaultValue,onChange:f.bind(a),wasMultiple:!!b.multiple}},processChildContext:function(a,b,c){b=q({},c);b[p]=a._wrapperState.initialValue;return b},postUpdateWrapper:function(a){var c=a._currentElement.props;a._wrapperState.initialValue=void 0;var e=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=
!!c.multiple;var h=d.getValue(c);null!=h?(a._wrapperState.pendingUpdate=!1,b(a,!!c.multiple,h)):e!==!!c.multiple&&(null!=c.defaultValue?b(a,!!c.multiple,c.defaultValue):b(a,!!c.multiple,c.multiple?[]:""))}}}).call(this,a("_process"))},{"./LinkedValueUtils":886,"./Object.assign":887,"./ReactMount":933,"./ReactUpdates":954,_process:1028,"fbjs/lib/warning":757}],912:[function(a,l,f){function c(a){var b=document.selection.createRange(),c=b.text.length,d=b.duplicate();d.moveToElementText(a);d.setEndPoint("EndToStart",
b);a=d.text.length;return{start:a,end:a+c}}function e(a){var b=window.getSelection&&window.getSelection();if(!b||0===b.rangeCount)return null;var c=b.anchorNode,d=b.anchorOffset,e=b.focusNode,h=b.focusOffset,f=b.getRangeAt(0);try{f.startContainer.nodeType,f.endContainer.nodeType}catch(y){return null}var b=b.anchorNode===b.focusNode&&b.anchorOffset===b.focusOffset?0:f.toString().length,k=f.cloneRange();k.selectNodeContents(a);k.setEnd(f.startContainer,f.startOffset);a=k.startContainer===k.endContainer&&
k.startOffset===k.endOffset?0:k.toString().length;f=a+b;b=document.createRange();b.setStart(c,d);b.setEnd(e,h);c=b.collapsed;return{start:c?f:a,end:c?a:f}}function h(a,b){var c=document.selection.createRange().duplicate(),d;"undefined"===typeof b.end?b=d=b.start:b.start>b.end?(d=b.end,b=b.start):(d=b.start,b=b.end);c.moveToElementText(a);c.moveStart("character",d);c.setEndPoint("EndToStart",c);c.moveEnd("character",b-d);c.select()}function b(a,b){if(window.getSelection){var c=window.getSelection(),
e=a[d()].length,h=Math.min(b.start,e);b="undefined"===typeof b.end?h:Math.min(b.end,e);!c.extend&&h>b&&(e=b,b=h,h=e);e=k(a,h);a=k(a,b);if(e&&a){var f=document.createRange();f.setStart(e.node,e.offset);c.removeAllRanges();h>b?(c.addRange(f),c.extend(a.node,a.offset)):(f.setEnd(a.node,a.offset),c.addRange(f))}}}f=a("fbjs/lib/ExecutionEnvironment");var k=a("./getNodeForCharacterOffset"),d=a("./getTextContentAccessor");a=f.canUseDOM&&"selection"in document&&!("getSelection"in window);l.exports={getOffsets:a?
c:e,setOffsets:a?h:b}},{"./getNodeForCharacterOffset":987,"./getTextContentAccessor":988,"fbjs/lib/ExecutionEnvironment":732}],913:[function(a,l,f){f=a("./ReactDefaultInjection");var c=a("./ReactServerRendering");a=a("./ReactVersion");f.inject();l.exports={renderToString:c.renderToString,renderToStaticMarkup:c.renderToStaticMarkup,version:a}},{"./ReactDefaultInjection":917,"./ReactServerRendering":948,"./ReactVersion":955}],914:[function(a,l,f){(function(c){var e=a("./DOMChildrenOperations"),h=a("./DOMPropertyOperations"),
b=a("./ReactComponentBrowserEnvironment"),f=a("./ReactMount"),d=a("./Object.assign"),n=a("./escapeTextContentForBrowser"),m=a("./setTextContent"),q=a("./validateDOMNesting"),w=function(a){};d(w.prototype,{construct:function(a){this._currentElement=a;this._stringText=""+a;this._rootNodeID=null;this._mountIndex=0},mountComponent:function(a,b,d){"production"!==c.env.NODE_ENV&&d[q.ancestorInfoContextKey]&&q("span",null,d[q.ancestorInfoContextKey]);this._rootNodeID=a;if(b.useCreateElement)return b=d[f.ownerDocumentContextKey].createElement("span"),
h.setAttributeForID(b,a),f.getID(b),m(b,this._stringText),b;d=n(this._stringText);return b.renderToStaticMarkup?d:"<span "+h.createMarkupForID(a)+">"+d+"</span>"},receiveComponent:function(a,b){a!==this._currentElement&&(this._currentElement=a,a=""+a,a!==this._stringText&&(this._stringText=a,b=f.getNode(this._rootNodeID),e.updateTextContent(b,a)))},unmountComponent:function(){b.unmountIDFromEnvironment(this._rootNodeID)}});l.exports=w}).call(this,a("_process"))},{"./DOMChildrenOperations":873,"./DOMPropertyOperations":875,
"./Object.assign":887,"./ReactComponentBrowserEnvironment":898,"./ReactMount":933,"./escapeTextContentForBrowser":978,"./setTextContent":996,"./validateDOMNesting":1E3,_process:1028}],915:[function(a,l,f){(function(c){function e(){this._rootNodeID&&w.updateWrapper(this)}function h(a){a=b.executeOnChange(this._currentElement.props,a);d.asap(e,this);return a}var b=a("./LinkedValueUtils"),f=a("./ReactDOMIDOperations"),d=a("./ReactUpdates"),n=a("./Object.assign"),m=a("fbjs/lib/invariant"),q=a("fbjs/lib/warning"),
w={getNativeProps:function(a,b,d){null!=b.dangerouslySetInnerHTML?"production"!==c.env.NODE_ENV?m(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):m(!1):void 0;return n({},b,{defaultValue:void 0,value:void 0,children:a._wrapperState.initialValue,onChange:a._wrapperState.onChange})},mountWrapper:function(a,d){"production"!==c.env.NODE_ENV&&b.checkPropTypes("textarea",d,a._currentElement._owner);var e=d.defaultValue,f=d.children;null!=f&&("production"!==c.env.NODE_ENV&&("production"!==
c.env.NODE_ENV?q(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."):void 0),null!=e?"production"!==c.env.NODE_ENV?m(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):m(!1):void 0,Array.isArray(f)&&(1>=f.length?void 0:"production"!==c.env.NODE_ENV?m(!1,"<textarea> can only have at most one child."):m(!1),f=f[0]),e=""+f);null==e&&(e="");d=b.getValue(d);a._wrapperState={initialValue:""+(null!=d?d:e),onChange:h.bind(a)}},updateWrapper:function(a){var c=
b.getValue(a._currentElement.props);null!=c&&f.updatePropertyByID(a._rootNodeID,"value",""+c)}};l.exports=w}).call(this,a("_process"))},{"./LinkedValueUtils":886,"./Object.assign":887,"./ReactDOMIDOperations":908,"./ReactUpdates":954,_process:1028,"fbjs/lib/invariant":746,"fbjs/lib/warning":757}],916:[function(a,l,f){function c(){this.reinitializeTransaction()}f=a("./ReactUpdates");var e=a("./Transaction"),h=a("./Object.assign");a=a("fbjs/lib/emptyFunction");var b={initialize:a,close:function(){n.isBatchingUpdates=
!1}},k=[{initialize:a,close:f.flushBatchedUpdates.bind(f)},b];h(c.prototype,e.Mixin,{getTransactionWrappers:function(){return k}});var d=new c,n={isBatchingUpdates:!1,batchedUpdates:function(a,b,c,e,h,f){var k=n.isBatchingUpdates;n.isBatchingUpdates=!0;k?a(b,c,e,h,f):d.perform(a,null,b,c,e,h,f)}};l.exports=n},{"./Object.assign":887,"./ReactUpdates":954,"./Transaction":971,"fbjs/lib/emptyFunction":738}],917:[function(a,l,f){(function(c){var e=a("./BeforeInputEventPlugin"),h=a("./ChangeEventPlugin"),
b=a("./ClientReactRootIndex"),f=a("./DefaultEventPluginOrder"),d=a("./EnterLeaveEventPlugin"),n=a("fbjs/lib/ExecutionEnvironment"),m=a("./HTMLDOMPropertyConfig"),q=a("./ReactBrowserComponentMixin"),w=a("./ReactComponentBrowserEnvironment"),p=a("./ReactDefaultBatchingStrategy"),r=a("./ReactDOMComponent"),t=a("./ReactDOMTextComponent"),u=a("./ReactEventListener"),y=a("./ReactInjection"),A=a("./ReactInstanceHandles"),g=a("./ReactMount"),v=a("./ReactReconcileTransaction"),z=a("./SelectEventPlugin"),B=
a("./ServerReactRootIndex"),G=a("./SimpleEventPlugin"),x=a("./SVGDOMPropertyConfig"),D=!1;l.exports={inject:function(){D||(D=!0,y.EventEmitter.injectReactEventListener(u),y.EventPluginHub.injectEventPluginOrder(f),y.EventPluginHub.injectInstanceHandle(A),y.EventPluginHub.injectMount(g),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:G,EnterLeaveEventPlugin:d,ChangeEventPlugin:h,SelectEventPlugin:z,BeforeInputEventPlugin:e}),y.NativeComponent.injectGenericComponentClass(r),y.NativeComponent.injectTextComponentClass(t),
y.Class.injectMixin(q),y.DOMProperty.injectDOMPropertyConfig(m),y.DOMProperty.injectDOMPropertyConfig(x),y.EmptyComponent.injectEmptyComponent("noscript"),y.Updates.injectReconcileTransaction(v),y.Updates.injectBatchingStrategy(p),y.RootIndex.injectCreateReactRootIndex(n.canUseDOM?b.createReactRootIndex:B.createReactRootIndex),y.Component.injectEnvironment(w),"production"!==c.env.NODE_ENV&&/[?&]react_perf\b/.test(n.canUseDOM&&window.location.href||"")&&a("./ReactDefaultPerf").start())}}}).call(this,
a("_process"))},{"./BeforeInputEventPlugin":867,"./ChangeEventPlugin":871,"./ClientReactRootIndex":872,"./DefaultEventPluginOrder":877,"./EnterLeaveEventPlugin":878,"./HTMLDOMPropertyConfig":885,"./ReactBrowserComponentMixin":890,"./ReactComponentBrowserEnvironment":898,"./ReactDOMComponent":905,"./ReactDOMTextComponent":914,"./ReactDefaultBatchingStrategy":916,"./ReactDefaultPerf":918,"./ReactEventListener":926,"./ReactInjection":927,"./ReactInstanceHandles":929,"./ReactMount":933,"./ReactReconcileTransaction":943,
"./SVGDOMPropertyConfig":956,"./SelectEventPlugin":957,"./ServerReactRootIndex":958,"./SimpleEventPlugin":959,_process:1028,"fbjs/lib/ExecutionEnvironment":732}],918:[function(a,l,f){function c(a){return Math.floor(100*a)/100}function e(a,b,c){a[b]=(a[b]||0)+c}var h=a("./DOMProperty"),b=a("./ReactDefaultPerfAnalysis"),k=a("./ReactMount"),d=a("./ReactPerf"),n=a("fbjs/lib/performanceNow"),m={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){m._injected||d.injection.injectMeasure(m.measure);
m._allMeasurements.length=0;d.enableMeasure=!0},stop:function(){d.enableMeasure=!1},getLastMeasurements:function(){return m._allMeasurements},printExclusive:function(a){a=a||m._allMeasurements;a=b.getExclusiveSummary(a);console.table(a.map(function(a){return{"Component class name":a.componentName,"Total inclusive time (ms)":c(a.inclusive),"Exclusive mount time (ms)":c(a.exclusive),"Exclusive render time (ms)":c(a.render),"Mount time per instance (ms)":c(a.exclusive/a.count),"Render time per instance (ms)":c(a.render/
a.count),Instances:a.count}}))},printInclusive:function(a){a=a||m._allMeasurements;var d=b.getInclusiveSummary(a);console.table(d.map(function(a){return{"Owner > component":a.componentName,"Inclusive time (ms)":c(a.time),Instances:a.count}}));console.log("Total time:",b.getTotalTime(a).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(a){return b.getInclusiveSummary(a,!0).map(function(a){return{"Owner > component":a.componentName,"Wasted time (ms)":a.time,Instances:a.count}})},printWasted:function(a){a=
a||m._allMeasurements;console.table(m.getMeasurementsSummaryMap(a));console.log("Total time:",b.getTotalTime(a).toFixed(2)+" ms")},printDOM:function(a){a=a||m._allMeasurements;var c=b.getDOMSummary(a);console.table(c.map(function(a){var b={};b[h.ID_ATTRIBUTE_NAME]=a.id;b.type=a.type;b.args=JSON.stringify(a.args);return b}));console.log("Total time:",b.getTotalTime(a).toFixed(2)+" ms")},_recordWrite:function(a,b,c,d){var e=m._allMeasurements[m._allMeasurements.length-1].writes;e[a]=e[a]||[];e[a].push({type:b,
time:c,args:d})},measure:function(a,b,c){return function(){for(var d=arguments.length,h=Array(d),f=0;f<d;f++)h[f]=arguments[f];var l,q;if("_renderNewRootComponent"===b||"flushBatchedUpdates"===b)return m._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),q=n(),d=c.apply(this,h),m._allMeasurements[m._allMeasurements.length-1].totalTime=n()-q,d;if("_mountImageIntoNode"===b||"ReactBrowserEventEmitter"===a||"ReactDOMIDOperations"===
a||"CSSPropertyOperations"===a||"DOMChildrenOperations"===a||"DOMPropertyOperations"===a)return q=n(),d=c.apply(this,h),l=n()-q,"_mountImageIntoNode"===b?(f=k.getID(h[1]),m._recordWrite(f,b,l,h[0])):"dangerouslyProcessChildrenUpdates"===b?h[0].forEach(function(a){var b={};null!==a.fromIndex&&(b.fromIndex=a.fromIndex);null!==a.toIndex&&(b.toIndex=a.toIndex);null!==a.textContent&&(b.textContent=a.textContent);null!==a.markupIndex&&(b.markup=h[1][a.markupIndex]);m._recordWrite(a.parentID,a.type,l,b)}):
(f=h[0],"object"===typeof f&&(f=k.getID(h[0])),m._recordWrite(f,b,l,Array.prototype.slice.call(h,1))),d;if("ReactCompositeComponent"!==a||"mountComponent"!==b&&"updateComponent"!==b&&"_renderValidatedComponent"!==b||this._currentElement.type===k.TopLevelWrapper)return c.apply(this,h);var f="mountComponent"===b?h[0]:this._rootNodeID,g="_renderValidatedComponent"===b,p="mountComponent"===b,w=m._mountStack,B=m._allMeasurements[m._allMeasurements.length-1];g?e(B.counts,f,1):p&&(B.created[f]=!0,w.push(0));
q=n();d=c.apply(this,h);l=n()-q;g?e(B.render,f,l):(p&&(q=w.pop(),w[w.length-1]+=l,e(B.exclusive,f,l-q)),e(B.inclusive,f,l));B.displayNames[f]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"};return d}}};l.exports=m},{"./DOMProperty":874,"./ReactDefaultPerfAnalysis":919,"./ReactMount":933,"./ReactPerf":939,"fbjs/lib/performanceNow":754}],919:[function(a,l,f){function c(a){var b={},c=Object.keys(a.writes),h=e({},a.exclusive,a.inclusive),f;for(f in h){for(var h=
!1,l=0;l<c.length;l++)if(0===c[l].indexOf(f)){h=!0;break}a.created[f]&&(h=!0);!h&&0<a.counts[f]&&(b[f]=!0)}return b}var e=a("./Object.assign"),h={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",setValueForStyles:"update styles",replaceNodeWithMarkup:"replace",updateTextContent:"set textContent"};
l.exports={getExclusiveSummary:function(a){for(var b={},c,h=0;h<a.length;h++){var f=a[h],l=e({},f.exclusive,f.inclusive),w;for(w in l)c=f.displayNames[w].current,b[c]=b[c]||{componentName:c,inclusive:0,exclusive:0,render:0,count:0},f.render[w]&&(b[c].render+=f.render[w]),f.exclusive[w]&&(b[c].exclusive+=f.exclusive[w]),f.inclusive[w]&&(b[c].inclusive+=f.inclusive[w]),f.counts[w]&&(b[c].count+=f.counts[w])}a=[];for(c in b)1.2<=b[c].exclusive&&a.push(b[c]);a.sort(function(a,b){return b.exclusive-a.exclusive});
return a},getInclusiveSummary:function(a,f){for(var b={},h,k=0;k<a.length;k++){var l=a[k],w=e({},l.exclusive,l.inclusive),p;f&&(p=c(l));for(var r in w)if(!f||p[r])h=l.displayNames[r],h=h.owner+" > "+h.current,b[h]=b[h]||{componentName:h,time:0,count:0},l.inclusive[r]&&(b[h].time+=l.inclusive[r]),l.counts[r]&&(b[h].count+=l.counts[r])}a=[];for(h in b)1.2<=b[h].time&&a.push(b[h]);a.sort(function(a,b){return b.time-a.time});return a},getDOMSummary:function(a){var b=[];a.forEach(function(a){Object.keys(a.writes).forEach(function(c){a.writes[c].forEach(function(a){b.push({id:c,
type:h[a.type]||a.type,args:a.args})})})});return b},getTotalTime:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c].totalTime;return b}}},{"./Object.assign":887}],920:[function(a,l,f){(function(c){var e=a("./ReactCurrentOwner"),h=a("./Object.assign"),b=a("./canDefineProperty"),f="function"===typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,d={key:!0,ref:!0,__self:!0,__source:!0},n=function(a,d,e,h,k,l,n){a={$$typeof:f,type:a,key:d,ref:e,props:n,_owner:l};"production"!==c.env.NODE_ENV&&
(a._store={},b?(Object.defineProperty(a._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(a,"_self",{configurable:!1,enumerable:!1,writable:!1,value:h}),Object.defineProperty(a,"_source",{configurable:!1,enumerable:!1,writable:!1,value:k})):(a._store.validated=!1,a._self=h,a._source=k),Object.freeze(a.props),Object.freeze(a));return a};n.createElement=function(a,b,c){var h,f={},k=null,l=null,m=null,q=null;if(null!=b)for(h in l=void 0===b.ref?null:b.ref,
k=void 0===b.key?null:""+b.key,m=void 0===b.__self?null:b.__self,q=void 0===b.__source?null:b.__source,b)b.hasOwnProperty(h)&&!d.hasOwnProperty(h)&&(f[h]=b[h]);var g=arguments.length-2;if(1===g)f.children=c;else if(1<g){for(var w=Array(g),z=0;z<g;z++)w[z]=arguments[z+2];f.children=w}if(a&&a.defaultProps)for(h in g=a.defaultProps,g)"undefined"===typeof f[h]&&(f[h]=g[h]);return n(a,k,l,m,q,e.current,f)};n.createFactory=function(a){var b=n.createElement.bind(null,a);b.type=a;return b};n.cloneAndReplaceKey=
function(a,b){return n(a.type,b,a.ref,a._self,a._source,a._owner,a.props)};n.cloneAndReplaceProps=function(a,b){b=n(a.type,a.key,a.ref,a._self,a._source,a._owner,b);"production"!==c.env.NODE_ENV&&(b._store.validated=a._store.validated);return b};n.cloneElement=function(a,b,c){var f,k=h({},a.props),l=a.key,m=a.ref,q=a._self,w=a._source,g=a._owner;if(null!=b)for(f in void 0!==b.ref&&(m=b.ref,g=e.current),void 0!==b.key&&(l=""+b.key),b)b.hasOwnProperty(f)&&!d.hasOwnProperty(f)&&(k[f]=b[f]);f=arguments.length-
2;if(1===f)k.children=c;else if(1<f){for(var v=Array(f),z=0;z<f;z++)v[z]=arguments[z+2];k.children=v}return n(a.type,l,m,q,w,g,k)};n.isValidElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===f};l.exports=n}).call(this,a("_process"))},{"./Object.assign":887,"./ReactCurrentOwner":902,"./canDefineProperty":975,_process:1028}],921:[function(a,l,f){(function(c){function e(){if(q.current){var a=q.current.getName();if(a)return" Check the render method of `"+a+"`."}return""}function h(a,
b){if(a._store&&!a._store.validated&&null==a.key){a._store.validated=!0;var d=e();d||(b="string"===typeof b?b:b.displayName||b.name)&&(d=" Check the top-level render call using <"+b+">.");b=u.uniqueKey||(u.uniqueKey={});b[d]?a=null:(b[d]=!0,d={parentOrOwner:d,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null},a&&a._owner&&a._owner!==q.current&&(d.childOwner=" It was passed a child from "+a._owner.getName()+"."),a=d);null!==a&&("production"!==c.env.NODE_ENV?t(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',
a.parentOrOwner||"",a.childOwner||"",a.url||""):void 0)}}function b(a,b){if("object"===typeof a)if(Array.isArray(a))for(var c=0;c<a.length;c++){var e=a[c];d.isValidElement(e)&&h(e,b)}else if(d.isValidElement(a))a._store&&(a._store.validated=!0);else if(a&&(c=p(a))&&c!==a.entries)for(a=c.call(a);!(c=a.next()).done;)d.isValidElement(c.value)&&h(c.value,b)}function f(a){var b=a.type;if("function"===typeof b){var d=b.displayName||b.name;if(b.propTypes){var g=b.propTypes;a=a.props;var h=n.prop,f;for(f in g)if(g.hasOwnProperty(f)){var k;
try{"function"!==typeof g[f]?"production"!==c.env.NODE_ENV?r(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",d||"React class",m[h],f):r(!1):void 0,k=g[f](a,f,d,h)}catch(F){k=F}"production"!==c.env.NODE_ENV?t(!k||k instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",
d||"React class",m[h],f,typeof k):void 0;if(k instanceof Error&&!(k.message in y)){y[k.message]=!0;var l=e();"production"!==c.env.NODE_ENV?t(!1,"Failed propType: %s%s",k.message,l):void 0}}}"function"===typeof b.getDefaultProps&&("production"!==c.env.NODE_ENV?t(b.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead."):void 0)}}var d=a("./ReactElement"),n=a("./ReactPropTypeLocations"),m=a("./ReactPropTypeLocationNames"),
q=a("./ReactCurrentOwner"),w=a("./canDefineProperty"),p=a("./getIteratorFn"),r=a("fbjs/lib/invariant"),t=a("fbjs/lib/warning"),u={},y={},A={createElement:function(a,h,k){var g="string"===typeof a||"function"===typeof a;"production"!==c.env.NODE_ENV?t(g,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",e()):void 0;var l=d.createElement.apply(this,arguments);if(null==l)return l;if(g)for(g=
2;g<arguments.length;g++)b(arguments[g],a);f(l);return l},createFactory:function(a){var b=A.createElement.bind(null,a);b.type=a;"production"!==c.env.NODE_ENV&&w&&Object.defineProperty(b,"type",{enumerable:!1,get:function(){"production"!==c.env.NODE_ENV?t(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."):void 0;Object.defineProperty(this,"type",{value:a});return a}});return b},cloneElement:function(a,c,e){for(var g=d.cloneElement.apply(this,arguments),
h=2;h<arguments.length;h++)b(arguments[h],g.type);f(g);return g}};l.exports=A}).call(this,a("_process"))},{"./ReactCurrentOwner":902,"./ReactElement":920,"./ReactPropTypeLocationNames":940,"./ReactPropTypeLocations":941,"./canDefineProperty":975,"./getIteratorFn":986,_process:1028,"fbjs/lib/invariant":746,"fbjs/lib/warning":757}],922:[function(a,l,f){var c=a("./ReactElement"),e=a("./ReactEmptyComponentRegistry"),h=a("./ReactReconciler"),b;f=function(a){this._rootNodeID=this._currentElement=null;this._renderedComponent=
a(b)};a("./Object.assign")(f.prototype,{construct:function(a){},mountComponent:function(a,b,c){e.registerNullComponentID(a);this._rootNodeID=a;return h.mountComponent(this._renderedComponent,a,b,c)},receiveComponent:function(){},unmountComponent:function(a,b,c){h.unmountComponent(this._renderedComponent);e.deregisterNullComponentID(this._rootNodeID);this._renderedComponent=this._rootNodeID=null}});f.injection={injectEmptyComponent:function(a){b=c.createElement(a)}};l.exports=f},{"./Object.assign":887,
"./ReactElement":920,"./ReactEmptyComponentRegistry":923,"./ReactReconciler":944}],923:[function(a,l,f){var c={};l.exports={isNullComponentID:function(a){return!!c[a]},registerNullComponentID:function(a){c[a]=!0},deregisterNullComponentID:function(a){delete c[a]}}},{}],924:[function(a,l,f){(function(a){function c(a,b,c,e){try{return b(c,e)}catch(w){null===h&&(h=w)}}var h=null,b={invokeGuardedCallback:c,invokeGuardedCallbackWithCatch:c,rethrowCaughtError:function(){if(h){var a=h;h=null;throw a;}}};
if("production"!==a.env.NODE_ENV&&"undefined"!==typeof window&&"function"===typeof window.dispatchEvent&&"undefined"!==typeof document&&"function"===typeof document.createEvent){var f=document.createElement("react");b.invokeGuardedCallback=function(a,b,c,e){b=b.bind(null,c,e);a="react-"+a;f.addEventListener(a,b,!1);c=document.createEvent("Event");c.initEvent(a,!1,!1);f.dispatchEvent(c);f.removeEventListener(a,b,!1)}}l.exports=b}).call(this,a("_process"))},{_process:1028}],925:[function(a,l,f){var c=
a("./EventPluginHub");l.exports={handleTopLevel:function(a,f,b,k,d){a=c.extractEvents(a,f,b,k,d);c.enqueueEvents(a);c.processEventQueue(!1)}}},{"./EventPluginHub":880}],926:[function(a,l,f){function c(a,b){this.topLevelType=a;this.nativeEvent=b;this.ancestors=[]}function e(a){void 0;for(var b=n.getFirstReactDOM(w(a.nativeEvent))||window;b;)a.ancestors.push(b),b=n.getID(b),b=d.getReactRootIDFromNodeID(b),b=n.findReactContainerForID(b),b=n.getFirstReactDOM(b);for(var c=0;c<a.ancestors.length;c++){var b=
a.ancestors[c],e=n.getID(b)||"";r._handleTopLevel(a.topLevelType,b,e,a.nativeEvent,w(a.nativeEvent))}}function h(a){var b=p(window);a(b)}var b=a("fbjs/lib/EventListener");f=a("fbjs/lib/ExecutionEnvironment");var k=a("./PooledClass"),d=a("./ReactInstanceHandles"),n=a("./ReactMount"),m=a("./ReactUpdates"),q=a("./Object.assign"),w=a("./getEventTarget"),p=a("fbjs/lib/getUnboundedScrollPosition");q(c.prototype,{destructor:function(){this.nativeEvent=this.topLevelType=null;this.ancestors.length=0}});k.addPoolingTo(c,
k.twoArgumentPooler);var r={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:f.canUseDOM?window:null,setHandleTopLevel:function(a){r._handleTopLevel=a},setEnabled:function(a){r._enabled=!!a},isEnabled:function(){return r._enabled},trapBubbledEvent:function(a,c,d){return d?b.listen(d,c,r.dispatchEvent.bind(null,a)):null},trapCapturedEvent:function(a,c,d){return d?b.capture(d,c,r.dispatchEvent.bind(null,a)):null},monitorScrollValue:function(a){a=h.bind(null,a);b.listen(window,"scroll",a)},dispatchEvent:function(a,
b){if(r._enabled){a=c.getPooled(a,b);try{m.batchedUpdates(e,a)}finally{c.release(a)}}}};l.exports=r},{"./Object.assign":887,"./PooledClass":888,"./ReactInstanceHandles":929,"./ReactMount":933,"./ReactUpdates":954,"./getEventTarget":985,"fbjs/lib/EventListener":731,"fbjs/lib/ExecutionEnvironment":732,"fbjs/lib/getUnboundedScrollPosition":743}],927:[function(a,l,f){f=a("./DOMProperty");var c=a("./EventPluginHub"),e=a("./ReactComponentEnvironment"),h=a("./ReactClass"),b=a("./ReactEmptyComponent"),k=
a("./ReactBrowserEventEmitter"),d=a("./ReactNativeComponent"),n=a("./ReactPerf"),m=a("./ReactRootIndex");a=a("./ReactUpdates");l.exports={Component:e.injection,Class:h.injection,DOMProperty:f.injection,EmptyComponent:b.injection,EventPluginHub:c.injection,EventEmitter:k.injection,NativeComponent:d.injection,Perf:n.injection,RootIndex:m.injection,Updates:a.injection}},{"./DOMProperty":874,"./EventPluginHub":880,"./ReactBrowserEventEmitter":891,"./ReactClass":896,"./ReactComponentEnvironment":899,"./ReactEmptyComponent":922,
"./ReactNativeComponent":936,"./ReactPerf":939,"./ReactRootIndex":946,"./ReactUpdates":954}],928:[function(a,l,f){var c=a("./ReactDOMSelection"),e=a("fbjs/lib/containsNode"),h=a("fbjs/lib/focusNode"),b=a("fbjs/lib/getActiveElement"),k={hasSelectionCapabilities:function(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&"text"===a.type||"textarea"===b||"true"===a.contentEditable)},getSelectionInformation:function(){var a=b();return{focusedElem:a,selectionRange:k.hasSelectionCapabilities(a)?
k.getSelection(a):null}},restoreSelection:function(a){var c=b(),d=a.focusedElem;a=a.selectionRange;c!==d&&e(document.documentElement,d)&&(k.hasSelectionCapabilities(d)&&k.setSelection(d,a),h(d))},getSelection:function(a){var b;if("selectionStart"in a)b={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()){var d=document.selection.createRange();d.parentElement()===a&&(b={start:-d.moveStart("character",-a.value.length),end:-d.moveEnd("character",
-a.value.length)})}else b=c.getOffsets(a);return b||{start:0,end:0}},setSelection:function(a,b){var d=b.start,e=b.end;"undefined"===typeof e&&(e=d);"selectionStart"in a?(a.selectionStart=d,a.selectionEnd=Math.min(e,a.value.length)):document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()?(a=a.createTextRange(),a.collapse(!0),a.moveStart("character",d),a.moveEnd("character",e-d),a.select()):c.setOffsets(a,b)}};l.exports=k},{"./ReactDOMSelection":912,"fbjs/lib/containsNode":735,"fbjs/lib/focusNode":740,
"fbjs/lib/getActiveElement":741}],929:[function(a,l,f){(function(c){function e(a,b){return"."===a.charAt(b)||b===a.length}function f(a){return""===a||"."===a.charAt(0)&&"."!==a.charAt(a.length-1)}function b(a,b){return 0===b.indexOf(a)&&e(b,a.length)}function k(a){return a?a.substr(0,a.lastIndexOf(".")):""}function d(a,d){f(a)&&f(d)?void 0:"production"!==c.env.NODE_ENV?w(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",a,d):w(!1);b(a,d)?void 0:"production"!==c.env.NODE_ENV?w(!1,
"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",a,d):w(!1);if(a===d)return a;for(a=a.length+1;a<d.length&&!e(d,a);a++);return d.substr(0,a)}function n(a,b){var d=Math.min(a.length,b.length);if(0===d)return"";for(var h=0,k=0;k<=d;k++)if(e(a,k)&&e(b,k))h=k;else if(a.charAt(k)!==b.charAt(k))break;d=a.substr(0,h);f(d)?void 0:"production"!==c.env.NODE_ENV?w(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",
a,b,d):w(!1);return d}function m(a,e,f,h,l,m){a=a||"";e=e||"";a===e?"production"!==c.env.NODE_ENV?w(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",a):w(!1):void 0;var g=b(e,a);g||b(a,e)?void 0:"production"!==c.env.NODE_ENV?w(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",a,e):w(!1);for(var n=0,q=g?k:d,p=a;;p=q(p,e)){var r;l&&p===a||m&&p===e||(r=f(p,g,h));if(!1===r||p===e)break;1E4>n++?void 0:"production"!==c.env.NODE_ENV?
w(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",a,e,p):w(!1)}}var q=a("./ReactRootIndex"),w=a("fbjs/lib/invariant");l.exports={createReactRootID:function(){return"."+q.createReactRootIndex().toString(36)},createReactID:function(a,b){return a+b},getReactRootIDFromNodeID:function(a){if(a&&"."===a.charAt(0)&&1<a.length){var b=a.indexOf(".",1);return-1<b?a.substr(0,b):a}return null},traverseEnterLeave:function(a,
b,c,d,e){var f=n(a,b);f!==a&&m(a,f,c,d,!1,!0);f!==b&&m(f,b,c,e,!0,!1)},traverseTwoPhase:function(a,b,c){a&&(m("",a,b,c,!0,!1),m(a,"",b,c,!1,!0))},traverseTwoPhaseSkipTarget:function(a,b,c){a&&(m("",a,b,c,!0,!0),m(a,"",b,c,!0,!0))},traverseAncestors:function(a,b,c){m("",a,b,c,!0,!1)},getFirstCommonAncestorID:n,_getNextDescendantID:d,isAncestorIDOf:b,SEPARATOR:"."}}).call(this,a("_process"))},{"./ReactRootIndex":946,_process:1028,"fbjs/lib/invariant":746}],930:[function(a,l,f){l.exports={remove:function(a){a._reactInternalInstance=
void 0},get:function(a){return a._reactInternalInstance},has:function(a){return void 0!==a._reactInternalInstance},set:function(a,e){a._reactInternalInstance=e}}},{}],931:[function(a,l,f){(function(c){var e=a("./ReactChildren"),f=a("./ReactComponent"),b=a("./ReactClass"),k=a("./ReactDOMFactories"),d=a("./ReactElement"),n=a("./ReactElementValidator"),m=a("./ReactPropTypes"),q=a("./ReactVersion"),w=a("./Object.assign"),p=a("./onlyChild"),r=d.createElement,t=d.createFactory,u=d.cloneElement;"production"!==
c.env.NODE_ENV&&(r=n.createElement,t=n.createFactory,u=n.cloneElement);l.exports={Children:{map:e.map,forEach:e.forEach,count:e.count,toArray:e.toArray,only:p},Component:f,createElement:r,cloneElement:u,isValidElement:d.isValidElement,PropTypes:m,createClass:b.createClass,createFactory:t,createMixin:function(a){return a},DOM:k,version:q,__spread:w}}).call(this,a("_process"))},{"./Object.assign":887,"./ReactChildren":895,"./ReactClass":896,"./ReactComponent":897,"./ReactDOMFactories":906,"./ReactElement":920,
"./ReactElementValidator":921,"./ReactPropTypes":942,"./ReactVersion":955,"./onlyChild":992,_process:1028}],932:[function(a,l,f){var c=a("./adler32"),e=/\/?>/,h={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(a){var b=c(a);return a.replace(e," "+h.CHECKSUM_ATTR_NAME+'="'+b+'"$&')},canReuseMarkup:function(a,e){e=(e=e.getAttribute(h.CHECKSUM_ATTR_NAME))&&parseInt(e,10);return c(a)===e}};l.exports=h},{"./adler32":974}],933:[function(a,l,f){(function(c){function e(a){return a?9===
a.nodeType?a.documentElement:a.firstChild:null}function f(a){return(a=e(a))&&aa.getID(a)}function b(a){return a&&a.getAttribute&&a.getAttribute(O)||""}function k(a,d){return a&&(b(a)!==d?"production"!==c.env.NODE_ENV?K(!1,"ReactMount: Unexpected modification of `%s`",O):K(!1):void 0,(d=aa.findReactContainerForID(d))&&L(d,a))?!0:!1}function d(a){var b=Q[a];if(b&&k(b,a))ha=b;else return!1}function n(a,b,d,e,g,f){y.useCreateElement&&(f=F({},f),f[U]=9===d.nodeType?d:d.ownerDocument);if("production"!==
c.env.NODE_ENV){f===J&&(f={});var h=d.nodeName.toLowerCase();f[Y.ancestorInfoContextKey]=Y.updatedAncestorInfo(null,h,null)}b=x.mountComponent(a,b,e,f);a._renderedComponent._topLevelWrapper=a;aa._mountImageIntoNode(b,d,g,e)}function m(a,b,c,d,e){var f=E.ReactReconcileTransaction.getPooled(d);f.perform(n,null,a,b,c,f,d,e);E.ReactReconcileTransaction.release(f)}function q(a,b){x.unmountComponent(a);9===b.nodeType&&(b=b.documentElement);for(;b.lastChild;)b.removeChild(b.lastChild)}function w(a){return(a=
f(a))?a!==v.getReactRootIDFromNodeID(a):!1}function p(a){for(;a&&a.parentNode!==a;a=a.parentNode)if(1===a.nodeType){var c=b(a);if(c){var c=v.getReactRootIDFromNodeID(c),d=a,e;do if(e=b(d),d=d.parentNode,null==d)return null;while(e!==c);if(d===ba[c])return a}}return null}var r=a("./DOMProperty"),t=a("./ReactBrowserEventEmitter"),u=a("./ReactCurrentOwner"),y=a("./ReactDOMFeatureFlags"),A=a("./ReactElement"),g=a("./ReactEmptyComponentRegistry"),v=a("./ReactInstanceHandles"),z=a("./ReactInstanceMap"),
B=a("./ReactMarkupChecksum"),G=a("./ReactPerf"),x=a("./ReactReconciler"),D=a("./ReactUpdateQueue"),E=a("./ReactUpdates"),F=a("./Object.assign"),J=a("fbjs/lib/emptyObject"),L=a("fbjs/lib/containsNode"),I=a("./instantiateReactComponent"),K=a("fbjs/lib/invariant"),N=a("./setInnerHTML"),P=a("./shouldUpdateReactComponent"),Y=a("./validateDOMNesting"),M=a("fbjs/lib/warning"),O=r.ID_ATTRIBUTE_NAME,Q={},U="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),R={},ba={};if("production"!==c.env.NODE_ENV)var T=
{};var ca=[],ha=null,X=function(){};X.prototype.isReactComponent={};"production"!==c.env.NODE_ENV&&(X.displayName="TopLevelWrapper");X.prototype.render=function(){return this.props};var aa={TopLevelWrapper:X,_instancesByReactRootID:R,scrollMonitor:function(a,b){b()},_updateRootComponent:function(a,b,d,g){aa.scrollMonitor(d,function(){D.enqueueElementInternal(a,b);g&&D.enqueueCallbackInternal(a,g)});"production"!==c.env.NODE_ENV&&(T[f(d)]=e(d));return a},_registerComponent:function(a,b){!b||1!==b.nodeType&&
9!==b.nodeType&&11!==b.nodeType?"production"!==c.env.NODE_ENV?K(!1,"_registerComponent(...): Target container is not a DOM element."):K(!1):void 0;t.ensureScrollValueMonitoring();b=aa.registerContainer(b);R[b]=a;return b},_renderNewRootComponent:function(a,b,d,f){"production"!==c.env.NODE_ENV?M(null==u.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",
u.current&&u.current.getName()||"ReactCompositeComponent"):void 0;a=I(a,null);var g=aa._registerComponent(a,b);E.batchedUpdates(m,a,g,b,d,f);"production"!==c.env.NODE_ENV&&(T[g]=e(b));return a},renderSubtreeIntoContainer:function(a,b,d,e){null==a||null==a._reactInternalInstance?"production"!==c.env.NODE_ENV?K(!1,"parentComponent must be a valid React Component"):K(!1):void 0;return aa._renderSubtreeIntoContainer(a,b,d,e)},_renderSubtreeIntoContainer:function(a,d,g,h){A.isValidElement(d)?void 0:"production"!==
c.env.NODE_ENV?K(!1,"ReactDOM.render(): Invalid component element.%s","string"===typeof d?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"===typeof d?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=d&&void 0!==d.props?" This may be caused by unintentionally loading two independent copies of React.":""):K(!1);"production"!==c.env.NODE_ENV?M(!g||!g.tagName||"BODY"!==
g.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app."):void 0;var k=new A(X,null,null,null,null,null,d),l=R[f(g)];if(l){if(P(l._currentElement.props,d)){var m=l._renderedComponent.getPublicInstance();aa._updateRootComponent(l,k,g,h&&function(){h.call(m)});return m}aa.unmountComponentAtNode(g)}var n=
e(g);d=n&&!!b(n);var q=w(g);if("production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?M(!q,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."):void 0,!d||n.nextSibling))for(;n;){if(b(n)){"production"!==c.env.NODE_ENV?M(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup."):
void 0;break}n=n.nextSibling}a=aa._renderNewRootComponent(k,g,d&&!l&&!q,null!=a?a._reactInternalInstance._processChildContext(a._reactInternalInstance._context):J)._renderedComponent.getPublicInstance();h&&h.call(a);return a},render:function(a,b,c){return aa._renderSubtreeIntoContainer(null,a,b,c)},registerContainer:function(a){var b=f(a);b&&(b=v.getReactRootIDFromNodeID(b));b||(b=v.createReactRootID());ba[b]=a;return b},unmountComponentAtNode:function(a){"production"!==c.env.NODE_ENV?M(null==u.current,
"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",u.current&&u.current.getName()||"ReactCompositeComponent"):void 0;!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType?"production"!==c.env.NODE_ENV?K(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):K(!1):void 0;var d=f(a),e=R[d];if(!e)return d=
w(a),a=(a=b(a))&&a===v.getReactRootIDFromNodeID(a),"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?M(!d,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",a?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."):void 0),!1;E.batchedUpdates(q,e,a);delete R[d];delete ba[d];"production"!==
c.env.NODE_ENV&&delete T[d];return!0},findReactContainerForID:function(a){a=v.getReactRootIDFromNodeID(a);var d=ba[a];if("production"!==c.env.NODE_ENV){var e=T[a];if(e&&e.parentNode!==d){"production"!==c.env.NODE_ENV?M(b(e)===a,"ReactMount: Root element ID differed from reactRootID."):void 0;var g=d.firstChild;g&&a===b(g)?T[a]=g:"production"!==c.env.NODE_ENV?M(!1,"ReactMount: Root element has been removed from its original container. New container: %s",e.parentNode):void 0}}return d},findReactNodeByID:function(a){var b=
aa.findReactContainerForID(a);return aa.findComponentRoot(b,a)},getFirstReactDOM:function(a){return p(a)},findComponentRoot:function(a,b){var e=0;ha=null;v.traverseAncestors(b,d);var g=ha;ha=null;g=g||a;"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?M(null!=g,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",
b):void 0);ca[0]=g.firstChild;for(ca.length=1;e<ca.length;){for(var g=ca[e++],f;g;){var h=aa.getID(g);h?b===h?f=g:v.isAncestorIDOf(h,b)&&(ca.length=e=0,ca.push(g.firstChild)):ca.push(g.firstChild);g=g.nextSibling}if(f)return ca.length=0,f}ca.length=0;"production"!==c.env.NODE_ENV?K(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",
b,aa.getID(a)):K(!1)},_mountImageIntoNode:function(a,b,d,g){!b||1!==b.nodeType&&9!==b.nodeType&&11!==b.nodeType?"production"!==c.env.NODE_ENV?K(!1,"mountComponentIntoNode(...): Target container is not valid."):K(!1):void 0;if(d){var f=e(b);if(B.canReuseMarkup(a,f))return;var h=f.getAttribute(B.CHECKSUM_ATTR_NAME);f.removeAttribute(B.CHECKSUM_ATTR_NAME);d=f.outerHTML;f.setAttribute(B.CHECKSUM_ATTR_NAME,h);f=a;"production"!==c.env.NODE_ENV&&(1===b.nodeType?(h=document.createElement("div"),h.innerHTML=
a,f=h.innerHTML):(h=document.createElement("iframe"),document.body.appendChild(h),h.contentDocument.write(a),f=h.contentDocument.documentElement.outerHTML,document.body.removeChild(h)));a:{for(var h=f,k=Math.min(h.length,d.length),l=0;l<k;l++)if(h.charAt(l)!==d.charAt(l)){h=l;break a}h=h.length===d.length?-1:k}d=" (client) "+f.substring(h-20,h+20)+"\n (server) "+d.substring(h-20,h+20);9===b.nodeType?"production"!==c.env.NODE_ENV?K(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",
d):K(!1):void 0;"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?M(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",
d):void 0)}9===b.nodeType?"production"!==c.env.NODE_ENV?K(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):K(!1):void 0;if(g.useCreateElement){for(;b.lastChild;)b.removeChild(b.lastChild);b.appendChild(a)}else N(b,a)},ownerDocumentContextKey:U,getReactRootID:f,getID:function(a){var d=b(a);if(d)if(Q.hasOwnProperty(d)){var e=
Q[d];e!==a&&(k(e,d)?"production"!==c.env.NODE_ENV?K(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",O,d):K(!1):void 0,Q[d]=a)}else Q[d]=a;return d},setID:function(a,c){var d=b(a);d!==c&&delete Q[d];a.setAttribute(O,c);Q[c]=a},getNode:function(a){Q.hasOwnProperty(a)&&k(Q[a],a)||(Q[a]=aa.findReactNodeByID(a));return Q[a]},getNodeFromInstance:function(a){a=z.get(a)._rootNodeID;if(g.isNullComponentID(a))return null;Q.hasOwnProperty(a)&&k(Q[a],a)||(Q[a]=aa.findReactNodeByID(a));return Q[a]},
isValid:k,purgeID:function(a){delete Q[a]}};G.measureMethods(aa,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"});l.exports=aa}).call(this,a("_process"))},{"./DOMProperty":874,"./Object.assign":887,"./ReactBrowserEventEmitter":891,"./ReactCurrentOwner":902,"./ReactDOMFeatureFlags":907,"./ReactElement":920,"./ReactEmptyComponentRegistry":923,"./ReactInstanceHandles":929,"./ReactInstanceMap":930,"./ReactMarkupChecksum":932,"./ReactPerf":939,
"./ReactReconciler":944,"./ReactUpdateQueue":953,"./ReactUpdates":954,"./instantiateReactComponent":989,"./setInnerHTML":995,"./shouldUpdateReactComponent":998,"./validateDOMNesting":1E3,_process:1028,"fbjs/lib/containsNode":735,"fbjs/lib/emptyObject":739,"fbjs/lib/invariant":746,"fbjs/lib/warning":757}],934:[function(a,l,f){(function(c){function e(){p.length&&(b.processChildrenUpdates(p,r),f())}function f(){p.length=0;r.length=0}var b=a("./ReactComponentEnvironment"),k=a("./ReactMultiChildUpdateTypes"),
d=a("./ReactCurrentOwner"),n=a("./ReactReconciler"),m=a("./ReactChildReconciler"),q=a("./flattenChildren"),w=0,p=[],r=[];l.exports={Mixin:{_reconcilerInstantiateChildren:function(a,b,e){if("production"!==c.env.NODE_ENV&&this._currentElement)try{return d.current=this._currentElement._owner,m.instantiateChildren(a,b,e)}finally{d.current=null}return m.instantiateChildren(a,b,e)},_reconcilerUpdateChildren:function(a,b,e,f){var g;if("production"!==c.env.NODE_ENV&&this._currentElement){try{d.current=this._currentElement._owner,
g=q(b)}finally{d.current=null}return m.updateChildren(a,g,e,f)}g=q(b);return m.updateChildren(a,g,e,f)},mountChildren:function(a,b,c){this._renderedChildren=a=this._reconcilerInstantiateChildren(a,b,c);var d=[],e=0,f;for(f in a)if(a.hasOwnProperty(f)){var h=a[f],k=n.mountComponent(h,this._rootNodeID+f,b,c);h._mountIndex=e++;d.push(k)}return d},updateTextContent:function(a){w++;var b=!0;try{var c=this._renderedChildren;m.unmountChildren(c);for(var d in c)c.hasOwnProperty(d)&&this._unmountChild(c[d]);
this.setTextContent(a);b=!1}finally{w--,w||(b?f():e())}},updateMarkup:function(a){w++;var b=!0;try{var c=this._renderedChildren;m.unmountChildren(c);for(var d in c)c.hasOwnProperty(d)&&this._unmountChildByName(c[d],d);this.setMarkup(a);b=!1}finally{w--,w||(b?f():e())}},updateChildren:function(a,b,c){w++;var d=!0;try{this._updateChildren(a,b,c),d=!1}finally{w--,w||(d?f():e())}},_updateChildren:function(a,b,c){var d=this._renderedChildren;if((this._renderedChildren=a=this._reconcilerUpdateChildren(d,
a,b,c))||d){var e,f=0,h=0;for(e in a)if(a.hasOwnProperty(e)){var k=d&&d[e],l=a[e];k===l?(this.moveChild(k,h,f),f=Math.max(k._mountIndex,f),k._mountIndex=h):(k&&(f=Math.max(k._mountIndex,f),this._unmountChild(k)),this._mountChildByNameAtIndex(l,e,h,b,c));h++}for(e in d)!d.hasOwnProperty(e)||a&&a.hasOwnProperty(e)||this._unmountChild(d[e])}},unmountChildren:function(){m.unmountChildren(this._renderedChildren);this._renderedChildren=null},moveChild:function(a,b,c){a._mountIndex<c&&p.push({parentID:this._rootNodeID,
parentNode:null,type:k.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:a._mountIndex,toIndex:b})},createChild:function(a,b){a=a._mountIndex;p.push({parentID:this._rootNodeID,parentNode:null,type:k.INSERT_MARKUP,markupIndex:r.push(b)-1,content:null,fromIndex:null,toIndex:a})},removeChild:function(a){p.push({parentID:this._rootNodeID,parentNode:null,type:k.REMOVE_NODE,markupIndex:null,content:null,fromIndex:a._mountIndex,toIndex:null})},setTextContent:function(a){p.push({parentID:this._rootNodeID,
parentNode:null,type:k.TEXT_CONTENT,markupIndex:null,content:a,fromIndex:null,toIndex:null})},setMarkup:function(a){p.push({parentID:this._rootNodeID,parentNode:null,type:k.SET_MARKUP,markupIndex:null,content:a,fromIndex:null,toIndex:null})},_mountChildByNameAtIndex:function(a,b,c,d,e){b=n.mountComponent(a,this._rootNodeID+b,d,e);a._mountIndex=c;this.createChild(a,b)},_unmountChild:function(a){this.removeChild(a);a._mountIndex=null}}}}).call(this,a("_process"))},{"./ReactChildReconciler":894,"./ReactComponentEnvironment":899,
"./ReactCurrentOwner":902,"./ReactMultiChildUpdateTypes":935,"./ReactReconciler":944,"./flattenChildren":980,_process:1028}],935:[function(a,l,f){a=a("fbjs/lib/keyMirror")({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});l.exports=a},{"fbjs/lib/keyMirror":749}],936:[function(a,l,f){(function(c){var e=a("./Object.assign"),f=a("fbjs/lib/invariant"),b=null,k={},d=null;l.exports={getComponentClassForElement:function(a){if("function"===typeof a.type)return a.type;
a=a.type;var b=k[a];null==b&&(k[a]=b=null(a));return b},createInternalComponent:function(a){b?void 0:"production"!==c.env.NODE_ENV?f(!1,"There is no registered component for the tag %s",a.type):f(!1);return new b(a.type,a.props)},createInstanceForText:function(a){return new d(a)},isTextComponent:function(a){return a instanceof d},injection:{injectGenericComponentClass:function(a){b=a},injectTextComponentClass:function(a){d=a},injectComponentClasses:function(a){e(k,a)}}}}).call(this,a("_process"))},
{"./Object.assign":887,_process:1028,"fbjs/lib/invariant":746}],937:[function(a,l,f){(function(c){function e(a,e){"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?f(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",e,e,a.constructor&&a.constructor.displayName||""):void 0)}var f=a("fbjs/lib/warning");l.exports={isMounted:function(a){return!1},enqueueCallback:function(a,
c){},enqueueForceUpdate:function(a){e(a,"forceUpdate")},enqueueReplaceState:function(a,c){e(a,"replaceState")},enqueueSetState:function(a,c){e(a,"setState")},enqueueSetProps:function(a,c){e(a,"setProps")},enqueueReplaceProps:function(a,c){e(a,"replaceProps")}}}).call(this,a("_process"))},{_process:1028,"fbjs/lib/warning":757}],938:[function(a,l,f){(function(c){var e=a("fbjs/lib/invariant"),f={isValidOwner:function(a){return!(!a||"function"!==typeof a.attachRef||"function"!==typeof a.detachRef)},addComponentAsRefTo:function(a,
h,d){f.isValidOwner(d)?void 0:"production"!==c.env.NODE_ENV?e(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):e(!1);d.attachRef(h,a)},removeComponentAsRefFrom:function(a,h,d){f.isValidOwner(d)?void 0:"production"!==c.env.NODE_ENV?e(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):
e(!1);d.getPublicInstance().refs[h]===a.getPublicInstance()&&d.detachRef(h)}};l.exports=f}).call(this,a("_process"))},{_process:1028,"fbjs/lib/invariant":746}],939:[function(a,l,f){(function(a){var c={enableMeasure:!1,storedMeasure:function(a,b,c){return c},measureMethods:function(e,b,f){if("production"!==a.env.NODE_ENV)for(var d in f)f.hasOwnProperty(d)&&(e[d]=c.measure(b,f[d],e[d]))},measure:function(e,b,f){if("production"!==a.env.NODE_ENV){var d=null,h=function(){return c.enableMeasure?(d||(d=
c.storedMeasure(e,b,f)),d.apply(this,arguments)):f.apply(this,arguments)};h.displayName=e+"_"+b;return h}return f},injection:{injectMeasure:function(a){c.storedMeasure=a}}};l.exports=c}).call(this,a("_process"))},{_process:1028}],940:[function(a,l,f){f={};"production"!==a("_process").env.NODE_ENV&&(f={prop:"prop",context:"context",childContext:"child context"});l.exports=f},{_process:1028}],941:[function(a,l,f){a=a("fbjs/lib/keyMirror")({prop:null,context:null,childContext:null});l.exports=a},{"fbjs/lib/keyMirror":749}],
942:[function(a,l,f){function c(a){function b(b,c,e,f,h,k){f=f||"<<anonymous>>";k=k||e;return null==c[e]?(c=d[h],b?Error("Required "+c+" `"+k+"` was not specified in "+("`"+f+"`.")):null):a(c,e,f,h,k)}var c=b.bind(null,!1);c.isRequired=b.bind(null,!0);return c}function e(a){return c(function(c,e,f,h,k){c=c[e];if(b(c)!==a){h=d[h];a:{e=b(c);if("object"===e)if(c instanceof Date){c="date";break a}else if(c instanceof RegExp){c="regexp";break a}c=e}return Error("Invalid "+h+" `"+k+"` of type "+("`"+c+
"` supplied to `"+f+"`, expected ")+("`"+a+"`."))}return null})}function h(a){switch(typeof a){case "number":case "string":case "undefined":return!0;case "boolean":return!a;case "object":if(Array.isArray(a))return a.every(h);if(null===a||k.isValidElement(a))return!0;var b=n(a);if(b){var c=b.call(a);if(b!==a.entries)for(;!(a=c.next()).done;){if(!h(a.value))return!1}else for(;!(a=c.next()).done;)if((a=a.value)&&!h(a[1]))return!1}else return!1;return!0;default:return!1}}function b(a){var b=typeof a;
return Array.isArray(a)?"array":a instanceof RegExp?"object":b}var k=a("./ReactElement"),d=a("./ReactPropTypeLocationNames");f=a("fbjs/lib/emptyFunction");var n=a("./getIteratorFn");a={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),any:c(f.thatReturns(null)),arrayOf:function(a){return c(function(c,e,f,h,k){c=c[e];if(!Array.isArray(c))return h=d[h],c=b(c),Error("Invalid "+h+" `"+k+"` of type "+("`"+c+"` supplied to `"+f+"`, expected an array."));
for(e=0;e<c.length;e++){var l=a(c,e,f,h,k+"["+e+"]");if(l instanceof Error)return l}return null})},element:function(){return c(function(a,b,c,e,f){return k.isValidElement(a[b])?null:Error("Invalid "+d[e]+" `"+f+"` supplied to "+("`"+c+"`, expected a single ReactElement."))})}(),instanceOf:function(a){return c(function(b,c,e,f,h){if(!(b[c]instanceof a)){f=d[f];var k=a.name||"<<anonymous>>";b=b[c];b=b.constructor&&b.constructor.name?b.constructor.name:"<<anonymous>>";return Error("Invalid "+f+" `"+
h+"` of type "+("`"+b+"` supplied to `"+e+"`, expected ")+("instance of `"+k+"`."))}return null})},node:function(){return c(function(a,b,c,e,f){return h(a[b])?null:Error("Invalid "+d[e]+" `"+f+"` supplied to "+("`"+c+"`, expected a ReactNode."))})}(),objectOf:function(a){return c(function(c,e,f,h,k){c=c[e];e=b(c);if("object"!==e)return Error("Invalid "+d[h]+" `"+k+"` of type "+("`"+e+"` supplied to `"+f+"`, expected an object."));for(var l in c)if(c.hasOwnProperty(l)&&(e=a(c,l,f,h,k+"."+l),e instanceof
Error))return e;return null})},oneOf:function(a){return Array.isArray(a)?c(function(b,c,e,f,h){b=b[c];for(c=0;c<a.length;c++)if(b===a[c])return null;f=d[f];c=JSON.stringify(a);return Error("Invalid "+f+" `"+h+"` of value `"+b+"` "+("supplied to `"+e+"`, expected one of "+c+"."))}):c(function(){return Error("Invalid argument supplied to oneOf, expected an instance of array.")})},oneOfType:function(a){return Array.isArray(a)?c(function(b,c,e,f,h){for(var k=0;k<a.length;k++)if(null==(0,a[k])(b,c,e,f,
h))return null;return Error("Invalid "+d[f]+" `"+h+"` supplied to "+("`"+e+"`."))}):c(function(){return Error("Invalid argument supplied to oneOfType, expected an instance of array.")})},shape:function(a){return c(function(c,e,f,h,k){c=c[e];e=b(c);if("object"!==e)return Error("Invalid "+d[h]+" `"+k+"` of type `"+e+"` "+("supplied to `"+f+"`, expected `object`."));for(var l in a)if(e=a[l])if(e=e(c,l,f,h,k+"."+l))return e;return null})}};l.exports=a},{"./ReactElement":920,"./ReactPropTypeLocationNames":940,
"./getIteratorFn":986,"fbjs/lib/emptyFunction":738}],943:[function(a,l,f){function c(a){this.reinitializeTransaction();this.renderToStaticMarkup=!1;this.reactMountReady=e.getPooled(null);this.useCreateElement=!a&&b.useCreateElement}var e=a("./CallbackQueue");f=a("./PooledClass");var h=a("./ReactBrowserEventEmitter"),b=a("./ReactDOMFeatureFlags"),k=a("./ReactInputSelection"),d=a("./Transaction");a=a("./Object.assign");var n=[{initialize:k.getSelectionInformation,close:k.restoreSelection},{initialize:function(){var a=
h.isEnabled();h.setEnabled(!1);return a},close:function(a){h.setEnabled(a)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];a(c.prototype,d.Mixin,{getTransactionWrappers:function(){return n},getReactMountReady:function(){return this.reactMountReady},destructor:function(){e.release(this.reactMountReady);this.reactMountReady=null}});f.addPoolingTo(c);l.exports=c},{"./CallbackQueue":870,"./Object.assign":887,"./PooledClass":888,"./ReactBrowserEventEmitter":891,
"./ReactDOMFeatureFlags":907,"./ReactInputSelection":928,"./Transaction":971}],944:[function(a,l,f){function c(){e.attachRefs(this,this._currentElement)}var e=a("./ReactRef");l.exports={mountComponent:function(a,b,e,d){b=a.mountComponent(b,e,d);a._currentElement&&null!=a._currentElement.ref&&e.getReactMountReady().enqueue(c,a);return b},unmountComponent:function(a){e.detachRefs(a,a._currentElement);a.unmountComponent()},receiveComponent:function(a,b,f,d){var h=a._currentElement;if(b!==h||d!==a._context){var k=
e.shouldUpdateRefs(h,b);k&&e.detachRefs(a,h);a.receiveComponent(b,f,d);k&&a._currentElement&&null!=a._currentElement.ref&&f.getReactMountReady().enqueue(c,a)}},performUpdateIfNecessary:function(a,b){a.performUpdateIfNecessary(b)}}},{"./ReactRef":945}],945:[function(a,l,f){var c=a("./ReactOwner");l.exports={attachRefs:function(a,f){if(null!==f&&!1!==f){var b=f.ref;null!=b&&(f=f._owner,"function"===typeof b?b(a.getPublicInstance()):c.addComponentAsRefTo(a,b,f))}},shouldUpdateRefs:function(a,c){return null===
a||!1===a||null===c||!1===c||c._owner!==a._owner||c.ref!==a.ref},detachRefs:function(a,f){if(null!==f&&!1!==f){var b=f.ref;null!=b&&(f=f._owner,"function"===typeof b?b(null):c.removeComponentAsRefFrom(a,b,f))}}}},{"./ReactOwner":938}],946:[function(a,l,f){var c={createReactRootIndex:null,injection:{injectCreateReactRootIndex:function(a){c.createReactRootIndex=a}}};l.exports=c},{}],947:[function(a,l,f){l.exports={isBatchingUpdates:!1,batchedUpdates:function(a){}}},{}],948:[function(a,l,f){(function(c){var e=
a("./ReactDefaultBatchingStrategy"),f=a("./ReactElement"),b=a("./ReactInstanceHandles"),k=a("./ReactMarkupChecksum"),d=a("./ReactServerBatchingStrategy"),n=a("./ReactServerRenderingTransaction"),m=a("./ReactUpdates"),q=a("fbjs/lib/emptyObject"),w=a("./instantiateReactComponent"),p=a("fbjs/lib/invariant");l.exports={renderToString:function(a){f.isValidElement(a)?void 0:"production"!==c.env.NODE_ENV?p(!1,"renderToString(): You must pass a valid ReactElement."):p(!1);var h;try{m.injection.injectBatchingStrategy(d);
var l=b.createReactRootID();h=n.getPooled(!1);return h.perform(function(){var b=w(a,null).mountComponent(l,h,q);return k.addChecksumToMarkup(b)},null)}finally{n.release(h),m.injection.injectBatchingStrategy(e)}},renderToStaticMarkup:function(a){f.isValidElement(a)?void 0:"production"!==c.env.NODE_ENV?p(!1,"renderToStaticMarkup(): You must pass a valid ReactElement."):p(!1);var h;try{m.injection.injectBatchingStrategy(d);var k=b.createReactRootID();h=n.getPooled(!0);return h.perform(function(){return w(a,
null).mountComponent(k,h,q)},null)}finally{n.release(h),m.injection.injectBatchingStrategy(e)}}}}).call(this,a("_process"))},{"./ReactDefaultBatchingStrategy":916,"./ReactElement":920,"./ReactInstanceHandles":929,"./ReactMarkupChecksum":932,"./ReactServerBatchingStrategy":947,"./ReactServerRenderingTransaction":949,"./ReactUpdates":954,"./instantiateReactComponent":989,_process:1028,"fbjs/lib/emptyObject":739,"fbjs/lib/invariant":746}],949:[function(a,l,f){function c(a){this.reinitializeTransaction();
this.renderToStaticMarkup=a;this.reactMountReady=e.getPooled(null);this.useCreateElement=!1}f=a("./PooledClass");var e=a("./CallbackQueue"),h=a("./Transaction"),b=a("./Object.assign"),k=[{initialize:function(){this.reactMountReady.reset()},close:a("fbjs/lib/emptyFunction")}];b(c.prototype,h.Mixin,{getTransactionWrappers:function(){return k},getReactMountReady:function(){return this.reactMountReady},destructor:function(){e.release(this.reactMountReady);this.reactMountReady=null}});f.addPoolingTo(c);
l.exports=c},{"./CallbackQueue":870,"./Object.assign":887,"./PooledClass":888,"./Transaction":971,"fbjs/lib/emptyFunction":738}],950:[function(a,l,f){var c=a("./flattenChildren");l.exports={getChildMapping:function(a){return a?c(a):a},mergeChildMappings:function(a,c){function b(b){return c.hasOwnProperty(b)?c[b]:a[b]}a=a||{};c=c||{};var e={},d=[],f;for(f in a)c.hasOwnProperty(f)?d.length&&(e[f]=d,d=[]):d.push(f);var h={},l;for(l in c){if(e.hasOwnProperty(l))for(f=0;f<e[l].length;f++)h[e[l][f]]=b(e[l][f]);
h[l]=b(l)}for(f=0;f<d.length;f++)h[d[f]]=b(d[f]);return h}}},{"./flattenChildren":980}],951:[function(a,l,f){function c(){var a=document.createElement("div").style;"AnimationEvent"in window||delete e.animationend.animation;"TransitionEvent"in window||delete e.transitionend.transition;for(var c in e){var d=e[c],f;for(f in d)if(f in a){h.push(d[f]);break}}}var e={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",
msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},h=[];a("fbjs/lib/ExecutionEnvironment").canUseDOM&&c();l.exports={addEndEventListener:function(a,c){0===h.length?window.setTimeout(c,0):h.forEach(function(b){a.addEventListener(b,c,!1)})},removeEndEventListener:function(a,c){0!==h.length&&h.forEach(function(b){a.removeEventListener(b,c,!1)})}}},{"fbjs/lib/ExecutionEnvironment":732}],
952:[function(a,l,f){var c=a("./React"),e=a("./ReactTransitionChildMapping"),h=a("./Object.assign"),b=a("fbjs/lib/emptyFunction");a=c.createClass({displayName:"ReactTransitionGroup",propTypes:{component:c.PropTypes.any,childFactory:c.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:b.thatReturnsArgument}},getInitialState:function(){return{children:e.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={};this.keysToEnter=
[];this.keysToLeave=[]},componentDidMount:function(){var a=this.state.children,b;for(b in a)a[b]&&this.performAppear(b)},componentWillReceiveProps:function(a){a=e.getChildMapping(a.children);var b=this.state.children;this.setState({children:e.mergeChildMappings(b,a)});for(var c in a){var f=b&&b.hasOwnProperty(c);!a[c]||f||this.currentlyTransitioningKeys[c]||this.keysToEnter.push(c)}for(c in b)f=a&&a.hasOwnProperty(c),!b[c]||f||this.currentlyTransitioningKeys[c]||this.keysToLeave.push(c)},componentDidUpdate:function(){var a=
this.keysToEnter;this.keysToEnter=[];a.forEach(this.performEnter);a=this.keysToLeave;this.keysToLeave=[];a.forEach(this.performLeave)},performAppear:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillAppear?b.componentWillAppear(this._handleDoneAppearing.bind(this,a)):this._handleDoneAppearing(a)},_handleDoneAppearing:function(a){var b=this.refs[a];b.componentDidAppear&&b.componentDidAppear();delete this.currentlyTransitioningKeys[a];(b=e.getChildMapping(this.props.children))&&
b.hasOwnProperty(a)||this.performLeave(a)},performEnter:function(a){this.currentlyTransitioningKeys[a]=!0;var b=this.refs[a];b.componentWillEnter?b.componentWillEnter(this._handleDoneEntering.bind(this,a)):this._handleDoneEntering(a)},_handleDoneEntering:function(a){var b=this.refs[a];b.componentDidEnter&&b.componentDidEnter();delete this.currentlyTransitioningKeys[a];(b=e.getChildMapping(this.props.children))&&b.hasOwnProperty(a)||this.performLeave(a)},performLeave:function(a){this.currentlyTransitioningKeys[a]=
!0;var b=this.refs[a];b.componentWillLeave?b.componentWillLeave(this._handleDoneLeaving.bind(this,a)):this._handleDoneLeaving(a)},_handleDoneLeaving:function(a){var b=this.refs[a];b.componentDidLeave&&b.componentDidLeave();delete this.currentlyTransitioningKeys[a];(b=e.getChildMapping(this.props.children))&&b.hasOwnProperty(a)?this.performEnter(a):this.setState(function(b){b=h({},b.children);delete b[a];return{children:b}})},render:function(){var a=[],b;for(b in this.state.children){var e=this.state.children[b];
e&&a.push(c.cloneElement(this.props.childFactory(e),{ref:b,key:b}))}return c.createElement(this.props.component,this.props,a)}});l.exports=a},{"./Object.assign":887,"./React":889,"./ReactTransitionChildMapping":950,"fbjs/lib/emptyFunction":738}],953:[function(a,l,f){(function(c){function e(a,b){var d=k.get(a);if(!d)return"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?q(!b,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",
b,b,a.constructor.displayName):void 0),null;"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?q(null==f.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",b):void 0);return d}var f=a("./ReactCurrentOwner"),b=a("./ReactElement"),k=a("./ReactInstanceMap"),d=a("./ReactUpdates"),n=a("./Object.assign"),m=a("fbjs/lib/invariant"),q=a("fbjs/lib/warning"),w={isMounted:function(a){if("production"!==
c.env.NODE_ENV){var b=f.current;null!==b&&("production"!==c.env.NODE_ENV?q(b._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",b.getName()||"A component"):void 0,b._warnedAboutRefsInRender=!0)}return(a=k.get(a))?!!a._renderedComponent:!1},enqueueCallback:function(a,
b){"function"!==typeof b?"production"!==c.env.NODE_ENV?m(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):m(!1):void 0;a=e(a);if(!a)return null;a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b];d.enqueueUpdate(a)},enqueueCallbackInternal:function(a,b){"function"!==typeof b?"production"!==c.env.NODE_ENV?m(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):
m(!1):void 0;a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b];d.enqueueUpdate(a)},enqueueForceUpdate:function(a){if(a=e(a,"forceUpdate"))a._pendingForceUpdate=!0,d.enqueueUpdate(a)},enqueueReplaceState:function(a,b){if(a=e(a,"replaceState"))a._pendingStateQueue=[b],a._pendingReplaceState=!0,d.enqueueUpdate(a)},enqueueSetState:function(a,b){if(a=e(a,"setState"))(a._pendingStateQueue||(a._pendingStateQueue=[])).push(b),d.enqueueUpdate(a)},enqueueSetProps:function(a,b){(a=e(a,
"setProps"))&&w.enqueueSetPropsInternal(a,b)},enqueueSetPropsInternal:function(a,e){(a=a._topLevelWrapper)?void 0:"production"!==c.env.NODE_ENV?m(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):m(!1);var f=a._pendingElement||a._currentElement,h=f.props;e=n({},h.props,e);a._pendingElement=
b.cloneAndReplaceProps(f,b.cloneAndReplaceProps(h,e));d.enqueueUpdate(a)},enqueueReplaceProps:function(a,b){(a=e(a,"replaceProps"))&&w.enqueueReplacePropsInternal(a,b)},enqueueReplacePropsInternal:function(a,e){(a=a._topLevelWrapper)?void 0:"production"!==c.env.NODE_ENV?m(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created."):
m(!1);var f=a._pendingElement||a._currentElement;a._pendingElement=b.cloneAndReplaceProps(f,b.cloneAndReplaceProps(f.props,e));d.enqueueUpdate(a)},enqueueElementInternal:function(a,b){a._pendingElement=b;d.enqueueUpdate(a)}};l.exports=w}).call(this,a("_process"))},{"./Object.assign":887,"./ReactCurrentOwner":902,"./ReactElement":920,"./ReactInstanceMap":930,"./ReactUpdates":954,_process:1028,"fbjs/lib/invariant":746,"fbjs/lib/warning":757}],954:[function(a,l,f){(function(c){function e(){B.ReactReconcileTransaction&&
g?void 0:"production"!==c.env.NODE_ENV?t(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):t(!1)}function f(){this.reinitializeTransaction();this.dirtyComponentsLength=null;this.callbackQueue=n.getPooled();this.reconcileTransaction=B.ReactReconcileTransaction.getPooled(!1)}function b(a,b){return a._mountOrder-b._mountOrder}function k(a){var d=a.dirtyComponentsLength;d!==u.length?"production"!==c.env.NODE_ENV?t(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",
d,u.length):t(!1):void 0;u.sort(b);for(var e=0;e<d;e++){var f=u[e],g=f._pendingCallbacks;f._pendingCallbacks=null;w.performUpdateIfNecessary(f,a.reconcileTransaction);if(g)for(var h=0;h<g.length;h++)a.callbackQueue.enqueue(g[h],f.getPublicInstance())}}function d(a){e();g.isBatchingUpdates?u.push(a):g.batchedUpdates(d,a)}var n=a("./CallbackQueue"),m=a("./PooledClass"),q=a("./ReactPerf"),w=a("./ReactReconciler"),p=a("./Transaction"),r=a("./Object.assign"),t=a("fbjs/lib/invariant"),u=[],y=n.getPooled(),
A=!1,g=null,v=[{initialize:function(){this.dirtyComponentsLength=u.length},close:function(){this.dirtyComponentsLength!==u.length?(u.splice(0,this.dirtyComponentsLength),z()):u.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];r(f.prototype,p.Mixin,{getTransactionWrappers:function(){return v},destructor:function(){this.dirtyComponentsLength=null;n.release(this.callbackQueue);this.callbackQueue=null;B.ReactReconcileTransaction.release(this.reconcileTransaction);
this.reconcileTransaction=null},perform:function(a,b,c){return p.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,a,b,c)}});m.addPoolingTo(f);var z=function(){for(;u.length||A;){if(u.length){var a=f.getPooled();a.perform(k,null,a);f.release(a)}A&&(A=!1,a=y,y=n.getPooled(),a.notifyAll(),n.release(a))}},z=q.measure("ReactUpdates","flushBatchedUpdates",z),B={ReactReconcileTransaction:null,batchedUpdates:function(a,b,c,d,f,h){e();g.batchedUpdates(a,b,c,d,f,h)},enqueueUpdate:d,
flushBatchedUpdates:z,injection:{injectReconcileTransaction:function(a){a?void 0:"production"!==c.env.NODE_ENV?t(!1,"ReactUpdates: must provide a reconcile transaction class"):t(!1);B.ReactReconcileTransaction=a},injectBatchingStrategy:function(a){a?void 0:"production"!==c.env.NODE_ENV?t(!1,"ReactUpdates: must provide a batching strategy"):t(!1);"function"!==typeof a.batchedUpdates?"production"!==c.env.NODE_ENV?t(!1,"ReactUpdates: must provide a batchedUpdates() function"):t(!1):void 0;"boolean"!==
typeof a.isBatchingUpdates?"production"!==c.env.NODE_ENV?t(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):t(!1):void 0;g=a}},asap:function(a,b){g.isBatchingUpdates?void 0:"production"!==c.env.NODE_ENV?t(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):t(!1);y.enqueue(a,b);A=!0}};l.exports=B}).call(this,a("_process"))},{"./CallbackQueue":870,"./Object.assign":887,"./PooledClass":888,"./ReactPerf":939,"./ReactReconciler":944,
"./Transaction":971,_process:1028,"fbjs/lib/invariant":746}],955:[function(a,l,f){l.exports="0.14.7"},{}],956:[function(a,l,f){a=a("./DOMProperty").injection.MUST_USE_ATTRIBUTE;l.exports={Properties:{clipPath:a,cx:a,cy:a,d:a,dx:a,dy:a,fill:a,fillOpacity:a,fontFamily:a,fontSize:a,fx:a,fy:a,gradientTransform:a,gradientUnits:a,markerEnd:a,markerMid:a,markerStart:a,offset:a,opacity:a,patternContentUnits:a,patternUnits:a,points:a,preserveAspectRatio:a,r:a,rx:a,ry:a,spreadMethod:a,stopColor:a,stopOpacity:a,
stroke:a,strokeDasharray:a,strokeLinecap:a,strokeOpacity:a,strokeWidth:a,textAnchor:a,transform:a,version:a,viewBox:a,x1:a,x2:a,x:a,xlinkActuate:a,xlinkArcrole:a,xlinkHref:a,xlinkRole:a,xlinkShow:a,xlinkTitle:a,xlinkType:a,xmlBase:a,xmlLang:a,xmlSpace:a,y1:a,y2:a,y:a},DOMAttributeNamespaces:{xlinkActuate:"http://www.w3.org/1999/xlink",xlinkArcrole:"http://www.w3.org/1999/xlink",xlinkHref:"http://www.w3.org/1999/xlink",xlinkRole:"http://www.w3.org/1999/xlink",xlinkShow:"http://www.w3.org/1999/xlink",
xlinkTitle:"http://www.w3.org/1999/xlink",xlinkType:"http://www.w3.org/1999/xlink",xmlBase:"http://www.w3.org/XML/1998/namespace",xmlLang:"http://www.w3.org/XML/1998/namespace",xmlSpace:"http://www.w3.org/XML/1998/namespace"},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",
patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",
xmlLang:"xml:lang",xmlSpace:"xml:space"}}},{"./DOMProperty":874}],957:[function(a,l,f){function c(a,c){if(A||null==t||t!==d())return null;var f;f=t;"selectionStart"in f&&b.hasSelectionCapabilities(f)?f={start:f.selectionStart,end:f.selectionEnd}:window.getSelection?(f=window.getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}):document.selection?(f=document.selection.createRange(),f={parentElement:f.parentElement(),text:f.text,top:f.boundingTop,
left:f.boundingLeft}):f=void 0;return y&&q(y,f)?null:(y=f,a=k.getPooled(r.select,u,a,c),a.type="select",a.target=t,e.accumulateTwoPhaseDispatches(a),a)}f=a("./EventConstants");var e=a("./EventPropagators"),h=a("fbjs/lib/ExecutionEnvironment"),b=a("./ReactInputSelection"),k=a("./SyntheticEvent"),d=a("fbjs/lib/getActiveElement"),n=a("./isTextInputElement"),m=a("fbjs/lib/keyOf"),q=a("fbjs/lib/shallowEqual"),w=f.topLevelTypes,p=h.canUseDOM&&"documentMode"in document&&11>=document.documentMode,r={select:{phasedRegistrationNames:{bubbled:m({onSelect:null}),
captured:m({onSelectCapture:null})},dependencies:[w.topBlur,w.topContextMenu,w.topFocus,w.topKeyDown,w.topMouseDown,w.topMouseUp,w.topSelectionChange]}},t=null,u=null,y=null,A=!1,g=!1,v=m({onSelect:null});l.exports={eventTypes:r,extractEvents:function(a,b,d,e,f){if(!g)return null;switch(a){case w.topFocus:if(n(b)||"true"===b.contentEditable)t=b,u=d,y=null;break;case w.topBlur:y=u=t=null;break;case w.topMouseDown:A=!0;break;case w.topContextMenu:case w.topMouseUp:return A=!1,c(e,f);case w.topSelectionChange:if(p)break;
case w.topKeyDown:case w.topKeyUp:return c(e,f)}return null},didPutListener:function(a,b,c){b===v&&(g=!0)}}},{"./EventConstants":879,"./EventPropagators":883,"./ReactInputSelection":928,"./SyntheticEvent":963,"./isTextInputElement":991,"fbjs/lib/ExecutionEnvironment":732,"fbjs/lib/getActiveElement":741,"fbjs/lib/keyOf":750,"fbjs/lib/shallowEqual":755}],958:[function(a,l,f){var c=Math.pow(2,53);l.exports={createReactRootIndex:function(){return Math.ceil(Math.random()*c)}}},{}],959:[function(a,l,f){(function(c){var e=
a("./EventConstants"),f=a("fbjs/lib/EventListener"),b=a("./EventPropagators"),k=a("./ReactMount"),d=a("./SyntheticClipboardEvent"),n=a("./SyntheticEvent"),m=a("./SyntheticFocusEvent"),q=a("./SyntheticKeyboardEvent"),w=a("./SyntheticMouseEvent"),p=a("./SyntheticDragEvent"),r=a("./SyntheticTouchEvent"),t=a("./SyntheticUIEvent"),u=a("./SyntheticWheelEvent"),y=a("fbjs/lib/emptyFunction"),A=a("./getEventCharCode"),g=a("fbjs/lib/invariant"),v=a("fbjs/lib/keyOf"),z=e.topLevelTypes,e={abort:{phasedRegistrationNames:{bubbled:v({onAbort:!0}),
captured:v({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:v({onBlur:!0}),captured:v({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:v({onCanPlay:!0}),captured:v({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:v({onCanPlayThrough:!0}),captured:v({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:v({onClick:!0}),captured:v({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:v({onContextMenu:!0}),captured:v({onContextMenuCapture:!0})}},
copy:{phasedRegistrationNames:{bubbled:v({onCopy:!0}),captured:v({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:v({onCut:!0}),captured:v({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:v({onDoubleClick:!0}),captured:v({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:v({onDrag:!0}),captured:v({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:v({onDragEnd:!0}),captured:v({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:v({onDragEnter:!0}),
captured:v({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:v({onDragExit:!0}),captured:v({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:v({onDragLeave:!0}),captured:v({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:v({onDragOver:!0}),captured:v({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:v({onDragStart:!0}),captured:v({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:v({onDrop:!0}),captured:v({onDropCapture:!0})}},
durationChange:{phasedRegistrationNames:{bubbled:v({onDurationChange:!0}),captured:v({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:v({onEmptied:!0}),captured:v({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:v({onEncrypted:!0}),captured:v({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:v({onEnded:!0}),captured:v({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:v({onError:!0}),captured:v({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:v({onFocus:!0}),
captured:v({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:v({onInput:!0}),captured:v({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:v({onKeyDown:!0}),captured:v({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:v({onKeyPress:!0}),captured:v({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:v({onKeyUp:!0}),captured:v({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:v({onLoad:!0}),captured:v({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:v({onLoadedData:!0}),
captured:v({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:v({onLoadedMetadata:!0}),captured:v({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:v({onLoadStart:!0}),captured:v({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:v({onMouseDown:!0}),captured:v({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:v({onMouseMove:!0}),captured:v({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:v({onMouseOut:!0}),
captured:v({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:v({onMouseOver:!0}),captured:v({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:v({onMouseUp:!0}),captured:v({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:v({onPaste:!0}),captured:v({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:v({onPause:!0}),captured:v({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:v({onPlay:!0}),captured:v({onPlayCapture:!0})}},
playing:{phasedRegistrationNames:{bubbled:v({onPlaying:!0}),captured:v({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:v({onProgress:!0}),captured:v({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:v({onRateChange:!0}),captured:v({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:v({onReset:!0}),captured:v({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:v({onScroll:!0}),captured:v({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:v({onSeeked:!0}),
captured:v({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:v({onSeeking:!0}),captured:v({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:v({onStalled:!0}),captured:v({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:v({onSubmit:!0}),captured:v({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:v({onSuspend:!0}),captured:v({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:v({onTimeUpdate:!0}),captured:v({onTimeUpdateCapture:!0})}},
touchCancel:{phasedRegistrationNames:{bubbled:v({onTouchCancel:!0}),captured:v({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:v({onTouchEnd:!0}),captured:v({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:v({onTouchMove:!0}),captured:v({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:v({onTouchStart:!0}),captured:v({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:v({onVolumeChange:!0}),captured:v({onVolumeChangeCapture:!0})}},
waiting:{phasedRegistrationNames:{bubbled:v({onWaiting:!0}),captured:v({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:v({onWheel:!0}),captured:v({onWheelCapture:!0})}}},B={topAbort:e.abort,topBlur:e.blur,topCanPlay:e.canPlay,topCanPlayThrough:e.canPlayThrough,topClick:e.click,topContextMenu:e.contextMenu,topCopy:e.copy,topCut:e.cut,topDoubleClick:e.doubleClick,topDrag:e.drag,topDragEnd:e.dragEnd,topDragEnter:e.dragEnter,topDragExit:e.dragExit,topDragLeave:e.dragLeave,topDragOver:e.dragOver,
topDragStart:e.dragStart,topDrop:e.drop,topDurationChange:e.durationChange,topEmptied:e.emptied,topEncrypted:e.encrypted,topEnded:e.ended,topError:e.error,topFocus:e.focus,topInput:e.input,topKeyDown:e.keyDown,topKeyPress:e.keyPress,topKeyUp:e.keyUp,topLoad:e.load,topLoadedData:e.loadedData,topLoadedMetadata:e.loadedMetadata,topLoadStart:e.loadStart,topMouseDown:e.mouseDown,topMouseMove:e.mouseMove,topMouseOut:e.mouseOut,topMouseOver:e.mouseOver,topMouseUp:e.mouseUp,topPaste:e.paste,topPause:e.pause,
topPlay:e.play,topPlaying:e.playing,topProgress:e.progress,topRateChange:e.rateChange,topReset:e.reset,topScroll:e.scroll,topSeeked:e.seeked,topSeeking:e.seeking,topStalled:e.stalled,topSubmit:e.submit,topSuspend:e.suspend,topTimeUpdate:e.timeUpdate,topTouchCancel:e.touchCancel,topTouchEnd:e.touchEnd,topTouchMove:e.touchMove,topTouchStart:e.touchStart,topVolumeChange:e.volumeChange,topWaiting:e.waiting,topWheel:e.wheel},G;for(G in B)B[G].dependencies=[G];var x=v({onClick:null}),D={};l.exports={eventTypes:e,
extractEvents:function(a,e,f,h,k){e=B[a];if(!e)return null;var l;switch(a){case z.topAbort:case z.topCanPlay:case z.topCanPlayThrough:case z.topDurationChange:case z.topEmptied:case z.topEncrypted:case z.topEnded:case z.topError:case z.topInput:case z.topLoad:case z.topLoadedData:case z.topLoadedMetadata:case z.topLoadStart:case z.topPause:case z.topPlay:case z.topPlaying:case z.topProgress:case z.topRateChange:case z.topReset:case z.topSeeked:case z.topSeeking:case z.topStalled:case z.topSubmit:case z.topSuspend:case z.topTimeUpdate:case z.topVolumeChange:case z.topWaiting:l=
n;break;case z.topKeyPress:if(0===A(h))return null;case z.topKeyDown:case z.topKeyUp:l=q;break;case z.topBlur:case z.topFocus:l=m;break;case z.topClick:if(2===h.button)return null;case z.topContextMenu:case z.topDoubleClick:case z.topMouseDown:case z.topMouseMove:case z.topMouseOut:case z.topMouseOver:case z.topMouseUp:l=w;break;case z.topDrag:case z.topDragEnd:case z.topDragEnter:case z.topDragExit:case z.topDragLeave:case z.topDragOver:case z.topDragStart:case z.topDrop:l=p;break;case z.topTouchCancel:case z.topTouchEnd:case z.topTouchMove:case z.topTouchStart:l=
r;break;case z.topScroll:l=t;break;case z.topWheel:l=u;break;case z.topCopy:case z.topCut:case z.topPaste:l=d}l?void 0:"production"!==c.env.NODE_ENV?g(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",a):g(!1);a=l.getPooled(e,f,h,k);b.accumulateTwoPhaseDispatches(a);return a},didPutListener:function(a,b,c){b===x&&(b=k.getNode(a),D[a]||(D[a]=f.listen(b,"click",y)))},willDeleteListener:function(a,b){b===x&&(D[a].remove(),delete D[a])}}}).call(this,a("_process"))},{"./EventConstants":879,"./EventPropagators":883,
"./ReactMount":933,"./SyntheticClipboardEvent":960,"./SyntheticDragEvent":962,"./SyntheticEvent":963,"./SyntheticFocusEvent":964,"./SyntheticKeyboardEvent":966,"./SyntheticMouseEvent":967,"./SyntheticTouchEvent":968,"./SyntheticUIEvent":969,"./SyntheticWheelEvent":970,"./getEventCharCode":982,_process:1028,"fbjs/lib/EventListener":731,"fbjs/lib/emptyFunction":738,"fbjs/lib/invariant":746,"fbjs/lib/keyOf":750}],960:[function(a,l,f){function c(a,b,c,d){e.call(this,a,b,c,d)}var e=a("./SyntheticEvent");
e.augmentClass(c,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}});l.exports=c},{"./SyntheticEvent":963}],961:[function(a,l,f){function c(a,b,c,d){e.call(this,a,b,c,d)}var e=a("./SyntheticEvent");e.augmentClass(c,{data:null});l.exports=c},{"./SyntheticEvent":963}],962:[function(a,l,f){function c(a,b,c,d){e.call(this,a,b,c,d)}var e=a("./SyntheticMouseEvent");e.augmentClass(c,{dataTransfer:null});l.exports=c},{"./SyntheticMouseEvent":967}],963:[function(a,
l,f){(function(c){function e(a,b,c,d){this.dispatchConfig=a;this.dispatchMarker=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?k.thatReturnsTrue:k.thatReturnsFalse;this.isPropagationStopped=k.thatReturnsFalse}var f=a("./PooledClass"),b=a("./Object.assign"),k=a("fbjs/lib/emptyFunction"),d=a("fbjs/lib/warning"),
n={type:null,target:null,currentTarget:k.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};b(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?d(a,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."):
void 0);a&&(a.preventDefault?a.preventDefault():a.returnValue=!1,this.isDefaultPrevented=k.thatReturnsTrue)},stopPropagation:function(){var a=this.nativeEvent;"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?d(a,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."):void 0);a&&(a.stopPropagation?a.stopPropagation():
a.cancelBubble=!0,this.isPropagationStopped=k.thatReturnsTrue)},persist:function(){this.isPersistent=k.thatReturnsTrue},isPersistent:k.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface,b;for(b in a)this[b]=null;this.nativeEvent=this.dispatchMarker=this.dispatchConfig=null}});e.Interface=n;e.augmentClass=function(a,c){var d=Object.create(this.prototype);b(d,a.prototype);a.prototype=d;a.prototype.constructor=a;a.Interface=b({},this.Interface,c);a.augmentClass=this.augmentClass;
f.addPoolingTo(a,f.fourArgumentPooler)};f.addPoolingTo(e,f.fourArgumentPooler);l.exports=e}).call(this,a("_process"))},{"./Object.assign":887,"./PooledClass":888,_process:1028,"fbjs/lib/emptyFunction":738,"fbjs/lib/warning":757}],964:[function(a,l,f){function c(a,b,c,d){e.call(this,a,b,c,d)}var e=a("./SyntheticUIEvent");e.augmentClass(c,{relatedTarget:null});l.exports=c},{"./SyntheticUIEvent":969}],965:[function(a,l,f){function c(a,b,c,d){e.call(this,a,b,c,d)}var e=a("./SyntheticEvent");e.augmentClass(c,
{data:null});l.exports=c},{"./SyntheticEvent":963}],966:[function(a,l,f){function c(a,c,d,f){e.call(this,a,c,d,f)}var e=a("./SyntheticUIEvent"),h=a("./getEventCharCode");f=a("./getEventKey");a=a("./getEventModifierState");e.augmentClass(c,{key:f,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(a){return"keypress"===a.type?h(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===
a.type?h(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}});l.exports=c},{"./SyntheticUIEvent":969,"./getEventCharCode":982,"./getEventKey":983,"./getEventModifierState":984}],967:[function(a,l,f){function c(a,c,d,f){e.call(this,a,c,d,f)}var e=a("./SyntheticUIEvent"),h=a("./ViewportMetrics");a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a("./getEventModifierState"),button:function(a){var b=a.button;return"which"in a?
b:2===b?2:4===b?1:0},buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(a){return"pageX"in a?a.pageX:a.clientX+h.currentScrollLeft},pageY:function(a){return"pageY"in a?a.pageY:a.clientY+h.currentScrollTop}};e.augmentClass(c,a);l.exports=c},{"./SyntheticUIEvent":969,"./ViewportMetrics":972,"./getEventModifierState":984}],968:[function(a,l,f){function c(a,b,c,d){e.call(this,a,b,c,d)}var e=a("./SyntheticUIEvent");a=
{touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:a("./getEventModifierState")};e.augmentClass(c,a);l.exports=c},{"./SyntheticUIEvent":969,"./getEventModifierState":984}],969:[function(a,l,f){function c(a,c,d,f){e.call(this,a,c,d,f)}var e=a("./SyntheticEvent"),h=a("./getEventTarget");e.augmentClass(c,{view:function(a){if(a.view)return a.view;a=h(a);return null!=a&&a.window===a?a:(a=a.ownerDocument)?a.defaultView||a.parentWindow:
window},detail:function(a){return a.detail||0}});l.exports=c},{"./SyntheticEvent":963,"./getEventTarget":985}],970:[function(a,l,f){function c(a,b,c,d){e.call(this,a,b,c,d)}var e=a("./SyntheticMouseEvent");e.augmentClass(c,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null});l.exports=c},{"./SyntheticMouseEvent":967}],971:[function(a,
l,f){(function(c){var e=a("fbjs/lib/invariant"),f={Mixin:{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[];this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(a,f,d,h,l,q,w,p){this.isInTransaction()?"production"!==c.env.NODE_ENV?e(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):
e(!1):void 0;var b,k;try{b=this._isInTransaction=!0,this.initializeAll(0),k=a.call(f,d,h,l,q,w,p),b=!1}finally{try{if(b)try{this.closeAll(0)}catch(u){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return k},initializeAll:function(a){for(var b=this.transactionWrappers;a<b.length;a++){var c=b[a];try{this.wrapperInitData[a]=f.OBSERVED_ERROR,this.wrapperInitData[a]=c.initialize?c.initialize.call(this):null}finally{if(this.wrapperInitData[a]===f.OBSERVED_ERROR)try{this.initializeAll(a+1)}catch(n){}}}},
closeAll:function(a){this.isInTransaction()?void 0:"production"!==c.env.NODE_ENV?e(!1,"Transaction.closeAll(): Cannot close transaction when none are open."):e(!1);for(var b=this.transactionWrappers;a<b.length;a++){var d=b[a],h=this.wrapperInitData[a],l;try{l=!0,h!==f.OBSERVED_ERROR&&d.close&&d.close.call(this,h),l=!1}finally{if(l)try{this.closeAll(a+1)}catch(q){}}}this.wrapperInitData.length=0}},OBSERVED_ERROR:{}};l.exports=f}).call(this,a("_process"))},{_process:1028,"fbjs/lib/invariant":746}],
972:[function(a,l,f){var c={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(a){c.currentScrollLeft=a.x;c.currentScrollTop=a.y}};l.exports=c},{}],973:[function(a,l,f){(function(c){var e=a("fbjs/lib/invariant");l.exports=function(a,b){null==b?"production"!==c.env.NODE_ENV?e(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):e(!1):void 0;if(null==a)return b;var f=Array.isArray(a),d=Array.isArray(b);return f&&d?(a.push.apply(a,b),a):f?(a.push(b),a):d?[a].concat(b):
[a,b]}}).call(this,a("_process"))},{_process:1028,"fbjs/lib/invariant":746}],974:[function(a,l,f){l.exports=function(a){for(var c=1,f=0,b=0,k=a.length,d=k&-4;b<d;){for(;b<Math.min(b+4096,d);b+=4)f+=(c+=a.charCodeAt(b))+(c+=a.charCodeAt(b+1))+(c+=a.charCodeAt(b+2))+(c+=a.charCodeAt(b+3));c%=65521;f%=65521}for(;b<k;b++)f+=c+=a.charCodeAt(b);return c%65521|f%65521<<16}},{}],975:[function(a,l,f){(function(a){var c=!1;if("production"!==a.env.NODE_ENV)try{Object.defineProperty({},"x",{get:function(){}}),
c=!0}catch(h){}l.exports=c}).call(this,a("_process"))},{_process:1028}],976:[function(a,l,f){var c=a("./CSSProperty").isUnitlessNumber;l.exports=function(a,f){if(null==f||"boolean"===typeof f||""===f)return"";if(isNaN(f)||0===f||c.hasOwnProperty(a)&&c[a])return""+f;"string"===typeof f&&(f=f.trim());return f+"px"}},{"./CSSProperty":868}],977:[function(a,l,f){(function(c){var e=a("./Object.assign"),f=a("fbjs/lib/warning");l.exports=function(a,h,d,l,m){var b=!1;return"production"!==c.env.NODE_ENV?e(function(){"production"!==
c.env.NODE_ENV?f(b,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",a,h,a,d):void 0;b=!0;return m.apply(l,arguments)},m):m}}).call(this,a("_process"))},{"./Object.assign":887,_process:1028,"fbjs/lib/warning":757}],978:[function(a,l,f){function c(a){return e[a]}var e={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},h=/[&><"']/g;l.exports=function(a){return(""+a).replace(h,c)}},{}],979:[function(a,l,f){(function(c){var e=a("./ReactCurrentOwner"),f=a("./ReactInstanceMap"),
b=a("./ReactMount"),k=a("fbjs/lib/invariant"),d=a("fbjs/lib/warning");l.exports=function(a){if("production"!==c.env.NODE_ENV){var h=e.current;null!==h&&("production"!==c.env.NODE_ENV?d(h._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",h.getName()||
"A component"):void 0,h._warnedAboutRefsInRender=!0)}if(null==a)return null;if(1===a.nodeType)return a;if(f.has(a))return b.getNodeFromInstance(a);null!=a.render&&"function"===typeof a.render?"production"!==c.env.NODE_ENV?k(!1,"findDOMNode was called on an unmounted component."):k(!1):void 0;"production"!==c.env.NODE_ENV?k(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(a)):k(!1)}}).call(this,a("_process"))},{"./ReactCurrentOwner":902,"./ReactInstanceMap":930,
"./ReactMount":933,_process:1028,"fbjs/lib/invariant":746,"fbjs/lib/warning":757}],980:[function(a,l,f){(function(c){function e(a,d,e){var f=void 0===a[e];"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?b(f,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",e):void 0);f&&null!=d&&(a[e]=d)}var f=a("./traverseAllChildren"),b=a("fbjs/lib/warning");l.exports=function(a){if(null==
a)return a;var b={};f(a,e,b);return b}}).call(this,a("_process"))},{"./traverseAllChildren":999,_process:1028,"fbjs/lib/warning":757}],981:[function(a,l,f){l.exports=function(a,e,f){Array.isArray(a)?a.forEach(e,f):a&&e.call(f,a)}},{}],982:[function(a,l,f){l.exports=function(a){var c=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===c&&(a=13)):a=c;return 32<=a||13===a?a:0}},{}],983:[function(a,l,f){var c=a("./getEventCharCode"),e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",
Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",
145:"ScrollLock",224:"Meta"};l.exports=function(a){if(a.key){var b=e[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=c(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?h[a.keyCode]||"Unidentified":""}},{"./getEventCharCode":982}],984:[function(a,l,f){function c(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=e[a])?!!b[a]:!1}var e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};l.exports=function(a){return c}},
{}],985:[function(a,l,f){l.exports=function(a){a=a.target||a.srcElement||window;return 3===a.nodeType?a.parentNode:a}},{}],986:[function(a,l,f){var c="function"===typeof Symbol&&Symbol.iterator;l.exports=function(a){a=a&&(c&&a[c]||a["@@iterator"]);if("function"===typeof a)return a}},{}],987:[function(a,l,f){function c(a){for(;a&&a.firstChild;)a=a.firstChild;return a}l.exports=function(a,f){var b=c(a);a=0;for(var e;b;){if(3===b.nodeType){e=a+b.textContent.length;if(a<=f&&e>=f)return{node:b,offset:f-
a};a=e}a:{for(;b;){if(b.nextSibling){b=b.nextSibling;break a}b=b.parentNode}b=void 0}b=c(b)}}},{}],988:[function(a,l,f){var c=a("fbjs/lib/ExecutionEnvironment"),e=null;l.exports=function(){!e&&c.canUseDOM&&(e="textContent"in document.documentElement?"textContent":"innerText");return e}},{"fbjs/lib/ExecutionEnvironment":732}],989:[function(a,l,f){(function(c){function e(a){var d;if(null===a||!1===a)d=new b(e);else if("object"===typeof a){if(!a||"function"!==typeof a.type&&"string"!==typeof a.type)if("production"!==
c.env.NODE_ENV){d=null==a.type?a.type:typeof a.type;var f;a:{if(f=a._owner)if(f=f.getName()){f=" Check the render method of `"+f+"`.";break a}f=""}n(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",d,f)}else n(!1);else void 0;"string"===typeof a.type?d=k.createInternalComponent(a):(d=a.type,d="function"===typeof d&&"undefined"!==typeof d.prototype&&"function"===typeof d.prototype.mountComponent&&"function"===typeof d.prototype.receiveComponent?
new a.type(a):new q)}else"string"===typeof a||"number"===typeof a?d=k.createInstanceForText(a):"production"!==c.env.NODE_ENV?n(!1,"Encountered invalid React node of type %s",typeof a):n(!1);"production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?m("function"===typeof d.construct&&"function"===typeof d.mountComponent&&"function"===typeof d.receiveComponent&&"function"===typeof d.unmountComponent,"Only React Components can be mounted."):void 0);d.construct(a);d._mountIndex=0;d._mountImage=null;
"production"!==c.env.NODE_ENV&&(d._isOwnerNecessary=!1,d._warnedAboutRefsInRender=!1);"production"!==c.env.NODE_ENV&&Object.preventExtensions&&Object.preventExtensions(d);return d}var f=a("./ReactCompositeComponent"),b=a("./ReactEmptyComponent"),k=a("./ReactNativeComponent"),d=a("./Object.assign"),n=a("fbjs/lib/invariant"),m=a("fbjs/lib/warning"),q=function(){};d(q.prototype,f.Mixin,{_instantiateReactComponent:e});l.exports=e}).call(this,a("_process"))},{"./Object.assign":887,"./ReactCompositeComponent":901,
"./ReactEmptyComponent":922,"./ReactNativeComponent":936,_process:1028,"fbjs/lib/invariant":746,"fbjs/lib/warning":757}],990:[function(a,l,f){var c=a("fbjs/lib/ExecutionEnvironment"),e;c.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));l.exports=function(a,b){if(!c.canUseDOM||b&&!("addEventListener"in document))return!1;b="on"+a;var f=b in document;f||(f=document.createElement("div"),f.setAttribute(b,"return;"),f="function"===
typeof f[b]);!f&&e&&"wheel"===a&&(f=document.implementation.hasFeature("Events.wheel","3.0"));return f}},{"fbjs/lib/ExecutionEnvironment":732}],991:[function(a,l,f){var c={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};l.exports=function(a){var e=a&&a.nodeName&&a.nodeName.toLowerCase();return e&&("input"===e&&c[a.type]||"textarea"===e)}},{}],992:[function(a,l,f){(function(c){var e=a("./ReactElement"),
f=a("fbjs/lib/invariant");l.exports=function(a){e.isValidElement(a)?void 0:"production"!==c.env.NODE_ENV?f(!1,"onlyChild must be passed a children with exactly one child."):f(!1);return a}}).call(this,a("_process"))},{"./ReactElement":920,_process:1028,"fbjs/lib/invariant":746}],993:[function(a,l,f){var c=a("./escapeTextContentForBrowser");l.exports=function(a){return'"'+c(a)+'"'}},{"./escapeTextContentForBrowser":978}],994:[function(a,l,f){a=a("./ReactMount");l.exports=a.renderSubtreeIntoContainer},
{"./ReactMount":933}],995:[function(a,l,f){f=a("fbjs/lib/ExecutionEnvironment");var c=/^[ \r\n\t\f]/,e=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/;a=function(a,b){a.innerHTML=b};"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(a,b){MSApp.execUnsafeLocalFunction(function(){a.innerHTML=b})});f.canUseDOM&&(f=document.createElement("div"),f.innerHTML=" ",""===f.innerHTML&&(a=function(a,b){a.parentNode&&a.parentNode.replaceChild(a,a);c.test(b)||"<"===b[0]&&e.test(b)?(a.innerHTML=
String.fromCharCode(65279)+b,b=a.firstChild,1===b.data.length?a.removeChild(b):b.deleteData(0,1)):a.innerHTML=b}));l.exports=a},{"fbjs/lib/ExecutionEnvironment":732}],996:[function(a,l,f){f=a("fbjs/lib/ExecutionEnvironment");var c=a("./escapeTextContentForBrowser"),e=a("./setInnerHTML");a=function(a,b){a.textContent=b};f.canUseDOM&&("textContent"in document.documentElement||(a=function(a,b){e(a,c(b))}));l.exports=a},{"./escapeTextContentForBrowser":978,"./setInnerHTML":995,"fbjs/lib/ExecutionEnvironment":732}],
997:[function(a,l,f){var c=a("fbjs/lib/shallowEqual");l.exports=function(a,f,b){return!c(a.props,f)||!c(a.state,b)}},{"fbjs/lib/shallowEqual":755}],998:[function(a,l,f){l.exports=function(a,e){var c=null===a||!1===a,b=null===e||!1===e;if(c||b)return c===b;c=typeof a;b=typeof e;return"string"===c||"number"===c?"string"===b||"number"===b:"object"===b&&a.type===e.type&&a.key===e.key}},{}],999:[function(a,l,f){(function(c){function e(a){return r[a]}function f(a,b){return a&&null!=a.key?"$"+(""+a.key).replace(t,
e):b.toString(36)}function b(a,h,g,l){var n=typeof a;if("undefined"===n||"boolean"===n)a=null;if(null===a||"string"===n||"number"===n||d.isValidElement(a))return g(l,a,""===h?p+f(a,0):h),1;var r,v,x=0;h=""===h?p:h+":";if(Array.isArray(a))for(n=0;n<a.length;n++)r=a[n],v=h+f(r,n),x+=b(r,v,g,l);else if(r=m(a))if(n=r.call(a),r!==a.entries)for(a=0;!(r=n.next()).done;)r=r.value,v=h+f(r,a++),x+=b(r,v,g,l);else for("production"!==c.env.NODE_ENV&&("production"!==c.env.NODE_ENV?w(u,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."):
void 0,u=!0);!(r=n.next()).done;){if(a=r.value)r=a[1],v=h+("$"+(""+a[0]).replace(t,e))+":"+f(r,0),x+=b(r,v,g,l)}else"object"===n&&(g="","production"!==c.env.NODE_ENV&&(g=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",a._isReactElement&&(g=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),k.current&&(l=k.current.getName())&&(g+=
" Check the render method of `"+l+"`.")),l=String(a),"production"!==c.env.NODE_ENV?q(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===l?"object with keys {"+Object.keys(a).join(", ")+"}":l,g):q(!1));return x}var k=a("./ReactCurrentOwner"),d=a("./ReactElement"),n=a("./ReactInstanceHandles"),m=a("./getIteratorFn"),q=a("fbjs/lib/invariant"),w=a("fbjs/lib/warning"),p=n.SEPARATOR,r={"=":"=0",".":"=1",":":"=2"},t=/[=.:]/g,u=!1;l.exports=function(a,c,d){return null==a?0:b(a,
"",c,d)}}).call(this,a("_process"))},{"./ReactCurrentOwner":902,"./ReactElement":920,"./ReactInstanceHandles":929,"./getIteratorFn":986,_process:1028,"fbjs/lib/invariant":746,"fbjs/lib/warning":757}],1E3:[function(a,l,f){(function(c){var e=a("./Object.assign"),f=a("fbjs/lib/emptyFunction"),b=a("fbjs/lib/warning");if("production"!==c.env.NODE_ENV){var k="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),
d="applet caption html table td th marquee object template foreignObject desc title".split(" "),n=d.concat(["button"]),m="dd dt li option optgroup p rp rt".split(" "),q={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},w=function(a,b){switch(b){case "select":return"option"===a||"optgroup"===a||"#text"===a;case "optgroup":return"option"===a||"#text"===a;case "option":return"#text"===
a;case "tr":return"th"===a||"td"===a||"style"===a||"script"===a||"template"===a;case "tbody":case "thead":case "tfoot":return"tr"===a||"style"===a||"script"===a||"template"===a;case "colgroup":return"col"===a||"template"===a;case "table":return"caption"===a||"colgroup"===a||"tbody"===a||"tfoot"===a||"thead"===a||"style"===a||"script"===a||"template"===a;case "head":return"base"===a||"basefont"===a||"bgsound"===a||"link"===a||"meta"===a||"title"===a||"noscript"===a||"noframes"===a||"style"===a||"script"===
a||"template"===a;case "html":return"head"===a||"body"===a}switch(a){case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":return"h1"!==b&&"h2"!==b&&"h3"!==b&&"h4"!==b&&"h5"!==b&&"h6"!==b;case "rp":case "rt":return-1===m.indexOf(b);case "caption":case "col":case "colgroup":case "frame":case "head":case "tbody":case "td":case "tfoot":case "th":case "thead":case "tr":return null==b}return!0},p=function(a,b){switch(a){case "address":case "article":case "aside":case "blockquote":case "center":case "details":case "dialog":case "dir":case "div":case "dl":case "fieldset":case "figcaption":case "figure":case "footer":case "header":case "hgroup":case "main":case "menu":case "nav":case "ol":case "p":case "section":case "summary":case "ul":case "pre":case "listing":case "table":case "hr":case "xmp":case "h1":case "h2":case "h3":case "h4":case "h5":case "h6":return b.pTagInButtonScope;
case "form":return b.formTag||b.pTagInButtonScope;case "li":return b.listItemTagAutoclosing;case "dd":case "dt":return b.dlItemTagAutoclosing;case "button":return b.buttonTagInScope;case "a":return b.aTagInScope;case "nobr":return b.nobrTagInScope}return null},r=function(a){if(!a)return[];var b=[];do b.push(a);while(a=a._currentElement._owner);b.reverse();return b},t={},f=function(a,d,e){e=e||q;var f=e.parentTag,h=(f=w(a,f&&f.tag)?null:f)?null:p(a,e),k=f||h;if(k){e=k.tag;k=(k=k.instance)&&k._currentElement._owner;
d=r(d&&d._currentElement._owner);var l=r(k),m=Math.min(d.length,l.length),n,k=-1;for(n=0;n<m;n++)if(d[n]===l[n])k=n;else break;m=d.slice(k+1).map(function(a){return a.getName()||"(unknown)"});l=l.slice(k+1).map(function(a){return a.getName()||"(unknown)"});h=[].concat(-1!==k?d[k].getName()||"(unknown)":[],l,e,h?["..."]:[],m,a).join(" > ");d=!!f+"|"+a+"|"+e+"|"+h;t[d]||(t[d]=!0,f?(f="","table"===e&&"tr"===a&&(f+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),"production"!==
c.env.NODE_ENV?b(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",a,e,h,f):void 0):"production"!==c.env.NODE_ENV?b(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",a,e,h):void 0)}};f.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2);f.updatedAncestorInfo=function(a,b,c){a=e({},a||q);c={tag:b,instance:c};-1!==d.indexOf(b)&&(a.aTagInScope=null,a.buttonTagInScope=null,a.nobrTagInScope=null);-1!==
n.indexOf(b)&&(a.pTagInButtonScope=null);-1!==k.indexOf(b)&&"address"!==b&&"div"!==b&&"p"!==b&&(a.listItemTagAutoclosing=null,a.dlItemTagAutoclosing=null);a.parentTag=c;"form"===b&&(a.formTag=c);"a"===b&&(a.aTagInScope=c);"button"===b&&(a.buttonTagInScope=c);"nobr"===b&&(a.nobrTagInScope=c);"p"===b&&(a.pTagInButtonScope=c);"li"===b&&(a.listItemTagAutoclosing=c);if("dd"===b||"dt"===b)a.dlItemTagAutoclosing=c;return a};f.isTagValidInContext=function(a,b){b=b||q;var c=b.parentTag;return w(a,c&&c.tag)&&
!p(a,b)}}l.exports=f}).call(this,a("_process"))},{"./Object.assign":887,_process:1028,"fbjs/lib/emptyFunction":738,"fbjs/lib/warning":757}],1001:[function(a,l,f){l.exports=a("./lib/React")},{"./lib/React":889}],1002:[function(a,l,f){l.exports=a("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":1003}],1003:[function(a,l,f){function c(a){if(!(this instanceof c))return new c(a);k.call(this,a);d.call(this,a);a&&!1===a.readable&&(this.readable=!1);a&&!1===a.writable&&(this.writable=!1);this.allowHalfOpen=
!0;a&&!1===a.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",e)}function e(){this.allowHalfOpen||this._writableState.ended||b(h,this)}function h(a){a.end()}f=Object.keys||function(a){var b=[],c;for(c in a)b.push(c);return b};l.exports=c;var b=a("process-nextick-args");l=a("core-util-is");l.inherits=a("inherits");var k=a("./_stream_readable"),d=a("./_stream_writable");l.inherits(c,k);a=f(d.prototype);for(l=0;l<a.length;l++)f=a[l],c.prototype[f]||(c.prototype[f]=d.prototype[f])},{"./_stream_readable":1005,
"./_stream_writable":1007,"core-util-is":706,inherits:817,"process-nextick-args":861}],1004:[function(a,l,f){function c(a){if(!(this instanceof c))return new c(a);e.call(this,a)}l.exports=c;var e=a("./_stream_transform");l=a("core-util-is");l.inherits=a("inherits");l.inherits(c,e);c.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":1006,"core-util-is":706,inherits:817}],1005:[function(a,l,f){(function(c){function e(a,b,c){if("function"===typeof a.prependListener)return a.prependListener(b,
c);if(a._events&&a._events[b])B(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]];else a.on(b,c)}function f(b,c){K=K||a("./_stream_duplex");b=b||{};this.objectMode=!!b.objectMode;c instanceof K&&(this.objectMode=this.objectMode||!!b.readableObjectMode);c=b.highWaterMark;var d=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:d;this.highWaterMark=~~this.highWaterMark;this.buffer=new L;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.reading=this.endEmitted=
this.ended=!1;this.sync=!0;this.resumeScheduled=this.readableListening=this.emittedReadable=this.needReadable=!1;this.defaultEncoding=b.defaultEncoding||"utf8";this.ranOut=!1;this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;b.encoding&&(I||(I=a("string_decoder/").StringDecoder),this.decoder=new I(b.encoding),this.encoding=b.encoding)}function b(c){K=K||a("./_stream_duplex");if(!(this instanceof b))return new b(c);this._readableState=new f(c,this);this.readable=!0;c&&"function"===
typeof c.read&&(this._read=c.read);G.call(this)}function k(a,b,c,d,e){var f;f=c;var g=null;x.isBuffer(f)||"string"===typeof f||null===f||void 0===f||b.objectMode||(g=new TypeError("Invalid non-string/buffer chunk"));if(f=g)a.emit("error",f);else if(null===c)b.reading=!1,b.ended||(b.decoder&&(c=b.decoder.end())&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length),b.ended=!0,n(a));else if(b.objectMode||c&&0<c.length)if(b.ended&&!e)a.emit("error",Error("stream.push() after EOF"));else if(b.endEmitted&&
e)a.emit("error",Error("stream.unshift() after end event"));else{var h;!b.decoder||e||d||(c=b.decoder.write(c),h=!b.objectMode&&0===c.length);e||(b.reading=!1);h||(b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&n(a)));b.readingMore||(b.readingMore=!0,z(q,a,b))}else e||(b.reading=!1);return!b.ended&&(b.needReadable||b.length<b.highWaterMark||0===b.length)}function d(a,b){if(0>=a||0===b.length&&
b.ended)return 0;if(b.objectMode)return 1;if(a!==a)return b.flowing&&b.length?b.buffer.head.data.length:b.length;if(a>b.highWaterMark){var c=a;8388608<=c?c=8388608:(c--,c|=c>>>1,c|=c>>>2,c|=c>>>4,c|=c>>>8,c|=c>>>16,c++);b.highWaterMark=c}return a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0)}function n(a){var b=a._readableState;b.needReadable=!1;b.emittedReadable||(J("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?z(m,a):m(a))}function m(a){J("emit readable");a.emit("readable");t(a)}function q(a,
b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(J("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function w(a){return function(){var b=a._readableState;J("pipeOnDrain",b.awaitDrain);b.awaitDrain&&b.awaitDrain--;0===b.awaitDrain&&a.listeners("data").length&&(b.flowing=!0,t(a))}}function p(a){J("readable nexttick read 0");a.read(0)}function r(a,b){b.reading||(J("resume read 0"),a.read(0));b.resumeScheduled=!1;b.awaitDrain=0;a.emit("resume");
t(a);b.flowing&&!b.reading&&a.read(0)}function t(a){var b=a._readableState;for(J("flow",b.flowing);b.flowing&&null!==a.read(););}function u(a,b){if(0===b.length)return null;var c;if(b.objectMode)c=b.buffer.shift();else if(!a||a>=b.length)c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear();else{c=b.buffer;b=b.decoder;if(a<c.head.data.length)b=c.head.data.slice(0,a),c.head.data=c.head.data.slice(a);else{if(a===c.head.data.length)c=c.shift();
else if(b){b=c.head;var d=1,e=b.data;for(a-=e.length;b=b.next;){var f=b.data,g=a>f.length?f.length:a,e=g===f.length?e+f:e+f.slice(0,a);a-=g;if(0===a){g===f.length?(++d,c.head=b.next?b.next:c.tail=null):(c.head=b,b.data=f.slice(g));break}++d}c.length-=d;c=e}else{b=D.allocUnsafe(a);d=c.head;e=1;d.data.copy(b);for(a-=d.data.length;d=d.next;){f=d.data;g=a>f.length?f.length:a;f.copy(b,b.length-a,0,g);a-=g;if(0===a){g===f.length?(++e,c.head=d.next?d.next:c.tail=null):(c.head=d,d.data=f.slice(g));break}++e}c.length-=
e;c=b}b=c}c=b}return c}function y(a){var b=a._readableState;if(0<b.length)throw Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,z(A,b,a))}function A(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function g(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)}function v(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}l.exports=b;var z=a("process-nextick-args"),B=a("isarray");b.ReadableState=f;a("events");var G;try{G=a("stream")}catch(N){}finally{G||
(G=a("events").EventEmitter)}var x=a("buffer").Buffer,D=a("buffer-shims"),E=a("core-util-is");E.inherits=a("inherits");var F=a("util"),J=void 0,J=F&&F.debuglog?F.debuglog("stream"):function(){},L=a("./internal/streams/BufferList"),I;E.inherits(b,G);var K;b.prototype.push=function(a,b){var c=this._readableState;c.objectMode||"string"!==typeof a||(b=b||c.defaultEncoding,b!==c.encoding&&(a=D.from(a,b),b=""));return k(this,c,a,b,!1)};b.prototype.unshift=function(a){return k(this,this._readableState,a,
"",!0)};b.prototype.isPaused=function(){return!1===this._readableState.flowing};b.prototype.setEncoding=function(b){I||(I=a("string_decoder/").StringDecoder);this._readableState.decoder=new I(b);this._readableState.encoding=b;return this};b.prototype.read=function(a){J("read",a);a=parseInt(a,10);var b=this._readableState,c=a;0!==a&&(b.emittedReadable=!1);if(0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return J("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?y(this):n(this),
null;a=d(a,b);if(0===a&&b.ended)return 0===b.length&&y(this),null;var e=b.needReadable;J("need readable",e);if(0===b.length||b.length-a<b.highWaterMark)e=!0,J("length less than watermark",e);b.ended||b.reading?J("reading or ended",!1):e&&(J("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=d(c,b)));e=0<a?u(a,b):null;null===e?(b.needReadable=!0,a=0):b.length-=a;0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&y(this));
null!==e&&this.emit("data",e);return e};b.prototype._read=function(a){this.emit("error",Error("not implemented"))};b.prototype.pipe=function(a,b){function d(a){J("onunpipe");a===q&&g()}function f(){J("onend");a.end()}function g(){J("cleanup");a.removeListener("close",l);a.removeListener("finish",m);a.removeListener("drain",r);a.removeListener("error",k);a.removeListener("unpipe",d);q.removeListener("end",f);q.removeListener("end",g);q.removeListener("data",h);t=!0;!p.awaitDrain||a._writableState&&
!a._writableState.needDrain||r()}function h(b){J("ondata");u=!1;!1!==a.write(b)||u||((1===p.pipesCount&&p.pipes===a||1<p.pipesCount&&-1!==v(p.pipes,a))&&!t&&(J("false write response, pause",q._readableState.awaitDrain),q._readableState.awaitDrain++,u=!0),q.pause())}function k(b){J("onerror",b);n();a.removeListener("error",k);0===a.listeners("error").length&&a.emit("error",b)}function l(){a.removeListener("finish",m);n()}function m(){J("onfinish");a.removeListener("close",l);n()}function n(){J("unpipe");
q.unpipe(a)}var q=this,p=this._readableState;switch(p.pipesCount){case 0:p.pipes=a;break;case 1:p.pipes=[p.pipes,a];break;default:p.pipes.push(a)}p.pipesCount+=1;J("pipe count=%d opts=%j",p.pipesCount,b);b=b&&!1===b.end||a===c.stdout||a===c.stderr?g:f;if(p.endEmitted)z(b);else q.once("end",b);a.on("unpipe",d);var r=w(q);a.on("drain",r);var t=!1,u=!1;q.on("data",h);e(a,"error",k);a.once("close",l);a.once("finish",m);a.emit("pipe",q);p.flowing||(J("pipe resume"),q.resume());return a};b.prototype.unpipe=
function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount){if(a&&a!==b.pipes)return this;a||(a=b.pipes);b.pipes=null;b.pipesCount=0;b.flowing=!1;a&&a.emit("unpipe",this);return this}if(!a){a=b.pipes;var c=b.pipesCount;b.pipes=null;b.pipesCount=0;b.flowing=!1;for(b=0;b<c;b++)a[b].emit("unpipe",this);return this}c=v(b.pipes,a);if(-1===c)return this;b.pipes.splice(c,1);--b.pipesCount;1===b.pipesCount&&(b.pipes=b.pipes[0]);a.emit("unpipe",this);return this};b.prototype.on=
function(a,b){b=G.prototype.on.call(this,a,b);"data"===a?!1!==this._readableState.flowing&&this.resume():"readable"===a&&(a=this._readableState,a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.emittedReadable=!1,a.reading?a.length&&n(this,a):z(p,this)));return b};b.prototype.addListener=b.prototype.on;b.prototype.resume=function(){var a=this._readableState;a.flowing||(J("resume"),a.flowing=!0,a.resumeScheduled||(a.resumeScheduled=!0,z(r,this,a)));return this};b.prototype.pause=
function(){J("call pause flowing=%j",this._readableState.flowing);!1!==this._readableState.flowing&&(J("pause"),this._readableState.flowing=!1,this.emit("pause"));return this};b.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){J("wrapped end");if(b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)});a.on("data",function(e){J("wrapped data");b.decoder&&(e=b.decoder.write(e));b.objectMode&&(null===e||void 0===e)||!(b.objectMode||e&&e.length)||
d.push(e)||(c=!0,a.pause())});for(var e in a)void 0===this[e]&&"function"===typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));g(["error","close","destroy","pause","resume"],function(b){a.on(b,d.emit.bind(d,b))});d._read=function(b){J("wrapped _read",b);c&&(c=!1,a.resume())};return d};b._fromList=u}).call(this,a("_process"))},{"./_stream_duplex":1003,"./internal/streams/BufferList":1008,_process:1028,buffer:1025,"buffer-shims":409,"core-util-is":706,events:1026,
inherits:817,isarray:818,"process-nextick-args":861,"string_decoder/":1020,util:1024}],1006:[function(a,l,f){function c(a){this.afterTransform=function(b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;e?(d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b),b=a._readableState,b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&a._read(b.highWaterMark),b=void 0):b=a.emit("error",Error("no writecb in Transform class"));return b};this.transforming=this.needTransform=
!1;this.writeencoding=this.writechunk=this.writecb=null}function e(a){if(!(this instanceof e))return new e(a);b.call(this,a);this._transformState=new c(this);var d=this;this._readableState.needReadable=!0;this._readableState.sync=!1;a&&("function"===typeof a.transform&&(this._transform=a.transform),"function"===typeof a.flush&&(this._flush=a.flush));this.once("prefinish",function(){"function"===typeof this._flush?this._flush(function(a){h(d,a)}):h(d)})}function h(a,b){if(b)return a.emit("error",b);
b=a._transformState;if(a._writableState.length)throw Error("Calling transform done when ws.length != 0");if(b.transforming)throw Error("Calling transform done when still transforming");return a.push(null)}l.exports=e;var b=a("./_stream_duplex");l=a("core-util-is");l.inherits=a("inherits");l.inherits(e,b);e.prototype.push=function(a,c){this._transformState.needTransform=!1;return b.prototype.push.call(this,a,c)};e.prototype._transform=function(a,b,c){throw Error("Not implemented");};e.prototype._write=
function(a,b,c){var d=this._transformState;d.writecb=c;d.writechunk=a;d.writeencoding=b;d.transforming||(a=this._readableState,(d.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark))};e.prototype._read=function(a){a=this._transformState;null!==a.writechunk&&a.writecb&&!a.transforming?(a.transforming=!0,this._transform(a.writechunk,a.writeencoding,a.afterTransform)):a.needTransform=!0}},{"./_stream_duplex":1003,"core-util-is":706,inherits:817}],1007:[function(a,l,
f){(function(c){function e(){}function f(a,b,c){this.chunk=a;this.encoding=b;this.callback=c;this.next=null}function b(b,c){v=v||a("./_stream_duplex");b=b||{};this.objectMode=!!b.objectMode;c instanceof v&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e;this.highWaterMark=~~this.highWaterMark;this.finished=this.ended=this.ending=this.needDrain=!1;this.decodeStrings=!1!==b.decodeStrings;this.defaultEncoding=
b.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(a){var b=c._writableState,d=b.sync,e=b.writecb;b.writing=!1;b.writecb=null;b.length-=b.writelen;b.writelen=0;a?(--b.pendingcb,d?r(e,a):e(a),c._writableState.errorEmitted=!0,c.emit("error",a)):((a=q(b))||b.corked||b.bufferProcessing||!b.bufferedRequest||m(c,b),d?t(n,c,b,a,e):n(c,b,a,e))};this.writecb=null;this.writelen=0;this.lastBufferedRequest=this.bufferedRequest=null;
this.pendingcb=0;this.errorEmitted=this.prefinished=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new p(this)}function k(c){v=v||a("./_stream_duplex");if(!(this instanceof k||this instanceof v))return new k(c);this._writableState=new b(c,this);this.writable=!0;c&&("function"===typeof c.write&&(this._write=c.write),"function"===typeof c.writev&&(this._writev=c.writev));y.call(this)}function d(a,b,c,d,e,f,g){b.writelen=d;b.writecb=g;b.writing=!0;b.sync=!0;c?a._writev(e,b.onwrite):a._write(e,
f,b.onwrite);b.sync=!1}function n(a,b,c,d){!c&&0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"));b.pendingcb--;d();w(a,b)}function m(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var e=Array(b.bufferedRequestCount),f=b.corkedRequestsFree;f.entry=c;for(var g=0;c;)e[g]=c,c=c.next,g+=1;d(a,b,!0,b.length,e,"",f.finish);b.pendingcb++;b.lastBufferedRequest=null;f.next?(b.corkedRequestsFree=f.next,f.next=null):b.corkedRequestsFree=new p(b)}else{for(;c&&(e=c.chunk,
d(a,b,!1,b.objectMode?1:e.length,e,c.encoding,c.callback),c=c.next,!b.writing););null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0;b.bufferedRequest=c;b.bufferProcessing=!1}function q(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function w(a,b){var c=q(b);c&&(0===b.pendingcb?(b.prefinished||(b.prefinished=!0,a.emit("prefinish")),b.finished=!0,a.emit("finish")):b.prefinished||(b.prefinished=!0,a.emit("prefinish")));return c}function p(a){var b=this;
this.entry=this.next=null;this.finish=function(c){var d=b.entry;for(b.entry=null;d;){var e=d.callback;a.pendingcb--;e(c);d=d.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}l.exports=k;var r=a("process-nextick-args"),t=!c.browser&&-1<["v0.10","v0.9."].indexOf(c.version.slice(0,5))?setImmediate:r;k.WritableState=b;c=a("core-util-is");c.inherits=a("inherits");var u={deprecate:a("util-deprecate")},y;try{y=a("stream")}catch(z){}finally{y||(y=a("events").EventEmitter)}var A=
a("buffer").Buffer,g=a("buffer-shims");c.inherits(k,y);var v;b.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b};(function(){try{Object.defineProperty(b.prototype,"buffer",{get:u.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(z){}})();k.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))};k.prototype.write=function(a,b,c){var h=this._writableState,
k=!1;"function"===typeof b&&(c=b,b=null);A.isBuffer(a)?b="buffer":b||(b=h.defaultEncoding);"function"!==typeof c&&(c=e);if(h.ended)h=c,a=Error("write after end"),this.emit("error",a),r(h,a);else{var l=c,m=!0,n=!1;null===a?n=new TypeError("May not write null values to stream"):A.isBuffer(a)||"string"===typeof a||void 0===a||h.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));n&&(this.emit("error",n),r(l,n),m=!1);m&&(h.pendingcb++,k=b,h.objectMode||!1===h.decodeStrings||"string"!==typeof a||
(a=g.from(a,k)),A.isBuffer(a)&&(k="buffer"),l=h.objectMode?1:a.length,h.length+=l,b=h.length<h.highWaterMark,b||(h.needDrain=!0),h.writing||h.corked?(l=h.lastBufferedRequest,h.lastBufferedRequest=new f(a,k,c),l?l.next=h.lastBufferedRequest:h.bufferedRequest=h.lastBufferedRequest,h.bufferedRequestCount+=1):d(this,h,!1,l,a,k,c),k=b)}return k};k.prototype.cork=function(){this._writableState.corked++};k.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||
a.bufferProcessing||!a.bufferedRequest||m(this,a))};k.prototype.setDefaultEncoding=function(a){"string"===typeof a&&(a=a.toLowerCase());if(!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((a+"").toLowerCase())))throw new TypeError("Unknown encoding: "+a);this._writableState.defaultEncoding=a;return this};k.prototype._write=function(a,b,c){c(Error("not implemented"))};k.prototype._writev=null;k.prototype.end=function(a,b,c){var d=this._writableState;"function"===
typeof a?(c=a,b=a=null):"function"===typeof b&&(c=b,b=null);null!==a&&void 0!==a&&this.write(a,b);d.corked&&(d.corked=1,this.uncork());if(!d.ending&&!d.finished){a=c;d.ending=!0;w(this,d);if(a)if(d.finished)r(a);else this.once("finish",a);d.ended=!0;this.writable=!1}}}).call(this,a("_process"))},{"./_stream_duplex":1003,_process:1028,buffer:1025,"buffer-shims":409,"core-util-is":706,events:1026,inherits:817,"process-nextick-args":861,"util-deprecate":1022}],1008:[function(a,l,f){function c(){this.tail=
this.head=null;this.length=0}a("buffer");var e=a("buffer-shims");l.exports=c;c.prototype.push=function(a){a={data:a,next:null};0<this.length?this.tail.next=a:this.head=a;this.tail=a;++this.length};c.prototype.unshift=function(a){a={data:a,next:this.head};0===this.length&&(this.tail=a);this.head=a;++this.length};c.prototype.shift=function(){if(0!==this.length){var a=this.head.data;this.head=1===this.length?this.tail=null:this.head.next;--this.length;return a}};c.prototype.clear=function(){this.head=
this.tail=null;this.length=0};c.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c};c.prototype.concat=function(a){if(0===this.length)return e.alloc(0);if(1===this.length)return this.head.data;a=e.allocUnsafe(a>>>0);for(var b=this.head,c=0;b;)b.data.copy(a,c),c+=b.data.length,b=b.next;return a}},{buffer:1025,"buffer-shims":409}],1009:[function(a,l,f){l.exports=a("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":1004}],
1010:[function(a,l,f){var c=a("_process"),e;a:{try{e=a("stream");break a}catch(h){}e=void 0}f=l.exports=a("./lib/_stream_readable.js");f.Stream=e||f;f.Readable=f;f.Writable=a("./lib/_stream_writable.js");f.Duplex=a("./lib/_stream_duplex.js");f.Transform=a("./lib/_stream_transform.js");f.PassThrough=a("./lib/_stream_passthrough.js");!c.browser&&"disable"===c.env.READABLE_STREAM&&e&&(l.exports=e)},{"./lib/_stream_duplex.js":1003,"./lib/_stream_passthrough.js":1004,"./lib/_stream_readable.js":1005,"./lib/_stream_transform.js":1006,
"./lib/_stream_writable.js":1007,_process:1028}],1011:[function(a,l,f){l.exports=a("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":1006}],1012:[function(a,l,f){l.exports=a("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":1007}],1013:[function(a,l,f){(function(a,e){!function(c){function b(a,b,c,e){b=Object.create((b||d).prototype);e=new y(e||[]);b._invoke=r(a,c,e);return b}function e(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(M){return{type:"throw",arg:M}}}function d(){}
function f(){}function h(){}function q(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}function w(a){this.arg=a}function p(b){function c(a,d,f,g){a=e(b[a],b,d);if("throw"===a.type)g(a.arg);else{var h=a.arg;a=h.value;return a instanceof w?Promise.resolve(a.arg).then(function(a){c("next",a,f,g)},function(a){c("throw",a,f,g)}):Promise.resolve(a).then(function(a){h.value=a;f(h)},g)}}"object"===typeof a&&a.domain&&(c=a.domain.bind(c));var d;this._invoke=function(a,
b){function e(){return new Promise(function(d,e){c(a,b,d,e)})}return d=d?d.then(e,e):e()}}function r(a,b,c){var d=E;return function(f,h){if(d===J)throw Error("Generator is already running");if(d===L){if("throw"===f)throw h;return g()}for(;;){var k=c.delegate;if(k){if("return"===f||"throw"===f&&k.iterator[f]===z){c.delegate=null;var l=k.iterator["return"];if(l&&(l=e(l,k.iterator,h),"throw"===l.type)){f="throw";h=l.arg;continue}if("return"===f)continue}l=e(k.iterator[f],k.iterator,h);if("throw"===l.type){c.delegate=
null;f="throw";h=l.arg;continue}f="next";h=z;var m=l.arg;if(m.done)c[k.resultName]=m.value,c.next=k.nextLoc;else return d=F,m;c.delegate=null}if("next"===f)c.sent=c._sent=h;else if("throw"===f){if(d===E)throw d=L,h;c.dispatchException(h)&&(f="next",h=z)}else"return"===f&&c.abrupt("return",h);d=J;l=e(a,b,c);if("normal"===l.type)if(d=c.done?L:F,m={value:l.arg,done:c.done},l.arg===I)c.delegate&&"next"===f&&(h=z);else return m;else"throw"===l.type&&(d=L,f="throw",h=l.arg)}}}function t(a){var b={tryLoc:a[0]};
1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function u(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function y(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(t,this);this.reset(!0)}function A(a){if(a){var b=a[G];if(b)return b.call(a);if("function"===typeof a.next)return a;if(!isNaN(a.length)){var c=-1,b=function O(){for(;++c<a.length;)if(v.call(a,c))return O.value=a[c],O.done=!1,O;O.value=z;O.done=!0;return O};return b.next=
b}}return{next:g}}function g(){return{value:z,done:!0}}var v=Object.prototype.hasOwnProperty,z,B="function"===typeof Symbol?Symbol:{},G=B.iterator||"@@iterator",x=B.toStringTag||"@@toStringTag",B="object"===typeof l,D=c.regeneratorRuntime;if(D)B&&(l.exports=D);else{D=c.regeneratorRuntime=B?l.exports:{};D.wrap=b;var E="suspendedStart",F="suspendedYield",J="executing",L="completed",I={},K=h.prototype=d.prototype;f.prototype=K.constructor=h;h.constructor=f;h[x]=f.displayName="GeneratorFunction";D.isGeneratorFunction=
function(a){return(a="function"===typeof a&&a.constructor)?a===f||"GeneratorFunction"===(a.displayName||a.name):!1};D.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,h):(a.__proto__=h,x in a||(a[x]="GeneratorFunction"));a.prototype=Object.create(K);return a};D.awrap=function(a){return new w(a)};q(p.prototype);D.async=function(a,c,d,e){var f=new p(b(a,c,d,e));return D.isGeneratorFunction(c)?f:f.next().then(function(a){return a.done?a.value:f.next()})};q(K);K[G]=function(){return this};
K[x]="Generator";K.toString=function(){return"[object Generator]"};D.keys=function(a){var b=[],c;for(c in a)b.push(c);b.reverse();return function O(){for(;b.length;){var c=b.pop();if(c in a)return O.value=c,O.done=!1,O}O.done=!0;return O}};D.values=A;y.prototype={constructor:y,reset:function(a){this.next=this.prev=0;this.sent=this._sent=z;this.done=!1;this.delegate=null;this.tryEntries.forEach(u);if(!a)for(var b in this)"t"===b.charAt(0)&&v.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=z)},stop:function(){this.done=
!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function b(b,d){f.type="throw";f.arg=a;c.next=b;return!!d}if(this.done)throw a;for(var c=this,d=this.tryEntries.length-1;0<=d;--d){var e=this.tryEntries[d],f=e.completion;if("root"===e.tryLoc)return b("end");if(e.tryLoc<=this.prev){var g=v.call(e,"catchLoc"),h=v.call(e,"finallyLoc");if(g&&h){if(this.prev<e.catchLoc)return b(e.catchLoc,!0);if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else if(g){if(this.prev<
e.catchLoc)return b(e.catchLoc,!0)}else if(h){if(this.prev<e.finallyLoc)return b(e.finallyLoc)}else throw Error("try statement without catch or finally");}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;0<=c;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&v.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&("break"===a||"continue"===a)&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);c=e?e.completion:{};c.type=a;c.arg=b;e?this.next=e.finallyLoc:this.complete(c);return I},complete:function(a,
b){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=a.arg,this.next="end"):"normal"===a.type&&b&&(this.next=b)},finish:function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.finallyLoc===a)return this.complete(c.completion,c.afterLoc),u(c),I}},"catch":function(a){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.tryLoc===a){a=c.completion;if("throw"===a.type){var d=a.arg;u(c)}return d}}throw Error("illegal catch attempt");
},delegateYield:function(a,b,c){this.delegate={iterator:A(a),resultName:b,nextLoc:c};return I}}}}("object"===typeof e?e:"object"===typeof window?window:"object"===typeof self?self:this)}).call(this,a("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{_process:1028}],1014:[function(a,l,f){l.exports=function(a){return a.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}},{}],1015:[function(a,l,f){l.exports=a("./src/regression")},{"./src/regression":1016}],
1016:[function(a,l,f){(function(){var a={linear:function(a){for(var b=[0,0,0,0,0],c=0,d=[];c<a.length;c++)null!=a[c][1]&&(b[0]+=a[c][0],b[1]+=a[c][1],b[2]+=a[c][0]*a[c][0],b[3]+=a[c][0]*a[c][1],b[4]+=a[c][1]*a[c][1]);for(var e=(c*b[3]-b[0]*b[1])/(c*b[2]-b[0]*b[0]),b=b[1]/c-e*b[0]/c,c=0,f=a.length;c<f;c++)d.push([a[c][0],a[c][0]*e+b]);return{equation:[e,b],points:d,string:"y = "+Math.round(100*e)/100+"x + "+Math.round(100*b)/100}},linearThroughOrigin:function(a){for(var b=[0,0],c=0,d=[];c<a.length;c++)null!=
a[c][1]&&(b[0]+=a[c][0]*a[c][0],b[1]+=a[c][0]*a[c][1]);for(var b=b[1]/b[0],c=0,e=a.length;c<e;c++)d.push([a[c][0],a[c][0]*b]);return{equation:[b],points:d,string:"y = "+Math.round(100*b)/100+"x"}},exponential:function(a){for(var b=[0,0,0,0,0,0],c=0,d=[],e=a.length;c<e;c++)null!=a[c][1]&&(b[0]+=a[c][0],b[1]+=a[c][1],b[2]+=a[c][0]*a[c][0]*a[c][1],b[3]+=a[c][1]*Math.log(a[c][1]),b[4]+=a[c][0]*a[c][1]*Math.log(a[c][1]),b[5]+=a[c][0]*a[c][1]);for(var e=b[1]*b[2]-b[5]*b[5],c=Math.pow(Math.E,(b[2]*b[3]-
b[5]*b[4])/e),b=(b[1]*b[4]-b[5]*b[3])/e,f=0,e=a.length;f<e;f++)d.push([a[f][0],c*Math.pow(Math.E,b*a[f][0])]);return{equation:[c,b],points:d,string:"y = "+Math.round(100*c)/100+"e^("+Math.round(100*b)/100+"x)"}},logarithmic:function(a){for(var b=[0,0,0,0],c=0,d=[],e=a.length;c<e;c++)null!=a[c][1]&&(b[0]+=Math.log(a[c][0]),b[1]+=a[c][1]*Math.log(a[c][0]),b[2]+=a[c][1],b[3]+=Math.pow(Math.log(a[c][0]),2));for(var f=(c*b[1]-b[2]*b[0])/(c*b[3]-b[0]*b[0]),b=(b[2]-f*b[0])/c,c=0,e=a.length;c<e;c++)d.push([a[c][0],
b+f*Math.log(a[c][0])]);return{equation:[b,f],points:d,string:"y = "+Math.round(100*b)/100+" + "+Math.round(100*f)/100+" ln(x)"}},power:function(a){for(var b=[0,0,0,0],c=0,d=[],e=a.length;c<e;c++)null!=a[c][1]&&(b[0]+=Math.log(a[c][0]),b[1]+=Math.log(a[c][1])*Math.log(a[c][0]),b[2]+=Math.log(a[c][1]),b[3]+=Math.pow(Math.log(a[c][0]),2));for(var f=(c*b[1]-b[2]*b[0])/(c*b[3]-b[0]*b[0]),b=Math.pow(Math.E,(b[2]-f*b[0])/c),c=0,e=a.length;c<e;c++)d.push([a[c][0],b*Math.pow(a[c][0],f)]);return{equation:[b,
f],points:d,string:"y = "+Math.round(100*b)/100+"x^"+Math.round(100*f)/100}},polynomial:function(a,b){"undefined"==typeof b&&(b=2);for(var c=[],d=[],e=[],f=0,h=0,l=0,p=b+1;l<p;l++){var r=0;for(b=a.length;r<b;r++)null!=a[r][1]&&(f+=Math.pow(a[r][0],l)*a[r][1]);c.push(f);for(var f=0,t=[],u=0;u<p;u++){r=0;for(b=a.length;r<b;r++)null!=a[r][1]&&(h+=Math.pow(a[r][0],l+u));t.push(h);h=0}d.push(t)}d.push(c);l=d.length-1;c=Array(p);for(b=0;b<l;b++){p=b;for(f=b+1;f<l;f++)Math.abs(d[b][f])>Math.abs(d[b][p])&&
(p=f);for(h=b;h<l+1;h++)r=d[h][b],d[h][b]=d[h][p],d[h][p]=r;for(f=b+1;f<l;f++)for(h=l;h>=b;h--)d[h][f]-=d[h][b]*d[b][f]/d[b][b]}for(f=l-1;0<=f;f--){r=0;for(h=f+1;h<l;h++)r+=d[h][f]*c[h];c[f]=(d[l][f]-r)/d[f][f]}l=0;for(b=a.length;l<b;l++){for(f=d=0;f<c.length;f++)d+=c[f]*Math.pow(a[l][0],f);e.push([a[l][0],d])}a="y = ";for(l=c.length-1;0<=l;l--)a=1<l?a+(Math.round(c[l]*Math.pow(10,l))/Math.pow(10,l)+"x^"+l+" + "):1==l?a+(Math.round(100*c[l])/100+"x + "):a+Math.round(100*c[l])/100;return{equation:c,
points:e,string:a}},lastvalue:function(a){for(var b=[],c=null,d=0;d<a.length;d++)a[d][1]?(c=a[d][1],b.push([a[d][0],a[d][1]])):b.push([a[d][0],c]);return{equation:[c],points:b,string:""+c}}},e=function(c,b,e){if("string"==typeof c)return a[c](b,e)};"undefined"!==typeof f?l.exports=e:window.regression=e})()},{}],1017:[function(a,l,f){function c(a,b){a&&Object.keys(a).forEach(function(c){b(a[c],c)})}function e(a,f,l){function m(a,b){var c=this;this.tag=a;this.attribs=b||{};this.tagPosition=t.length;
this.text="";this.updateParentNodeText=function(){G.length&&(G[G.length-1].text+=c.text)}}function n(a){"string"!==typeof a&&(a+="");return a.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}function q(a,b){if(!b)return a;a=a.split(/\s+/);return a.filter(function(a){return-1!==b.indexOf(a)}).join(" ")}var t="";f?(f=b(e.defaults,f),f.parser=f.parser?b(d,f.parser):d):(f=e.defaults,f.parser=d);var u=f.nonTextTags||["script","style","textarea"],y,A;f.allowedAttributes&&
(y={},A={},c(f.allowedAttributes,function(a,b){y[b]=[];var c=[];a.forEach(function(a){0<=a.indexOf("*")?c.push(k(a).replace(/\\\*/g,".*")):y[b].push(a)});A[b]=new RegExp("^("+c.join("|")+")$")}));var g={};c(f.allowedClasses,function(a,b){y&&(y[b]||(y[b]=[]),y[b].push("class"));g[b]=a});var v={},z;c(f.transformTags,function(a,b){var c;"function"===typeof a?c=a:"string"===typeof a&&(c=e.simpleTransform(a));"*"===b?z=c:v[b]=c});var B=0,G=[],x={},D={},E=!1,F=0;l=new h.Parser({onopentag:function(a,b){if(E)F++;
else{var d=new m(a,b);G.push(d);var e=!1,h;v[a]&&(h=v[a](a,b),d.attribs=b=h.attribs,void 0!==h.text&&(d.innerText=h.text),a!==h.tagName&&(d.name=a=h.tagName,D[B]=h.tagName));z&&(h=z(a,b),d.attribs=b=h.attribs,a!==h.tagName&&(d.name=a=h.tagName,D[B]=h.tagName));f.allowedTags&&-1===f.allowedTags.indexOf(a)&&(e=!0,-1!==u.indexOf(a)&&(E=!0,F=1),x[B]=!0);B++;e||(t+="<"+a,(!y||y[a]||y["*"])&&c(b,function(b,c){if(!y||y[a]&&-1!==y[a].indexOf(c)||y["*"]&&-1!==y["*"].indexOf(c)||A[a]&&A[a].test(c)||A["*"]&&
A["*"].test(c)){if("href"===c||"src"===c){var e;e=a;var h;h=b.replace(/[\x00-\x20]+/g,"");h=h.replace(/<\!\-\-.*?\-\-\>/g,"");(h=h.match(/^([a-zA-Z]+)\:/))?(h=h[1].toLowerCase(),e=f.allowedSchemesByTag[e]?-1===f.allowedSchemesByTag[e].indexOf(h):!f.allowedSchemes||-1===f.allowedSchemes.indexOf(h)):e=!1;if(e){delete d.attribs[c];return}}if("class"===c&&(b=q(b,g[a]),!b.length)){delete d.attribs[c];return}t+=" "+c;b.length&&(t+='="'+n(b)+'"')}else delete d.attribs[c]}),t=-1!==f.selfClosing.indexOf(a)?
t+" />":t+">")}},ontext:function(a){if(!E){var b=G[G.length-1],c;b&&(c=b.tag,a=void 0!==b.innerText?b.innerText:a);-1!==u.indexOf(c)?t+=a:(b=n(a),t=f.textFilter?t+f.textFilter(b):t+b);G.length&&(G[G.length-1].text+=a)}},onclosetag:function(a){if(E){F--;if(F)return;E=!1}var b=G.pop();b&&(E=!1,B--,x[B]?(delete x[B],b.updateParentNodeText()):(D[B]&&(a=D[B],delete D[B]),f.exclusiveFilter&&f.exclusiveFilter(b)?t=t.substr(0,b.tagPosition):(b.updateParentNodeText(),-1===f.selfClosing.indexOf(a)&&(t+="</"+
a+">"))))}},f.parser);l.write(a);l.end();return t}var h=a("htmlparser2"),b=a("xtend"),k=a("regexp-quote");l.exports=e;var d={decodeEntities:!0};e.defaults={allowedTags:"h3 h4 h5 h6 blockquote p a ul ol nl li b i strong em strike code hr br div table thead caption tbody tr th td pre".split(" "),allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:"img br hr area base basefont input link meta".split(" "),allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{}};e.simpleTransform=
function(a,b,c){c=void 0===c?!0:c;b=b||{};return function(d,e){var f;if(c)for(f in b)e[f]=b[f];else e=b;return{tagName:a,attribs:e}}}},{htmlparser2:815,"regexp-quote":1014,xtend:1023}],1018:[function(a,l,f){a("./science.v1");l.exports=science},{"./science.v1":1019}],1019:[function(a,l,f){(function(a){(function(a){science={version:"1.9.3",ascending:function(a,b){return a-b},EULER:.5772156649015329,expm1:function(a){return 1E-5>a&&-1E-5<a?a+.5*a*a:Math.exp(a)-1},functor:function(a){return"function"===
typeof a?a:function(){return a}},hypot:function(a,b){a=Math.abs(a);b=Math.abs(b);var c;a>b?(c=a,a=b):c=b;a/=c;return c*Math.sqrt(1+a*a)},quadratic:function(){function a(a,c,e){e=c*c-4*a*e;return 0<e?(e=Math.sqrt(e)/(2*a),b?[{r:-c-e,i:0},{r:-c+e,i:0}]:[-c-e,-c+e]):0===e?(e=-c/(2*a),b?[{r:e,i:0}]:[e]):b?(e=Math.sqrt(-e)/(2*a),[{r:-c,i:-e},{r:-c,i:e}]):[]}var b=!1;a.complex=function(c){if(!arguments.length)return b;b=c;return a};return a},zeroes:function(a){var b=-1,c=[];if(1===arguments.length)for(;++b<
a;)c[b]=0;else for(;++b<a;)c[b]=science.zeroes.apply(this,Array.prototype.slice.call(arguments,1));return c}}})(this);(function(a){function c(a,c,d,e){if(Math.abs(d)>Math.abs(e)){var b=e/d;d+=b*e;return[(a+b*c)/d,(c-b*a)/d]}b=d/e;d=e+b*d;return[(b*a+c)/d,(b*c-a)/d]}science.lin={};science.lin.decompose=function(){return function(a){for(var b=a.length,d=[],e=[],f=[],h=0;h<b;h++)d[h]=[],e[h]=[],f[h]=[];for(var l=!0,p=0;p<b;p++)for(h=0;h<b;h++)if(a[h][p]!==a[p][h]){l=!1;break}if(l){for(h=0;h<b;h++)d[h]=
a[h].slice();p=d.length;for(l=0;l<p;l++)e[l]=d[p-1][l];for(h=p-1;0<h;h--){for(var r=a=l=0;r<h;r++)l+=Math.abs(e[r]);if(0===l)for(f[h]=e[h-1],l=0;l<h;l++)e[l]=d[h-1][l],d[h][l]=0,d[l][h]=0;else{for(r=0;r<h;r++)e[r]/=l,a+=e[r]*e[r];var t=e[h-1],u=Math.sqrt(a);0<t&&(u=-u);f[h]=l*u;a-=t*u;e[h-1]=t-u;for(l=0;l<h;l++)f[l]=0;for(l=0;l<h;l++){t=e[l];d[l][h]=t;u=f[l]+d[l][l]*t;for(r=l+1;r<=h-1;r++)u+=d[r][l]*e[r],f[r]+=d[r][l]*t;f[l]=u}for(l=t=0;l<h;l++)f[l]/=a,t+=f[l]*e[l];r=t/(a+a);for(l=0;l<h;l++)f[l]-=
r*e[l];for(l=0;l<h;l++){t=e[l];u=f[l];for(r=l;r<=h-1;r++)d[r][l]-=t*f[r]+u*e[r];e[l]=d[h-1][l];d[h][l]=0}}e[h]=a}for(h=0;h<p-1;h++){d[p-1][h]=d[h][h];d[h][h]=1;a=e[h+1];if(0!=a){for(r=0;r<=h;r++)e[r]=d[r][h+1]/a;for(l=0;l<=h;l++){for(r=u=0;r<=h;r++)u+=d[r][h+1]*d[r][l];for(r=0;r<=h;r++)d[r][l]-=u*e[r]}}for(r=0;r<=h;r++)d[r][h+1]=0}for(l=0;l<p;l++)e[l]=d[p-1][l],d[p-1][l]=0;d[p-1][p-1]=1;f[0]=0;p=d.length;for(h=1;h<p;h++)f[h-1]=f[h];for(t=r=l=f[p-1]=0;t<p;t++){r=Math.max(r,Math.abs(e[t])+Math.abs(f[t]));
for(u=t;u<p&&!(Math.abs(f[u])<=1E-12*r);)u++;if(u>t){var y=0;do{y++;var A=e[t];a=(e[t+1]-A)/(2*f[t]);var g=science.hypot(a,1);0>a&&(g=-g);e[t]=f[t]/(a+g);e[t+1]=f[t]*(a+g);for(var v=e[t+1],z=A-e[t],h=t+2;h<p;h++)e[h]-=z;l+=z;a=e[u];for(var B=g=1,G=g,x=f[t+1],D=0,E=0,h=u-1;h>=t;h--)for(G=B,B=g,E=D,A=g*f[h],z=g*a,g=science.hypot(a,f[h]),f[h+1]=D*g,D=f[h]/g,g=a/g,a=g*e[h]-D*A,e[h+1]=z+D*(g*A+D*e[h]),A=0;A<p;A++)z=d[A][h+1],d[A][h+1]=D*d[A][h]+g*z,d[A][h]=g*d[A][h]-D*z;a=-D*E*G*x*f[t]/v;f[t]=D*a;e[t]=
g*a}while(Math.abs(f[t])>1E-12*r)}e[t]+=l;f[t]=0}for(h=0;h<p-1;h++){A=h;a=e[h];for(l=h+1;l<p;l++)e[l]<a&&(A=l,a=e[l]);if(A!=h)for(e[A]=e[h],e[h]=a,l=0;l<p;l++)a=d[l][h],d[l][h]=d[l][A],d[l][A]=a}}else{p=[];for(h=0;h<b;h++)p[h]=a[h].slice();h=p.length;a=[];l=h-1;for(r=1;r<l;r++){t=0;for(u=r;u<=l;u++)t+=Math.abs(p[u][r-1]);if(0!==t){y=0;for(u=l;u>=r;u--)a[u]=p[u][r-1]/t,y+=a[u]*a[u];v=Math.sqrt(y);0<a[r]&&(v=-v);y-=a[r]*v;a[r]-=v;for(z=r;z<h;z++){B=0;for(u=l;u>=r;u--)B+=a[u]*p[u][z];B/=y;for(u=r;u<=
l;u++)p[u][z]-=B*a[u]}for(u=0;u<=l;u++){B=0;for(z=l;z>=r;z--)B+=a[z]*p[u][z];B/=y;for(z=r;z<=l;z++)p[u][z]-=B*a[z]}a[r]*=t;p[r][r-1]=t*v}}for(u=0;u<h;u++)for(z=0;z<h;z++)d[u][z]=u===z?1:0;for(r=l-1;1<=r;r--)if(0!==p[r][r-1]){for(u=r+1;u<=l;u++)a[u]=p[u][r-1];for(z=r;z<=l;z++){v=0;for(u=r;u<=l;u++)v+=a[u]*d[u][z];v=v/a[r]/p[r][r-1];for(u=r;u<=l;u++)d[u][z]+=v*a[u]}}h=p.length;a=h-1;l=h-1;for(x=G=v=y=u=t=r=g=0;x<h;x++){if(0>x||x>l)e[x]=p[x][x],f[x]=0;for(A=Math.max(x-1,0);A<h;A++)G+=Math.abs(p[x][A])}for(var F=
0;0<=a;){for(D=a;0<D;){y=Math.abs(p[D-1][D-1])+Math.abs(p[D][D]);0===y&&(y=G);if(Math.abs(p[D][D-1])<1E-12*y)break;D--}if(D===a)p[a][a]+=g,e[a]=p[a][a],f[a]=0,a--,F=0;else if(D===a-1){E=p[a][a-1]*p[a-1][a];r=(p[a-1][a-1]-p[a][a])/2;t=r*r+E;v=Math.sqrt(Math.abs(t));p[a][a]+=g;p[a-1][a-1]+=g;z=p[a][a];if(0<=t){v=r+(0<=r?v:-v);e[a-1]=z+v;e[a]=e[a-1];0!==v&&(e[a]=z-E/v);f[a-1]=0;f[a]=0;z=p[a][a-1];y=Math.abs(z)+Math.abs(v);r=z/y;t=v/y;u=Math.sqrt(r*r+t*t);r/=u;t/=u;for(A=a-1;A<h;A++)v=p[a-1][A],p[a-1][A]=
t*v+r*p[a][A],p[a][A]=t*p[a][A]-r*v;for(x=0;x<=a;x++)v=p[x][a-1],p[x][a-1]=t*v+r*p[x][a],p[x][a]=t*p[x][a]-r*v;for(x=0;x<=l;x++)v=d[x][a-1],d[x][a-1]=t*v+r*d[x][a],d[x][a]=t*d[x][a]-r*v}else e[a-1]=z+r,e[a]=z+r,f[a-1]=v,f[a]=-v;a-=2;F=0}else{z=p[a][a];E=B=0;D<a&&(B=p[a-1][a-1],E=p[a][a-1]*p[a-1][a]);if(10==F){g+=z;for(x=0;x<=a;x++)p[x][x]-=z;y=Math.abs(p[a][a-1])+Math.abs(p[a-1][a-2]);z=B=.75*y;E=-.4375*y*y}if(30==F&&(y=(B-z)/2,y=y*y+E,0<y)){y=Math.sqrt(y);B<z&&(y=-y);y=z-E/((B-z)/2+y);for(x=0;x<=
a;x++)p[x][x]-=y;g+=y;z=B=E=.964}F++;for(var J=a-2;J>=D;){v=p[J][J];u=z-v;y=B-v;r=(u*y-E)/p[J+1][J]+p[J][J+1];t=p[J+1][J+1]-v-u-y;u=p[J+2][J+1];y=Math.abs(r)+Math.abs(t)+Math.abs(u);r/=y;t/=y;u/=y;if(J==D)break;if(Math.abs(p[J][J-1])*(Math.abs(t)+Math.abs(u))<1E-12*Math.abs(r)*(Math.abs(p[J-1][J-1])+Math.abs(v)+Math.abs(p[J+1][J+1])))break;J--}for(x=J+2;x<=a;x++)p[x][x-2]=0,x>J+2&&(p[x][x-3]=0);for(E=J;E<=a-1;E++){var L=E!=a-1;E!=J&&(r=p[E][E-1],t=p[E+1][E-1],u=L?p[E+2][E-1]:0,z=Math.abs(r)+Math.abs(t)+
Math.abs(u),0!=z&&(r/=z,t/=z,u/=z));if(0==z)break;y=Math.sqrt(r*r+t*t+u*u);0>r&&(y=-y);if(0!=y){E!=J?p[E][E-1]=-y*z:D!=J&&(p[E][E-1]=-p[E][E-1]);r+=y;z=r/y;B=t/y;v=u/y;t/=r;u/=r;for(A=E;A<h;A++)r=p[E][A]+t*p[E+1][A],L&&(r+=u*p[E+2][A],p[E+2][A]-=r*v),p[E][A]-=r*z,p[E+1][A]-=r*B;for(x=0;x<=Math.min(a,E+3);x++)r=z*p[x][E]+B*p[x][E+1],L&&(r+=v*p[x][E+2],p[x][E+2]-=r*u),p[x][E]-=r,p[x][E+1]-=r*t;for(x=0;x<=l;x++)r=z*d[x][E]+B*d[x][E+1],L&&(r+=v*d[x][E+2],d[x][E+2]-=r*u),d[x][E]-=r,d[x][E+1]-=r*t}}}}if(0!=
G){for(a=h-1;0<=a;a--)if(r=e[a],t=f[a],0==t)for(D=a,p[a][a]=1,x=a-1;0<=x;x--){E=p[x][x]-r;u=0;for(A=D;A<=a;A++)u+=p[x][A]*p[A][a];if(0>f[x])v=E,y=u;else if(D=x,0===f[x]?p[x][a]=-u/(0!==E?E:1E-12*G):(z=p[x][x+1],B=p[x+1][x],t=(e[x]-r)*(e[x]-r)+f[x]*f[x],g=(z*y-v*u)/t,p[x][a]=g,p[x+1][a]=Math.abs(z)>Math.abs(v)?(-u-E*g)/z:(-y-B*g)/v),g=Math.abs(p[x][a]),1<1E-12*g*g)for(A=x;A<=a;A++)p[A][a]/=g}else if(0>t)for(D=a-1,Math.abs(p[a][a-1])>Math.abs(p[a-1][a])?(p[a-1][a-1]=t/p[a][a-1],p[a-1][a]=-(p[a][a]-
r)/p[a][a-1]):(A=c(0,-p[a-1][a],p[a-1][a-1]-r,t),p[a-1][a-1]=A[0],p[a-1][a]=A[1]),p[a][a-1]=0,p[a][a]=1,x=a-2;0<=x;x--){F=g=0;for(A=D;A<=a;A++)g+=p[x][A]*p[A][a-1],F+=p[x][A]*p[A][a];E=p[x][x]-r;if(0>f[x])v=E,u=g,y=F;else if(D=x,0==f[x]?(A=c(-g,-F,E,t),p[x][a-1]=A[0],p[x][a]=A[1]):(z=p[x][x+1],B=p[x+1][x],A=(e[x]-r)*(e[x]-r)+f[x]*f[x]-t*t,J=2*(e[x]-r)*t,0==A&0==J&&(A=1E-12*G*(Math.abs(E)+Math.abs(t)+Math.abs(z)+Math.abs(B)+Math.abs(v))),A=c(z*u-v*g+t*F,z*y-v*F-t*g,A,J),p[x][a-1]=A[0],p[x][a]=A[1],
Math.abs(z)>Math.abs(v)+Math.abs(t)?(p[x+1][a-1]=(-g-E*p[x][a-1]+t*p[x][a])/z,p[x+1][a]=(-F-E*p[x][a]-t*p[x][a-1])/z):(A=c(-u-B*p[x][a-1],-y-B*p[x][a],v,t),p[x+1][a-1]=A[0],p[x+1][a]=A[1])),g=Math.max(Math.abs(p[x][a-1]),Math.abs(p[x][a])),1<1E-12*g*g)for(A=x;A<=a;A++)p[A][a-1]/=g,p[A][a]/=g}for(x=0;x<h;x++)if(0>x||x>l)for(A=x;A<h;A++)d[x][A]=p[x][A];for(A=h-1;0<=A;A--)for(x=0;x<=l;x++){for(E=v=0;E<=Math.min(A,l);E++)v+=d[x][E]*p[E][A];d[x][A]=v}}}a=[];for(h=0;h<b;h++){l=a[h]=[];for(p=0;p<b;p++)l[p]=
h===p?e[h]:0;a[h][0<f[h]?h+1:h-1]=f[h]}return{D:a,V:d}}};science.lin.cross=function(a,c){return[a[1]*c[2]-a[2]*c[1],a[2]*c[0]-a[0]*c[2],a[0]*c[1]-a[1]*c[0]]};science.lin.dot=function(a,c){for(var b=0,e=-1,f=Math.min(a.length,c.length);++e<f;)b+=a[e]*c[e];return b};science.lin.length=function(a){return Math.sqrt(science.lin.dot(a,a))};science.lin.normalize=function(a){var b=science.lin.length(a);return a.map(function(a){return a/b})};science.lin.determinant=function(a){a=a[0].concat(a[1]).concat(a[2]).concat(a[3]);
return a[12]*a[9]*a[6]*a[3]-a[8]*a[13]*a[6]*a[3]-a[12]*a[5]*a[10]*a[3]+a[4]*a[13]*a[10]*a[3]+a[8]*a[5]*a[14]*a[3]-a[4]*a[9]*a[14]*a[3]-a[12]*a[9]*a[2]*a[7]+a[8]*a[13]*a[2]*a[7]+a[12]*a[1]*a[10]*a[7]-a[0]*a[13]*a[10]*a[7]-a[8]*a[1]*a[14]*a[7]+a[0]*a[9]*a[14]*a[7]+a[12]*a[5]*a[2]*a[11]-a[4]*a[13]*a[2]*a[11]-a[12]*a[1]*a[6]*a[11]+a[0]*a[13]*a[6]*a[11]+a[4]*a[1]*a[14]*a[11]-a[0]*a[5]*a[14]*a[11]-a[8]*a[5]*a[2]*a[15]+a[4]*a[9]*a[2]*a[15]+a[8]*a[1]*a[6]*a[15]-a[0]*a[9]*a[6]*a[15]-a[4]*a[1]*a[10]*a[15]+
a[0]*a[5]*a[10]*a[15]};science.lin.gaussjordan=function(a,c){c||(c=1E-10);for(var b=a.length,e=a[0].length,f=-1,h,k;++f<b;){for(h=k=f;++h<b;)Math.abs(a[h][f])>Math.abs(a[k][f])&&(k=h);h=a[f];a[f]=a[k];a[k]=h;if(Math.abs(a[f][f])<=c)return!1;for(h=f;++h<b;){var l=a[h][f]/a[f][f];for(k=f-1;++k<e;)a[h][k]-=a[f][k]*l}}for(f=b;0<=--f;){l=a[f][f];for(h=-1;++h<f;)for(k=e;--k>=f;)a[h][k]-=a[f][k]*a[h][f]/l;a[f][f]/=l;for(k=b-1;++k<e;)a[f][k]/=l}return!0};science.lin.inverse=function(a){var b=a.length,c=-1;
if(b===a[0].length){a=a.map(function(a,c){for(var d=Array(b),e=-1;++e<b;)d[e]=c===e?1:0;return a.concat(d)});for(science.lin.gaussjordan(a);++c<b;)a[c]=a[c].slice(b);return a}};science.lin.multiply=function(a,c){var b=a.length,e=c[0].length,f=c.length,h=-1,k,l;if(f!==a[0].length)throw{error:"columns(a) != rows(b); "+a[0].length+" != "+f};for(var r=Array(b);++h<b;)for(r[h]=Array(e),k=-1;++k<e;){var t=0;for(l=-1;++l<f;)t+=a[h][l]*c[l][k];r[h][k]=t}return r};science.lin.transpose=function(a){for(var b=
a.length,c=a[0].length,e=-1,f,h=Array(c);++e<c;)for(h[e]=Array(b),f=-1;++f<b;)h[e][f]=a[f][e];return h};science.lin.tridag=function(a,c,d,e,f,h){var b,k;for(b=1;b<h;b++)k=a[b]/c[b-1],c[b]-=k*d[b-1],e[b]-=k*e[b-1];f[h-1]=e[h-1]/c[h-1];for(b=h-2;0<=b;b--)f[b]=(e[b]-d[b]*f[b+1])/c[b]}})(this);(function(a){function c(a,b){if(!a||!b||a.length!==b.length)return!1;for(var c=a.length,d=-1;++d<c;)if(a[d]!==b[d])return!1;return!0}function b(a){for(var b=a.length,c=-1;++c<b;)if(!isFinite(a[c]))return!1;return!0}
function e(a,b){for(b+=1;b<a.length&&0===a[b];)b++;return b}science.stats={};science.stats.bandwidth={nrd0:function(a){var b=Math.sqrt(science.stats.variance(a));(lo=Math.min(b,science.stats.iqr(a)/1.34))||(lo=b)||(lo=Math.abs(a[1]))||(lo=1);return.9*lo*Math.pow(a.length,-.2)},nrd:function(a){var b=science.stats.iqr(a)/1.34;return 1.06*Math.min(Math.sqrt(science.stats.variance(a)),b)*Math.pow(a.length,-.2)}};science.stats.distance={euclidean:function(a,b){for(var c=a.length,d=-1,e=0,f;++d<c;)f=a[d]-
b[d],e+=f*f;return Math.sqrt(e)},manhattan:function(a,b){for(var c=a.length,d=-1,e=0;++d<c;)e+=Math.abs(a[d]-b[d]);return e},minkowski:function(a){return function(b,c){for(var d=b.length,e=-1,f=0;++e<d;)f+=Math.pow(Math.abs(b[e]-c[e]),a);return Math.pow(f,1/a)}},chebyshev:function(a,b){for(var c=a.length,d=-1,e=0,f;++d<c;)f=Math.abs(a[d]-b[d]),f>e&&(e=f);return e},hamming:function(a,b){for(var c=a.length,d=-1,e=0;++d<c;)a[d]!==b[d]&&e++;return e},jaccard:function(a,b){for(var c=a.length,d=-1,e=0;++d<
c;)a[d]===b[d]&&e++;return e/c},braycurtis:function(a,b){for(var c=a.length,d=-1,e=0,f=0,h,k;++d<c;)h=a[d],k=b[d],e+=Math.abs(h-k),f+=Math.abs(h+k);return e/f}};science.stats.erf=function(a){var b=0>a?-1:1;0>a&&(b=-1,a=-a);var c=1/(1+.3275911*a);return b*(1-((((1.061405429*c+-1.453152027)*c+1.421413741)*c+-.284496736)*c+.254829592)*c*Math.exp(-a*a))};science.stats.phi=function(a){return.5*(1+science.stats.erf(a/Math.SQRT2))};science.stats.kernel={uniform:function(a){return 1>=a&&-1<=a?.5:0},triangular:function(a){return 1>=
a&&-1<=a?1-Math.abs(a):0},epanechnikov:function(a){return 1>=a&&-1<=a?.75*(1-a*a):0},quartic:function(a){return 1>=a&&-1<=a?(a=1-a*a,.9375*a*a):0},triweight:function(a){return 1>=a&&-1<=a?(a=1-a*a,1.09375*a*a*a):0},gaussian:function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)},cosine:function(a){return 1>=a&&-1<=a?Math.PI/4*Math.cos(Math.PI/2*a):0}};science.stats.kde=function(){function a(a,d){var f=e.call(this,c);return a.map(function(a){for(var d=-1,e=0,h=c.length;++d<h;)e+=b((a-c[d])/f);
return[a,e/f/h]})}var b=science.stats.kernel.gaussian,c=[],e=science.stats.bandwidth.nrd;a.kernel=function(c){if(!arguments.length)return b;b=c;return a};a.sample=function(b){if(!arguments.length)return c;c=b;return a};a.bandwidth=function(b){if(!arguments.length)return e;e=science.functor(b);return a};return a};science.stats.kmeans=function(){function a(a){var d=a.length,f=[],h=[],k=1,l=0,m;a:{m=e;var n=a.length;if(m>n)m=null;else{for(var g=[],q={},z=0,B=0,G,x,D;B<m;){if(z===n){m=null;break a}G=
Math.floor(Math.random()*n);if(!(G in q)){q[G]=1;z++;x=a[G];D=!0;for(G=0;G<B;G++)if(c(x,g[G])){D=!1;break}D&&(g[B]=x,B++)}}m=g}}for(var E;k&&1E3>l;){for(n=-1;++n<e;)h[n]=0;for(k=-1;++k<d;){q=a[k];g=Infinity;for(n=-1;++n<e;)z=b.call(this,m[n],q),z<g&&(g=z,E=n);h[f[k]=E]++}g=[];for(k=-1;++k<d;)if(q=f[k],z=g[q],null==z)g[q]=a[k].slice();else for(n=-1;++n<z.length;)z[n]+=a[k][n];for(n=-1;++n<e;)for(q=g[n],z=1/h[n],k=-1;++k<q.length;)q[k]*=z;k=0;for(n=-1;++n<e;)if(!c(g[n],m[n])){k=1;break}m=g;l++}return{assignments:f,
centroids:m}}var b=science.stats.distance.euclidean,e=1;a.k=function(b){if(!arguments.length)return e;e=b;return a};a.distance=function(c){if(!arguments.length)return b;b=c;return a};return a};science.stats.hcluster=function(){function a(a){var c=a.length,d=[],e=[],f=[],h,k,l,m;for(l=-1;++l<c;)for(d[l]=0,e[l]=[],m=-1;++m<c;)e[l][m]=l===m?Infinity:b(a[l],a[m]),e[l][d[l]]>e[l][m]&&(d[l]=m);for(l=-1;++l<c;)f[l]=[],f[l][0]={left:null,right:null,dist:0,centroid:a[l],size:1,depth:0};for(a=0;a<c-1;a++){for(l=
h=0;l<c;l++)e[l][d[l]]<e[h][d[h]]&&(h=l);k=d[h];l=f[h][0];m=f[k][0];for(var g=l,n=m,z=e[h][k],B=l.size,G=l.centroid,x=m.size,D=m.centroid,E=[],F=B+x,J=G.length,L=-1;++L<J;)E[L]=(B*G[L]+x*D[L])/F;g={left:g,right:n,dist:z,centroid:E,size:l.size+m.size,depth:1+Math.max(l.depth,m.depth)};f[h].splice(0,0,g);for(m=0;m<c;m++)e[h][m]>e[k][m]&&(e[m][h]=e[h][m]=e[k][m]);e[h][h]=Infinity;for(l=0;l<c;l++)e[l][k]=e[k][l]=Infinity;for(m=0;m<c;m++)d[m]==k&&(d[m]=h),e[h][m]<e[h][d[h]]&&(d[h]=m);h=g}return h}var b=
science.stats.distance.euclidean;a.distance=function(c){if(!arguments.length)return b;b=c;return a};return a};science.stats.iqr=function(a){a=science.stats.quantiles(a,[.25,.75]);return a[1]-a[0]};science.stats.loess=function(){function a(a,d,k){var l=a.length,m;if(l!==d.length)throw{error:"Mismatched array lengths"};if(0==l)throw{error:"At least one point required."};if(3>arguments.length)for(k=[],m=-1;++m<l;)k[m]=1;b(a);b(d);b(k);a:{m=a.length;for(var n=0;++n<m;)if(a[n-1]>=a[n])break a}if(1==l)return[d[0]];
if(2==l)return[d[0],d[1]];n=Math.floor(c*l);if(2>n)throw{error:"Bandwidth too small."};var p=[],g=[],q=[];for(m=-1;++m<l;)p[m]=0,g[m]=0,q[m]=1;for(var r=-1;++r<=f;){var w=[0,n-1],G;for(m=-1;++m<l;){G=a[m];if(0<m){var x=a,D=k,E=m,F=w,J=F[0],L=e(D,F[1]);L<x.length&&x[L]-x[E]<x[E]-x[J]&&(x=e(D,J),F[0]=x,F[1]=L)}for(var I=w[0],E=w[1],x=D=L=J=F=0,K=Math.abs(1/(a[a[m]-a[I]>a[E]-a[m]?I:E]-G));I<=E;++I)var N=a[I],P=d[I],Y=(I<m?G-N:N-G)*K,M=(Y=1-Y*Y*Y)*Y*Y*q[I]*k[I],Y=N*M,F=F+M,J=J+Y,L=L+N*Y,D=D+P*M,x=x+P*
Y;E=J/F;D/=F;x/=F;F=L/F;F=Math.sqrt(Math.abs(F-E*E))<h?0:(x-E*D)/(F-E*E);p[m]=F*G+(D-F*E);g[m]=Math.abs(d[m]-p[m])}if(r===f)break;w=science.stats.median(g);if(Math.abs(w)<h)break;for(m=-1;++m<l;)G=g[m]/(6*w),q[m]=1<=G?0:(M=1-G*G)*M}return p}var c=.3,f=2,h=1E-12;a.bandwidth=function(b){if(!arguments.length)return b;c=b;return a};a.robustnessIterations=function(b){if(!arguments.length)return b;f=b;return a};a.accuracy=function(b){if(!arguments.length)return b;h=b;return a};return a};science.stats.mean=
function(a){var b=a.length;if(0===b)return NaN;for(var c=0,d=-1;++d<b;)c+=(a[d]-c)/(d+1);return c};science.stats.median=function(a){return science.stats.quantiles(a,[.5])[0]};science.stats.mode=function(a){for(var b={},c=[],d=0,e=a.length,f=-1,h,k;++f<e;)k=b.hasOwnProperty(h=a[f])?++b[h]:b[h]=1,k===d?c.push(h):k>d&&(d=k,c=[h]);if(1===c.length)return c[0]};science.stats.quantiles=function(a,b){a=a.slice().sort(science.ascending);var c=a.length-1;return b.map(function(b){if(0===b)return a[0];if(1===
b)return a[c];var d=1+b*c;b=Math.floor(d);var d=d-b,e=a[b-1];return 0===d?e:e+d*(a[b]-e)})};science.stats.variance=function(a){var b=a.length;if(1>b)return NaN;if(1===b)return 0;for(var c=science.stats.mean(a),d=-1,e=0;++d<b;)var f=a[d]-c,e=e+f*f;return e/(b-1)};science.stats.distribution={};science.stats.distribution.gaussian=function(){function a(){var a,d;do a=2*b()-1,d=2*b()-1,d=a*a+d*d;while(1<=d||0===d);return c+e*a*Math.sqrt(-2*Math.log(d)/d)}var b=Math.random,c=0,e=1,f=1;a.pdf=function(a){a=
(a-c)/e;return science_stats_distribution_gaussianConstant*Math.exp(-.5*a*a)/e};a.cdf=function(a){a=(a-c)/e;return.5*(1+science.stats.erf(a/Math.SQRT2))};a.mean=function(b){if(!arguments.length)return c;c=+b;return a};a.variance=function(b){if(!arguments.length)return f;e=Math.sqrt(f=+b);return a};a.random=function(c){if(!arguments.length)return b;b=c;return a};return a};science_stats_distribution_gaussianConstant=1/Math.sqrt(2*Math.PI)})(this)})(this)},{}],1020:[function(a,l,f){function c(a){return a.toString(this.encoding)}
function e(a){this.charLength=(this.charReceived=a.length%2)?2:0}function h(a){this.charLength=(this.charReceived=a.length%3)?3:0}var b=a("buffer").Buffer,k=b.isEncoding||function(a){switch(a&&a.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;default:return!1}};a=f.StringDecoder=function(a){this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,"");if(a&&!k(a))throw Error("Unknown encoding: "+
a);switch(this.encoding){case "utf8":this.surrogateSize=3;break;case "ucs2":case "utf16le":this.surrogateSize=2;this.detectIncompleteChar=e;break;case "base64":this.surrogateSize=3;this.detectIncompleteChar=h;break;default:this.write=c;return}this.charBuffer=new b(6);this.charLength=this.charReceived=0};a.prototype.write=function(a){for(var b="";this.charLength;){b=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;a.copy(this.charBuffer,this.charReceived,0,b);
this.charReceived+=b;if(this.charReceived<this.charLength)return"";a=a.slice(b,a.length);var b=this.charBuffer.slice(0,this.charLength).toString(this.encoding),c=b.charCodeAt(b.length-1);if(55296<=c&&56319>=c)this.charLength+=this.surrogateSize,b="";else{this.charReceived=this.charLength=0;if(0===a.length)return b;break}}this.detectIncompleteChar(a);var d=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,d),d-=this.charReceived);b+=a.toString(this.encoding,0,d);d=b.length-
1;c=b.charCodeAt(d);return 55296<=c&&56319>=c?(c=this.surrogateSize,this.charLength+=c,this.charReceived+=c,this.charBuffer.copy(this.charBuffer,c,0,c),a.copy(this.charBuffer,0,0,c),b.substring(0,d)):b};a.prototype.detectIncompleteChar=function(a){for(var b=3<=a.length?3:a.length;0<b;b--){var c=a[a.length-b];if(1==b&&6==c>>5){this.charLength=2;break}if(2>=b&&14==c>>4){this.charLength=3;break}if(3>=b&&30==c>>3){this.charLength=4;break}}this.charReceived=b};a.prototype.end=function(a){var b="";a&&a.length&&
(b=this.write(a));this.charReceived&&(a=this.encoding,b+=this.charBuffer.slice(0,this.charReceived).toString(a));return b}},{buffer:1025}],1021:[function(a,l,f){(function(){var a=this,e=a._,h={},b=Array.prototype,k=Object.prototype,d=b.push,n=b.slice,m=b.concat,q=k.toString,w=k.hasOwnProperty,p=b.forEach,r=b.map,t=b.reduce,u=b.reduceRight,y=b.filter,A=b.every,g=b.some,v=b.indexOf,z=b.lastIndexOf,k=Array.isArray,B=Object.keys,G=Function.prototype.bind,x=function(a){if(a instanceof x)return a;if(!(this instanceof
x))return new x(a);this._wrapped=a};"undefined"!==typeof f?("undefined"!==typeof l&&l.exports&&(f=l.exports=x),f._=x):a._=x;x.VERSION="1.5.1";var D=x.each=x.forEach=function(a,b,c){if(null!=a)if(p&&a.forEach===p)a.forEach(b,c);else if(a.length===+a.length)for(var d=0,e=a.length;d<e&&b.call(c,a[d],d,a)!==h;d++);else for(d in a)if(x.has(a,d)&&b.call(c,a[d],d,a)===h)break};x.map=x.collect=function(a,b,c){var d=[];if(null==a)return d;if(r&&a.map===r)return a.map(b,c);D(a,function(a,e,f){d.push(b.call(c,
a,e,f))});return d};x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);if(t&&a.reduce===t)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);D(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};x.reduceRight=x.foldr=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);if(u&&a.reduceRight===u)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==
+f)var g=x.keys(a),f=g.length;D(a,function(h,k,l){k=g?g[--f]:--f;e?c=b.call(d,c,a[k],k,l):(c=a[k],e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};x.find=x.detect=function(a,b,c){var d;E(a,function(a,e,f){if(b.call(c,a,e,f))return d=a,!0});return d};x.filter=x.select=function(a,b,c){var d=[];if(null==a)return d;if(y&&a.filter===y)return a.filter(b,c);D(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)});return d};x.reject=function(a,b,c){return x.filter(a,function(a,
d,e){return!b.call(c,a,d,e)},c)};x.every=x.all=function(a,b,c){b||(b=x.identity);var d=!0;if(null==a)return d;if(A&&a.every===A)return a.every(b,c);D(a,function(a,e,f){if(!(d=d&&b.call(c,a,e,f)))return h});return!!d};var E=x.some=x.any=function(a,b,c){b||(b=x.identity);var d=!1;if(null==a)return d;if(g&&a.some===g)return a.some(b,c);D(a,function(a,e,f){if(d||(d=b.call(c,a,e,f)))return h});return!!d};x.contains=x.include=function(a,b){return null==a?!1:v&&a.indexOf===v?-1!=a.indexOf(b):E(a,function(a){return a===
b})};x.invoke=function(a,b){var c=n.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})};x.pluck=function(a,b){return x.map(a,function(a){return a[b]})};x.where=function(a,b,c){return x.isEmpty(b)?c?void 0:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};x.findWhere=function(a,b){return x.where(a,b,!0)};x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-Infinity;
var d={computed:-Infinity,value:-Infinity};D(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e>d.computed&&(d={value:a,computed:e})});return d.value};x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return Infinity;var d={computed:Infinity,value:Infinity};D(a,function(a,e,f){e=b?b.call(c,a,e,f):a;e<d.computed&&(d={value:a,computed:e})});return d.value};x.shuffle=function(a){var b,c=0,d=[];D(a,function(a){b=x.random(c++);d[c-1]=d[b];
d[b]=a});return d};var F=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=F(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var J=function(a,b,c,d){var e={},f=F(null==b?x.identity:b);D(a,function(b,g){g=f.call(c,b,g,a);d(e,g,b)});return e};x.groupBy=function(a,
b,c){return J(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})};x.countBy=function(a,b,c){return J(a,b,c,function(a,b){x.has(a,b)||(a[b]=0);a[b]++})};x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:F(c);b=c.call(d,b);for(var e=0,f=a.length;e<f;){var g=e+f>>>1;c.call(d,a[g])<b?e=g+1:f=g}return e};x.toArray=function(a){return a?x.isArray(a)?n.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]};x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length};
x.first=x.head=x.take=function(a,b,c){if(null!=a)return null==b||c?a[0]:n.call(a,0,b)};x.initial=function(a,b,c){return n.call(a,0,a.length-(null==b||c?1:b))};x.last=function(a,b,c){if(null!=a)return null==b||c?a[a.length-1]:n.call(a,Math.max(a.length-b,0))};x.rest=x.tail=x.drop=function(a,b,c){return n.call(a,null==b||c?1:b)};x.compact=function(a){return x.filter(a,x.identity)};var L=function(a,b,c){if(b&&x.every(a,x.isArray))return m.apply(c,a);D(a,function(a){x.isArray(a)||x.isArguments(a)?b?d.apply(c,
a):L(a,b,c):c.push(a)});return c};x.flatten=function(a,b){return L(a,b,[])};x.without=function(a){return x.difference(a,n.call(arguments,1))};x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);c=c?x.map(a,c,d):a;var e=[],f=[];D(c,function(c,d){(b?d&&f[f.length-1]===c:x.contains(f,c))||(f.push(c),e.push(a[d]))});return e};x.union=function(){return x.uniq(x.flatten(arguments,!0))};x.intersection=function(a){var b=n.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,
function(b){return 0<=x.indexOf(b,a)})})};x.difference=function(a){var c=m.apply(b,n.call(arguments,1));return x.filter(a,function(a){return!x.contains(c,a)})};x.zip=function(){for(var a=x.max(x.pluck(arguments,"length").concat(0)),b=Array(a),c=0;c<a;c++)b[c]=x.pluck(arguments,""+c);return b};x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c)if("number"==typeof c)d=
0>c?Math.max(0,e+c):c;else return d=x.sortedIndex(a,b),a[d]===b?d:-1;if(v&&a.indexOf===v)return a.indexOf(b,c);for(;d<e;d++)if(a[d]===b)return d;return-1};x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(z&&a.lastIndexOf===z)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=d?c:a.length;c--;)if(a[c]===b)return c;return-1};x.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);e<d;)f[e++]=a,a+=c;return f};
var I=function(){};x.bind=function(a,b){var c,d;if(G&&a.bind===G)return G.apply(a,n.call(arguments,1));if(!x.isFunction(a))throw new TypeError;c=n.call(arguments,2);return d=function(){if(!(this instanceof d))return a.apply(b,c.concat(n.call(arguments)));I.prototype=a.prototype;var e=new I;I.prototype=null;var f=a.apply(e,c.concat(n.call(arguments)));return Object(f)===f?f:e}};x.partial=function(a){var b=n.call(arguments,1);return function(){return a.apply(this,b.concat(n.call(arguments)))}};x.bindAll=
function(a){var b=n.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");D(b,function(b){a[b]=x.bind(a[b],a)});return a};x.memoize=function(a,b){var c={};b||(b=x.identity);return function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};x.delay=function(a,b){var c=n.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};x.defer=function(a){return x.delay.apply(x,[a,1].concat(n.call(arguments,1)))};x.throttle=
function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var k=function(){h=!1===c.leading?0:new Date;g=null;f=a.apply(d,e)};return function(){var l=new Date;h||!1!==c.leading||(h=l);var m=b-(l-h);d=this;e=arguments;0>=m?(clearTimeout(g),g=null,h=l,f=a.apply(d,e)):g||!1===c.trailing||(g=setTimeout(k,m));return f}};x.debounce=function(a,b,c){var d,e=null;return function(){var f=this,g=arguments,h=c&&!e;clearTimeout(e);e=setTimeout(function(){e=null;c||(d=a.apply(f,g))},b);h&&(d=a.apply(f,g));return d}};x.once=
function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};x.wrap=function(a,b){return function(){var c=[a];d.apply(c,arguments);return b.apply(this,c)}};x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};x.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}};x.keys=B||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],
c;for(c in a)x.has(a,c)&&b.push(c);return b};x.values=function(a){var b=[],c;for(c in a)x.has(a,c)&&b.push(a[c]);return b};x.pairs=function(a){var b=[],c;for(c in a)x.has(a,c)&&b.push([c,a[c]]);return b};x.invert=function(a){var b={},c;for(c in a)x.has(a,c)&&(b[a[c]]=c);return b};x.functions=x.methods=function(a){var b=[],c;for(c in a)x.isFunction(a[c])&&b.push(c);return b.sort()};x.extend=function(a){D(n.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]});return a};x.pick=function(a){var c=
{},d=m.apply(b,n.call(arguments,1));D(d,function(b){b in a&&(c[b]=a[b])});return c};x.omit=function(a){var c={},d=m.apply(b,n.call(arguments,1)),e;for(e in a)x.contains(d,e)||(c[e]=a[e]);return c};x.defaults=function(a){D(n.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])});return a};x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a};x.tap=function(a,b){b(a);return a};var K=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==
b)return a===b;a instanceof x&&(a=a._wrapped);b instanceof x&&(b=b._wrapped);var e=q.call(a);if(e!=q.call(b))return!1;switch(e){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==
b;var f=a.constructor,g=b.constructor;if(f!==g&&!(x.isFunction(f)&&f instanceof f&&x.isFunction(g)&&g instanceof g))return!1;c.push(a);d.push(b);f=0;g=!0;if("[object Array]"==e){if(f=a.length,g=f==b.length)for(;f--&&(g=K(a[f],b[f],c,d)););}else{for(var h in a)if(x.has(a,h)&&(f++,!(g=x.has(b,h)&&K(a[h],b[h],c,d))))break;if(g){for(h in b)if(x.has(b,h)&&!f--)break;g=!f}}c.pop();d.pop();return g};x.isEqual=function(a,b){return K(a,b,[],[])};x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===
a.length;for(var b in a)if(x.has(a,b))return!1;return!0};x.isElement=function(a){return!(!a||1!==a.nodeType)};x.isArray=k||function(a){return"[object Array]"==q.call(a)};x.isObject=function(a){return a===Object(a)};D("Arguments Function String Number Date RegExp".split(" "),function(a){x["is"+a]=function(b){return q.call(b)=="[object "+a+"]"}});x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))});"function"!==typeof/./&&(x.isFunction=function(a){return"function"===
typeof a});x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};x.isNaN=function(a){return x.isNumber(a)&&a!=+a};x.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==q.call(a)};x.isNull=function(a){return null===a};x.isUndefined=function(a){return void 0===a};x.has=function(a,b){return w.call(a,b)};x.noConflict=function(){a._=e;return this};x.identity=function(a){return a};x.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;e<a;e++)d[e]=b.call(c,e);return d};x.random=
function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};N.unescape=x.invert(N.escape);var P={escape:new RegExp("["+x.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(N.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(P[a],function(b){return N[a][b]})}});x.result=function(a,b){if(null!=a)return b=a[b],x.isFunction(b)?
b.call(a):b};x.mixin=function(a){D(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];d.apply(a,arguments);return U.call(this,c.apply(x,a))}})};var Y=0;x.uniqueId=function(a){var b=++Y+"";return a?a+b:b};x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,
c){var d;c=x.defaults({},c,x.templateSettings);var e=new RegExp([(c.escape||M).source,(c.interpolate||M).source,(c.evaluate||M).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){g+=a.slice(f,h).replace(Q,function(a){return"\\"+O[a]});c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'");e&&(g+="';\n"+e+"\n__p+='");f=h+b.length;return b});g+="';\n";c.variable||(g="with(obj||{}){\n"+g+"}\n");g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+
g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(ga){throw ga.source=g,ga;}if(b)return d(b,x);b=function(a){return d.call(this,a,x)};b.source="function("+(c.variable||"obj")+"){\n"+g+"}";return b};x.chain=function(a){return x(a).chain()};var U=function(a){return this._chain?x(a).chain():a};x.mixin(x);D("pop push reverse shift sort splice unshift".split(" "),function(a){var c=b[a];x.prototype[a]=function(){var b=this._wrapped;c.apply(b,arguments);"shift"!=a&&"splice"!=a||0!==b.length||
delete b[0];return U.call(this,b)}});D(["concat","join","slice"],function(a){var c=b[a];x.prototype[a]=function(){return U.call(this,c.apply(this._wrapped,arguments))}});x.extend(x.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this)},{}],1022:[function(a,l,f){(function(a){function c(c){try{if(!a.localStorage)return!1}catch(b){return!1}c=a.localStorage[c];return null==c?!1:"true"===String(c).toLowerCase()}l.exports=function(a,b){if(c("noDeprecation"))return a;
var e=!1;return function(){if(!e){if(c("throwDeprecation"))throw Error(b);c("traceDeprecation")?console.trace(b):console.warn(b);e=!0}return a.apply(this,arguments)}}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],1023:[function(a,l,f){l.exports=function(){for(var a={},f=0;f<arguments.length;f++){var b=arguments[f],k;for(k in b)c.call(b,k)&&(a[k]=b[k])}return a};var c=Object.prototype.hasOwnProperty},{}],1024:[function(a,l,
f){},{}],1025:[function(a,l,f){(function(c){function e(){try{var a=new Uint8Array(1);a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===a.foo()&&"function"===typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(O){return!1}}function h(a,c){if((b.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<c)throw new RangeError("Invalid typed array length");b.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(c),a.__proto__=b.prototype):(null===a&&(a=new b(c)),a.length=c);return a}function b(a,
c,d){if(!(b.TYPED_ARRAY_SUPPORT||this instanceof b))return new b(a,c,d);if("number"===typeof a){if("string"===typeof c)throw Error("If encoding is specified then the first argument must be a string");return l(this,a)}return k(this,a,c,d)}function k(a,c,d,e){if("number"===typeof c)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&c instanceof ArrayBuffer){c.byteLength;if(0>d||c.byteLength<d)throw new RangeError("'offset' is out of bounds");if(c.byteLength<
d+(e||0))throw new RangeError("'length' is out of bounds");c=void 0===d&&void 0===e?new Uint8Array(c):void 0===e?new Uint8Array(c,d):new Uint8Array(c,d,e);b.TYPED_ARRAY_SUPPORT?(a=c,a.__proto__=b.prototype):a=m(a,c);return a}if("string"===typeof c){e=a;a=d;if("string"!==typeof a||""===a)a="utf8";if(!b.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');d=p(c,a)|0;e=h(e,d);c=e.write(c,a);c!==d&&(e=e.slice(0,c));return e}return q(a,c)}function d(a){if("number"!==typeof a)throw new TypeError('"size" argument must be a number');
if(0>a)throw new RangeError('"size" argument must not be negative');}function l(a,c){d(c);a=h(a,0>c?0:w(c)|0);if(!b.TYPED_ARRAY_SUPPORT)for(var e=0;e<c;++e)a[e]=0;return a}function m(a,b){var c=0>b.length?0:w(b.length)|0;a=h(a,c);for(var d=0;d<c;d+=1)a[d]=b[d]&255;return a}function q(a,c){if(b.isBuffer(c)){var d=w(c.length)|0;a=h(a,d);if(0===a.length)return a;c.copy(a,0,0,d);return a}if(c){if("undefined"!==typeof ArrayBuffer&&c.buffer instanceof ArrayBuffer||"length"in c)return(d="number"!==typeof c.length)||
(d=c.length,d=d!==d),d?h(a,0):m(a,c);if("Buffer"===c.type&&N(c.data))return m(a,c.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function w(a){if(a>=(b.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(b.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return a|0}function p(a,c){if(b.isBuffer(a))return a.length;if("undefined"!==typeof ArrayBuffer&&
"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!==typeof a&&(a=""+a);var d=a.length;if(0===d)return 0;for(var e=!1;;)switch(c){case "ascii":case "latin1":case "binary":return d;case "utf8":case "utf-8":case void 0:return F(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*d;case "hex":return d>>>1;case "base64":return I.toByteArray(E(a)).length;default:if(e)return F(a).length;c=(""+c).toLowerCase();e=!0}}
function r(a,b,c){var d=!1;if(void 0===b||0>b)b=0;if(b>this.length)return"";if(void 0===c||c>this.length)c=this.length;if(0>=c)return"";c>>>=0;b>>>=0;if(c<=b)return"";for(a||(a="utf8");;)switch(a){case "hex":a=b;b=c;c=this.length;if(!a||0>a)a=0;if(!b||0>b||b>c)b=c;d="";for(c=a;c<b;++c)a=d,d=this[c],d=16>d?"0"+d.toString(16):d.toString(16),d=a+d;return d;case "utf8":case "utf-8":return A(this,b,c);case "ascii":a="";for(c=Math.min(this.length,c);b<c;++b)a+=String.fromCharCode(this[b]&127);return a;
case "latin1":case "binary":a="";for(c=Math.min(this.length,c);b<c;++b)a+=String.fromCharCode(this[b]);return a;case "base64":return b=0===b&&c===this.length?I.fromByteArray(this):I.fromByteArray(this.slice(b,c)),b;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=this.slice(b,c);c="";for(a=0;a<b.length;a+=2)c+=String.fromCharCode(b[a]+256*b[a+1]);return c;default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();d=!0}}function t(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}function u(a,
c,d,e,f){if(0===a.length)return-1;"string"===typeof d?(e=d,d=0):2147483647<d?d=2147483647:-2147483648>d&&(d=-2147483648);d=+d;isNaN(d)&&(d=f?0:a.length-1);0>d&&(d=a.length+d);if(d>=a.length){if(f)return-1;d=a.length-1}else if(0>d)if(f)d=0;else return-1;"string"===typeof c&&(c=b.from(c,e));if(b.isBuffer(c))return 0===c.length?-1:y(a,c,d,e,f);if("number"===typeof c)return c&=255,b.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(a,c,d):Uint8Array.prototype.lastIndexOf.call(a,
c,d):y(a,[c],d,e,f);throw new TypeError("val must be string, number or Buffer");}function y(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,k=b.length;if(void 0!==d&&(d=String(d).toLowerCase(),"ucs2"===d||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(2>a.length||2>b.length)return-1;g=2;h/=2;k/=2;c/=2}if(e)for(d=-1;c<h;c++)if(f(a,c)===f(b,-1===d?0:c-d)){if(-1===d&&(d=c),c-d+1===k)return d*g}else-1!==d&&(c-=c-d),d=-1;else for(c+k>h&&(c=h-k);0<=c;c--){h=!0;for(d=
0;d<k;d++)if(f(a,c+d)!==f(b,d)){h=!1;break}if(h)return c}return-1}function A(a,b,c){c=Math.min(a.length,c);for(var d=[];b<c;){var e=a[b],f=null,g=239<e?4:223<e?3:191<e?2:1;if(b+g<=c){var h,k,l;switch(g){case 1:128>e&&(f=e);break;case 2:h=a[b+1];128===(h&192)&&(e=(e&31)<<6|h&63,127<e&&(f=e));break;case 3:h=a[b+1];k=a[b+2];128===(h&192)&&128===(k&192)&&(e=(e&15)<<12|(h&63)<<6|k&63,2047<e&&(55296>e||57343<e)&&(f=e));break;case 4:h=a[b+1],k=a[b+2],l=a[b+3],128===(h&192)&&128===(k&192)&&128===(l&192)&&
(e=(e&15)<<18|(h&63)<<12|(k&63)<<6|l&63,65535<e&&1114112>e&&(f=e))}}null===f?(f=65533,g=1):65535<f&&(f-=65536,d.push(f>>>10&1023|55296),f=56320|f&1023);d.push(f);b+=g}a=d.length;if(a<=P)d=String.fromCharCode.apply(String,d);else{c="";for(b=0;b<a;)c+=String.fromCharCode.apply(String,d.slice(b,b+=P));d=c}return d}function g(a,b,c){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length");}function v(a,c,d,e,f,g){if(!b.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');
if(c>f||c<g)throw new RangeError('"value" argument is out of bounds');if(d+e>a.length)throw new RangeError("Index out of range");}function z(a,b,c,d){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function B(a,b,c,d){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function G(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("Index out of range");
}function x(a,b,c,d,e){e||G(a,b,c,4,3.4028234663852886E38,-3.4028234663852886E38);K.write(a,b,c,d,23,4);return c+4}function D(a,b,c,d,e){e||G(a,b,c,8,1.7976931348623157E308,-1.7976931348623157E308);K.write(a,b,c,d,52,8);return c+8}function E(a){a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");a=a.replace(Y,"");if(2>a.length)return"";for(;0!==a.length%4;)a+="=";return a}function F(a,b){b=b||Infinity;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){c=a.charCodeAt(g);if(55295<c&&57344>c){if(!e){if(56319<c){-1<
(b-=3)&&f.push(239,191,189);continue}else if(g+1===d){-1<(b-=3)&&f.push(239,191,189);continue}e=c;continue}if(56320>c){-1<(b-=3)&&f.push(239,191,189);e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&-1<(b-=3)&&f.push(239,191,189);e=null;if(128>c){if(0>--b)break;f.push(c)}else if(2048>c){if(0>(b-=2))break;f.push(c>>6|192,c&63|128)}else if(65536>c){if(0>(b-=3))break;f.push(c>>12|224,c>>6&63|128,c&63|128)}else if(1114112>c){if(0>(b-=4))break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw Error("Invalid code point");
}return f}function J(a){for(var b=[],c=0;c<a.length;++c)b.push(a.charCodeAt(c)&255);return b}function L(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}var I=a("base64-js"),K=a("ieee754"),N=a("isarray");f.Buffer=b;f.SlowBuffer=function(a){+a!=a&&(a=0);return b.alloc(+a)};f.INSPECT_MAX_BYTES=50;b.TYPED_ARRAY_SUPPORT=void 0!==c.TYPED_ARRAY_SUPPORT?c.TYPED_ARRAY_SUPPORT:e();f.kMaxLength=b.TYPED_ARRAY_SUPPORT?2147483647:1073741823;b.poolSize=8192;b._augment=function(a){a.__proto__=
b.prototype;return a};b.from=function(a,b,c){return k(null,a,b,c)};b.TYPED_ARRAY_SUPPORT&&(b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0}));b.alloc=function(a,b,c){d(a);a=0>=a?h(null,a):void 0!==b?"string"===typeof c?h(null,a).fill(b,c):h(null,a).fill(b):h(null,a);return a};b.allocUnsafe=function(a){return l(null,a)};b.allocUnsafeSlow=function(a){return l(null,
a)};b.isBuffer=function(a){return!(null==a||!a._isBuffer)};b.compare=function(a,c){if(!b.isBuffer(a)||!b.isBuffer(c))throw new TypeError("Arguments must be Buffers");if(a===c)return 0;for(var d=a.length,e=c.length,f=0,g=Math.min(d,e);f<g;++f)if(a[f]!==c[f]){d=a[f];e=c[f];break}return d<e?-1:e<d?1:0};b.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};b.concat=function(a,c){if(!N(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return b.alloc(0);var d;if(void 0===c)for(d=c=0;d<a.length;++d)c+=a[d].length;c=b.allocUnsafe(c);var e=0;for(d=0;d<a.length;++d){var f=a[d];if(!b.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(c,e);e+=f.length}return c};b.byteLength=p;b.prototype._isBuffer=!0;b.prototype.swap16=function(){var a=this.length;if(0!==a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var b=0;b<a;b+=2)t(this,b,b+1);return this};b.prototype.swap32=function(){var a=this.length;if(0!==a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)t(this,b,b+3),t(this,b+1,b+2);return this};b.prototype.swap64=function(){var a=this.length;if(0!==a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)t(this,b,b+7),t(this,b+1,b+6),t(this,b+2,b+5),t(this,b+3,b+4);return this};b.prototype.toString=function(){var a=this.length|
0;return 0===a?"":0===arguments.length?A(this,0,a):r.apply(this,arguments)};b.prototype.equals=function(a){if(!b.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===b.compare(this,a)};b.prototype.inspect=function(){var a="",b=f.INSPECT_MAX_BYTES;0<this.length&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... "));return"<Buffer "+a+">"};b.prototype.compare=function(a,c,d,e,f){if(!b.isBuffer(a))throw new TypeError("Argument must be a Buffer");
void 0===c&&(c=0);void 0===d&&(d=a?a.length:0);void 0===e&&(e=0);void 0===f&&(f=this.length);if(0>c||d>a.length||0>e||f>this.length)throw new RangeError("out of range index");if(e>=f&&c>=d)return 0;if(e>=f)return-1;if(c>=d)return 1;c>>>=0;d>>>=0;e>>>=0;f>>>=0;if(this===a)return 0;var g=f-e,h=d-c,k=Math.min(g,h);e=this.slice(e,f);a=a.slice(c,d);for(c=0;c<k;++c)if(e[c]!==a[c]){g=e[c];h=a[c];break}return g<h?-1:h<g?1:0};b.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)};b.prototype.indexOf=
function(a,b,c){return u(this,a,b,c,!0)};b.prototype.lastIndexOf=function(a,b,c){return u(this,a,b,c,!1)};b.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"===typeof b)d=b,c=this.length,b=0;else if(isFinite(b))b|=0,isFinite(c)?(c|=0,void 0===d&&(d="utf8")):(d=c,c=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var e=this.length-b;if(void 0===c||c>e)c=e;if(0<a.length&&(0>c||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");
d||(d="utf8");for(e=!1;;)switch(d){case "hex":a:{b=Number(b)||0;d=this.length-b;c?(c=Number(c),c>d&&(c=d)):c=d;d=a.length;if(0!==d%2)throw new TypeError("Invalid hex string");c>d/2&&(c=d/2);for(d=0;d<c;++d){e=parseInt(a.substr(2*d,2),16);if(isNaN(e)){a=d;break a}this[b+d]=e}a=d}return a;case "utf8":case "utf-8":return L(F(a,this.length-b),this,b,c);case "ascii":return L(J(a),this,b,c);case "latin1":case "binary":return L(J(a),this,b,c);case "base64":return L(I.toByteArray(E(a)),this,b,c);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":d=
this.length-b;for(var f,g=[],h=0;h<a.length&&!(0>(d-=2));++h)f=a.charCodeAt(h),e=f>>8,f%=256,g.push(f),g.push(e);return L(g,this,b,c);default:if(e)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase();e=!0}};b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;b.prototype.slice=function(a,c){var d=this.length;a=~~a;c=void 0===c?d:~~c;0>a?(a+=d,0>a&&(a=0)):a>d&&(a=d);0>c?(c+=d,0>c&&(c=0)):c>d&&(c=d);c<a&&(c=a);if(b.TYPED_ARRAY_SUPPORT)c=
this.subarray(a,c),c.__proto__=b.prototype;else{d=c-a;c=new b(d,void 0);for(var e=0;e<d;++e)c[e]=this[e+a]}return c};b.prototype.readUIntLE=function(a,b,c){a|=0;b|=0;c||g(a,b,this.length);c=this[a];for(var d=1,e=0;++e<b&&(d*=256);)c+=this[a+e]*d;return c};b.prototype.readUIntBE=function(a,b,c){a|=0;b|=0;c||g(a,b,this.length);c=this[a+--b];for(var d=1;0<b&&(d*=256);)c+=this[a+--b]*d;return c};b.prototype.readUInt8=function(a,b){b||g(a,1,this.length);return this[a]};b.prototype.readUInt16LE=function(a,
b){b||g(a,2,this.length);return this[a]|this[a+1]<<8};b.prototype.readUInt16BE=function(a,b){b||g(a,2,this.length);return this[a]<<8|this[a+1]};b.prototype.readUInt32LE=function(a,b){b||g(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};b.prototype.readUInt32BE=function(a,b){b||g(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};b.prototype.readIntLE=function(a,b,c){a|=0;b|=0;c||g(a,b,this.length);c=this[a];for(var d=1,e=0;++e<b&&(d*=256);)c+=
this[a+e]*d;c>=128*d&&(c-=Math.pow(2,8*b));return c};b.prototype.readIntBE=function(a,b,c){a|=0;b|=0;c||g(a,b,this.length);c=b;for(var d=1,e=this[a+--c];0<c&&(d*=256);)e+=this[a+--c]*d;e>=128*d&&(e-=Math.pow(2,8*b));return e};b.prototype.readInt8=function(a,b){b||g(a,1,this.length);return this[a]&128?-1*(255-this[a]+1):this[a]};b.prototype.readInt16LE=function(a,b){b||g(a,2,this.length);a=this[a]|this[a+1]<<8;return a&32768?a|4294901760:a};b.prototype.readInt16BE=function(a,b){b||g(a,2,this.length);
a=this[a+1]|this[a]<<8;return a&32768?a|4294901760:a};b.prototype.readInt32LE=function(a,b){b||g(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};b.prototype.readInt32BE=function(a,b){b||g(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};b.prototype.readFloatLE=function(a,b){b||g(a,4,this.length);return K.read(this,a,!0,23,4)};b.prototype.readFloatBE=function(a,b){b||g(a,4,this.length);return K.read(this,a,!1,23,4)};b.prototype.readDoubleLE=function(a,
b){b||g(a,8,this.length);return K.read(this,a,!0,52,8)};b.prototype.readDoubleBE=function(a,b){b||g(a,8,this.length);return K.read(this,a,!1,52,8)};b.prototype.writeUIntLE=function(a,b,c,d){a=+a;b|=0;c|=0;d||v(this,a,b,c,Math.pow(2,8*c)-1,0);d=1;var e=0;for(this[b]=a&255;++e<c&&(d*=256);)this[b+e]=a/d&255;return b+c};b.prototype.writeUIntBE=function(a,b,c,d){a=+a;b|=0;c|=0;d||v(this,a,b,c,Math.pow(2,8*c)-1,0);d=c-1;var e=1;for(this[b+d]=a&255;0<=--d&&(e*=256);)this[b+d]=a/e&255;return b+c};b.prototype.writeUInt8=
function(a,c,d){a=+a;c|=0;d||v(this,a,c,1,255,0);b.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));this[c]=a&255;return c+1};b.prototype.writeUInt16LE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,2,65535,0);b.TYPED_ARRAY_SUPPORT?(this[c]=a&255,this[c+1]=a>>>8):z(this,a,c,!0);return c+2};b.prototype.writeUInt16BE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,2,65535,0);b.TYPED_ARRAY_SUPPORT?(this[c]=a>>>8,this[c+1]=a&255):z(this,a,c,!1);return c+2};b.prototype.writeUInt32LE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,4,4294967295,
0);b.TYPED_ARRAY_SUPPORT?(this[c+3]=a>>>24,this[c+2]=a>>>16,this[c+1]=a>>>8,this[c]=a&255):B(this,a,c,!0);return c+4};b.prototype.writeUInt32BE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,4,4294967295,0);b.TYPED_ARRAY_SUPPORT?(this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255):B(this,a,c,!1);return c+4};b.prototype.writeIntLE=function(a,b,c,d){a=+a;b|=0;d||(d=Math.pow(2,8*c-1),v(this,a,b,c,d-1,-d));d=0;var e=1,f=0;for(this[b]=a&255;++d<c&&(e*=256);)0>a&&0===f&&0!==this[b+d-1]&&(f=1),this[b+
d]=(a/e>>0)-f&255;return b+c};b.prototype.writeIntBE=function(a,b,c,d){a=+a;b|=0;d||(d=Math.pow(2,8*c-1),v(this,a,b,c,d-1,-d));d=c-1;var e=1,f=0;for(this[b+d]=a&255;0<=--d&&(e*=256);)0>a&&0===f&&0!==this[b+d+1]&&(f=1),this[b+d]=(a/e>>0)-f&255;return b+c};b.prototype.writeInt8=function(a,c,d){a=+a;c|=0;d||v(this,a,c,1,127,-128);b.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));0>a&&(a=255+a+1);this[c]=a&255;return c+1};b.prototype.writeInt16LE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,2,32767,-32768);b.TYPED_ARRAY_SUPPORT?
(this[c]=a&255,this[c+1]=a>>>8):z(this,a,c,!0);return c+2};b.prototype.writeInt16BE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,2,32767,-32768);b.TYPED_ARRAY_SUPPORT?(this[c]=a>>>8,this[c+1]=a&255):z(this,a,c,!1);return c+2};b.prototype.writeInt32LE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,4,2147483647,-2147483648);b.TYPED_ARRAY_SUPPORT?(this[c]=a&255,this[c+1]=a>>>8,this[c+2]=a>>>16,this[c+3]=a>>>24):B(this,a,c,!0);return c+4};b.prototype.writeInt32BE=function(a,c,d){a=+a;c|=0;d||v(this,a,c,4,2147483647,
-2147483648);0>a&&(a=4294967295+a+1);b.TYPED_ARRAY_SUPPORT?(this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255):B(this,a,c,!1);return c+4};b.prototype.writeFloatLE=function(a,b,c){return x(this,a,b,!0,c)};b.prototype.writeFloatBE=function(a,b,c){return x(this,a,b,!1,c)};b.prototype.writeDoubleLE=function(a,b,c){return D(this,a,b,!0,c)};b.prototype.writeDoubleBE=function(a,b,c){return D(this,a,b,!1,c)};b.prototype.copy=function(a,c,d,e){d||(d=0);e||0===e||(e=this.length);c>=a.length&&
(c=a.length);c||(c=0);0<e&&e<d&&(e=d);if(e===d||0===a.length||0===this.length)return 0;if(0>c)throw new RangeError("targetStart out of bounds");if(0>d||d>=this.length)throw new RangeError("sourceStart out of bounds");if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length);a.length-c<e-d&&(e=a.length-c+d);var f=e-d;if(this===a&&d<c&&c<e)for(e=f-1;0<=e;--e)a[e+c]=this[e+d];else if(1E3>f||!b.TYPED_ARRAY_SUPPORT)for(e=0;e<f;++e)a[e+c]=this[e+d];else Uint8Array.prototype.set.call(a,
this.subarray(d,d+f),c);return f};b.prototype.fill=function(a,c,d,e){if("string"===typeof a){"string"===typeof c?(e=c,c=0,d=this.length):"string"===typeof d&&(e=d,d=this.length);if(1===a.length){var f=a.charCodeAt(0);256>f&&(a=f)}if(void 0!==e&&"string"!==typeof e)throw new TypeError("encoding must be a string");if("string"===typeof e&&!b.isEncoding(e))throw new TypeError("Unknown encoding: "+e);}else"number"===typeof a&&(a&=255);if(0>c||this.length<c||this.length<d)throw new RangeError("Out of range index");
if(d<=c)return this;c>>>=0;d=void 0===d?this.length:d>>>0;a||(a=0);if("number"===typeof a)for(e=c;e<d;++e)this[e]=a;else for(a=b.isBuffer(a)?a:F((new b(a,e)).toString()),f=a.length,e=0;e<d-c;++e)this[e+c]=a[e%f];return this};var Y=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"base64-js":408,ieee754:816,isarray:818}],1026:[function(a,l,f){function c(){this._events=this._events||{};this._maxListeners=this._maxListeners||
void 0}function e(a){return"function"===typeof a}function h(a){return"object"===typeof a&&null!==a}l.exports=c;c.EventEmitter=c;c.prototype._events=void 0;c.prototype._maxListeners=void 0;c.defaultMaxListeners=10;c.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||isNaN(a))throw TypeError("n must be a positive number");this._maxListeners=a;return this};c.prototype.emit=function(a){var b,c,f,l;this._events||(this._events={});if("error"===a&&(!this._events.error||h(this._events.error)&&
!this._events.error.length)){b=arguments[1];if(b instanceof Error)throw b;c=Error('Uncaught, unspecified "error" event. ('+b+")");c.context=b;throw c;}c=this._events[a];if(void 0===c)return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:b=Array.prototype.slice.call(arguments,1),c.apply(this,b)}else if(h(c))for(b=Array.prototype.slice.call(arguments,1),l=c.slice(),c=l.length,f=0;f<c;f++)l[f].apply(this,
b);return!0};c.prototype.addListener=function(a,f){if(!e(f))throw TypeError("listener must be a function");this._events||(this._events={});this._events.newListener&&this.emit("newListener",a,e(f.listener)?f.listener:f);this._events[a]?h(this._events[a])?this._events[a].push(f):this._events[a]=[this._events[a],f]:this._events[a]=f;h(this._events[a])&&!this._events[a].warned&&(f=void 0!==this._maxListeners?this._maxListeners:c.defaultMaxListeners)&&0<f&&this._events[a].length>f&&(this._events[a].warned=
!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"===typeof console.trace&&console.trace());return this};c.prototype.on=c.prototype.addListener;c.prototype.once=function(a,c){function b(){this.removeListener(a,b);f||(f=!0,c.apply(this,arguments))}if(!e(c))throw TypeError("listener must be a function");var f=!1;b.listener=c;this.on(a,b);return this};c.prototype.removeListener=
function(a,c){var b,f,k;if(!e(c))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;b=this._events[a];k=b.length;f=-1;if(b===c||e(b.listener)&&b.listener===c)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,c);else if(h(b)){for(;0<k--;)if(b[k]===c||b[k].listener&&b[k].listener===c){f=k;break}if(0>f)return this;1===b.length?(b.length=0,delete this._events[a]):b.splice(f,1);this._events.removeListener&&this.emit("removeListener",
a,c)}return this};c.prototype.removeAllListeners=function(a){var b;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);this.removeAllListeners("removeListener");this._events={};return this}b=this._events[a];if(e(b))this.removeListener(a,b);else if(b)for(;b.length;)this.removeListener(a,b[b.length-1]);delete this._events[a];
return this};c.prototype.listeners=function(a){return this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]};c.prototype.listenerCount=function(a){if(this._events){a=this._events[a];if(e(a))return 1;if(a)return a.length}return 0};c.listenerCount=function(a,c){return a.listenerCount(c)}},{}],1027:[function(a,l,f){function c(a){return!!a.constructor&&"function"===typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}l.exports=function(a){return null!=a&&(c(a)||
"function"===typeof a.readFloatLE&&"function"===typeof a.slice&&c(a.slice(0,0))||!!a._isBuffer)}},{}],1028:[function(a,l,f){function c(){throw Error("setTimeout has not been defined");}function e(){throw Error("clearTimeout has not been defined");}function h(a){if(q===setTimeout)return setTimeout(a,0);if((q===c||!q)&&setTimeout)return q=setTimeout,setTimeout(a,0);try{return q(a,0)}catch(A){try{return q.call(null,a,0)}catch(g){return q.call(this,a,0)}}}function b(a){if(w===clearTimeout)return clearTimeout(a);
if((w===e||!w)&&clearTimeout)return w=clearTimeout,clearTimeout(a);try{return w(a)}catch(A){try{return w.call(null,a)}catch(g){return w.call(this,a)}}}function k(){r&&t&&(r=!1,t.length?p=t.concat(p):u=-1,p.length&&d())}function d(){if(!r){var a=h(k);r=!0;for(var c=p.length;c;){t=p;for(p=[];++u<c;)t&&t[u].run();u=-1;c=p.length}t=null;r=!1;b(a)}}function n(a,b){this.fun=a;this.array=b}function m(){}a=l.exports={};var q,w;try{q="function"===typeof setTimeout?setTimeout:c}catch(y){q=c}try{w="function"===
typeof clearTimeout?clearTimeout:e}catch(y){w=e}var p=[],r=!1,t,u=-1;a.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new n(a,b));1!==p.length||r||h(d)};n.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=[];a.version="";a.versions={};a.on=m;a.addListener=m;a.once=m;a.off=m;a.removeListener=m;a.removeAllListeners=m;a.emit=m;a.binding=function(a){throw Error("process.binding is not supported");
};a.cwd=function(){return"/"};a.chdir=function(a){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],1029:[function(a,l,f){function c(){e.call(this)}l.exports=c;var e=a("events").EventEmitter;a("inherits")(c,e);c.Readable=a("readable-stream/readable.js");c.Writable=a("readable-stream/writable.js");c.Duplex=a("readable-stream/duplex.js");c.Transform=a("readable-stream/transform.js");c.PassThrough=a("readable-stream/passthrough.js");c.Stream=c;c.prototype.pipe=function(a,
b){function c(b){a.writable&&!1===a.write(b)&&p.pause&&p.pause()}function d(){p.readable&&p.resume&&p.resume()}function f(){r||(r=!0,a.end())}function h(){r||(r=!0,"function"===typeof a.destroy&&a.destroy())}function l(a){w();if(0===e.listenerCount(this,"error"))throw a;}function w(){p.removeListener("data",c);a.removeListener("drain",d);p.removeListener("end",f);p.removeListener("close",h);p.removeListener("error",l);a.removeListener("error",l);p.removeListener("end",w);p.removeListener("close",
w);a.removeListener("close",w)}var p=this;p.on("data",c);a.on("drain",d);a._isStdio||b&&!1===b.end||(p.on("end",f),p.on("close",h));var r=!1;p.on("error",l);a.on("error",l);p.on("end",w);p.on("close",w);a.on("close",w);a.emit("pipe",p);return a}},{events:1026,inherits:817,"readable-stream/duplex.js":1002,"readable-stream/passthrough.js":1009,"readable-stream/readable.js":1010,"readable-stream/transform.js":1011,"readable-stream/writable.js":1012}],1030:[function(a,l,f){arguments[4][1020][0].apply(f,
arguments)},{buffer:1025,dup:1020}]},{},[11]);
